(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function r(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=r(o);fetch(o.href,u)}})();function wv(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var R0={exports:{}},rc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pb;function fN(){if(pb)return rc;pb=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function r(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var g in o)g!=="key"&&(u[g]=o[g])}else u=o;return o=u.ref,{$$typeof:a,type:s,key:f,ref:o!==void 0?o:null,props:u}}return rc.Fragment=e,rc.jsx=r,rc.jsxs=r,rc}var yb;function mN(){return yb||(yb=1,R0.exports=fN()),R0.exports}var l=mN(),I0={exports:{}},De={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xb;function gN(){if(xb)return De;xb=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),S=Symbol.iterator;function V(D){return D===null||typeof D!="object"?null:(D=S&&D[S]||D["@@iterator"],typeof D=="function"?D:null)}var U={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ne=Object.assign,$={};function le(D,te,P){this.props=D,this.context=te,this.refs=$,this.updater=P||U}le.prototype.isReactComponent={},le.prototype.setState=function(D,te){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,te,"setState")},le.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function ee(){}ee.prototype=le.prototype;function X(D,te,P){this.props=D,this.context=te,this.refs=$,this.updater=P||U}var xe=X.prototype=new ee;xe.constructor=X,ne(xe,le.prototype),xe.isPureReactComponent=!0;var oe=Array.isArray;function F(){}var T={H:null,A:null,T:null,S:null},N=Object.prototype.hasOwnProperty;function j(D,te,P){var Z=P.ref;return{$$typeof:a,type:D,key:te,ref:Z!==void 0?Z:null,props:P}}function R(D,te){return j(D.type,te,D.props)}function I(D){return typeof D=="object"&&D!==null&&D.$$typeof===a}function M(D){var te={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(P){return te[P]})}var A=/\/+/g;function _e(D,te){return typeof D=="object"&&D!==null&&D.key!=null?M(""+D.key):te.toString(36)}function ze(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(F,F):(D.status="pending",D.then(function(te){D.status==="pending"&&(D.status="fulfilled",D.value=te)},function(te){D.status==="pending"&&(D.status="rejected",D.reason=te)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function W(D,te,P,Z,Q){var me=typeof D;(me==="undefined"||me==="boolean")&&(D=null);var Ee=!1;if(D===null)Ee=!0;else switch(me){case"bigint":case"string":case"number":Ee=!0;break;case"object":switch(D.$$typeof){case a:case e:Ee=!0;break;case w:return Ee=D._init,W(Ee(D._payload),te,P,Z,Q)}}if(Ee)return Q=Q(D),Ee=Z===""?"."+_e(D,0):Z,oe(Q)?(P="",Ee!=null&&(P=Ee.replace(A,"$&/")+"/"),W(Q,te,P,"",function(gt){return gt})):Q!=null&&(I(Q)&&(Q=R(Q,P+(Q.key==null||D&&D.key===Q.key?"":(""+Q.key).replace(A,"$&/")+"/")+Ee)),te.push(Q)),1;Ee=0;var nt=Z===""?".":Z+":";if(oe(D))for(var ve=0;ve<D.length;ve++)Z=D[ve],me=nt+_e(Z,ve),Ee+=W(Z,te,P,me,Q);else if(ve=V(D),typeof ve=="function")for(D=ve.call(D),ve=0;!(Z=D.next()).done;)Z=Z.value,me=nt+_e(Z,ve++),Ee+=W(Z,te,P,me,Q);else if(me==="object"){if(typeof D.then=="function")return W(ze(D),te,P,Z,Q);throw te=String(D),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return Ee}function ce(D,te,P){if(D==null)return D;var Z=[],Q=0;return W(D,Z,"","",function(me){return te.call(P,me,Q++)}),Z}function ye(D){if(D._status===-1){var te=D._result;te=te(),te.then(function(P){(D._status===0||D._status===-1)&&(D._status=1,D._result=P)},function(P){(D._status===0||D._status===-1)&&(D._status=2,D._result=P)}),D._status===-1&&(D._status=0,D._result=te)}if(D._status===1)return D._result.default;throw D._result}var Me=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)},Ie={map:ce,forEach:function(D,te,P){ce(D,function(){te.apply(this,arguments)},P)},count:function(D){var te=0;return ce(D,function(){te++}),te},toArray:function(D){return ce(D,function(te){return te})||[]},only:function(D){if(!I(D))throw Error("React.Children.only expected to receive a single React element child.");return D}};return De.Activity=_,De.Children=Ie,De.Component=le,De.Fragment=r,De.Profiler=o,De.PureComponent=X,De.StrictMode=s,De.Suspense=p,De.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=T,De.__COMPILER_RUNTIME={__proto__:null,c:function(D){return T.H.useMemoCache(D)}},De.cache=function(D){return function(){return D.apply(null,arguments)}},De.cacheSignal=function(){return null},De.cloneElement=function(D,te,P){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var Z=ne({},D.props),Q=D.key;if(te!=null)for(me in te.key!==void 0&&(Q=""+te.key),te)!N.call(te,me)||me==="key"||me==="__self"||me==="__source"||me==="ref"&&te.ref===void 0||(Z[me]=te[me]);var me=arguments.length-2;if(me===1)Z.children=P;else if(1<me){for(var Ee=Array(me),nt=0;nt<me;nt++)Ee[nt]=arguments[nt+2];Z.children=Ee}return j(D.type,Q,Z)},De.createContext=function(D){return D={$$typeof:f,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:u,_context:D},D},De.createElement=function(D,te,P){var Z,Q={},me=null;if(te!=null)for(Z in te.key!==void 0&&(me=""+te.key),te)N.call(te,Z)&&Z!=="key"&&Z!=="__self"&&Z!=="__source"&&(Q[Z]=te[Z]);var Ee=arguments.length-2;if(Ee===1)Q.children=P;else if(1<Ee){for(var nt=Array(Ee),ve=0;ve<Ee;ve++)nt[ve]=arguments[ve+2];Q.children=nt}if(D&&D.defaultProps)for(Z in Ee=D.defaultProps,Ee)Q[Z]===void 0&&(Q[Z]=Ee[Z]);return j(D,me,Q)},De.createRef=function(){return{current:null}},De.forwardRef=function(D){return{$$typeof:g,render:D}},De.isValidElement=I,De.lazy=function(D){return{$$typeof:w,_payload:{_status:-1,_result:D},_init:ye}},De.memo=function(D,te){return{$$typeof:y,type:D,compare:te===void 0?null:te}},De.startTransition=function(D){var te=T.T,P={};T.T=P;try{var Z=D(),Q=T.S;Q!==null&&Q(P,Z),typeof Z=="object"&&Z!==null&&typeof Z.then=="function"&&Z.then(F,Me)}catch(me){Me(me)}finally{te!==null&&P.types!==null&&(te.types=P.types),T.T=te}},De.unstable_useCacheRefresh=function(){return T.H.useCacheRefresh()},De.use=function(D){return T.H.use(D)},De.useActionState=function(D,te,P){return T.H.useActionState(D,te,P)},De.useCallback=function(D,te){return T.H.useCallback(D,te)},De.useContext=function(D){return T.H.useContext(D)},De.useDebugValue=function(){},De.useDeferredValue=function(D,te){return T.H.useDeferredValue(D,te)},De.useEffect=function(D,te){return T.H.useEffect(D,te)},De.useEffectEvent=function(D){return T.H.useEffectEvent(D)},De.useId=function(){return T.H.useId()},De.useImperativeHandle=function(D,te,P){return T.H.useImperativeHandle(D,te,P)},De.useInsertionEffect=function(D,te){return T.H.useInsertionEffect(D,te)},De.useLayoutEffect=function(D,te){return T.H.useLayoutEffect(D,te)},De.useMemo=function(D,te){return T.H.useMemo(D,te)},De.useOptimistic=function(D,te){return T.H.useOptimistic(D,te)},De.useReducer=function(D,te,P){return T.H.useReducer(D,te,P)},De.useRef=function(D){return T.H.useRef(D)},De.useState=function(D){return T.H.useState(D)},De.useSyncExternalStore=function(D,te,P){return T.H.useSyncExternalStore(D,te,P)},De.useTransition=function(){return T.H.useTransition()},De.version="19.2.0",De}var bb;function Hm(){return bb||(bb=1,I0.exports=gN()),I0.exports}var Y=Hm();const _v=wv(Y);var D0={exports:{}},nc={},O0={exports:{}},M0={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vb;function pN(){return vb||(vb=1,(function(a){function e(W,ce){var ye=W.length;W.push(ce);e:for(;0<ye;){var Me=ye-1>>>1,Ie=W[Me];if(0<o(Ie,ce))W[Me]=ce,W[ye]=Ie,ye=Me;else break e}}function r(W){return W.length===0?null:W[0]}function s(W){if(W.length===0)return null;var ce=W[0],ye=W.pop();if(ye!==ce){W[0]=ye;e:for(var Me=0,Ie=W.length,D=Ie>>>1;Me<D;){var te=2*(Me+1)-1,P=W[te],Z=te+1,Q=W[Z];if(0>o(P,ye))Z<Ie&&0>o(Q,P)?(W[Me]=Q,W[Z]=ye,Me=Z):(W[Me]=P,W[te]=ye,Me=te);else if(Z<Ie&&0>o(Q,ye))W[Me]=Q,W[Z]=ye,Me=Z;else break e}}return ce}function o(W,ce){var ye=W.sortIndex-ce.sortIndex;return ye!==0?ye:W.id-ce.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;a.unstable_now=function(){return u.now()}}else{var f=Date,g=f.now();a.unstable_now=function(){return f.now()-g}}var p=[],y=[],w=1,_=null,S=3,V=!1,U=!1,ne=!1,$=!1,le=typeof setTimeout=="function"?setTimeout:null,ee=typeof clearTimeout=="function"?clearTimeout:null,X=typeof setImmediate<"u"?setImmediate:null;function xe(W){for(var ce=r(y);ce!==null;){if(ce.callback===null)s(y);else if(ce.startTime<=W)s(y),ce.sortIndex=ce.expirationTime,e(p,ce);else break;ce=r(y)}}function oe(W){if(ne=!1,xe(W),!U)if(r(p)!==null)U=!0,F||(F=!0,M());else{var ce=r(y);ce!==null&&ze(oe,ce.startTime-W)}}var F=!1,T=-1,N=5,j=-1;function R(){return $?!0:!(a.unstable_now()-j<N)}function I(){if($=!1,F){var W=a.unstable_now();j=W;var ce=!0;try{e:{U=!1,ne&&(ne=!1,ee(T),T=-1),V=!0;var ye=S;try{t:{for(xe(W),_=r(p);_!==null&&!(_.expirationTime>W&&R());){var Me=_.callback;if(typeof Me=="function"){_.callback=null,S=_.priorityLevel;var Ie=Me(_.expirationTime<=W);if(W=a.unstable_now(),typeof Ie=="function"){_.callback=Ie,xe(W),ce=!0;break t}_===r(p)&&s(p),xe(W)}else s(p);_=r(p)}if(_!==null)ce=!0;else{var D=r(y);D!==null&&ze(oe,D.startTime-W),ce=!1}}break e}finally{_=null,S=ye,V=!1}ce=void 0}}finally{ce?M():F=!1}}}var M;if(typeof X=="function")M=function(){X(I)};else if(typeof MessageChannel<"u"){var A=new MessageChannel,_e=A.port2;A.port1.onmessage=I,M=function(){_e.postMessage(null)}}else M=function(){le(I,0)};function ze(W,ce){T=le(function(){W(a.unstable_now())},ce)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(W){W.callback=null},a.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<W?Math.floor(1e3/W):5},a.unstable_getCurrentPriorityLevel=function(){return S},a.unstable_next=function(W){switch(S){case 1:case 2:case 3:var ce=3;break;default:ce=S}var ye=S;S=ce;try{return W()}finally{S=ye}},a.unstable_requestPaint=function(){$=!0},a.unstable_runWithPriority=function(W,ce){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var ye=S;S=W;try{return ce()}finally{S=ye}},a.unstable_scheduleCallback=function(W,ce,ye){var Me=a.unstable_now();switch(typeof ye=="object"&&ye!==null?(ye=ye.delay,ye=typeof ye=="number"&&0<ye?Me+ye:Me):ye=Me,W){case 1:var Ie=-1;break;case 2:Ie=250;break;case 5:Ie=1073741823;break;case 4:Ie=1e4;break;default:Ie=5e3}return Ie=ye+Ie,W={id:w++,callback:ce,priorityLevel:W,startTime:ye,expirationTime:Ie,sortIndex:-1},ye>Me?(W.sortIndex=ye,e(y,W),r(p)===null&&W===r(y)&&(ne?(ee(T),T=-1):ne=!0,ze(oe,ye-Me))):(W.sortIndex=Ie,e(p,W),U||V||(U=!0,F||(F=!0,M()))),W},a.unstable_shouldYield=R,a.unstable_wrapCallback=function(W){var ce=S;return function(){var ye=S;S=ce;try{return W.apply(this,arguments)}finally{S=ye}}}})(M0)),M0}var wb;function yN(){return wb||(wb=1,O0.exports=pN()),O0.exports}var V0={exports:{}},hr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _b;function xN(){if(_b)return hr;_b=1;var a=Hm();function e(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var w=2;w<arguments.length;w++)y+="&args[]="+encodeURIComponent(arguments[w])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var s={d:{f:r,r:function(){throw Error(e(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,y,w){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:_==null?null:""+_,children:p,containerInfo:y,implementation:w}}var f=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return hr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,hr.createPortal=function(p,y){var w=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return u(p,y,null,w)},hr.flushSync=function(p){var y=f.T,w=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=y,s.p=w,s.d.f()}},hr.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(p,y))},hr.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},hr.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var w=y.as,_=g(w,y.crossOrigin),S=typeof y.integrity=="string"?y.integrity:void 0,V=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;w==="style"?s.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:_,integrity:S,fetchPriority:V}):w==="script"&&s.d.X(p,{crossOrigin:_,integrity:S,fetchPriority:V,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},hr.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var w=g(y.as,y.crossOrigin);s.d.M(p,{crossOrigin:w,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(p)},hr.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var w=y.as,_=g(w,y.crossOrigin);s.d.L(p,w,{crossOrigin:_,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},hr.preloadModule=function(p,y){if(typeof p=="string")if(y){var w=g(y.as,y.crossOrigin);s.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:w,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(p)},hr.requestFormReset=function(p){s.d.r(p)},hr.unstable_batchedUpdates=function(p,y){return p(y)},hr.useFormState=function(p,y,w){return f.H.useFormState(p,y,w)},hr.useFormStatus=function(){return f.H.useHostTransitionStatus()},hr.version="19.2.0",hr}var kb;function bN(){if(kb)return V0.exports;kb=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),V0.exports=xN(),V0.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nb;function vN(){if(Nb)return nc;Nb=1;var a=yN(),e=Hm(),r=bN();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)n+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var n=t,i=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(i=n.return),t=n.return;while(t)}return n.tag===3?i:null}function f(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function p(t){if(u(t)!==t)throw Error(s(188))}function y(t){var n=t.alternate;if(!n){if(n=u(t),n===null)throw Error(s(188));return n!==t?null:t}for(var i=t,c=n;;){var h=i.return;if(h===null)break;var m=h.alternate;if(m===null){if(c=h.return,c!==null){i=c;continue}break}if(h.child===m.child){for(m=h.child;m;){if(m===i)return p(h),t;if(m===c)return p(h),n;m=m.sibling}throw Error(s(188))}if(i.return!==c.return)i=h,c=m;else{for(var b=!1,k=h.child;k;){if(k===i){b=!0,i=h,c=m;break}if(k===c){b=!0,c=h,i=m;break}k=k.sibling}if(!b){for(k=m.child;k;){if(k===i){b=!0,i=m,c=h;break}if(k===c){b=!0,c=m,i=h;break}k=k.sibling}if(!b)throw Error(s(189))}}if(i.alternate!==c)throw Error(s(190))}if(i.tag!==3)throw Error(s(188));return i.stateNode.current===i?t:n}function w(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=w(t),n!==null)return n;t=t.sibling}return null}var _=Object.assign,S=Symbol.for("react.element"),V=Symbol.for("react.transitional.element"),U=Symbol.for("react.portal"),ne=Symbol.for("react.fragment"),$=Symbol.for("react.strict_mode"),le=Symbol.for("react.profiler"),ee=Symbol.for("react.consumer"),X=Symbol.for("react.context"),xe=Symbol.for("react.forward_ref"),oe=Symbol.for("react.suspense"),F=Symbol.for("react.suspense_list"),T=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),j=Symbol.for("react.activity"),R=Symbol.for("react.memo_cache_sentinel"),I=Symbol.iterator;function M(t){return t===null||typeof t!="object"?null:(t=I&&t[I]||t["@@iterator"],typeof t=="function"?t:null)}var A=Symbol.for("react.client.reference");function _e(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===A?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ne:return"Fragment";case le:return"Profiler";case $:return"StrictMode";case oe:return"Suspense";case F:return"SuspenseList";case j:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case U:return"Portal";case X:return t.displayName||"Context";case ee:return(t._context.displayName||"Context")+".Consumer";case xe:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case T:return n=t.displayName||null,n!==null?n:_e(t.type)||"Memo";case N:n=t._payload,t=t._init;try{return _e(t(n))}catch{}}return null}var ze=Array.isArray,W=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ye={pending:!1,data:null,method:null,action:null},Me=[],Ie=-1;function D(t){return{current:t}}function te(t){0>Ie||(t.current=Me[Ie],Me[Ie]=null,Ie--)}function P(t,n){Ie++,Me[Ie]=t.current,t.current=n}var Z=D(null),Q=D(null),me=D(null),Ee=D(null);function nt(t,n){switch(P(me,n),P(Q,t),P(Z,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?zx(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=zx(n),t=Ux(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}te(Z),P(Z,t)}function ve(){te(Z),te(Q),te(me)}function gt(t){t.memoizedState!==null&&P(Ee,t);var n=Z.current,i=Ux(n,t.type);n!==i&&(P(Q,t),P(Z,i))}function Fr(t){Q.current===t&&(te(Z),te(Q)),Ee.current===t&&(te(Ee),Zo._currentValue=ye)}var er,Kt;function Yt(t){if(er===void 0)try{throw Error()}catch(i){var n=i.stack.trim().match(/\n( *(at )?)/);er=n&&n[1]||"",Kt=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+er+t+Kt}var Cn=!1;function Gr(t,n){if(!t||Cn)return"";Cn=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(n){var se=function(){throw Error()};if(Object.defineProperty(se.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(se,[])}catch(K){var H=K}Reflect.construct(t,[],se)}else{try{se.call()}catch(K){H=K}t.call(se.prototype)}}else{try{throw Error()}catch(K){H=K}(se=t())&&typeof se.catch=="function"&&se.catch(function(){})}}catch(K){if(K&&H&&typeof K.stack=="string")return[K.stack,H.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=c.DetermineComponentFrameRoot(),b=m[0],k=m[1];if(b&&k){var C=b.split(`
`),q=k.split(`
`);for(h=c=0;c<C.length&&!C[c].includes("DetermineComponentFrameRoot");)c++;for(;h<q.length&&!q[h].includes("DetermineComponentFrameRoot");)h++;if(c===C.length||h===q.length)for(c=C.length-1,h=q.length-1;1<=c&&0<=h&&C[c]!==q[h];)h--;for(;1<=c&&0<=h;c--,h--)if(C[c]!==q[h]){if(c!==1||h!==1)do if(c--,h--,0>h||C[c]!==q[h]){var J=`
`+C[c].replace(" at new "," at ");return t.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",t.displayName)),J}while(1<=c&&0<=h);break}}}finally{Cn=!1,Error.prepareStackTrace=i}return(i=t?t.displayName||t.name:"")?Yt(i):""}function dn(t,n){switch(t.tag){case 26:case 27:case 5:return Yt(t.type);case 16:return Yt("Lazy");case 13:return t.child!==n&&n!==null?Yt("Suspense Fallback"):Yt("Suspense");case 19:return Yt("SuspenseList");case 0:case 15:return Gr(t.type,!1);case 11:return Gr(t.type.render,!1);case 1:return Gr(t.type,!0);case 31:return Yt("Activity");default:return""}}function Bs(t){try{var n="",i=null;do n+=dn(t,i),i=t,t=t.return;while(t);return n}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var _t=Object.prototype.hasOwnProperty,jt=a.unstable_scheduleCallback,Rr=a.unstable_cancelCallback,to=a.unstable_shouldYield,qs=a.unstable_requestPaint,tr=a.unstable_now,oa=a.unstable_getCurrentPriorityLevel,Hs=a.unstable_ImmediatePriority,Fs=a.unstable_UserBlockingPriority,ge=a.unstable_NormalPriority,Ce=a.unstable_LowPriority,Ae=a.unstable_IdlePriority,he=a.log,Ve=a.unstable_setDisableYieldValue,Fe=null,We=null;function Ht(t){if(typeof he=="function"&&Ve(t),We&&typeof We.setStrictMode=="function")try{We.setStrictMode(Fe,t)}catch{}}var Be=Math.clz32?Math.clz32:hn,ft=Math.log,dr=Math.LN2;function hn(t){return t>>>=0,t===0?32:31-(ft(t)/dr|0)|0}var Ir=256,Gs=262144,It=4194304;function Rn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function In(t,n,i){var c=t.pendingLanes;if(c===0)return 0;var h=0,m=t.suspendedLanes,b=t.pingedLanes;t=t.warmLanes;var k=c&134217727;return k!==0?(c=k&~m,c!==0?h=Rn(c):(b&=k,b!==0?h=Rn(b):i||(i=k&~t,i!==0&&(h=Rn(i))))):(k=c&~m,k!==0?h=Rn(k):b!==0?h=Rn(b):i||(i=c&~t,i!==0&&(h=Rn(i)))),h===0?0:n!==0&&n!==h&&(n&m)===0&&(m=h&-h,i=n&-n,m>=i||m===32&&(i&4194048)!==0)?n:h}function fn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Oh(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $c(){var t=It;return It<<=1,(It&62914560)===0&&(It=4194304),t}function Dn(t){for(var n=[],i=0;31>i;i++)n.push(t);return n}function $s(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Mh(t,n,i,c,h,m){var b=t.pendingLanes;t.pendingLanes=i,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=i,t.entangledLanes&=i,t.errorRecoveryDisabledLanes&=i,t.shellSuspendCounter=0;var k=t.entanglements,C=t.expirationTimes,q=t.hiddenUpdates;for(i=b&~i;0<i;){var J=31-Be(i),se=1<<J;k[J]=0,C[J]=-1;var H=q[J];if(H!==null)for(q[J]=null,J=0;J<H.length;J++){var K=H[J];K!==null&&(K.lane&=-536870913)}i&=~se}c!==0&&Qs(t,c,0),m!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=m&~(b&~n))}function Qs(t,n,i){t.pendingLanes|=n,t.suspendedLanes&=~n;var c=31-Be(n);t.entangledLanes|=n,t.entanglements[c]=t.entanglements[c]|1073741824|i&261930}function ro(t,n){var i=t.entangledLanes|=n;for(t=t.entanglements;i;){var c=31-Be(i),h=1<<c;h&n|t[c]&n&&(t[c]|=n),i&=~h}}function no(t,n){var i=n&-n;return i=(i&42)!==0?1:Ks(i),(i&(t.suspendedLanes|n))!==0?0:i}function Ks(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ca(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Qc(){var t=ce.p;return t!==0?t:(t=window.event,t===void 0?32:cb(t.type))}function mn(t,n){var i=ce.p;try{return ce.p=t,n()}finally{ce.p=i}}var gn=Math.random().toString(36).slice(2),Dt="__reactFiber$"+gn,Xt="__reactProps$"+gn,On="__reactContainer$"+gn,qi="__reactEvents$"+gn,Vh="__reactListeners$"+gn,Kc="__reactHandles$"+gn,Yc="__reactResources$"+gn,Mn="__reactMarker$"+gn;function Hi(t){delete t[Dt],delete t[Xt],delete t[qi],delete t[Vh],delete t[Kc]}function Vn(t){var n=t[Dt];if(n)return n;for(var i=t.parentNode;i;){if(n=i[On]||i[Dt]){if(i=n.alternate,n.child!==null||i!==null&&i.child!==null)for(t=Qx(t);t!==null;){if(i=t[Dt])return i;t=Qx(t)}return n}t=i,i=t.parentNode}return null}function $r(t){if(t=t[Dt]||t[On]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function Dr(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function Ln(t){var n=t[Yc];return n||(n=t[Yc]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ot(t){t[Mn]=!0}var ao=new Set,so={};function Pn(t,n){zn(t,n),zn(t+"Capture",n)}function zn(t,n){for(so[t]=n,t=0;t<n.length;t++)ao.add(n[t])}var io=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),lo={},oo={};function Xc(t){return _t.call(oo,t)?!0:_t.call(lo,t)?!1:io.test(t)?oo[t]=!0:(lo[t]=!0,!1)}function Fi(t,n,i){if(Xc(n))if(i===null)t.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var c=n.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+i)}}function Or(t,n,i){if(i===null)t.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+i)}}function Mt(t,n,i,c){if(c===null)t.removeAttribute(i);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttributeNS(n,i,""+c)}}function Wt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ua(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function co(t,n,i){var c=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var h=c.get,m=c.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(b){i=""+b,m.call(this,b)}}),Object.defineProperty(t,n,{enumerable:c.enumerable}),{getValue:function(){return i},setValue:function(b){i=""+b},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function st(t){if(!t._valueTracker){var n=Ua(t)?"checked":"value";t._valueTracker=co(t,n,""+t[n])}}function Ys(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var i=n.getValue(),c="";return t&&(c=Ua(t)?t.checked?"true":"false":t.value),t=c,t!==i?(n.setValue(t),!0):!1}function Un(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Xs=/[\n"\\]/g;function wr(t){return t.replace(Xs,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Gi(t,n,i,c,h,m,b,k){t.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.type=b:t.removeAttribute("type"),n!=null?b==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Wt(n)):t.value!==""+Wt(n)&&(t.value=""+Wt(n)):b!=="submit"&&b!=="reset"||t.removeAttribute("value"),n!=null?uo(t,b,Wt(n)):i!=null?uo(t,b,Wt(i)):c!=null&&t.removeAttribute("value"),h==null&&m!=null&&(t.defaultChecked=!!m),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?t.name=""+Wt(k):t.removeAttribute("name")}function Wc(t,n,i,c,h,m,b,k){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(t.type=m),n!=null||i!=null){if(!(m!=="submit"&&m!=="reset"||n!=null)){st(t);return}i=i!=null?""+Wt(i):"",n=n!=null?""+Wt(n):i,k||n===t.value||(t.value=n),t.defaultValue=n}c=c??h,c=typeof c!="function"&&typeof c!="symbol"&&!!c,t.checked=k?t.checked:!!c,t.defaultChecked=!!c,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(t.name=b),st(t)}function uo(t,n,i){n==="number"&&Un(t.ownerDocument)===t||t.defaultValue===""+i||(t.defaultValue=""+i)}function Ba(t,n,i,c){if(t=t.options,n){n={};for(var h=0;h<i.length;h++)n["$"+i[h]]=!0;for(i=0;i<t.length;i++)h=n.hasOwnProperty("$"+t[i].value),t[i].selected!==h&&(t[i].selected=h),h&&c&&(t[i].defaultSelected=!0)}else{for(i=""+Wt(i),n=null,h=0;h<t.length;h++){if(t[h].value===i){t[h].selected=!0,c&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function Zc(t,n,i){if(n!=null&&(n=""+Wt(n),n!==t.value&&(t.value=n),i==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=i!=null?""+Wt(i):""}function qa(t,n,i,c){if(n==null){if(c!=null){if(i!=null)throw Error(s(92));if(ze(c)){if(1<c.length)throw Error(s(93));c=c[0]}i=c}i==null&&(i=""),n=i}i=Wt(n),t.defaultValue=i,c=t.textContent,c===i&&c!==""&&c!==null&&(t.value=c),st(t)}function _r(t,n){if(n){var i=t.firstChild;if(i&&i===t.lastChild&&i.nodeType===3){i.nodeValue=n;return}}t.textContent=n}var Jc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ho(t,n,i){var c=n.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?c?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":c?t.setProperty(n,i):typeof i!="number"||i===0||Jc.has(n)?n==="float"?t.cssFloat=i:t[n]=(""+i).trim():t[n]=i+"px"}function fo(t,n,i){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,i!=null){for(var c in i)!i.hasOwnProperty(c)||n!=null&&n.hasOwnProperty(c)||(c.indexOf("--")===0?t.setProperty(c,""):c==="float"?t.cssFloat="":t[c]="");for(var h in n)c=n[h],n.hasOwnProperty(h)&&i[h]!==c&&ho(t,h,c)}else for(var m in n)n.hasOwnProperty(m)&&ho(t,m,n[m])}function $i(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var eu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ha=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Qi(t){return Ha.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function pn(){}var mo=null;function Qr(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Fa=null,Bn=null;function Ws(t){var n=$r(t);if(n&&(t=n.stateNode)){var i=t[Xt]||null;e:switch(t=n.stateNode,n.type){case"input":if(Gi(t,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),n=i.name,i.type==="radio"&&n!=null){for(i=t;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+wr(""+n)+'"][type="radio"]'),n=0;n<i.length;n++){var c=i[n];if(c!==t&&c.form===t.form){var h=c[Xt]||null;if(!h)throw Error(s(90));Gi(c,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<i.length;n++)c=i[n],c.form===t.form&&Ys(c)}break e;case"textarea":Zc(t,i.value,i.defaultValue);break e;case"select":n=i.value,n!=null&&Ba(t,!!i.multiple,n,!1)}}}var Ki=!1;function Ga(t,n,i){if(Ki)return t(n,i);Ki=!0;try{var c=t(n);return c}finally{if(Ki=!1,(Fa!==null||Bn!==null)&&(Qu(),Fa&&(n=Fa,t=Bn,Bn=Fa=null,Ws(n),t)))for(n=0;n<t.length;n++)Ws(t[n])}}function yn(t,n){var i=t.stateNode;if(i===null)return null;var c=i[Xt]||null;if(c===null)return null;i=c[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(t=t.type,c=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!c;break e;default:t=!1}if(t)return null;if(i&&typeof i!="function")throw Error(s(231,n,typeof i));return i}var Kr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Zs=!1;if(Kr)try{var ot={};Object.defineProperty(ot,"passive",{get:function(){Zs=!0}}),window.addEventListener("test",ot,ot),window.removeEventListener("test",ot,ot)}catch{Zs=!1}var qn=null,go=null,Js=null;function po(){if(Js)return Js;var t,n=go,i=n.length,c,h="value"in qn?qn.value:qn.textContent,m=h.length;for(t=0;t<i&&n[t]===h[t];t++);var b=i-t;for(c=1;c<=b&&n[i-c]===h[m-c];c++);return Js=h.slice(t,1<c?1-c:void 0)}function ei(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function ua(){return!0}function xn(){return!1}function rr(t){function n(i,c,h,m,b){this._reactName=i,this._targetInst=h,this.type=c,this.nativeEvent=m,this.target=b,this.currentTarget=null;for(var k in t)t.hasOwnProperty(k)&&(i=t[k],this[k]=i?i(m):m[k]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?ua:xn,this.isPropagationStopped=xn,this}return _(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=ua)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=ua)},persist:function(){},isPersistent:ua}),n}var da={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Hn=rr(da),$a=_({},da,{view:0,detail:0}),yo=rr($a),Qa,Yi,Fn,Xi=_({},$a,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ka,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Fn&&(Fn&&t.type==="mousemove"?(Qa=t.screenX-Fn.screenX,Yi=t.screenY-Fn.screenY):Yi=Qa=0,Fn=t),Qa)},movementY:function(t){return"movementY"in t?t.movementY:Yi}}),xo=rr(Xi),ti=_({},Xi,{dataTransfer:0}),tu=rr(ti),ru=_({},$a,{relatedTarget:0}),ri=rr(ru),bo=_({},da,{animationName:0,elapsedTime:0,pseudoElement:0}),nu=rr(bo),Wi=_({},da,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),au=rr(Wi),su=_({},da,{data:0}),Gn=rr(su),iu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ou={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cu(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=ou[t])?!!n[t]:!1}function Ka(){return cu}var yr=_({},$a,{key:function(t){if(t.key){var n=iu[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=ei(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?lu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ka,charCode:function(t){return t.type==="keypress"?ei(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ei(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),uu=rr(yr),du=_({},Xi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ha=rr(du),d=_({},$a,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ka}),x=rr(d),v=_({},da,{propertyName:0,elapsedTime:0,pseudoElement:0}),E=rr(v),z=_({},Xi,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),G=rr(z),de=_({},da,{newState:0,oldState:0}),Le=rr(de),St=[9,13,27,32],tt=Kr&&"CompositionEvent"in window,bt=null;Kr&&"documentMode"in document&&(bt=document.documentMode);var Yr=Kr&&"TextEvent"in window&&!bt,$n=Kr&&(!tt||bt&&8<bt&&11>=bt),bn=" ",vn=!1;function ni(t,n){switch(t){case"keyup":return St.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Zi(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ji=!1;function L_(t,n){switch(t){case"compositionend":return Zi(n);case"keypress":return n.which!==32?null:(vn=!0,bn);case"textInput":return t=n.data,t===bn&&vn?null:t;default:return null}}function P_(t,n){if(Ji)return t==="compositionend"||!tt&&ni(t,n)?(t=po(),Js=go=qn=null,Ji=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return $n&&n.locale!=="ko"?null:n.data;default:return null}}var z_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Xg(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!z_[t.type]:n==="textarea"}function Wg(t,n,i,c){Fa?Bn?Bn.push(c):Bn=[c]:Fa=c,n=ed(n,"onChange"),0<n.length&&(i=new Hn("onChange","change",null,i,c),t.push({event:i,listeners:n}))}var vo=null,wo=null;function U_(t){Dx(t,0)}function hu(t){var n=Dr(t);if(Ys(n))return t}function Zg(t,n){if(t==="change")return n}var Jg=!1;if(Kr){var Lh;if(Kr){var Ph="oninput"in document;if(!Ph){var ep=document.createElement("div");ep.setAttribute("oninput","return;"),Ph=typeof ep.oninput=="function"}Lh=Ph}else Lh=!1;Jg=Lh&&(!document.documentMode||9<document.documentMode)}function tp(){vo&&(vo.detachEvent("onpropertychange",rp),wo=vo=null)}function rp(t){if(t.propertyName==="value"&&hu(wo)){var n=[];Wg(n,wo,t,Qr(t)),Ga(U_,n)}}function B_(t,n,i){t==="focusin"?(tp(),vo=n,wo=i,vo.attachEvent("onpropertychange",rp)):t==="focusout"&&tp()}function q_(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return hu(wo)}function H_(t,n){if(t==="click")return hu(n)}function F_(t,n){if(t==="input"||t==="change")return hu(n)}function G_(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var Mr=typeof Object.is=="function"?Object.is:G_;function _o(t,n){if(Mr(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var i=Object.keys(t),c=Object.keys(n);if(i.length!==c.length)return!1;for(c=0;c<i.length;c++){var h=i[c];if(!_t.call(n,h)||!Mr(t[h],n[h]))return!1}return!0}function np(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ap(t,n){var i=np(t);t=0;for(var c;i;){if(i.nodeType===3){if(c=t+i.textContent.length,t<=n&&c>=n)return{node:i,offset:n-t};t=c}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=np(i)}}function sp(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?sp(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function ip(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Un(t.document);n instanceof t.HTMLIFrameElement;){try{var i=typeof n.contentWindow.location.href=="string"}catch{i=!1}if(i)t=n.contentWindow;else break;n=Un(t.document)}return n}function zh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var $_=Kr&&"documentMode"in document&&11>=document.documentMode,el=null,Uh=null,ko=null,Bh=!1;function lp(t,n,i){var c=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;Bh||el==null||el!==Un(c)||(c=el,"selectionStart"in c&&zh(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),ko&&_o(ko,c)||(ko=c,c=ed(Uh,"onSelect"),0<c.length&&(n=new Hn("onSelect","select",null,n,i),t.push({event:n,listeners:c}),n.target=el)))}function ai(t,n){var i={};return i[t.toLowerCase()]=n.toLowerCase(),i["Webkit"+t]="webkit"+n,i["Moz"+t]="moz"+n,i}var tl={animationend:ai("Animation","AnimationEnd"),animationiteration:ai("Animation","AnimationIteration"),animationstart:ai("Animation","AnimationStart"),transitionrun:ai("Transition","TransitionRun"),transitionstart:ai("Transition","TransitionStart"),transitioncancel:ai("Transition","TransitionCancel"),transitionend:ai("Transition","TransitionEnd")},qh={},op={};Kr&&(op=document.createElement("div").style,"AnimationEvent"in window||(delete tl.animationend.animation,delete tl.animationiteration.animation,delete tl.animationstart.animation),"TransitionEvent"in window||delete tl.transitionend.transition);function si(t){if(qh[t])return qh[t];if(!tl[t])return t;var n=tl[t],i;for(i in n)if(n.hasOwnProperty(i)&&i in op)return qh[t]=n[i];return t}var cp=si("animationend"),up=si("animationiteration"),dp=si("animationstart"),Q_=si("transitionrun"),K_=si("transitionstart"),Y_=si("transitioncancel"),hp=si("transitionend"),fp=new Map,Hh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Hh.push("scrollEnd");function wn(t,n){fp.set(t,n),Pn(n,[t])}var fu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Xr=[],rl=0,Fh=0;function mu(){for(var t=rl,n=Fh=rl=0;n<t;){var i=Xr[n];Xr[n++]=null;var c=Xr[n];Xr[n++]=null;var h=Xr[n];Xr[n++]=null;var m=Xr[n];if(Xr[n++]=null,c!==null&&h!==null){var b=c.pending;b===null?h.next=h:(h.next=b.next,b.next=h),c.pending=h}m!==0&&mp(i,h,m)}}function gu(t,n,i,c){Xr[rl++]=t,Xr[rl++]=n,Xr[rl++]=i,Xr[rl++]=c,Fh|=c,t.lanes|=c,t=t.alternate,t!==null&&(t.lanes|=c)}function Gh(t,n,i,c){return gu(t,n,i,c),pu(t)}function ii(t,n){return gu(t,null,null,n),pu(t)}function mp(t,n,i){t.lanes|=i;var c=t.alternate;c!==null&&(c.lanes|=i);for(var h=!1,m=t.return;m!==null;)m.childLanes|=i,c=m.alternate,c!==null&&(c.childLanes|=i),m.tag===22&&(t=m.stateNode,t===null||t._visibility&1||(h=!0)),t=m,m=m.return;return t.tag===3?(m=t.stateNode,h&&n!==null&&(h=31-Be(i),t=m.hiddenUpdates,c=t[h],c===null?t[h]=[n]:c.push(n),n.lane=i|536870912),m):null}function pu(t){if(50<Go)throw Go=0,t0=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var nl={};function X_(t,n,i,c){this.tag=t,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vr(t,n,i,c){return new X_(t,n,i,c)}function $h(t){return t=t.prototype,!(!t||!t.isReactComponent)}function fa(t,n){var i=t.alternate;return i===null?(i=Vr(t.tag,n,t.key,t.mode),i.elementType=t.elementType,i.type=t.type,i.stateNode=t.stateNode,i.alternate=t,t.alternate=i):(i.pendingProps=n,i.type=t.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=t.flags&65011712,i.childLanes=t.childLanes,i.lanes=t.lanes,i.child=t.child,i.memoizedProps=t.memoizedProps,i.memoizedState=t.memoizedState,i.updateQueue=t.updateQueue,n=t.dependencies,i.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},i.sibling=t.sibling,i.index=t.index,i.ref=t.ref,i.refCleanup=t.refCleanup,i}function gp(t,n){t.flags&=65011714;var i=t.alternate;return i===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=i.childLanes,t.lanes=i.lanes,t.child=i.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=i.memoizedProps,t.memoizedState=i.memoizedState,t.updateQueue=i.updateQueue,t.type=i.type,n=i.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function yu(t,n,i,c,h,m){var b=0;if(c=t,typeof t=="function")$h(t)&&(b=1);else if(typeof t=="string")b=tN(t,i,Z.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case j:return t=Vr(31,i,n,h),t.elementType=j,t.lanes=m,t;case ne:return li(i.children,h,m,n);case $:b=8,h|=24;break;case le:return t=Vr(12,i,n,h|2),t.elementType=le,t.lanes=m,t;case oe:return t=Vr(13,i,n,h),t.elementType=oe,t.lanes=m,t;case F:return t=Vr(19,i,n,h),t.elementType=F,t.lanes=m,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case X:b=10;break e;case ee:b=9;break e;case xe:b=11;break e;case T:b=14;break e;case N:b=16,c=null;break e}b=29,i=Error(s(130,t===null?"null":typeof t,"")),c=null}return n=Vr(b,i,n,h),n.elementType=t,n.type=c,n.lanes=m,n}function li(t,n,i,c){return t=Vr(7,t,c,n),t.lanes=i,t}function Qh(t,n,i){return t=Vr(6,t,null,n),t.lanes=i,t}function pp(t){var n=Vr(18,null,null,0);return n.stateNode=t,n}function Kh(t,n,i){return n=Vr(4,t.children!==null?t.children:[],t.key,n),n.lanes=i,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var yp=new WeakMap;function Wr(t,n){if(typeof t=="object"&&t!==null){var i=yp.get(t);return i!==void 0?i:(n={value:t,source:n,stack:Bs(n)},yp.set(t,n),n)}return{value:t,source:n,stack:Bs(n)}}var al=[],sl=0,xu=null,No=0,Zr=[],Jr=0,Ya=null,Qn=1,Kn="";function ma(t,n){al[sl++]=No,al[sl++]=xu,xu=t,No=n}function xp(t,n,i){Zr[Jr++]=Qn,Zr[Jr++]=Kn,Zr[Jr++]=Ya,Ya=t;var c=Qn;t=Kn;var h=32-Be(c)-1;c&=~(1<<h),i+=1;var m=32-Be(n)+h;if(30<m){var b=h-h%5;m=(c&(1<<b)-1).toString(32),c>>=b,h-=b,Qn=1<<32-Be(n)+h|i<<h|c,Kn=m+t}else Qn=1<<m|i<<h|c,Kn=t}function Yh(t){t.return!==null&&(ma(t,1),xp(t,1,0))}function Xh(t){for(;t===xu;)xu=al[--sl],al[sl]=null,No=al[--sl],al[sl]=null;for(;t===Ya;)Ya=Zr[--Jr],Zr[Jr]=null,Kn=Zr[--Jr],Zr[Jr]=null,Qn=Zr[--Jr],Zr[Jr]=null}function bp(t,n){Zr[Jr++]=Qn,Zr[Jr++]=Kn,Zr[Jr++]=Ya,Qn=n.id,Kn=n.overflow,Ya=t}var nr=null,pt=null,Xe=!1,Xa=null,en=!1,Wh=Error(s(519));function Wa(t){var n=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Eo(Wr(n,t)),Wh}function vp(t){var n=t.stateNode,i=t.type,c=t.memoizedProps;switch(n[Dt]=t,n[Xt]=c,i){case"dialog":He("cancel",n),He("close",n);break;case"iframe":case"object":case"embed":He("load",n);break;case"video":case"audio":for(i=0;i<Qo.length;i++)He(Qo[i],n);break;case"source":He("error",n);break;case"img":case"image":case"link":He("error",n),He("load",n);break;case"details":He("toggle",n);break;case"input":He("invalid",n),Wc(n,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":He("invalid",n);break;case"textarea":He("invalid",n),qa(n,c.value,c.defaultValue,c.children)}i=c.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||n.textContent===""+i||c.suppressHydrationWarning===!0||Lx(n.textContent,i)?(c.popover!=null&&(He("beforetoggle",n),He("toggle",n)),c.onScroll!=null&&He("scroll",n),c.onScrollEnd!=null&&He("scrollend",n),c.onClick!=null&&(n.onclick=pn),n=!0):n=!1,n||Wa(t,!0)}function wp(t){for(nr=t.return;nr;)switch(nr.tag){case 5:case 31:case 13:en=!1;return;case 27:case 3:en=!0;return;default:nr=nr.return}}function il(t){if(t!==nr)return!1;if(!Xe)return wp(t),Xe=!0,!1;var n=t.tag,i;if((i=n!==3&&n!==27)&&((i=n===5)&&(i=t.type,i=!(i!=="form"&&i!=="button")||p0(t.type,t.memoizedProps)),i=!i),i&&pt&&Wa(t),wp(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));pt=$x(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));pt=$x(t)}else n===27?(n=pt,ds(t.type)?(t=w0,w0=null,pt=t):pt=n):pt=nr?rn(t.stateNode.nextSibling):null;return!0}function oi(){pt=nr=null,Xe=!1}function Zh(){var t=Xa;return t!==null&&(Tr===null?Tr=t:Tr.push.apply(Tr,t),Xa=null),t}function Eo(t){Xa===null?Xa=[t]:Xa.push(t)}var Jh=D(null),ci=null,ga=null;function Za(t,n,i){P(Jh,n._currentValue),n._currentValue=i}function pa(t){t._currentValue=Jh.current,te(Jh)}function ef(t,n,i){for(;t!==null;){var c=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,c!==null&&(c.childLanes|=n)):c!==null&&(c.childLanes&n)!==n&&(c.childLanes|=n),t===i)break;t=t.return}}function tf(t,n,i,c){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var m=h.dependencies;if(m!==null){var b=h.child;m=m.firstContext;e:for(;m!==null;){var k=m;m=h;for(var C=0;C<n.length;C++)if(k.context===n[C]){m.lanes|=i,k=m.alternate,k!==null&&(k.lanes|=i),ef(m.return,i,t),c||(b=null);break e}m=k.next}}else if(h.tag===18){if(b=h.return,b===null)throw Error(s(341));b.lanes|=i,m=b.alternate,m!==null&&(m.lanes|=i),ef(b,i,t),b=null}else b=h.child;if(b!==null)b.return=h;else for(b=h;b!==null;){if(b===t){b=null;break}if(h=b.sibling,h!==null){h.return=b.return,b=h;break}b=b.return}h=b}}function ll(t,n,i,c){t=null;for(var h=n,m=!1;h!==null;){if(!m){if((h.flags&524288)!==0)m=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var b=h.alternate;if(b===null)throw Error(s(387));if(b=b.memoizedProps,b!==null){var k=h.type;Mr(h.pendingProps.value,b.value)||(t!==null?t.push(k):t=[k])}}else if(h===Ee.current){if(b=h.alternate,b===null)throw Error(s(387));b.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Zo):t=[Zo])}h=h.return}t!==null&&tf(n,t,i,c),n.flags|=262144}function bu(t){for(t=t.firstContext;t!==null;){if(!Mr(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ui(t){ci=t,ga=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function ar(t){return _p(ci,t)}function vu(t,n){return ci===null&&ui(t),_p(t,n)}function _p(t,n){var i=n._currentValue;if(n={context:n,memoizedValue:i,next:null},ga===null){if(t===null)throw Error(s(308));ga=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else ga=ga.next=n;return i}var W_=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(i,c){t.push(c)}};this.abort=function(){n.aborted=!0,t.forEach(function(i){return i()})}},Z_=a.unstable_scheduleCallback,J_=a.unstable_NormalPriority,Vt={$$typeof:X,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function rf(){return{controller:new W_,data:new Map,refCount:0}}function To(t){t.refCount--,t.refCount===0&&Z_(J_,function(){t.controller.abort()})}var jo=null,nf=0,ol=0,cl=null;function ek(t,n){if(jo===null){var i=jo=[];nf=0,ol=l0(),cl={status:"pending",value:void 0,then:function(c){i.push(c)}}}return nf++,n.then(kp,kp),n}function kp(){if(--nf===0&&jo!==null){cl!==null&&(cl.status="fulfilled");var t=jo;jo=null,ol=0,cl=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function tk(t,n){var i=[],c={status:"pending",value:null,reason:null,then:function(h){i.push(h)}};return t.then(function(){c.status="fulfilled",c.value=n;for(var h=0;h<i.length;h++)(0,i[h])(n)},function(h){for(c.status="rejected",c.reason=h,h=0;h<i.length;h++)(0,i[h])(void 0)}),c}var Np=W.S;W.S=function(t,n){lx=tr(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&ek(t,n),Np!==null&&Np(t,n)};var di=D(null);function af(){var t=di.current;return t!==null?t:ht.pooledCache}function wu(t,n){n===null?P(di,di.current):P(di,n.pool)}function Ep(){var t=af();return t===null?null:{parent:Vt._currentValue,pool:t}}var ul=Error(s(460)),sf=Error(s(474)),_u=Error(s(542)),ku={then:function(){}};function Tp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function jp(t,n,i){switch(i=t[i],i===void 0?t.push(n):i!==n&&(n.then(pn,pn),n=i),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Ap(t),t;default:if(typeof n.status=="string")n.then(pn,pn);else{if(t=ht,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(c){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=c}},function(c){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=c}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Ap(t),t}throw fi=n,ul}}function hi(t){try{var n=t._init;return n(t._payload)}catch(i){throw i!==null&&typeof i=="object"&&typeof i.then=="function"?(fi=i,ul):i}}var fi=null;function Sp(){if(fi===null)throw Error(s(459));var t=fi;return fi=null,t}function Ap(t){if(t===ul||t===_u)throw Error(s(483))}var dl=null,So=0;function Nu(t){var n=So;return So+=1,dl===null&&(dl=[]),jp(dl,t,n)}function Ao(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Eu(t,n){throw n.$$typeof===S?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Cp(t){function n(L,O){if(t){var B=L.deletions;B===null?(L.deletions=[O],L.flags|=16):B.push(O)}}function i(L,O){if(!t)return null;for(;O!==null;)n(L,O),O=O.sibling;return null}function c(L){for(var O=new Map;L!==null;)L.key!==null?O.set(L.key,L):O.set(L.index,L),L=L.sibling;return O}function h(L,O){return L=fa(L,O),L.index=0,L.sibling=null,L}function m(L,O,B){return L.index=B,t?(B=L.alternate,B!==null?(B=B.index,B<O?(L.flags|=67108866,O):B):(L.flags|=67108866,O)):(L.flags|=1048576,O)}function b(L){return t&&L.alternate===null&&(L.flags|=67108866),L}function k(L,O,B,re){return O===null||O.tag!==6?(O=Qh(B,L.mode,re),O.return=L,O):(O=h(O,B),O.return=L,O)}function C(L,O,B,re){var ke=B.type;return ke===ne?J(L,O,B.props.children,re,B.key):O!==null&&(O.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===N&&hi(ke)===O.type)?(O=h(O,B.props),Ao(O,B),O.return=L,O):(O=yu(B.type,B.key,B.props,null,L.mode,re),Ao(O,B),O.return=L,O)}function q(L,O,B,re){return O===null||O.tag!==4||O.stateNode.containerInfo!==B.containerInfo||O.stateNode.implementation!==B.implementation?(O=Kh(B,L.mode,re),O.return=L,O):(O=h(O,B.children||[]),O.return=L,O)}function J(L,O,B,re,ke){return O===null||O.tag!==7?(O=li(B,L.mode,re,ke),O.return=L,O):(O=h(O,B),O.return=L,O)}function se(L,O,B){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Qh(""+O,L.mode,B),O.return=L,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case V:return B=yu(O.type,O.key,O.props,null,L.mode,B),Ao(B,O),B.return=L,B;case U:return O=Kh(O,L.mode,B),O.return=L,O;case N:return O=hi(O),se(L,O,B)}if(ze(O)||M(O))return O=li(O,L.mode,B,null),O.return=L,O;if(typeof O.then=="function")return se(L,Nu(O),B);if(O.$$typeof===X)return se(L,vu(L,O),B);Eu(L,O)}return null}function H(L,O,B,re){var ke=O!==null?O.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return ke!==null?null:k(L,O,""+B,re);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case V:return B.key===ke?C(L,O,B,re):null;case U:return B.key===ke?q(L,O,B,re):null;case N:return B=hi(B),H(L,O,B,re)}if(ze(B)||M(B))return ke!==null?null:J(L,O,B,re,null);if(typeof B.then=="function")return H(L,O,Nu(B),re);if(B.$$typeof===X)return H(L,O,vu(L,B),re);Eu(L,B)}return null}function K(L,O,B,re,ke){if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return L=L.get(B)||null,k(O,L,""+re,ke);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case V:return L=L.get(re.key===null?B:re.key)||null,C(O,L,re,ke);case U:return L=L.get(re.key===null?B:re.key)||null,q(O,L,re,ke);case N:return re=hi(re),K(L,O,B,re,ke)}if(ze(re)||M(re))return L=L.get(B)||null,J(O,L,re,ke,null);if(typeof re.then=="function")return K(L,O,B,Nu(re),ke);if(re.$$typeof===X)return K(L,O,B,vu(O,re),ke);Eu(O,re)}return null}function be(L,O,B,re){for(var ke=null,Je=null,we=O,Ue=O=0,$e=null;we!==null&&Ue<B.length;Ue++){we.index>Ue?($e=we,we=null):$e=we.sibling;var et=H(L,we,B[Ue],re);if(et===null){we===null&&(we=$e);break}t&&we&&et.alternate===null&&n(L,we),O=m(et,O,Ue),Je===null?ke=et:Je.sibling=et,Je=et,we=$e}if(Ue===B.length)return i(L,we),Xe&&ma(L,Ue),ke;if(we===null){for(;Ue<B.length;Ue++)we=se(L,B[Ue],re),we!==null&&(O=m(we,O,Ue),Je===null?ke=we:Je.sibling=we,Je=we);return Xe&&ma(L,Ue),ke}for(we=c(we);Ue<B.length;Ue++)$e=K(we,L,Ue,B[Ue],re),$e!==null&&(t&&$e.alternate!==null&&we.delete($e.key===null?Ue:$e.key),O=m($e,O,Ue),Je===null?ke=$e:Je.sibling=$e,Je=$e);return t&&we.forEach(function(ps){return n(L,ps)}),Xe&&ma(L,Ue),ke}function Te(L,O,B,re){if(B==null)throw Error(s(151));for(var ke=null,Je=null,we=O,Ue=O=0,$e=null,et=B.next();we!==null&&!et.done;Ue++,et=B.next()){we.index>Ue?($e=we,we=null):$e=we.sibling;var ps=H(L,we,et.value,re);if(ps===null){we===null&&(we=$e);break}t&&we&&ps.alternate===null&&n(L,we),O=m(ps,O,Ue),Je===null?ke=ps:Je.sibling=ps,Je=ps,we=$e}if(et.done)return i(L,we),Xe&&ma(L,Ue),ke;if(we===null){for(;!et.done;Ue++,et=B.next())et=se(L,et.value,re),et!==null&&(O=m(et,O,Ue),Je===null?ke=et:Je.sibling=et,Je=et);return Xe&&ma(L,Ue),ke}for(we=c(we);!et.done;Ue++,et=B.next())et=K(we,L,Ue,et.value,re),et!==null&&(t&&et.alternate!==null&&we.delete(et.key===null?Ue:et.key),O=m(et,O,Ue),Je===null?ke=et:Je.sibling=et,Je=et);return t&&we.forEach(function(hN){return n(L,hN)}),Xe&&ma(L,Ue),ke}function dt(L,O,B,re){if(typeof B=="object"&&B!==null&&B.type===ne&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case V:e:{for(var ke=B.key;O!==null;){if(O.key===ke){if(ke=B.type,ke===ne){if(O.tag===7){i(L,O.sibling),re=h(O,B.props.children),re.return=L,L=re;break e}}else if(O.elementType===ke||typeof ke=="object"&&ke!==null&&ke.$$typeof===N&&hi(ke)===O.type){i(L,O.sibling),re=h(O,B.props),Ao(re,B),re.return=L,L=re;break e}i(L,O);break}else n(L,O);O=O.sibling}B.type===ne?(re=li(B.props.children,L.mode,re,B.key),re.return=L,L=re):(re=yu(B.type,B.key,B.props,null,L.mode,re),Ao(re,B),re.return=L,L=re)}return b(L);case U:e:{for(ke=B.key;O!==null;){if(O.key===ke)if(O.tag===4&&O.stateNode.containerInfo===B.containerInfo&&O.stateNode.implementation===B.implementation){i(L,O.sibling),re=h(O,B.children||[]),re.return=L,L=re;break e}else{i(L,O);break}else n(L,O);O=O.sibling}re=Kh(B,L.mode,re),re.return=L,L=re}return b(L);case N:return B=hi(B),dt(L,O,B,re)}if(ze(B))return be(L,O,B,re);if(M(B)){if(ke=M(B),typeof ke!="function")throw Error(s(150));return B=ke.call(B),Te(L,O,B,re)}if(typeof B.then=="function")return dt(L,O,Nu(B),re);if(B.$$typeof===X)return dt(L,O,vu(L,B),re);Eu(L,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,O!==null&&O.tag===6?(i(L,O.sibling),re=h(O,B),re.return=L,L=re):(i(L,O),re=Qh(B,L.mode,re),re.return=L,L=re),b(L)):i(L,O)}return function(L,O,B,re){try{So=0;var ke=dt(L,O,B,re);return dl=null,ke}catch(we){if(we===ul||we===_u)throw we;var Je=Vr(29,we,null,L.mode);return Je.lanes=re,Je.return=L,Je}finally{}}}var mi=Cp(!0),Rp=Cp(!1),Ja=!1;function lf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function of(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function es(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ts(t,n,i){var c=t.updateQueue;if(c===null)return null;if(c=c.shared,(rt&2)!==0){var h=c.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),c.pending=n,n=pu(t),mp(t,null,i),n}return gu(t,c,n,i),pu(t)}function Co(t,n,i){if(n=n.updateQueue,n!==null&&(n=n.shared,(i&4194048)!==0)){var c=n.lanes;c&=t.pendingLanes,i|=c,n.lanes=i,ro(t,i)}}function cf(t,n){var i=t.updateQueue,c=t.alternate;if(c!==null&&(c=c.updateQueue,i===c)){var h=null,m=null;if(i=i.firstBaseUpdate,i!==null){do{var b={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};m===null?h=m=b:m=m.next=b,i=i.next}while(i!==null);m===null?h=m=n:m=m.next=n}else h=m=n;i={baseState:c.baseState,firstBaseUpdate:h,lastBaseUpdate:m,shared:c.shared,callbacks:c.callbacks},t.updateQueue=i;return}t=i.lastBaseUpdate,t===null?i.firstBaseUpdate=n:t.next=n,i.lastBaseUpdate=n}var uf=!1;function Ro(){if(uf){var t=cl;if(t!==null)throw t}}function Io(t,n,i,c){uf=!1;var h=t.updateQueue;Ja=!1;var m=h.firstBaseUpdate,b=h.lastBaseUpdate,k=h.shared.pending;if(k!==null){h.shared.pending=null;var C=k,q=C.next;C.next=null,b===null?m=q:b.next=q,b=C;var J=t.alternate;J!==null&&(J=J.updateQueue,k=J.lastBaseUpdate,k!==b&&(k===null?J.firstBaseUpdate=q:k.next=q,J.lastBaseUpdate=C))}if(m!==null){var se=h.baseState;b=0,J=q=C=null,k=m;do{var H=k.lane&-536870913,K=H!==k.lane;if(K?(Ge&H)===H:(c&H)===H){H!==0&&H===ol&&(uf=!0),J!==null&&(J=J.next={lane:0,tag:k.tag,payload:k.payload,callback:null,next:null});e:{var be=t,Te=k;H=n;var dt=i;switch(Te.tag){case 1:if(be=Te.payload,typeof be=="function"){se=be.call(dt,se,H);break e}se=be;break e;case 3:be.flags=be.flags&-65537|128;case 0:if(be=Te.payload,H=typeof be=="function"?be.call(dt,se,H):be,H==null)break e;se=_({},se,H);break e;case 2:Ja=!0}}H=k.callback,H!==null&&(t.flags|=64,K&&(t.flags|=8192),K=h.callbacks,K===null?h.callbacks=[H]:K.push(H))}else K={lane:H,tag:k.tag,payload:k.payload,callback:k.callback,next:null},J===null?(q=J=K,C=se):J=J.next=K,b|=H;if(k=k.next,k===null){if(k=h.shared.pending,k===null)break;K=k,k=K.next,K.next=null,h.lastBaseUpdate=K,h.shared.pending=null}}while(!0);J===null&&(C=se),h.baseState=C,h.firstBaseUpdate=q,h.lastBaseUpdate=J,m===null&&(h.shared.lanes=0),is|=b,t.lanes=b,t.memoizedState=se}}function Ip(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function Dp(t,n){var i=t.callbacks;if(i!==null)for(t.callbacks=null,t=0;t<i.length;t++)Ip(i[t],n)}var hl=D(null),Tu=D(0);function Op(t,n){t=Ea,P(Tu,t),P(hl,n),Ea=t|n.baseLanes}function df(){P(Tu,Ea),P(hl,hl.current)}function hf(){Ea=Tu.current,te(hl),te(Tu)}var Lr=D(null),tn=null;function rs(t){var n=t.alternate;P(At,At.current&1),P(Lr,t),tn===null&&(n===null||hl.current!==null||n.memoizedState!==null)&&(tn=t)}function ff(t){P(At,At.current),P(Lr,t),tn===null&&(tn=t)}function Mp(t){t.tag===22?(P(At,At.current),P(Lr,t),tn===null&&(tn=t)):ns()}function ns(){P(At,At.current),P(Lr,Lr.current)}function Pr(t){te(Lr),tn===t&&(tn=null),te(At)}var At=D(0);function ju(t){for(var n=t;n!==null;){if(n.tag===13){var i=n.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||b0(i)||v0(i)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var ya=0,Pe=null,ct=null,Lt=null,Su=!1,fl=!1,gi=!1,Au=0,Do=0,ml=null,rk=0;function kt(){throw Error(s(321))}function mf(t,n){if(n===null)return!1;for(var i=0;i<n.length&&i<t.length;i++)if(!Mr(t[i],n[i]))return!1;return!0}function gf(t,n,i,c,h,m){return ya=m,Pe=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,W.H=t===null||t.memoizedState===null?xy:Cf,gi=!1,m=i(c,h),gi=!1,fl&&(m=Lp(n,i,c,h)),Vp(t),m}function Vp(t){W.H=Vo;var n=ct!==null&&ct.next!==null;if(ya=0,Lt=ct=Pe=null,Su=!1,Do=0,ml=null,n)throw Error(s(300));t===null||Pt||(t=t.dependencies,t!==null&&bu(t)&&(Pt=!0))}function Lp(t,n,i,c){Pe=t;var h=0;do{if(fl&&(ml=null),Do=0,fl=!1,25<=h)throw Error(s(301));if(h+=1,Lt=ct=null,t.updateQueue!=null){var m=t.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}W.H=by,m=n(i,c)}while(fl);return m}function nk(){var t=W.H,n=t.useState()[0];return n=typeof n.then=="function"?Oo(n):n,t=t.useState()[0],(ct!==null?ct.memoizedState:null)!==t&&(Pe.flags|=1024),n}function pf(){var t=Au!==0;return Au=0,t}function yf(t,n,i){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~i}function xf(t){if(Su){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Su=!1}ya=0,Lt=ct=Pe=null,fl=!1,Do=Au=0,ml=null}function xr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Lt===null?Pe.memoizedState=Lt=t:Lt=Lt.next=t,Lt}function Ct(){if(ct===null){var t=Pe.alternate;t=t!==null?t.memoizedState:null}else t=ct.next;var n=Lt===null?Pe.memoizedState:Lt.next;if(n!==null)Lt=n,ct=t;else{if(t===null)throw Pe.alternate===null?Error(s(467)):Error(s(310));ct=t,t={memoizedState:ct.memoizedState,baseState:ct.baseState,baseQueue:ct.baseQueue,queue:ct.queue,next:null},Lt===null?Pe.memoizedState=Lt=t:Lt=Lt.next=t}return Lt}function Cu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Oo(t){var n=Do;return Do+=1,ml===null&&(ml=[]),t=jp(ml,t,n),n=Pe,(Lt===null?n.memoizedState:Lt.next)===null&&(n=n.alternate,W.H=n===null||n.memoizedState===null?xy:Cf),t}function Ru(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Oo(t);if(t.$$typeof===X)return ar(t)}throw Error(s(438,String(t)))}function bf(t){var n=null,i=Pe.updateQueue;if(i!==null&&(n=i.memoCache),n==null){var c=Pe.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(n={data:c.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),i===null&&(i=Cu(),Pe.updateQueue=i),i.memoCache=n,i=n.data[n.index],i===void 0)for(i=n.data[n.index]=Array(t),c=0;c<t;c++)i[c]=R;return n.index++,i}function xa(t,n){return typeof n=="function"?n(t):n}function Iu(t){var n=Ct();return vf(n,ct,t)}function vf(t,n,i){var c=t.queue;if(c===null)throw Error(s(311));c.lastRenderedReducer=i;var h=t.baseQueue,m=c.pending;if(m!==null){if(h!==null){var b=h.next;h.next=m.next,m.next=b}n.baseQueue=h=m,c.pending=null}if(m=t.baseState,h===null)t.memoizedState=m;else{n=h.next;var k=b=null,C=null,q=n,J=!1;do{var se=q.lane&-536870913;if(se!==q.lane?(Ge&se)===se:(ya&se)===se){var H=q.revertLane;if(H===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),se===ol&&(J=!0);else if((ya&H)===H){q=q.next,H===ol&&(J=!0);continue}else se={lane:0,revertLane:q.revertLane,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},C===null?(k=C=se,b=m):C=C.next=se,Pe.lanes|=H,is|=H;se=q.action,gi&&i(m,se),m=q.hasEagerState?q.eagerState:i(m,se)}else H={lane:se,revertLane:q.revertLane,gesture:q.gesture,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},C===null?(k=C=H,b=m):C=C.next=H,Pe.lanes|=se,is|=se;q=q.next}while(q!==null&&q!==n);if(C===null?b=m:C.next=k,!Mr(m,t.memoizedState)&&(Pt=!0,J&&(i=cl,i!==null)))throw i;t.memoizedState=m,t.baseState=b,t.baseQueue=C,c.lastRenderedState=m}return h===null&&(c.lanes=0),[t.memoizedState,c.dispatch]}function wf(t){var n=Ct(),i=n.queue;if(i===null)throw Error(s(311));i.lastRenderedReducer=t;var c=i.dispatch,h=i.pending,m=n.memoizedState;if(h!==null){i.pending=null;var b=h=h.next;do m=t(m,b.action),b=b.next;while(b!==h);Mr(m,n.memoizedState)||(Pt=!0),n.memoizedState=m,n.baseQueue===null&&(n.baseState=m),i.lastRenderedState=m}return[m,c]}function Pp(t,n,i){var c=Pe,h=Ct(),m=Xe;if(m){if(i===void 0)throw Error(s(407));i=i()}else i=n();var b=!Mr((ct||h).memoizedState,i);if(b&&(h.memoizedState=i,Pt=!0),h=h.queue,Nf(Bp.bind(null,c,h,t),[t]),h.getSnapshot!==n||b||Lt!==null&&Lt.memoizedState.tag&1){if(c.flags|=2048,gl(9,{destroy:void 0},Up.bind(null,c,h,i,n),null),ht===null)throw Error(s(349));m||(ya&127)!==0||zp(c,n,i)}return i}function zp(t,n,i){t.flags|=16384,t={getSnapshot:n,value:i},n=Pe.updateQueue,n===null?(n=Cu(),Pe.updateQueue=n,n.stores=[t]):(i=n.stores,i===null?n.stores=[t]:i.push(t))}function Up(t,n,i,c){n.value=i,n.getSnapshot=c,qp(n)&&Hp(t)}function Bp(t,n,i){return i(function(){qp(n)&&Hp(t)})}function qp(t){var n=t.getSnapshot;t=t.value;try{var i=n();return!Mr(t,i)}catch{return!0}}function Hp(t){var n=ii(t,2);n!==null&&jr(n,t,2)}function _f(t){var n=xr();if(typeof t=="function"){var i=t;if(t=i(),gi){Ht(!0);try{i()}finally{Ht(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xa,lastRenderedState:t},n}function Fp(t,n,i,c){return t.baseState=i,vf(t,ct,typeof c=="function"?c:xa)}function ak(t,n,i,c,h){if(Mu(t))throw Error(s(485));if(t=n.action,t!==null){var m={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){m.listeners.push(b)}};W.T!==null?i(!0):m.isTransition=!1,c(m),i=n.pending,i===null?(m.next=n.pending=m,Gp(n,m)):(m.next=i.next,n.pending=i.next=m)}}function Gp(t,n){var i=n.action,c=n.payload,h=t.state;if(n.isTransition){var m=W.T,b={};W.T=b;try{var k=i(h,c),C=W.S;C!==null&&C(b,k),$p(t,n,k)}catch(q){kf(t,n,q)}finally{m!==null&&b.types!==null&&(m.types=b.types),W.T=m}}else try{m=i(h,c),$p(t,n,m)}catch(q){kf(t,n,q)}}function $p(t,n,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(c){Qp(t,n,c)},function(c){return kf(t,n,c)}):Qp(t,n,i)}function Qp(t,n,i){n.status="fulfilled",n.value=i,Kp(n),t.state=i,n=t.pending,n!==null&&(i=n.next,i===n?t.pending=null:(i=i.next,n.next=i,Gp(t,i)))}function kf(t,n,i){var c=t.pending;if(t.pending=null,c!==null){c=c.next;do n.status="rejected",n.reason=i,Kp(n),n=n.next;while(n!==c)}t.action=null}function Kp(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Yp(t,n){return n}function Xp(t,n){if(Xe){var i=ht.formState;if(i!==null){e:{var c=Pe;if(Xe){if(pt){t:{for(var h=pt,m=en;h.nodeType!==8;){if(!m){h=null;break t}if(h=rn(h.nextSibling),h===null){h=null;break t}}m=h.data,h=m==="F!"||m==="F"?h:null}if(h){pt=rn(h.nextSibling),c=h.data==="F!";break e}}Wa(c)}c=!1}c&&(n=i[0])}}return i=xr(),i.memoizedState=i.baseState=n,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yp,lastRenderedState:n},i.queue=c,i=gy.bind(null,Pe,c),c.dispatch=i,c=_f(!1),m=Af.bind(null,Pe,!1,c.queue),c=xr(),h={state:n,dispatch:null,action:t,pending:null},c.queue=h,i=ak.bind(null,Pe,h,m,i),h.dispatch=i,c.memoizedState=t,[n,i,!1]}function Wp(t){var n=Ct();return Zp(n,ct,t)}function Zp(t,n,i){if(n=vf(t,n,Yp)[0],t=Iu(xa)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var c=Oo(n)}catch(b){throw b===ul?_u:b}else c=n;n=Ct();var h=n.queue,m=h.dispatch;return i!==n.memoizedState&&(Pe.flags|=2048,gl(9,{destroy:void 0},sk.bind(null,h,i),null)),[c,m,t]}function sk(t,n){t.action=n}function Jp(t){var n=Ct(),i=ct;if(i!==null)return Zp(n,i,t);Ct(),n=n.memoizedState,i=Ct();var c=i.queue.dispatch;return i.memoizedState=t,[n,c,!1]}function gl(t,n,i,c){return t={tag:t,create:i,deps:c,inst:n,next:null},n=Pe.updateQueue,n===null&&(n=Cu(),Pe.updateQueue=n),i=n.lastEffect,i===null?n.lastEffect=t.next=t:(c=i.next,i.next=t,t.next=c,n.lastEffect=t),t}function ey(){return Ct().memoizedState}function Du(t,n,i,c){var h=xr();Pe.flags|=t,h.memoizedState=gl(1|n,{destroy:void 0},i,c===void 0?null:c)}function Ou(t,n,i,c){var h=Ct();c=c===void 0?null:c;var m=h.memoizedState.inst;ct!==null&&c!==null&&mf(c,ct.memoizedState.deps)?h.memoizedState=gl(n,m,i,c):(Pe.flags|=t,h.memoizedState=gl(1|n,m,i,c))}function ty(t,n){Du(8390656,8,t,n)}function Nf(t,n){Ou(2048,8,t,n)}function ik(t){Pe.flags|=4;var n=Pe.updateQueue;if(n===null)n=Cu(),Pe.updateQueue=n,n.events=[t];else{var i=n.events;i===null?n.events=[t]:i.push(t)}}function ry(t){var n=Ct().memoizedState;return ik({ref:n,nextImpl:t}),function(){if((rt&2)!==0)throw Error(s(440));return n.impl.apply(void 0,arguments)}}function ny(t,n){return Ou(4,2,t,n)}function ay(t,n){return Ou(4,4,t,n)}function sy(t,n){if(typeof n=="function"){t=t();var i=n(t);return function(){typeof i=="function"?i():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function iy(t,n,i){i=i!=null?i.concat([t]):null,Ou(4,4,sy.bind(null,n,t),i)}function Ef(){}function ly(t,n){var i=Ct();n=n===void 0?null:n;var c=i.memoizedState;return n!==null&&mf(n,c[1])?c[0]:(i.memoizedState=[t,n],t)}function oy(t,n){var i=Ct();n=n===void 0?null:n;var c=i.memoizedState;if(n!==null&&mf(n,c[1]))return c[0];if(c=t(),gi){Ht(!0);try{t()}finally{Ht(!1)}}return i.memoizedState=[c,n],c}function Tf(t,n,i){return i===void 0||(ya&1073741824)!==0&&(Ge&261930)===0?t.memoizedState=n:(t.memoizedState=i,t=cx(),Pe.lanes|=t,is|=t,i)}function cy(t,n,i,c){return Mr(i,n)?i:hl.current!==null?(t=Tf(t,i,c),Mr(t,n)||(Pt=!0),t):(ya&42)===0||(ya&1073741824)!==0&&(Ge&261930)===0?(Pt=!0,t.memoizedState=i):(t=cx(),Pe.lanes|=t,is|=t,n)}function uy(t,n,i,c,h){var m=ce.p;ce.p=m!==0&&8>m?m:8;var b=W.T,k={};W.T=k,Af(t,!1,n,i);try{var C=h(),q=W.S;if(q!==null&&q(k,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var J=tk(C,c);Mo(t,n,J,Br(t))}else Mo(t,n,c,Br(t))}catch(se){Mo(t,n,{then:function(){},status:"rejected",reason:se},Br())}finally{ce.p=m,b!==null&&k.types!==null&&(b.types=k.types),W.T=b}}function lk(){}function jf(t,n,i,c){if(t.tag!==5)throw Error(s(476));var h=dy(t).queue;uy(t,h,n,ye,i===null?lk:function(){return hy(t),i(c)})}function dy(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ye,baseState:ye,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xa,lastRenderedState:ye},next:null};var i={};return n.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xa,lastRenderedState:i},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function hy(t){var n=dy(t);n.next===null&&(n=t.alternate.memoizedState),Mo(t,n.next.queue,{},Br())}function Sf(){return ar(Zo)}function fy(){return Ct().memoizedState}function my(){return Ct().memoizedState}function ok(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var i=Br();t=es(i);var c=ts(n,t,i);c!==null&&(jr(c,n,i),Co(c,n,i)),n={cache:rf()},t.payload=n;return}n=n.return}}function ck(t,n,i){var c=Br();i={lane:c,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},Mu(t)?py(n,i):(i=Gh(t,n,i,c),i!==null&&(jr(i,t,c),yy(i,n,c)))}function gy(t,n,i){var c=Br();Mo(t,n,i,c)}function Mo(t,n,i,c){var h={lane:c,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null};if(Mu(t))py(n,h);else{var m=t.alternate;if(t.lanes===0&&(m===null||m.lanes===0)&&(m=n.lastRenderedReducer,m!==null))try{var b=n.lastRenderedState,k=m(b,i);if(h.hasEagerState=!0,h.eagerState=k,Mr(k,b))return gu(t,n,h,0),ht===null&&mu(),!1}catch{}finally{}if(i=Gh(t,n,h,c),i!==null)return jr(i,t,c),yy(i,n,c),!0}return!1}function Af(t,n,i,c){if(c={lane:2,revertLane:l0(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Mu(t)){if(n)throw Error(s(479))}else n=Gh(t,i,c,2),n!==null&&jr(n,t,2)}function Mu(t){var n=t.alternate;return t===Pe||n!==null&&n===Pe}function py(t,n){fl=Su=!0;var i=t.pending;i===null?n.next=n:(n.next=i.next,i.next=n),t.pending=n}function yy(t,n,i){if((i&4194048)!==0){var c=n.lanes;c&=t.pendingLanes,i|=c,n.lanes=i,ro(t,i)}}var Vo={readContext:ar,use:Ru,useCallback:kt,useContext:kt,useEffect:kt,useImperativeHandle:kt,useLayoutEffect:kt,useInsertionEffect:kt,useMemo:kt,useReducer:kt,useRef:kt,useState:kt,useDebugValue:kt,useDeferredValue:kt,useTransition:kt,useSyncExternalStore:kt,useId:kt,useHostTransitionStatus:kt,useFormState:kt,useActionState:kt,useOptimistic:kt,useMemoCache:kt,useCacheRefresh:kt};Vo.useEffectEvent=kt;var xy={readContext:ar,use:Ru,useCallback:function(t,n){return xr().memoizedState=[t,n===void 0?null:n],t},useContext:ar,useEffect:ty,useImperativeHandle:function(t,n,i){i=i!=null?i.concat([t]):null,Du(4194308,4,sy.bind(null,n,t),i)},useLayoutEffect:function(t,n){return Du(4194308,4,t,n)},useInsertionEffect:function(t,n){Du(4,2,t,n)},useMemo:function(t,n){var i=xr();n=n===void 0?null:n;var c=t();if(gi){Ht(!0);try{t()}finally{Ht(!1)}}return i.memoizedState=[c,n],c},useReducer:function(t,n,i){var c=xr();if(i!==void 0){var h=i(n);if(gi){Ht(!0);try{i(n)}finally{Ht(!1)}}}else h=n;return c.memoizedState=c.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},c.queue=t,t=t.dispatch=ck.bind(null,Pe,t),[c.memoizedState,t]},useRef:function(t){var n=xr();return t={current:t},n.memoizedState=t},useState:function(t){t=_f(t);var n=t.queue,i=gy.bind(null,Pe,n);return n.dispatch=i,[t.memoizedState,i]},useDebugValue:Ef,useDeferredValue:function(t,n){var i=xr();return Tf(i,t,n)},useTransition:function(){var t=_f(!1);return t=uy.bind(null,Pe,t.queue,!0,!1),xr().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,i){var c=Pe,h=xr();if(Xe){if(i===void 0)throw Error(s(407));i=i()}else{if(i=n(),ht===null)throw Error(s(349));(Ge&127)!==0||zp(c,n,i)}h.memoizedState=i;var m={value:i,getSnapshot:n};return h.queue=m,ty(Bp.bind(null,c,m,t),[t]),c.flags|=2048,gl(9,{destroy:void 0},Up.bind(null,c,m,i,n),null),i},useId:function(){var t=xr(),n=ht.identifierPrefix;if(Xe){var i=Kn,c=Qn;i=(c&~(1<<32-Be(c)-1)).toString(32)+i,n="_"+n+"R_"+i,i=Au++,0<i&&(n+="H"+i.toString(32)),n+="_"}else i=rk++,n="_"+n+"r_"+i.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:Sf,useFormState:Xp,useActionState:Xp,useOptimistic:function(t){var n=xr();n.memoizedState=n.baseState=t;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=i,n=Af.bind(null,Pe,!0,i),i.dispatch=n,[t,n]},useMemoCache:bf,useCacheRefresh:function(){return xr().memoizedState=ok.bind(null,Pe)},useEffectEvent:function(t){var n=xr(),i={impl:t};return n.memoizedState=i,function(){if((rt&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}},Cf={readContext:ar,use:Ru,useCallback:ly,useContext:ar,useEffect:Nf,useImperativeHandle:iy,useInsertionEffect:ny,useLayoutEffect:ay,useMemo:oy,useReducer:Iu,useRef:ey,useState:function(){return Iu(xa)},useDebugValue:Ef,useDeferredValue:function(t,n){var i=Ct();return cy(i,ct.memoizedState,t,n)},useTransition:function(){var t=Iu(xa)[0],n=Ct().memoizedState;return[typeof t=="boolean"?t:Oo(t),n]},useSyncExternalStore:Pp,useId:fy,useHostTransitionStatus:Sf,useFormState:Wp,useActionState:Wp,useOptimistic:function(t,n){var i=Ct();return Fp(i,ct,t,n)},useMemoCache:bf,useCacheRefresh:my};Cf.useEffectEvent=ry;var by={readContext:ar,use:Ru,useCallback:ly,useContext:ar,useEffect:Nf,useImperativeHandle:iy,useInsertionEffect:ny,useLayoutEffect:ay,useMemo:oy,useReducer:wf,useRef:ey,useState:function(){return wf(xa)},useDebugValue:Ef,useDeferredValue:function(t,n){var i=Ct();return ct===null?Tf(i,t,n):cy(i,ct.memoizedState,t,n)},useTransition:function(){var t=wf(xa)[0],n=Ct().memoizedState;return[typeof t=="boolean"?t:Oo(t),n]},useSyncExternalStore:Pp,useId:fy,useHostTransitionStatus:Sf,useFormState:Jp,useActionState:Jp,useOptimistic:function(t,n){var i=Ct();return ct!==null?Fp(i,ct,t,n):(i.baseState=t,[t,i.queue.dispatch])},useMemoCache:bf,useCacheRefresh:my};by.useEffectEvent=ry;function Rf(t,n,i,c){n=t.memoizedState,i=i(c,n),i=i==null?n:_({},n,i),t.memoizedState=i,t.lanes===0&&(t.updateQueue.baseState=i)}var If={enqueueSetState:function(t,n,i){t=t._reactInternals;var c=Br(),h=es(c);h.payload=n,i!=null&&(h.callback=i),n=ts(t,h,c),n!==null&&(jr(n,t,c),Co(n,t,c))},enqueueReplaceState:function(t,n,i){t=t._reactInternals;var c=Br(),h=es(c);h.tag=1,h.payload=n,i!=null&&(h.callback=i),n=ts(t,h,c),n!==null&&(jr(n,t,c),Co(n,t,c))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var i=Br(),c=es(i);c.tag=2,n!=null&&(c.callback=n),n=ts(t,c,i),n!==null&&(jr(n,t,i),Co(n,t,i))}};function vy(t,n,i,c,h,m,b){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(c,m,b):n.prototype&&n.prototype.isPureReactComponent?!_o(i,c)||!_o(h,m):!0}function wy(t,n,i,c){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(i,c),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(i,c),n.state!==t&&If.enqueueReplaceState(n,n.state,null)}function pi(t,n){var i=n;if("ref"in n){i={};for(var c in n)c!=="ref"&&(i[c]=n[c])}if(t=t.defaultProps){i===n&&(i=_({},i));for(var h in t)i[h]===void 0&&(i[h]=t[h])}return i}function _y(t){fu(t)}function ky(t){console.error(t)}function Ny(t){fu(t)}function Vu(t,n){try{var i=t.onUncaughtError;i(n.value,{componentStack:n.stack})}catch(c){setTimeout(function(){throw c})}}function Ey(t,n,i){try{var c=t.onCaughtError;c(i.value,{componentStack:i.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Df(t,n,i){return i=es(i),i.tag=3,i.payload={element:null},i.callback=function(){Vu(t,n)},i}function Ty(t){return t=es(t),t.tag=3,t}function jy(t,n,i,c){var h=i.type.getDerivedStateFromError;if(typeof h=="function"){var m=c.value;t.payload=function(){return h(m)},t.callback=function(){Ey(n,i,c)}}var b=i.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(t.callback=function(){Ey(n,i,c),typeof h!="function"&&(ls===null?ls=new Set([this]):ls.add(this));var k=c.stack;this.componentDidCatch(c.value,{componentStack:k!==null?k:""})})}function uk(t,n,i,c,h){if(i.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(n=i.alternate,n!==null&&ll(n,i,h,!0),i=Lr.current,i!==null){switch(i.tag){case 31:case 13:return tn===null?Ku():i.alternate===null&&Nt===0&&(Nt=3),i.flags&=-257,i.flags|=65536,i.lanes=h,c===ku?i.flags|=16384:(n=i.updateQueue,n===null?i.updateQueue=new Set([c]):n.add(c),a0(t,c,h)),!1;case 22:return i.flags|=65536,c===ku?i.flags|=16384:(n=i.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([c])},i.updateQueue=n):(i=n.retryQueue,i===null?n.retryQueue=new Set([c]):i.add(c)),a0(t,c,h)),!1}throw Error(s(435,i.tag))}return a0(t,c,h),Ku(),!1}if(Xe)return n=Lr.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,c!==Wh&&(t=Error(s(422),{cause:c}),Eo(Wr(t,i)))):(c!==Wh&&(n=Error(s(423),{cause:c}),Eo(Wr(n,i))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,c=Wr(c,i),h=Df(t.stateNode,c,h),cf(t,h),Nt!==4&&(Nt=2)),!1;var m=Error(s(520),{cause:c});if(m=Wr(m,i),Fo===null?Fo=[m]:Fo.push(m),Nt!==4&&(Nt=2),n===null)return!0;c=Wr(c,i),i=n;do{switch(i.tag){case 3:return i.flags|=65536,t=h&-h,i.lanes|=t,t=Df(i.stateNode,c,t),cf(i,t),!1;case 1:if(n=i.type,m=i.stateNode,(i.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(ls===null||!ls.has(m))))return i.flags|=65536,h&=-h,i.lanes|=h,h=Ty(h),jy(h,t,i,c),cf(i,h),!1}i=i.return}while(i!==null);return!1}var Of=Error(s(461)),Pt=!1;function sr(t,n,i,c){n.child=t===null?Rp(n,null,i,c):mi(n,t.child,i,c)}function Sy(t,n,i,c,h){i=i.render;var m=n.ref;if("ref"in c){var b={};for(var k in c)k!=="ref"&&(b[k]=c[k])}else b=c;return ui(n),c=gf(t,n,i,b,m,h),k=pf(),t!==null&&!Pt?(yf(t,n,h),ba(t,n,h)):(Xe&&k&&Yh(n),n.flags|=1,sr(t,n,c,h),n.child)}function Ay(t,n,i,c,h){if(t===null){var m=i.type;return typeof m=="function"&&!$h(m)&&m.defaultProps===void 0&&i.compare===null?(n.tag=15,n.type=m,Cy(t,n,m,c,h)):(t=yu(i.type,null,c,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(m=t.child,!qf(t,h)){var b=m.memoizedProps;if(i=i.compare,i=i!==null?i:_o,i(b,c)&&t.ref===n.ref)return ba(t,n,h)}return n.flags|=1,t=fa(m,c),t.ref=n.ref,t.return=n,n.child=t}function Cy(t,n,i,c,h){if(t!==null){var m=t.memoizedProps;if(_o(m,c)&&t.ref===n.ref)if(Pt=!1,n.pendingProps=c=m,qf(t,h))(t.flags&131072)!==0&&(Pt=!0);else return n.lanes=t.lanes,ba(t,n,h)}return Mf(t,n,i,c,h)}function Ry(t,n,i,c){var h=c.children,m=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((n.flags&128)!==0){if(m=m!==null?m.baseLanes|i:i,t!==null){for(c=n.child=t.child,h=0;c!==null;)h=h|c.lanes|c.childLanes,c=c.sibling;c=h&~m}else c=0,n.child=null;return Iy(t,n,m,i,c)}if((i&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&wu(n,m!==null?m.cachePool:null),m!==null?Op(n,m):df(),Mp(n);else return c=n.lanes=536870912,Iy(t,n,m!==null?m.baseLanes|i:i,i,c)}else m!==null?(wu(n,m.cachePool),Op(n,m),ns(),n.memoizedState=null):(t!==null&&wu(n,null),df(),ns());return sr(t,n,h,i),n.child}function Lo(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Iy(t,n,i,c,h){var m=af();return m=m===null?null:{parent:Vt._currentValue,pool:m},n.memoizedState={baseLanes:i,cachePool:m},t!==null&&wu(n,null),df(),Mp(n),t!==null&&ll(t,n,c,!0),n.childLanes=h,null}function Lu(t,n){return n=zu({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function Dy(t,n,i){return mi(n,t.child,null,i),t=Lu(n,n.pendingProps),t.flags|=2,Pr(n),n.memoizedState=null,t}function dk(t,n,i){var c=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Xe){if(c.mode==="hidden")return t=Lu(n,c),n.lanes=536870912,Lo(null,t);if(ff(n),(t=pt)?(t=Gx(t,en),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Ya!==null?{id:Qn,overflow:Kn}:null,retryLane:536870912,hydrationErrors:null},i=pp(t),i.return=n,n.child=i,nr=n,pt=null)):t=null,t===null)throw Wa(n);return n.lanes=536870912,null}return Lu(n,c)}var m=t.memoizedState;if(m!==null){var b=m.dehydrated;if(ff(n),h)if(n.flags&256)n.flags&=-257,n=Dy(t,n,i);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(s(558));else if(Pt||ll(t,n,i,!1),h=(i&t.childLanes)!==0,Pt||h){if(c=ht,c!==null&&(b=no(c,i),b!==0&&b!==m.retryLane))throw m.retryLane=b,ii(t,b),jr(c,t,b),Of;Ku(),n=Dy(t,n,i)}else t=m.treeContext,pt=rn(b.nextSibling),nr=n,Xe=!0,Xa=null,en=!1,t!==null&&bp(n,t),n=Lu(n,c),n.flags|=4096;return n}return t=fa(t.child,{mode:c.mode,children:c.children}),t.ref=n.ref,n.child=t,t.return=n,t}function Pu(t,n){var i=n.ref;if(i===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(s(284));(t===null||t.ref!==i)&&(n.flags|=4194816)}}function Mf(t,n,i,c,h){return ui(n),i=gf(t,n,i,c,void 0,h),c=pf(),t!==null&&!Pt?(yf(t,n,h),ba(t,n,h)):(Xe&&c&&Yh(n),n.flags|=1,sr(t,n,i,h),n.child)}function Oy(t,n,i,c,h,m){return ui(n),n.updateQueue=null,i=Lp(n,c,i,h),Vp(t),c=pf(),t!==null&&!Pt?(yf(t,n,m),ba(t,n,m)):(Xe&&c&&Yh(n),n.flags|=1,sr(t,n,i,m),n.child)}function My(t,n,i,c,h){if(ui(n),n.stateNode===null){var m=nl,b=i.contextType;typeof b=="object"&&b!==null&&(m=ar(b)),m=new i(c,m),n.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=If,n.stateNode=m,m._reactInternals=n,m=n.stateNode,m.props=c,m.state=n.memoizedState,m.refs={},lf(n),b=i.contextType,m.context=typeof b=="object"&&b!==null?ar(b):nl,m.state=n.memoizedState,b=i.getDerivedStateFromProps,typeof b=="function"&&(Rf(n,i,b,c),m.state=n.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(b=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),b!==m.state&&If.enqueueReplaceState(m,m.state,null),Io(n,c,m,h),Ro(),m.state=n.memoizedState),typeof m.componentDidMount=="function"&&(n.flags|=4194308),c=!0}else if(t===null){m=n.stateNode;var k=n.memoizedProps,C=pi(i,k);m.props=C;var q=m.context,J=i.contextType;b=nl,typeof J=="object"&&J!==null&&(b=ar(J));var se=i.getDerivedStateFromProps;J=typeof se=="function"||typeof m.getSnapshotBeforeUpdate=="function",k=n.pendingProps!==k,J||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(k||q!==b)&&wy(n,m,c,b),Ja=!1;var H=n.memoizedState;m.state=H,Io(n,c,m,h),Ro(),q=n.memoizedState,k||H!==q||Ja?(typeof se=="function"&&(Rf(n,i,se,c),q=n.memoizedState),(C=Ja||vy(n,i,C,c,H,q,b))?(J||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(n.flags|=4194308)):(typeof m.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=c,n.memoizedState=q),m.props=c,m.state=q,m.context=b,c=C):(typeof m.componentDidMount=="function"&&(n.flags|=4194308),c=!1)}else{m=n.stateNode,of(t,n),b=n.memoizedProps,J=pi(i,b),m.props=J,se=n.pendingProps,H=m.context,q=i.contextType,C=nl,typeof q=="object"&&q!==null&&(C=ar(q)),k=i.getDerivedStateFromProps,(q=typeof k=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(b!==se||H!==C)&&wy(n,m,c,C),Ja=!1,H=n.memoizedState,m.state=H,Io(n,c,m,h),Ro();var K=n.memoizedState;b!==se||H!==K||Ja||t!==null&&t.dependencies!==null&&bu(t.dependencies)?(typeof k=="function"&&(Rf(n,i,k,c),K=n.memoizedState),(J=Ja||vy(n,i,J,c,H,K,C)||t!==null&&t.dependencies!==null&&bu(t.dependencies))?(q||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(c,K,C),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(c,K,C)),typeof m.componentDidUpdate=="function"&&(n.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof m.componentDidUpdate!="function"||b===t.memoizedProps&&H===t.memoizedState||(n.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||b===t.memoizedProps&&H===t.memoizedState||(n.flags|=1024),n.memoizedProps=c,n.memoizedState=K),m.props=c,m.state=K,m.context=C,c=J):(typeof m.componentDidUpdate!="function"||b===t.memoizedProps&&H===t.memoizedState||(n.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||b===t.memoizedProps&&H===t.memoizedState||(n.flags|=1024),c=!1)}return m=c,Pu(t,n),c=(n.flags&128)!==0,m||c?(m=n.stateNode,i=c&&typeof i.getDerivedStateFromError!="function"?null:m.render(),n.flags|=1,t!==null&&c?(n.child=mi(n,t.child,null,h),n.child=mi(n,null,i,h)):sr(t,n,i,h),n.memoizedState=m.state,t=n.child):t=ba(t,n,h),t}function Vy(t,n,i,c){return oi(),n.flags|=256,sr(t,n,i,c),n.child}var Vf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Lf(t){return{baseLanes:t,cachePool:Ep()}}function Pf(t,n,i){return t=t!==null?t.childLanes&~i:0,n&&(t|=Ur),t}function Ly(t,n,i){var c=n.pendingProps,h=!1,m=(n.flags&128)!==0,b;if((b=m)||(b=t!==null&&t.memoizedState===null?!1:(At.current&2)!==0),b&&(h=!0,n.flags&=-129),b=(n.flags&32)!==0,n.flags&=-33,t===null){if(Xe){if(h?rs(n):ns(),(t=pt)?(t=Gx(t,en),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Ya!==null?{id:Qn,overflow:Kn}:null,retryLane:536870912,hydrationErrors:null},i=pp(t),i.return=n,n.child=i,nr=n,pt=null)):t=null,t===null)throw Wa(n);return v0(t)?n.lanes=32:n.lanes=536870912,null}var k=c.children;return c=c.fallback,h?(ns(),h=n.mode,k=zu({mode:"hidden",children:k},h),c=li(c,h,i,null),k.return=n,c.return=n,k.sibling=c,n.child=k,c=n.child,c.memoizedState=Lf(i),c.childLanes=Pf(t,b,i),n.memoizedState=Vf,Lo(null,c)):(rs(n),zf(n,k))}var C=t.memoizedState;if(C!==null&&(k=C.dehydrated,k!==null)){if(m)n.flags&256?(rs(n),n.flags&=-257,n=Uf(t,n,i)):n.memoizedState!==null?(ns(),n.child=t.child,n.flags|=128,n=null):(ns(),k=c.fallback,h=n.mode,c=zu({mode:"visible",children:c.children},h),k=li(k,h,i,null),k.flags|=2,c.return=n,k.return=n,c.sibling=k,n.child=c,mi(n,t.child,null,i),c=n.child,c.memoizedState=Lf(i),c.childLanes=Pf(t,b,i),n.memoizedState=Vf,n=Lo(null,c));else if(rs(n),v0(k)){if(b=k.nextSibling&&k.nextSibling.dataset,b)var q=b.dgst;b=q,c=Error(s(419)),c.stack="",c.digest=b,Eo({value:c,source:null,stack:null}),n=Uf(t,n,i)}else if(Pt||ll(t,n,i,!1),b=(i&t.childLanes)!==0,Pt||b){if(b=ht,b!==null&&(c=no(b,i),c!==0&&c!==C.retryLane))throw C.retryLane=c,ii(t,c),jr(b,t,c),Of;b0(k)||Ku(),n=Uf(t,n,i)}else b0(k)?(n.flags|=192,n.child=t.child,n=null):(t=C.treeContext,pt=rn(k.nextSibling),nr=n,Xe=!0,Xa=null,en=!1,t!==null&&bp(n,t),n=zf(n,c.children),n.flags|=4096);return n}return h?(ns(),k=c.fallback,h=n.mode,C=t.child,q=C.sibling,c=fa(C,{mode:"hidden",children:c.children}),c.subtreeFlags=C.subtreeFlags&65011712,q!==null?k=fa(q,k):(k=li(k,h,i,null),k.flags|=2),k.return=n,c.return=n,c.sibling=k,n.child=c,Lo(null,c),c=n.child,k=t.child.memoizedState,k===null?k=Lf(i):(h=k.cachePool,h!==null?(C=Vt._currentValue,h=h.parent!==C?{parent:C,pool:C}:h):h=Ep(),k={baseLanes:k.baseLanes|i,cachePool:h}),c.memoizedState=k,c.childLanes=Pf(t,b,i),n.memoizedState=Vf,Lo(t.child,c)):(rs(n),i=t.child,t=i.sibling,i=fa(i,{mode:"visible",children:c.children}),i.return=n,i.sibling=null,t!==null&&(b=n.deletions,b===null?(n.deletions=[t],n.flags|=16):b.push(t)),n.child=i,n.memoizedState=null,i)}function zf(t,n){return n=zu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function zu(t,n){return t=Vr(22,t,null,n),t.lanes=0,t}function Uf(t,n,i){return mi(n,t.child,null,i),t=zf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Py(t,n,i){t.lanes|=n;var c=t.alternate;c!==null&&(c.lanes|=n),ef(t.return,n,i)}function Bf(t,n,i,c,h,m){var b=t.memoizedState;b===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:c,tail:i,tailMode:h,treeForkCount:m}:(b.isBackwards=n,b.rendering=null,b.renderingStartTime=0,b.last=c,b.tail=i,b.tailMode=h,b.treeForkCount=m)}function zy(t,n,i){var c=n.pendingProps,h=c.revealOrder,m=c.tail;c=c.children;var b=At.current,k=(b&2)!==0;if(k?(b=b&1|2,n.flags|=128):b&=1,P(At,b),sr(t,n,c,i),c=Xe?No:0,!k&&t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Py(t,i,n);else if(t.tag===19)Py(t,i,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(i=n.child,h=null;i!==null;)t=i.alternate,t!==null&&ju(t)===null&&(h=i),i=i.sibling;i=h,i===null?(h=n.child,n.child=null):(h=i.sibling,i.sibling=null),Bf(n,!1,h,i,m,c);break;case"backwards":case"unstable_legacy-backwards":for(i=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&ju(t)===null){n.child=h;break}t=h.sibling,h.sibling=i,i=h,h=t}Bf(n,!0,i,null,m,c);break;case"together":Bf(n,!1,null,null,void 0,c);break;default:n.memoizedState=null}return n.child}function ba(t,n,i){if(t!==null&&(n.dependencies=t.dependencies),is|=n.lanes,(i&n.childLanes)===0)if(t!==null){if(ll(t,n,i,!1),(i&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,i=fa(t,t.pendingProps),n.child=i,i.return=n;t.sibling!==null;)t=t.sibling,i=i.sibling=fa(t,t.pendingProps),i.return=n;i.sibling=null}return n.child}function qf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&bu(t)))}function hk(t,n,i){switch(n.tag){case 3:nt(n,n.stateNode.containerInfo),Za(n,Vt,t.memoizedState.cache),oi();break;case 27:case 5:gt(n);break;case 4:nt(n,n.stateNode.containerInfo);break;case 10:Za(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,ff(n),null;break;case 13:var c=n.memoizedState;if(c!==null)return c.dehydrated!==null?(rs(n),n.flags|=128,null):(i&n.child.childLanes)!==0?Ly(t,n,i):(rs(n),t=ba(t,n,i),t!==null?t.sibling:null);rs(n);break;case 19:var h=(t.flags&128)!==0;if(c=(i&n.childLanes)!==0,c||(ll(t,n,i,!1),c=(i&n.childLanes)!==0),h){if(c)return zy(t,n,i);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),P(At,At.current),c)break;return null;case 22:return n.lanes=0,Ry(t,n,i,n.pendingProps);case 24:Za(n,Vt,t.memoizedState.cache)}return ba(t,n,i)}function Uy(t,n,i){if(t!==null)if(t.memoizedProps!==n.pendingProps)Pt=!0;else{if(!qf(t,i)&&(n.flags&128)===0)return Pt=!1,hk(t,n,i);Pt=(t.flags&131072)!==0}else Pt=!1,Xe&&(n.flags&1048576)!==0&&xp(n,No,n.index);switch(n.lanes=0,n.tag){case 16:e:{var c=n.pendingProps;if(t=hi(n.elementType),n.type=t,typeof t=="function")$h(t)?(c=pi(t,c),n.tag=1,n=My(null,n,t,c,i)):(n.tag=0,n=Mf(null,n,t,c,i));else{if(t!=null){var h=t.$$typeof;if(h===xe){n.tag=11,n=Sy(null,n,t,c,i);break e}else if(h===T){n.tag=14,n=Ay(null,n,t,c,i);break e}}throw n=_e(t)||t,Error(s(306,n,""))}}return n;case 0:return Mf(t,n,n.type,n.pendingProps,i);case 1:return c=n.type,h=pi(c,n.pendingProps),My(t,n,c,h,i);case 3:e:{if(nt(n,n.stateNode.containerInfo),t===null)throw Error(s(387));c=n.pendingProps;var m=n.memoizedState;h=m.element,of(t,n),Io(n,c,null,i);var b=n.memoizedState;if(c=b.cache,Za(n,Vt,c),c!==m.cache&&tf(n,[Vt],i,!0),Ro(),c=b.element,m.isDehydrated)if(m={element:c,isDehydrated:!1,cache:b.cache},n.updateQueue.baseState=m,n.memoizedState=m,n.flags&256){n=Vy(t,n,c,i);break e}else if(c!==h){h=Wr(Error(s(424)),n),Eo(h),n=Vy(t,n,c,i);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(pt=rn(t.firstChild),nr=n,Xe=!0,Xa=null,en=!0,i=Rp(n,null,c,i),n.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling}else{if(oi(),c===h){n=ba(t,n,i);break e}sr(t,n,c,i)}n=n.child}return n;case 26:return Pu(t,n),t===null?(i=Wx(n.type,null,n.pendingProps,null))?n.memoizedState=i:Xe||(i=n.type,t=n.pendingProps,c=td(me.current).createElement(i),c[Dt]=n,c[Xt]=t,ir(c,i,t),Ot(c),n.stateNode=c):n.memoizedState=Wx(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return gt(n),t===null&&Xe&&(c=n.stateNode=Kx(n.type,n.pendingProps,me.current),nr=n,en=!0,h=pt,ds(n.type)?(w0=h,pt=rn(c.firstChild)):pt=h),sr(t,n,n.pendingProps.children,i),Pu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Xe&&((h=c=pt)&&(c=qk(c,n.type,n.pendingProps,en),c!==null?(n.stateNode=c,nr=n,pt=rn(c.firstChild),en=!1,h=!0):h=!1),h||Wa(n)),gt(n),h=n.type,m=n.pendingProps,b=t!==null?t.memoizedProps:null,c=m.children,p0(h,m)?c=null:b!==null&&p0(h,b)&&(n.flags|=32),n.memoizedState!==null&&(h=gf(t,n,nk,null,null,i),Zo._currentValue=h),Pu(t,n),sr(t,n,c,i),n.child;case 6:return t===null&&Xe&&((t=i=pt)&&(i=Hk(i,n.pendingProps,en),i!==null?(n.stateNode=i,nr=n,pt=null,t=!0):t=!1),t||Wa(n)),null;case 13:return Ly(t,n,i);case 4:return nt(n,n.stateNode.containerInfo),c=n.pendingProps,t===null?n.child=mi(n,null,c,i):sr(t,n,c,i),n.child;case 11:return Sy(t,n,n.type,n.pendingProps,i);case 7:return sr(t,n,n.pendingProps,i),n.child;case 8:return sr(t,n,n.pendingProps.children,i),n.child;case 12:return sr(t,n,n.pendingProps.children,i),n.child;case 10:return c=n.pendingProps,Za(n,n.type,c.value),sr(t,n,c.children,i),n.child;case 9:return h=n.type._context,c=n.pendingProps.children,ui(n),h=ar(h),c=c(h),n.flags|=1,sr(t,n,c,i),n.child;case 14:return Ay(t,n,n.type,n.pendingProps,i);case 15:return Cy(t,n,n.type,n.pendingProps,i);case 19:return zy(t,n,i);case 31:return dk(t,n,i);case 22:return Ry(t,n,i,n.pendingProps);case 24:return ui(n),c=ar(Vt),t===null?(h=af(),h===null&&(h=ht,m=rf(),h.pooledCache=m,m.refCount++,m!==null&&(h.pooledCacheLanes|=i),h=m),n.memoizedState={parent:c,cache:h},lf(n),Za(n,Vt,h)):((t.lanes&i)!==0&&(of(t,n),Io(n,null,null,i),Ro()),h=t.memoizedState,m=n.memoizedState,h.parent!==c?(h={parent:c,cache:c},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Za(n,Vt,c)):(c=m.cache,Za(n,Vt,c),c!==h.cache&&tf(n,[Vt],i,!0))),sr(t,n,n.pendingProps.children,i),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function va(t){t.flags|=4}function Hf(t,n,i,c,h){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(fx())t.flags|=8192;else throw fi=ku,sf}else t.flags&=-16777217}function By(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!rb(n))if(fx())t.flags|=8192;else throw fi=ku,sf}function Uu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?$c():536870912,t.lanes|=n,bl|=n)}function Po(t,n){if(!Xe)switch(t.tailMode){case"hidden":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t.tail=null:i.sibling=null;break;case"collapsed":i=t.tail;for(var c=null;i!==null;)i.alternate!==null&&(c=i),i=i.sibling;c===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:c.sibling=null}}function yt(t){var n=t.alternate!==null&&t.alternate.child===t.child,i=0,c=0;if(n)for(var h=t.child;h!==null;)i|=h.lanes|h.childLanes,c|=h.subtreeFlags&65011712,c|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)i|=h.lanes|h.childLanes,c|=h.subtreeFlags,c|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=c,t.childLanes=i,n}function fk(t,n,i){var c=n.pendingProps;switch(Xh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yt(n),null;case 1:return yt(n),null;case 3:return i=n.stateNode,c=null,t!==null&&(c=t.memoizedState.cache),n.memoizedState.cache!==c&&(n.flags|=2048),pa(Vt),ve(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(il(n)?va(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Zh())),yt(n),null;case 26:var h=n.type,m=n.memoizedState;return t===null?(va(n),m!==null?(yt(n),By(n,m)):(yt(n),Hf(n,h,null,c,i))):m?m!==t.memoizedState?(va(n),yt(n),By(n,m)):(yt(n),n.flags&=-16777217):(t=t.memoizedProps,t!==c&&va(n),yt(n),Hf(n,h,t,c,i)),null;case 27:if(Fr(n),i=me.current,h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==c&&va(n);else{if(!c){if(n.stateNode===null)throw Error(s(166));return yt(n),null}t=Z.current,il(n)?vp(n):(t=Kx(h,c,i),n.stateNode=t,va(n))}return yt(n),null;case 5:if(Fr(n),h=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==c&&va(n);else{if(!c){if(n.stateNode===null)throw Error(s(166));return yt(n),null}if(m=Z.current,il(n))vp(n);else{var b=td(me.current);switch(m){case 1:m=b.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:m=b.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":m=b.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":m=b.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":m=b.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof c.is=="string"?b.createElement("select",{is:c.is}):b.createElement("select"),c.multiple?m.multiple=!0:c.size&&(m.size=c.size);break;default:m=typeof c.is=="string"?b.createElement(h,{is:c.is}):b.createElement(h)}}m[Dt]=n,m[Xt]=c;e:for(b=n.child;b!==null;){if(b.tag===5||b.tag===6)m.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===n)break e;for(;b.sibling===null;){if(b.return===null||b.return===n)break e;b=b.return}b.sibling.return=b.return,b=b.sibling}n.stateNode=m;e:switch(ir(m,h,c),h){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&va(n)}}return yt(n),Hf(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,i),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==c&&va(n);else{if(typeof c!="string"&&n.stateNode===null)throw Error(s(166));if(t=me.current,il(n)){if(t=n.stateNode,i=n.memoizedProps,c=null,h=nr,h!==null)switch(h.tag){case 27:case 5:c=h.memoizedProps}t[Dt]=n,t=!!(t.nodeValue===i||c!==null&&c.suppressHydrationWarning===!0||Lx(t.nodeValue,i)),t||Wa(n,!0)}else t=td(t).createTextNode(c),t[Dt]=n,n.stateNode=t}return yt(n),null;case 31:if(i=n.memoizedState,t===null||t.memoizedState!==null){if(c=il(n),i!==null){if(t===null){if(!c)throw Error(s(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[Dt]=n}else oi(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;yt(n),t=!1}else i=Zh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=i),t=!0;if(!t)return n.flags&256?(Pr(n),n):(Pr(n),null);if((n.flags&128)!==0)throw Error(s(558))}return yt(n),null;case 13:if(c=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=il(n),c!==null&&c.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Dt]=n}else oi(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;yt(n),h=!1}else h=Zh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Pr(n),n):(Pr(n),null)}return Pr(n),(n.flags&128)!==0?(n.lanes=i,n):(i=c!==null,t=t!==null&&t.memoizedState!==null,i&&(c=n.child,h=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(h=c.alternate.memoizedState.cachePool.pool),m=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(m=c.memoizedState.cachePool.pool),m!==h&&(c.flags|=2048)),i!==t&&i&&(n.child.flags|=8192),Uu(n,n.updateQueue),yt(n),null);case 4:return ve(),t===null&&d0(n.stateNode.containerInfo),yt(n),null;case 10:return pa(n.type),yt(n),null;case 19:if(te(At),c=n.memoizedState,c===null)return yt(n),null;if(h=(n.flags&128)!==0,m=c.rendering,m===null)if(h)Po(c,!1);else{if(Nt!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(m=ju(t),m!==null){for(n.flags|=128,Po(c,!1),t=m.updateQueue,n.updateQueue=t,Uu(n,t),n.subtreeFlags=0,t=i,i=n.child;i!==null;)gp(i,t),i=i.sibling;return P(At,At.current&1|2),Xe&&ma(n,c.treeForkCount),n.child}t=t.sibling}c.tail!==null&&tr()>Gu&&(n.flags|=128,h=!0,Po(c,!1),n.lanes=4194304)}else{if(!h)if(t=ju(m),t!==null){if(n.flags|=128,h=!0,t=t.updateQueue,n.updateQueue=t,Uu(n,t),Po(c,!0),c.tail===null&&c.tailMode==="hidden"&&!m.alternate&&!Xe)return yt(n),null}else 2*tr()-c.renderingStartTime>Gu&&i!==536870912&&(n.flags|=128,h=!0,Po(c,!1),n.lanes=4194304);c.isBackwards?(m.sibling=n.child,n.child=m):(t=c.last,t!==null?t.sibling=m:n.child=m,c.last=m)}return c.tail!==null?(t=c.tail,c.rendering=t,c.tail=t.sibling,c.renderingStartTime=tr(),t.sibling=null,i=At.current,P(At,h?i&1|2:i&1),Xe&&ma(n,c.treeForkCount),t):(yt(n),null);case 22:case 23:return Pr(n),hf(),c=n.memoizedState!==null,t!==null?t.memoizedState!==null!==c&&(n.flags|=8192):c&&(n.flags|=8192),c?(i&536870912)!==0&&(n.flags&128)===0&&(yt(n),n.subtreeFlags&6&&(n.flags|=8192)):yt(n),i=n.updateQueue,i!==null&&Uu(n,i.retryQueue),i=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),c=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(c=n.memoizedState.cachePool.pool),c!==i&&(n.flags|=2048),t!==null&&te(di),null;case 24:return i=null,t!==null&&(i=t.memoizedState.cache),n.memoizedState.cache!==i&&(n.flags|=2048),pa(Vt),yt(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function mk(t,n){switch(Xh(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return pa(Vt),ve(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Fr(n),null;case 31:if(n.memoizedState!==null){if(Pr(n),n.alternate===null)throw Error(s(340));oi()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(Pr(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));oi()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return te(At),null;case 4:return ve(),null;case 10:return pa(n.type),null;case 22:case 23:return Pr(n),hf(),t!==null&&te(di),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return pa(Vt),null;case 25:return null;default:return null}}function qy(t,n){switch(Xh(n),n.tag){case 3:pa(Vt),ve();break;case 26:case 27:case 5:Fr(n);break;case 4:ve();break;case 31:n.memoizedState!==null&&Pr(n);break;case 13:Pr(n);break;case 19:te(At);break;case 10:pa(n.type);break;case 22:case 23:Pr(n),hf(),t!==null&&te(di);break;case 24:pa(Vt)}}function zo(t,n){try{var i=n.updateQueue,c=i!==null?i.lastEffect:null;if(c!==null){var h=c.next;i=h;do{if((i.tag&t)===t){c=void 0;var m=i.create,b=i.inst;c=m(),b.destroy=c}i=i.next}while(i!==h)}}catch(k){lt(n,n.return,k)}}function as(t,n,i){try{var c=n.updateQueue,h=c!==null?c.lastEffect:null;if(h!==null){var m=h.next;c=m;do{if((c.tag&t)===t){var b=c.inst,k=b.destroy;if(k!==void 0){b.destroy=void 0,h=n;var C=i,q=k;try{q()}catch(J){lt(h,C,J)}}}c=c.next}while(c!==m)}}catch(J){lt(n,n.return,J)}}function Hy(t){var n=t.updateQueue;if(n!==null){var i=t.stateNode;try{Dp(n,i)}catch(c){lt(t,t.return,c)}}}function Fy(t,n,i){i.props=pi(t.type,t.memoizedProps),i.state=t.memoizedState;try{i.componentWillUnmount()}catch(c){lt(t,n,c)}}function Uo(t,n){try{var i=t.ref;if(i!==null){switch(t.tag){case 26:case 27:case 5:var c=t.stateNode;break;case 30:c=t.stateNode;break;default:c=t.stateNode}typeof i=="function"?t.refCleanup=i(c):i.current=c}}catch(h){lt(t,n,h)}}function Yn(t,n){var i=t.ref,c=t.refCleanup;if(i!==null)if(typeof c=="function")try{c()}catch(h){lt(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(h){lt(t,n,h)}else i.current=null}function Gy(t){var n=t.type,i=t.memoizedProps,c=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":i.autoFocus&&c.focus();break e;case"img":i.src?c.src=i.src:i.srcSet&&(c.srcset=i.srcSet)}}catch(h){lt(t,t.return,h)}}function Ff(t,n,i){try{var c=t.stateNode;Vk(c,t.type,i,n),c[Xt]=n}catch(h){lt(t,t.return,h)}}function $y(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ds(t.type)||t.tag===4}function Gf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||$y(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ds(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function $f(t,n,i){var c=t.tag;if(c===5||c===6)t=t.stateNode,n?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(t,n):(n=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,n.appendChild(t),i=i._reactRootContainer,i!=null||n.onclick!==null||(n.onclick=pn));else if(c!==4&&(c===27&&ds(t.type)&&(i=t.stateNode,n=null),t=t.child,t!==null))for($f(t,n,i),t=t.sibling;t!==null;)$f(t,n,i),t=t.sibling}function Bu(t,n,i){var c=t.tag;if(c===5||c===6)t=t.stateNode,n?i.insertBefore(t,n):i.appendChild(t);else if(c!==4&&(c===27&&ds(t.type)&&(i=t.stateNode),t=t.child,t!==null))for(Bu(t,n,i),t=t.sibling;t!==null;)Bu(t,n,i),t=t.sibling}function Qy(t){var n=t.stateNode,i=t.memoizedProps;try{for(var c=t.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);ir(n,c,i),n[Dt]=t,n[Xt]=i}catch(m){lt(t,t.return,m)}}var wa=!1,zt=!1,Qf=!1,Ky=typeof WeakSet=="function"?WeakSet:Set,Zt=null;function gk(t,n){if(t=t.containerInfo,m0=od,t=ip(t),zh(t)){if("selectionStart"in t)var i={start:t.selectionStart,end:t.selectionEnd};else e:{i=(i=t.ownerDocument)&&i.defaultView||window;var c=i.getSelection&&i.getSelection();if(c&&c.rangeCount!==0){i=c.anchorNode;var h=c.anchorOffset,m=c.focusNode;c=c.focusOffset;try{i.nodeType,m.nodeType}catch{i=null;break e}var b=0,k=-1,C=-1,q=0,J=0,se=t,H=null;t:for(;;){for(var K;se!==i||h!==0&&se.nodeType!==3||(k=b+h),se!==m||c!==0&&se.nodeType!==3||(C=b+c),se.nodeType===3&&(b+=se.nodeValue.length),(K=se.firstChild)!==null;)H=se,se=K;for(;;){if(se===t)break t;if(H===i&&++q===h&&(k=b),H===m&&++J===c&&(C=b),(K=se.nextSibling)!==null)break;se=H,H=se.parentNode}se=K}i=k===-1||C===-1?null:{start:k,end:C}}else i=null}i=i||{start:0,end:0}}else i=null;for(g0={focusedElem:t,selectionRange:i},od=!1,Zt=n;Zt!==null;)if(n=Zt,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Zt=t;else for(;Zt!==null;){switch(n=Zt,m=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(i=0;i<t.length;i++)h=t[i],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&m!==null){t=void 0,i=n,h=m.memoizedProps,m=m.memoizedState,c=i.stateNode;try{var be=pi(i.type,h);t=c.getSnapshotBeforeUpdate(be,m),c.__reactInternalSnapshotBeforeUpdate=t}catch(Te){lt(i,i.return,Te)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,i=t.nodeType,i===9)x0(t);else if(i===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":x0(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,Zt=t;break}Zt=n.return}}function Yy(t,n,i){var c=i.flags;switch(i.tag){case 0:case 11:case 15:ka(t,i),c&4&&zo(5,i);break;case 1:if(ka(t,i),c&4)if(t=i.stateNode,n===null)try{t.componentDidMount()}catch(b){lt(i,i.return,b)}else{var h=pi(i.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(b){lt(i,i.return,b)}}c&64&&Hy(i),c&512&&Uo(i,i.return);break;case 3:if(ka(t,i),c&64&&(t=i.updateQueue,t!==null)){if(n=null,i.child!==null)switch(i.child.tag){case 27:case 5:n=i.child.stateNode;break;case 1:n=i.child.stateNode}try{Dp(t,n)}catch(b){lt(i,i.return,b)}}break;case 27:n===null&&c&4&&Qy(i);case 26:case 5:ka(t,i),n===null&&c&4&&Gy(i),c&512&&Uo(i,i.return);break;case 12:ka(t,i);break;case 31:ka(t,i),c&4&&Zy(t,i);break;case 13:ka(t,i),c&4&&Jy(t,i),c&64&&(t=i.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(i=Nk.bind(null,i),Fk(t,i))));break;case 22:if(c=i.memoizedState!==null||wa,!c){n=n!==null&&n.memoizedState!==null||zt,h=wa;var m=zt;wa=c,(zt=n)&&!m?Na(t,i,(i.subtreeFlags&8772)!==0):ka(t,i),wa=h,zt=m}break;case 30:break;default:ka(t,i)}}function Xy(t){var n=t.alternate;n!==null&&(t.alternate=null,Xy(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Hi(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var vt=null,kr=!1;function _a(t,n,i){for(i=i.child;i!==null;)Wy(t,n,i),i=i.sibling}function Wy(t,n,i){if(We&&typeof We.onCommitFiberUnmount=="function")try{We.onCommitFiberUnmount(Fe,i)}catch{}switch(i.tag){case 26:zt||Yn(i,n),_a(t,n,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:zt||Yn(i,n);var c=vt,h=kr;ds(i.type)&&(vt=i.stateNode,kr=!1),_a(t,n,i),Yo(i.stateNode),vt=c,kr=h;break;case 5:zt||Yn(i,n);case 6:if(c=vt,h=kr,vt=null,_a(t,n,i),vt=c,kr=h,vt!==null)if(kr)try{(vt.nodeType===9?vt.body:vt.nodeName==="HTML"?vt.ownerDocument.body:vt).removeChild(i.stateNode)}catch(m){lt(i,n,m)}else try{vt.removeChild(i.stateNode)}catch(m){lt(i,n,m)}break;case 18:vt!==null&&(kr?(t=vt,Hx(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,i.stateNode),jl(t)):Hx(vt,i.stateNode));break;case 4:c=vt,h=kr,vt=i.stateNode.containerInfo,kr=!0,_a(t,n,i),vt=c,kr=h;break;case 0:case 11:case 14:case 15:as(2,i,n),zt||as(4,i,n),_a(t,n,i);break;case 1:zt||(Yn(i,n),c=i.stateNode,typeof c.componentWillUnmount=="function"&&Fy(i,n,c)),_a(t,n,i);break;case 21:_a(t,n,i);break;case 22:zt=(c=zt)||i.memoizedState!==null,_a(t,n,i),zt=c;break;default:_a(t,n,i)}}function Zy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{jl(t)}catch(i){lt(n,n.return,i)}}}function Jy(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{jl(t)}catch(i){lt(n,n.return,i)}}function pk(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Ky),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Ky),n;default:throw Error(s(435,t.tag))}}function qu(t,n){var i=pk(t);n.forEach(function(c){if(!i.has(c)){i.add(c);var h=Ek.bind(null,t,c);c.then(h,h)}})}function Nr(t,n){var i=n.deletions;if(i!==null)for(var c=0;c<i.length;c++){var h=i[c],m=t,b=n,k=b;e:for(;k!==null;){switch(k.tag){case 27:if(ds(k.type)){vt=k.stateNode,kr=!1;break e}break;case 5:vt=k.stateNode,kr=!1;break e;case 3:case 4:vt=k.stateNode.containerInfo,kr=!0;break e}k=k.return}if(vt===null)throw Error(s(160));Wy(m,b,h),vt=null,kr=!1,m=h.alternate,m!==null&&(m.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)ex(n,t),n=n.sibling}var _n=null;function ex(t,n){var i=t.alternate,c=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Nr(n,t),Er(t),c&4&&(as(3,t,t.return),zo(3,t),as(5,t,t.return));break;case 1:Nr(n,t),Er(t),c&512&&(zt||i===null||Yn(i,i.return)),c&64&&wa&&(t=t.updateQueue,t!==null&&(c=t.callbacks,c!==null&&(i=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=i===null?c:i.concat(c))));break;case 26:var h=_n;if(Nr(n,t),Er(t),c&512&&(zt||i===null||Yn(i,i.return)),c&4){var m=i!==null?i.memoizedState:null;if(c=t.memoizedState,i===null)if(c===null)if(t.stateNode===null){e:{c=t.type,i=t.memoizedProps,h=h.ownerDocument||h;t:switch(c){case"title":m=h.getElementsByTagName("title")[0],(!m||m[Mn]||m[Dt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=h.createElement(c),h.head.insertBefore(m,h.querySelector("head > title"))),ir(m,c,i),m[Dt]=t,Ot(m),c=m;break e;case"link":var b=eb("link","href",h).get(c+(i.href||""));if(b){for(var k=0;k<b.length;k++)if(m=b[k],m.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&m.getAttribute("rel")===(i.rel==null?null:i.rel)&&m.getAttribute("title")===(i.title==null?null:i.title)&&m.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){b.splice(k,1);break t}}m=h.createElement(c),ir(m,c,i),h.head.appendChild(m);break;case"meta":if(b=eb("meta","content",h).get(c+(i.content||""))){for(k=0;k<b.length;k++)if(m=b[k],m.getAttribute("content")===(i.content==null?null:""+i.content)&&m.getAttribute("name")===(i.name==null?null:i.name)&&m.getAttribute("property")===(i.property==null?null:i.property)&&m.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&m.getAttribute("charset")===(i.charSet==null?null:i.charSet)){b.splice(k,1);break t}}m=h.createElement(c),ir(m,c,i),h.head.appendChild(m);break;default:throw Error(s(468,c))}m[Dt]=t,Ot(m),c=m}t.stateNode=c}else tb(h,t.type,t.stateNode);else t.stateNode=Jx(h,c,t.memoizedProps);else m!==c?(m===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):m.count--,c===null?tb(h,t.type,t.stateNode):Jx(h,c,t.memoizedProps)):c===null&&t.stateNode!==null&&Ff(t,t.memoizedProps,i.memoizedProps)}break;case 27:Nr(n,t),Er(t),c&512&&(zt||i===null||Yn(i,i.return)),i!==null&&c&4&&Ff(t,t.memoizedProps,i.memoizedProps);break;case 5:if(Nr(n,t),Er(t),c&512&&(zt||i===null||Yn(i,i.return)),t.flags&32){h=t.stateNode;try{_r(h,"")}catch(be){lt(t,t.return,be)}}c&4&&t.stateNode!=null&&(h=t.memoizedProps,Ff(t,h,i!==null?i.memoizedProps:h)),c&1024&&(Qf=!0);break;case 6:if(Nr(n,t),Er(t),c&4){if(t.stateNode===null)throw Error(s(162));c=t.memoizedProps,i=t.stateNode;try{i.nodeValue=c}catch(be){lt(t,t.return,be)}}break;case 3:if(ad=null,h=_n,_n=rd(n.containerInfo),Nr(n,t),_n=h,Er(t),c&4&&i!==null&&i.memoizedState.isDehydrated)try{jl(n.containerInfo)}catch(be){lt(t,t.return,be)}Qf&&(Qf=!1,tx(t));break;case 4:c=_n,_n=rd(t.stateNode.containerInfo),Nr(n,t),Er(t),_n=c;break;case 12:Nr(n,t),Er(t);break;case 31:Nr(n,t),Er(t),c&4&&(c=t.updateQueue,c!==null&&(t.updateQueue=null,qu(t,c)));break;case 13:Nr(n,t),Er(t),t.child.flags&8192&&t.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(Fu=tr()),c&4&&(c=t.updateQueue,c!==null&&(t.updateQueue=null,qu(t,c)));break;case 22:h=t.memoizedState!==null;var C=i!==null&&i.memoizedState!==null,q=wa,J=zt;if(wa=q||h,zt=J||C,Nr(n,t),zt=J,wa=q,Er(t),c&8192)e:for(n=t.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(i===null||C||wa||zt||yi(t)),i=null,n=t;;){if(n.tag===5||n.tag===26){if(i===null){C=i=n;try{if(m=C.stateNode,h)b=m.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{k=C.stateNode;var se=C.memoizedProps.style,H=se!=null&&se.hasOwnProperty("display")?se.display:null;k.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(be){lt(C,C.return,be)}}}else if(n.tag===6){if(i===null){C=n;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(be){lt(C,C.return,be)}}}else if(n.tag===18){if(i===null){C=n;try{var K=C.stateNode;h?Fx(K,!0):Fx(C.stateNode,!1)}catch(be){lt(C,C.return,be)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;i===n&&(i=null),n=n.return}i===n&&(i=null),n.sibling.return=n.return,n=n.sibling}c&4&&(c=t.updateQueue,c!==null&&(i=c.retryQueue,i!==null&&(c.retryQueue=null,qu(t,i))));break;case 19:Nr(n,t),Er(t),c&4&&(c=t.updateQueue,c!==null&&(t.updateQueue=null,qu(t,c)));break;case 30:break;case 21:break;default:Nr(n,t),Er(t)}}function Er(t){var n=t.flags;if(n&2){try{for(var i,c=t.return;c!==null;){if($y(c)){i=c;break}c=c.return}if(i==null)throw Error(s(160));switch(i.tag){case 27:var h=i.stateNode,m=Gf(t);Bu(t,m,h);break;case 5:var b=i.stateNode;i.flags&32&&(_r(b,""),i.flags&=-33);var k=Gf(t);Bu(t,k,b);break;case 3:case 4:var C=i.stateNode.containerInfo,q=Gf(t);$f(t,q,C);break;default:throw Error(s(161))}}catch(J){lt(t,t.return,J)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function tx(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;tx(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function ka(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Yy(t,n.alternate,n),n=n.sibling}function yi(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:as(4,n,n.return),yi(n);break;case 1:Yn(n,n.return);var i=n.stateNode;typeof i.componentWillUnmount=="function"&&Fy(n,n.return,i),yi(n);break;case 27:Yo(n.stateNode);case 26:case 5:Yn(n,n.return),yi(n);break;case 22:n.memoizedState===null&&yi(n);break;case 30:yi(n);break;default:yi(n)}t=t.sibling}}function Na(t,n,i){for(i=i&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var c=n.alternate,h=t,m=n,b=m.flags;switch(m.tag){case 0:case 11:case 15:Na(h,m,i),zo(4,m);break;case 1:if(Na(h,m,i),c=m,h=c.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(q){lt(c,c.return,q)}if(c=m,h=c.updateQueue,h!==null){var k=c.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)Ip(C[h],k)}catch(q){lt(c,c.return,q)}}i&&b&64&&Hy(m),Uo(m,m.return);break;case 27:Qy(m);case 26:case 5:Na(h,m,i),i&&c===null&&b&4&&Gy(m),Uo(m,m.return);break;case 12:Na(h,m,i);break;case 31:Na(h,m,i),i&&b&4&&Zy(h,m);break;case 13:Na(h,m,i),i&&b&4&&Jy(h,m);break;case 22:m.memoizedState===null&&Na(h,m,i),Uo(m,m.return);break;case 30:break;default:Na(h,m,i)}n=n.sibling}}function Kf(t,n){var i=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==i&&(t!=null&&t.refCount++,i!=null&&To(i))}function Yf(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&To(t))}function kn(t,n,i,c){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)rx(t,n,i,c),n=n.sibling}function rx(t,n,i,c){var h=n.flags;switch(n.tag){case 0:case 11:case 15:kn(t,n,i,c),h&2048&&zo(9,n);break;case 1:kn(t,n,i,c);break;case 3:kn(t,n,i,c),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&To(t)));break;case 12:if(h&2048){kn(t,n,i,c),t=n.stateNode;try{var m=n.memoizedProps,b=m.id,k=m.onPostCommit;typeof k=="function"&&k(b,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){lt(n,n.return,C)}}else kn(t,n,i,c);break;case 31:kn(t,n,i,c);break;case 13:kn(t,n,i,c);break;case 23:break;case 22:m=n.stateNode,b=n.alternate,n.memoizedState!==null?m._visibility&2?kn(t,n,i,c):Bo(t,n):m._visibility&2?kn(t,n,i,c):(m._visibility|=2,pl(t,n,i,c,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Kf(b,n);break;case 24:kn(t,n,i,c),h&2048&&Yf(n.alternate,n);break;default:kn(t,n,i,c)}}function pl(t,n,i,c,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var m=t,b=n,k=i,C=c,q=b.flags;switch(b.tag){case 0:case 11:case 15:pl(m,b,k,C,h),zo(8,b);break;case 23:break;case 22:var J=b.stateNode;b.memoizedState!==null?J._visibility&2?pl(m,b,k,C,h):Bo(m,b):(J._visibility|=2,pl(m,b,k,C,h)),h&&q&2048&&Kf(b.alternate,b);break;case 24:pl(m,b,k,C,h),h&&q&2048&&Yf(b.alternate,b);break;default:pl(m,b,k,C,h)}n=n.sibling}}function Bo(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var i=t,c=n,h=c.flags;switch(c.tag){case 22:Bo(i,c),h&2048&&Kf(c.alternate,c);break;case 24:Bo(i,c),h&2048&&Yf(c.alternate,c);break;default:Bo(i,c)}n=n.sibling}}var qo=8192;function yl(t,n,i){if(t.subtreeFlags&qo)for(t=t.child;t!==null;)nx(t,n,i),t=t.sibling}function nx(t,n,i){switch(t.tag){case 26:yl(t,n,i),t.flags&qo&&t.memoizedState!==null&&rN(i,_n,t.memoizedState,t.memoizedProps);break;case 5:yl(t,n,i);break;case 3:case 4:var c=_n;_n=rd(t.stateNode.containerInfo),yl(t,n,i),_n=c;break;case 22:t.memoizedState===null&&(c=t.alternate,c!==null&&c.memoizedState!==null?(c=qo,qo=16777216,yl(t,n,i),qo=c):yl(t,n,i));break;default:yl(t,n,i)}}function ax(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Ho(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var i=0;i<n.length;i++){var c=n[i];Zt=c,ix(c,t)}ax(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)sx(t),t=t.sibling}function sx(t){switch(t.tag){case 0:case 11:case 15:Ho(t),t.flags&2048&&as(9,t,t.return);break;case 3:Ho(t);break;case 12:Ho(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,Hu(t)):Ho(t);break;default:Ho(t)}}function Hu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var i=0;i<n.length;i++){var c=n[i];Zt=c,ix(c,t)}ax(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:as(8,n,n.return),Hu(n);break;case 22:i=n.stateNode,i._visibility&2&&(i._visibility&=-3,Hu(n));break;default:Hu(n)}t=t.sibling}}function ix(t,n){for(;Zt!==null;){var i=Zt;switch(i.tag){case 0:case 11:case 15:as(8,i,n);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var c=i.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:To(i.memoizedState.cache)}if(c=i.child,c!==null)c.return=i,Zt=c;else e:for(i=t;Zt!==null;){c=Zt;var h=c.sibling,m=c.return;if(Xy(c),c===i){Zt=null;break e}if(h!==null){h.return=m,Zt=h;break e}Zt=m}}}var yk={getCacheForType:function(t){var n=ar(Vt),i=n.data.get(t);return i===void 0&&(i=t(),n.data.set(t,i)),i},cacheSignal:function(){return ar(Vt).controller.signal}},xk=typeof WeakMap=="function"?WeakMap:Map,rt=0,ht=null,qe=null,Ge=0,it=0,zr=null,ss=!1,xl=!1,Xf=!1,Ea=0,Nt=0,is=0,xi=0,Wf=0,Ur=0,bl=0,Fo=null,Tr=null,Zf=!1,Fu=0,lx=0,Gu=1/0,$u=null,ls=null,Ft=0,os=null,vl=null,Ta=0,Jf=0,e0=null,ox=null,Go=0,t0=null;function Br(){return(rt&2)!==0&&Ge!==0?Ge&-Ge:W.T!==null?l0():Qc()}function cx(){if(Ur===0)if((Ge&536870912)===0||Xe){var t=Gs;Gs<<=1,(Gs&3932160)===0&&(Gs=262144),Ur=t}else Ur=536870912;return t=Lr.current,t!==null&&(t.flags|=32),Ur}function jr(t,n,i){(t===ht&&(it===2||it===9)||t.cancelPendingCommit!==null)&&(wl(t,0),cs(t,Ge,Ur,!1)),$s(t,i),((rt&2)===0||t!==ht)&&(t===ht&&((rt&2)===0&&(xi|=i),Nt===4&&cs(t,Ge,Ur,!1)),Xn(t))}function ux(t,n,i){if((rt&6)!==0)throw Error(s(327));var c=!i&&(n&127)===0&&(n&t.expiredLanes)===0||fn(t,n),h=c?wk(t,n):n0(t,n,!0),m=c;do{if(h===0){xl&&!c&&cs(t,n,0,!1);break}else{if(i=t.current.alternate,m&&!bk(i)){h=n0(t,n,!1),m=!1;continue}if(h===2){if(m=n,t.errorRecoveryDisabledLanes&m)var b=0;else b=t.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){n=b;e:{var k=t;h=Fo;var C=k.current.memoizedState.isDehydrated;if(C&&(wl(k,b).flags|=256),b=n0(k,b,!1),b!==2){if(Xf&&!C){k.errorRecoveryDisabledLanes|=m,xi|=m,h=4;break e}m=Tr,Tr=h,m!==null&&(Tr===null?Tr=m:Tr.push.apply(Tr,m))}h=b}if(m=!1,h!==2)continue}}if(h===1){wl(t,0),cs(t,n,0,!0);break}e:{switch(c=t,m=h,m){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:cs(c,n,Ur,!ss);break e;case 2:Tr=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(h=Fu+300-tr(),10<h)){if(cs(c,n,Ur,!ss),In(c,0,!0)!==0)break e;Ta=n,c.timeoutHandle=Bx(dx.bind(null,c,i,Tr,$u,Zf,n,Ur,xi,bl,ss,m,"Throttled",-0,0),h);break e}dx(c,i,Tr,$u,Zf,n,Ur,xi,bl,ss,m,null,-0,0)}}break}while(!0);Xn(t)}function dx(t,n,i,c,h,m,b,k,C,q,J,se,H,K){if(t.timeoutHandle=-1,se=n.subtreeFlags,se&8192||(se&16785408)===16785408){se={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:pn},nx(n,m,se);var be=(m&62914560)===m?Fu-tr():(m&4194048)===m?lx-tr():0;if(be=nN(se,be),be!==null){Ta=m,t.cancelPendingCommit=be(bx.bind(null,t,n,m,i,c,h,b,k,C,J,se,null,H,K)),cs(t,m,b,!q);return}}bx(t,n,m,i,c,h,b,k,C)}function bk(t){for(var n=t;;){var i=n.tag;if((i===0||i===11||i===15)&&n.flags&16384&&(i=n.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var c=0;c<i.length;c++){var h=i[c],m=h.getSnapshot;h=h.value;try{if(!Mr(m(),h))return!1}catch{return!1}}if(i=n.child,n.subtreeFlags&16384&&i!==null)i.return=n,n=i;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function cs(t,n,i,c){n&=~Wf,n&=~xi,t.suspendedLanes|=n,t.pingedLanes&=~n,c&&(t.warmLanes|=n),c=t.expirationTimes;for(var h=n;0<h;){var m=31-Be(h),b=1<<m;c[m]=-1,h&=~b}i!==0&&Qs(t,i,n)}function Qu(){return(rt&6)===0?($o(0),!1):!0}function r0(){if(qe!==null){if(it===0)var t=qe.return;else t=qe,ga=ci=null,xf(t),dl=null,So=0,t=qe;for(;t!==null;)qy(t.alternate,t),t=t.return;qe=null}}function wl(t,n){var i=t.timeoutHandle;i!==-1&&(t.timeoutHandle=-1,zk(i)),i=t.cancelPendingCommit,i!==null&&(t.cancelPendingCommit=null,i()),Ta=0,r0(),ht=t,qe=i=fa(t.current,null),Ge=n,it=0,zr=null,ss=!1,xl=fn(t,n),Xf=!1,bl=Ur=Wf=xi=is=Nt=0,Tr=Fo=null,Zf=!1,(n&8)!==0&&(n|=n&32);var c=t.entangledLanes;if(c!==0)for(t=t.entanglements,c&=n;0<c;){var h=31-Be(c),m=1<<h;n|=t[h],c&=~m}return Ea=n,mu(),i}function hx(t,n){Pe=null,W.H=Vo,n===ul||n===_u?(n=Sp(),it=3):n===sf?(n=Sp(),it=4):it=n===Of?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,zr=n,qe===null&&(Nt=1,Vu(t,Wr(n,t.current)))}function fx(){var t=Lr.current;return t===null?!0:(Ge&4194048)===Ge?tn===null:(Ge&62914560)===Ge||(Ge&536870912)!==0?t===tn:!1}function mx(){var t=W.H;return W.H=Vo,t===null?Vo:t}function gx(){var t=W.A;return W.A=yk,t}function Ku(){Nt=4,ss||(Ge&4194048)!==Ge&&Lr.current!==null||(xl=!0),(is&134217727)===0&&(xi&134217727)===0||ht===null||cs(ht,Ge,Ur,!1)}function n0(t,n,i){var c=rt;rt|=2;var h=mx(),m=gx();(ht!==t||Ge!==n)&&($u=null,wl(t,n)),n=!1;var b=Nt;e:do try{if(it!==0&&qe!==null){var k=qe,C=zr;switch(it){case 8:r0(),b=6;break e;case 3:case 2:case 9:case 6:Lr.current===null&&(n=!0);var q=it;if(it=0,zr=null,_l(t,k,C,q),i&&xl){b=0;break e}break;default:q=it,it=0,zr=null,_l(t,k,C,q)}}vk(),b=Nt;break}catch(J){hx(t,J)}while(!0);return n&&t.shellSuspendCounter++,ga=ci=null,rt=c,W.H=h,W.A=m,qe===null&&(ht=null,Ge=0,mu()),b}function vk(){for(;qe!==null;)px(qe)}function wk(t,n){var i=rt;rt|=2;var c=mx(),h=gx();ht!==t||Ge!==n?($u=null,Gu=tr()+500,wl(t,n)):xl=fn(t,n);e:do try{if(it!==0&&qe!==null){n=qe;var m=zr;t:switch(it){case 1:it=0,zr=null,_l(t,n,m,1);break;case 2:case 9:if(Tp(m)){it=0,zr=null,yx(n);break}n=function(){it!==2&&it!==9||ht!==t||(it=7),Xn(t)},m.then(n,n);break e;case 3:it=7;break e;case 4:it=5;break e;case 7:Tp(m)?(it=0,zr=null,yx(n)):(it=0,zr=null,_l(t,n,m,7));break;case 5:var b=null;switch(qe.tag){case 26:b=qe.memoizedState;case 5:case 27:var k=qe;if(b?rb(b):k.stateNode.complete){it=0,zr=null;var C=k.sibling;if(C!==null)qe=C;else{var q=k.return;q!==null?(qe=q,Yu(q)):qe=null}break t}}it=0,zr=null,_l(t,n,m,5);break;case 6:it=0,zr=null,_l(t,n,m,6);break;case 8:r0(),Nt=6;break e;default:throw Error(s(462))}}_k();break}catch(J){hx(t,J)}while(!0);return ga=ci=null,W.H=c,W.A=h,rt=i,qe!==null?0:(ht=null,Ge=0,mu(),Nt)}function _k(){for(;qe!==null&&!to();)px(qe)}function px(t){var n=Uy(t.alternate,t,Ea);t.memoizedProps=t.pendingProps,n===null?Yu(t):qe=n}function yx(t){var n=t,i=n.alternate;switch(n.tag){case 15:case 0:n=Oy(i,n,n.pendingProps,n.type,void 0,Ge);break;case 11:n=Oy(i,n,n.pendingProps,n.type.render,n.ref,Ge);break;case 5:xf(n);default:qy(i,n),n=qe=gp(n,Ea),n=Uy(i,n,Ea)}t.memoizedProps=t.pendingProps,n===null?Yu(t):qe=n}function _l(t,n,i,c){ga=ci=null,xf(n),dl=null,So=0;var h=n.return;try{if(uk(t,h,n,i,Ge)){Nt=1,Vu(t,Wr(i,t.current)),qe=null;return}}catch(m){if(h!==null)throw qe=h,m;Nt=1,Vu(t,Wr(i,t.current)),qe=null;return}n.flags&32768?(Xe||c===1?t=!0:xl||(Ge&536870912)!==0?t=!1:(ss=t=!0,(c===2||c===9||c===3||c===6)&&(c=Lr.current,c!==null&&c.tag===13&&(c.flags|=16384))),xx(n,t)):Yu(n)}function Yu(t){var n=t;do{if((n.flags&32768)!==0){xx(n,ss);return}t=n.return;var i=fk(n.alternate,n,Ea);if(i!==null){qe=i;return}if(n=n.sibling,n!==null){qe=n;return}qe=n=t}while(n!==null);Nt===0&&(Nt=5)}function xx(t,n){do{var i=mk(t.alternate,t);if(i!==null){i.flags&=32767,qe=i;return}if(i=t.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!n&&(t=t.sibling,t!==null)){qe=t;return}qe=t=i}while(t!==null);Nt=6,qe=null}function bx(t,n,i,c,h,m,b,k,C){t.cancelPendingCommit=null;do Xu();while(Ft!==0);if((rt&6)!==0)throw Error(s(327));if(n!==null){if(n===t.current)throw Error(s(177));if(m=n.lanes|n.childLanes,m|=Fh,Mh(t,i,m,b,k,C),t===ht&&(qe=ht=null,Ge=0),vl=n,os=t,Ta=i,Jf=m,e0=h,ox=c,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Tk(ge,function(){return Nx(),null})):(t.callbackNode=null,t.callbackPriority=0),c=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||c){c=W.T,W.T=null,h=ce.p,ce.p=2,b=rt,rt|=4;try{gk(t,n,i)}finally{rt=b,ce.p=h,W.T=c}}Ft=1,vx(),wx(),_x()}}function vx(){if(Ft===1){Ft=0;var t=os,n=vl,i=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||i){i=W.T,W.T=null;var c=ce.p;ce.p=2;var h=rt;rt|=4;try{ex(n,t);var m=g0,b=ip(t.containerInfo),k=m.focusedElem,C=m.selectionRange;if(b!==k&&k&&k.ownerDocument&&sp(k.ownerDocument.documentElement,k)){if(C!==null&&zh(k)){var q=C.start,J=C.end;if(J===void 0&&(J=q),"selectionStart"in k)k.selectionStart=q,k.selectionEnd=Math.min(J,k.value.length);else{var se=k.ownerDocument||document,H=se&&se.defaultView||window;if(H.getSelection){var K=H.getSelection(),be=k.textContent.length,Te=Math.min(C.start,be),dt=C.end===void 0?Te:Math.min(C.end,be);!K.extend&&Te>dt&&(b=dt,dt=Te,Te=b);var L=ap(k,Te),O=ap(k,dt);if(L&&O&&(K.rangeCount!==1||K.anchorNode!==L.node||K.anchorOffset!==L.offset||K.focusNode!==O.node||K.focusOffset!==O.offset)){var B=se.createRange();B.setStart(L.node,L.offset),K.removeAllRanges(),Te>dt?(K.addRange(B),K.extend(O.node,O.offset)):(B.setEnd(O.node,O.offset),K.addRange(B))}}}}for(se=[],K=k;K=K.parentNode;)K.nodeType===1&&se.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof k.focus=="function"&&k.focus(),k=0;k<se.length;k++){var re=se[k];re.element.scrollLeft=re.left,re.element.scrollTop=re.top}}od=!!m0,g0=m0=null}finally{rt=h,ce.p=c,W.T=i}}t.current=n,Ft=2}}function wx(){if(Ft===2){Ft=0;var t=os,n=vl,i=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||i){i=W.T,W.T=null;var c=ce.p;ce.p=2;var h=rt;rt|=4;try{Yy(t,n.alternate,n)}finally{rt=h,ce.p=c,W.T=i}}Ft=3}}function _x(){if(Ft===4||Ft===3){Ft=0,qs();var t=os,n=vl,i=Ta,c=ox;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ft=5:(Ft=0,vl=os=null,kx(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(ls=null),ca(i),n=n.stateNode,We&&typeof We.onCommitFiberRoot=="function")try{We.onCommitFiberRoot(Fe,n,void 0,(n.current.flags&128)===128)}catch{}if(c!==null){n=W.T,h=ce.p,ce.p=2,W.T=null;try{for(var m=t.onRecoverableError,b=0;b<c.length;b++){var k=c[b];m(k.value,{componentStack:k.stack})}}finally{W.T=n,ce.p=h}}(Ta&3)!==0&&Xu(),Xn(t),h=t.pendingLanes,(i&261930)!==0&&(h&42)!==0?t===t0?Go++:(Go=0,t0=t):Go=0,$o(0)}}function kx(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,To(n)))}function Xu(){return vx(),wx(),_x(),Nx()}function Nx(){if(Ft!==5)return!1;var t=os,n=Jf;Jf=0;var i=ca(Ta),c=W.T,h=ce.p;try{ce.p=32>i?32:i,W.T=null,i=e0,e0=null;var m=os,b=Ta;if(Ft=0,vl=os=null,Ta=0,(rt&6)!==0)throw Error(s(331));var k=rt;if(rt|=4,sx(m.current),rx(m,m.current,b,i),rt=k,$o(0,!1),We&&typeof We.onPostCommitFiberRoot=="function")try{We.onPostCommitFiberRoot(Fe,m)}catch{}return!0}finally{ce.p=h,W.T=c,kx(t,n)}}function Ex(t,n,i){n=Wr(i,n),n=Df(t.stateNode,n,2),t=ts(t,n,2),t!==null&&($s(t,2),Xn(t))}function lt(t,n,i){if(t.tag===3)Ex(t,t,i);else for(;n!==null;){if(n.tag===3){Ex(n,t,i);break}else if(n.tag===1){var c=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(ls===null||!ls.has(c))){t=Wr(i,t),i=Ty(2),c=ts(n,i,2),c!==null&&(jy(i,c,n,t),$s(c,2),Xn(c));break}}n=n.return}}function a0(t,n,i){var c=t.pingCache;if(c===null){c=t.pingCache=new xk;var h=new Set;c.set(n,h)}else h=c.get(n),h===void 0&&(h=new Set,c.set(n,h));h.has(i)||(Xf=!0,h.add(i),t=kk.bind(null,t,n,i),n.then(t,t))}function kk(t,n,i){var c=t.pingCache;c!==null&&c.delete(n),t.pingedLanes|=t.suspendedLanes&i,t.warmLanes&=~i,ht===t&&(Ge&i)===i&&(Nt===4||Nt===3&&(Ge&62914560)===Ge&&300>tr()-Fu?(rt&2)===0&&wl(t,0):Wf|=i,bl===Ge&&(bl=0)),Xn(t)}function Tx(t,n){n===0&&(n=$c()),t=ii(t,n),t!==null&&($s(t,n),Xn(t))}function Nk(t){var n=t.memoizedState,i=0;n!==null&&(i=n.retryLane),Tx(t,i)}function Ek(t,n){var i=0;switch(t.tag){case 31:case 13:var c=t.stateNode,h=t.memoizedState;h!==null&&(i=h.retryLane);break;case 19:c=t.stateNode;break;case 22:c=t.stateNode._retryCache;break;default:throw Error(s(314))}c!==null&&c.delete(n),Tx(t,i)}function Tk(t,n){return jt(t,n)}var Wu=null,kl=null,s0=!1,Zu=!1,i0=!1,us=0;function Xn(t){t!==kl&&t.next===null&&(kl===null?Wu=kl=t:kl=kl.next=t),Zu=!0,s0||(s0=!0,Sk())}function $o(t,n){if(!i0&&Zu){i0=!0;do for(var i=!1,c=Wu;c!==null;){if(t!==0){var h=c.pendingLanes;if(h===0)var m=0;else{var b=c.suspendedLanes,k=c.pingedLanes;m=(1<<31-Be(42|t)+1)-1,m&=h&~(b&~k),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(i=!0,Cx(c,m))}else m=Ge,m=In(c,c===ht?m:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(m&3)===0||fn(c,m)||(i=!0,Cx(c,m));c=c.next}while(i);i0=!1}}function jk(){jx()}function jx(){Zu=s0=!1;var t=0;us!==0&&Pk()&&(t=us);for(var n=tr(),i=null,c=Wu;c!==null;){var h=c.next,m=Sx(c,n);m===0?(c.next=null,i===null?Wu=h:i.next=h,h===null&&(kl=i)):(i=c,(t!==0||(m&3)!==0)&&(Zu=!0)),c=h}Ft!==0&&Ft!==5||$o(t),us!==0&&(us=0)}function Sx(t,n){for(var i=t.suspendedLanes,c=t.pingedLanes,h=t.expirationTimes,m=t.pendingLanes&-62914561;0<m;){var b=31-Be(m),k=1<<b,C=h[b];C===-1?((k&i)===0||(k&c)!==0)&&(h[b]=Oh(k,n)):C<=n&&(t.expiredLanes|=k),m&=~k}if(n=ht,i=Ge,i=In(t,t===n?i:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),c=t.callbackNode,i===0||t===n&&(it===2||it===9)||t.cancelPendingCommit!==null)return c!==null&&c!==null&&Rr(c),t.callbackNode=null,t.callbackPriority=0;if((i&3)===0||fn(t,i)){if(n=i&-i,n===t.callbackPriority)return n;switch(c!==null&&Rr(c),ca(i)){case 2:case 8:i=Fs;break;case 32:i=ge;break;case 268435456:i=Ae;break;default:i=ge}return c=Ax.bind(null,t),i=jt(i,c),t.callbackPriority=n,t.callbackNode=i,n}return c!==null&&c!==null&&Rr(c),t.callbackPriority=2,t.callbackNode=null,2}function Ax(t,n){if(Ft!==0&&Ft!==5)return t.callbackNode=null,t.callbackPriority=0,null;var i=t.callbackNode;if(Xu()&&t.callbackNode!==i)return null;var c=Ge;return c=In(t,t===ht?c:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),c===0?null:(ux(t,c,n),Sx(t,tr()),t.callbackNode!=null&&t.callbackNode===i?Ax.bind(null,t):null)}function Cx(t,n){if(Xu())return null;ux(t,n,!0)}function Sk(){Uk(function(){(rt&6)!==0?jt(Hs,jk):jx()})}function l0(){if(us===0){var t=ol;t===0&&(t=Ir,Ir<<=1,(Ir&261888)===0&&(Ir=256)),us=t}return us}function Rx(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Qi(""+t)}function Ix(t,n){var i=n.ownerDocument.createElement("input");return i.name=n.name,i.value=n.value,t.id&&i.setAttribute("form",t.id),n.parentNode.insertBefore(i,n),t=new FormData(t),i.parentNode.removeChild(i),t}function Ak(t,n,i,c,h){if(n==="submit"&&i&&i.stateNode===h){var m=Rx((h[Xt]||null).action),b=c.submitter;b&&(n=(n=b[Xt]||null)?Rx(n.formAction):b.getAttribute("formAction"),n!==null&&(m=n,b=null));var k=new Hn("action","action",null,c,h);t.push({event:k,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(us!==0){var C=b?Ix(h,b):new FormData(h);jf(i,{pending:!0,data:C,method:h.method,action:m},null,C)}}else typeof m=="function"&&(k.preventDefault(),C=b?Ix(h,b):new FormData(h),jf(i,{pending:!0,data:C,method:h.method,action:m},m,C))},currentTarget:h}]})}}for(var o0=0;o0<Hh.length;o0++){var c0=Hh[o0],Ck=c0.toLowerCase(),Rk=c0[0].toUpperCase()+c0.slice(1);wn(Ck,"on"+Rk)}wn(cp,"onAnimationEnd"),wn(up,"onAnimationIteration"),wn(dp,"onAnimationStart"),wn("dblclick","onDoubleClick"),wn("focusin","onFocus"),wn("focusout","onBlur"),wn(Q_,"onTransitionRun"),wn(K_,"onTransitionStart"),wn(Y_,"onTransitionCancel"),wn(hp,"onTransitionEnd"),zn("onMouseEnter",["mouseout","mouseover"]),zn("onMouseLeave",["mouseout","mouseover"]),zn("onPointerEnter",["pointerout","pointerover"]),zn("onPointerLeave",["pointerout","pointerover"]),Pn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Pn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Pn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Pn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Pn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Pn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ik=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Qo));function Dx(t,n){n=(n&4)!==0;for(var i=0;i<t.length;i++){var c=t[i],h=c.event;c=c.listeners;e:{var m=void 0;if(n)for(var b=c.length-1;0<=b;b--){var k=c[b],C=k.instance,q=k.currentTarget;if(k=k.listener,C!==m&&h.isPropagationStopped())break e;m=k,h.currentTarget=q;try{m(h)}catch(J){fu(J)}h.currentTarget=null,m=C}else for(b=0;b<c.length;b++){if(k=c[b],C=k.instance,q=k.currentTarget,k=k.listener,C!==m&&h.isPropagationStopped())break e;m=k,h.currentTarget=q;try{m(h)}catch(J){fu(J)}h.currentTarget=null,m=C}}}}function He(t,n){var i=n[qi];i===void 0&&(i=n[qi]=new Set);var c=t+"__bubble";i.has(c)||(Ox(n,t,2,!1),i.add(c))}function u0(t,n,i){var c=0;n&&(c|=4),Ox(i,t,c,n)}var Ju="_reactListening"+Math.random().toString(36).slice(2);function d0(t){if(!t[Ju]){t[Ju]=!0,ao.forEach(function(i){i!=="selectionchange"&&(Ik.has(i)||u0(i,!1,t),u0(i,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Ju]||(n[Ju]=!0,u0("selectionchange",!1,n))}}function Ox(t,n,i,c){switch(cb(n)){case 2:var h=iN;break;case 8:h=lN;break;default:h=T0}i=h.bind(null,n,i,t),h=void 0,!Zs||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),c?h!==void 0?t.addEventListener(n,i,{capture:!0,passive:h}):t.addEventListener(n,i,!0):h!==void 0?t.addEventListener(n,i,{passive:h}):t.addEventListener(n,i,!1)}function h0(t,n,i,c,h){var m=c;if((n&1)===0&&(n&2)===0&&c!==null)e:for(;;){if(c===null)return;var b=c.tag;if(b===3||b===4){var k=c.stateNode.containerInfo;if(k===h)break;if(b===4)for(b=c.return;b!==null;){var C=b.tag;if((C===3||C===4)&&b.stateNode.containerInfo===h)return;b=b.return}for(;k!==null;){if(b=Vn(k),b===null)return;if(C=b.tag,C===5||C===6||C===26||C===27){c=m=b;continue e}k=k.parentNode}}c=c.return}Ga(function(){var q=m,J=Qr(i),se=[];e:{var H=fp.get(t);if(H!==void 0){var K=Hn,be=t;switch(t){case"keypress":if(ei(i)===0)break e;case"keydown":case"keyup":K=uu;break;case"focusin":be="focus",K=ri;break;case"focusout":be="blur",K=ri;break;case"beforeblur":case"afterblur":K=ri;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=xo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=tu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=x;break;case cp:case up:case dp:K=nu;break;case hp:K=E;break;case"scroll":case"scrollend":K=yo;break;case"wheel":K=G;break;case"copy":case"cut":case"paste":K=au;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=ha;break;case"toggle":case"beforetoggle":K=Le}var Te=(n&4)!==0,dt=!Te&&(t==="scroll"||t==="scrollend"),L=Te?H!==null?H+"Capture":null:H;Te=[];for(var O=q,B;O!==null;){var re=O;if(B=re.stateNode,re=re.tag,re!==5&&re!==26&&re!==27||B===null||L===null||(re=yn(O,L),re!=null&&Te.push(Ko(O,re,B))),dt)break;O=O.return}0<Te.length&&(H=new K(H,be,null,i,J),se.push({event:H,listeners:Te}))}}if((n&7)===0){e:{if(H=t==="mouseover"||t==="pointerover",K=t==="mouseout"||t==="pointerout",H&&i!==mo&&(be=i.relatedTarget||i.fromElement)&&(Vn(be)||be[On]))break e;if((K||H)&&(H=J.window===J?J:(H=J.ownerDocument)?H.defaultView||H.parentWindow:window,K?(be=i.relatedTarget||i.toElement,K=q,be=be?Vn(be):null,be!==null&&(dt=u(be),Te=be.tag,be!==dt||Te!==5&&Te!==27&&Te!==6)&&(be=null)):(K=null,be=q),K!==be)){if(Te=xo,re="onMouseLeave",L="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(Te=ha,re="onPointerLeave",L="onPointerEnter",O="pointer"),dt=K==null?H:Dr(K),B=be==null?H:Dr(be),H=new Te(re,O+"leave",K,i,J),H.target=dt,H.relatedTarget=B,re=null,Vn(J)===q&&(Te=new Te(L,O+"enter",be,i,J),Te.target=B,Te.relatedTarget=dt,re=Te),dt=re,K&&be)t:{for(Te=Dk,L=K,O=be,B=0,re=L;re;re=Te(re))B++;re=0;for(var ke=O;ke;ke=Te(ke))re++;for(;0<B-re;)L=Te(L),B--;for(;0<re-B;)O=Te(O),re--;for(;B--;){if(L===O||O!==null&&L===O.alternate){Te=L;break t}L=Te(L),O=Te(O)}Te=null}else Te=null;K!==null&&Mx(se,H,K,Te,!1),be!==null&&dt!==null&&Mx(se,dt,be,Te,!0)}}e:{if(H=q?Dr(q):window,K=H.nodeName&&H.nodeName.toLowerCase(),K==="select"||K==="input"&&H.type==="file")var Je=Zg;else if(Xg(H))if(Jg)Je=F_;else{Je=q_;var we=B_}else K=H.nodeName,!K||K.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?q&&$i(q.elementType)&&(Je=Zg):Je=H_;if(Je&&(Je=Je(t,q))){Wg(se,Je,i,J);break e}we&&we(t,H,q),t==="focusout"&&q&&H.type==="number"&&q.memoizedProps.value!=null&&uo(H,"number",H.value)}switch(we=q?Dr(q):window,t){case"focusin":(Xg(we)||we.contentEditable==="true")&&(el=we,Uh=q,ko=null);break;case"focusout":ko=Uh=el=null;break;case"mousedown":Bh=!0;break;case"contextmenu":case"mouseup":case"dragend":Bh=!1,lp(se,i,J);break;case"selectionchange":if($_)break;case"keydown":case"keyup":lp(se,i,J)}var Ue;if(tt)e:{switch(t){case"compositionstart":var $e="onCompositionStart";break e;case"compositionend":$e="onCompositionEnd";break e;case"compositionupdate":$e="onCompositionUpdate";break e}$e=void 0}else Ji?ni(t,i)&&($e="onCompositionEnd"):t==="keydown"&&i.keyCode===229&&($e="onCompositionStart");$e&&($n&&i.locale!=="ko"&&(Ji||$e!=="onCompositionStart"?$e==="onCompositionEnd"&&Ji&&(Ue=po()):(qn=J,go="value"in qn?qn.value:qn.textContent,Ji=!0)),we=ed(q,$e),0<we.length&&($e=new Gn($e,t,null,i,J),se.push({event:$e,listeners:we}),Ue?$e.data=Ue:(Ue=Zi(i),Ue!==null&&($e.data=Ue)))),(Ue=Yr?L_(t,i):P_(t,i))&&($e=ed(q,"onBeforeInput"),0<$e.length&&(we=new Gn("onBeforeInput","beforeinput",null,i,J),se.push({event:we,listeners:$e}),we.data=Ue)),Ak(se,t,q,i,J)}Dx(se,n)})}function Ko(t,n,i){return{instance:t,listener:n,currentTarget:i}}function ed(t,n){for(var i=n+"Capture",c=[];t!==null;){var h=t,m=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||m===null||(h=yn(t,i),h!=null&&c.unshift(Ko(t,h,m)),h=yn(t,n),h!=null&&c.push(Ko(t,h,m))),t.tag===3)return c;t=t.return}return[]}function Dk(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Mx(t,n,i,c,h){for(var m=n._reactName,b=[];i!==null&&i!==c;){var k=i,C=k.alternate,q=k.stateNode;if(k=k.tag,C!==null&&C===c)break;k!==5&&k!==26&&k!==27||q===null||(C=q,h?(q=yn(i,m),q!=null&&b.unshift(Ko(i,q,C))):h||(q=yn(i,m),q!=null&&b.push(Ko(i,q,C)))),i=i.return}b.length!==0&&t.push({event:n,listeners:b})}var Ok=/\r\n?/g,Mk=/\u0000|\uFFFD/g;function Vx(t){return(typeof t=="string"?t:""+t).replace(Ok,`
`).replace(Mk,"")}function Lx(t,n){return n=Vx(n),Vx(t)===n}function ut(t,n,i,c,h,m){switch(i){case"children":typeof c=="string"?n==="body"||n==="textarea"&&c===""||_r(t,c):(typeof c=="number"||typeof c=="bigint")&&n!=="body"&&_r(t,""+c);break;case"className":Or(t,"class",c);break;case"tabIndex":Or(t,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Or(t,i,c);break;case"style":fo(t,c,m);break;case"data":if(n!=="object"){Or(t,"data",c);break}case"src":case"href":if(c===""&&(n!=="a"||i!=="href")){t.removeAttribute(i);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){t.removeAttribute(i);break}c=Qi(""+c),t.setAttribute(i,c);break;case"action":case"formAction":if(typeof c=="function"){t.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(i==="formAction"?(n!=="input"&&ut(t,n,"name",h.name,h,null),ut(t,n,"formEncType",h.formEncType,h,null),ut(t,n,"formMethod",h.formMethod,h,null),ut(t,n,"formTarget",h.formTarget,h,null)):(ut(t,n,"encType",h.encType,h,null),ut(t,n,"method",h.method,h,null),ut(t,n,"target",h.target,h,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){t.removeAttribute(i);break}c=Qi(""+c),t.setAttribute(i,c);break;case"onClick":c!=null&&(t.onclick=pn);break;case"onScroll":c!=null&&He("scroll",t);break;case"onScrollEnd":c!=null&&He("scrollend",t);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(i=c.__html,i!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=i}}break;case"multiple":t.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":t.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){t.removeAttribute("xlink:href");break}i=Qi(""+c),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?t.setAttribute(i,""+c):t.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?t.setAttribute(i,""):t.removeAttribute(i);break;case"capture":case"download":c===!0?t.setAttribute(i,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?t.setAttribute(i,c):t.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?t.setAttribute(i,c):t.removeAttribute(i);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?t.removeAttribute(i):t.setAttribute(i,c);break;case"popover":He("beforetoggle",t),He("toggle",t),Fi(t,"popover",c);break;case"xlinkActuate":Mt(t,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Mt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Mt(t,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Mt(t,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Mt(t,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Mt(t,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Mt(t,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Mt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Mt(t,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Fi(t,"is",c);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=eu.get(i)||i,Fi(t,i,c))}}function f0(t,n,i,c,h,m){switch(i){case"style":fo(t,c,m);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(i=c.__html,i!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=i}}break;case"children":typeof c=="string"?_r(t,c):(typeof c=="number"||typeof c=="bigint")&&_r(t,""+c);break;case"onScroll":c!=null&&He("scroll",t);break;case"onScrollEnd":c!=null&&He("scrollend",t);break;case"onClick":c!=null&&(t.onclick=pn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!so.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(h=i.endsWith("Capture"),n=i.slice(2,h?i.length-7:void 0),m=t[Xt]||null,m=m!=null?m[i]:null,typeof m=="function"&&t.removeEventListener(n,m,h),typeof c=="function")){typeof m!="function"&&m!==null&&(i in t?t[i]=null:t.hasAttribute(i)&&t.removeAttribute(i)),t.addEventListener(n,c,h);break e}i in t?t[i]=c:c===!0?t.setAttribute(i,""):Fi(t,i,c)}}}function ir(t,n,i){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":He("error",t),He("load",t);var c=!1,h=!1,m;for(m in i)if(i.hasOwnProperty(m)){var b=i[m];if(b!=null)switch(m){case"src":c=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:ut(t,n,m,b,i,null)}}h&&ut(t,n,"srcSet",i.srcSet,i,null),c&&ut(t,n,"src",i.src,i,null);return;case"input":He("invalid",t);var k=m=b=h=null,C=null,q=null;for(c in i)if(i.hasOwnProperty(c)){var J=i[c];if(J!=null)switch(c){case"name":h=J;break;case"type":b=J;break;case"checked":C=J;break;case"defaultChecked":q=J;break;case"value":m=J;break;case"defaultValue":k=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(s(137,n));break;default:ut(t,n,c,J,i,null)}}Wc(t,m,k,C,q,b,h,!1);return;case"select":He("invalid",t),c=b=m=null;for(h in i)if(i.hasOwnProperty(h)&&(k=i[h],k!=null))switch(h){case"value":m=k;break;case"defaultValue":b=k;break;case"multiple":c=k;default:ut(t,n,h,k,i,null)}n=m,i=b,t.multiple=!!c,n!=null?Ba(t,!!c,n,!1):i!=null&&Ba(t,!!c,i,!0);return;case"textarea":He("invalid",t),m=h=c=null;for(b in i)if(i.hasOwnProperty(b)&&(k=i[b],k!=null))switch(b){case"value":c=k;break;case"defaultValue":h=k;break;case"children":m=k;break;case"dangerouslySetInnerHTML":if(k!=null)throw Error(s(91));break;default:ut(t,n,b,k,i,null)}qa(t,c,h,m);return;case"option":for(C in i)if(i.hasOwnProperty(C)&&(c=i[C],c!=null))switch(C){case"selected":t.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:ut(t,n,C,c,i,null)}return;case"dialog":He("beforetoggle",t),He("toggle",t),He("cancel",t),He("close",t);break;case"iframe":case"object":He("load",t);break;case"video":case"audio":for(c=0;c<Qo.length;c++)He(Qo[c],t);break;case"image":He("error",t),He("load",t);break;case"details":He("toggle",t);break;case"embed":case"source":case"link":He("error",t),He("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in i)if(i.hasOwnProperty(q)&&(c=i[q],c!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:ut(t,n,q,c,i,null)}return;default:if($i(n)){for(J in i)i.hasOwnProperty(J)&&(c=i[J],c!==void 0&&f0(t,n,J,c,i,void 0));return}}for(k in i)i.hasOwnProperty(k)&&(c=i[k],c!=null&&ut(t,n,k,c,i,null))}function Vk(t,n,i,c){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,m=null,b=null,k=null,C=null,q=null,J=null;for(K in i){var se=i[K];if(i.hasOwnProperty(K)&&se!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":C=se;default:c.hasOwnProperty(K)||ut(t,n,K,null,c,se)}}for(var H in c){var K=c[H];if(se=i[H],c.hasOwnProperty(H)&&(K!=null||se!=null))switch(H){case"type":m=K;break;case"name":h=K;break;case"checked":q=K;break;case"defaultChecked":J=K;break;case"value":b=K;break;case"defaultValue":k=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,n));break;default:K!==se&&ut(t,n,H,K,c,se)}}Gi(t,b,k,C,q,J,m,h);return;case"select":K=b=k=H=null;for(m in i)if(C=i[m],i.hasOwnProperty(m)&&C!=null)switch(m){case"value":break;case"multiple":K=C;default:c.hasOwnProperty(m)||ut(t,n,m,null,c,C)}for(h in c)if(m=c[h],C=i[h],c.hasOwnProperty(h)&&(m!=null||C!=null))switch(h){case"value":H=m;break;case"defaultValue":k=m;break;case"multiple":b=m;default:m!==C&&ut(t,n,h,m,c,C)}n=k,i=b,c=K,H!=null?Ba(t,!!i,H,!1):!!c!=!!i&&(n!=null?Ba(t,!!i,n,!0):Ba(t,!!i,i?[]:"",!1));return;case"textarea":K=H=null;for(k in i)if(h=i[k],i.hasOwnProperty(k)&&h!=null&&!c.hasOwnProperty(k))switch(k){case"value":break;case"children":break;default:ut(t,n,k,null,c,h)}for(b in c)if(h=c[b],m=i[b],c.hasOwnProperty(b)&&(h!=null||m!=null))switch(b){case"value":H=h;break;case"defaultValue":K=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==m&&ut(t,n,b,h,c,m)}Zc(t,H,K);return;case"option":for(var be in i)if(H=i[be],i.hasOwnProperty(be)&&H!=null&&!c.hasOwnProperty(be))switch(be){case"selected":t.selected=!1;break;default:ut(t,n,be,null,c,H)}for(C in c)if(H=c[C],K=i[C],c.hasOwnProperty(C)&&H!==K&&(H!=null||K!=null))switch(C){case"selected":t.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:ut(t,n,C,H,c,K)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Te in i)H=i[Te],i.hasOwnProperty(Te)&&H!=null&&!c.hasOwnProperty(Te)&&ut(t,n,Te,null,c,H);for(q in c)if(H=c[q],K=i[q],c.hasOwnProperty(q)&&H!==K&&(H!=null||K!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,n));break;default:ut(t,n,q,H,c,K)}return;default:if($i(n)){for(var dt in i)H=i[dt],i.hasOwnProperty(dt)&&H!==void 0&&!c.hasOwnProperty(dt)&&f0(t,n,dt,void 0,c,H);for(J in c)H=c[J],K=i[J],!c.hasOwnProperty(J)||H===K||H===void 0&&K===void 0||f0(t,n,J,H,c,K);return}}for(var L in i)H=i[L],i.hasOwnProperty(L)&&H!=null&&!c.hasOwnProperty(L)&&ut(t,n,L,null,c,H);for(se in c)H=c[se],K=i[se],!c.hasOwnProperty(se)||H===K||H==null&&K==null||ut(t,n,se,H,c,K)}function Px(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Lk(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,i=performance.getEntriesByType("resource"),c=0;c<i.length;c++){var h=i[c],m=h.transferSize,b=h.initiatorType,k=h.duration;if(m&&k&&Px(b)){for(b=0,k=h.responseEnd,c+=1;c<i.length;c++){var C=i[c],q=C.startTime;if(q>k)break;var J=C.transferSize,se=C.initiatorType;J&&Px(se)&&(C=C.responseEnd,b+=J*(C<k?1:(k-q)/(C-q)))}if(--c,n+=8*(m+b)/(h.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var m0=null,g0=null;function td(t){return t.nodeType===9?t:t.ownerDocument}function zx(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ux(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function p0(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var y0=null;function Pk(){var t=window.event;return t&&t.type==="popstate"?t===y0?!1:(y0=t,!0):(y0=null,!1)}var Bx=typeof setTimeout=="function"?setTimeout:void 0,zk=typeof clearTimeout=="function"?clearTimeout:void 0,qx=typeof Promise=="function"?Promise:void 0,Uk=typeof queueMicrotask=="function"?queueMicrotask:typeof qx<"u"?function(t){return qx.resolve(null).then(t).catch(Bk)}:Bx;function Bk(t){setTimeout(function(){throw t})}function ds(t){return t==="head"}function Hx(t,n){var i=n,c=0;do{var h=i.nextSibling;if(t.removeChild(i),h&&h.nodeType===8)if(i=h.data,i==="/$"||i==="/&"){if(c===0){t.removeChild(h),jl(n);return}c--}else if(i==="$"||i==="$?"||i==="$~"||i==="$!"||i==="&")c++;else if(i==="html")Yo(t.ownerDocument.documentElement);else if(i==="head"){i=t.ownerDocument.head,Yo(i);for(var m=i.firstChild;m;){var b=m.nextSibling,k=m.nodeName;m[Mn]||k==="SCRIPT"||k==="STYLE"||k==="LINK"&&m.rel.toLowerCase()==="stylesheet"||i.removeChild(m),m=b}}else i==="body"&&Yo(t.ownerDocument.body);i=h}while(i);jl(n)}function Fx(t,n){var i=t;t=0;do{var c=i.nextSibling;if(i.nodeType===1?n?(i._stashedDisplay=i.style.display,i.style.display="none"):(i.style.display=i._stashedDisplay||"",i.getAttribute("style")===""&&i.removeAttribute("style")):i.nodeType===3&&(n?(i._stashedText=i.nodeValue,i.nodeValue=""):i.nodeValue=i._stashedText||""),c&&c.nodeType===8)if(i=c.data,i==="/$"){if(t===0)break;t--}else i!=="$"&&i!=="$?"&&i!=="$~"&&i!=="$!"||t++;i=c}while(i)}function x0(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var i=n;switch(n=n.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":x0(i),Hi(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}t.removeChild(i)}}function qk(t,n,i,c){for(;t.nodeType===1;){var h=i;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!c&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(c){if(!t[Mn])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(m=t.getAttribute("rel"),m==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(m!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(m=t.getAttribute("src"),(m!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&m&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var m=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===m)return t}else return t;if(t=rn(t.nextSibling),t===null)break}return null}function Hk(t,n,i){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=rn(t.nextSibling),t===null))return null;return t}function Gx(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=rn(t.nextSibling),t===null))return null;return t}function b0(t){return t.data==="$?"||t.data==="$~"}function v0(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function Fk(t,n){var i=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||i.readyState!=="loading")n();else{var c=function(){n(),i.removeEventListener("DOMContentLoaded",c)};i.addEventListener("DOMContentLoaded",c),t._reactRetry=c}}function rn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var w0=null;function $x(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var i=t.data;if(i==="/$"||i==="/&"){if(n===0)return rn(t.nextSibling);n--}else i!=="$"&&i!=="$!"&&i!=="$?"&&i!=="$~"&&i!=="&"||n++}t=t.nextSibling}return null}function Qx(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var i=t.data;if(i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"){if(n===0)return t;n--}else i!=="/$"&&i!=="/&"||n++}t=t.previousSibling}return null}function Kx(t,n,i){switch(n=td(i),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Yo(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Hi(t)}var nn=new Map,Yx=new Set;function rd(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var ja=ce.d;ce.d={f:Gk,r:$k,D:Qk,C:Kk,L:Yk,m:Xk,X:Zk,S:Wk,M:Jk};function Gk(){var t=ja.f(),n=Qu();return t||n}function $k(t){var n=$r(t);n!==null&&n.tag===5&&n.type==="form"?hy(n):ja.r(t)}var Nl=typeof document>"u"?null:document;function Xx(t,n,i){var c=Nl;if(c&&typeof n=="string"&&n){var h=wr(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof i=="string"&&(h+='[crossorigin="'+i+'"]'),Yx.has(h)||(Yx.add(h),t={rel:t,crossOrigin:i,href:n},c.querySelector(h)===null&&(n=c.createElement("link"),ir(n,"link",t),Ot(n),c.head.appendChild(n)))}}function Qk(t){ja.D(t),Xx("dns-prefetch",t,null)}function Kk(t,n){ja.C(t,n),Xx("preconnect",t,n)}function Yk(t,n,i){ja.L(t,n,i);var c=Nl;if(c&&t&&n){var h='link[rel="preload"][as="'+wr(n)+'"]';n==="image"&&i&&i.imageSrcSet?(h+='[imagesrcset="'+wr(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(h+='[imagesizes="'+wr(i.imageSizes)+'"]')):h+='[href="'+wr(t)+'"]';var m=h;switch(n){case"style":m=El(t);break;case"script":m=Tl(t)}nn.has(m)||(t=_({rel:"preload",href:n==="image"&&i&&i.imageSrcSet?void 0:t,as:n},i),nn.set(m,t),c.querySelector(h)!==null||n==="style"&&c.querySelector(Xo(m))||n==="script"&&c.querySelector(Wo(m))||(n=c.createElement("link"),ir(n,"link",t),Ot(n),c.head.appendChild(n)))}}function Xk(t,n){ja.m(t,n);var i=Nl;if(i&&t){var c=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+wr(c)+'"][href="'+wr(t)+'"]',m=h;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=Tl(t)}if(!nn.has(m)&&(t=_({rel:"modulepreload",href:t},n),nn.set(m,t),i.querySelector(h)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(Wo(m)))return}c=i.createElement("link"),ir(c,"link",t),Ot(c),i.head.appendChild(c)}}}function Wk(t,n,i){ja.S(t,n,i);var c=Nl;if(c&&t){var h=Ln(c).hoistableStyles,m=El(t);n=n||"default";var b=h.get(m);if(!b){var k={loading:0,preload:null};if(b=c.querySelector(Xo(m)))k.loading=5;else{t=_({rel:"stylesheet",href:t,"data-precedence":n},i),(i=nn.get(m))&&_0(t,i);var C=b=c.createElement("link");Ot(C),ir(C,"link",t),C._p=new Promise(function(q,J){C.onload=q,C.onerror=J}),C.addEventListener("load",function(){k.loading|=1}),C.addEventListener("error",function(){k.loading|=2}),k.loading|=4,nd(b,n,c)}b={type:"stylesheet",instance:b,count:1,state:k},h.set(m,b)}}}function Zk(t,n){ja.X(t,n);var i=Nl;if(i&&t){var c=Ln(i).hoistableScripts,h=Tl(t),m=c.get(h);m||(m=i.querySelector(Wo(h)),m||(t=_({src:t,async:!0},n),(n=nn.get(h))&&k0(t,n),m=i.createElement("script"),Ot(m),ir(m,"link",t),i.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},c.set(h,m))}}function Jk(t,n){ja.M(t,n);var i=Nl;if(i&&t){var c=Ln(i).hoistableScripts,h=Tl(t),m=c.get(h);m||(m=i.querySelector(Wo(h)),m||(t=_({src:t,async:!0,type:"module"},n),(n=nn.get(h))&&k0(t,n),m=i.createElement("script"),Ot(m),ir(m,"link",t),i.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},c.set(h,m))}}function Wx(t,n,i,c){var h=(h=me.current)?rd(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(n=El(i.href),i=Ln(h).hoistableStyles,c=i.get(n),c||(c={type:"style",instance:null,count:0,state:null},i.set(n,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){t=El(i.href);var m=Ln(h).hoistableStyles,b=m.get(t);if(b||(h=h.ownerDocument||h,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(t,b),(m=h.querySelector(Xo(t)))&&!m._p&&(b.instance=m,b.state.loading=5),nn.has(t)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},nn.set(t,i),m||eN(h,t,i,b.state))),n&&c===null)throw Error(s(528,""));return b}if(n&&c!==null)throw Error(s(529,""));return null;case"script":return n=i.async,i=i.src,typeof i=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Tl(i),i=Ln(h).hoistableScripts,c=i.get(n),c||(c={type:"script",instance:null,count:0,state:null},i.set(n,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function El(t){return'href="'+wr(t)+'"'}function Xo(t){return'link[rel="stylesheet"]['+t+"]"}function Zx(t){return _({},t,{"data-precedence":t.precedence,precedence:null})}function eN(t,n,i,c){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?c.loading=1:(n=t.createElement("link"),c.preload=n,n.addEventListener("load",function(){return c.loading|=1}),n.addEventListener("error",function(){return c.loading|=2}),ir(n,"link",i),Ot(n),t.head.appendChild(n))}function Tl(t){return'[src="'+wr(t)+'"]'}function Wo(t){return"script[async]"+t}function Jx(t,n,i){if(n.count++,n.instance===null)switch(n.type){case"style":var c=t.querySelector('style[data-href~="'+wr(i.href)+'"]');if(c)return n.instance=c,Ot(c),c;var h=_({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return c=(t.ownerDocument||t).createElement("style"),Ot(c),ir(c,"style",h),nd(c,i.precedence,t),n.instance=c;case"stylesheet":h=El(i.href);var m=t.querySelector(Xo(h));if(m)return n.state.loading|=4,n.instance=m,Ot(m),m;c=Zx(i),(h=nn.get(h))&&_0(c,h),m=(t.ownerDocument||t).createElement("link"),Ot(m);var b=m;return b._p=new Promise(function(k,C){b.onload=k,b.onerror=C}),ir(m,"link",c),n.state.loading|=4,nd(m,i.precedence,t),n.instance=m;case"script":return m=Tl(i.src),(h=t.querySelector(Wo(m)))?(n.instance=h,Ot(h),h):(c=i,(h=nn.get(m))&&(c=_({},i),k0(c,h)),t=t.ownerDocument||t,h=t.createElement("script"),Ot(h),ir(h,"link",c),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(c=n.instance,n.state.loading|=4,nd(c,i.precedence,t));return n.instance}function nd(t,n,i){for(var c=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=c.length?c[c.length-1]:null,m=h,b=0;b<c.length;b++){var k=c[b];if(k.dataset.precedence===n)m=k;else if(m!==h)break}m?m.parentNode.insertBefore(t,m.nextSibling):(n=i.nodeType===9?i.head:i,n.insertBefore(t,n.firstChild))}function _0(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function k0(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var ad=null;function eb(t,n,i){if(ad===null){var c=new Map,h=ad=new Map;h.set(i,c)}else h=ad,c=h.get(i),c||(c=new Map,h.set(i,c));if(c.has(t))return c;for(c.set(t,null),i=i.getElementsByTagName(t),h=0;h<i.length;h++){var m=i[h];if(!(m[Mn]||m[Dt]||t==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var b=m.getAttribute(n)||"";b=t+b;var k=c.get(b);k?k.push(m):c.set(b,[m])}}return c}function tb(t,n,i){t=t.ownerDocument||t,t.head.insertBefore(i,n==="title"?t.querySelector("head > title"):null)}function tN(t,n,i){if(i===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function rb(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function rN(t,n,i,c){if(i.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=El(c.href),m=n.querySelector(Xo(h));if(m){n=m._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=sd.bind(t),n.then(t,t)),i.state.loading|=4,i.instance=m,Ot(m);return}m=n.ownerDocument||n,c=Zx(c),(h=nn.get(h))&&_0(c,h),m=m.createElement("link"),Ot(m);var b=m;b._p=new Promise(function(k,C){b.onload=k,b.onerror=C}),ir(m,"link",c),i.instance=m}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(i,n),(n=i.state.preload)&&(i.state.loading&3)===0&&(t.count++,i=sd.bind(t),n.addEventListener("load",i),n.addEventListener("error",i))}}var N0=0;function nN(t,n){return t.stylesheets&&t.count===0&&ld(t,t.stylesheets),0<t.count||0<t.imgCount?function(i){var c=setTimeout(function(){if(t.stylesheets&&ld(t,t.stylesheets),t.unsuspend){var m=t.unsuspend;t.unsuspend=null,m()}},6e4+n);0<t.imgBytes&&N0===0&&(N0=62500*Lk());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&ld(t,t.stylesheets),t.unsuspend)){var m=t.unsuspend;t.unsuspend=null,m()}},(t.imgBytes>N0?50:800)+n);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(c),clearTimeout(h)}}:null}function sd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ld(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var id=null;function ld(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,id=new Map,n.forEach(aN,t),id=null,sd.call(t))}function aN(t,n){if(!(n.state.loading&4)){var i=id.get(t);if(i)var c=i.get(null);else{i=new Map,id.set(t,i);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<h.length;m++){var b=h[m];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(i.set(b.dataset.precedence,b),c=b)}c&&i.set(null,c)}h=n.instance,b=h.getAttribute("data-precedence"),m=i.get(b)||c,m===c&&i.set(null,h),i.set(b,h),this.count++,c=sd.bind(this),h.addEventListener("load",c),h.addEventListener("error",c),m?m.parentNode.insertBefore(h,m.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var Zo={$$typeof:X,Provider:null,Consumer:null,_currentValue:ye,_currentValue2:ye,_threadCount:0};function sN(t,n,i,c,h,m,b,k,C){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Dn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Dn(0),this.hiddenUpdates=Dn(null),this.identifierPrefix=c,this.onUncaughtError=h,this.onCaughtError=m,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function nb(t,n,i,c,h,m,b,k,C,q,J,se){return t=new sN(t,n,i,b,C,q,J,se,k),n=1,m===!0&&(n|=24),m=Vr(3,null,null,n),t.current=m,m.stateNode=t,n=rf(),n.refCount++,t.pooledCache=n,n.refCount++,m.memoizedState={element:c,isDehydrated:i,cache:n},lf(m),t}function ab(t){return t?(t=nl,t):nl}function sb(t,n,i,c,h,m){h=ab(h),c.context===null?c.context=h:c.pendingContext=h,c=es(n),c.payload={element:i},m=m===void 0?null:m,m!==null&&(c.callback=m),i=ts(t,c,n),i!==null&&(jr(i,t,n),Co(i,t,n))}function ib(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var i=t.retryLane;t.retryLane=i!==0&&i<n?i:n}}function E0(t,n){ib(t,n),(t=t.alternate)&&ib(t,n)}function lb(t){if(t.tag===13||t.tag===31){var n=ii(t,67108864);n!==null&&jr(n,t,67108864),E0(t,67108864)}}function ob(t){if(t.tag===13||t.tag===31){var n=Br();n=Ks(n);var i=ii(t,n);i!==null&&jr(i,t,n),E0(t,n)}}var od=!0;function iN(t,n,i,c){var h=W.T;W.T=null;var m=ce.p;try{ce.p=2,T0(t,n,i,c)}finally{ce.p=m,W.T=h}}function lN(t,n,i,c){var h=W.T;W.T=null;var m=ce.p;try{ce.p=8,T0(t,n,i,c)}finally{ce.p=m,W.T=h}}function T0(t,n,i,c){if(od){var h=j0(c);if(h===null)h0(t,n,c,cd,i),ub(t,c);else if(cN(h,t,n,i,c))c.stopPropagation();else if(ub(t,c),n&4&&-1<oN.indexOf(t)){for(;h!==null;){var m=$r(h);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var b=Rn(m.pendingLanes);if(b!==0){var k=m;for(k.pendingLanes|=2,k.entangledLanes|=2;b;){var C=1<<31-Be(b);k.entanglements[1]|=C,b&=~C}Xn(m),(rt&6)===0&&(Gu=tr()+500,$o(0))}}break;case 31:case 13:k=ii(m,2),k!==null&&jr(k,m,2),Qu(),E0(m,2)}if(m=j0(c),m===null&&h0(t,n,c,cd,i),m===h)break;h=m}h!==null&&c.stopPropagation()}else h0(t,n,c,null,i)}}function j0(t){return t=Qr(t),S0(t)}var cd=null;function S0(t){if(cd=null,t=Vn(t),t!==null){var n=u(t);if(n===null)t=null;else{var i=n.tag;if(i===13){if(t=f(n),t!==null)return t;t=null}else if(i===31){if(t=g(n),t!==null)return t;t=null}else if(i===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return cd=t,null}function cb(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(oa()){case Hs:return 2;case Fs:return 8;case ge:case Ce:return 32;case Ae:return 268435456;default:return 32}default:return 32}}var A0=!1,hs=null,fs=null,ms=null,Jo=new Map,ec=new Map,gs=[],oN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ub(t,n){switch(t){case"focusin":case"focusout":hs=null;break;case"dragenter":case"dragleave":fs=null;break;case"mouseover":case"mouseout":ms=null;break;case"pointerover":case"pointerout":Jo.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":ec.delete(n.pointerId)}}function tc(t,n,i,c,h,m){return t===null||t.nativeEvent!==m?(t={blockedOn:n,domEventName:i,eventSystemFlags:c,nativeEvent:m,targetContainers:[h]},n!==null&&(n=$r(n),n!==null&&lb(n)),t):(t.eventSystemFlags|=c,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function cN(t,n,i,c,h){switch(n){case"focusin":return hs=tc(hs,t,n,i,c,h),!0;case"dragenter":return fs=tc(fs,t,n,i,c,h),!0;case"mouseover":return ms=tc(ms,t,n,i,c,h),!0;case"pointerover":var m=h.pointerId;return Jo.set(m,tc(Jo.get(m)||null,t,n,i,c,h)),!0;case"gotpointercapture":return m=h.pointerId,ec.set(m,tc(ec.get(m)||null,t,n,i,c,h)),!0}return!1}function db(t){var n=Vn(t.target);if(n!==null){var i=u(n);if(i!==null){if(n=i.tag,n===13){if(n=f(i),n!==null){t.blockedOn=n,mn(t.priority,function(){ob(i)});return}}else if(n===31){if(n=g(i),n!==null){t.blockedOn=n,mn(t.priority,function(){ob(i)});return}}else if(n===3&&i.stateNode.current.memoizedState.isDehydrated){t.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ud(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var i=j0(t.nativeEvent);if(i===null){i=t.nativeEvent;var c=new i.constructor(i.type,i);mo=c,i.target.dispatchEvent(c),mo=null}else return n=$r(i),n!==null&&lb(n),t.blockedOn=i,!1;n.shift()}return!0}function hb(t,n,i){ud(t)&&i.delete(n)}function uN(){A0=!1,hs!==null&&ud(hs)&&(hs=null),fs!==null&&ud(fs)&&(fs=null),ms!==null&&ud(ms)&&(ms=null),Jo.forEach(hb),ec.forEach(hb)}function dd(t,n){t.blockedOn===n&&(t.blockedOn=null,A0||(A0=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,uN)))}var hd=null;function fb(t){hd!==t&&(hd=t,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){hd===t&&(hd=null);for(var n=0;n<t.length;n+=3){var i=t[n],c=t[n+1],h=t[n+2];if(typeof c!="function"){if(S0(c||i)===null)continue;break}var m=$r(i);m!==null&&(t.splice(n,3),n-=3,jf(m,{pending:!0,data:h,method:i.method,action:c},c,h))}}))}function jl(t){function n(C){return dd(C,t)}hs!==null&&dd(hs,t),fs!==null&&dd(fs,t),ms!==null&&dd(ms,t),Jo.forEach(n),ec.forEach(n);for(var i=0;i<gs.length;i++){var c=gs[i];c.blockedOn===t&&(c.blockedOn=null)}for(;0<gs.length&&(i=gs[0],i.blockedOn===null);)db(i),i.blockedOn===null&&gs.shift();if(i=(t.ownerDocument||t).$$reactFormReplay,i!=null)for(c=0;c<i.length;c+=3){var h=i[c],m=i[c+1],b=h[Xt]||null;if(typeof m=="function")b||fb(i);else if(b){var k=null;if(m&&m.hasAttribute("formAction")){if(h=m,b=m[Xt]||null)k=b.formAction;else if(S0(h)!==null)continue}else k=b.action;typeof k=="function"?i[c+1]=k:(i.splice(c,3),c-=3),fb(i)}}}function mb(){function t(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(b){return h=b})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),c||setTimeout(i,20)}function i(){if(!c&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(i,100),function(){c=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function C0(t){this._internalRoot=t}fd.prototype.render=C0.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var i=n.current,c=Br();sb(i,c,t,n,null,null)},fd.prototype.unmount=C0.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;sb(t.current,2,null,t,null,null),Qu(),n[On]=null}};function fd(t){this._internalRoot=t}fd.prototype.unstable_scheduleHydration=function(t){if(t){var n=Qc();t={blockedOn:null,target:t,priority:n};for(var i=0;i<gs.length&&n!==0&&n<gs[i].priority;i++);gs.splice(i,0,t),i===0&&db(t)}};var gb=e.version;if(gb!=="19.2.0")throw Error(s(527,gb,"19.2.0"));ce.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=y(n),t=t!==null?w(t):null,t=t===null?null:t.stateNode,t};var dN={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var md=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!md.isDisabled&&md.supportsFiber)try{Fe=md.inject(dN),We=md}catch{}}return nc.createRoot=function(t,n){if(!o(t))throw Error(s(299));var i=!1,c="",h=_y,m=ky,b=Ny;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(c=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(m=n.onCaughtError),n.onRecoverableError!==void 0&&(b=n.onRecoverableError)),n=nb(t,1,!1,null,null,i,c,null,h,m,b,mb),t[On]=n.current,d0(t),new C0(n)},nc.hydrateRoot=function(t,n,i){if(!o(t))throw Error(s(299));var c=!1,h="",m=_y,b=ky,k=Ny,C=null;return i!=null&&(i.unstable_strictMode===!0&&(c=!0),i.identifierPrefix!==void 0&&(h=i.identifierPrefix),i.onUncaughtError!==void 0&&(m=i.onUncaughtError),i.onCaughtError!==void 0&&(b=i.onCaughtError),i.onRecoverableError!==void 0&&(k=i.onRecoverableError),i.formState!==void 0&&(C=i.formState)),n=nb(t,1,!0,n,i??null,c,h,C,m,b,k,mb),n.context=ab(null),i=n.current,c=Br(),c=Ks(c),h=es(c),h.callback=null,ts(i,h,c),i=c,n.current.lanes=i,$s(n,i),Xn(n),t[On]=n.current,d0(t),new fd(n)},nc.version="19.2.0",nc}var Eb;function wN(){if(Eb)return D0.exports;Eb=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),D0.exports=vN(),D0.exports}var _N=wN();const kN=wv(_N);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NN=a=>a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),EN=a=>a.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,s)=>s?s.toUpperCase():r.toLowerCase()),Tb=a=>{const e=EN(a);return e.charAt(0).toUpperCase()+e.slice(1)},kv=(...a)=>a.filter((e,r,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===r).join(" ").trim(),TN=a=>{for(const e in a)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var jN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SN=Y.forwardRef(({color:a="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:s,className:o="",children:u,iconNode:f,...g},p)=>Y.createElement("svg",{ref:p,...jN,width:e,height:e,stroke:a,strokeWidth:s?Number(r)*24/Number(e):r,className:kv("lucide",o),...!u&&!TN(g)&&{"aria-hidden":"true"},...g},[...f.map(([y,w])=>Y.createElement(y,w)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ue=(a,e)=>{const r=Y.forwardRef(({className:s,...o},u)=>Y.createElement(SN,{ref:u,iconNode:e,className:kv(`lucide-${NN(Tb(a))}`,`lucide-${a}`,s),...o}));return r.displayName=Tb(a),r};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AN=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],CN=ue("activity",AN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RN=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Rd=ue("arrow-left",RN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IN=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],or=ue("arrow-right",IN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DN=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Ni=ue("award",DN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ON=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],vr=ue("book-open",ON);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MN=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],VN=ue("book",MN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LN=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],Nv=ue("briefcase",LN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PN=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Id=ue("calendar",PN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zN=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],UN=ue("chart-column",zN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BN=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],qN=ue("chart-pie",BN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HN=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],xc=ue("chevron-down",HN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FN=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Zn=ue("chevron-left",FN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GN=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],L0=ue("chevron-right",GN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $N=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Dd=ue("circle-alert",$N);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QN=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Od=ue("circle-check-big",QN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Nn=ue("circle-check",KN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],bc=ue("circle-plus",YN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Ei=ue("circle-question-mark",XN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],ZN=ue("circle-user",WN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],im=ue("circle-x",JN);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eE=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Ev=ue("clock",eE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tE=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],Tv=ue("cloud-upload",tE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rE=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],Ti=ue("crown",rE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nE=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],lm=ue("download",nE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aE=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],om=ue("eye",aE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sE=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],cm=ue("facebook",sE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iE=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]],jb=ue("file-check",iE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lE=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["circle",{cx:"11.5",cy:"14.5",r:"2.5",key:"1bq0ko"}],["path",{d:"M13.3 16.3 15 18",key:"2quom7"}]],oE=ue("file-search",lE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cE=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],zl=ue("file-text",cE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uE=[["path",{d:"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528",key:"1jaruq"}]],um=ue("flag",uE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dE=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],Fm=ue("flame",dE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hE=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],ac=ue("folder-open",hE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fE=[["path",{d:"M10.5 3 8 9l4 13 4-13-2.5-6",key:"b3dvk1"}],["path",{d:"M17 3a2 2 0 0 1 1.6.8l3 4a2 2 0 0 1 .013 2.382l-7.99 10.986a2 2 0 0 1-3.247 0l-7.99-10.986A2 2 0 0 1 2.4 7.8l2.998-3.997A2 2 0 0 1 7 3z",key:"7w4byz"}],["path",{d:"M2 9h20",key:"16fsjt"}]],mE=ue("gem",fE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gE=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],pE=ue("globe",gE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yE=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],Vi=ue("graduation-cap",yE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xE=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],Md=ue("house",xE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bE=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],vE=ue("info",bE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wE=[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]],jv=ue("languages",wE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _E=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],ji=ue("layers",_E);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kE=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],Sb=ue("layout-dashboard",kE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NE=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],EE=ue("lightbulb",NE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TE=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],jE=ue("link",TE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SE=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],Ab=ue("list",SE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AE=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Gt=ue("loader-circle",AE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CE=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],dm=ue("log-in",CE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RE=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Dl=ue("lock",RE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IE=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Vd=ue("log-out",IE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DE=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Cb=ue("mail",DE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OE=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],hm=ue("map-pin",OE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ME=[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]],Rb=ue("medal",ME);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VE=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],LE=ue("menu",VE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PE=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],vc=ue("message-circle",PE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zE=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],wc=ue("monitor",zE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UE=[["path",{d:"M18 8L22 12L18 16",key:"1r0oui"}],["path",{d:"M2 12H22",key:"1m8cig"}]],Sv=ue("move-right",UE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BE=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],Ib=ue("palette",BE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qE=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],HE=ue("pen-line",qE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FE=[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]],Gm=ue("pen-tool",FE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GE=[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]],$E=ue("quote",GE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QE=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Av=ue("refresh-cw",QE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KE=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],YE=ue("rocket",KE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XE=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],Cv=ue("rotate-ccw",XE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WE=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Si=ue("save",WE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZE=[["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M18 5v16",key:"1ethyx"}],["path",{d:"m4 6 7.106-3.79a2 2 0 0 1 1.788 0L20 6",key:"zywc2d"}],["path",{d:"m6 11-3.52 2.147a1 1 0 0 0-.48.854V19a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-5a1 1 0 0 0-.48-.853L18 11",key:"1d4ql0"}],["path",{d:"M6 5v16",key:"1sn0nx"}],["circle",{cx:"12",cy:"9",r:"2",key:"1092wv"}]],Ld=ue("school",ZE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JE=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Ai=ue("search",JE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e4=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],t4=ue("share-2",e4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r4=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],n4=ue("shield-alert",r4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a4=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],s4=ue("shield-check",a4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i4=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],l4=ue("shield",i4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o4=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],c4=ue("sparkles",o4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u4=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],d4=ue("square-check-big",u4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h4=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],fm=ue("square-pen",h4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f4=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],$m=ue("star",f4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m4=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],Rv=ue("tag",m4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Iv=ue("target",g4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p4=[["path",{d:"M21 5H3",key:"1fi0y6"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M17 19H3",key:"z6ezky"}]],Dv=ue("text-align-start",p4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y4=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],x4=ue("timer",y4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b4=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],mm=ue("trash-2",b4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v4=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Db=ue("trending-up",v4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w4=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Ov=ue("triangle-alert",w4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _4=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],gm=ue("trophy",_4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k4=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],N4=ue("type",k4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E4=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],T4=ue("user-plus",E4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j4=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],ln=ue("user",j4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S4=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],A4=ue("users",S4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C4=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ia=ue("x",C4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R4=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Qm=ue("zap",R4),I4=()=>{};var Ob={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mv=function(a){const e=[];let r=0;for(let s=0;s<a.length;s++){let o=a.charCodeAt(s);o<128?e[r++]=o:o<2048?(e[r++]=o>>6|192,e[r++]=o&63|128):(o&64512)===55296&&s+1<a.length&&(a.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(a.charCodeAt(++s)&1023),e[r++]=o>>18|240,e[r++]=o>>12&63|128,e[r++]=o>>6&63|128,e[r++]=o&63|128):(e[r++]=o>>12|224,e[r++]=o>>6&63|128,e[r++]=o&63|128)}return e},D4=function(a){const e=[];let r=0,s=0;for(;r<a.length;){const o=a[r++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=a[r++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=a[r++],f=a[r++],g=a[r++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|g&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=a[r++],f=a[r++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},Vv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,e){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<a.length;o+=3){const u=a[o],f=o+1<a.length,g=f?a[o+1]:0,p=o+2<a.length,y=p?a[o+2]:0,w=u>>2,_=(u&3)<<4|g>>4;let S=(g&15)<<2|y>>6,V=y&63;p||(V=64,f||(S=64)),s.push(r[w],r[_],r[S],r[V])}return s.join("")},encodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(a):this.encodeByteArray(Mv(a),e)},decodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(a):D4(this.decodeStringToByteArray(a,e))},decodeStringToByteArray(a,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<a.length;){const u=r[a.charAt(o++)],g=o<a.length?r[a.charAt(o)]:0;++o;const y=o<a.length?r[a.charAt(o)]:64;++o;const _=o<a.length?r[a.charAt(o)]:64;if(++o,u==null||g==null||y==null||_==null)throw new O4;const S=u<<2|g>>4;if(s.push(S),y!==64){const V=g<<4&240|y>>2;if(s.push(V),_!==64){const U=y<<6&192|_;s.push(U)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class O4 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const M4=function(a){const e=Mv(a);return Vv.encodeByteArray(e,!0)},Pd=function(a){return M4(a).replace(/\./g,"")},Lv=function(a){try{return Vv.decodeString(a,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V4(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L4=()=>V4().__FIREBASE_DEFAULTS__,P4=()=>{if(typeof process>"u"||typeof Ob>"u")return;const a=Ob.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},z4=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=a&&Lv(a[1]);return e&&JSON.parse(e)},sh=()=>{try{return I4()||L4()||P4()||z4()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},Pv=a=>{var e,r;return(r=(e=sh())==null?void 0:e.emulatorHosts)==null?void 0:r[a]},U4=a=>{const e=Pv(a);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),s]:[e.substring(0,r),s]},zv=()=>{var a;return(a=sh())==null?void 0:a.config},Uv=a=>{var e;return(e=sh())==null?void 0:e[`_${a}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B4{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,s)=>{r?this.reject(r):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ql(a){try{return(a.startsWith("http://")||a.startsWith("https://")?new URL(a).hostname:a).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Bv(a){return(await fetch(a,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q4(a,e){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},s=e||"demo-project",o=a.iat||0,u=a.sub||a.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...a};return[Pd(JSON.stringify(r)),Pd(JSON.stringify(f)),""].join(".")}const dc={};function H4(){const a={prod:[],emulator:[]};for(const e of Object.keys(dc))dc[e]?a.emulator.push(e):a.prod.push(e);return a}function F4(a){let e=document.getElementById(a),r=!1;return e||(e=document.createElement("div"),e.setAttribute("id",a),r=!0),{created:r,element:e}}let Mb=!1;function qv(a,e){if(typeof window>"u"||typeof document>"u"||!Ql(window.location.host)||dc[a]===e||dc[a]||Mb)return;dc[a]=e;function r(S){return`__firebase__banner__${S}`}const s="__firebase__banner",u=H4().prod.length>0;function f(){const S=document.getElementById(s);S&&S.remove()}function g(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function p(S,V){S.setAttribute("width","24"),S.setAttribute("id",V),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function y(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{Mb=!0,f()},S}function w(S,V){S.setAttribute("id",V),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function _(){const S=F4(s),V=r("text"),U=document.getElementById(V)||document.createElement("span"),ne=r("learnmore"),$=document.getElementById(ne)||document.createElement("a"),le=r("preprendIcon"),ee=document.getElementById(le)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const X=S.element;g(X),w($,ne);const xe=y();p(ee,le),X.append(ee,U,$,xe),document.body.appendChild(X)}u?(U.innerText="Preview backend disconnected.",ee.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ee.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,U.innerText="Preview backend running in this workspace."),U.setAttribute("id",V)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function G4(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(pr())}function $4(){var e;const a=(e=sh())==null?void 0:e.forceEnvironment;if(a==="node")return!0;if(a==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Q4(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Hv(){const a=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof a=="object"&&a.id!==void 0}function K4(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Y4(){const a=pr();return a.indexOf("MSIE ")>=0||a.indexOf("Trident/")>=0}function X4(){return!$4()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Fv(){try{return typeof indexedDB=="object"}catch{return!1}}function Gv(){return new Promise((a,e)=>{try{let r=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),r||self.indexedDB.deleteDatabase(s),a(!0)},o.onupgradeneeded=()=>{r=!1},o.onerror=()=>{var u;e(((u=o.error)==null?void 0:u.message)||"")}}catch(r){e(r)}})}function W4(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z4="FirebaseError";class An extends Error{constructor(e,r,s){super(r),this.code=e,this.customData=s,this.name=Z4,Object.setPrototypeOf(this,An.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Li.prototype.create)}}class Li{constructor(e,r,s){this.service=e,this.serviceName=r,this.errors=s}create(e,...r){const s=r[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?J4(u,s):"Error",g=`${this.serviceName}: ${f} (${o}).`;return new An(o,g,s)}}function J4(a,e){return a.replace(eT,(r,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const eT=/\{\$([^}]+)}/g;function tT(a){for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e))return!1;return!0}function js(a,e){if(a===e)return!0;const r=Object.keys(a),s=Object.keys(e);for(const o of r){if(!s.includes(o))return!1;const u=a[o],f=e[o];if(Vb(u)&&Vb(f)){if(!js(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!r.includes(o))return!1;return!0}function Vb(a){return a!==null&&typeof a=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oc(a){const e=[];for(const[r,s]of Object.entries(a))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function sc(a){const e={};return a.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function ic(a){const e=a.indexOf("?");if(!e)return"";const r=a.indexOf("#",e);return a.substring(e,r>0?r:void 0)}function rT(a,e){const r=new nT(a,e);return r.subscribe.bind(r)}class nT{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,s){let o;if(e===void 0&&r===void 0&&s===void 0)throw new Error("Missing Observer.");aT(e,["next","error","complete"])?o=e:o={next:e,error:r,complete:s},o.next===void 0&&(o.next=P0),o.error===void 0&&(o.error=P0),o.complete===void 0&&(o.complete=P0);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function aT(a,e){if(typeof a!="object"||a===null)return!1;for(const r of e)if(r in a&&typeof a[r]=="function")return!0;return!1}function P0(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sT=1e3,iT=2,lT=14400*1e3,oT=.5;function Lb(a,e=sT,r=iT){const s=e*Math.pow(r,a),o=Math.round(oT*s*(Math.random()-.5)*2);return Math.min(lT,s+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tt(a){return a&&a._delegate?a._delegate:a}class Tn{constructor(e,r,s){this.name=e,this.instanceFactory=r,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cT{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const s=new B4;if(this.instancesDeferred.set(r,s),this.isInitialized(r)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:r});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(e==null?void 0:e.optional)??!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(dT(e))try{this.getOrInitializeService({instanceIdentifier:bi})}catch{}for(const[r,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(r);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=bi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=bi){return this.instances.has(e)}getOptions(e=bi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:r});for(const[u,f]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(u);s===g&&f.resolve(o)}return o}onInit(e,r){const s=this.normalizeInstanceIdentifier(r),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,r){const s=this.onInitCallbacks.get(r);if(s)for(const o of s)try{o(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:uT(e),options:r}),this.instances.set(e,s),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=bi){return this.component?this.component.multipleInstances?e:bi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function uT(a){return a===bi?void 0:a}function dT(a){return a.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hT{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new cT(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qe;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(Qe||(Qe={}));const fT={debug:Qe.DEBUG,verbose:Qe.VERBOSE,info:Qe.INFO,warn:Qe.WARN,error:Qe.ERROR,silent:Qe.SILENT},mT=Qe.INFO,gT={[Qe.DEBUG]:"log",[Qe.VERBOSE]:"log",[Qe.INFO]:"info",[Qe.WARN]:"warn",[Qe.ERROR]:"error"},pT=(a,e,...r)=>{if(e<a.logLevel)return;const s=new Date().toISOString(),o=gT[e];if(o)console[o](`[${s}]  ${a.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ih{constructor(e){this.name=e,this._logLevel=mT,this._logHandler=pT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Qe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?fT[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Qe.DEBUG,...e),this._logHandler(this,Qe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Qe.VERBOSE,...e),this._logHandler(this,Qe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Qe.INFO,...e),this._logHandler(this,Qe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Qe.WARN,...e),this._logHandler(this,Qe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Qe.ERROR,...e),this._logHandler(this,Qe.ERROR,...e)}}const yT=(a,e)=>e.some(r=>a instanceof r);let Pb,zb;function xT(){return Pb||(Pb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function bT(){return zb||(zb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const $v=new WeakMap,pm=new WeakMap,Qv=new WeakMap,z0=new WeakMap,Km=new WeakMap;function vT(a){const e=new Promise((r,s)=>{const o=()=>{a.removeEventListener("success",u),a.removeEventListener("error",f)},u=()=>{r(ks(a.result)),o()},f=()=>{s(a.error),o()};a.addEventListener("success",u),a.addEventListener("error",f)});return e.then(r=>{r instanceof IDBCursor&&$v.set(r,a)}).catch(()=>{}),Km.set(e,a),e}function wT(a){if(pm.has(a))return;const e=new Promise((r,s)=>{const o=()=>{a.removeEventListener("complete",u),a.removeEventListener("error",f),a.removeEventListener("abort",f)},u=()=>{r(),o()},f=()=>{s(a.error||new DOMException("AbortError","AbortError")),o()};a.addEventListener("complete",u),a.addEventListener("error",f),a.addEventListener("abort",f)});pm.set(a,e)}let ym={get(a,e,r){if(a instanceof IDBTransaction){if(e==="done")return pm.get(a);if(e==="objectStoreNames")return a.objectStoreNames||Qv.get(a);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return ks(a[e])},set(a,e,r){return a[e]=r,!0},has(a,e){return a instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in a}};function _T(a){ym=a(ym)}function kT(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const s=a.call(U0(this),e,...r);return Qv.set(s,e.sort?e.sort():[e]),ks(s)}:bT().includes(a)?function(...e){return a.apply(U0(this),e),ks($v.get(this))}:function(...e){return ks(a.apply(U0(this),e))}}function NT(a){return typeof a=="function"?kT(a):(a instanceof IDBTransaction&&wT(a),yT(a,xT())?new Proxy(a,ym):a)}function ks(a){if(a instanceof IDBRequest)return vT(a);if(z0.has(a))return z0.get(a);const e=NT(a);return e!==a&&(z0.set(a,e),Km.set(e,a)),e}const U0=a=>Km.get(a);function Kv(a,e,{blocked:r,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(a,e),g=ks(f);return s&&f.addEventListener("upgradeneeded",p=>{s(ks(f.result),p.oldVersion,p.newVersion,ks(f.transaction),p)}),r&&f.addEventListener("blocked",p=>r(p.oldVersion,p.newVersion,p)),g.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),g}const ET=["get","getKey","getAll","getAllKeys","count"],TT=["put","add","delete","clear"],B0=new Map;function Ub(a,e){if(!(a instanceof IDBDatabase&&!(e in a)&&typeof e=="string"))return;if(B0.get(e))return B0.get(e);const r=e.replace(/FromIndex$/,""),s=e!==r,o=TT.includes(r);if(!(r in(s?IDBIndex:IDBObjectStore).prototype)||!(o||ET.includes(r)))return;const u=async function(f,...g){const p=this.transaction(f,o?"readwrite":"readonly");let y=p.store;return s&&(y=y.index(g.shift())),(await Promise.all([y[r](...g),o&&p.done]))[0]};return B0.set(e,u),u}_T(a=>({...a,get:(e,r,s)=>Ub(e,r)||a.get(e,r,s),has:(e,r)=>!!Ub(e,r)||a.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(ST(r)){const s=r.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(r=>r).join(" ")}}function ST(a){const e=a.getComponent();return(e==null?void 0:e.type)==="VERSION"}const xm="@firebase/app",Bb="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Da=new ih("@firebase/app"),AT="@firebase/app-compat",CT="@firebase/analytics-compat",RT="@firebase/analytics",IT="@firebase/app-check-compat",DT="@firebase/app-check",OT="@firebase/auth",MT="@firebase/auth-compat",VT="@firebase/database",LT="@firebase/data-connect",PT="@firebase/database-compat",zT="@firebase/functions",UT="@firebase/functions-compat",BT="@firebase/installations",qT="@firebase/installations-compat",HT="@firebase/messaging",FT="@firebase/messaging-compat",GT="@firebase/performance",$T="@firebase/performance-compat",QT="@firebase/remote-config",KT="@firebase/remote-config-compat",YT="@firebase/storage",XT="@firebase/storage-compat",WT="@firebase/firestore",ZT="@firebase/ai",JT="@firebase/firestore-compat",e5="firebase",t5="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bm="[DEFAULT]",r5={[xm]:"fire-core",[AT]:"fire-core-compat",[RT]:"fire-analytics",[CT]:"fire-analytics-compat",[DT]:"fire-app-check",[IT]:"fire-app-check-compat",[OT]:"fire-auth",[MT]:"fire-auth-compat",[VT]:"fire-rtdb",[LT]:"fire-data-connect",[PT]:"fire-rtdb-compat",[zT]:"fire-fn",[UT]:"fire-fn-compat",[BT]:"fire-iid",[qT]:"fire-iid-compat",[HT]:"fire-fcm",[FT]:"fire-fcm-compat",[GT]:"fire-perf",[$T]:"fire-perf-compat",[QT]:"fire-rc",[KT]:"fire-rc-compat",[YT]:"fire-gcs",[XT]:"fire-gcs-compat",[WT]:"fire-fst",[JT]:"fire-fst-compat",[ZT]:"fire-vertex","fire-js":"fire-js",[e5]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zd=new Map,n5=new Map,vm=new Map;function qb(a,e){try{a.container.addComponent(e)}catch(r){Da.debug(`Component ${e.name} failed to register with FirebaseApp ${a.name}`,r)}}function sa(a){const e=a.name;if(vm.has(e))return Da.debug(`There were multiple attempts to register component ${e}.`),!1;vm.set(e,a);for(const r of zd.values())qb(r,a);for(const r of n5.values())qb(r,a);return!0}function Pi(a,e){const r=a.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),a.container.getProvider(e)}function an(a){return a==null?!1:a.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a5={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ns=new Li("app","Firebase",a5);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s5{constructor(e,r,s){this._isDeleted=!1,this._options={...e},this._config={...r},this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Tn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ns.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kl=t5;function Yv(a,e={}){let r=a;typeof e!="object"&&(e={name:e});const s={name:bm,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw Ns.create("bad-app-name",{appName:String(o)});if(r||(r=zv()),!r)throw Ns.create("no-options");const u=zd.get(o);if(u){if(js(r,u.options)&&js(s,u.config))return u;throw Ns.create("duplicate-app",{appName:o})}const f=new hT(o);for(const p of vm.values())f.addComponent(p);const g=new s5(r,s,f);return zd.set(o,g),g}function Ym(a=bm){const e=zd.get(a);if(!e&&a===bm&&zv())return Yv();if(!e)throw Ns.create("no-app",{appName:a});return e}function on(a,e,r){let s=r5[a]??a;r&&(s+=`-${r}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const f=[`Unable to register library "${s}" with version "${e}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Da.warn(f.join(" "));return}sa(new Tn(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i5="firebase-heartbeat-database",l5=1,_c="firebase-heartbeat-store";let q0=null;function Xv(){return q0||(q0=Kv(i5,l5,{upgrade:(a,e)=>{switch(e){case 0:try{a.createObjectStore(_c)}catch(r){console.warn(r)}}}}).catch(a=>{throw Ns.create("idb-open",{originalErrorMessage:a.message})})),q0}async function o5(a){try{const r=(await Xv()).transaction(_c),s=await r.objectStore(_c).get(Wv(a));return await r.done,s}catch(e){if(e instanceof An)Da.warn(e.message);else{const r=Ns.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Da.warn(r.message)}}}async function Hb(a,e){try{const s=(await Xv()).transaction(_c,"readwrite");await s.objectStore(_c).put(e,Wv(a)),await s.done}catch(r){if(r instanceof An)Da.warn(r.message);else{const s=Ns.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});Da.warn(s.message)}}}function Wv(a){return`${a.name}!${a.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c5=1024,u5=30;class d5{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new f5(r),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,r;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=Fb();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)==null?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>u5){const f=m5(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Da.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=Fb(),{heartbeatsToSend:s,unsentEntries:o}=h5(this._heartbeatsCache.heartbeats),u=Pd(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=r,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(r){return Da.warn(r),""}}}function Fb(){return new Date().toISOString().substring(0,10)}function h5(a,e=c5){const r=[];let s=a.slice();for(const o of a){const u=r.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),Gb(r)>e){u.dates.pop();break}}else if(r.push({agent:o.agent,dates:[o.date]}),Gb(r)>e){r.pop();break}s=s.slice(1)}return{heartbeatsToSend:r,unsentEntries:s}}class f5{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Fv()?Gv().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await o5(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Hb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Hb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Gb(a){return Pd(JSON.stringify({version:2,heartbeats:a})).length}function m5(a){if(a.length===0)return-1;let e=0,r=a[0].date;for(let s=1;s<a.length;s++)a[s].date<r&&(r=a[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g5(a){sa(new Tn("platform-logger",e=>new jT(e),"PRIVATE")),sa(new Tn("heartbeat",e=>new d5(e),"PRIVATE")),on(xm,Bb,a),on(xm,Bb,"esm2020"),on("fire-js","")}g5("");var p5="firebase",y5="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */on(p5,y5,"app");function Zv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const x5=Zv,Jv=new Li("auth","Firebase",Zv());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ud=new ih("@firebase/auth");function b5(a,...e){Ud.logLevel<=Qe.WARN&&Ud.warn(`Auth (${Kl}): ${a}`,...e)}function wd(a,...e){Ud.logLevel<=Qe.ERROR&&Ud.error(`Auth (${Kl}): ${a}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jn(a,...e){throw Xm(a,...e)}function Jn(a,...e){return Xm(a,...e)}function ew(a,e,r){const s={...x5(),[e]:r};return new Li("auth","Firebase",s).create(e,{appName:a.name})}function Ca(a){return ew(a,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Xm(a,...e){if(typeof a!="string"){const r=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=a.name),a._errorFactory.create(r,...s)}return Jv.create(a,...e)}function je(a,e,...r){if(!a)throw Xm(e,...r)}function Sa(a){const e="INTERNAL ASSERTION FAILED: "+a;throw wd(e),new Error(e)}function Oa(a,e){a||Sa(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wm(){var a;return typeof self<"u"&&((a=self.location)==null?void 0:a.href)||""}function v5(){return $b()==="http:"||$b()==="https:"}function $b(){var a;return typeof self<"u"&&((a=self.location)==null?void 0:a.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w5(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(v5()||Hv()||"connection"in navigator)?navigator.onLine:!0}function _5(){if(typeof navigator>"u")return null;const a=navigator;return a.languages&&a.languages[0]||a.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(e,r){this.shortDelay=e,this.longDelay=r,Oa(r>e,"Short delay should be less than long delay!"),this.isMobile=G4()||K4()}get(){return w5()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wm(a,e){Oa(a.emulator,"Emulator should always be set here");const{url:r}=a.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tw{static initialize(e,r,s){this.fetchImpl=e,r&&(this.headersImpl=r),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Sa("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Sa("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Sa("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k5={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N5=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],E5=new Mc(3e4,6e4);function Pa(a,e){return a.tenantId&&!e.tenantId?{...e,tenantId:a.tenantId}:e}async function za(a,e,r,s,o={}){return rw(a,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const g=Oc({key:a.config.apiKey,...f}).slice(1),p=await a._getAdditionalHeaders();p["Content-Type"]="application/json",a.languageCode&&(p["X-Firebase-Locale"]=a.languageCode);const y={method:e,headers:p,...u};return Q4()||(y.referrerPolicy="no-referrer"),a.emulatorConfig&&Ql(a.emulatorConfig.host)&&(y.credentials="include"),tw.fetch()(await nw(a,a.config.apiHost,r,g),y)})}async function rw(a,e,r){a._canInitEmulator=!1;const s={...k5,...e};try{const o=new j5(a),u=await Promise.race([r(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw gd(a,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const g=u.ok?f.errorMessage:f.error.message,[p,y]=g.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw gd(a,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw gd(a,"email-already-in-use",f);if(p==="USER_DISABLED")throw gd(a,"user-disabled",f);const w=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw ew(a,w,y);jn(a,w)}}catch(o){if(o instanceof An)throw o;jn(a,"network-request-failed",{message:String(o)})}}async function Vc(a,e,r,s,o={}){const u=await za(a,e,r,s,o);return"mfaPendingCredential"in u&&jn(a,"multi-factor-auth-required",{_serverResponse:u}),u}async function nw(a,e,r,s){const o=`${e}${r}?${s}`,u=a,f=u.config.emulator?Wm(a.config,o):`${a.config.apiScheme}://${o}`;return N5.includes(r)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function T5(a){switch(a){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class j5{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,s)=>{this.timer=setTimeout(()=>s(Jn(this.auth,"network-request-failed")),E5.get())})}}function gd(a,e,r){const s={appName:a.name};r.email&&(s.email=r.email),r.phoneNumber&&(s.phoneNumber=r.phoneNumber);const o=Jn(a,e,s);return o.customData._tokenResponse=r,o}function Qb(a){return a!==void 0&&a.enterprise!==void 0}class S5{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===e)return T5(r.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function A5(a,e){return za(a,"GET","/v2/recaptchaConfig",Pa(a,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C5(a,e){return za(a,"POST","/v1/accounts:delete",e)}async function Bd(a,e){return za(a,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hc(a){if(a)try{const e=new Date(Number(a));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function R5(a,e=!1){const r=Tt(a),s=await r.getIdToken(e),o=Zm(s);je(o&&o.exp&&o.auth_time&&o.iat,r.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:hc(H0(o.auth_time)),issuedAtTime:hc(H0(o.iat)),expirationTime:hc(H0(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function H0(a){return Number(a)*1e3}function Zm(a){const[e,r,s]=a.split(".");if(e===void 0||r===void 0||s===void 0)return wd("JWT malformed, contained fewer than 3 sections"),null;try{const o=Lv(r);return o?JSON.parse(o):(wd("Failed to decode base64 JWT payload"),null)}catch(o){return wd("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function Kb(a){const e=Zm(a);return je(e,"internal-error"),je(typeof e.exp<"u","internal-error"),je(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kc(a,e,r=!1){if(r)return e;try{return await e}catch(s){throw s instanceof An&&I5(s)&&a.auth.currentUser===a&&await a.auth.signOut(),s}}function I5({code:a}){return a==="auth/user-disabled"||a==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D5{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=hc(this.lastLoginAt),this.creationTime=hc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qd(a){var _;const e=a.auth,r=await a.getIdToken(),s=await kc(a,Bd(e,{idToken:r}));je(s==null?void 0:s.users.length,e,"internal-error");const o=s.users[0];a._notifyReloadListener(o);const u=(_=o.providerUserInfo)!=null&&_.length?aw(o.providerUserInfo):[],f=M5(a.providerData,u),g=a.isAnonymous,p=!(a.email&&o.passwordHash)&&!(f!=null&&f.length),y=g?p:!1,w={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new _m(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(a,w)}async function O5(a){const e=Tt(a);await qd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function M5(a,e){return[...a.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function aw(a){return a.map(({providerId:e,...r})=>({providerId:e,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V5(a,e){const r=await rw(a,{},async()=>{const s=Oc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=a.config,f=await nw(a,o,"/v1/token",`key=${u}`),g=await a._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:g,body:s};return a.emulatorConfig&&Ql(a.emulatorConfig.host)&&(p.credentials="include"),tw.fetch()(f,p)});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function L5(a,e){return za(a,"POST","/v2/accounts:revokeToken",Pa(a,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){je(e.idToken,"internal-error"),je(typeof e.idToken<"u","internal-error"),je(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Kb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){je(e.length!==0,"internal-error");const r=Kb(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(je(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:s,refreshToken:o,expiresIn:u}=await V5(e,r);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,r,s){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,r){const{refreshToken:s,accessToken:o,expirationTime:u}=r,f=new Ol;return s&&(je(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(je(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(je(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ol,this.toJSON())}_performRefresh(){return Sa("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ys(a,e){je(typeof a=="string"||typeof a>"u","internal-error",{appName:e})}class En{constructor({uid:e,auth:r,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new D5(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new _m(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const r=await kc(this,this.stsTokenManager.getToken(this.auth,e));return je(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return R5(this,e)}reload(){return O5(this)}_assign(e){this!==e&&(je(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>({...r})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new En({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return r.metadata._copy(this.metadata),r}_onReload(e){je(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),r&&await qd(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(an(this.auth.app))return Promise.reject(Ca(this.auth));const e=await this.getIdToken();return await kc(this,C5(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){const s=r.displayName??void 0,o=r.email??void 0,u=r.phoneNumber??void 0,f=r.photoURL??void 0,g=r.tenantId??void 0,p=r._redirectEventId??void 0,y=r.createdAt??void 0,w=r.lastLoginAt??void 0,{uid:_,emailVerified:S,isAnonymous:V,providerData:U,stsTokenManager:ne}=r;je(_&&ne,e,"internal-error");const $=Ol.fromJSON(this.name,ne);je(typeof _=="string",e,"internal-error"),ys(s,e.name),ys(o,e.name),je(typeof S=="boolean",e,"internal-error"),je(typeof V=="boolean",e,"internal-error"),ys(u,e.name),ys(f,e.name),ys(g,e.name),ys(p,e.name),ys(y,e.name),ys(w,e.name);const le=new En({uid:_,auth:e,email:o,emailVerified:S,displayName:s,isAnonymous:V,photoURL:f,phoneNumber:u,tenantId:g,stsTokenManager:$,createdAt:y,lastLoginAt:w});return U&&Array.isArray(U)&&(le.providerData=U.map(ee=>({...ee}))),p&&(le._redirectEventId=p),le}static async _fromIdTokenResponse(e,r,s=!1){const o=new Ol;o.updateFromServerResponse(r);const u=new En({uid:r.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await qd(u),u}static async _fromGetAccountInfoResponse(e,r,s){const o=r.users[0];je(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?aw(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),g=new Ol;g.updateFromIdToken(s);const p=new En({uid:o.localId,auth:e,stsTokenManager:g,isAnonymous:f}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new _m(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,y),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yb=new Map;function Aa(a){Oa(a instanceof Function,"Expected a class definition");let e=Yb.get(a);return e?(Oa(e instanceof a,"Instance stored in cache mismatched with class"),e):(e=new a,Yb.set(a,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}sw.type="NONE";const Xb=sw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _d(a,e,r){return`firebase:${a}:${e}:${r}`}class Ml{constructor(e,r,s){this.persistence=e,this.auth=r,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=_d(this.userKey,o.apiKey,u),this.fullPersistenceKey=_d("persistence",o.apiKey,u),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const r=await Bd(this.auth,{idToken:e}).catch(()=>{});return r?En._fromGetAccountInfoResponse(this.auth,r,e):null}return En._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,s="authUser"){if(!r.length)return new Ml(Aa(Xb),e,s);const o=(await Promise.all(r.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||Aa(Xb);const f=_d(s,e.config.apiKey,e.name);let g=null;for(const y of r)try{const w=await y._get(f);if(w){let _;if(typeof w=="string"){const S=await Bd(e,{idToken:w}).catch(()=>{});if(!S)break;_=await En._fromGetAccountInfoResponse(e,S,w)}else _=En._fromJSON(e,w);y!==u&&(g=_),u=y;break}}catch{}const p=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new Ml(u,e,s):(u=p[0],g&&await u._set(f,g.toJSON()),await Promise.all(r.map(async y=>{if(y!==u)try{await y._remove(f)}catch{}})),new Ml(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wb(a){const e=a.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(cw(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(iw(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(dw(e))return"Blackberry";if(hw(e))return"Webos";if(lw(e))return"Safari";if((e.includes("chrome/")||ow(e))&&!e.includes("edge/"))return"Chrome";if(uw(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=a.match(r);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function iw(a=pr()){return/firefox\//i.test(a)}function lw(a=pr()){const e=a.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ow(a=pr()){return/crios\//i.test(a)}function cw(a=pr()){return/iemobile/i.test(a)}function uw(a=pr()){return/android/i.test(a)}function dw(a=pr()){return/blackberry/i.test(a)}function hw(a=pr()){return/webos/i.test(a)}function Jm(a=pr()){return/iphone|ipad|ipod/i.test(a)||/macintosh/i.test(a)&&/mobile/i.test(a)}function P5(a=pr()){var e;return Jm(a)&&!!((e=window.navigator)!=null&&e.standalone)}function z5(){return Y4()&&document.documentMode===10}function fw(a=pr()){return Jm(a)||uw(a)||hw(a)||dw(a)||/windows phone/i.test(a)||cw(a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mw(a,e=[]){let r;switch(a){case"Browser":r=Wb(pr());break;case"Worker":r=`${Wb(pr())}-${a}`;break;default:r=a}const s=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${Kl}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U5{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const s=u=>new Promise((f,g)=>{try{const p=e(u);f(p)}catch(p){g(p)}});s.onAbort=r,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const s of this.queue)await s(e),s.onAbort&&r.push(s.onAbort)}catch(s){r.reverse();for(const o of r)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B5(a,e={}){return za(a,"GET","/v2/passwordPolicy",Pa(a,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q5=6;class H5{constructor(e){var s;const r=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=r.minPasswordLength??q5,r.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=r.maxPasswordLength),r.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=r.containsLowercaseCharacter),r.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=r.containsUppercaseCharacter),r.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=r.containsNumericCharacter),r.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=r.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((s=e.allowedNonAlphanumericCharacters)==null?void 0:s.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const r={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,r),this.validatePasswordCharacterOptions(e,r),r.isValid&&(r.isValid=r.meetsMinPasswordLength??!0),r.isValid&&(r.isValid=r.meetsMaxPasswordLength??!0),r.isValid&&(r.isValid=r.containsLowercaseLetter??!0),r.isValid&&(r.isValid=r.containsUppercaseLetter??!0),r.isValid&&(r.isValid=r.containsNumericCharacter??!0),r.isValid&&(r.isValid=r.containsNonAlphanumericCharacter??!0),r}validatePasswordLengthOptions(e,r){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(r.meetsMinPasswordLength=e.length>=s),o&&(r.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(r,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,r,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F5{constructor(e,r,s,o){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Zb(this),this.idTokenSubscription=new Zb(this),this.beforeStateQueue=new U5(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Jv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=Aa(r)),this._initializationPromise=this.queue(async()=>{var s,o,u;if(!this._deleted&&(this.persistenceManager=await Ml.create(this,e),(s=this._resolvePersistenceManagerAvailable)==null||s.call(this),!this._deleted)){if((o=this._popupRedirectResolver)!=null&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((u=this.currentUser)==null?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await Bd(this,{idToken:e}),s=await En._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(s)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var u;if(an(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(g=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(g,g))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(u=this.redirectUser)==null?void 0:u._redirectEventId,g=s==null?void 0:s._redirectEventId,p=await this.tryRedirectSignIn(e);(!f||f===g)&&(p!=null&&p.user)&&(s=p.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(f){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return je(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await qd(e)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=_5()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(an(this.app))return Promise.reject(Ca(this));const r=e?Tt(e):null;return r&&je(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&je(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return an(this.app)?Promise.reject(Ca(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return an(this.app)?Promise.reject(Ca(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Aa(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await B5(this),r=new H5(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Li("auth","Firebase",e())}onAuthStateChanged(e,r,s){return this.registerStateListener(this.authStateSubscription,e,r,s)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,s){return this.registerStateListener(this.idTokenSubscription,e,r,s)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(s.tenantId=this.tenantId),await L5(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,r){const s=await this.getOrInitRedirectPersistenceManager(r);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&Aa(e)||this._popupRedirectResolver;je(r,this,"argument-error"),this.redirectPersistenceManager=await Ml.create(this,[Aa(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var r,s;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)==null?void 0:r._redirectEventId)===e?this._currentUser:((s=this.redirectUser)==null?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((r=this.currentUser)==null?void 0:r.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,s,o){if(this._deleted)return()=>{};const u=typeof r=="function"?r:r.next.bind(r);let f=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(je(g,this,"internal-error"),g.then(()=>{f||u(this.currentUser)}),typeof r=="function"){const p=e.addObserver(r,s,o);return()=>{f=!0,p()}}else{const p=e.addObserver(r);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return je(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=mw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var o;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const r=await((o=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:o.getHeartbeatsHeader());r&&(e["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){var r;if(an(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((r=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:r.getToken());return e!=null&&e.error&&b5(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Ls(a){return Tt(a)}class Zb{constructor(e){this.auth=e,this.observer=null,this.addObserver=rT(r=>this.observer=r)}get next(){return je(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function G5(a){lh=a}function gw(a){return lh.loadJS(a)}function $5(){return lh.recaptchaEnterpriseScript}function Q5(){return lh.gapiScript}function K5(a){return`__${a}${Math.floor(Math.random()*1e6)}`}class Y5{constructor(){this.enterprise=new X5}ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}class X5{ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}const W5="recaptcha-enterprise",pw="NO_RECAPTCHA";class Z5{constructor(e){this.type=W5,this.auth=Ls(e)}async verify(e="verify",r=!1){async function s(u){if(!r){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,g)=>{A5(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)g(new Error("recaptcha Enterprise site key undefined"));else{const y=new S5(p);return u.tenantId==null?u._agentRecaptchaConfig=y:u._tenantRecaptchaConfigs[u.tenantId]=y,f(y.siteKey)}}).catch(p=>{g(p)})})}function o(u,f,g){const p=window.grecaptcha;Qb(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(y=>{f(y)}).catch(()=>{f(pw)})}):g(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Y5().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(g=>{if(!r&&Qb(window.grecaptcha))o(g,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=$5();p.length!==0&&(p+=g),gw(p).then(()=>{o(g,u,f)}).catch(y=>{f(y)})}}).catch(g=>{f(g)})})}}async function Jb(a,e,r,s=!1,o=!1){const u=new Z5(a);let f;if(o)f=pw;else try{f=await u.verify(r)}catch{f=await u.verify(r,!0)}const g={...e};if(r==="mfaSmsEnrollment"||r==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in g){const p=g.phoneEnrollmentInfo.phoneNumber,y=g.phoneEnrollmentInfo.recaptchaToken;Object.assign(g,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:y,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in g){const p=g.phoneSignInInfo.recaptchaToken;Object.assign(g,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return g}return s?Object.assign(g,{captchaResp:f}):Object.assign(g,{captchaResponse:f}),Object.assign(g,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(g,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),g}async function Hd(a,e,r,s,o){var u;if((u=a._getRecaptchaConfig())!=null&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await Jb(a,e,r,r==="getOobCode");return s(a,f)}else return s(a,e).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const g=await Jb(a,e,r,r==="getOobCode");return s(a,g)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J5(a,e){const r=Pi(a,"auth");if(r.isInitialized()){const o=r.getImmediate(),u=r.getOptions();if(js(u,e??{}))return o;jn(o,"already-initialized")}return r.initialize({options:e})}function ej(a,e){const r=(e==null?void 0:e.persistence)||[],s=(Array.isArray(r)?r:[r]).map(Aa);e!=null&&e.errorMap&&a._updateErrorMap(e.errorMap),a._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function tj(a,e,r){const s=Ls(a);je(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=yw(e),{host:f,port:g}=rj(e),p=g===null?"":`:${g}`,y={url:`${u}//${f}${p}/`},w=Object.freeze({host:f,port:g,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){je(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),je(js(y,s.config.emulator)&&js(w,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=w,s.settings.appVerificationDisabledForTesting=!0,Ql(f)?(Bv(`${u}//${f}${p}`),qv("Auth",!0)):nj()}function yw(a){const e=a.indexOf(":");return e<0?"":a.substr(0,e+1)}function rj(a){const e=yw(a),r=/(\/\/)?([^?#/]+)/.exec(a.substr(e.length));if(!r)return{host:"",port:null};const s=r[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:e1(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:e1(f)}}}function e1(a){if(!a)return null;const e=Number(a);return isNaN(e)?null:e}function nj(){function a(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",a):a())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eg{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return Sa("not implemented")}_getIdTokenResponse(e){return Sa("not implemented")}_linkToIdToken(e,r){return Sa("not implemented")}_getReauthenticationResolver(e){return Sa("not implemented")}}async function aj(a,e){return za(a,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sj(a,e){return Vc(a,"POST","/v1/accounts:signInWithPassword",Pa(a,e))}async function ij(a,e){return za(a,"POST","/v1/accounts:sendOobCode",Pa(a,e))}async function lj(a,e){return ij(a,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oj(a,e){return Vc(a,"POST","/v1/accounts:signInWithEmailLink",Pa(a,e))}async function cj(a,e){return Vc(a,"POST","/v1/accounts:signInWithEmailLink",Pa(a,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc extends eg{constructor(e,r,s,o=null){super("password",s),this._email=e,this._password=r,this._tenantId=o}static _fromEmailAndPassword(e,r){return new Nc(e,r,"password")}static _fromEmailAndCode(e,r,s=null){return new Nc(e,r,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e;if(r!=null&&r.email&&(r!=null&&r.password)){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Hd(e,r,"signInWithPassword",sj);case"emailLink":return oj(e,{email:this._email,oobCode:this._password});default:jn(e,"internal-error")}}async _linkToIdToken(e,r){switch(this.signInMethod){case"password":const s={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Hd(e,s,"signUpPassword",aj);case"emailLink":return cj(e,{idToken:r,email:this._email,oobCode:this._password});default:jn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vl(a,e){return Vc(a,"POST","/v1/accounts:signInWithIdp",Pa(a,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uj="http://localhost";class Ci extends eg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new Ci(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):jn("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=r;if(!s||!o)return null;const f=new Ci(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const r=this.buildRequest();return Vl(e,r)}_linkToIdToken(e,r){const s=this.buildRequest();return s.idToken=r,Vl(e,s)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,Vl(e,r)}buildRequest(){const e={requestUri:uj,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=Oc(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dj(a){switch(a){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function hj(a){const e=sc(ic(a)).link,r=e?sc(ic(e)).deep_link_id:null,s=sc(ic(a)).deep_link_id;return(s?sc(ic(s)).link:null)||s||r||e||a}class tg{constructor(e){const r=sc(ic(e)),s=r.apiKey??null,o=r.oobCode??null,u=dj(r.mode??null);je(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=r.continueUrl??null,this.languageCode=r.lang??null,this.tenantId=r.tenantId??null}static parseLink(e){const r=hj(e);try{return new tg(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl{constructor(){this.providerId=Yl.PROVIDER_ID}static credential(e,r){return Nc._fromEmailAndPassword(e,r)}static credentialWithLink(e,r){const s=tg.parseLink(r);return je(s,"argument-error"),Nc._fromEmailAndCode(e,s.code,s.tenantId)}}Yl.PROVIDER_ID="password";Yl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Yl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xw{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc extends xw{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs extends Lc{constructor(){super("facebook.com")}static credential(e){return Ci._fromParams({providerId:xs.PROVIDER_ID,signInMethod:xs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return xs.credentialFromTaggedObject(e)}static credentialFromError(e){return xs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return xs.credential(e.oauthAccessToken)}catch{return null}}}xs.FACEBOOK_SIGN_IN_METHOD="facebook.com";xs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs extends Lc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return Ci._fromParams({providerId:bs.PROVIDER_ID,signInMethod:bs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return bs.credentialFromTaggedObject(e)}static credentialFromError(e){return bs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:s}=e;if(!r&&!s)return null;try{return bs.credential(r,s)}catch{return null}}}bs.GOOGLE_SIGN_IN_METHOD="google.com";bs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs extends Lc{constructor(){super("github.com")}static credential(e){return Ci._fromParams({providerId:vs.PROVIDER_ID,signInMethod:vs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return vs.credentialFromTaggedObject(e)}static credentialFromError(e){return vs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return vs.credential(e.oauthAccessToken)}catch{return null}}}vs.GITHUB_SIGN_IN_METHOD="github.com";vs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws extends Lc{constructor(){super("twitter.com")}static credential(e,r){return Ci._fromParams({providerId:ws.PROVIDER_ID,signInMethod:ws.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return ws.credentialFromTaggedObject(e)}static credentialFromError(e){return ws.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:s}=e;if(!r||!s)return null;try{return ws.credential(r,s)}catch{return null}}}ws.TWITTER_SIGN_IN_METHOD="twitter.com";ws.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fj(a,e){return Vc(a,"POST","/v1/accounts:signUp",Pa(a,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,s,o=!1){const u=await En._fromIdTokenResponse(e,s,o),f=t1(s);return new Ri({user:u,providerId:f,_tokenResponse:s,operationType:r})}static async _forOperation(e,r,s){await e._updateTokensIfNecessary(s,!0);const o=t1(s);return new Ri({user:e,providerId:o,_tokenResponse:s,operationType:r})}}function t1(a){return a.providerId?a.providerId:"phoneNumber"in a?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd extends An{constructor(e,r,s,o){super(r.code,r.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Fd.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:r.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,r,s,o){return new Fd(e,r,s,o)}}function bw(a,e,r,s){return(e==="reauthenticate"?r._getReauthenticationResolver(a):r._getIdTokenResponse(a)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Fd._fromErrorAndOperation(a,u,e,s):u})}async function mj(a,e,r=!1){const s=await kc(a,e._linkToIdToken(a.auth,await a.getIdToken()),r);return Ri._forOperation(a,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gj(a,e,r=!1){const{auth:s}=a;if(an(s.app))return Promise.reject(Ca(s));const o="reauthenticate";try{const u=await kc(a,bw(s,o,e,a),r);je(u.idToken,s,"internal-error");const f=Zm(u.idToken);je(f,s,"internal-error");const{sub:g}=f;return je(a.uid===g,s,"user-mismatch"),Ri._forOperation(a,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&jn(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vw(a,e,r=!1){if(an(a.app))return Promise.reject(Ca(a));const s="signIn",o=await bw(a,s,e),u=await Ri._fromIdTokenResponse(a,s,o);return r||await a._updateCurrentUser(u.user),u}async function pj(a,e){return vw(Ls(a),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ww(a){const e=Ls(a);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function yj(a,e,r){const s=Ls(a);await Hd(s,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",lj)}async function xj(a,e,r){if(an(a.app))return Promise.reject(Ca(a));const s=Ls(a),f=await Hd(s,{returnSecureToken:!0,email:e,password:r,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",fj).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&ww(a),p}),g=await Ri._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(g.user),g}function bj(a,e,r){return an(a.app)?Promise.reject(Ca(a)):pj(Tt(a),Yl.credential(e,r)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&ww(a),s})}function vj(a,e,r,s){return Tt(a).onIdTokenChanged(e,r,s)}function wj(a,e,r){return Tt(a).beforeAuthStateChanged(e,r)}function _j(a,e,r,s){return Tt(a).onAuthStateChanged(e,r,s)}function kj(a){return Tt(a).signOut()}const Gd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _w{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(Gd,"1"),this.storage.removeItem(Gd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nj=1e3,Ej=10;class kw extends _w{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=fw(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const s=this.storage.getItem(r),o=this.localCache[r];s!==o&&e(r,o,s)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((f,g,p)=>{this.notifyListeners(f,p)});return}const s=e.key;r?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!r&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);z5()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,Ej):o()}notifyListeners(e,r){this.localCache[e]=r;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:s}),!0)})},Nj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}kw.type="LOCAL";const Tj=kw;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nw extends _w{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}Nw.type="SESSION";const Ew=Nw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jj(a){return Promise.all(a.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(o=>o.isListeningto(e));if(r)return r;const s=new oh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:s,eventType:o,data:u}=r.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;r.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const g=Array.from(f).map(async y=>y(r.origin,u)),p=await jj(g);r.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}oh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rg(a="",e=10){let r="";for(let s=0;s<e;s++)r+=Math.floor(Math.random()*10);return a+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sj{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((g,p)=>{const y=rg("",20);o.port1.start();const w=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(_){const S=_;if(S.data.eventId===y)switch(S.data.status){case"ack":clearTimeout(w),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),g(S.data.response);break;default:clearTimeout(w),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:y,data:r},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ea(){return window}function Aj(a){ea().location.href=a}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tw(){return typeof ea().WorkerGlobalScope<"u"&&typeof ea().importScripts=="function"}async function Cj(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Rj(){var a;return((a=navigator==null?void 0:navigator.serviceWorker)==null?void 0:a.controller)||null}function Ij(){return Tw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jw="firebaseLocalStorageDb",Dj=1,$d="firebaseLocalStorage",Sw="fbase_key";class Pc{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function ch(a,e){return a.transaction([$d],e?"readwrite":"readonly").objectStore($d)}function Oj(){const a=indexedDB.deleteDatabase(jw);return new Pc(a).toPromise()}function km(){const a=indexedDB.open(jw,Dj);return new Promise((e,r)=>{a.addEventListener("error",()=>{r(a.error)}),a.addEventListener("upgradeneeded",()=>{const s=a.result;try{s.createObjectStore($d,{keyPath:Sw})}catch(o){r(o)}}),a.addEventListener("success",async()=>{const s=a.result;s.objectStoreNames.contains($d)?e(s):(s.close(),await Oj(),e(await km()))})})}async function r1(a,e,r){const s=ch(a,!0).put({[Sw]:e,value:r});return new Pc(s).toPromise()}async function Mj(a,e){const r=ch(a,!1).get(e),s=await new Pc(r).toPromise();return s===void 0?null:s.value}function n1(a,e){const r=ch(a,!0).delete(e);return new Pc(r).toPromise()}const Vj=800,Lj=3;class Aw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await km(),this.db)}async _withRetries(e){let r=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(r++>Lj)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Tw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=oh._getInstance(Ij()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){var r,s;if(this.activeServiceWorker=await Cj(),!this.activeServiceWorker)return;this.sender=new Sj(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(r=e[0])!=null&&r.fulfilled&&(s=e[0])!=null&&s.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Rj()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await km();return await r1(e,Gd,"1"),await n1(e,Gd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(s=>r1(s,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(s=>Mj(s,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>n1(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=ch(o,!1).getAll();return new Pc(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),r.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),r.push(o));return r}notifyListeners(e,r){this.localCache[e]=r;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Vj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Aw.type="LOCAL";const Pj=Aw;new Mc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zj(a,e){return e?Aa(e):(je(a._popupRedirectResolver,a,"argument-error"),a._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ng extends eg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Vl(e,this._buildIdpRequest())}_linkToIdToken(e,r){return Vl(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return Vl(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function Uj(a){return vw(a.auth,new ng(a),a.bypassAuthState)}function Bj(a){const{auth:e,user:r}=a;return je(r,e,"internal-error"),gj(r,new ng(a),a.bypassAuthState)}async function qj(a){const{auth:e,user:r}=a;return je(r,e,"internal-error"),mj(r,new ng(a),a.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cw{constructor(e,r,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:s,postBody:o,tenantId:u,error:f,type:g}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:r,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(p))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Uj;case"linkViaPopup":case"linkViaRedirect":return qj;case"reauthViaPopup":case"reauthViaRedirect":return Bj;default:jn(this.auth,"internal-error")}}resolve(e){Oa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Oa(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hj=new Mc(2e3,1e4);class Il extends Cw{constructor(e,r,s,o,u){super(e,r,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Il.currentPopupAction&&Il.currentPopupAction.cancel(),Il.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return je(e,this.auth,"internal-error"),e}async onExecution(){Oa(this.filter.length===1,"Popup operations only handle one event");const e=rg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(Jn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Jn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Il.currentPopupAction=null}pollUserCancellation(){const e=()=>{var r,s;if((s=(r=this.authWindow)==null?void 0:r.window)!=null&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Jn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Hj.get())};e()}}Il.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fj="pendingRedirect",kd=new Map;class Gj extends Cw{constructor(e,r,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,s),this.eventId=null}async execute(){let e=kd.get(this.auth._key());if(!e){try{const s=await $j(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(r){e=()=>Promise.reject(r)}kd.set(this.auth._key(),e)}return this.bypassAuthState||kd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function $j(a,e){const r=Yj(e),s=Kj(a);if(!await s._isAvailable())return!1;const o=await s._get(r)==="true";return await s._remove(r),o}function Qj(a,e){kd.set(a._key(),e)}function Kj(a){return Aa(a._redirectPersistence)}function Yj(a){return _d(Fj,a.config.apiKey,a.name)}async function Xj(a,e,r=!1){if(an(a.app))return Promise.reject(Ca(a));const s=Ls(a),o=zj(s,e),f=await new Gj(s,o,r).execute();return f&&!r&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wj=600*1e3;class Zj{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(r=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Jj(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){var s;if(e.error&&!Rw(e)){const o=((s=e.error.code)==null?void 0:s.split("auth/")[1])||"internal-error";r.onError(Jn(this.auth,o))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const s=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Wj&&this.cachedEventUids.clear(),this.cachedEventUids.has(a1(e))}saveEventToCache(e){this.cachedEventUids.add(a1(e)),this.lastProcessedEventTime=Date.now()}}function a1(a){return[a.type,a.eventId,a.sessionId,a.tenantId].filter(e=>e).join("-")}function Rw({type:a,error:e}){return a==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Jj(a){switch(a.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Rw(a);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eS(a,e={}){return za(a,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tS=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,rS=/^https?/;async function nS(a){if(a.config.emulator)return;const{authorizedDomains:e}=await eS(a);for(const r of e)try{if(aS(r))return}catch{}jn(a,"unauthorized-domain")}function aS(a){const e=wm(),{protocol:r,hostname:s}=new URL(e);if(a.startsWith("chrome-extension://")){const f=new URL(a);return f.hostname===""&&s===""?r==="chrome-extension:"&&a.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&f.hostname===s}if(!rS.test(r))return!1;if(tS.test(a))return s===a;const o=a.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sS=new Mc(3e4,6e4);function s1(){const a=ea().___jsl;if(a!=null&&a.H){for(const e of Object.keys(a.H))if(a.H[e].r=a.H[e].r||[],a.H[e].L=a.H[e].L||[],a.H[e].r=[...a.H[e].L],a.CP)for(let r=0;r<a.CP.length;r++)a.CP[r]=null}}function iS(a){return new Promise((e,r)=>{var o,u,f;function s(){s1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{s1(),r(Jn(a,"network-request-failed"))},timeout:sS.get()})}if((u=(o=ea().gapi)==null?void 0:o.iframes)!=null&&u.Iframe)e(gapi.iframes.getContext());else if((f=ea().gapi)!=null&&f.load)s();else{const g=K5("iframefcb");return ea()[g]=()=>{gapi.load?s():r(Jn(a,"network-request-failed"))},gw(`${Q5()}?onload=${g}`).catch(p=>r(p))}}).catch(e=>{throw Nd=null,e})}let Nd=null;function lS(a){return Nd=Nd||iS(a),Nd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oS=new Mc(5e3,15e3),cS="__/auth/iframe",uS="emulator/auth/iframe",dS={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},hS=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function fS(a){const e=a.config;je(e.authDomain,a,"auth-domain-config-required");const r=e.emulator?Wm(e,uS):`https://${a.config.authDomain}/${cS}`,s={apiKey:e.apiKey,appName:a.name,v:Kl},o=hS.get(a.config.apiHost);o&&(s.eid=o);const u=a._getFrameworks();return u.length&&(s.fw=u.join(",")),`${r}?${Oc(s).slice(1)}`}async function mS(a){const e=await lS(a),r=ea().gapi;return je(r,a,"internal-error"),e.open({where:document.body,url:fS(a),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:dS,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=Jn(a,"network-request-failed"),g=ea().setTimeout(()=>{u(f)},oS.get());function p(){ea().clearTimeout(g),o(s)}s.ping(p).then(p,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gS={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},pS=500,yS=600,xS="_blank",bS="http://localhost";class i1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function vS(a,e,r,s=pS,o=yS){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let g="";const p={...gS,width:s.toString(),height:o.toString(),top:u,left:f},y=pr().toLowerCase();r&&(g=ow(y)?xS:r),iw(y)&&(e=e||bS,p.scrollbars="yes");const w=Object.entries(p).reduce((S,[V,U])=>`${S}${V}=${U},`,"");if(P5(y)&&g!=="_self")return wS(e||"",g),new i1(null);const _=window.open(e||"",g,w);je(_,a,"popup-blocked");try{_.focus()}catch{}return new i1(_)}function wS(a,e){const r=document.createElement("a");r.href=a,r.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _S="__/auth/handler",kS="emulator/auth/handler",NS=encodeURIComponent("fac");async function l1(a,e,r,s,o,u){je(a.config.authDomain,a,"auth-domain-config-required"),je(a.config.apiKey,a,"invalid-api-key");const f={apiKey:a.config.apiKey,appName:a.name,authType:r,redirectUrl:s,v:Kl,eventId:o};if(e instanceof xw){e.setDefaultLanguage(a.languageCode),f.providerId=e.providerId||"",tT(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[w,_]of Object.entries({}))f[w]=_}if(e instanceof Lc){const w=e.getScopes().filter(_=>_!=="");w.length>0&&(f.scopes=w.join(","))}a.tenantId&&(f.tid=a.tenantId);const g=f;for(const w of Object.keys(g))g[w]===void 0&&delete g[w];const p=await a._getAppCheckToken(),y=p?`#${NS}=${encodeURIComponent(p)}`:"";return`${ES(a)}?${Oc(g).slice(1)}${y}`}function ES({config:a}){return a.emulator?Wm(a,kS):`https://${a.authDomain}/${_S}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F0="webStorageSupport";class TS{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ew,this._completeRedirectFn=Xj,this._overrideRedirectResult=Qj}async _openPopup(e,r,s,o){var f;Oa((f=this.eventManagers[e._key()])==null?void 0:f.manager,"_initialize() not called before _openPopup()");const u=await l1(e,r,s,wm(),o);return vS(e,u,rg())}async _openRedirect(e,r,s,o){await this._originValidation(e);const u=await l1(e,r,s,wm(),o);return Aj(u),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:o,promise:u}=this.eventManagers[r];return o?Promise.resolve(o):(Oa(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[r]={promise:s},s.catch(()=>{delete this.eventManagers[r]}),s}async initAndGetManager(e){const r=await mS(e),s=new Zj(e);return r.register("authEvent",o=>(je(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=r,s}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(F0,{type:F0},o=>{var f;const u=(f=o==null?void 0:o[0])==null?void 0:f[F0];u!==void 0&&r(!!u),jn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=nS(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return fw()||lw()||Jm()}}const jS=TS;var o1="@firebase/auth",c1="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){je(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AS(a){switch(a){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function CS(a){sa(new Tn("auth",(e,{options:r})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:g}=s.options;je(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:g,clientPlatform:a,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:mw(a)},y=new F5(s,o,u,p);return ej(y,r),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,s)=>{e.getProvider("auth-internal").initialize()})),sa(new Tn("auth-internal",e=>{const r=Ls(e.getProvider("auth").getImmediate());return(s=>new SS(s))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),on(o1,c1,AS(a)),on(o1,c1,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RS=300,IS=Uv("authIdTokenMaxAge")||RS;let u1=null;const DS=a=>async e=>{const r=e&&await e.getIdTokenResult(),s=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(s&&s>IS)return;const o=r==null?void 0:r.token;u1!==o&&(u1=o,await fetch(a,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function OS(a=Ym()){const e=Pi(a,"auth");if(e.isInitialized())return e.getImmediate();const r=J5(a,{popupRedirectResolver:jS,persistence:[Pj,Tj,Ew]}),s=Uv("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=DS(u.toString());wj(r,f,()=>f(r.currentUser)),vj(r,g=>f(g))}}const o=Pv("auth");return o&&tj(r,`http://${o}`),r}function MS(){var a;return((a=document.getElementsByTagName("head"))==null?void 0:a[0])??document}G5({loadJS(a){return new Promise((e,r)=>{const s=document.createElement("script");s.setAttribute("src",a),s.onload=e,s.onerror=o=>{const u=Jn("internal-error");u.customData=o,r(u)},s.type="text/javascript",s.charset="UTF-8",MS().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});CS("Browser");var d1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Es,Iw;(function(){var a;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(T,N){function j(){}j.prototype=N.prototype,T.F=N.prototype,T.prototype=new j,T.prototype.constructor=T,T.D=function(R,I,M){for(var A=Array(arguments.length-2),_e=2;_e<arguments.length;_e++)A[_e-2]=arguments[_e];return N.prototype[I].apply(R,A)}}function r(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,r),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(T,N,j){j||(j=0);const R=Array(16);if(typeof N=="string")for(var I=0;I<16;++I)R[I]=N.charCodeAt(j++)|N.charCodeAt(j++)<<8|N.charCodeAt(j++)<<16|N.charCodeAt(j++)<<24;else for(I=0;I<16;++I)R[I]=N[j++]|N[j++]<<8|N[j++]<<16|N[j++]<<24;N=T.g[0],j=T.g[1],I=T.g[2];let M=T.g[3],A;A=N+(M^j&(I^M))+R[0]+3614090360&4294967295,N=j+(A<<7&4294967295|A>>>25),A=M+(I^N&(j^I))+R[1]+3905402710&4294967295,M=N+(A<<12&4294967295|A>>>20),A=I+(j^M&(N^j))+R[2]+606105819&4294967295,I=M+(A<<17&4294967295|A>>>15),A=j+(N^I&(M^N))+R[3]+3250441966&4294967295,j=I+(A<<22&4294967295|A>>>10),A=N+(M^j&(I^M))+R[4]+4118548399&4294967295,N=j+(A<<7&4294967295|A>>>25),A=M+(I^N&(j^I))+R[5]+1200080426&4294967295,M=N+(A<<12&4294967295|A>>>20),A=I+(j^M&(N^j))+R[6]+2821735955&4294967295,I=M+(A<<17&4294967295|A>>>15),A=j+(N^I&(M^N))+R[7]+4249261313&4294967295,j=I+(A<<22&4294967295|A>>>10),A=N+(M^j&(I^M))+R[8]+1770035416&4294967295,N=j+(A<<7&4294967295|A>>>25),A=M+(I^N&(j^I))+R[9]+2336552879&4294967295,M=N+(A<<12&4294967295|A>>>20),A=I+(j^M&(N^j))+R[10]+4294925233&4294967295,I=M+(A<<17&4294967295|A>>>15),A=j+(N^I&(M^N))+R[11]+2304563134&4294967295,j=I+(A<<22&4294967295|A>>>10),A=N+(M^j&(I^M))+R[12]+1804603682&4294967295,N=j+(A<<7&4294967295|A>>>25),A=M+(I^N&(j^I))+R[13]+4254626195&4294967295,M=N+(A<<12&4294967295|A>>>20),A=I+(j^M&(N^j))+R[14]+2792965006&4294967295,I=M+(A<<17&4294967295|A>>>15),A=j+(N^I&(M^N))+R[15]+1236535329&4294967295,j=I+(A<<22&4294967295|A>>>10),A=N+(I^M&(j^I))+R[1]+4129170786&4294967295,N=j+(A<<5&4294967295|A>>>27),A=M+(j^I&(N^j))+R[6]+3225465664&4294967295,M=N+(A<<9&4294967295|A>>>23),A=I+(N^j&(M^N))+R[11]+643717713&4294967295,I=M+(A<<14&4294967295|A>>>18),A=j+(M^N&(I^M))+R[0]+3921069994&4294967295,j=I+(A<<20&4294967295|A>>>12),A=N+(I^M&(j^I))+R[5]+3593408605&4294967295,N=j+(A<<5&4294967295|A>>>27),A=M+(j^I&(N^j))+R[10]+38016083&4294967295,M=N+(A<<9&4294967295|A>>>23),A=I+(N^j&(M^N))+R[15]+3634488961&4294967295,I=M+(A<<14&4294967295|A>>>18),A=j+(M^N&(I^M))+R[4]+3889429448&4294967295,j=I+(A<<20&4294967295|A>>>12),A=N+(I^M&(j^I))+R[9]+568446438&4294967295,N=j+(A<<5&4294967295|A>>>27),A=M+(j^I&(N^j))+R[14]+3275163606&4294967295,M=N+(A<<9&4294967295|A>>>23),A=I+(N^j&(M^N))+R[3]+4107603335&4294967295,I=M+(A<<14&4294967295|A>>>18),A=j+(M^N&(I^M))+R[8]+1163531501&4294967295,j=I+(A<<20&4294967295|A>>>12),A=N+(I^M&(j^I))+R[13]+2850285829&4294967295,N=j+(A<<5&4294967295|A>>>27),A=M+(j^I&(N^j))+R[2]+4243563512&4294967295,M=N+(A<<9&4294967295|A>>>23),A=I+(N^j&(M^N))+R[7]+1735328473&4294967295,I=M+(A<<14&4294967295|A>>>18),A=j+(M^N&(I^M))+R[12]+2368359562&4294967295,j=I+(A<<20&4294967295|A>>>12),A=N+(j^I^M)+R[5]+4294588738&4294967295,N=j+(A<<4&4294967295|A>>>28),A=M+(N^j^I)+R[8]+2272392833&4294967295,M=N+(A<<11&4294967295|A>>>21),A=I+(M^N^j)+R[11]+1839030562&4294967295,I=M+(A<<16&4294967295|A>>>16),A=j+(I^M^N)+R[14]+4259657740&4294967295,j=I+(A<<23&4294967295|A>>>9),A=N+(j^I^M)+R[1]+2763975236&4294967295,N=j+(A<<4&4294967295|A>>>28),A=M+(N^j^I)+R[4]+1272893353&4294967295,M=N+(A<<11&4294967295|A>>>21),A=I+(M^N^j)+R[7]+4139469664&4294967295,I=M+(A<<16&4294967295|A>>>16),A=j+(I^M^N)+R[10]+3200236656&4294967295,j=I+(A<<23&4294967295|A>>>9),A=N+(j^I^M)+R[13]+681279174&4294967295,N=j+(A<<4&4294967295|A>>>28),A=M+(N^j^I)+R[0]+3936430074&4294967295,M=N+(A<<11&4294967295|A>>>21),A=I+(M^N^j)+R[3]+3572445317&4294967295,I=M+(A<<16&4294967295|A>>>16),A=j+(I^M^N)+R[6]+76029189&4294967295,j=I+(A<<23&4294967295|A>>>9),A=N+(j^I^M)+R[9]+3654602809&4294967295,N=j+(A<<4&4294967295|A>>>28),A=M+(N^j^I)+R[12]+3873151461&4294967295,M=N+(A<<11&4294967295|A>>>21),A=I+(M^N^j)+R[15]+530742520&4294967295,I=M+(A<<16&4294967295|A>>>16),A=j+(I^M^N)+R[2]+3299628645&4294967295,j=I+(A<<23&4294967295|A>>>9),A=N+(I^(j|~M))+R[0]+4096336452&4294967295,N=j+(A<<6&4294967295|A>>>26),A=M+(j^(N|~I))+R[7]+1126891415&4294967295,M=N+(A<<10&4294967295|A>>>22),A=I+(N^(M|~j))+R[14]+2878612391&4294967295,I=M+(A<<15&4294967295|A>>>17),A=j+(M^(I|~N))+R[5]+4237533241&4294967295,j=I+(A<<21&4294967295|A>>>11),A=N+(I^(j|~M))+R[12]+1700485571&4294967295,N=j+(A<<6&4294967295|A>>>26),A=M+(j^(N|~I))+R[3]+2399980690&4294967295,M=N+(A<<10&4294967295|A>>>22),A=I+(N^(M|~j))+R[10]+4293915773&4294967295,I=M+(A<<15&4294967295|A>>>17),A=j+(M^(I|~N))+R[1]+2240044497&4294967295,j=I+(A<<21&4294967295|A>>>11),A=N+(I^(j|~M))+R[8]+1873313359&4294967295,N=j+(A<<6&4294967295|A>>>26),A=M+(j^(N|~I))+R[15]+4264355552&4294967295,M=N+(A<<10&4294967295|A>>>22),A=I+(N^(M|~j))+R[6]+2734768916&4294967295,I=M+(A<<15&4294967295|A>>>17),A=j+(M^(I|~N))+R[13]+1309151649&4294967295,j=I+(A<<21&4294967295|A>>>11),A=N+(I^(j|~M))+R[4]+4149444226&4294967295,N=j+(A<<6&4294967295|A>>>26),A=M+(j^(N|~I))+R[11]+3174756917&4294967295,M=N+(A<<10&4294967295|A>>>22),A=I+(N^(M|~j))+R[2]+718787259&4294967295,I=M+(A<<15&4294967295|A>>>17),A=j+(M^(I|~N))+R[9]+3951481745&4294967295,T.g[0]=T.g[0]+N&4294967295,T.g[1]=T.g[1]+(I+(A<<21&4294967295|A>>>11))&4294967295,T.g[2]=T.g[2]+I&4294967295,T.g[3]=T.g[3]+M&4294967295}s.prototype.v=function(T,N){N===void 0&&(N=T.length);const j=N-this.blockSize,R=this.C;let I=this.h,M=0;for(;M<N;){if(I==0)for(;M<=j;)o(this,T,M),M+=this.blockSize;if(typeof T=="string"){for(;M<N;)if(R[I++]=T.charCodeAt(M++),I==this.blockSize){o(this,R),I=0;break}}else for(;M<N;)if(R[I++]=T[M++],I==this.blockSize){o(this,R),I=0;break}}this.h=I,this.o+=N},s.prototype.A=function(){var T=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);T[0]=128;for(var N=1;N<T.length-8;++N)T[N]=0;N=this.o*8;for(var j=T.length-8;j<T.length;++j)T[j]=N&255,N/=256;for(this.v(T),T=Array(16),N=0,j=0;j<4;++j)for(let R=0;R<32;R+=8)T[N++]=this.g[j]>>>R&255;return T};function u(T,N){var j=g;return Object.prototype.hasOwnProperty.call(j,T)?j[T]:j[T]=N(T)}function f(T,N){this.h=N;const j=[];let R=!0;for(let I=T.length-1;I>=0;I--){const M=T[I]|0;R&&M==N||(j[I]=M,R=!1)}this.g=j}var g={};function p(T){return-128<=T&&T<128?u(T,function(N){return new f([N|0],N<0?-1:0)}):new f([T|0],T<0?-1:0)}function y(T){if(isNaN(T)||!isFinite(T))return _;if(T<0)return $(y(-T));const N=[];let j=1;for(let R=0;T>=j;R++)N[R]=T/j|0,j*=4294967296;return new f(N,0)}function w(T,N){if(T.length==0)throw Error("number format error: empty string");if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(T.charAt(0)=="-")return $(w(T.substring(1),N));if(T.indexOf("-")>=0)throw Error('number format error: interior "-" character');const j=y(Math.pow(N,8));let R=_;for(let M=0;M<T.length;M+=8){var I=Math.min(8,T.length-M);const A=parseInt(T.substring(M,M+I),N);I<8?(I=y(Math.pow(N,I)),R=R.j(I).add(y(A))):(R=R.j(j),R=R.add(y(A)))}return R}var _=p(0),S=p(1),V=p(16777216);a=f.prototype,a.m=function(){if(ne(this))return-$(this).m();let T=0,N=1;for(let j=0;j<this.g.length;j++){const R=this.i(j);T+=(R>=0?R:4294967296+R)*N,N*=4294967296}return T},a.toString=function(T){if(T=T||10,T<2||36<T)throw Error("radix out of range: "+T);if(U(this))return"0";if(ne(this))return"-"+$(this).toString(T);const N=y(Math.pow(T,6));var j=this;let R="";for(;;){const I=xe(j,N).g;j=le(j,I.j(N));let M=((j.g.length>0?j.g[0]:j.h)>>>0).toString(T);if(j=I,U(j))return M+R;for(;M.length<6;)M="0"+M;R=M+R}},a.i=function(T){return T<0?0:T<this.g.length?this.g[T]:this.h};function U(T){if(T.h!=0)return!1;for(let N=0;N<T.g.length;N++)if(T.g[N]!=0)return!1;return!0}function ne(T){return T.h==-1}a.l=function(T){return T=le(this,T),ne(T)?-1:U(T)?0:1};function $(T){const N=T.g.length,j=[];for(let R=0;R<N;R++)j[R]=~T.g[R];return new f(j,~T.h).add(S)}a.abs=function(){return ne(this)?$(this):this},a.add=function(T){const N=Math.max(this.g.length,T.g.length),j=[];let R=0;for(let I=0;I<=N;I++){let M=R+(this.i(I)&65535)+(T.i(I)&65535),A=(M>>>16)+(this.i(I)>>>16)+(T.i(I)>>>16);R=A>>>16,M&=65535,A&=65535,j[I]=A<<16|M}return new f(j,j[j.length-1]&-2147483648?-1:0)};function le(T,N){return T.add($(N))}a.j=function(T){if(U(this)||U(T))return _;if(ne(this))return ne(T)?$(this).j($(T)):$($(this).j(T));if(ne(T))return $(this.j($(T)));if(this.l(V)<0&&T.l(V)<0)return y(this.m()*T.m());const N=this.g.length+T.g.length,j=[];for(var R=0;R<2*N;R++)j[R]=0;for(R=0;R<this.g.length;R++)for(let I=0;I<T.g.length;I++){const M=this.i(R)>>>16,A=this.i(R)&65535,_e=T.i(I)>>>16,ze=T.i(I)&65535;j[2*R+2*I]+=A*ze,ee(j,2*R+2*I),j[2*R+2*I+1]+=M*ze,ee(j,2*R+2*I+1),j[2*R+2*I+1]+=A*_e,ee(j,2*R+2*I+1),j[2*R+2*I+2]+=M*_e,ee(j,2*R+2*I+2)}for(T=0;T<N;T++)j[T]=j[2*T+1]<<16|j[2*T];for(T=N;T<2*N;T++)j[T]=0;return new f(j,0)};function ee(T,N){for(;(T[N]&65535)!=T[N];)T[N+1]+=T[N]>>>16,T[N]&=65535,N++}function X(T,N){this.g=T,this.h=N}function xe(T,N){if(U(N))throw Error("division by zero");if(U(T))return new X(_,_);if(ne(T))return N=xe($(T),N),new X($(N.g),$(N.h));if(ne(N))return N=xe(T,$(N)),new X($(N.g),N.h);if(T.g.length>30){if(ne(T)||ne(N))throw Error("slowDivide_ only works with positive integers.");for(var j=S,R=N;R.l(T)<=0;)j=oe(j),R=oe(R);var I=F(j,1),M=F(R,1);for(R=F(R,2),j=F(j,2);!U(R);){var A=M.add(R);A.l(T)<=0&&(I=I.add(j),M=A),R=F(R,1),j=F(j,1)}return N=le(T,I.j(N)),new X(I,N)}for(I=_;T.l(N)>=0;){for(j=Math.max(1,Math.floor(T.m()/N.m())),R=Math.ceil(Math.log(j)/Math.LN2),R=R<=48?1:Math.pow(2,R-48),M=y(j),A=M.j(N);ne(A)||A.l(T)>0;)j-=R,M=y(j),A=M.j(N);U(M)&&(M=S),I=I.add(M),T=le(T,A)}return new X(I,T)}a.B=function(T){return xe(this,T).h},a.and=function(T){const N=Math.max(this.g.length,T.g.length),j=[];for(let R=0;R<N;R++)j[R]=this.i(R)&T.i(R);return new f(j,this.h&T.h)},a.or=function(T){const N=Math.max(this.g.length,T.g.length),j=[];for(let R=0;R<N;R++)j[R]=this.i(R)|T.i(R);return new f(j,this.h|T.h)},a.xor=function(T){const N=Math.max(this.g.length,T.g.length),j=[];for(let R=0;R<N;R++)j[R]=this.i(R)^T.i(R);return new f(j,this.h^T.h)};function oe(T){const N=T.g.length+1,j=[];for(let R=0;R<N;R++)j[R]=T.i(R)<<1|T.i(R-1)>>>31;return new f(j,T.h)}function F(T,N){const j=N>>5;N%=32;const R=T.g.length-j,I=[];for(let M=0;M<R;M++)I[M]=N>0?T.i(M+j)>>>N|T.i(M+j+1)<<32-N:T.i(M+j);return new f(I,T.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,Iw=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=w,Es=f}).apply(typeof d1<"u"?d1:typeof self<"u"?self:typeof window<"u"?window:{});var pd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Dw,lc,Ow,Ed,Nm,Mw,Vw,Lw;(function(){var a,e=Object.defineProperty;function r(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof pd=="object"&&pd];for(var x=0;x<d.length;++x){var v=d[x];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=r(this);function o(d,x){if(x)e:{var v=s;d=d.split(".");for(var E=0;E<d.length-1;E++){var z=d[E];if(!(z in v))break e;v=v[z]}d=d[d.length-1],E=v[d],x=x(E),x!=E&&x!=null&&e(v,d,{configurable:!0,writable:!0,value:x})}}o("Symbol.dispose",function(d){return d||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(d){return d||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(d){return d||function(x){var v=[],E;for(E in x)Object.prototype.hasOwnProperty.call(x,E)&&v.push([E,x[E]]);return v}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},f=this||self;function g(d){var x=typeof d;return x=="object"&&d!=null||x=="function"}function p(d,x,v){return d.call.apply(d.bind,arguments)}function y(d,x,v){return y=p,y.apply(null,arguments)}function w(d,x){var v=Array.prototype.slice.call(arguments,1);return function(){var E=v.slice();return E.push.apply(E,arguments),d.apply(this,E)}}function _(d,x){function v(){}v.prototype=x.prototype,d.Z=x.prototype,d.prototype=new v,d.prototype.constructor=d,d.Ob=function(E,z,G){for(var de=Array(arguments.length-2),Le=2;Le<arguments.length;Le++)de[Le-2]=arguments[Le];return x.prototype[z].apply(E,de)}}var S=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?d=>d&&AsyncContext.Snapshot.wrap(d):d=>d;function V(d){const x=d.length;if(x>0){const v=Array(x);for(let E=0;E<x;E++)v[E]=d[E];return v}return[]}function U(d,x){for(let E=1;E<arguments.length;E++){const z=arguments[E];var v=typeof z;if(v=v!="object"?v:z?Array.isArray(z)?"array":v:"null",v=="array"||v=="object"&&typeof z.length=="number"){v=d.length||0;const G=z.length||0;d.length=v+G;for(let de=0;de<G;de++)d[v+de]=z[de]}else d.push(z)}}class ne{constructor(x,v){this.i=x,this.j=v,this.h=0,this.g=null}get(){let x;return this.h>0?(this.h--,x=this.g,this.g=x.next,x.next=null):x=this.i(),x}}function $(d){f.setTimeout(()=>{throw d},0)}function le(){var d=T;let x=null;return d.g&&(x=d.g,d.g=d.g.next,d.g||(d.h=null),x.next=null),x}class ee{constructor(){this.h=this.g=null}add(x,v){const E=X.get();E.set(x,v),this.h?this.h.next=E:this.g=E,this.h=E}}var X=new ne(()=>new xe,d=>d.reset());class xe{constructor(){this.next=this.g=this.h=null}set(x,v){this.h=x,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let oe,F=!1,T=new ee,N=()=>{const d=Promise.resolve(void 0);oe=()=>{d.then(j)}};function j(){for(var d;d=le();){try{d.h.call(d.g)}catch(v){$(v)}var x=X;x.j(d),x.h<100&&(x.h++,d.next=x.g,x.g=d)}F=!1}function R(){this.u=this.u,this.C=this.C}R.prototype.u=!1,R.prototype.dispose=function(){this.u||(this.u=!0,this.N())},R.prototype[Symbol.dispose]=function(){this.dispose()},R.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function I(d,x){this.type=d,this.g=this.target=x,this.defaultPrevented=!1}I.prototype.h=function(){this.defaultPrevented=!0};var M=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var d=!1,x=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const v=()=>{};f.addEventListener("test",v,x),f.removeEventListener("test",v,x)}catch{}return d})();function A(d){return/^[\s\xa0]*$/.test(d)}function _e(d,x){I.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d&&this.init(d,x)}_(_e,I),_e.prototype.init=function(d,x){const v=this.type=d.type,E=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;this.target=d.target||d.srcElement,this.g=x,x=d.relatedTarget,x||(v=="mouseover"?x=d.fromElement:v=="mouseout"&&(x=d.toElement)),this.relatedTarget=x,E?(this.clientX=E.clientX!==void 0?E.clientX:E.pageX,this.clientY=E.clientY!==void 0?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=d.pointerType,this.state=d.state,this.i=d,d.defaultPrevented&&_e.Z.h.call(this)},_e.prototype.h=function(){_e.Z.h.call(this);const d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var ze="closure_listenable_"+(Math.random()*1e6|0),W=0;function ce(d,x,v,E,z){this.listener=d,this.proxy=null,this.src=x,this.type=v,this.capture=!!E,this.ha=z,this.key=++W,this.da=this.fa=!1}function ye(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function Me(d,x,v){for(const E in d)x.call(v,d[E],E,d)}function Ie(d,x){for(const v in d)x.call(void 0,d[v],v,d)}function D(d){const x={};for(const v in d)x[v]=d[v];return x}const te="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(d,x){let v,E;for(let z=1;z<arguments.length;z++){E=arguments[z];for(v in E)d[v]=E[v];for(let G=0;G<te.length;G++)v=te[G],Object.prototype.hasOwnProperty.call(E,v)&&(d[v]=E[v])}}function Z(d){this.src=d,this.g={},this.h=0}Z.prototype.add=function(d,x,v,E,z){const G=d.toString();d=this.g[G],d||(d=this.g[G]=[],this.h++);const de=me(d,x,E,z);return de>-1?(x=d[de],v||(x.fa=!1)):(x=new ce(x,this.src,G,!!E,z),x.fa=v,d.push(x)),x};function Q(d,x){const v=x.type;if(v in d.g){var E=d.g[v],z=Array.prototype.indexOf.call(E,x,void 0),G;(G=z>=0)&&Array.prototype.splice.call(E,z,1),G&&(ye(x),d.g[v].length==0&&(delete d.g[v],d.h--))}}function me(d,x,v,E){for(let z=0;z<d.length;++z){const G=d[z];if(!G.da&&G.listener==x&&G.capture==!!v&&G.ha==E)return z}return-1}var Ee="closure_lm_"+(Math.random()*1e6|0),nt={};function ve(d,x,v,E,z){if(Array.isArray(x)){for(let G=0;G<x.length;G++)ve(d,x[G],v,E,z);return null}return v=Bs(v),d&&d[ze]?d.J(x,v,g(E)?!!E.capture:!1,z):gt(d,x,v,!1,E,z)}function gt(d,x,v,E,z,G){if(!x)throw Error("Invalid event type");const de=g(z)?!!z.capture:!!z;let Le=Gr(d);if(Le||(d[Ee]=Le=new Z(d)),v=Le.add(x,v,E,de,G),v.proxy)return v;if(E=Fr(),v.proxy=E,E.src=d,E.listener=v,d.addEventListener)M||(z=de),z===void 0&&(z=!1),d.addEventListener(x.toString(),E,z);else if(d.attachEvent)d.attachEvent(Yt(x.toString()),E);else if(d.addListener&&d.removeListener)d.addListener(E);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Fr(){function d(v){return x.call(d.src,d.listener,v)}const x=Cn;return d}function er(d,x,v,E,z){if(Array.isArray(x))for(var G=0;G<x.length;G++)er(d,x[G],v,E,z);else E=g(E)?!!E.capture:!!E,v=Bs(v),d&&d[ze]?(d=d.i,G=String(x).toString(),G in d.g&&(x=d.g[G],v=me(x,v,E,z),v>-1&&(ye(x[v]),Array.prototype.splice.call(x,v,1),x.length==0&&(delete d.g[G],d.h--)))):d&&(d=Gr(d))&&(x=d.g[x.toString()],d=-1,x&&(d=me(x,v,E,z)),(v=d>-1?x[d]:null)&&Kt(v))}function Kt(d){if(typeof d!="number"&&d&&!d.da){var x=d.src;if(x&&x[ze])Q(x.i,d);else{var v=d.type,E=d.proxy;x.removeEventListener?x.removeEventListener(v,E,d.capture):x.detachEvent?x.detachEvent(Yt(v),E):x.addListener&&x.removeListener&&x.removeListener(E),(v=Gr(x))?(Q(v,d),v.h==0&&(v.src=null,x[Ee]=null)):ye(d)}}}function Yt(d){return d in nt?nt[d]:nt[d]="on"+d}function Cn(d,x){if(d.da)d=!0;else{x=new _e(x,this);const v=d.listener,E=d.ha||d.src;d.fa&&Kt(d),d=v.call(E,x)}return d}function Gr(d){return d=d[Ee],d instanceof Z?d:null}var dn="__closure_events_fn_"+(Math.random()*1e9>>>0);function Bs(d){return typeof d=="function"?d:(d[dn]||(d[dn]=function(x){return d.handleEvent(x)}),d[dn])}function _t(){R.call(this),this.i=new Z(this),this.M=this,this.G=null}_(_t,R),_t.prototype[ze]=!0,_t.prototype.removeEventListener=function(d,x,v,E){er(this,d,x,v,E)};function jt(d,x){var v,E=d.G;if(E)for(v=[];E;E=E.G)v.push(E);if(d=d.M,E=x.type||x,typeof x=="string")x=new I(x,d);else if(x instanceof I)x.target=x.target||d;else{var z=x;x=new I(E,d),P(x,z)}z=!0;let G,de;if(v)for(de=v.length-1;de>=0;de--)G=x.g=v[de],z=Rr(G,E,!0,x)&&z;if(G=x.g=d,z=Rr(G,E,!0,x)&&z,z=Rr(G,E,!1,x)&&z,v)for(de=0;de<v.length;de++)G=x.g=v[de],z=Rr(G,E,!1,x)&&z}_t.prototype.N=function(){if(_t.Z.N.call(this),this.i){var d=this.i;for(const x in d.g){const v=d.g[x];for(let E=0;E<v.length;E++)ye(v[E]);delete d.g[x],d.h--}}this.G=null},_t.prototype.J=function(d,x,v,E){return this.i.add(String(d),x,!1,v,E)},_t.prototype.K=function(d,x,v,E){return this.i.add(String(d),x,!0,v,E)};function Rr(d,x,v,E){if(x=d.i.g[String(x)],!x)return!0;x=x.concat();let z=!0;for(let G=0;G<x.length;++G){const de=x[G];if(de&&!de.da&&de.capture==v){const Le=de.listener,St=de.ha||de.src;de.fa&&Q(d.i,de),z=Le.call(St,E)!==!1&&z}}return z&&!E.defaultPrevented}function to(d,x){if(typeof d!="function")if(d&&typeof d.handleEvent=="function")d=y(d.handleEvent,d);else throw Error("Invalid listener argument");return Number(x)>2147483647?-1:f.setTimeout(d,x||0)}function qs(d){d.g=to(()=>{d.g=null,d.i&&(d.i=!1,qs(d))},d.l);const x=d.h;d.h=null,d.m.apply(null,x)}class tr extends R{constructor(x,v){super(),this.m=x,this.l=v,this.h=null,this.i=!1,this.g=null}j(x){this.h=arguments,this.g?this.i=!0:qs(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function oa(d){R.call(this),this.h=d,this.g={}}_(oa,R);var Hs=[];function Fs(d){Me(d.g,function(x,v){this.g.hasOwnProperty(v)&&Kt(x)},d),d.g={}}oa.prototype.N=function(){oa.Z.N.call(this),Fs(this)},oa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ge=f.JSON.stringify,Ce=f.JSON.parse,Ae=class{stringify(d){return f.JSON.stringify(d,void 0)}parse(d){return f.JSON.parse(d,void 0)}};function he(){}function Ve(){}var Fe={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function We(){I.call(this,"d")}_(We,I);function Ht(){I.call(this,"c")}_(Ht,I);var Be={},ft=null;function dr(){return ft=ft||new _t}Be.Ia="serverreachability";function hn(d){I.call(this,Be.Ia,d)}_(hn,I);function Ir(d){const x=dr();jt(x,new hn(x))}Be.STAT_EVENT="statevent";function Gs(d,x){I.call(this,Be.STAT_EVENT,d),this.stat=x}_(Gs,I);function It(d){const x=dr();jt(x,new Gs(x,d))}Be.Ja="timingevent";function Rn(d,x){I.call(this,Be.Ja,d),this.size=x}_(Rn,I);function In(d,x){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){d()},x)}function fn(){this.g=!0}fn.prototype.ua=function(){this.g=!1};function Oh(d,x,v,E,z,G){d.info(function(){if(d.g)if(G){var de="",Le=G.split("&");for(let tt=0;tt<Le.length;tt++){var St=Le[tt].split("=");if(St.length>1){const bt=St[0];St=St[1];const Yr=bt.split("_");de=Yr.length>=2&&Yr[1]=="type"?de+(bt+"="+St+"&"):de+(bt+"=redacted&")}}}else de=null;else de=G;return"XMLHTTP REQ ("+E+") [attempt "+z+"]: "+x+`
`+v+`
`+de})}function $c(d,x,v,E,z,G,de){d.info(function(){return"XMLHTTP RESP ("+E+") [ attempt "+z+"]: "+x+`
`+v+`
`+G+" "+de})}function Dn(d,x,v,E){d.info(function(){return"XMLHTTP TEXT ("+x+"): "+Mh(d,v)+(E?" "+E:"")})}function $s(d,x){d.info(function(){return"TIMEOUT: "+x})}fn.prototype.info=function(){};function Mh(d,x){if(!d.g)return x;if(!x)return null;try{const G=JSON.parse(x);if(G){for(d=0;d<G.length;d++)if(Array.isArray(G[d])){var v=G[d];if(!(v.length<2)){var E=v[1];if(Array.isArray(E)&&!(E.length<1)){var z=E[0];if(z!="noop"&&z!="stop"&&z!="close")for(let de=1;de<E.length;de++)E[de]=""}}}}return ge(G)}catch{return x}}var Qs={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ro={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},no;function Ks(){}_(Ks,he),Ks.prototype.g=function(){return new XMLHttpRequest},no=new Ks;function ca(d){return encodeURIComponent(String(d))}function Qc(d){var x=1;d=d.split(":");const v=[];for(;x>0&&d.length;)v.push(d.shift()),x--;return d.length&&v.push(d.join(":")),v}function mn(d,x,v,E){this.j=d,this.i=x,this.l=v,this.S=E||1,this.V=new oa(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new gn}function gn(){this.i=null,this.g="",this.h=!1}var Dt={},Xt={};function On(d,x,v){d.M=1,d.A=Ys(Mt(x)),d.u=v,d.R=!0,qi(d,null)}function qi(d,x){d.F=Date.now(),Mn(d),d.B=Mt(d.A);var v=d.B,E=d.S;Array.isArray(E)||(E=[String(E)]),$i(v.i,"t",E),d.C=0,v=d.j.L,d.h=new gn,d.g=ou(d.j,v?x:null,!d.u),d.P>0&&(d.O=new tr(y(d.Y,d,d.g),d.P)),x=d.V,v=d.g,E=d.ba;var z="readystatechange";Array.isArray(z)||(z&&(Hs[0]=z.toString()),z=Hs);for(let G=0;G<z.length;G++){const de=ve(v,z[G],E||x.handleEvent,!1,x.h||x);if(!de)break;x.g[de.key]=de}x=d.J?D(d.J):{},d.u?(d.v||(d.v="POST"),x["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.B,d.v,d.u,x)):(d.v="GET",d.g.ea(d.B,d.v,null,x)),Ir(),Oh(d.i,d.v,d.B,d.l,d.S,d.u)}mn.prototype.ba=function(d){d=d.target;const x=this.O;x&&xn(d)==3?x.j():this.Y(d)},mn.prototype.Y=function(d){try{if(d==this.g)e:{const Le=xn(this.g),St=this.g.ya(),tt=this.g.ca();if(!(Le<3)&&(Le!=3||this.g&&(this.h.h||this.g.la()||rr(this.g)))){this.K||Le!=4||St==7||(St==8||tt<=0?Ir(3):Ir(2)),Vn(this);var x=this.g.ca();this.X=x;var v=Vh(this);if(this.o=x==200,$c(this.i,this.v,this.B,this.l,this.S,Le,x),this.o){if(this.U&&!this.L){t:{if(this.g){var E,z=this.g;if((E=z.g?z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!A(E)){var G=E;break t}}G=null}if(d=G)Dn(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ln(this,d);else{this.o=!1,this.m=3,It(12),Dr(this),$r(this);break e}}if(this.R){d=!0;let bt;for(;!this.K&&this.C<v.length;)if(bt=Yc(this,v),bt==Xt){Le==4&&(this.m=4,It(14),d=!1),Dn(this.i,this.l,null,"[Incomplete Response]");break}else if(bt==Dt){this.m=4,It(15),Dn(this.i,this.l,v,"[Invalid Chunk]"),d=!1;break}else Dn(this.i,this.l,bt,null),Ln(this,bt);if(Kc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Le!=4||v.length!=0||this.h.h||(this.m=1,It(16),d=!1),this.o=this.o&&d,!d)Dn(this.i,this.l,v,"[Invalid Chunked Response]"),Dr(this),$r(this);else if(v.length>0&&!this.W){this.W=!0;var de=this.j;de.g==this&&de.aa&&!de.P&&(de.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),bo(de),de.P=!0,It(11))}}else Dn(this.i,this.l,v,null),Ln(this,v);Le==4&&Dr(this),this.o&&!this.K&&(Le==4?au(this.j,this):(this.o=!1,Mn(this)))}else da(this.g),x==400&&v.indexOf("Unknown SID")>0?(this.m=3,It(12)):(this.m=0,It(13)),Dr(this),$r(this)}}}catch{}finally{}};function Vh(d){if(!Kc(d))return d.g.la();const x=rr(d.g);if(x==="")return"";let v="";const E=x.length,z=xn(d.g)==4;if(!d.h.i){if(typeof TextDecoder>"u")return Dr(d),$r(d),"";d.h.i=new f.TextDecoder}for(let G=0;G<E;G++)d.h.h=!0,v+=d.h.i.decode(x[G],{stream:!(z&&G==E-1)});return x.length=0,d.h.g+=v,d.C=0,d.h.g}function Kc(d){return d.g?d.v=="GET"&&d.M!=2&&d.j.Aa:!1}function Yc(d,x){var v=d.C,E=x.indexOf(`
`,v);return E==-1?Xt:(v=Number(x.substring(v,E)),isNaN(v)?Dt:(E+=1,E+v>x.length?Xt:(x=x.slice(E,E+v),d.C=E+v,x)))}mn.prototype.cancel=function(){this.K=!0,Dr(this)};function Mn(d){d.T=Date.now()+d.H,Hi(d,d.H)}function Hi(d,x){if(d.D!=null)throw Error("WatchDog timer not null");d.D=In(y(d.aa,d),x)}function Vn(d){d.D&&(f.clearTimeout(d.D),d.D=null)}mn.prototype.aa=function(){this.D=null;const d=Date.now();d-this.T>=0?($s(this.i,this.B),this.M!=2&&(Ir(),It(17)),Dr(this),this.m=2,$r(this)):Hi(this,this.T-d)};function $r(d){d.j.I==0||d.K||au(d.j,d)}function Dr(d){Vn(d);var x=d.O;x&&typeof x.dispose=="function"&&x.dispose(),d.O=null,Fs(d.V),d.g&&(x=d.g,d.g=null,x.abort(),x.dispose())}function Ln(d,x){try{var v=d.j;if(v.I!=0&&(v.g==d||zn(v.h,d))){if(!d.L&&zn(v.h,d)&&v.I==3){try{var E=v.Ba.g.parse(x)}catch{E=null}if(Array.isArray(E)&&E.length==3){var z=E;if(z[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<d.F)Wi(v),Qa(v);else break e;ri(v),It(18)}}else v.xa=z[1],0<v.xa-v.K&&z[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=In(y(v.Va,v),6e3));Pn(v.h)<=1&&v.ta&&(v.ta=void 0)}else Gn(v,11)}else if((d.L||v.g==d)&&Wi(v),!A(x))for(z=v.Ba.g.parse(x),x=0;x<z.length;x++){let tt=z[x];const bt=tt[0];if(!(bt<=v.K))if(v.K=bt,tt=tt[1],v.I==2)if(tt[0]=="c"){v.M=tt[1],v.ba=tt[2];const Yr=tt[3];Yr!=null&&(v.ka=Yr,v.j.info("VER="+v.ka));const $n=tt[4];$n!=null&&(v.za=$n,v.j.info("SVER="+v.za));const bn=tt[5];bn!=null&&typeof bn=="number"&&bn>0&&(E=1.5*bn,v.O=E,v.j.info("backChannelRequestTimeoutMs_="+E)),E=v;const vn=d.g;if(vn){const ni=vn.g?vn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ni){var G=E.h;G.g||ni.indexOf("spdy")==-1&&ni.indexOf("quic")==-1&&ni.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(io(G,G.h),G.h=null))}if(E.G){const Zi=vn.g?vn.g.getResponseHeader("X-HTTP-Session-Id"):null;Zi&&(E.wa=Zi,st(E.J,E.G,Zi))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-d.F,v.j.info("Handshake RTT: "+v.T+"ms")),E=v;var de=d;if(E.na=lu(E,E.L?E.ba:null,E.W),de.L){lo(E.h,de);var Le=de,St=E.O;St&&(Le.H=St),Le.D&&(Vn(Le),Mn(Le)),E.g=de}else ru(E);v.i.length>0&&Fn(v)}else tt[0]!="stop"&&tt[0]!="close"||Gn(v,7);else v.I==3&&(tt[0]=="stop"||tt[0]=="close"?tt[0]=="stop"?Gn(v,7):yo(v):tt[0]!="noop"&&v.l&&v.l.qa(tt),v.A=0)}}Ir(4)}catch{}}var Ot=class{constructor(d,x){this.g=d,this.map=x}};function ao(d){this.l=d||10,f.PerformanceNavigationTiming?(d=f.performance.getEntriesByType("navigation"),d=d.length>0&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function so(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Pn(d){return d.h?1:d.g?d.g.size:0}function zn(d,x){return d.h?d.h==x:d.g?d.g.has(x):!1}function io(d,x){d.g?d.g.add(x):d.h=x}function lo(d,x){d.h&&d.h==x?d.h=null:d.g&&d.g.has(x)&&d.g.delete(x)}ao.prototype.cancel=function(){if(this.i=oo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function oo(d){if(d.h!=null)return d.i.concat(d.h.G);if(d.g!=null&&d.g.size!==0){let x=d.i;for(const v of d.g.values())x=x.concat(v.G);return x}return V(d.i)}var Xc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Fi(d,x){if(d){d=d.split("&");for(let v=0;v<d.length;v++){const E=d[v].indexOf("=");let z,G=null;E>=0?(z=d[v].substring(0,E),G=d[v].substring(E+1)):z=d[v],x(z,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function Or(d){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let x;d instanceof Or?(this.l=d.l,Wt(this,d.j),this.o=d.o,this.g=d.g,Ua(this,d.u),this.h=d.h,co(this,eu(d.i)),this.m=d.m):d&&(x=String(d).match(Xc))?(this.l=!1,Wt(this,x[1]||"",!0),this.o=Un(x[2]||""),this.g=Un(x[3]||"",!0),Ua(this,x[4]),this.h=Un(x[5]||"",!0),co(this,x[6]||"",!0),this.m=Un(x[7]||"")):(this.l=!1,this.i=new qa(null,this.l))}Or.prototype.toString=function(){const d=[];var x=this.j;x&&d.push(Xs(x,Gi,!0),":");var v=this.g;return(v||x=="file")&&(d.push("//"),(x=this.o)&&d.push(Xs(x,Gi,!0),"@"),d.push(ca(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&d.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&d.push("/"),d.push(Xs(v,v.charAt(0)=="/"?uo:Wc,!0))),(v=this.i.toString())&&d.push("?",v),(v=this.m)&&d.push("#",Xs(v,Zc)),d.join("")},Or.prototype.resolve=function(d){const x=Mt(this);let v=!!d.j;v?Wt(x,d.j):v=!!d.o,v?x.o=d.o:v=!!d.g,v?x.g=d.g:v=d.u!=null;var E=d.h;if(v)Ua(x,d.u);else if(v=!!d.h){if(E.charAt(0)!="/")if(this.g&&!this.h)E="/"+E;else{var z=x.h.lastIndexOf("/");z!=-1&&(E=x.h.slice(0,z+1)+E)}if(z=E,z==".."||z==".")E="";else if(z.indexOf("./")!=-1||z.indexOf("/.")!=-1){E=z.lastIndexOf("/",0)==0,z=z.split("/");const G=[];for(let de=0;de<z.length;){const Le=z[de++];Le=="."?E&&de==z.length&&G.push(""):Le==".."?((G.length>1||G.length==1&&G[0]!="")&&G.pop(),E&&de==z.length&&G.push("")):(G.push(Le),E=!0)}E=G.join("/")}else E=z}return v?x.h=E:v=d.i.toString()!=="",v?co(x,eu(d.i)):v=!!d.m,v&&(x.m=d.m),x};function Mt(d){return new Or(d)}function Wt(d,x,v){d.j=v?Un(x,!0):x,d.j&&(d.j=d.j.replace(/:$/,""))}function Ua(d,x){if(x){if(x=Number(x),isNaN(x)||x<0)throw Error("Bad port number "+x);d.u=x}else d.u=null}function co(d,x,v){x instanceof qa?(d.i=x,Qi(d.i,d.l)):(v||(x=Xs(x,Ba)),d.i=new qa(x,d.l))}function st(d,x,v){d.i.set(x,v)}function Ys(d){return st(d,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),d}function Un(d,x){return d?x?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Xs(d,x,v){return typeof d=="string"?(d=encodeURI(d).replace(x,wr),v&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function wr(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var Gi=/[#\/\?@]/g,Wc=/[#\?:]/g,uo=/[#\?]/g,Ba=/[#\?@]/g,Zc=/#/g;function qa(d,x){this.h=this.g=null,this.i=d||null,this.j=!!x}function _r(d){d.g||(d.g=new Map,d.h=0,d.i&&Fi(d.i,function(x,v){d.add(decodeURIComponent(x.replace(/\+/g," ")),v)}))}a=qa.prototype,a.add=function(d,x){_r(this),this.i=null,d=Ha(this,d);let v=this.g.get(d);return v||this.g.set(d,v=[]),v.push(x),this.h+=1,this};function Jc(d,x){_r(d),x=Ha(d,x),d.g.has(x)&&(d.i=null,d.h-=d.g.get(x).length,d.g.delete(x))}function ho(d,x){return _r(d),x=Ha(d,x),d.g.has(x)}a.forEach=function(d,x){_r(this),this.g.forEach(function(v,E){v.forEach(function(z){d.call(x,z,E,this)},this)},this)};function fo(d,x){_r(d);let v=[];if(typeof x=="string")ho(d,x)&&(v=v.concat(d.g.get(Ha(d,x))));else for(d=Array.from(d.g.values()),x=0;x<d.length;x++)v=v.concat(d[x]);return v}a.set=function(d,x){return _r(this),this.i=null,d=Ha(this,d),ho(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[x]),this.h+=1,this},a.get=function(d,x){return d?(d=fo(this,d),d.length>0?String(d[0]):x):x};function $i(d,x,v){Jc(d,x),v.length>0&&(d.i=null,d.g.set(Ha(d,x),V(v)),d.h+=v.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],x=Array.from(this.g.keys());for(let E=0;E<x.length;E++){var v=x[E];const z=ca(v);v=fo(this,v);for(let G=0;G<v.length;G++){let de=z;v[G]!==""&&(de+="="+ca(v[G])),d.push(de)}}return this.i=d.join("&")};function eu(d){const x=new qa;return x.i=d.i,d.g&&(x.g=new Map(d.g),x.h=d.h),x}function Ha(d,x){return x=String(x),d.j&&(x=x.toLowerCase()),x}function Qi(d,x){x&&!d.j&&(_r(d),d.i=null,d.g.forEach(function(v,E){const z=E.toLowerCase();E!=z&&(Jc(this,E),$i(this,z,v))},d)),d.j=x}function pn(d,x){const v=new fn;if(f.Image){const E=new Image;E.onload=w(Qr,v,"TestLoadImage: loaded",!0,x,E),E.onerror=w(Qr,v,"TestLoadImage: error",!1,x,E),E.onabort=w(Qr,v,"TestLoadImage: abort",!1,x,E),E.ontimeout=w(Qr,v,"TestLoadImage: timeout",!1,x,E),f.setTimeout(function(){E.ontimeout&&E.ontimeout()},1e4),E.src=d}else x(!1)}function mo(d,x){const v=new fn,E=new AbortController,z=setTimeout(()=>{E.abort(),Qr(v,"TestPingServer: timeout",!1,x)},1e4);fetch(d,{signal:E.signal}).then(G=>{clearTimeout(z),G.ok?Qr(v,"TestPingServer: ok",!0,x):Qr(v,"TestPingServer: server error",!1,x)}).catch(()=>{clearTimeout(z),Qr(v,"TestPingServer: error",!1,x)})}function Qr(d,x,v,E,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),E(v)}catch{}}function Fa(){this.g=new Ae}function Bn(d){this.i=d.Sb||null,this.h=d.ab||!1}_(Bn,he),Bn.prototype.g=function(){return new Ws(this.i,this.h)};function Ws(d,x){_t.call(this),this.H=d,this.o=x,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}_(Ws,_t),a=Ws.prototype,a.open=function(d,x){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=d,this.D=x,this.readyState=1,yn(this)},a.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const x={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};d&&(x.body=d),(this.H||f).fetch(new Request(this.D,x)).then(this.Pa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ga(this)),this.readyState=0},a.Pa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,yn(this)),this.g&&(this.readyState=3,yn(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ki(this)}else d.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ki(d){d.j.read().then(d.Ma.bind(d)).catch(d.ga.bind(d))}a.Ma=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var x=d.value?d.value:new Uint8Array(0);(x=this.B.decode(x,{stream:!d.done}))&&(this.response=this.responseText+=x)}d.done?Ga(this):yn(this),this.readyState==3&&Ki(this)}},a.Oa=function(d){this.g&&(this.response=this.responseText=d,Ga(this))},a.Na=function(d){this.g&&(this.response=d,Ga(this))},a.ga=function(){this.g&&Ga(this)};function Ga(d){d.readyState=4,d.l=null,d.j=null,d.B=null,yn(d)}a.setRequestHeader=function(d,x){this.A.append(d,x)},a.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],x=this.h.entries();for(var v=x.next();!v.done;)v=v.value,d.push(v[0]+": "+v[1]),v=x.next();return d.join(`\r
`)};function yn(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Ws.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function Kr(d){let x="";return Me(d,function(v,E){x+=E,x+=":",x+=v,x+=`\r
`}),x}function Zs(d,x,v){e:{for(E in v){var E=!1;break e}E=!0}E||(v=Kr(v),typeof d=="string"?v!=null&&ca(v):st(d,x,v))}function ot(d){_t.call(this),this.headers=new Map,this.L=d||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}_(ot,_t);var qn=/^https?$/i,go=["POST","PUT"];a=ot.prototype,a.Fa=function(d){this.H=d},a.ea=function(d,x,v,E){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);x=x?x.toUpperCase():"GET",this.D=d,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():no.g(),this.g.onreadystatechange=S(y(this.Ca,this));try{this.B=!0,this.g.open(x,String(d),!0),this.B=!1}catch(G){Js(this,G);return}if(d=v||"",v=new Map(this.headers),E)if(Object.getPrototypeOf(E)===Object.prototype)for(var z in E)v.set(z,E[z]);else if(typeof E.keys=="function"&&typeof E.get=="function")for(const G of E.keys())v.set(G,E.get(G));else throw Error("Unknown input type for opt_headers: "+String(E));E=Array.from(v.keys()).find(G=>G.toLowerCase()=="content-type"),z=f.FormData&&d instanceof f.FormData,!(Array.prototype.indexOf.call(go,x,void 0)>=0)||E||z||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,de]of v)this.g.setRequestHeader(G,de);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(d),this.v=!1}catch(G){Js(this,G)}};function Js(d,x){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=x,d.o=5,po(d),ua(d)}function po(d){d.A||(d.A=!0,jt(d,"complete"),jt(d,"error"))}a.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=d||7,jt(this,"complete"),jt(this,"abort"),ua(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ua(this,!0)),ot.Z.N.call(this)},a.Ca=function(){this.u||(this.B||this.v||this.j?ei(this):this.Xa())},a.Xa=function(){ei(this)};function ei(d){if(d.h&&typeof u<"u"){if(d.v&&xn(d)==4)setTimeout(d.Ca.bind(d),0);else if(jt(d,"readystatechange"),xn(d)==4){d.h=!1;try{const G=d.ca();e:switch(G){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var x=!0;break e;default:x=!1}var v;if(!(v=x)){var E;if(E=G===0){let de=String(d.D).match(Xc)[1]||null;!de&&f.self&&f.self.location&&(de=f.self.location.protocol.slice(0,-1)),E=!qn.test(de?de.toLowerCase():"")}v=E}if(v)jt(d,"complete"),jt(d,"success");else{d.o=6;try{var z=xn(d)>2?d.g.statusText:""}catch{z=""}d.l=z+" ["+d.ca()+"]",po(d)}}finally{ua(d)}}}}function ua(d,x){if(d.g){d.m&&(clearTimeout(d.m),d.m=null);const v=d.g;d.g=null,x||jt(d,"ready");try{v.onreadystatechange=null}catch{}}}a.isActive=function(){return!!this.g};function xn(d){return d.g?d.g.readyState:0}a.ca=function(){try{return xn(this)>2?this.g.status:-1}catch{return-1}},a.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.La=function(d){if(this.g){var x=this.g.responseText;return d&&x.indexOf(d)==0&&(x=x.substring(d.length)),Ce(x)}};function rr(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.F){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function da(d){const x={};d=(d.g&&xn(d)>=2&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let E=0;E<d.length;E++){if(A(d[E]))continue;var v=Qc(d[E]);const z=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const G=x[z]||[];x[z]=G,G.push(v)}Ie(x,function(E){return E.join(", ")})}a.ya=function(){return this.o},a.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Hn(d,x,v){return v&&v.internalChannelParams&&v.internalChannelParams[d]||x}function $a(d){this.za=0,this.i=[],this.j=new fn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Hn("failFast",!1,d),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Hn("baseRetryDelayMs",5e3,d),this.Za=Hn("retryDelaySeedMs",1e4,d),this.Ta=Hn("forwardChannelMaxRetries",2,d),this.va=Hn("forwardChannelRequestTimeoutMs",2e4,d),this.ma=d&&d.xmlHttpFactory||void 0,this.Ua=d&&d.Rb||void 0,this.Aa=d&&d.useFetchStreams||!1,this.O=void 0,this.L=d&&d.supportsCrossDomainXhr||!1,this.M="",this.h=new ao(d&&d.concurrentRequestLimit),this.Ba=new Fa,this.S=d&&d.fastHandshake||!1,this.R=d&&d.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=d&&d.Pb||!1,d&&d.ua&&this.j.ua(),d&&d.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&d&&d.detectBufferingProxy||!1,this.ia=void 0,d&&d.longPollingTimeout&&d.longPollingTimeout>0&&(this.ia=d.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}a=$a.prototype,a.ka=8,a.I=1,a.connect=function(d,x,v,E){It(0),this.W=d,this.H=x||{},v&&E!==void 0&&(this.H.OSID=v,this.H.OAID=E),this.F=this.X,this.J=lu(this,null,this.W),Fn(this)};function yo(d){if(Yi(d),d.I==3){var x=d.V++,v=Mt(d.J);if(st(v,"SID",d.M),st(v,"RID",x),st(v,"TYPE","terminate"),ti(d,v),x=new mn(d,d.j,x),x.M=2,x.A=Ys(Mt(v)),v=!1,f.navigator&&f.navigator.sendBeacon)try{v=f.navigator.sendBeacon(x.A.toString(),"")}catch{}!v&&f.Image&&(new Image().src=x.A,v=!0),v||(x.g=ou(x.j,null),x.g.ea(x.A)),x.F=Date.now(),Mn(x)}iu(d)}function Qa(d){d.g&&(bo(d),d.g.cancel(),d.g=null)}function Yi(d){Qa(d),d.v&&(f.clearTimeout(d.v),d.v=null),Wi(d),d.h.cancel(),d.m&&(typeof d.m=="number"&&f.clearTimeout(d.m),d.m=null)}function Fn(d){if(!so(d.h)&&!d.m){d.m=!0;var x=d.Ea;oe||N(),F||(oe(),F=!0),T.add(x,d),d.D=0}}function Xi(d,x){return Pn(d.h)>=d.h.j-(d.m?1:0)?!1:d.m?(d.i=x.G.concat(d.i),!0):d.I==1||d.I==2||d.D>=(d.Sa?0:d.Ta)?!1:(d.m=In(y(d.Ea,d,x),su(d,d.D)),d.D++,!0)}a.Ea=function(d){if(this.m)if(this.m=null,this.I==1){if(!d){this.V=Math.floor(Math.random()*1e5),d=this.V++;const z=new mn(this,this.j,d);let G=this.o;if(this.U&&(G?(G=D(G),P(G,this.U)):G=this.U),this.u!==null||this.R||(z.J=G,G=null),this.S)e:{for(var x=0,v=0;v<this.i.length;v++){t:{var E=this.i[v];if("__data__"in E.map&&(E=E.map.__data__,typeof E=="string")){E=E.length;break t}E=void 0}if(E===void 0)break;if(x+=E,x>4096){x=v;break e}if(x===4096||v===this.i.length-1){x=v+1;break e}}x=1e3}else x=1e3;x=tu(this,z,x),v=Mt(this.J),st(v,"RID",d),st(v,"CVER",22),this.G&&st(v,"X-HTTP-Session-Id",this.G),ti(this,v),G&&(this.R?x="headers="+ca(Kr(G))+"&"+x:this.u&&Zs(v,this.u,G)),io(this.h,z),this.Ra&&st(v,"TYPE","init"),this.S?(st(v,"$req",x),st(v,"SID","null"),z.U=!0,On(z,v,null)):On(z,v,x),this.I=2}}else this.I==3&&(d?xo(this,d):this.i.length==0||so(this.h)||xo(this))};function xo(d,x){var v;x?v=x.l:v=d.V++;const E=Mt(d.J);st(E,"SID",d.M),st(E,"RID",v),st(E,"AID",d.K),ti(d,E),d.u&&d.o&&Zs(E,d.u,d.o),v=new mn(d,d.j,v,d.D+1),d.u===null&&(v.J=d.o),x&&(d.i=x.G.concat(d.i)),x=tu(d,v,1e3),v.H=Math.round(d.va*.5)+Math.round(d.va*.5*Math.random()),io(d.h,v),On(v,E,x)}function ti(d,x){d.H&&Me(d.H,function(v,E){st(x,E,v)}),d.l&&Me({},function(v,E){st(x,E,v)})}function tu(d,x,v){v=Math.min(d.i.length,v);const E=d.l?y(d.l.Ka,d.l,d):null;e:{var z=d.i;let Le=-1;for(;;){const St=["count="+v];Le==-1?v>0?(Le=z[0].g,St.push("ofs="+Le)):Le=0:St.push("ofs="+Le);let tt=!0;for(let bt=0;bt<v;bt++){var G=z[bt].g;const Yr=z[bt].map;if(G-=Le,G<0)Le=Math.max(0,z[bt].g-100),tt=!1;else try{G="req"+G+"_"||"";try{var de=Yr instanceof Map?Yr:Object.entries(Yr);for(const[$n,bn]of de){let vn=bn;g(bn)&&(vn=ge(bn)),St.push(G+$n+"="+encodeURIComponent(vn))}}catch($n){throw St.push(G+"type="+encodeURIComponent("_badmap")),$n}}catch{E&&E(Yr)}}if(tt){de=St.join("&");break e}}de=void 0}return d=d.i.splice(0,v),x.G=d,de}function ru(d){if(!d.g&&!d.v){d.Y=1;var x=d.Da;oe||N(),F||(oe(),F=!0),T.add(x,d),d.A=0}}function ri(d){return d.g||d.v||d.A>=3?!1:(d.Y++,d.v=In(y(d.Da,d),su(d,d.A)),d.A++,!0)}a.Da=function(){if(this.v=null,nu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var d=4*this.T;this.j.info("BP detection timer enabled: "+d),this.B=In(y(this.Wa,this),d)}},a.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,It(10),Qa(this),nu(this))};function bo(d){d.B!=null&&(f.clearTimeout(d.B),d.B=null)}function nu(d){d.g=new mn(d,d.j,"rpc",d.Y),d.u===null&&(d.g.J=d.o),d.g.P=0;var x=Mt(d.na);st(x,"RID","rpc"),st(x,"SID",d.M),st(x,"AID",d.K),st(x,"CI",d.F?"0":"1"),!d.F&&d.ia&&st(x,"TO",d.ia),st(x,"TYPE","xmlhttp"),ti(d,x),d.u&&d.o&&Zs(x,d.u,d.o),d.O&&(d.g.H=d.O);var v=d.g;d=d.ba,v.M=1,v.A=Ys(Mt(x)),v.u=null,v.R=!0,qi(v,d)}a.Va=function(){this.C!=null&&(this.C=null,Qa(this),ri(this),It(19))};function Wi(d){d.C!=null&&(f.clearTimeout(d.C),d.C=null)}function au(d,x){var v=null;if(d.g==x){Wi(d),bo(d),d.g=null;var E=2}else if(zn(d.h,x))v=x.G,lo(d.h,x),E=1;else return;if(d.I!=0){if(x.o)if(E==1){v=x.u?x.u.length:0,x=Date.now()-x.F;var z=d.D;E=dr(),jt(E,new Rn(E,v)),Fn(d)}else ru(d);else if(z=x.m,z==3||z==0&&x.X>0||!(E==1&&Xi(d,x)||E==2&&ri(d)))switch(v&&v.length>0&&(x=d.h,x.i=x.i.concat(v)),z){case 1:Gn(d,5);break;case 4:Gn(d,10);break;case 3:Gn(d,6);break;default:Gn(d,2)}}}function su(d,x){let v=d.Qa+Math.floor(Math.random()*d.Za);return d.isActive()||(v*=2),v*x}function Gn(d,x){if(d.j.info("Error code "+x),x==2){var v=y(d.bb,d),E=d.Ua;const z=!E;E=new Or(E||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Wt(E,"https"),Ys(E),z?pn(E.toString(),v):mo(E.toString(),v)}else It(2);d.I=0,d.l&&d.l.pa(x),iu(d),Yi(d)}a.bb=function(d){d?(this.j.info("Successfully pinged google.com"),It(2)):(this.j.info("Failed to ping google.com"),It(1))};function iu(d){if(d.I=0,d.ja=[],d.l){const x=oo(d.h);(x.length!=0||d.i.length!=0)&&(U(d.ja,x),U(d.ja,d.i),d.h.i.length=0,V(d.i),d.i.length=0),d.l.oa()}}function lu(d,x,v){var E=v instanceof Or?Mt(v):new Or(v);if(E.g!="")x&&(E.g=x+"."+E.g),Ua(E,E.u);else{var z=f.location;E=z.protocol,x=x?x+"."+z.hostname:z.hostname,z=+z.port;const G=new Or(null);E&&Wt(G,E),x&&(G.g=x),z&&Ua(G,z),v&&(G.h=v),E=G}return v=d.G,x=d.wa,v&&x&&st(E,v,x),st(E,"VER",d.ka),ti(d,E),E}function ou(d,x,v){if(x&&!d.L)throw Error("Can't create secondary domain capable XhrIo object.");return x=d.Aa&&!d.ma?new ot(new Bn({ab:v})):new ot(d.ma),x.Fa(d.L),x}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function cu(){}a=cu.prototype,a.ra=function(){},a.qa=function(){},a.pa=function(){},a.oa=function(){},a.isActive=function(){return!0},a.Ka=function(){};function Ka(){}Ka.prototype.g=function(d,x){return new yr(d,x)};function yr(d,x){_t.call(this),this.g=new $a(x),this.l=d,this.h=x&&x.messageUrlParams||null,d=x&&x.messageHeaders||null,x&&x.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=x&&x.initMessageHeaders||null,x&&x.messageContentType&&(d?d["X-WebChannel-Content-Type"]=x.messageContentType:d={"X-WebChannel-Content-Type":x.messageContentType}),x&&x.sa&&(d?d["X-WebChannel-Client-Profile"]=x.sa:d={"X-WebChannel-Client-Profile":x.sa}),this.g.U=d,(d=x&&x.Qb)&&!A(d)&&(this.g.u=d),this.A=x&&x.supportsCrossDomainXhr||!1,this.v=x&&x.sendRawJson||!1,(x=x&&x.httpSessionIdParam)&&!A(x)&&(this.g.G=x,d=this.h,d!==null&&x in d&&(d=this.h,x in d&&delete d[x])),this.j=new ha(this)}_(yr,_t),yr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},yr.prototype.close=function(){yo(this.g)},yr.prototype.o=function(d){var x=this.g;if(typeof d=="string"){var v={};v.__data__=d,d=v}else this.v&&(v={},v.__data__=ge(d),d=v);x.i.push(new Ot(x.Ya++,d)),x.I==3&&Fn(x)},yr.prototype.N=function(){this.g.l=null,delete this.j,yo(this.g),delete this.g,yr.Z.N.call(this)};function uu(d){We.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var x=d.__sm__;if(x){e:{for(const v in x){d=v;break e}d=void 0}(this.i=d)&&(d=this.i,x=x!==null&&d in x?x[d]:void 0),this.data=x}else this.data=d}_(uu,We);function du(){Ht.call(this),this.status=1}_(du,Ht);function ha(d){this.g=d}_(ha,cu),ha.prototype.ra=function(){jt(this.g,"a")},ha.prototype.qa=function(d){jt(this.g,new uu(d))},ha.prototype.pa=function(d){jt(this.g,new du)},ha.prototype.oa=function(){jt(this.g,"b")},Ka.prototype.createWebChannel=Ka.prototype.g,yr.prototype.send=yr.prototype.o,yr.prototype.open=yr.prototype.m,yr.prototype.close=yr.prototype.close,Lw=function(){return new Ka},Vw=function(){return dr()},Mw=Be,Nm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Qs.NO_ERROR=0,Qs.TIMEOUT=8,Qs.HTTP_ERROR=6,Ed=Qs,ro.COMPLETE="complete",Ow=ro,Ve.EventType=Fe,Fe.OPEN="a",Fe.CLOSE="b",Fe.ERROR="c",Fe.MESSAGE="d",_t.prototype.listen=_t.prototype.J,lc=Ve,ot.prototype.listenOnce=ot.prototype.K,ot.prototype.getLastError=ot.prototype.Ha,ot.prototype.getLastErrorCode=ot.prototype.ya,ot.prototype.getStatus=ot.prototype.ca,ot.prototype.getResponseJson=ot.prototype.La,ot.prototype.getResponseText=ot.prototype.la,ot.prototype.send=ot.prototype.ea,ot.prototype.setWithCredentials=ot.prototype.Fa,Dw=ot}).apply(typeof pd<"u"?pd:typeof self<"u"?self:typeof window<"u"?window:{});const h1="@firebase/firestore",f1="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}mr.UNAUTHENTICATED=new mr(null),mr.GOOGLE_CREDENTIALS=new mr("google-credentials-uid"),mr.FIRST_PARTY=new mr("first-party-uid"),mr.MOCK_USER=new mr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xl="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ii=new ih("@firebase/firestore");function Sl(){return Ii.logLevel}function pe(a,...e){if(Ii.logLevel<=Qe.DEBUG){const r=e.map(ag);Ii.debug(`Firestore (${Xl}): ${a}`,...r)}}function Ma(a,...e){if(Ii.logLevel<=Qe.ERROR){const r=e.map(ag);Ii.error(`Firestore (${Xl}): ${a}`,...r)}}function Ul(a,...e){if(Ii.logLevel<=Qe.WARN){const r=e.map(ag);Ii.warn(`Firestore (${Xl}): ${a}`,...r)}}function ag(a){if(typeof a=="string")return a;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(r){return JSON.stringify(r)})(a)}catch{return a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Se(a,e,r){let s="Unexpected state";typeof e=="string"?s=e:r=e,Pw(a,s,r)}function Pw(a,e,r){let s=`FIRESTORE (${Xl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${a.toString(16)})`;if(r!==void 0)try{s+=" CONTEXT: "+JSON.stringify(r)}catch{s+=" CONTEXT: "+r}throw Ma(s),new Error(s)}function at(a,e,r,s){let o="Unexpected state";typeof r=="string"?o=r:s=r,a||Pw(e,o,s)}function Oe(a,e){return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ae={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends An{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra{constructor(){this.promise=new Promise(((e,r)=>{this.resolve=e,this.reject=r}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zw{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class VS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable((()=>r(mr.UNAUTHENTICATED)))}shutdown(){}}class LS{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable((()=>r(this.token.user)))}shutdown(){this.changeListener=null}}class PS{constructor(e){this.t=e,this.currentUser=mr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){at(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,r(p)):Promise.resolve();let u=new Ra;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Ra,e.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const p=u;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},g=p=>{pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((p=>g(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?g(p):(pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Ra)}}),0),f()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then((s=>this.i!==e?(pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(at(typeof s.accessToken=="string",31837,{l:s}),new zw(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return at(e===null||typeof e=="string",2055,{h:e}),new mr(e)}}class zS{constructor(e,r,s){this.P=e,this.T=r,this.I=s,this.type="FirstParty",this.user=mr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class US{constructor(e,r,s){this.P=e,this.T=r,this.I=s}getToken(){return Promise.resolve(new zS(this.P,this.T,this.I))}start(e,r){e.enqueueRetryable((()=>r(mr.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class m1{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class BS{constructor(e,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,an(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,r){at(this.o===void 0,3512);const s=u=>{u.error!=null&&pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,pe("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?r(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new m1(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((r=>r?(at(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new m1(r.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qS(a){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(a);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let s=0;s<a;s++)r[s]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=qS(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<r&&(s+=e.charAt(o[u]%62))}return s}}function Ke(a,e){return a<e?-1:a>e?1:0}function Em(a,e){const r=Math.min(a.length,e.length);for(let s=0;s<r;s++){const o=a.charAt(s),u=e.charAt(s);if(o!==u)return G0(o)===G0(u)?Ke(o,u):G0(o)?1:-1}return Ke(a.length,e.length)}const HS=55296,FS=57343;function G0(a){const e=a.charCodeAt(0);return e>=HS&&e<=FS}function Bl(a,e,r){return a.length===e.length&&a.every(((s,o)=>r(s,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g1="__name__";class Wn{constructor(e,r,s){r===void 0?r=0:r>e.length&&Se(637,{offset:r,range:e.length}),s===void 0?s=e.length-r:s>e.length-r&&Se(1746,{length:s,range:e.length-r}),this.segments=e,this.offset=r,this.len=s}get length(){return this.len}isEqual(e){return Wn.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof Wn?e.forEach((s=>{r.push(s)})):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,s=this.limit();r<s;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const s=Math.min(e.length,r.length);for(let o=0;o<s;o++){const u=Wn.compareSegments(e.get(o),r.get(o));if(u!==0)return u}return Ke(e.length,r.length)}static compareSegments(e,r){const s=Wn.isNumericId(e),o=Wn.isNumericId(r);return s&&!o?-1:!s&&o?1:s&&o?Wn.extractNumericId(e).compare(Wn.extractNumericId(r)):Em(e,r)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Es.fromString(e.substring(4,e.length-2))}}class mt extends Wn{construct(e,r,s){return new mt(e,r,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const s of e){if(s.indexOf("//")>=0)throw new fe(ae.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);r.push(...s.split("/").filter((o=>o.length>0)))}return new mt(r)}static emptyPath(){return new mt([])}}const GS=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class cr extends Wn{construct(e,r,s){return new cr(e,r,s)}static isValidIdentifier(e){return GS.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),cr.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===g1}static keyField(){return new cr([g1])}static fromServerFormat(e){const r=[];let s="",o=0;const u=()=>{if(s.length===0)throw new fe(ae.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(s),s=""};let f=!1;for(;o<e.length;){const g=e[o];if(g==="\\"){if(o+1===e.length)throw new fe(ae.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new fe(ae.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else g==="`"?(f=!f,o++):g!=="."||f?(s+=g,o++):(u(),o++)}if(u(),f)throw new fe(ae.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new cr(r)}static emptyPath(){return new cr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{constructor(e){this.path=e}static fromPath(e){return new Ne(mt.fromString(e))}static fromName(e){return new Ne(mt.fromString(e).popFirst(5))}static empty(){return new Ne(mt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&mt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return mt.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ne(new mt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uw(a,e,r){if(!r)throw new fe(ae.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${e}.`)}function $S(a,e,r,s){if(e===!0&&s===!0)throw new fe(ae.INVALID_ARGUMENT,`${a} and ${r} cannot be used together.`)}function p1(a){if(!Ne.isDocumentKey(a))throw new fe(ae.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function y1(a){if(Ne.isDocumentKey(a))throw new fe(ae.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function Bw(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}function uh(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(a);return e?`a custom ${e} object`:"an object"}}return typeof a=="function"?"a function":Se(12329,{type:typeof a})}function Cr(a,e){if("_delegate"in a&&(a=a._delegate),!(a instanceof e)){if(e.name===a.constructor.name)throw new fe(ae.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=uh(a);throw new fe(ae.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return a}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qt(a,e){const r={typeString:a};return e&&(r.value=e),r}function zc(a,e){if(!Bw(a))throw new fe(ae.INVALID_ARGUMENT,"JSON must be an object");let r;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in a)){r=`JSON missing required field: '${s}'`;break}const f=a[s];if(o&&typeof f!==o){r=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){r=`Expected '${s}' field to equal '${u.value}'`;break}}if(r)throw new fe(ae.INVALID_ARGUMENT,r);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x1=-62135596800,b1=1e6;class xt{static now(){return xt.fromMillis(Date.now())}static fromDate(e){return xt.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),s=Math.floor((e-1e3*r)*b1);return new xt(r,s)}constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new fe(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new fe(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<x1)throw new fe(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/b1}_compareTo(e){return this.seconds===e.seconds?Ke(this.nanoseconds,e.nanoseconds):Ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:xt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(zc(e,xt._jsonSchema))return new xt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-x1;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}xt._jsonSchemaVersion="firestore/timestamp/1.0",xt._jsonSchema={type:qt("string",xt._jsonSchemaVersion),seconds:qt("number"),nanoseconds:qt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{static fromTimestamp(e){return new Re(e)}static min(){return new Re(new xt(0,0))}static max(){return new Re(new xt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ec=-1;function QS(a,e){const r=a.toTimestamp().seconds,s=a.toTimestamp().nanoseconds+1,o=Re.fromTimestamp(s===1e9?new xt(r+1,0):new xt(r,s));return new Ss(o,Ne.empty(),e)}function KS(a){return new Ss(a.readTime,a.key,Ec)}class Ss{constructor(e,r,s){this.readTime=e,this.documentKey=r,this.largestBatchId=s}static min(){return new Ss(Re.min(),Ne.empty(),Ec)}static max(){return new Ss(Re.max(),Ne.empty(),Ec)}}function YS(a,e){let r=a.readTime.compareTo(e.readTime);return r!==0?r:(r=Ne.comparator(a.documentKey,e.documentKey),r!==0?r:Ke(a.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class WS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wl(a){if(a.code!==ae.FAILED_PRECONDITION||a.message!==XS)throw a;pe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)}),(r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)}))}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&Se(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new ie(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(r,u).next(s,o)}}))}toPromise(){return new Promise(((e,r)=>{this.next(e,r)}))}wrapUserFunction(e){try{const r=e();return r instanceof ie?r:ie.resolve(r)}catch(r){return ie.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction((()=>e(r))):ie.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction((()=>e(r))):ie.reject(r)}static resolve(e){return new ie(((r,s)=>{r(e)}))}static reject(e){return new ie(((r,s)=>{s(e)}))}static waitFor(e){return new ie(((r,s)=>{let o=0,u=0,f=!1;e.forEach((g=>{++o,g.next((()=>{++u,f&&u===o&&r()}),(p=>s(p)))})),f=!0,u===o&&r()}))}static or(e){let r=ie.resolve(!1);for(const s of e)r=r.next((o=>o?ie.resolve(o):s()));return r}static forEach(e,r){const s=[];return e.forEach(((o,u)=>{s.push(r.call(this,o,u))})),this.waitFor(s)}static mapArray(e,r){return new ie(((s,o)=>{const u=e.length,f=new Array(u);let g=0;for(let p=0;p<u;p++){const y=p;r(e[y]).next((w=>{f[y]=w,++g,g===u&&s(f)}),(w=>o(w)))}}))}static doWhile(e,r){return new ie(((s,o)=>{const u=()=>{e()===!0?r().next((()=>{u()}),o):s()};u()}))}}function ZS(a){const e=a.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function Zl(a){return a.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>r.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}dh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ig=-1;function hh(a){return a==null}function Qd(a){return a===0&&1/a==-1/0}function JS(a){return typeof a=="number"&&Number.isInteger(a)&&!Qd(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qw="";function eA(a){let e="";for(let r=0;r<a.length;r++)e.length>0&&(e=v1(e)),e=tA(a.get(r),e);return v1(e)}function tA(a,e){let r=e;const s=a.length;for(let o=0;o<s;o++){const u=a.charAt(o);switch(u){case"\0":r+="";break;case qw:r+="";break;default:r+=u}}return r}function v1(a){return a+qw+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w1(a){let e=0;for(const r in a)Object.prototype.hasOwnProperty.call(a,r)&&e++;return e}function Ps(a,e){for(const r in a)Object.prototype.hasOwnProperty.call(a,r)&&e(r,a[r])}function Hw(a){for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(e,r){this.comparator=e,this.root=r||lr.EMPTY}insert(e,r){return new wt(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,lr.BLACK,null,null))}remove(e){return new wt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,lr.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return r.value;s<0?r=r.left:s>0&&(r=r.right)}return null}indexOf(e){let r=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return r+s.left.size;o<0?s=s.left:(r+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((r,s)=>(e(r,s),!1)))}toString(){const e=[];return this.inorderTraversal(((r,s)=>(e.push(`${r}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new yd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new yd(this.root,e,this.comparator,!1)}getReverseIterator(){return new yd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new yd(this.root,e,this.comparator,!0)}}class yd{constructor(e,r,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=r?s(e.key,r):1,r&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class lr{constructor(e,r,s,o,u){this.key=e,this.value=r,this.color=s??lr.RED,this.left=o??lr.EMPTY,this.right=u??lr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,s,o,u){return new lr(e??this.key,r??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,r,s),null):u===0?o.copy(null,r,null,null,null):o.copy(null,null,null,null,o.right.insert(e,r,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return lr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let s,o=this;if(r(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,r),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),r(e,o.key)===0){if(o.right.isEmpty())return lr.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,r))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,lr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,lr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Se(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Se(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Se(27949);return e+(this.isRed()?0:1)}}lr.EMPTY=null,lr.RED=!0,lr.BLACK=!1;lr.EMPTY=new class{constructor(){this.size=0}get key(){throw Se(57766)}get value(){throw Se(16141)}get color(){throw Se(16727)}get left(){throw Se(29726)}get right(){throw Se(36894)}copy(e,r,s,o,u){return this}insert(e,r,s){return new lr(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.comparator=e,this.data=new wt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((r,s)=>(e(r),!1)))}forEachInRange(e,r){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;r(o.key)}}forEachWhile(e,r){let s;for(s=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new _1(this.data.getIterator())}getIteratorFrom(e){return new _1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach((s=>{r=r.add(s)})),r}isEqual(e){if(!(e instanceof $t)||this.size!==e.size)return!1;const r=this.data.getIterator(),s=e.data.getIterator();for(;r.hasNext();){const o=r.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((r=>{e.push(r)})),e}toString(){const e=[];return this.forEach((r=>e.push(r))),"SortedSet("+e.toString()+")"}copy(e){const r=new $t(this.comparator);return r.data=e,r}}class _1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(e){this.fields=e,e.sort(cr.comparator)}static empty(){return new qr([])}unionWith(e){let r=new $t(cr.comparator);for(const s of this.fields)r=r.add(s);for(const s of e)r=r.add(s);return new qr(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return Bl(this.fields,e.fields,((r,s)=>r.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(e){this.binaryString=e}static fromBase64String(e){const r=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new Fw("Invalid base64 string: "+u):u}})(e);return new ur(r)}static fromUint8Array(e){const r=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(e);return new ur(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(r){return btoa(r)})(this.binaryString)}toUint8Array(){return(function(r){const s=new Uint8Array(r.length);for(let o=0;o<r.length;o++)s[o]=r.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ur.EMPTY_BYTE_STRING=new ur("");const rA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function As(a){if(at(!!a,39018),typeof a=="string"){let e=0;const r=rA.exec(a);if(at(!!r,46558,{timestamp:a}),r[1]){let o=r[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(a);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Rt(a.seconds),nanos:Rt(a.nanos)}}function Rt(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function Cs(a){return typeof a=="string"?ur.fromBase64String(a):ur.fromUint8Array(a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gw="server_timestamp",$w="__type__",Qw="__previous_value__",Kw="__local_write_time__";function lg(a){var r,s;return((s=(((r=a==null?void 0:a.mapValue)==null?void 0:r.fields)||{})[$w])==null?void 0:s.stringValue)===Gw}function fh(a){const e=a.mapValue.fields[Qw];return lg(e)?fh(e):e}function Tc(a){const e=As(a.mapValue.fields[Kw].timestampValue);return new xt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nA{constructor(e,r,s,o,u,f,g,p,y,w){this.databaseId=e,this.appId=r,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=g,this.longPollingOptions=p,this.useFetchStreams=y,this.isUsingEmulator=w}}const Kd="(default)";class jc{constructor(e,r){this.projectId=e,this.database=r||Kd}static empty(){return new jc("","")}get isDefaultDatabase(){return this.database===Kd}isEqual(e){return e instanceof jc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yw="__type__",aA="__max__",xd={mapValue:{}},Xw="__vector__",Yd="value";function Rs(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?lg(a)?4:iA(a)?9007199254740991:sA(a)?10:11:Se(28295,{value:a})}function ia(a,e){if(a===e)return!0;const r=Rs(a);if(r!==Rs(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===e.booleanValue;case 4:return Tc(a).isEqual(Tc(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=As(o.timestampValue),g=As(u.timestampValue);return f.seconds===g.seconds&&f.nanos===g.nanos})(a,e);case 5:return a.stringValue===e.stringValue;case 6:return(function(o,u){return Cs(o.bytesValue).isEqual(Cs(u.bytesValue))})(a,e);case 7:return a.referenceValue===e.referenceValue;case 8:return(function(o,u){return Rt(o.geoPointValue.latitude)===Rt(u.geoPointValue.latitude)&&Rt(o.geoPointValue.longitude)===Rt(u.geoPointValue.longitude)})(a,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return Rt(o.integerValue)===Rt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=Rt(o.doubleValue),g=Rt(u.doubleValue);return f===g?Qd(f)===Qd(g):isNaN(f)&&isNaN(g)}return!1})(a,e);case 9:return Bl(a.arrayValue.values||[],e.arrayValue.values||[],ia);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},g=u.mapValue.fields||{};if(w1(f)!==w1(g))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(g[p]===void 0||!ia(f[p],g[p])))return!1;return!0})(a,e);default:return Se(52216,{left:a})}}function Sc(a,e){return(a.values||[]).find((r=>ia(r,e)))!==void 0}function ql(a,e){if(a===e)return 0;const r=Rs(a),s=Rs(e);if(r!==s)return Ke(r,s);switch(r){case 0:case 9007199254740991:return 0;case 1:return Ke(a.booleanValue,e.booleanValue);case 2:return(function(u,f){const g=Rt(u.integerValue||u.doubleValue),p=Rt(f.integerValue||f.doubleValue);return g<p?-1:g>p?1:g===p?0:isNaN(g)?isNaN(p)?0:-1:1})(a,e);case 3:return k1(a.timestampValue,e.timestampValue);case 4:return k1(Tc(a),Tc(e));case 5:return Em(a.stringValue,e.stringValue);case 6:return(function(u,f){const g=Cs(u),p=Cs(f);return g.compareTo(p)})(a.bytesValue,e.bytesValue);case 7:return(function(u,f){const g=u.split("/"),p=f.split("/");for(let y=0;y<g.length&&y<p.length;y++){const w=Ke(g[y],p[y]);if(w!==0)return w}return Ke(g.length,p.length)})(a.referenceValue,e.referenceValue);case 8:return(function(u,f){const g=Ke(Rt(u.latitude),Rt(f.latitude));return g!==0?g:Ke(Rt(u.longitude),Rt(f.longitude))})(a.geoPointValue,e.geoPointValue);case 9:return N1(a.arrayValue,e.arrayValue);case 10:return(function(u,f){var S,V,U,ne;const g=u.fields||{},p=f.fields||{},y=(S=g[Yd])==null?void 0:S.arrayValue,w=(V=p[Yd])==null?void 0:V.arrayValue,_=Ke(((U=y==null?void 0:y.values)==null?void 0:U.length)||0,((ne=w==null?void 0:w.values)==null?void 0:ne.length)||0);return _!==0?_:N1(y,w)})(a.mapValue,e.mapValue);case 11:return(function(u,f){if(u===xd.mapValue&&f===xd.mapValue)return 0;if(u===xd.mapValue)return 1;if(f===xd.mapValue)return-1;const g=u.fields||{},p=Object.keys(g),y=f.fields||{},w=Object.keys(y);p.sort(),w.sort();for(let _=0;_<p.length&&_<w.length;++_){const S=Em(p[_],w[_]);if(S!==0)return S;const V=ql(g[p[_]],y[w[_]]);if(V!==0)return V}return Ke(p.length,w.length)})(a.mapValue,e.mapValue);default:throw Se(23264,{he:r})}}function k1(a,e){if(typeof a=="string"&&typeof e=="string"&&a.length===e.length)return Ke(a,e);const r=As(a),s=As(e),o=Ke(r.seconds,s.seconds);return o!==0?o:Ke(r.nanos,s.nanos)}function N1(a,e){const r=a.values||[],s=e.values||[];for(let o=0;o<r.length&&o<s.length;++o){const u=ql(r[o],s[o]);if(u)return u}return Ke(r.length,s.length)}function Hl(a){return Tm(a)}function Tm(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?(function(r){const s=As(r);return`time(${s.seconds},${s.nanos})`})(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?(function(r){return Cs(r).toBase64()})(a.bytesValue):"referenceValue"in a?(function(r){return Ne.fromName(r).toString()})(a.referenceValue):"geoPointValue"in a?(function(r){return`geo(${r.latitude},${r.longitude})`})(a.geoPointValue):"arrayValue"in a?(function(r){let s="[",o=!0;for(const u of r.values||[])o?o=!1:s+=",",s+=Tm(u);return s+"]"})(a.arrayValue):"mapValue"in a?(function(r){const s=Object.keys(r.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Tm(r.fields[f])}`;return o+"}"})(a.mapValue):Se(61005,{value:a})}function Td(a){switch(Rs(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=fh(a);return e?16+Td(e):16;case 5:return 2*a.stringValue.length;case 6:return Cs(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+Td(u)),0)})(a.arrayValue);case 10:case 11:return(function(s){let o=0;return Ps(s.fields,((u,f)=>{o+=u.length+Td(f)})),o})(a.mapValue);default:throw Se(13486,{value:a})}}function E1(a,e){return{referenceValue:`projects/${a.projectId}/databases/${a.database}/documents/${e.path.canonicalString()}`}}function jm(a){return!!a&&"integerValue"in a}function og(a){return!!a&&"arrayValue"in a}function T1(a){return!!a&&"nullValue"in a}function j1(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function jd(a){return!!a&&"mapValue"in a}function sA(a){var r,s;return((s=(((r=a==null?void 0:a.mapValue)==null?void 0:r.fields)||{})[Yw])==null?void 0:s.stringValue)===Xw}function fc(a){if(a.geoPointValue)return{geoPointValue:{...a.geoPointValue}};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:{...a.timestampValue}};if(a.mapValue){const e={mapValue:{fields:{}}};return Ps(a.mapValue.fields,((r,s)=>e.mapValue.fields[r]=fc(s))),e}if(a.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(a.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=fc(a.arrayValue.values[r]);return e}return{...a}}function iA(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===aA}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar{constructor(e){this.value=e}static empty(){return new Ar({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let s=0;s<e.length-1;++s)if(r=(r.mapValue.fields||{})[e.get(s)],!jd(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=fc(r)}setAll(e){let r=cr.emptyPath(),s={},o=[];e.forEach(((f,g)=>{if(!r.isImmediateParentOf(g)){const p=this.getFieldsMap(r);this.applyChanges(p,s,o),s={},o=[],r=g.popLast()}f?s[g.lastSegment()]=fc(f):o.push(g.lastSegment())}));const u=this.getFieldsMap(r);this.applyChanges(u,s,o)}delete(e){const r=this.field(e.popLast());jd(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return ia(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=r.mapValue.fields[e.get(s)];jd(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},r.mapValue.fields[e.get(s)]=o),r=o}return r.mapValue.fields}applyChanges(e,r,s){Ps(r,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new Ar(fc(this.value))}}function Ww(a){const e=[];return Ps(a.fields,((r,s)=>{const o=new cr([r]);if(jd(s)){const u=Ww(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)})),new qr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(e,r,s,o,u,f,g){this.key=e,this.documentType=r,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=g}static newInvalidDocument(e){return new gr(e,0,Re.min(),Re.min(),Re.min(),Ar.empty(),0)}static newFoundDocument(e,r,s,o){return new gr(e,1,r,Re.min(),s,o,0)}static newNoDocument(e,r){return new gr(e,2,r,Re.min(),Re.min(),Ar.empty(),0)}static newUnknownDocument(e,r){return new gr(e,3,r,Re.min(),Re.min(),Ar.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(Re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ar.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ar.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof gr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new gr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xd{constructor(e,r){this.position=e,this.inclusive=r}}function S1(a,e,r){let s=0;for(let o=0;o<a.position.length;o++){const u=e[o],f=a.position[o];if(u.field.isKeyField()?s=Ne.comparator(Ne.fromName(f.referenceValue),r.key):s=ql(f,r.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function A1(a,e){if(a===null)return e===null;if(e===null||a.inclusive!==e.inclusive||a.position.length!==e.position.length)return!1;for(let r=0;r<a.position.length;r++)if(!ia(a.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(e,r="asc"){this.field=e,this.dir=r}}function lA(a,e){return a.dir===e.dir&&a.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zw{}class Bt extends Zw{constructor(e,r,s){super(),this.field=e,this.op=r,this.value=s}static create(e,r,s){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,s):new cA(e,r,s):r==="array-contains"?new hA(e,s):r==="in"?new fA(e,s):r==="not-in"?new mA(e,s):r==="array-contains-any"?new gA(e,s):new Bt(e,r,s)}static createKeyFieldInFilter(e,r,s){return r==="in"?new uA(e,s):new dA(e,s)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&r.nullValue===void 0&&this.matchesComparison(ql(r,this.value)):r!==null&&Rs(this.value)===Rs(r)&&this.matchesComparison(ql(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Se(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Sn extends Zw{constructor(e,r){super(),this.filters=e,this.op=r,this.Pe=null}static create(e,r){return new Sn(e,r)}matches(e){return Jw(this)?this.filters.find((r=>!r.matches(e)))===void 0:this.filters.find((r=>r.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,r)=>e.concat(r.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Jw(a){return a.op==="and"}function e2(a){return oA(a)&&Jw(a)}function oA(a){for(const e of a.filters)if(e instanceof Sn)return!1;return!0}function Sm(a){if(a instanceof Bt)return a.field.canonicalString()+a.op.toString()+Hl(a.value);if(e2(a))return a.filters.map((e=>Sm(e))).join(",");{const e=a.filters.map((r=>Sm(r))).join(",");return`${a.op}(${e})`}}function t2(a,e){return a instanceof Bt?(function(s,o){return o instanceof Bt&&s.op===o.op&&s.field.isEqual(o.field)&&ia(s.value,o.value)})(a,e):a instanceof Sn?(function(s,o){return o instanceof Sn&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,f,g)=>u&&t2(f,o.filters[g])),!0):!1})(a,e):void Se(19439)}function r2(a){return a instanceof Bt?(function(r){return`${r.field.canonicalString()} ${r.op} ${Hl(r.value)}`})(a):a instanceof Sn?(function(r){return r.op.toString()+" {"+r.getFilters().map(r2).join(" ,")+"}"})(a):"Filter"}class cA extends Bt{constructor(e,r,s){super(e,r,s),this.key=Ne.fromName(s.referenceValue)}matches(e){const r=Ne.comparator(e.key,this.key);return this.matchesComparison(r)}}class uA extends Bt{constructor(e,r){super(e,"in",r),this.keys=n2("in",r)}matches(e){return this.keys.some((r=>r.isEqual(e.key)))}}class dA extends Bt{constructor(e,r){super(e,"not-in",r),this.keys=n2("not-in",r)}matches(e){return!this.keys.some((r=>r.isEqual(e.key)))}}function n2(a,e){var r;return(((r=e.arrayValue)==null?void 0:r.values)||[]).map((s=>Ne.fromName(s.referenceValue)))}class hA extends Bt{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return og(r)&&Sc(r.arrayValue,this.value)}}class fA extends Bt{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&Sc(this.value.arrayValue,r)}}class mA extends Bt{constructor(e,r){super(e,"not-in",r)}matches(e){if(Sc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&r.nullValue===void 0&&!Sc(this.value.arrayValue,r)}}class gA extends Bt{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!og(r)||!r.arrayValue.values)&&r.arrayValue.values.some((s=>Sc(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pA{constructor(e,r=null,s=[],o=[],u=null,f=null,g=null){this.path=e,this.collectionGroup=r,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=g,this.Te=null}}function C1(a,e=null,r=[],s=[],o=null,u=null,f=null){return new pA(a,e,r,s,o,u,f)}function cg(a){const e=Oe(a);if(e.Te===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map((s=>Sm(s))).join(","),r+="|ob:",r+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),hh(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map((s=>Hl(s))).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map((s=>Hl(s))).join(",")),e.Te=r}return e.Te}function ug(a,e){if(a.limit!==e.limit||a.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<a.orderBy.length;r++)if(!lA(a.orderBy[r],e.orderBy[r]))return!1;if(a.filters.length!==e.filters.length)return!1;for(let r=0;r<a.filters.length;r++)if(!t2(a.filters[r],e.filters[r]))return!1;return a.collectionGroup===e.collectionGroup&&!!a.path.isEqual(e.path)&&!!A1(a.startAt,e.startAt)&&A1(a.endAt,e.endAt)}function Am(a){return Ne.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl{constructor(e,r=null,s=[],o=[],u=null,f="F",g=null,p=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=g,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function yA(a,e,r,s,o,u,f,g){return new Jl(a,e,r,s,o,u,f,g)}function mh(a){return new Jl(a)}function R1(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function a2(a){return a.collectionGroup!==null}function mc(a){const e=Oe(a);if(e.Ie===null){e.Ie=[];const r=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),r.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let g=new $t(cr.comparator);return f.filters.forEach((p=>{p.getFlattenedFilters().forEach((y=>{y.isInequality()&&(g=g.add(y.field))}))})),g})(e).forEach((u=>{r.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new Ac(u,s))})),r.has(cr.keyField().canonicalString())||e.Ie.push(new Ac(cr.keyField(),s))}return e.Ie}function ta(a){const e=Oe(a);return e.Ee||(e.Ee=xA(e,mc(a))),e.Ee}function xA(a,e){if(a.limitType==="F")return C1(a.path,a.collectionGroup,e,a.filters,a.limit,a.startAt,a.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Ac(o.field,u)}));const r=a.endAt?new Xd(a.endAt.position,a.endAt.inclusive):null,s=a.startAt?new Xd(a.startAt.position,a.startAt.inclusive):null;return C1(a.path,a.collectionGroup,e,a.filters,a.limit,r,s)}}function Cm(a,e){const r=a.filters.concat([e]);return new Jl(a.path,a.collectionGroup,a.explicitOrderBy.slice(),r,a.limit,a.limitType,a.startAt,a.endAt)}function Rm(a,e,r){return new Jl(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),e,r,a.startAt,a.endAt)}function gh(a,e){return ug(ta(a),ta(e))&&a.limitType===e.limitType}function s2(a){return`${cg(ta(a))}|lt:${a.limitType}`}function Al(a){return`Query(target=${(function(r){let s=r.path.canonicalString();return r.collectionGroup!==null&&(s+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(s+=`, filters: [${r.filters.map((o=>r2(o))).join(", ")}]`),hh(r.limit)||(s+=", limit: "+r.limit),r.orderBy.length>0&&(s+=`, orderBy: [${r.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),r.startAt&&(s+=", startAt: ",s+=r.startAt.inclusive?"b:":"a:",s+=r.startAt.position.map((o=>Hl(o))).join(",")),r.endAt&&(s+=", endAt: ",s+=r.endAt.inclusive?"a:":"b:",s+=r.endAt.position.map((o=>Hl(o))).join(",")),`Target(${s})`})(ta(a))}; limitType=${a.limitType})`}function ph(a,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):Ne.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(a,e)&&(function(s,o){for(const u of mc(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(a,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(a,e)&&(function(s,o){return!(s.startAt&&!(function(f,g,p){const y=S1(f,g,p);return f.inclusive?y<=0:y<0})(s.startAt,mc(s),o)||s.endAt&&!(function(f,g,p){const y=S1(f,g,p);return f.inclusive?y>=0:y>0})(s.endAt,mc(s),o))})(a,e)}function bA(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function i2(a){return(e,r)=>{let s=!1;for(const o of mc(a)){const u=vA(o,e,r);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function vA(a,e,r){const s=a.field.isKeyField()?Ne.comparator(e.key,r.key):(function(u,f,g){const p=f.data.field(u),y=g.data.field(u);return p!==null&&y!==null?ql(p,y):Se(42886)})(a.field,e,r);switch(a.dir){case"asc":return s;case"desc":return-1*s;default:return Se(19790,{direction:a.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),s=this.inner[r];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,r){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,r]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,r]);o.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[r]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ps(this.inner,((r,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return Hw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wA=new wt(Ne.comparator);function Va(){return wA}const l2=new wt(Ne.comparator);function oc(...a){let e=l2;for(const r of a)e=e.insert(r.key,r);return e}function o2(a){let e=l2;return a.forEach(((r,s)=>e=e.insert(r,s.overlayedDocument))),e}function vi(){return gc()}function c2(){return gc()}function gc(){return new zi((a=>a.toString()),((a,e)=>a.isEqual(e)))}const _A=new wt(Ne.comparator),kA=new $t(Ne.comparator);function Ye(...a){let e=kA;for(const r of a)e=e.add(r);return e}const NA=new $t(Ke);function EA(){return NA}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dg(a,e){if(a.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Qd(e)?"-0":e}}function u2(a){return{integerValue:""+a}}function d2(a,e){return JS(e)?u2(e):dg(a,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(){this._=void 0}}function TA(a,e,r){return a instanceof Cc?(function(o,u){const f={fields:{[$w]:{stringValue:Gw},[Kw]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&lg(u)&&(u=fh(u)),u&&(f.fields[Qw]=u),{mapValue:f}})(r,e):a instanceof Rc?f2(a,e):a instanceof Ic?m2(a,e):(function(o,u){const f=h2(o,u),g=I1(f)+I1(o.Ae);return jm(f)&&jm(o.Ae)?u2(g):dg(o.serializer,g)})(a,e)}function jA(a,e,r){return a instanceof Rc?f2(a,e):a instanceof Ic?m2(a,e):r}function h2(a,e){return a instanceof Dc?(function(s){return jm(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class Cc extends yh{}class Rc extends yh{constructor(e){super(),this.elements=e}}function f2(a,e){const r=g2(e);for(const s of a.elements)r.some((o=>ia(o,s)))||r.push(s);return{arrayValue:{values:r}}}class Ic extends yh{constructor(e){super(),this.elements=e}}function m2(a,e){let r=g2(e);for(const s of a.elements)r=r.filter((o=>!ia(o,s)));return{arrayValue:{values:r}}}class Dc extends yh{constructor(e,r){super(),this.serializer=e,this.Ae=r}}function I1(a){return Rt(a.integerValue||a.doubleValue)}function g2(a){return og(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{constructor(e,r){this.field=e,this.transform=r}}function SA(a,e){return a.field.isEqual(e.field)&&(function(s,o){return s instanceof Rc&&o instanceof Rc||s instanceof Ic&&o instanceof Ic?Bl(s.elements,o.elements,ia):s instanceof Dc&&o instanceof Dc?ia(s.Ae,o.Ae):s instanceof Cc&&o instanceof Cc})(a.transform,e.transform)}class AA{constructor(e,r){this.version=e,this.transformResults=r}}class cn{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new cn}static exists(e){return new cn(void 0,e)}static updateTime(e){return new cn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Sd(a,e){return a.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(a.updateTime):a.exists===void 0||a.exists===e.isFoundDocument()}class xh{}function y2(a,e){if(!a.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return a.isNoDocument()?new hg(a.key,cn.none()):new Uc(a.key,a.data,cn.none());{const r=a.data,s=Ar.empty();let o=new $t(cr.comparator);for(let u of e.fields)if(!o.has(u)){let f=r.field(u);f===null&&u.length>1&&(u=u.popLast(),f=r.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new zs(a.key,s,new qr(o.toArray()),cn.none())}}function CA(a,e,r){a instanceof Uc?(function(o,u,f){const g=o.value.clone(),p=O1(o.fieldTransforms,u,f.transformResults);g.setAll(p),u.convertToFoundDocument(f.version,g).setHasCommittedMutations()})(a,e,r):a instanceof zs?(function(o,u,f){if(!Sd(o.precondition,u))return void u.convertToUnknownDocument(f.version);const g=O1(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(x2(o)),p.setAll(g),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()})(a,e,r):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,r)}function pc(a,e,r,s){return a instanceof Uc?(function(u,f,g,p){if(!Sd(u.precondition,f))return g;const y=u.value.clone(),w=M1(u.fieldTransforms,p,f);return y.setAll(w),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null})(a,e,r,s):a instanceof zs?(function(u,f,g,p){if(!Sd(u.precondition,f))return g;const y=M1(u.fieldTransforms,p,f),w=f.data;return w.setAll(x2(u)),w.setAll(y),f.convertToFoundDocument(f.version,w).setHasLocalMutations(),g===null?null:g.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((_=>_.field)))})(a,e,r,s):(function(u,f,g){return Sd(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):g})(a,e,r)}function RA(a,e){let r=null;for(const s of a.fieldTransforms){const o=e.data.field(s.field),u=h2(s.transform,o||null);u!=null&&(r===null&&(r=Ar.empty()),r.set(s.field,u))}return r||null}function D1(a,e){return a.type===e.type&&!!a.key.isEqual(e.key)&&!!a.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Bl(s,o,((u,f)=>SA(u,f)))})(a.fieldTransforms,e.fieldTransforms)&&(a.type===0?a.value.isEqual(e.value):a.type!==1||a.data.isEqual(e.data)&&a.fieldMask.isEqual(e.fieldMask))}class Uc extends xh{constructor(e,r,s,o=[]){super(),this.key=e,this.value=r,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class zs extends xh{constructor(e,r,s,o,u=[]){super(),this.key=e,this.data=r,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function x2(a){const e=new Map;return a.fieldMask.fields.forEach((r=>{if(!r.isEmpty()){const s=a.data.field(r);e.set(r,s)}})),e}function O1(a,e,r){const s=new Map;at(a.length===r.length,32656,{Re:r.length,Ve:a.length});for(let o=0;o<r.length;o++){const u=a[o],f=u.transform,g=e.data.field(u.field);s.set(u.field,jA(f,g,r[o]))}return s}function M1(a,e,r){const s=new Map;for(const o of a){const u=o.transform,f=r.data.field(o.field);s.set(o.field,TA(u,f,e))}return s}class hg extends xh{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class IA extends xh{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DA{constructor(e,r,s,o){this.batchId=e,this.localWriteTime=r,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,r){const s=r.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&CA(u,e,s[o])}}applyToLocalView(e,r){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(r=pc(s,e,r,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(r=pc(s,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const s=c2();return this.mutations.forEach((o=>{const u=e.get(o.key),f=u.overlayedDocument;let g=this.applyToLocalView(f,u.mutatedFields);g=r.has(o.key)?null:g;const p=y2(f,g);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(Re.min())})),s}keys(){return this.mutations.reduce(((e,r)=>e.add(r.key)),Ye())}isEqual(e){return this.batchId===e.batchId&&Bl(this.mutations,e.mutations,((r,s)=>D1(r,s)))&&Bl(this.baseMutations,e.baseMutations,((r,s)=>D1(r,s)))}}class fg{constructor(e,r,s,o){this.batch=e,this.commitVersion=r,this.mutationResults=s,this.docVersions=o}static from(e,r,s){at(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return _A})();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new fg(e,r,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OA{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MA{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ut,Ze;function VA(a){switch(a){case ae.OK:return Se(64938);case ae.CANCELLED:case ae.UNKNOWN:case ae.DEADLINE_EXCEEDED:case ae.RESOURCE_EXHAUSTED:case ae.INTERNAL:case ae.UNAVAILABLE:case ae.UNAUTHENTICATED:return!1;case ae.INVALID_ARGUMENT:case ae.NOT_FOUND:case ae.ALREADY_EXISTS:case ae.PERMISSION_DENIED:case ae.FAILED_PRECONDITION:case ae.ABORTED:case ae.OUT_OF_RANGE:case ae.UNIMPLEMENTED:case ae.DATA_LOSS:return!0;default:return Se(15467,{code:a})}}function b2(a){if(a===void 0)return Ma("GRPC error has no .code"),ae.UNKNOWN;switch(a){case Ut.OK:return ae.OK;case Ut.CANCELLED:return ae.CANCELLED;case Ut.UNKNOWN:return ae.UNKNOWN;case Ut.DEADLINE_EXCEEDED:return ae.DEADLINE_EXCEEDED;case Ut.RESOURCE_EXHAUSTED:return ae.RESOURCE_EXHAUSTED;case Ut.INTERNAL:return ae.INTERNAL;case Ut.UNAVAILABLE:return ae.UNAVAILABLE;case Ut.UNAUTHENTICATED:return ae.UNAUTHENTICATED;case Ut.INVALID_ARGUMENT:return ae.INVALID_ARGUMENT;case Ut.NOT_FOUND:return ae.NOT_FOUND;case Ut.ALREADY_EXISTS:return ae.ALREADY_EXISTS;case Ut.PERMISSION_DENIED:return ae.PERMISSION_DENIED;case Ut.FAILED_PRECONDITION:return ae.FAILED_PRECONDITION;case Ut.ABORTED:return ae.ABORTED;case Ut.OUT_OF_RANGE:return ae.OUT_OF_RANGE;case Ut.UNIMPLEMENTED:return ae.UNIMPLEMENTED;case Ut.DATA_LOSS:return ae.DATA_LOSS;default:return Se(39323,{code:a})}}(Ze=Ut||(Ut={}))[Ze.OK=0]="OK",Ze[Ze.CANCELLED=1]="CANCELLED",Ze[Ze.UNKNOWN=2]="UNKNOWN",Ze[Ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ze[Ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ze[Ze.NOT_FOUND=5]="NOT_FOUND",Ze[Ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ze[Ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ze[Ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ze[Ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ze[Ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ze[Ze.ABORTED=10]="ABORTED",Ze[Ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ze[Ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ze[Ze.INTERNAL=13]="INTERNAL",Ze[Ze.UNAVAILABLE=14]="UNAVAILABLE",Ze[Ze.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LA(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PA=new Es([4294967295,4294967295],0);function V1(a){const e=LA().encode(a),r=new Iw;return r.update(e),new Uint8Array(r.digest())}function L1(a){const e=new DataView(a.buffer),r=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Es([r,s],0),new Es([o,u],0)]}class mg{constructor(e,r,s){if(this.bitmap=e,this.padding=r,this.hashCount=s,r<0||r>=8)throw new cc(`Invalid padding: ${r}`);if(s<0)throw new cc(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new cc(`Invalid hash count: ${s}`);if(e.length===0&&r!==0)throw new cc(`Invalid padding when bitmap length is 0: ${r}`);this.ge=8*e.length-r,this.pe=Es.fromNumber(this.ge)}ye(e,r,s){let o=e.add(r.multiply(Es.fromNumber(s)));return o.compare(PA)===1&&(o=new Es([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const r=V1(e),[s,o]=L1(r);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);if(!this.we(f))return!1}return!0}static create(e,r,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new mg(u,o,r);return s.forEach((g=>f.insert(g))),f}insert(e){if(this.ge===0)return;const r=V1(e),[s,o]=L1(r);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);this.Se(f)}}Se(e){const r=Math.floor(e/8),s=e%8;this.bitmap[r]|=1<<s}}class cc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(e,r,s,o,u){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,r,s){const o=new Map;return o.set(e,Bc.createSynthesizedTargetChangeForCurrentChange(e,r,s)),new bh(Re.min(),o,new wt(Ke),Va(),Ye())}}class Bc{constructor(e,r,s,o,u){this.resumeToken=e,this.current=r,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,r,s){return new Bc(s,r,Ye(),Ye(),Ye())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad{constructor(e,r,s,o){this.be=e,this.removedTargetIds=r,this.key=s,this.De=o}}class v2{constructor(e,r){this.targetId=e,this.Ce=r}}class w2{constructor(e,r,s=ur.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=r,this.resumeToken=s,this.cause=o}}class P1{constructor(){this.ve=0,this.Fe=z1(),this.Me=ur.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ye(),r=Ye(),s=Ye();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:r=r.add(o);break;case 1:s=s.add(o);break;default:Se(38017,{changeType:u})}})),new Bc(this.Me,this.xe,e,r,s)}qe(){this.Oe=!1,this.Fe=z1()}Qe(e,r){this.Oe=!0,this.Fe=this.Fe.insert(e,r)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,at(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class zA{constructor(e){this.Ge=e,this.ze=new Map,this.je=Va(),this.Je=bd(),this.He=bd(),this.Ye=new wt(Ke)}Ze(e){for(const r of e.be)e.De&&e.De.isFoundDocument()?this.Xe(r,e.De):this.et(r,e.key,e.De);for(const r of e.removedTargetIds)this.et(r,e.key,e.De)}tt(e){this.forEachTarget(e,(r=>{const s=this.nt(r);switch(e.state){case 0:this.rt(r)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(r);break;case 3:this.rt(r)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(r)&&(this.it(r),s.Le(e.resumeToken));break;default:Se(56790,{state:e.state})}}))}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.ze.forEach(((s,o)=>{this.rt(o)&&r(o)}))}st(e){const r=e.targetId,s=e.Ce.count,o=this.ot(r);if(o){const u=o.target;if(Am(u))if(s===0){const f=new Ne(u.path);this.et(r,f,gr.newNoDocument(f,Re.min()))}else at(s===1,20013,{expectedCount:s});else{const f=this._t(r);if(f!==s){const g=this.ut(e),p=g?this.ct(g,e,f):1;if(p!==0){this.it(r);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(r,y)}}}}}ut(e){const r=e.Ce.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=r;let f,g;try{f=Cs(s).toUint8Array()}catch(p){if(p instanceof Fw)return Ul("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{g=new mg(f,o,u)}catch(p){return Ul(p instanceof cc?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return g.ge===0?null:g}ct(e,r,s){return r.Ce.count===s-this.Pt(e,r.targetId)?0:2}Pt(e,r){const s=this.Ge.getRemoteKeysForTarget(r);let o=0;return s.forEach((u=>{const f=this.Ge.ht(),g=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(g)||(this.et(r,u,null),o++)})),o}Tt(e){const r=new Map;this.ze.forEach(((u,f)=>{const g=this.ot(f);if(g){if(u.current&&Am(g.target)){const p=new Ne(g.target.path);this.It(p).has(f)||this.Et(f,p)||this.et(f,p,gr.newNoDocument(p,e))}u.Be&&(r.set(f,u.ke()),u.qe())}}));let s=Ye();this.He.forEach(((u,f)=>{let g=!0;f.forEachWhile((p=>{const y=this.ot(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(s=s.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(e)));const o=new bh(e,r,this.Ye,this.je,s);return this.je=Va(),this.Je=bd(),this.He=bd(),this.Ye=new wt(Ke),o}Xe(e,r){if(!this.rt(e))return;const s=this.Et(e,r.key)?2:0;this.nt(e).Qe(r.key,s),this.je=this.je.insert(r.key,r),this.Je=this.Je.insert(r.key,this.It(r.key).add(e)),this.He=this.He.insert(r.key,this.dt(r.key).add(e))}et(e,r,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,r)?o.Qe(r,1):o.$e(r),this.He=this.He.insert(r,this.dt(r).delete(e)),this.He=this.He.insert(r,this.dt(r).add(e)),s&&(this.je=this.je.insert(r,s))}removeTarget(e){this.ze.delete(e)}_t(e){const r=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let r=this.ze.get(e);return r||(r=new P1,this.ze.set(e,r)),r}dt(e){let r=this.He.get(e);return r||(r=new $t(Ke),this.He=this.He.insert(e,r)),r}It(e){let r=this.Je.get(e);return r||(r=new $t(Ke),this.Je=this.Je.insert(e,r)),r}rt(e){const r=this.ot(e)!==null;return r||pe("WatchChangeAggregator","Detected inactive target",e),r}ot(e){const r=this.ze.get(e);return r&&r.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new P1),this.Ge.getRemoteKeysForTarget(e).forEach((r=>{this.et(e,r,null)}))}Et(e,r){return this.Ge.getRemoteKeysForTarget(e).has(r)}}function bd(){return new wt(Ne.comparator)}function z1(){return new wt(Ne.comparator)}const UA={asc:"ASCENDING",desc:"DESCENDING"},BA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},qA={and:"AND",or:"OR"};class HA{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function Im(a,e){return a.useProto3Json||hh(e)?e:{value:e}}function Wd(a,e){return a.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function _2(a,e){return a.useProto3Json?e.toBase64():e.toUint8Array()}function FA(a,e){return Wd(a,e.toTimestamp())}function ra(a){return at(!!a,49232),Re.fromTimestamp((function(r){const s=As(r);return new xt(s.seconds,s.nanos)})(a))}function gg(a,e){return Dm(a,e).canonicalString()}function Dm(a,e){const r=(function(o){return new mt(["projects",o.projectId,"databases",o.database])})(a).child("documents");return e===void 0?r:r.child(e)}function k2(a){const e=mt.fromString(a);return at(S2(e),10190,{key:e.toString()}),e}function Om(a,e){return gg(a.databaseId,e.path)}function $0(a,e){const r=k2(e);if(r.get(1)!==a.databaseId.projectId)throw new fe(ae.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+a.databaseId.projectId);if(r.get(3)!==a.databaseId.database)throw new fe(ae.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+a.databaseId.database);return new Ne(E2(r))}function N2(a,e){return gg(a.databaseId,e)}function GA(a){const e=k2(a);return e.length===4?mt.emptyPath():E2(e)}function Mm(a){return new mt(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function E2(a){return at(a.length>4&&a.get(4)==="documents",29091,{key:a.toString()}),a.popFirst(5)}function U1(a,e,r){return{name:Om(a,e),fields:r.value.mapValue.fields}}function $A(a,e){let r;if("targetChange"in e){e.targetChange;const s=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Se(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(y,w){return y.useProto3Json?(at(w===void 0||typeof w=="string",58123),ur.fromBase64String(w||"")):(at(w===void 0||w instanceof Buffer||w instanceof Uint8Array,16193),ur.fromUint8Array(w||new Uint8Array))})(a,e.targetChange.resumeToken),f=e.targetChange.cause,g=f&&(function(y){const w=y.code===void 0?ae.UNKNOWN:b2(y.code);return new fe(w,y.message||"")})(f);r=new w2(s,o,u,g||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=$0(a,s.document.name),u=ra(s.document.updateTime),f=s.document.createTime?ra(s.document.createTime):Re.min(),g=new Ar({mapValue:{fields:s.document.fields}}),p=gr.newFoundDocument(o,u,f,g),y=s.targetIds||[],w=s.removedTargetIds||[];r=new Ad(y,w,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=$0(a,s.document),u=s.readTime?ra(s.readTime):Re.min(),f=gr.newNoDocument(o,u),g=s.removedTargetIds||[];r=new Ad([],g,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=$0(a,s.document),u=s.removedTargetIds||[];r=new Ad([],u,o,null)}else{if(!("filter"in e))return Se(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new MA(o,u),g=s.targetId;r=new v2(g,f)}}return r}function QA(a,e){let r;if(e instanceof Uc)r={update:U1(a,e.key,e.value)};else if(e instanceof hg)r={delete:Om(a,e.key)};else if(e instanceof zs)r={update:U1(a,e.key,e.data),updateMask:r6(e.fieldMask)};else{if(!(e instanceof IA))return Se(16599,{Vt:e.type});r={verify:Om(a,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map((s=>(function(u,f){const g=f.transform;if(g instanceof Cc)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Rc)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Ic)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Dc)return{fieldPath:f.field.canonicalString(),increment:g.Ae};throw Se(20930,{transform:f.transform})})(0,s)))),e.precondition.isNone||(r.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:FA(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Se(27497)})(a,e.precondition)),r}function KA(a,e){return a&&a.length>0?(at(e!==void 0,14353),a.map((r=>(function(o,u){let f=o.updateTime?ra(o.updateTime):ra(u);return f.isEqual(Re.min())&&(f=ra(u)),new AA(f,o.transformResults||[])})(r,e)))):[]}function YA(a,e){return{documents:[N2(a,e.path)]}}function XA(a,e){const r={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),r.structuredQuery.from=[{collectionId:s.lastSegment()}]),r.parent=N2(a,o);const u=(function(y){if(y.length!==0)return j2(Sn.create(y,"and"))})(e.filters);u&&(r.structuredQuery.where=u);const f=(function(y){if(y.length!==0)return y.map((w=>(function(S){return{field:Cl(S.field),direction:JA(S.dir)}})(w)))})(e.orderBy);f&&(r.structuredQuery.orderBy=f);const g=Im(a,e.limit);return g!==null&&(r.structuredQuery.limit=g),e.startAt&&(r.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(r.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:r,parent:o}}function WA(a){let e=GA(a.parent);const r=a.structuredQuery,s=r.from?r.from.length:0;let o=null;if(s>0){at(s===1,65062);const w=r.from[0];w.allDescendants?o=w.collectionId:e=e.child(w.collectionId)}let u=[];r.where&&(u=(function(_){const S=T2(_);return S instanceof Sn&&e2(S)?S.getFilters():[S]})(r.where));let f=[];r.orderBy&&(f=(function(_){return _.map((S=>(function(U){return new Ac(Rl(U.field),(function($){switch($){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(U.direction))})(S)))})(r.orderBy));let g=null;r.limit&&(g=(function(_){let S;return S=typeof _=="object"?_.value:_,hh(S)?null:S})(r.limit));let p=null;r.startAt&&(p=(function(_){const S=!!_.before,V=_.values||[];return new Xd(V,S)})(r.startAt));let y=null;return r.endAt&&(y=(function(_){const S=!_.before,V=_.values||[];return new Xd(V,S)})(r.endAt)),yA(e,o,f,u,g,"F",p,y)}function ZA(a,e){const r=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se(28987,{purpose:o})}})(e.purpose);return r==null?null:{"goog-listen-tags":r}}function T2(a){return a.unaryFilter!==void 0?(function(r){switch(r.unaryFilter.op){case"IS_NAN":const s=Rl(r.unaryFilter.field);return Bt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Rl(r.unaryFilter.field);return Bt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Rl(r.unaryFilter.field);return Bt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Rl(r.unaryFilter.field);return Bt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Se(61313);default:return Se(60726)}})(a):a.fieldFilter!==void 0?(function(r){return Bt.create(Rl(r.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Se(58110);default:return Se(50506)}})(r.fieldFilter.op),r.fieldFilter.value)})(a):a.compositeFilter!==void 0?(function(r){return Sn.create(r.compositeFilter.filters.map((s=>T2(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Se(1026)}})(r.compositeFilter.op))})(a):Se(30097,{filter:a})}function JA(a){return UA[a]}function e6(a){return BA[a]}function t6(a){return qA[a]}function Cl(a){return{fieldPath:a.canonicalString()}}function Rl(a){return cr.fromServerFormat(a.fieldPath)}function j2(a){return a instanceof Bt?(function(r){if(r.op==="=="){if(j1(r.value))return{unaryFilter:{field:Cl(r.field),op:"IS_NAN"}};if(T1(r.value))return{unaryFilter:{field:Cl(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(j1(r.value))return{unaryFilter:{field:Cl(r.field),op:"IS_NOT_NAN"}};if(T1(r.value))return{unaryFilter:{field:Cl(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Cl(r.field),op:e6(r.op),value:r.value}}})(a):a instanceof Sn?(function(r){const s=r.getFilters().map((o=>j2(o)));return s.length===1?s[0]:{compositeFilter:{op:t6(r.op),filters:s}}})(a):Se(54877,{filter:a})}function r6(a){const e=[];return a.fields.forEach((r=>e.push(r.canonicalString()))),{fieldPaths:e}}function S2(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s{constructor(e,r,s,o,u=Re.min(),f=Re.min(),g=ur.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=r,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=g,this.expectedCount=p}withSequenceNumber(e){return new _s(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new _s(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new _s(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new _s(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n6{constructor(e){this.yt=e}}function a6(a){const e=WA({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?Rm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s6{constructor(){this.Cn=new i6}addToCollectionParentIndex(e,r){return this.Cn.add(r),ie.resolve()}getCollectionParents(e,r){return ie.resolve(this.Cn.getEntries(r))}addFieldIndex(e,r){return ie.resolve()}deleteFieldIndex(e,r){return ie.resolve()}deleteAllFieldIndexes(e){return ie.resolve()}createTargetIndexes(e,r){return ie.resolve()}getDocumentsMatchingTarget(e,r){return ie.resolve(null)}getIndexType(e,r){return ie.resolve(0)}getFieldIndexes(e,r){return ie.resolve([])}getNextCollectionGroupToUpdate(e){return ie.resolve(null)}getMinOffset(e,r){return ie.resolve(Ss.min())}getMinOffsetFromCollectionGroup(e,r){return ie.resolve(Ss.min())}updateCollectionGroup(e,r,s){return ie.resolve()}updateIndexEntries(e,r){return ie.resolve()}}class i6{constructor(){this.index={}}add(e){const r=e.lastSegment(),s=e.popLast(),o=this.index[r]||new $t(mt.comparator),u=!o.has(s);return this.index[r]=o.add(s),u}has(e){const r=e.lastSegment(),s=e.popLast(),o=this.index[r];return o&&o.has(s)}getEntries(e){return(this.index[e]||new $t(mt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},A2=41943040;class Sr{static withCacheSize(e){return new Sr(e,Sr.DEFAULT_COLLECTION_PERCENTILE,Sr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,r,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Sr.DEFAULT_COLLECTION_PERCENTILE=10,Sr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Sr.DEFAULT=new Sr(A2,Sr.DEFAULT_COLLECTION_PERCENTILE,Sr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Sr.DISABLED=new Sr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Fl(0)}static cr(){return new Fl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q1="LruGarbageCollector",l6=1048576;function H1([a,e],[r,s]){const o=Ke(a,r);return o===0?Ke(e,s):o}class o6{constructor(e){this.Ir=e,this.buffer=new $t(H1),this.Er=0}dr(){return++this.Er}Ar(e){const r=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(r);else{const s=this.buffer.last();H1(r,s)<0&&(this.buffer=this.buffer.delete(s).add(r))}}get maxValue(){return this.buffer.last()[0]}}class c6{constructor(e,r,s){this.garbageCollector=e,this.asyncQueue=r,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){pe(q1,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){Zl(r)?pe(q1,"Ignoring IndexedDB error during garbage collection: ",r):await Wl(r)}await this.Vr(3e5)}))}}class u6{constructor(e,r){this.mr=e,this.params=r}calculateTargetCount(e,r){return this.mr.gr(e).next((s=>Math.floor(r/100*s)))}nthSequenceNumber(e,r){if(r===0)return ie.resolve(dh.ce);const s=new o6(r);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,r,s){return this.mr.removeTargets(e,r,s)}removeOrphanedDocuments(e,r){return this.mr.removeOrphanedDocuments(e,r)}collect(e,r){return this.params.cacheSizeCollectionThreshold===-1?(pe("LruGarbageCollector","Garbage collection skipped; disabled"),ie.resolve(B1)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),B1):this.yr(e,r)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,r){let s,o,u,f,g,p,y;const w=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((_=>(_>this.params.maximumSequenceNumbersToCollect?(pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),o=this.params.maximumSequenceNumbersToCollect):o=_,f=Date.now(),this.nthSequenceNumber(e,o)))).next((_=>(s=_,g=Date.now(),this.removeTargets(e,s,r)))).next((_=>(u=_,p=Date.now(),this.removeOrphanedDocuments(e,s)))).next((_=>(y=Date.now(),Sl()<=Qe.DEBUG&&pe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-w}ms
	Determined least recently used ${o} in `+(g-f)+`ms
	Removed ${u} targets in `+(p-g)+`ms
	Removed ${_} documents in `+(y-p)+`ms
Total Duration: ${y-w}ms`),ie.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:_}))))}}function d6(a,e){return new u6(a,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h6{constructor(){this.changes=new zi((e=>e.toString()),((e,r)=>e.isEqual(r))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,gr.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const s=this.changes.get(r);return s!==void 0?ie.resolve(s):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f6{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m6{constructor(e,r,s,o){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,r){let s=null;return this.documentOverlayCache.getOverlay(e,r).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,r)))).next((o=>(s!==null&&pc(s.mutation,o,qr.empty(),xt.now()),o)))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next((s=>this.getLocalViewOfDocuments(e,s,Ye()).next((()=>s))))}getLocalViewOfDocuments(e,r,s=Ye()){const o=vi();return this.populateOverlays(e,o,r).next((()=>this.computeViews(e,r,o,s).next((u=>{let f=oc();return u.forEach(((g,p)=>{f=f.insert(g,p.overlayedDocument)})),f}))))}getOverlayedDocuments(e,r){const s=vi();return this.populateOverlays(e,s,r).next((()=>this.computeViews(e,r,s,Ye())))}populateOverlays(e,r,s){const o=[];return s.forEach((u=>{r.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((f,g)=>{r.set(f,g)}))}))}computeViews(e,r,s,o){let u=Va();const f=gc(),g=(function(){return gc()})();return r.forEach(((p,y)=>{const w=s.get(y.key);o.has(y.key)&&(w===void 0||w.mutation instanceof zs)?u=u.insert(y.key,y):w!==void 0?(f.set(y.key,w.mutation.getFieldMask()),pc(w.mutation,y,w.mutation.getFieldMask(),xt.now())):f.set(y.key,qr.empty())})),this.recalculateAndSaveOverlays(e,u).next((p=>(p.forEach(((y,w)=>f.set(y,w))),r.forEach(((y,w)=>g.set(y,new f6(w,f.get(y)??null)))),g)))}recalculateAndSaveOverlays(e,r){const s=gc();let o=new wt(((f,g)=>f-g)),u=Ye();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next((f=>{for(const g of f)g.keys().forEach((p=>{const y=r.get(p);if(y===null)return;let w=s.get(p)||qr.empty();w=g.applyToLocalView(y,w),s.set(p,w);const _=(o.get(g.batchId)||Ye()).add(p);o=o.insert(g.batchId,_)}))})).next((()=>{const f=[],g=o.getReverseIterator();for(;g.hasNext();){const p=g.getNext(),y=p.key,w=p.value,_=c2();w.forEach((S=>{if(!u.has(S)){const V=y2(r.get(S),s.get(S));V!==null&&_.set(S,V),u=u.add(S)}})),f.push(this.documentOverlayCache.saveOverlays(e,y,_))}return ie.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,r,s,o){return(function(f){return Ne.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):a2(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,s,o):this.getDocumentsMatchingCollectionQuery(e,r,s,o)}getNextDocuments(e,r,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,s,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,s.largestBatchId,o-u.size):ie.resolve(vi());let g=Ec,p=u;return f.next((y=>ie.forEach(y,((w,_)=>(g<_.largestBatchId&&(g=_.largestBatchId),u.get(w)?ie.resolve():this.remoteDocumentCache.getEntry(e,w).next((S=>{p=p.insert(w,S)}))))).next((()=>this.populateOverlays(e,y,u))).next((()=>this.computeViews(e,p,y,Ye()))).next((w=>({batchId:g,changes:o2(w)})))))}))}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new Ne(r)).next((s=>{let o=oc();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,r,s,o){const u=r.collectionGroup;let f=oc();return this.indexManager.getCollectionParents(e,u).next((g=>ie.forEach(g,(p=>{const y=(function(_,S){return new Jl(S,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)})(r,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next((w=>{w.forEach(((_,S)=>{f=f.insert(_,S)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,r,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,s.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,s,u,o)))).next((f=>{u.forEach(((p,y)=>{const w=y.getKey();f.get(w)===null&&(f=f.insert(w,gr.newInvalidDocument(w)))}));let g=oc();return f.forEach(((p,y)=>{const w=u.get(p);w!==void 0&&pc(w.mutation,y,qr.empty(),xt.now()),ph(r,y)&&(g=g.insert(p,y))})),g}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g6{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,r){return ie.resolve(this.Lr.get(r))}saveBundleMetadata(e,r){return this.Lr.set(r.id,(function(o){return{id:o.id,version:o.version,createTime:ra(o.createTime)}})(r)),ie.resolve()}getNamedQuery(e,r){return ie.resolve(this.kr.get(r))}saveNamedQuery(e,r){return this.kr.set(r.name,(function(o){return{name:o.name,query:a6(o.bundledQuery),readTime:ra(o.readTime)}})(r)),ie.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p6{constructor(){this.overlays=new wt(Ne.comparator),this.qr=new Map}getOverlay(e,r){return ie.resolve(this.overlays.get(r))}getOverlays(e,r){const s=vi();return ie.forEach(r,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,r,s){return s.forEach(((o,u)=>{this.St(e,r,u)})),ie.resolve()}removeOverlaysForBatchId(e,r,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),ie.resolve()}getOverlaysForCollection(e,r,s){const o=vi(),u=r.length+1,f=new Ne(r.child("")),g=this.overlays.getIteratorFrom(f);for(;g.hasNext();){const p=g.getNext().value,y=p.getKey();if(!r.isPrefixOf(y.path))break;y.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return ie.resolve(o)}getOverlaysForCollectionGroup(e,r,s,o){let u=new wt(((y,w)=>y-w));const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===r&&y.largestBatchId>s){let w=u.get(y.largestBatchId);w===null&&(w=vi(),u=u.insert(y.largestBatchId,w)),w.set(y.getKey(),y)}}const g=vi(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((y,w)=>g.set(y,w))),!(g.size()>=o)););return ie.resolve(g)}St(e,r,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new OA(r,s));let u=this.qr.get(r);u===void 0&&(u=Ye(),this.qr.set(r,u)),this.qr.set(r,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y6{constructor(){this.sessionToken=ur.EMPTY_BYTE_STRING}getSessionToken(e){return ie.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,ie.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pg{constructor(){this.Qr=new $t(Jt.$r),this.Ur=new $t(Jt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,r){const s=new Jt(e,r);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,r){e.forEach((s=>this.addReference(s,r)))}removeReference(e,r){this.Gr(new Jt(e,r))}zr(e,r){e.forEach((s=>this.removeReference(s,r)))}jr(e){const r=new Ne(new mt([])),s=new Jt(r,e),o=new Jt(r,e+1),u=[];return this.Ur.forEachInRange([s,o],(f=>{this.Gr(f),u.push(f.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const r=new Ne(new mt([])),s=new Jt(r,e),o=new Jt(r,e+1);let u=Ye();return this.Ur.forEachInRange([s,o],(f=>{u=u.add(f.key)})),u}containsKey(e){const r=new Jt(e,0),s=this.Qr.firstAfterOrEqual(r);return s!==null&&e.isEqual(s.key)}}class Jt{constructor(e,r){this.key=e,this.Yr=r}static $r(e,r){return Ne.comparator(e.key,r.key)||Ke(e.Yr,r.Yr)}static Kr(e,r){return Ke(e.Yr,r.Yr)||Ne.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x6{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.tr=1,this.Zr=new $t(Jt.$r)}checkEmpty(e){return ie.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new DA(u,r,s,o);this.mutationQueue.push(f);for(const g of o)this.Zr=this.Zr.add(new Jt(g.key,u)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return ie.resolve(f)}lookupMutationBatch(e,r){return ie.resolve(this.Xr(r))}getNextMutationBatchAfterBatchId(e,r){const s=r+1,o=this.ei(s),u=o<0?0:o;return ie.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ie.resolve(this.mutationQueue.length===0?ig:this.tr-1)}getAllMutationBatches(e){return ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const s=new Jt(r,0),o=new Jt(r,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(f=>{const g=this.Xr(f.Yr);u.push(g)})),ie.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,r){let s=new $t(Ke);return r.forEach((o=>{const u=new Jt(o,0),f=new Jt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],(g=>{s=s.add(g.Yr)}))})),ie.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,r){const s=r.path,o=s.length+1;let u=s;Ne.isDocumentKey(u)||(u=u.child(""));const f=new Jt(new Ne(u),0);let g=new $t(Ke);return this.Zr.forEachWhile((p=>{const y=p.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(g=g.add(p.Yr)),!0)}),f),ie.resolve(this.ti(g))}ti(e){const r=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&r.push(o)})),r}removeMutationBatch(e,r){at(this.ni(r.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return ie.forEach(r.mutations,(o=>{const u=new Jt(o.key,r.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,r){const s=new Jt(r,0),o=this.Zr.firstAfterOrEqual(s);return ie.resolve(r.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ie.resolve()}ni(e,r){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const r=this.ei(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b6{constructor(e){this.ri=e,this.docs=(function(){return new wt(Ne.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const s=r.key,o=this.docs.get(s),u=o?o.size:0,f=this.ri(r);return this.docs=this.docs.insert(s,{document:r.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const s=this.docs.get(r);return ie.resolve(s?s.document.mutableCopy():gr.newInvalidDocument(r))}getEntries(e,r){let s=Va();return r.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():gr.newInvalidDocument(o))})),ie.resolve(s)}getDocumentsMatchingQuery(e,r,s,o){let u=Va();const f=r.path,g=new Ne(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(g);for(;p.hasNext();){const{key:y,value:{document:w}}=p.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||YS(KS(w),s)<=0||(o.has(w.key)||ph(r,w))&&(u=u.insert(w.key,w.mutableCopy()))}return ie.resolve(u)}getAllFromCollectionGroup(e,r,s,o){Se(9500)}ii(e,r){return ie.forEach(this.docs,(s=>r(s)))}newChangeBuffer(e){return new v6(this)}getSize(e){return ie.resolve(this.size)}}class v6 extends h6{constructor(e){super(),this.Nr=e}applyChanges(e){const r=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?r.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),ie.waitFor(r)}getFromCache(e,r){return this.Nr.getEntry(e,r)}getAllFromCache(e,r){return this.Nr.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w6{constructor(e){this.persistence=e,this.si=new zi((r=>cg(r)),ug),this.lastRemoteSnapshotVersion=Re.min(),this.highestTargetId=0,this.oi=0,this._i=new pg,this.targetCount=0,this.ai=Fl.ur()}forEachTarget(e,r){return this.si.forEach(((s,o)=>r(o))),ie.resolve()}getLastRemoteSnapshotVersion(e){return ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ie.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ie.resolve(this.highestTargetId)}setTargetsMetadata(e,r,s){return s&&(this.lastRemoteSnapshotVersion=s),r>this.oi&&(this.oi=r),ie.resolve()}Pr(e){this.si.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.ai=new Fl(r),this.highestTargetId=r),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,r){return this.Pr(r),this.targetCount+=1,ie.resolve()}updateTargetData(e,r){return this.Pr(r),ie.resolve()}removeTargetData(e,r){return this.si.delete(r.target),this._i.jr(r.targetId),this.targetCount-=1,ie.resolve()}removeTargets(e,r,s){let o=0;const u=[];return this.si.forEach(((f,g)=>{g.sequenceNumber<=r&&s.get(g.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(e,g.targetId)),o++)})),ie.waitFor(u).next((()=>o))}getTargetCount(e){return ie.resolve(this.targetCount)}getTargetData(e,r){const s=this.si.get(r)||null;return ie.resolve(s)}addMatchingKeys(e,r,s){return this._i.Wr(r,s),ie.resolve()}removeMatchingKeys(e,r,s){this._i.zr(r,s);const o=this.persistence.referenceDelegate,u=[];return o&&r.forEach((f=>{u.push(o.markPotentiallyOrphaned(e,f))})),ie.waitFor(u)}removeMatchingKeysForTargetId(e,r){return this._i.jr(r),ie.resolve()}getMatchingKeysForTargetId(e,r){const s=this._i.Hr(r);return ie.resolve(s)}containsKey(e,r){return ie.resolve(this._i.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2{constructor(e,r){this.ui={},this.overlays={},this.ci=new dh(0),this.li=!1,this.li=!0,this.hi=new y6,this.referenceDelegate=e(this),this.Pi=new w6(this),this.indexManager=new s6,this.remoteDocumentCache=(function(o){return new b6(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new n6(r),this.Ii=new g6(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new p6,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let s=this.ui[e.toKey()];return s||(s=new x6(r,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,r,s){pe("MemoryPersistence","Starting transaction:",e);const o=new _6(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,r){return ie.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,r))))}}class _6 extends WS{constructor(e){super(),this.currentSequenceNumber=e}}class yg{constructor(e){this.persistence=e,this.Ri=new pg,this.Vi=null}static mi(e){return new yg(e)}get fi(){if(this.Vi)return this.Vi;throw Se(60996)}addReference(e,r,s){return this.Ri.addReference(s,r),this.fi.delete(s.toString()),ie.resolve()}removeReference(e,r,s){return this.Ri.removeReference(s,r),this.fi.add(s.toString()),ie.resolve()}markPotentiallyOrphaned(e,r){return this.fi.add(r.toString()),ie.resolve()}removeTarget(e,r){this.Ri.jr(r.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,r.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(e,r)))}Ei(){this.Vi=new Set}di(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ie.forEach(this.fi,(s=>{const o=Ne.fromPath(s);return this.gi(e,o).next((u=>{u||r.removeEntry(o,Re.min())}))})).next((()=>(this.Vi=null,r.apply(e))))}updateLimboDocument(e,r){return this.gi(e,r).next((s=>{s?this.fi.delete(r.toString()):this.fi.add(r.toString())}))}Ti(e){return 0}gi(e,r){return ie.or([()=>ie.resolve(this.Ri.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Ai(e,r)])}}class Zd{constructor(e,r){this.persistence=e,this.pi=new zi((s=>eA(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=d6(this,r)}static mi(e,r){return new Zd(e,r)}Ei(){}di(e){return ie.resolve()}forEachTarget(e,r){return this.persistence.getTargetCache().forEachTarget(e,r)}gr(e){const r=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>r.next((o=>s+o))))}wr(e){let r=0;return this.pr(e,(s=>{r++})).next((()=>r))}pr(e,r){return ie.forEach(this.pi,((s,o)=>this.br(e,s,o).next((u=>u?ie.resolve():r(o)))))}removeTargets(e,r,s){return this.persistence.getTargetCache().removeTargets(e,r,s)}removeOrphanedDocuments(e,r){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(f=>this.br(e,f,r).next((g=>{g||(s++,u.removeEntry(f,Re.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,r){return this.pi.set(r,e.currentSequenceNumber),ie.resolve()}removeTarget(e,r){const s=r.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,r,s){return this.pi.set(s,e.currentSequenceNumber),ie.resolve()}removeReference(e,r,s){return this.pi.set(s,e.currentSequenceNumber),ie.resolve()}updateLimboDocument(e,r){return this.pi.set(r,e.currentSequenceNumber),ie.resolve()}Ti(e){let r=e.key.toString().length;return e.isFoundDocument()&&(r+=Td(e.data.value)),r}br(e,r,s){return ie.or([()=>this.persistence.Ai(e,r),()=>this.persistence.getTargetCache().containsKey(e,r),()=>{const o=this.pi.get(r);return ie.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xg{constructor(e,r,s,o){this.targetId=e,this.fromCache=r,this.Es=s,this.ds=o}static As(e,r){let s=Ye(),o=Ye();for(const u of r.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new xg(e,r.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k6{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N6{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return X4()?8:ZS(pr())>0?6:4})()}initialize(e,r){this.ps=e,this.indexManager=r,this.Rs=!0}getDocumentsMatchingQuery(e,r,s,o){const u={result:null};return this.ys(e,r).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ws(e,r,o,s).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new k6;return this.Ss(e,r,f).next((g=>{if(u.result=g,this.Vs)return this.bs(e,r,f,g.size)}))})).next((()=>u.result))}bs(e,r,s,o){return s.documentReadCount<this.fs?(Sl()<=Qe.DEBUG&&pe("QueryEngine","SDK will not create cache indexes for query:",Al(r),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ie.resolve()):(Sl()<=Qe.DEBUG&&pe("QueryEngine","Query:",Al(r),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(Sl()<=Qe.DEBUG&&pe("QueryEngine","The SDK decides to create cache indexes for query:",Al(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ta(r))):ie.resolve())}ys(e,r){if(R1(r))return ie.resolve(null);let s=ta(r);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(r.limit!==null&&o===1&&(r=Rm(r,null,"F"),s=ta(r)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const f=Ye(...u);return this.ps.getDocuments(e,f).next((g=>this.indexManager.getMinOffset(e,s).next((p=>{const y=this.Ds(r,g);return this.Cs(r,y,f,p.readTime)?this.ys(e,Rm(r,null,"F")):this.vs(e,y,r,p)}))))})))))}ws(e,r,s,o){return R1(r)||o.isEqual(Re.min())?ie.resolve(null):this.ps.getDocuments(e,s).next((u=>{const f=this.Ds(r,u);return this.Cs(r,f,s,o)?ie.resolve(null):(Sl()<=Qe.DEBUG&&pe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Al(r)),this.vs(e,f,r,QS(o,Ec)).next((g=>g)))}))}Ds(e,r){let s=new $t(i2(e));return r.forEach(((o,u)=>{ph(e,u)&&(s=s.add(u))})),s}Cs(e,r,s,o){if(e.limit===null)return!1;if(s.size!==r.size)return!0;const u=e.limitType==="F"?r.last():r.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,r,s){return Sl()<=Qe.DEBUG&&pe("QueryEngine","Using full collection scan to execute query:",Al(r)),this.ps.getDocumentsMatchingQuery(e,r,Ss.min(),s)}vs(e,r,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((u=>(r.forEach((f=>{u=u.insert(f.key,f)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bg="LocalStore",E6=3e8;class T6{constructor(e,r,s,o){this.persistence=e,this.Fs=r,this.serializer=o,this.Ms=new wt(Ke),this.xs=new zi((u=>cg(u)),ug),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new m6(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(r=>e.collect(r,this.Ms)))}}function j6(a,e,r,s){return new T6(a,e,r,s)}async function R2(a,e){const r=Oe(a);return await r.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return r.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,r.Bs(e),r.mutationQueue.getAllMutationBatches(s)))).next((u=>{const f=[],g=[];let p=Ye();for(const y of o){f.push(y.batchId);for(const w of y.mutations)p=p.add(w.key)}for(const y of u){g.push(y.batchId);for(const w of y.mutations)p=p.add(w.key)}return r.localDocuments.getDocuments(s,p).next((y=>({Ls:y,removedBatchIds:f,addedBatchIds:g})))}))}))}function S6(a,e){const r=Oe(a);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=r.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,p,y,w){const _=y.batch,S=_.keys();let V=ie.resolve();return S.forEach((U=>{V=V.next((()=>w.getEntry(p,U))).next((ne=>{const $=y.docVersions.get(U);at($!==null,48541),ne.version.compareTo($)<0&&(_.applyToRemoteDocument(ne,y),ne.isValidDocument()&&(ne.setReadTime(y.commitVersion),w.addEntry(ne)))}))})),V.next((()=>g.mutationQueue.removeMutationBatch(p,_)))})(r,s,e,u).next((()=>u.apply(s))).next((()=>r.mutationQueue.performConsistencyCheck(s))).next((()=>r.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(g){let p=Ye();for(let y=0;y<g.mutationResults.length;++y)g.mutationResults[y].transformResults.length>0&&(p=p.add(g.batch.mutations[y].key));return p})(e)))).next((()=>r.localDocuments.getDocuments(s,o)))}))}function I2(a){const e=Oe(a);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(r=>e.Pi.getLastRemoteSnapshotVersion(r)))}function A6(a,e){const r=Oe(a),s=e.snapshotVersion;let o=r.Ms;return r.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=r.Ns.newChangeBuffer({trackRemovals:!0});o=r.Ms;const g=[];e.targetChanges.forEach(((w,_)=>{const S=o.get(_);if(!S)return;g.push(r.Pi.removeMatchingKeys(u,w.removedDocuments,_).next((()=>r.Pi.addMatchingKeys(u,w.addedDocuments,_))));let V=S.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(_)!==null?V=V.withResumeToken(ur.EMPTY_BYTE_STRING,Re.min()).withLastLimboFreeSnapshotVersion(Re.min()):w.resumeToken.approximateByteSize()>0&&(V=V.withResumeToken(w.resumeToken,s)),o=o.insert(_,V),(function(ne,$,le){return ne.resumeToken.approximateByteSize()===0||$.snapshotVersion.toMicroseconds()-ne.snapshotVersion.toMicroseconds()>=E6?!0:le.addedDocuments.size+le.modifiedDocuments.size+le.removedDocuments.size>0})(S,V,w)&&g.push(r.Pi.updateTargetData(u,V))}));let p=Va(),y=Ye();if(e.documentUpdates.forEach((w=>{e.resolvedLimboDocuments.has(w)&&g.push(r.persistence.referenceDelegate.updateLimboDocument(u,w))})),g.push(C6(u,f,e.documentUpdates).next((w=>{p=w.ks,y=w.qs}))),!s.isEqual(Re.min())){const w=r.Pi.getLastRemoteSnapshotVersion(u).next((_=>r.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));g.push(w)}return ie.waitFor(g).next((()=>f.apply(u))).next((()=>r.localDocuments.getLocalViewOfDocuments(u,p,y))).next((()=>p))})).then((u=>(r.Ms=o,u)))}function C6(a,e,r){let s=Ye(),o=Ye();return r.forEach((u=>s=s.add(u))),e.getEntries(a,s).next((u=>{let f=Va();return r.forEach(((g,p)=>{const y=u.get(g);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(g)),p.isNoDocument()&&p.version.isEqual(Re.min())?(e.removeEntry(g,p.readTime),f=f.insert(g,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),f=f.insert(g,p)):pe(bg,"Ignoring outdated watch update for ",g,". Current version:",y.version," Watch version:",p.version)})),{ks:f,qs:o}}))}function R6(a,e){const r=Oe(a);return r.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=ig),r.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function I6(a,e){const r=Oe(a);return r.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return r.Pi.getTargetData(s,e).next((u=>u?(o=u,ie.resolve(o)):r.Pi.allocateTargetId(s).next((f=>(o=new _s(e,f,"TargetPurposeListen",s.currentSequenceNumber),r.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=r.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(r.Ms=r.Ms.insert(s.targetId,s),r.xs.set(e,s.targetId)),s}))}async function Vm(a,e,r){const s=Oe(a),o=s.Ms.get(e),u=r?"readwrite":"readwrite-primary";try{r||await s.persistence.runTransaction("Release target",u,(f=>s.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!Zl(f))throw f;pe(bg,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function F1(a,e,r){const s=Oe(a);let o=Re.min(),u=Ye();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(p,y,w){const _=Oe(p),S=_.xs.get(w);return S!==void 0?ie.resolve(_.Ms.get(S)):_.Pi.getTargetData(y,w)})(s,f,ta(e)).next((g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(f,g.targetId).next((p=>{u=p}))})).next((()=>s.Fs.getDocumentsMatchingQuery(f,e,r?o:Re.min(),r?u:Ye()))).next((g=>(D6(s,bA(e),g),{documents:g,Qs:u})))))}function D6(a,e,r){let s=a.Os.get(e)||Re.min();r.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),a.Os.set(e,s)}class G1{constructor(){this.activeTargetIds=EA()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class O6{constructor(){this.Mo=new G1,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,s){}addLocalQueryTarget(e,r=!0){return r&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,r,s){this.xo[e]=r}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new G1,Promise.resolve()}handleUserChange(e,r,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M6{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $1="ConnectivityMonitor";class Q1{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){pe($1,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){pe($1,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vd=null;function Lm(){return vd===null?vd=(function(){return 268435456+Math.round(2147483648*Math.random())})():vd++,"0x"+vd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q0="RestConnection",V6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class L6{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const r=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=r+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===Kd?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,r,s,o,u){const f=Lm(),g=this.zo(e,r.toUriEncodedString());pe(Q0,`Sending RPC '${e}' ${f}:`,g,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:y}=new URL(g),w=Ql(y);return this.Jo(e,g,p,s,w).then((_=>(pe(Q0,`Received RPC '${e}' ${f}: `,_),_)),(_=>{throw Ul(Q0,`RPC '${e}' ${f} failed with error: `,_,"url: ",g,"request:",s),_}))}Ho(e,r,s,o,u,f){return this.Go(e,r,s,o,u)}jo(e,r,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Xl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}zo(e,r){const s=V6[e];return`${this.Uo}/v1/${r}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P6{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fr="WebChannelConnection";class z6 extends L6{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,r,s,o,u){const f=Lm();return new Promise(((g,p)=>{const y=new Dw;y.setWithCredentials(!0),y.listenOnce(Ow.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Ed.NO_ERROR:const _=y.getResponseJson();pe(fr,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(_)),g(_);break;case Ed.TIMEOUT:pe(fr,`RPC '${e}' ${f} timed out`),p(new fe(ae.DEADLINE_EXCEEDED,"Request time out"));break;case Ed.HTTP_ERROR:const S=y.getStatus();if(pe(fr,`RPC '${e}' ${f} failed with status:`,S,"response text:",y.getResponseText()),S>0){let V=y.getResponseJson();Array.isArray(V)&&(V=V[0]);const U=V==null?void 0:V.error;if(U&&U.status&&U.message){const ne=(function(le){const ee=le.toLowerCase().replace(/_/g,"-");return Object.values(ae).indexOf(ee)>=0?ee:ae.UNKNOWN})(U.status);p(new fe(ne,U.message))}else p(new fe(ae.UNKNOWN,"Server responded with status "+y.getStatus()))}else p(new fe(ae.UNAVAILABLE,"Connection failed."));break;default:Se(9055,{l_:e,streamId:f,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{pe(fr,`RPC '${e}' ${f} completed.`)}}));const w=JSON.stringify(o);pe(fr,`RPC '${e}' ${f} sending request:`,o),y.send(r,"POST",w,s,15)}))}T_(e,r,s){const o=Lm(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=Lw(),g=Vw(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,r,s),p.encodeInitMessageHeaders=!0;const w=u.join("");pe(fr,`Creating RPC '${e}' stream ${o}: ${w}`,p);const _=f.createWebChannel(w,p);this.I_(_);let S=!1,V=!1;const U=new P6({Yo:$=>{V?pe(fr,`Not sending because RPC '${e}' stream ${o} is closed:`,$):(S||(pe(fr,`Opening RPC '${e}' stream ${o} transport.`),_.open(),S=!0),pe(fr,`RPC '${e}' stream ${o} sending:`,$),_.send($))},Zo:()=>_.close()}),ne=($,le,ee)=>{$.listen(le,(X=>{try{ee(X)}catch(xe){setTimeout((()=>{throw xe}),0)}}))};return ne(_,lc.EventType.OPEN,(()=>{V||(pe(fr,`RPC '${e}' stream ${o} transport opened.`),U.o_())})),ne(_,lc.EventType.CLOSE,(()=>{V||(V=!0,pe(fr,`RPC '${e}' stream ${o} transport closed`),U.a_(),this.E_(_))})),ne(_,lc.EventType.ERROR,($=>{V||(V=!0,Ul(fr,`RPC '${e}' stream ${o} transport errored. Name:`,$.name,"Message:",$.message),U.a_(new fe(ae.UNAVAILABLE,"The operation could not be completed")))})),ne(_,lc.EventType.MESSAGE,($=>{var le;if(!V){const ee=$.data[0];at(!!ee,16349);const X=ee,xe=(X==null?void 0:X.error)||((le=X[0])==null?void 0:le.error);if(xe){pe(fr,`RPC '${e}' stream ${o} received error:`,xe);const oe=xe.status;let F=(function(j){const R=Ut[j];if(R!==void 0)return b2(R)})(oe),T=xe.message;F===void 0&&(F=ae.INTERNAL,T="Unknown error status: "+oe+" with message "+xe.message),V=!0,U.a_(new fe(F,T)),_.close()}else pe(fr,`RPC '${e}' stream ${o} received:`,ee),U.u_(ee)}})),ne(g,Mw.STAT_EVENT,($=>{$.stat===Nm.PROXY?pe(fr,`RPC '${e}' stream ${o} detected buffering proxy`):$.stat===Nm.NOPROXY&&pe(fr,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{U.__()}),0),U}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((r=>r===e))}}function K0(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vh(a){return new HA(a,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{constructor(e,r,s=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=r,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const r=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,r-s);o>0&&pe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${r} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K1="PersistentStream";class O2{constructor(e,r,s,o,u,f,g,p){this.Mi=e,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=g,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new D2(e,r)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,r){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():r&&r.code===ae.RESOURCE_EXHAUSTED?(Ma(r.toString()),Ma("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):r&&r.code===ae.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(r)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),r=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===r&&this.G_(s,o)}),(s=>{e((()=>{const o=new fe(ae.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,r){const s=this.W_(this.D_);this.stream=this.j_(e,r),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return pe(K1,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return r=>{this.Mi.enqueueAndForget((()=>this.D_===e?r():(pe(K1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class U6 extends O2{constructor(e,r,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,s,o,f),this.serializer=u}j_(e,r){return this.connection.T_("Listen",e,r)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const r=$A(this.serializer,e),s=(function(u){if(!("targetChange"in u))return Re.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Re.min():f.readTime?ra(f.readTime):Re.min()})(e);return this.listener.H_(r,s)}Y_(e){const r={};r.database=Mm(this.serializer),r.addTarget=(function(u,f){let g;const p=f.target;if(g=Am(p)?{documents:YA(u,p)}:{query:XA(u,p).ft},g.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){g.resumeToken=_2(u,f.resumeToken);const y=Im(u,f.expectedCount);y!==null&&(g.expectedCount=y)}else if(f.snapshotVersion.compareTo(Re.min())>0){g.readTime=Wd(u,f.snapshotVersion.toTimestamp());const y=Im(u,f.expectedCount);y!==null&&(g.expectedCount=y)}return g})(this.serializer,e);const s=ZA(this.serializer,e);s&&(r.labels=s),this.q_(r)}Z_(e){const r={};r.database=Mm(this.serializer),r.removeTarget=e,this.q_(r)}}class B6 extends O2{constructor(e,r,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,s,o,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,r){return this.connection.T_("Write",e,r)}J_(e){return at(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,at(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){at(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const r=KA(e.writeResults,e.commitTime),s=ra(e.commitTime);return this.listener.na(s,r)}ra(){const e={};e.database=Mm(this.serializer),this.q_(e)}ea(e){const r={streamToken:this.lastStreamToken,writes:e.map((s=>QA(this.serializer,s)))};this.q_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q6{}class H6 extends q6{constructor(e,r,s,o){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new fe(ae.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,r,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Go(e,Dm(r,s),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new fe(ae.UNKNOWN,u.toString())}))}Ho(e,r,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,g])=>this.connection.Ho(e,Dm(r,s),o,f,g,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new fe(ae.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class F6{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ma(r),this.aa=!1):pe("OnlineStateTracker",r)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Di="RemoteStore";class G6{constructor(e,r,s,o,u){this.localStore=e,this.datastore=r,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((f=>{s.enqueueAndForget((async()=>{Ui(this)&&(pe(Di,"Restarting streams for network reachability change."),await(async function(p){const y=Oe(p);y.Ea.add(4),await qc(y),y.Ra.set("Unknown"),y.Ea.delete(4),await wh(y)})(this))}))})),this.Ra=new F6(s,o)}}async function wh(a){if(Ui(a))for(const e of a.da)await e(!0)}async function qc(a){for(const e of a.da)await e(!1)}function M2(a,e){const r=Oe(a);r.Ia.has(e.targetId)||(r.Ia.set(e.targetId,e),kg(r)?_g(r):eo(r).O_()&&wg(r,e))}function vg(a,e){const r=Oe(a),s=eo(r);r.Ia.delete(e),s.O_()&&V2(r,e),r.Ia.size===0&&(s.O_()?s.L_():Ui(r)&&r.Ra.set("Unknown"))}function wg(a,e){if(a.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Re.min())>0){const r=a.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}eo(a).Y_(e)}function V2(a,e){a.Va.Ue(e),eo(a).Z_(e)}function _g(a){a.Va=new zA({getRemoteKeysForTarget:e=>a.remoteSyncer.getRemoteKeysForTarget(e),At:e=>a.Ia.get(e)||null,ht:()=>a.datastore.serializer.databaseId}),eo(a).start(),a.Ra.ua()}function kg(a){return Ui(a)&&!eo(a).x_()&&a.Ia.size>0}function Ui(a){return Oe(a).Ea.size===0}function L2(a){a.Va=void 0}async function $6(a){a.Ra.set("Online")}async function Q6(a){a.Ia.forEach(((e,r)=>{wg(a,e)}))}async function K6(a,e){L2(a),kg(a)?(a.Ra.ha(e),_g(a)):a.Ra.set("Unknown")}async function Y6(a,e,r){if(a.Ra.set("Online"),e instanceof w2&&e.state===2&&e.cause)try{await(async function(o,u){const f=u.cause;for(const g of u.targetIds)o.Ia.has(g)&&(await o.remoteSyncer.rejectListen(g,f),o.Ia.delete(g),o.Va.removeTarget(g))})(a,e)}catch(s){pe(Di,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Jd(a,s)}else if(e instanceof Ad?a.Va.Ze(e):e instanceof v2?a.Va.st(e):a.Va.tt(e),!r.isEqual(Re.min()))try{const s=await I2(a.localStore);r.compareTo(s)>=0&&await(function(u,f){const g=u.Va.Tt(f);return g.targetChanges.forEach(((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const w=u.Ia.get(y);w&&u.Ia.set(y,w.withResumeToken(p.resumeToken,f))}})),g.targetMismatches.forEach(((p,y)=>{const w=u.Ia.get(p);if(!w)return;u.Ia.set(p,w.withResumeToken(ur.EMPTY_BYTE_STRING,w.snapshotVersion)),V2(u,p);const _=new _s(w.target,p,y,w.sequenceNumber);wg(u,_)})),u.remoteSyncer.applyRemoteEvent(g)})(a,r)}catch(s){pe(Di,"Failed to raise snapshot:",s),await Jd(a,s)}}async function Jd(a,e,r){if(!Zl(e))throw e;a.Ea.add(1),await qc(a),a.Ra.set("Offline"),r||(r=()=>I2(a.localStore)),a.asyncQueue.enqueueRetryable((async()=>{pe(Di,"Retrying IndexedDB access"),await r(),a.Ea.delete(1),await wh(a)}))}function P2(a,e){return e().catch((r=>Jd(a,r,e)))}async function _h(a){const e=Oe(a),r=Is(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:ig;for(;X6(e);)try{const o=await R6(e.localStore,s);if(o===null){e.Ta.length===0&&r.L_();break}s=o.batchId,W6(e,o)}catch(o){await Jd(e,o)}z2(e)&&U2(e)}function X6(a){return Ui(a)&&a.Ta.length<10}function W6(a,e){a.Ta.push(e);const r=Is(a);r.O_()&&r.X_&&r.ea(e.mutations)}function z2(a){return Ui(a)&&!Is(a).x_()&&a.Ta.length>0}function U2(a){Is(a).start()}async function Z6(a){Is(a).ra()}async function J6(a){const e=Is(a);for(const r of a.Ta)e.ea(r.mutations)}async function e3(a,e,r){const s=a.Ta.shift(),o=fg.from(s,e,r);await P2(a,(()=>a.remoteSyncer.applySuccessfulWrite(o))),await _h(a)}async function t3(a,e){e&&Is(a).X_&&await(async function(s,o){if((function(f){return VA(f)&&f!==ae.ABORTED})(o.code)){const u=s.Ta.shift();Is(s).B_(),await P2(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await _h(s)}})(a,e),z2(a)&&U2(a)}async function Y1(a,e){const r=Oe(a);r.asyncQueue.verifyOperationInProgress(),pe(Di,"RemoteStore received new credentials");const s=Ui(r);r.Ea.add(3),await qc(r),s&&r.Ra.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.Ea.delete(3),await wh(r)}async function r3(a,e){const r=Oe(a);e?(r.Ea.delete(2),await wh(r)):e||(r.Ea.add(2),await qc(r),r.Ra.set("Unknown"))}function eo(a){return a.ma||(a.ma=(function(r,s,o){const u=Oe(r);return u.sa(),new U6(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(a.datastore,a.asyncQueue,{Xo:$6.bind(null,a),t_:Q6.bind(null,a),r_:K6.bind(null,a),H_:Y6.bind(null,a)}),a.da.push((async e=>{e?(a.ma.B_(),kg(a)?_g(a):a.Ra.set("Unknown")):(await a.ma.stop(),L2(a))}))),a.ma}function Is(a){return a.fa||(a.fa=(function(r,s,o){const u=Oe(r);return u.sa(),new B6(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(a.datastore,a.asyncQueue,{Xo:()=>Promise.resolve(),t_:Z6.bind(null,a),r_:t3.bind(null,a),ta:J6.bind(null,a),na:e3.bind(null,a)}),a.da.push((async e=>{e?(a.fa.B_(),await _h(a)):(await a.fa.stop(),a.Ta.length>0&&(pe(Di,`Stopping write stream with ${a.Ta.length} pending writes`),a.Ta=[]))}))),a.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ng{constructor(e,r,s,o,u){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Ra,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,r,s,o,u){const f=Date.now()+s,g=new Ng(e,r,f,o,u);return g.start(s),g}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(ae.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Eg(a,e){if(Ma("AsyncQueue",`${e}: ${a}`),Zl(a))return new fe(ae.UNAVAILABLE,`${e}: ${a}`);throw a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll{static emptySet(e){return new Ll(e.comparator)}constructor(e){this.comparator=e?(r,s)=>e(r,s)||Ne.comparator(r.key,s.key):(r,s)=>Ne.comparator(r.key,s.key),this.keyedMap=oc(),this.sortedSet=new wt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((r,s)=>(e(r),!1)))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof Ll)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;r.hasNext();){const o=r.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((r=>{e.push(r.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const s=new Ll;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=r,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X1{constructor(){this.ga=new wt(Ne.comparator)}track(e){const r=e.doc.key,s=this.ga.get(r);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(r,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(r,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(r,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(r,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(r):e.type===1&&s.type===2?this.ga=this.ga.insert(r,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(r,{type:2,doc:e.doc}):Se(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(r,e)}ya(){const e=[];return this.ga.inorderTraversal(((r,s)=>{e.push(s)})),e}}class Gl{constructor(e,r,s,o,u,f,g,p,y){this.query=e,this.docs=r,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=g,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,r,s,o,u){const f=[];return r.forEach((g=>{f.push({type:0,doc:g})})),new Gl(e,r,Ll.emptySet(r),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&gh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,s=e.docChanges;if(r.length!==s.length)return!1;for(let o=0;o<r.length;o++)if(r[o].type!==s[o].type||!r[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n3{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class a3{constructor(){this.queries=W1(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(r,s){const o=Oe(r),u=o.queries;o.queries=W1(),u.forEach(((f,g)=>{for(const p of g.Sa)p.onError(s)}))})(this,new fe(ae.ABORTED,"Firestore shutting down"))}}function W1(){return new zi((a=>s2(a)),gh)}async function Tg(a,e){const r=Oe(a);let s=3;const o=e.query;let u=r.queries.get(o);u?!u.ba()&&e.Da()&&(s=2):(u=new n3,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await r.onListen(o,!0);break;case 1:u.wa=await r.onListen(o,!1);break;case 2:await r.onFirstRemoteStoreListen(o)}}catch(f){const g=Eg(f,`Initialization of query '${Al(e.query)}' failed`);return void e.onError(g)}r.queries.set(o,u),u.Sa.push(e),e.va(r.onlineState),u.wa&&e.Fa(u.wa)&&Sg(r)}async function jg(a,e){const r=Oe(a),s=e.query;let o=3;const u=r.queries.get(s);if(u){const f=u.Sa.indexOf(e);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return r.queries.delete(s),r.onUnlisten(s,!0);case 1:return r.queries.delete(s),r.onUnlisten(s,!1);case 2:return r.onLastRemoteStoreUnlisten(s);default:return}}function s3(a,e){const r=Oe(a);let s=!1;for(const o of e){const u=o.query,f=r.queries.get(u);if(f){for(const g of f.Sa)g.Fa(o)&&(s=!0);f.wa=o}}s&&Sg(r)}function i3(a,e,r){const s=Oe(a),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(r);s.queries.delete(e)}function Sg(a){a.Ca.forEach((e=>{e.next()}))}var Pm,Z1;(Z1=Pm||(Pm={})).Ma="default",Z1.Cache="cache";class Ag{constructor(e,r,s){this.query=e,this.xa=r,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Gl(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),r=!0):this.La(e,this.onlineState)&&(this.ka(e),r=!0),this.Na=e,r}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let r=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),r=!0),r}La(e,r){if(!e.fromCache||!this.Da())return!0;const s=r!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const r=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}ka(e){e=Gl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Pm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B2{constructor(e){this.key=e}}class q2{constructor(e){this.key=e}}class l3{constructor(e,r){this.query=e,this.Ya=r,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ye(),this.mutatedKeys=Ye(),this.eu=i2(e),this.tu=new Ll(this.eu)}get nu(){return this.Ya}ru(e,r){const s=r?r.iu:new X1,o=r?r.tu:this.tu;let u=r?r.mutatedKeys:this.mutatedKeys,f=o,g=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((w,_)=>{const S=o.get(w),V=ph(this.query,_)?_:null,U=!!S&&this.mutatedKeys.has(S.key),ne=!!V&&(V.hasLocalMutations||this.mutatedKeys.has(V.key)&&V.hasCommittedMutations);let $=!1;S&&V?S.data.isEqual(V.data)?U!==ne&&(s.track({type:3,doc:V}),$=!0):this.su(S,V)||(s.track({type:2,doc:V}),$=!0,(p&&this.eu(V,p)>0||y&&this.eu(V,y)<0)&&(g=!0)):!S&&V?(s.track({type:0,doc:V}),$=!0):S&&!V&&(s.track({type:1,doc:S}),$=!0,(p||y)&&(g=!0)),$&&(V?(f=f.add(V),u=ne?u.add(w):u.delete(w)):(f=f.delete(w),u=u.delete(w)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const w=this.query.limitType==="F"?f.last():f.first();f=f.delete(w.key),u=u.delete(w.key),s.track({type:1,doc:w})}return{tu:f,iu:s,Cs:g,mutatedKeys:u}}su(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((w,_)=>(function(V,U){const ne=$=>{switch($){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se(20277,{Rt:$})}};return ne(V)-ne(U)})(w.type,_.type)||this.eu(w.doc,_.doc))),this.ou(s),o=o??!1;const g=r&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,y=p!==this.Za;return this.Za=p,f.length!==0||y?{snapshot:new Gl(this.query,e.tu,u,f,e.mutatedKeys,p===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new X1,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((r=>this.Ya=this.Ya.add(r))),e.modifiedDocuments.forEach((r=>{})),e.removedDocuments.forEach((r=>this.Ya=this.Ya.delete(r))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ye(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const r=[];return e.forEach((s=>{this.Xa.has(s)||r.push(new q2(s))})),this.Xa.forEach((s=>{e.has(s)||r.push(new B2(s))})),r}cu(e){this.Ya=e.Qs,this.Xa=Ye();const r=this.ru(e.documents);return this.applyChanges(r,!0)}lu(){return Gl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Cg="SyncEngine";class o3{constructor(e,r,s){this.query=e,this.targetId=r,this.view=s}}class c3{constructor(e){this.key=e,this.hu=!1}}class u3{constructor(e,r,s,o,u,f){this.localStore=e,this.remoteStore=r,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new zi((g=>s2(g)),gh),this.Iu=new Map,this.Eu=new Set,this.du=new wt(Ne.comparator),this.Au=new Map,this.Ru=new pg,this.Vu={},this.mu=new Map,this.fu=Fl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function d3(a,e,r=!0){const s=K2(a);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await H2(s,e,r,!0),o}async function h3(a,e){const r=K2(a);await H2(r,e,!0,!1)}async function H2(a,e,r,s){const o=await I6(a.localStore,ta(e)),u=o.targetId,f=a.sharedClientState.addLocalQueryTarget(u,r);let g;return s&&(g=await f3(a,e,u,f==="current",o.resumeToken)),a.isPrimaryClient&&r&&M2(a.remoteStore,o),g}async function f3(a,e,r,s,o){a.pu=(_,S,V)=>(async function(ne,$,le,ee){let X=$.view.ru(le);X.Cs&&(X=await F1(ne.localStore,$.query,!1).then((({documents:T})=>$.view.ru(T,X))));const xe=ee&&ee.targetChanges.get($.targetId),oe=ee&&ee.targetMismatches.get($.targetId)!=null,F=$.view.applyChanges(X,ne.isPrimaryClient,xe,oe);return ev(ne,$.targetId,F.au),F.snapshot})(a,_,S,V);const u=await F1(a.localStore,e,!0),f=new l3(e,u.Qs),g=f.ru(u.documents),p=Bc.createSynthesizedTargetChangeForCurrentChange(r,s&&a.onlineState!=="Offline",o),y=f.applyChanges(g,a.isPrimaryClient,p);ev(a,r,y.au);const w=new o3(e,r,f);return a.Tu.set(e,w),a.Iu.has(r)?a.Iu.get(r).push(e):a.Iu.set(r,[e]),y.snapshot}async function m3(a,e,r){const s=Oe(a),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((f=>!gh(f,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Vm(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),r&&vg(s.remoteStore,o.targetId),zm(s,o.targetId)})).catch(Wl)):(zm(s,o.targetId),await Vm(s.localStore,o.targetId,!0))}async function g3(a,e){const r=Oe(a),s=r.Tu.get(e),o=r.Iu.get(s.targetId);r.isPrimaryClient&&o.length===1&&(r.sharedClientState.removeLocalQueryTarget(s.targetId),vg(r.remoteStore,s.targetId))}async function p3(a,e,r){const s=k3(a);try{const o=await(function(f,g){const p=Oe(f),y=xt.now(),w=g.reduce(((V,U)=>V.add(U.key)),Ye());let _,S;return p.persistence.runTransaction("Locally write mutations","readwrite",(V=>{let U=Va(),ne=Ye();return p.Ns.getEntries(V,w).next(($=>{U=$,U.forEach(((le,ee)=>{ee.isValidDocument()||(ne=ne.add(le))}))})).next((()=>p.localDocuments.getOverlayedDocuments(V,U))).next(($=>{_=$;const le=[];for(const ee of g){const X=RA(ee,_.get(ee.key).overlayedDocument);X!=null&&le.push(new zs(ee.key,X,Ww(X.value.mapValue),cn.exists(!0)))}return p.mutationQueue.addMutationBatch(V,y,le,g)})).next(($=>{S=$;const le=$.applyToLocalDocumentSet(_,ne);return p.documentOverlayCache.saveOverlays(V,$.batchId,le)}))})).then((()=>({batchId:S.batchId,changes:o2(_)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(f,g,p){let y=f.Vu[f.currentUser.toKey()];y||(y=new wt(Ke)),y=y.insert(g,p),f.Vu[f.currentUser.toKey()]=y})(s,o.batchId,r),await Hc(s,o.changes),await _h(s.remoteStore)}catch(o){const u=Eg(o,"Failed to persist write");r.reject(u)}}async function F2(a,e){const r=Oe(a);try{const s=await A6(r.localStore,e);e.targetChanges.forEach(((o,u)=>{const f=r.Au.get(u);f&&(at(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?at(f.hu,14607):o.removedDocuments.size>0&&(at(f.hu,42227),f.hu=!1))})),await Hc(r,s,e)}catch(s){await Wl(s)}}function J1(a,e,r){const s=Oe(a);if(s.isPrimaryClient&&r===0||!s.isPrimaryClient&&r===1){const o=[];s.Tu.forEach(((u,f)=>{const g=f.view.va(e);g.snapshot&&o.push(g.snapshot)})),(function(f,g){const p=Oe(f);p.onlineState=g;let y=!1;p.queries.forEach(((w,_)=>{for(const S of _.Sa)S.va(g)&&(y=!0)})),y&&Sg(p)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function y3(a,e,r){const s=Oe(a);s.sharedClientState.updateQueryState(e,"rejected",r);const o=s.Au.get(e),u=o&&o.key;if(u){let f=new wt(Ne.comparator);f=f.insert(u,gr.newNoDocument(u,Re.min()));const g=Ye().add(u),p=new bh(Re.min(),new Map,new wt(Ke),f,g);await F2(s,p),s.du=s.du.remove(u),s.Au.delete(e),Rg(s)}else await Vm(s.localStore,e,!1).then((()=>zm(s,e,r))).catch(Wl)}async function x3(a,e){const r=Oe(a),s=e.batch.batchId;try{const o=await S6(r.localStore,e);$2(r,s,null),G2(r,s),r.sharedClientState.updateMutationState(s,"acknowledged"),await Hc(r,o)}catch(o){await Wl(o)}}async function b3(a,e,r){const s=Oe(a);try{const o=await(function(f,g){const p=Oe(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let w;return p.mutationQueue.lookupMutationBatch(y,g).next((_=>(at(_!==null,37113),w=_.keys(),p.mutationQueue.removeMutationBatch(y,_)))).next((()=>p.mutationQueue.performConsistencyCheck(y))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(y,w,g))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,w))).next((()=>p.localDocuments.getDocuments(y,w)))}))})(s.localStore,e);$2(s,e,r),G2(s,e),s.sharedClientState.updateMutationState(e,"rejected",r),await Hc(s,o)}catch(o){await Wl(o)}}function G2(a,e){(a.mu.get(e)||[]).forEach((r=>{r.resolve()})),a.mu.delete(e)}function $2(a,e,r){const s=Oe(a);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(r?u.reject(r):u.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function zm(a,e,r=null){a.sharedClientState.removeLocalQueryTarget(e);for(const s of a.Iu.get(e))a.Tu.delete(s),r&&a.Pu.yu(s,r);a.Iu.delete(e),a.isPrimaryClient&&a.Ru.jr(e).forEach((s=>{a.Ru.containsKey(s)||Q2(a,s)}))}function Q2(a,e){a.Eu.delete(e.path.canonicalString());const r=a.du.get(e);r!==null&&(vg(a.remoteStore,r),a.du=a.du.remove(e),a.Au.delete(r),Rg(a))}function ev(a,e,r){for(const s of r)s instanceof B2?(a.Ru.addReference(s.key,e),v3(a,s)):s instanceof q2?(pe(Cg,"Document no longer in limbo: "+s.key),a.Ru.removeReference(s.key,e),a.Ru.containsKey(s.key)||Q2(a,s.key)):Se(19791,{wu:s})}function v3(a,e){const r=e.key,s=r.path.canonicalString();a.du.get(r)||a.Eu.has(s)||(pe(Cg,"New document in limbo: "+r),a.Eu.add(s),Rg(a))}function Rg(a){for(;a.Eu.size>0&&a.du.size<a.maxConcurrentLimboResolutions;){const e=a.Eu.values().next().value;a.Eu.delete(e);const r=new Ne(mt.fromString(e)),s=a.fu.next();a.Au.set(s,new c3(r)),a.du=a.du.insert(r,s),M2(a.remoteStore,new _s(ta(mh(r.path)),s,"TargetPurposeLimboResolution",dh.ce))}}async function Hc(a,e,r){const s=Oe(a),o=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach(((g,p)=>{f.push(s.pu(p,e,r).then((y=>{var w;if((y||r)&&s.isPrimaryClient){const _=y?!y.fromCache:(w=r==null?void 0:r.targetChanges.get(p.targetId))==null?void 0:w.current;s.sharedClientState.updateQueryState(p.targetId,_?"current":"not-current")}if(y){o.push(y);const _=xg.As(p.targetId,y);u.push(_)}})))})),await Promise.all(f),s.Pu.H_(o),await(async function(p,y){const w=Oe(p);try{await w.persistence.runTransaction("notifyLocalViewChanges","readwrite",(_=>ie.forEach(y,(S=>ie.forEach(S.Es,(V=>w.persistence.referenceDelegate.addReference(_,S.targetId,V))).next((()=>ie.forEach(S.ds,(V=>w.persistence.referenceDelegate.removeReference(_,S.targetId,V)))))))))}catch(_){if(!Zl(_))throw _;pe(bg,"Failed to update sequence numbers: "+_)}for(const _ of y){const S=_.targetId;if(!_.fromCache){const V=w.Ms.get(S),U=V.snapshotVersion,ne=V.withLastLimboFreeSnapshotVersion(U);w.Ms=w.Ms.insert(S,ne)}}})(s.localStore,u))}async function w3(a,e){const r=Oe(a);if(!r.currentUser.isEqual(e)){pe(Cg,"User change. New user:",e.toKey());const s=await R2(r.localStore,e);r.currentUser=e,(function(u,f){u.mu.forEach((g=>{g.forEach((p=>{p.reject(new fe(ae.CANCELLED,f))}))})),u.mu.clear()})(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Hc(r,s.Ls)}}function _3(a,e){const r=Oe(a),s=r.Au.get(e);if(s&&s.hu)return Ye().add(s.key);{let o=Ye();const u=r.Iu.get(e);if(!u)return o;for(const f of u){const g=r.Tu.get(f);o=o.unionWith(g.view.nu)}return o}}function K2(a){const e=Oe(a);return e.remoteStore.remoteSyncer.applyRemoteEvent=F2.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=_3.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=y3.bind(null,e),e.Pu.H_=s3.bind(null,e.eventManager),e.Pu.yu=i3.bind(null,e.eventManager),e}function k3(a){const e=Oe(a);return e.remoteStore.remoteSyncer.applySuccessfulWrite=x3.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=b3.bind(null,e),e}class eh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=vh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,r){return null}Mu(e,r){return null}vu(e){return j6(this.persistence,new N6,e.initialUser,this.serializer)}Cu(e){return new C2(yg.mi,this.serializer)}Du(e){return new O6}async terminate(){var e,r;(e=this.gcScheduler)==null||e.stop(),(r=this.indexBackfillerScheduler)==null||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}eh.provider={build:()=>new eh};class N3 extends eh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,r){at(this.persistence.referenceDelegate instanceof Zd,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new c6(s,e.asyncQueue,r)}Cu(e){const r=this.cacheSizeBytes!==void 0?Sr.withCacheSize(this.cacheSizeBytes):Sr.DEFAULT;return new C2((s=>Zd.mi(s,r)),this.serializer)}}class Um{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>J1(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=w3.bind(null,this.syncEngine),await r3(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new a3})()}createDatastore(e){const r=vh(e.databaseInfo.databaseId),s=(function(u){return new z6(u)})(e.databaseInfo);return(function(u,f,g,p){return new H6(u,f,g,p)})(e.authCredentials,e.appCheckCredentials,s,r)}createRemoteStore(e){return(function(s,o,u,f,g){return new G6(s,o,u,f,g)})(this.localStore,this.datastore,e.asyncQueue,(r=>J1(this.syncEngine,r,0)),(function(){return Q1.v()?new Q1:new M6})())}createSyncEngine(e,r){return(function(o,u,f,g,p,y,w){const _=new u3(o,u,f,g,p,y);return w&&(_.gu=!0),_})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await(async function(o){const u=Oe(o);pe(Di,"RemoteStore shutting down."),u.Ea.add(5),await qc(u),u.Aa.shutdown(),u.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(r=this.eventManager)==null||r.terminate()}}Um.provider={build:()=>new Um};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ig{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ma("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,r){setTimeout((()=>{this.muted||e(r)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ds="FirestoreClient";class E3{constructor(e,r,s,o,u){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=s,this.databaseInfo=o,this.user=mr.UNAUTHENTICATED,this.clientId=sg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async f=>{pe(Ds,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(pe(Ds,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ra;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const s=Eg(r,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Y0(a,e){a.asyncQueue.verifyOperationInProgress(),pe(Ds,"Initializing OfflineComponentProvider");const r=a.configuration;await e.initialize(r);let s=r.initialUser;a.setCredentialChangeListener((async o=>{s.isEqual(o)||(await R2(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>a.terminate())),a._offlineComponents=e}async function tv(a,e){a.asyncQueue.verifyOperationInProgress();const r=await T3(a);pe(Ds,"Initializing OnlineComponentProvider"),await e.initialize(r,a.configuration),a.setCredentialChangeListener((s=>Y1(e.remoteStore,s))),a.setAppCheckTokenChangeListener(((s,o)=>Y1(e.remoteStore,o))),a._onlineComponents=e}async function T3(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){pe(Ds,"Using user provided OfflineComponentProvider");try{await Y0(a,a._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!(function(o){return o.name==="FirebaseError"?o.code===ae.FAILED_PRECONDITION||o.code===ae.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(r))throw r;Ul("Error using user provided cache. Falling back to memory cache: "+r),await Y0(a,new eh)}}else pe(Ds,"Using default OfflineComponentProvider"),await Y0(a,new N3(void 0));return a._offlineComponents}async function Y2(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(pe(Ds,"Using user provided OnlineComponentProvider"),await tv(a,a._uninitializedComponentsProvider._online)):(pe(Ds,"Using default OnlineComponentProvider"),await tv(a,new Um))),a._onlineComponents}function j3(a){return Y2(a).then((e=>e.syncEngine))}async function th(a){const e=await Y2(a),r=e.eventManager;return r.onListen=d3.bind(null,e.syncEngine),r.onUnlisten=m3.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=h3.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=g3.bind(null,e.syncEngine),r}function S3(a,e,r={}){const s=new Ra;return a.asyncQueue.enqueueAndForget((async()=>(function(u,f,g,p,y){const w=new Ig({next:S=>{w.Nu(),f.enqueueAndForget((()=>jg(u,_)));const V=S.docs.has(g);!V&&S.fromCache?y.reject(new fe(ae.UNAVAILABLE,"Failed to get document because the client is offline.")):V&&S.fromCache&&p&&p.source==="server"?y.reject(new fe(ae.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(S)},error:S=>y.reject(S)}),_=new Ag(mh(g.path),w,{includeMetadataChanges:!0,qa:!0});return Tg(u,_)})(await th(a),a.asyncQueue,e,r,s))),s.promise}function A3(a,e,r={}){const s=new Ra;return a.asyncQueue.enqueueAndForget((async()=>(function(u,f,g,p,y){const w=new Ig({next:S=>{w.Nu(),f.enqueueAndForget((()=>jg(u,_))),S.fromCache&&p.source==="server"?y.reject(new fe(ae.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(S)},error:S=>y.reject(S)}),_=new Ag(g,w,{includeMetadataChanges:!0,qa:!0});return Tg(u,_)})(await th(a),a.asyncQueue,e,r,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X2(a){const e={};return a.timeoutSeconds!==void 0&&(e.timeoutSeconds=a.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rv=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W2="firestore.googleapis.com",nv=!0;class av{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new fe(ae.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=W2,this.ssl=nv}else this.host=e.host,this.ssl=e.ssl??nv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=A2;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<l6)throw new fe(ae.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}$S("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=X2(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new fe(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new fe(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new fe(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class kh{constructor(e,r,s,o){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new av({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(ae.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(ae.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new av(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new VS;switch(s.type){case"firstParty":return new US(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new fe(ae.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(r){const s=rv.get(r);s&&(pe("ComponentProvider","Removing Datastore"),rv.delete(r),s.terminate())})(this),Promise.resolve()}}function C3(a,e,r,s={}){var y;a=Cr(a,kh);const o=Ql(e),u=a._getSettings(),f={...u,emulatorOptions:a._getEmulatorOptions()},g=`${e}:${r}`;o&&(Bv(`https://${g}`),qv("Firestore",!0)),u.host!==W2&&u.host!==g&&Ul("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:g,ssl:o,emulatorOptions:s};if(!js(p,f)&&(a._setSettings(p),s.mockUserToken)){let w,_;if(typeof s.mockUserToken=="string")w=s.mockUserToken,_=mr.MOCK_USER;else{w=q4(s.mockUserToken,(y=a._app)==null?void 0:y.options.projectId);const S=s.mockUserToken.sub||s.mockUserToken.user_id;if(!S)throw new fe(ae.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new mr(S)}a._authCredentials=new LS(new zw(w,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(e,r,s){this.converter=r,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Us(this.firestore,e,this._query)}}class Et{constructor(e,r,s){this.converter=r,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ts(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Et(this.firestore,e,this._key)}toJSON(){return{type:Et._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,r,s){if(zc(r,Et._jsonSchema))return new Et(e,s||null,new Ne(mt.fromString(r.referencePath)))}}Et._jsonSchemaVersion="firestore/documentReference/1.0",Et._jsonSchema={type:qt("string",Et._jsonSchemaVersion),referencePath:qt("string")};class Ts extends Us{constructor(e,r,s){super(e,r,mh(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Et(this.firestore,null,new Ne(e))}withConverter(e){return new Ts(this.firestore,e,this._path)}}function un(a,e,...r){if(a=Tt(a),Uw("collection","path",e),a instanceof kh){const s=mt.fromString(e,...r);return y1(s),new Ts(a,null,s)}{if(!(a instanceof Et||a instanceof Ts))throw new fe(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(mt.fromString(e,...r));return y1(s),new Ts(a.firestore,null,s)}}function Os(a,e,...r){if(a=Tt(a),arguments.length===1&&(e=sg.newId()),Uw("doc","path",e),a instanceof kh){const s=mt.fromString(e,...r);return p1(s),new Et(a,null,new Ne(s))}{if(!(a instanceof Et||a instanceof Ts))throw new fe(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(mt.fromString(e,...r));return p1(s),new Et(a.firestore,a instanceof Ts?a.converter:null,new Ne(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sv="AsyncQueue";class iv{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new D2(this,"async_queue_retry"),this._c=()=>{const s=K0();s&&pe(sv,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const r=K0();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const r=K0();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const r=new Ra;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(r.resolve,r.reject),r.promise))).then((()=>r.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Zl(e))throw e;pe(sv,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const r=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Ma("INTERNAL UNHANDLED ERROR: ",lv(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=r,r}enqueueAfterDelay(e,r,s){this.uc(),this.oc.indexOf(e)>-1&&(r=0);const o=Ng.createAndSchedule(this,e,r,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Se(47125,{Pc:lv(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const r of this.tc)if(r.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((r,s)=>r.targetTimeMs-s.targetTimeMs));for(const r of this.tc)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const r=this.tc.indexOf(e);this.tc.splice(r,1)}}function lv(a){let e=a.message||"";return a.stack&&(e=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ov(a){return(function(r,s){if(typeof r!="object"||r===null)return!1;const o=r;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1})(a,["next","error","complete"])}class La extends kh{constructor(e,r,s,o){super(e,r,s,o),this.type="firestore",this._queue=new iv,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new iv(e),this._firestoreClient=void 0,await e}}}function R3(a,e){const r=typeof a=="object"?a:Ym(),s=typeof a=="string"?a:Kd,o=Pi(r,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=U4("firestore");u&&C3(o,...u)}return o}function Nh(a){if(a._terminated)throw new fe(ae.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||I3(a),a._firestoreClient}function I3(a){var s,o,u;const e=a._freezeSettings(),r=(function(g,p,y,w){return new nA(g,p,y,w.host,w.ssl,w.experimentalForceLongPolling,w.experimentalAutoDetectLongPolling,X2(w.experimentalLongPollingOptions),w.useFetchStreams,w.isUsingEmulator)})(a._databaseId,((s=a._app)==null?void 0:s.options.appId)||"",a._persistenceKey,e);a._componentsProvider||(o=e.localCache)!=null&&o._offlineComponentProvider&&((u=e.localCache)!=null&&u._onlineComponentProvider)&&(a._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),a._firestoreClient=new E3(a._authCredentials,a._appCheckCredentials,a._queue,r,a._componentsProvider&&(function(g){const p=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(p),_online:p}})(a._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new sn(ur.fromBase64String(e))}catch(r){throw new fe(ae.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new sn(ur.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:sn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(zc(e,sn._jsonSchema))return sn.fromBase64String(e.bytes)}}sn._jsonSchemaVersion="firestore/bytes/1.0",sn._jsonSchema={type:qt("string",sn._jsonSchemaVersion),bytes:qt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new fe(ae.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new cr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new fe(ae.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new fe(ae.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ke(this._lat,e._lat)||Ke(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:na._jsonSchemaVersion}}static fromJSON(e){if(zc(e,na._jsonSchema))return new na(e.latitude,e.longitude)}}na._jsonSchemaVersion="firestore/geoPoint/1.0",na._jsonSchema={type:qt("string",na._jsonSchemaVersion),latitude:qt("number"),longitude:qt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(e){this._values=(e||[]).map((r=>r))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:aa._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(zc(e,aa._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((r=>typeof r=="number")))return new aa(e.vectorValues);throw new fe(ae.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}aa._jsonSchemaVersion="firestore/vectorValue/1.0",aa._jsonSchema={type:qt("string",aa._jsonSchemaVersion),vectorValues:qt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D3=/^__.*__$/;class O3{constructor(e,r,s){this.data=e,this.fieldMask=r,this.fieldTransforms=s}toMutation(e,r){return this.fieldMask!==null?new zs(e,this.data,this.fieldMask,r,this.fieldTransforms):new Uc(e,this.data,r,this.fieldTransforms)}}class Z2{constructor(e,r,s){this.data=e,this.fieldMask=r,this.fieldTransforms=s}toMutation(e,r){return new zs(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function J2(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se(40011,{Ac:a})}}class Dg{constructor(e,r,s,o,u,f){this.settings=e,this.databaseId=r,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Dg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var o;const r=(o=this.path)==null?void 0:o.child(e),s=this.Vc({path:r,fc:!1});return s.gc(e),s}yc(e){var o;const r=(o=this.path)==null?void 0:o.child(e),s=this.Vc({path:r,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return rh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((r=>e.isPrefixOf(r)))!==void 0||this.fieldTransforms.find((r=>e.isPrefixOf(r.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(J2(this.Ac)&&D3.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class M3{constructor(e,r,s){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=s||vh(e)}Cc(e,r,s,o=!1){return new Dg({Ac:e,methodName:r,Dc:s,path:cr.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Th(a){const e=a._freezeSettings(),r=vh(a._databaseId);return new M3(a._databaseId,!!e.ignoreUndefinedProperties,r)}function e_(a,e,r,s,o,u={}){const f=a.Cc(u.merge||u.mergeFields?2:0,e,r,o);Vg("Data must be an object, but it was:",f,s);const g=t_(s,f);let p,y;if(u.merge)p=new qr(f.fieldMask),y=f.fieldTransforms;else if(u.mergeFields){const w=[];for(const _ of u.mergeFields){const S=Bm(e,_,r);if(!f.contains(S))throw new fe(ae.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);n_(w,S)||w.push(S)}p=new qr(w),y=f.fieldTransforms.filter((_=>p.covers(_.field)))}else p=null,y=f.fieldTransforms;return new O3(new Ar(g),p,y)}class jh extends Fc{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof jh}}class Og extends Fc{_toFieldTransform(e){return new p2(e.path,new Cc)}isEqual(e){return e instanceof Og}}class Mg extends Fc{constructor(e,r){super(e),this.Fc=r}_toFieldTransform(e){const r=new Dc(e.serializer,d2(e.serializer,this.Fc));return new p2(e.path,r)}isEqual(e){return e instanceof Mg&&this.Fc===e.Fc}}function V3(a,e,r,s){const o=a.Cc(1,e,r);Vg("Data must be an object, but it was:",o,s);const u=[],f=Ar.empty();Ps(s,((p,y)=>{const w=Lg(e,p,r);y=Tt(y);const _=o.yc(w);if(y instanceof jh)u.push(w);else{const S=Gc(y,_);S!=null&&(u.push(w),f.set(w,S))}}));const g=new qr(u);return new Z2(f,g,o.fieldTransforms)}function L3(a,e,r,s,o,u){const f=a.Cc(1,e,r),g=[Bm(e,s,r)],p=[o];if(u.length%2!=0)throw new fe(ae.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<u.length;S+=2)g.push(Bm(e,u[S])),p.push(u[S+1]);const y=[],w=Ar.empty();for(let S=g.length-1;S>=0;--S)if(!n_(y,g[S])){const V=g[S];let U=p[S];U=Tt(U);const ne=f.yc(V);if(U instanceof jh)y.push(V);else{const $=Gc(U,ne);$!=null&&(y.push(V),w.set(V,$))}}const _=new qr(y);return new Z2(w,_,f.fieldTransforms)}function P3(a,e,r,s=!1){return Gc(r,a.Cc(s?4:3,e))}function Gc(a,e){if(r_(a=Tt(a)))return Vg("Unsupported field value:",e,a),t_(a,e);if(a instanceof Fc)return(function(s,o){if(!J2(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(a,e),null;if(a===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),a instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let f=0;for(const g of s){let p=Gc(g,o.wc(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}})(a,e)}return(function(s,o){if((s=Tt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return d2(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=xt.fromDate(s);return{timestampValue:Wd(o.serializer,u)}}if(s instanceof xt){const u=new xt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Wd(o.serializer,u)}}if(s instanceof na)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof sn)return{bytesValue:_2(o.serializer,s._byteString)};if(s instanceof Et){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:gg(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof aa)return(function(f,g){return{mapValue:{fields:{[Yw]:{stringValue:Xw},[Yd]:{arrayValue:{values:f.toArray().map((y=>{if(typeof y!="number")throw g.Sc("VectorValues must only contain numeric values.");return dg(g.serializer,y)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${uh(s)}`)})(a,e)}function t_(a,e){const r={};return Hw(a)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ps(a,((s,o)=>{const u=Gc(o,e.mc(s));u!=null&&(r[s]=u)})),{mapValue:{fields:r}}}function r_(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof xt||a instanceof na||a instanceof sn||a instanceof Et||a instanceof Fc||a instanceof aa)}function Vg(a,e,r){if(!r_(r)||!Bw(r)){const s=uh(r);throw s==="an object"?e.Sc(a+" a custom object"):e.Sc(a+" "+s)}}function Bm(a,e,r){if((e=Tt(e))instanceof Eh)return e._internalPath;if(typeof e=="string")return Lg(a,e);throw rh("Field path arguments must be of type string or ",a,!1,void 0,r)}const z3=new RegExp("[~\\*/\\[\\]]");function Lg(a,e,r){if(e.search(z3)>=0)throw rh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,r);try{return new Eh(...e.split("."))._internalPath}catch{throw rh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,r)}}function rh(a,e,r,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let g=`Function ${e}() called with invalid data`;r&&(g+=" (via `toFirestore()`)"),g+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new fe(ae.INVALID_ARGUMENT,g+a+p)}function n_(a,e){return a.some((r=>r.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a_{constructor(e,r,s,o,u){this._firestore=e,this._userDataWriter=r,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Et(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new U3(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(Sh("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class U3 extends a_{data(){return super.data()}}function Sh(a,e){return typeof e=="string"?Lg(a,e):e instanceof Eh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s_(a){if(a.limitType==="L"&&a.explicitOrderBy.length===0)throw new fe(ae.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Pg{}class i_ extends Pg{}function Ms(a,e,...r){let s=[];e instanceof Pg&&s.push(e),s=s.concat(r),(function(u){const f=u.filter((p=>p instanceof zg)).length,g=u.filter((p=>p instanceof Ah)).length;if(f>1||f>0&&g>0)throw new fe(ae.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)a=o._apply(a);return a}class Ah extends i_{constructor(e,r,s){super(),this._field=e,this._op=r,this._value=s,this.type="where"}static _create(e,r,s){return new Ah(e,r,s)}_apply(e){const r=this._parse(e);return o_(e._query,r),new Us(e.firestore,e.converter,Cm(e._query,r))}_parse(e){const r=Th(e.firestore);return(function(u,f,g,p,y,w,_){let S;if(y.isKeyField()){if(w==="array-contains"||w==="array-contains-any")throw new fe(ae.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if(w==="in"||w==="not-in"){uv(_,w);const U=[];for(const ne of _)U.push(cv(p,u,ne));S={arrayValue:{values:U}}}else S=cv(p,u,_)}else w!=="in"&&w!=="not-in"&&w!=="array-contains-any"||uv(_,w),S=P3(g,f,_,w==="in"||w==="not-in");return Bt.create(y,w,S)})(e._query,"where",r,e.firestore._databaseId,this._field,this._op,this._value)}}function Vs(a,e,r){const s=e,o=Sh("where",a);return Ah._create(o,s,r)}class zg extends Pg{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new zg(e,r)}_parse(e){const r=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return r.length===1?r[0]:Sn.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return r.getFilters().length===0?e:((function(o,u){let f=o;const g=u.getFlattenedFilters();for(const p of g)o_(f,p),f=Cm(f,p)})(e._query,r),new Us(e.firestore,e.converter,Cm(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Ug extends i_{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new Ug(e,r)}_apply(e){const r=(function(o,u,f){if(o.startAt!==null)throw new fe(ae.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new fe(ae.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ac(u,f)})(e._query,this._field,this._direction);return new Us(e.firestore,e.converter,(function(o,u){const f=o.explicitOrderBy.concat([u]);return new Jl(o.path,o.collectionGroup,f,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,r))}}function l_(a,e="asc"){const r=e,s=Sh("orderBy",a);return Ug._create(s,r)}function cv(a,e,r){if(typeof(r=Tt(r))=="string"){if(r==="")throw new fe(ae.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!a2(e)&&r.indexOf("/")!==-1)throw new fe(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const s=e.path.child(mt.fromString(r));if(!Ne.isDocumentKey(s))throw new fe(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return E1(a,new Ne(s))}if(r instanceof Et)return E1(a,r._key);throw new fe(ae.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${uh(r)}.`)}function uv(a,e){if(!Array.isArray(a)||a.length===0)throw new fe(ae.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function o_(a,e){const r=(function(o,u){for(const f of o)for(const g of f.getFlattenedFilters())if(u.indexOf(g.op)>=0)return g.op;return null})(a.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(r!==null)throw r===e.op?new fe(ae.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new fe(ae.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class B3{convertValue(e,r="none"){switch(Rs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Rt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(Cs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw Se(62114,{value:e})}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const s={};return Ps(e,((o,u)=>{s[o]=this.convertValue(u,r)})),s}convertVectorValue(e){var s,o,u;const r=(u=(o=(s=e.fields)==null?void 0:s[Yd].arrayValue)==null?void 0:o.values)==null?void 0:u.map((f=>Rt(f.doubleValue)));return new aa(r)}convertGeoPoint(e){return new na(Rt(e.latitude),Rt(e.longitude))}convertArray(e,r){return(e.values||[]).map((s=>this.convertValue(s,r)))}convertServerTimestamp(e,r){switch(r){case"previous":const s=fh(e);return s==null?null:this.convertValue(s,r);case"estimate":return this.convertTimestamp(Tc(e));default:return null}}convertTimestamp(e){const r=As(e);return new xt(r.seconds,r.nanos)}convertDocumentKey(e,r){const s=mt.fromString(e);at(S2(s),9688,{name:e});const o=new jc(s.get(1),s.get(3)),u=new Ne(s.popFirst(5));return o.isEqual(r)||Ma(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c_(a,e,r){let s;return s=a?r&&(r.merge||r.mergeFields)?a.toFirestore(e,r):a.toFirestore(e):e,s}class uc{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class _i extends a_{constructor(e,r,s,o,u,f){super(e,r,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new Cd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const s=this._document.data.field(Sh("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,r.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(ae.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,r={};return r.type=_i._jsonSchemaVersion,r.bundle="",r.bundleSource="DocumentSnapshot",r.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?r:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),r.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),r)}}_i._jsonSchemaVersion="firestore/documentSnapshot/1.0",_i._jsonSchema={type:qt("string",_i._jsonSchemaVersion),bundleSource:qt("string","DocumentSnapshot"),bundleName:qt("string"),bundle:qt("string")};class Cd extends _i{data(e={}){return super.data(e)}}class ki{constructor(e,r,s,o){this._firestore=e,this._userDataWriter=r,this._snapshot=o,this.metadata=new uc(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((r=>e.push(r))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach((s=>{e.call(r,new Cd(this._firestore,this._userDataWriter,s.key,s,new uc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new fe(ae.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((g=>{const p=new Cd(o._firestore,o._userDataWriter,g.doc.key,g.doc,new uc(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((g=>u||g.type!==3)).map((g=>{const p=new Cd(o._firestore,o._userDataWriter,g.doc.key,g.doc,new uc(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,w=-1;return g.type!==0&&(y=f.indexOf(g.doc.key),f=f.delete(g.doc.key)),g.type!==1&&(f=f.add(g.doc),w=f.indexOf(g.doc.key)),{type:q3(g.type),doc:p,oldIndex:y,newIndex:w}}))}})(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new fe(ae.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ki._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=sg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const r=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(r.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function q3(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se(61501,{type:a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H3(a){a=Cr(a,Et);const e=Cr(a.firestore,La);return S3(Nh(e),a._key).then((r=>d_(e,a,r)))}ki._jsonSchemaVersion="firestore/querySnapshot/1.0",ki._jsonSchema={type:qt("string",ki._jsonSchemaVersion),bundleSource:qt("string","QuerySnapshot"),bundleName:qt("string"),bundle:qt("string")};class Bg extends B3{constructor(e){super(),this.firestore=e}convertBytes(e){return new sn(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Et(this.firestore,null,r)}}function Bi(a){a=Cr(a,Us);const e=Cr(a.firestore,La),r=Nh(e),s=new Bg(e);return s_(a._query),A3(r,a._query).then((o=>new ki(e,s,a,o)))}function u_(a,e,r){a=Cr(a,Et);const s=Cr(a.firestore,La),o=c_(a.converter,e,r);return Rh(s,[e_(Th(s),"setDoc",a._key,o,a.converter!==null,r).toMutation(a._key,cn.none())])}function qg(a,e,r,...s){a=Cr(a,Et);const o=Cr(a.firestore,La),u=Th(o);let f;return f=typeof(e=Tt(e))=="string"||e instanceof Eh?L3(u,"updateDoc",a._key,e,r,s):V3(u,"updateDoc",a._key,e),Rh(o,[f.toMutation(a._key,cn.exists(!0))])}function F3(a){return Rh(Cr(a.firestore,La),[new hg(a._key,cn.none())])}function Ch(a,e){const r=Cr(a.firestore,La),s=Os(a),o=c_(a.converter,e);return Rh(r,[e_(Th(a.firestore),"addDoc",s._key,o,a.converter!==null,{}).toMutation(s._key,cn.exists(!1))]).then((()=>s))}function G3(a,...e){var p,y,w;a=Tt(a);let r={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||ov(e[s])||(r=e[s++]);const o={includeMetadataChanges:r.includeMetadataChanges,source:r.source};if(ov(e[s])){const _=e[s];e[s]=(p=_.next)==null?void 0:p.bind(_),e[s+1]=(y=_.error)==null?void 0:y.bind(_),e[s+2]=(w=_.complete)==null?void 0:w.bind(_)}let u,f,g;if(a instanceof Et)f=Cr(a.firestore,La),g=mh(a._key.path),u={next:_=>{e[s]&&e[s](d_(f,a,_))},error:e[s+1],complete:e[s+2]};else{const _=Cr(a,Us);f=Cr(_.firestore,La),g=_._query;const S=new Bg(f);u={next:V=>{e[s]&&e[s](new ki(f,S,_,V))},error:e[s+1],complete:e[s+2]},s_(a._query)}return(function(S,V,U,ne){const $=new Ig(ne),le=new Ag(V,$,U);return S.asyncQueue.enqueueAndForget((async()=>Tg(await th(S),le))),()=>{$.Nu(),S.asyncQueue.enqueueAndForget((async()=>jg(await th(S),le)))}})(Nh(f),g,o,u)}function Rh(a,e){return(function(s,o){const u=new Ra;return s.asyncQueue.enqueueAndForget((async()=>p3(await j3(s),o,u))),u.promise})(Nh(a),e)}function d_(a,e,r){const s=r.docs.get(e._key),o=new Bg(a);return new _i(a,o,e._key,s,new uc(r.hasPendingWrites,r.fromCache),e.converter)}function $l(){return new Og("serverTimestamp")}function dv(a){return new Mg("increment",a)}(function(e,r=!0){(function(o){Xl=o})(Kl),sa(new Tn("firestore",((s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),g=new La(new PS(s.getProvider("auth-internal")),new BS(f,s.getProvider("app-check-internal")),(function(y,w){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new fe(ae.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new jc(y.options.projectId,w)})(f,o),f);return u={useFetchStreams:r,...u},g._setSettings(u),g}),"PUBLIC").setMultipleInstances(!0)),on(h1,f1,e),on(h1,f1,"esm2020")})();const h_="@firebase/installations",Hg="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f_=1e4,m_=`w:${Hg}`,g_="FIS_v2",$3="https://firebaseinstallations.googleapis.com/v1",Q3=3600*1e3,K3="installations",Y3="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X3={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Oi=new Li(K3,Y3,X3);function p_(a){return a instanceof An&&a.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y_({projectId:a}){return`${$3}/projects/${a}/installations`}function x_(a){return{token:a.token,requestStatus:2,expiresIn:Z3(a.expiresIn),creationTime:Date.now()}}async function b_(a,e){const s=(await e.json()).error;return Oi.create("request-failed",{requestName:a,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function v_({apiKey:a}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":a})}function W3(a,{refreshToken:e}){const r=v_(a);return r.append("Authorization",J3(e)),r}async function w_(a){const e=await a();return e.status>=500&&e.status<600?a():e}function Z3(a){return Number(a.replace("s","000"))}function J3(a){return`${g_} ${a}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eC({appConfig:a,heartbeatServiceProvider:e},{fid:r}){const s=y_(a),o=v_(a),u=e.getImmediate({optional:!0});if(u){const y=await u.getHeartbeatsHeader();y&&o.append("x-firebase-client",y)}const f={fid:r,authVersion:g_,appId:a.appId,sdkVersion:m_},g={method:"POST",headers:o,body:JSON.stringify(f)},p=await w_(()=>fetch(s,g));if(p.ok){const y=await p.json();return{fid:y.fid||r,registrationStatus:2,refreshToken:y.refreshToken,authToken:x_(y.authToken)}}else throw await b_("Create Installation",p)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __(a){return new Promise(e=>{setTimeout(e,a)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tC(a){return btoa(String.fromCharCode(...a)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rC=/^[cdef][\w-]{21}$/,qm="";function nC(){try{const a=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(a),a[0]=112+a[0]%16;const r=aC(a);return rC.test(r)?r:qm}catch{return qm}}function aC(a){return tC(a).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ih(a){return`${a.appName}!${a.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k_=new Map;function N_(a,e){const r=Ih(a);E_(r,e),sC(r,e)}function E_(a,e){const r=k_.get(a);if(r)for(const s of r)s(e)}function sC(a,e){const r=iC();r&&r.postMessage({key:a,fid:e}),lC()}let wi=null;function iC(){return!wi&&"BroadcastChannel"in self&&(wi=new BroadcastChannel("[Firebase] FID Change"),wi.onmessage=a=>{E_(a.data.key,a.data.fid)}),wi}function lC(){k_.size===0&&wi&&(wi.close(),wi=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oC="firebase-installations-database",cC=1,Mi="firebase-installations-store";let X0=null;function Fg(){return X0||(X0=Kv(oC,cC,{upgrade:(a,e)=>{switch(e){case 0:a.createObjectStore(Mi)}}})),X0}async function nh(a,e){const r=Ih(a),o=(await Fg()).transaction(Mi,"readwrite"),u=o.objectStore(Mi),f=await u.get(r);return await u.put(e,r),await o.done,(!f||f.fid!==e.fid)&&N_(a,e.fid),e}async function T_(a){const e=Ih(a),s=(await Fg()).transaction(Mi,"readwrite");await s.objectStore(Mi).delete(e),await s.done}async function Dh(a,e){const r=Ih(a),o=(await Fg()).transaction(Mi,"readwrite"),u=o.objectStore(Mi),f=await u.get(r),g=e(f);return g===void 0?await u.delete(r):await u.put(g,r),await o.done,g&&(!f||f.fid!==g.fid)&&N_(a,g.fid),g}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gg(a){let e;const r=await Dh(a.appConfig,s=>{const o=uC(s),u=dC(a,o);return e=u.registrationPromise,u.installationEntry});return r.fid===qm?{installationEntry:await e}:{installationEntry:r,registrationPromise:e}}function uC(a){const e=a||{fid:nC(),registrationStatus:0};return j_(e)}function dC(a,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(Oi.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const r={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=hC(a,r);return{installationEntry:r,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:fC(a)}:{installationEntry:e}}async function hC(a,e){try{const r=await eC(a,e);return nh(a.appConfig,r)}catch(r){throw p_(r)&&r.customData.serverCode===409?await T_(a.appConfig):await nh(a.appConfig,{fid:e.fid,registrationStatus:0}),r}}async function fC(a){let e=await hv(a.appConfig);for(;e.registrationStatus===1;)await __(100),e=await hv(a.appConfig);if(e.registrationStatus===0){const{installationEntry:r,registrationPromise:s}=await Gg(a);return s||r}return e}function hv(a){return Dh(a,e=>{if(!e)throw Oi.create("installation-not-found");return j_(e)})}function j_(a){return mC(a)?{fid:a.fid,registrationStatus:0}:a}function mC(a){return a.registrationStatus===1&&a.registrationTime+f_<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gC({appConfig:a,heartbeatServiceProvider:e},r){const s=pC(a,r),o=W3(a,r),u=e.getImmediate({optional:!0});if(u){const y=await u.getHeartbeatsHeader();y&&o.append("x-firebase-client",y)}const f={installation:{sdkVersion:m_,appId:a.appId}},g={method:"POST",headers:o,body:JSON.stringify(f)},p=await w_(()=>fetch(s,g));if(p.ok){const y=await p.json();return x_(y)}else throw await b_("Generate Auth Token",p)}function pC(a,{fid:e}){return`${y_(a)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $g(a,e=!1){let r;const s=await Dh(a.appConfig,u=>{if(!S_(u))throw Oi.create("not-registered");const f=u.authToken;if(!e&&bC(f))return u;if(f.requestStatus===1)return r=yC(a,e),u;{if(!navigator.onLine)throw Oi.create("app-offline");const g=wC(u);return r=xC(a,g),g}});return r?await r:s.authToken}async function yC(a,e){let r=await fv(a.appConfig);for(;r.authToken.requestStatus===1;)await __(100),r=await fv(a.appConfig);const s=r.authToken;return s.requestStatus===0?$g(a,e):s}function fv(a){return Dh(a,e=>{if(!S_(e))throw Oi.create("not-registered");const r=e.authToken;return _C(r)?{...e,authToken:{requestStatus:0}}:e})}async function xC(a,e){try{const r=await gC(a,e),s={...e,authToken:r};return await nh(a.appConfig,s),r}catch(r){if(p_(r)&&(r.customData.serverCode===401||r.customData.serverCode===404))await T_(a.appConfig);else{const s={...e,authToken:{requestStatus:0}};await nh(a.appConfig,s)}throw r}}function S_(a){return a!==void 0&&a.registrationStatus===2}function bC(a){return a.requestStatus===2&&!vC(a)}function vC(a){const e=Date.now();return e<a.creationTime||a.creationTime+a.expiresIn<e+Q3}function wC(a){const e={requestStatus:1,requestTime:Date.now()};return{...a,authToken:e}}function _C(a){return a.requestStatus===1&&a.requestTime+f_<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kC(a){const e=a,{installationEntry:r,registrationPromise:s}=await Gg(e);return s?s.catch(console.error):$g(e).catch(console.error),r.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NC(a,e=!1){const r=a;return await EC(r),(await $g(r,e)).token}async function EC(a){const{registrationPromise:e}=await Gg(a);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TC(a){if(!a||!a.options)throw W0("App Configuration");if(!a.name)throw W0("App Name");const e=["projectId","apiKey","appId"];for(const r of e)if(!a.options[r])throw W0(r);return{appName:a.name,projectId:a.options.projectId,apiKey:a.options.apiKey,appId:a.options.appId}}function W0(a){return Oi.create("missing-app-config-values",{valueName:a})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A_="installations",jC="installations-internal",SC=a=>{const e=a.getProvider("app").getImmediate(),r=TC(e),s=Pi(e,"heartbeat");return{app:e,appConfig:r,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},AC=a=>{const e=a.getProvider("app").getImmediate(),r=Pi(e,A_).getImmediate();return{getId:()=>kC(r),getToken:o=>NC(r,o)}};function CC(){sa(new Tn(A_,SC,"PUBLIC")),sa(new Tn(jC,AC,"PRIVATE"))}CC();on(h_,Hg);on(h_,Hg,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ah="analytics",RC="firebase_id",IC="origin",DC=60*1e3,OC="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Qg="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const br=new ih("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MC={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Hr=new Li("analytics","Analytics",MC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VC(a){if(!a.startsWith(Qg)){const e=Hr.create("invalid-gtag-resource",{gtagURL:a});return br.warn(e.message),""}return a}function C_(a){return Promise.all(a.map(e=>e.catch(r=>r)))}function LC(a,e){let r;return window.trustedTypes&&(r=window.trustedTypes.createPolicy(a,e)),r}function PC(a,e){const r=LC("firebase-js-sdk-policy",{createScriptURL:VC}),s=document.createElement("script"),o=`${Qg}?l=${a}&id=${e}`;s.src=r?r==null?void 0:r.createScriptURL(o):o,s.async=!0,document.head.appendChild(s)}function zC(a){let e=[];return Array.isArray(window[a])?e=window[a]:window[a]=e,e}async function UC(a,e,r,s,o,u){const f=s[o];try{if(f)await e[f];else{const p=(await C_(r)).find(y=>y.measurementId===o);p&&await e[p.appId]}}catch(g){br.error(g)}a("config",o,u)}async function BC(a,e,r,s,o){try{let u=[];if(o&&o.send_to){let f=o.send_to;Array.isArray(f)||(f=[f]);const g=await C_(r);for(const p of f){const y=g.find(_=>_.measurementId===p),w=y&&e[y.appId];if(w)u.push(w);else{u=[];break}}}u.length===0&&(u=Object.values(e)),await Promise.all(u),a("event",s,o||{})}catch(u){br.error(u)}}function qC(a,e,r,s){async function o(u,...f){try{if(u==="event"){const[g,p]=f;await BC(a,e,r,g,p)}else if(u==="config"){const[g,p]=f;await UC(a,e,r,s,g,p)}else if(u==="consent"){const[g,p]=f;a("consent",g,p)}else if(u==="get"){const[g,p,y]=f;a("get",g,p,y)}else if(u==="set"){const[g]=f;a("set",g)}else a(u,...f)}catch(g){br.error(g)}}return o}function HC(a,e,r,s,o){let u=function(...f){window[s].push(arguments)};return window[o]&&typeof window[o]=="function"&&(u=window[o]),window[o]=qC(u,a,e,r),{gtagCore:u,wrappedGtag:window[o]}}function FC(a){const e=window.document.getElementsByTagName("script");for(const r of Object.values(e))if(r.src&&r.src.includes(Qg)&&r.src.includes(a))return r;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GC=30,$C=1e3;class QC{constructor(e={},r=$C){this.throttleMetadata=e,this.intervalMillis=r}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,r){this.throttleMetadata[e]=r}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const R_=new QC;function KC(a){return new Headers({Accept:"application/json","x-goog-api-key":a})}async function YC(a){var f;const{appId:e,apiKey:r}=a,s={method:"GET",headers:KC(r)},o=OC.replace("{app-id}",e),u=await fetch(o,s);if(u.status!==200&&u.status!==304){let g="";try{const p=await u.json();(f=p.error)!=null&&f.message&&(g=p.error.message)}catch{}throw Hr.create("config-fetch-failed",{httpStatus:u.status,responseMessage:g})}return u.json()}async function XC(a,e=R_,r){const{appId:s,apiKey:o,measurementId:u}=a.options;if(!s)throw Hr.create("no-app-id");if(!o){if(u)return{measurementId:u,appId:s};throw Hr.create("no-api-key")}const f=e.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},g=new JC;return setTimeout(async()=>{g.abort()},DC),I_({appId:s,apiKey:o,measurementId:u},f,g,e)}async function I_(a,{throttleEndTimeMillis:e,backoffCount:r},s,o=R_){var g;const{appId:u,measurementId:f}=a;try{await WC(s,e)}catch(p){if(f)return br.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${p==null?void 0:p.message}]`),{appId:u,measurementId:f};throw p}try{const p=await YC(a);return o.deleteThrottleMetadata(u),p}catch(p){const y=p;if(!ZC(y)){if(o.deleteThrottleMetadata(u),f)return br.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${y==null?void 0:y.message}]`),{appId:u,measurementId:f};throw p}const w=Number((g=y==null?void 0:y.customData)==null?void 0:g.httpStatus)===503?Lb(r,o.intervalMillis,GC):Lb(r,o.intervalMillis),_={throttleEndTimeMillis:Date.now()+w,backoffCount:r+1};return o.setThrottleMetadata(u,_),br.debug(`Calling attemptFetch again in ${w} millis`),I_(a,_,s,o)}}function WC(a,e){return new Promise((r,s)=>{const o=Math.max(e-Date.now(),0),u=setTimeout(r,o);a.addEventListener(()=>{clearTimeout(u),s(Hr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function ZC(a){if(!(a instanceof An)||!a.customData)return!1;const e=Number(a.customData.httpStatus);return e===429||e===500||e===503||e===504}class JC{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function eR(a,e,r,s,o){if(o&&o.global){a("event",r,s);return}else{const u=await e,f={...s,send_to:u};a("event",r,f)}}async function tR(a,e,r,s){if(s&&s.global){const o={};for(const u of Object.keys(r))o[`user_properties.${u}`]=r[u];return a("set",o),Promise.resolve()}else{const o=await e;a("config",o,{update:!0,user_properties:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rR(){if(Fv())try{await Gv()}catch(a){return br.warn(Hr.create("indexeddb-unavailable",{errorInfo:a==null?void 0:a.toString()}).message),!1}else return br.warn(Hr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function nR(a,e,r,s,o,u,f){const g=XC(a);g.then(S=>{r[S.measurementId]=S.appId,a.options.measurementId&&S.measurementId!==a.options.measurementId&&br.warn(`The measurement ID in the local Firebase config (${a.options.measurementId}) does not match the measurement ID fetched from the server (${S.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(S=>br.error(S)),e.push(g);const p=rR().then(S=>{if(S)return s.getId()}),[y,w]=await Promise.all([g,p]);FC(u)||PC(u,y.measurementId),o("js",new Date);const _=(f==null?void 0:f.config)??{};return _[IC]="firebase",_.update=!0,w!=null&&(_[RC]=w),o("config",y.measurementId,_),y.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{constructor(e){this.app=e}_delete(){return delete Pl[this.app.options.appId],Promise.resolve()}}let Pl={},mv=[];const gv={};let Z0="dataLayer",sR="gtag",pv,Kg,yv=!1;function iR(){const a=[];if(Hv()&&a.push("This is a browser extension environment."),W4()||a.push("Cookies are not available."),a.length>0){const e=a.map((s,o)=>`(${o+1}) ${s}`).join(" "),r=Hr.create("invalid-analytics-context",{errorInfo:e});br.warn(r.message)}}function lR(a,e,r){iR();const s=a.options.appId;if(!s)throw Hr.create("no-app-id");if(!a.options.apiKey)if(a.options.measurementId)br.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${a.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Hr.create("no-api-key");if(Pl[s]!=null)throw Hr.create("already-exists",{id:s});if(!yv){zC(Z0);const{wrappedGtag:u,gtagCore:f}=HC(Pl,mv,gv,Z0,sR);Kg=u,pv=f,yv=!0}return Pl[s]=nR(a,mv,gv,e,pv,Z0,r),new aR(a)}function oR(a=Ym()){a=Tt(a);const e=Pi(a,ah);return e.isInitialized()?e.getImmediate():cR(a)}function cR(a,e={}){const r=Pi(a,ah);if(r.isInitialized()){const o=r.getImmediate();if(js(e,r.getOptions()))return o;throw Hr.create("already-initialized")}return r.initialize({options:e})}function uR(a,e,r){a=Tt(a),tR(Kg,Pl[a.app.options.appId],e,r).catch(s=>br.error(s))}function dR(a,e,r,s){a=Tt(a),eR(Kg,Pl[a.app.options.appId],e,r,s).catch(o=>br.error(o))}const xv="@firebase/analytics",bv="0.10.19";function hR(){sa(new Tn(ah,(e,{options:r})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return lR(s,o,r)},"PUBLIC")),sa(new Tn("analytics-internal",a,"PRIVATE")),on(xv,bv),on(xv,bv,"esm2020");function a(e){try{const r=e.getProvider(ah).getImmediate();return{logEvent:(s,o,u)=>dR(r,s,o,u),setUserProperties:(s,o)=>uR(r,s,o)}}catch(r){throw Hr.create("interop-component-reg-failed",{reason:r})}}}hR();const fR={apiKey:"AIzaSyBFr--na-wJGHMdev7vUhPufAJHlyP3GNQ",authDomain:"school-9d3db.firebaseapp.com",projectId:"school-9d3db",storageBucket:"school-9d3db.firebasestorage.app",messagingSenderId:"429673694272",appId:"1:429673694272:web:43390c4fdfa5bce4744ba5",measurementId:"G-8YSDYV9VBN"},Yg=Yv(fR),yc=OS(Yg),Qt=R3(Yg);oR(Yg);const D_=Y.createContext(void 0),mR=({children:a})=>{const[e,r]=Y.useState(null),[s,o]=Y.useState(!0),u=(p,y)=>{const w=`teacher-${y.split("@")[0]}`;let _="https://img.freepik.com/free-vector/teacher-standing-near-blackboard_23-2147517173.jpg";p.includes("")?_="https://lh3.googleusercontent.com/d/1tbzVNKO3FGH46Pa6MZ58OWD4BXVKdK5P":p.includes("")&&(_="https://lh3.googleusercontent.com/d/1xPDpcaUPz3IH-pqv-Jgplroi6U27BVVj"),r({uid:w,email:y,displayName:p,role:"teacher",avatar:_,gender:"male"}),localStorage.setItem("isTeacher","true"),localStorage.setItem("teacherName",p),localStorage.setItem("teacherEmail",y)},f=async()=>{try{(e==null?void 0:e.role)==="teacher"?(localStorage.removeItem("isTeacher"),localStorage.removeItem("teacherName"),localStorage.removeItem("teacherEmail"),r(null)):await kj(yc)}catch(p){console.error("Logout error",p)}},g=async p=>{if(e)try{let y={...p};if(p.firstName!==void 0||p.lastName!==void 0){const w=p.firstName!==void 0?p.firstName:e.firstName||"",_=p.lastName!==void 0?p.lastName:e.lastName||"";y.displayName=`${w} ${_}`.trim()}if(r(w=>w?{...w,...y}:null),e.role!=="teacher"){const w=Os(Qt,"users",e.uid);await qg(w,y)}}catch(y){throw console.error("Error updating profile:",y),y}};return Y.useEffect(()=>{const p=localStorage.getItem("isTeacher")==="true";if(p){const w=localStorage.getItem("teacherName")||"",_=localStorage.getItem("teacherEmail")||"teacher@etqan.edu";u(w,_),o(!1);return}const y=_j(yc,async w=>{if(w)try{const _=Os(Qt,"users",w.uid),S=await H3(_);if(S.exists()){const V=S.data();r({uid:w.uid,email:w.email||"",displayName:V.displayName||`${V.firstName||""} ${V.lastName||""}`.trim()||"Student",firstName:V.firstName,lastName:V.lastName,age:V.age,role:V.role,grade:V.grade,phone:V.phone,address:V.address,school:V.school,gender:V.gender,avatar:V.avatar,profileBackground:V.profileBackground,genderChanged:V.genderChanged})}else r({uid:w.uid,email:w.email||"",displayName:"User",role:"student"})}catch(_){console.error("Error fetching user profile:",_)}else p||r(null);o(!1)});return()=>y()},[]),l.jsx(D_.Provider,{value:{user:e,loading:s,logout:f,setTeacherSession:u,updateUserProfile:g},children:!s&&a})},la=()=>{const a=Y.useContext(D_);if(a===void 0)throw new Error("useAuth must be used within an AuthProvider");return a},gR=({onLoginClick:a,onNavigate:e,onLogoutClick:r})=>{const[s,o]=Y.useState(!1),[u,f]=Y.useState(!1),{user:g}=la();Y.useEffect(()=>{const y=()=>{window.scrollY>10?f(!0):f(!1)};return window.addEventListener("scroll",y),()=>window.removeEventListener("scroll",y)},[]);const p=y=>{e(y),o(!1),window.scrollTo({top:0,behavior:"smooth"})};return l.jsxs("nav",{className:`w-full z-50 sticky top-0 transition-all duration-500 ${u?"bg-emerald-900/95 backdrop-blur-md shadow-lg":"bg-emerald-800 shadow-md"}`,children:[l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"flex justify-between items-center h-20 md:h-24",children:[l.jsxs("div",{className:"flex items-center gap-3 cursor-pointer group",onClick:()=>p("HOME"),children:[l.jsx("div",{className:"p-1 bg-white/10 rounded-full group-hover:bg-white/20 transition-colors",children:l.jsx("img",{src:"https://lh3.googleusercontent.com/d/13x8Gorb7y4H2qcQ1LVJtHY9-RoUhxg2z",alt:"  ",className:"w-12 h-12 md:w-14 md:h-14 rounded-full object-cover border-2 border-white/30 shadow-sm"})}),l.jsx("span",{className:"text-2xl md:text-3xl font-black text-white tracking-tight drop-shadow-sm",children:""})]}),l.jsx("div",{className:"hidden md:flex items-center justify-center flex-1 px-4 lg:px-8",children:l.jsxs("div",{className:"flex items-center gap-1 bg-black/10 px-2 py-1.5 rounded-full border border-white/10 backdrop-blur-sm shadow-inner",children:[l.jsxs("button",{onClick:()=>p("HOME"),className:"px-4 py-1.5 text-white font-bold rounded-full hover:bg-white/20 transition-all flex items-center gap-2 text-sm",children:[l.jsx(Md,{className:"w-4 h-4"}),""]}),l.jsxs("button",{onClick:()=>p("QUIZZES"),className:"px-4 py-1.5 text-white font-bold rounded-full hover:bg-white/20 transition-all flex items-center gap-2 text-sm",children:[l.jsx(vr,{className:"w-4 h-4"}),""]}),l.jsxs("button",{onClick:()=>p("LESSONS_EXPLANATIONS"),className:"px-4 py-1.5 text-white font-bold rounded-full hover:bg-white/20 transition-all flex items-center gap-2 text-sm",children:[l.jsx(wc,{className:"w-4 h-4"}),""]}),l.jsxs("button",{onClick:()=>p("CONTACT_TEACHER"),className:"px-4 py-1.5 text-white font-bold rounded-full hover:bg-white/20 transition-all flex items-center gap-2 text-sm",children:[l.jsx(vc,{className:"w-4 h-4"}),""]})]})}),l.jsx("div",{className:"hidden md:flex items-center gap-3",children:g?l.jsxs(l.Fragment,{children:[l.jsxs("button",{onClick:()=>p("PROFILE"),className:"flex items-center gap-2 text-white hover:bg-white/15 px-3 py-1.5 rounded-full transition-all font-bold",title:" ",children:[l.jsx("div",{className:"w-8 h-8 rounded-full overflow-hidden bg-white/20 flex items-center justify-center border border-white/30",children:g.avatar?l.jsx("img",{src:g.avatar,alt:"Avatar",className:"w-full h-full object-cover"}):l.jsx(ln,{className:"w-4 h-4"})}),l.jsx("span",{className:"text-sm font-bold max-w-[100px] truncate",children:g.displayName.split(" ")[0]})]}),g.role==="teacher"&&l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:()=>p("QUESTION_BANK"),className:"bg-white/10 text-white w-10 h-10 rounded-full flex items-center justify-center hover:bg-white/20 transition-all border border-white/20",title:" ",children:l.jsx(ji,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>p("TEACHER_DASHBOARD"),className:"bg-blue-500 text-white w-10 h-10 rounded-full flex items-center justify-center hover:bg-blue-600 transition-all shadow-lg border border-blue-400/50",title:" ",children:l.jsx(bc,{className:"w-5 h-5"})})]}),l.jsx("button",{onClick:r,className:"bg-red-500/80 text-white w-10 h-10 rounded-full flex items-center justify-center hover:bg-red-600 transition-all border border-red-400/30",title:"",children:l.jsx(Vd,{className:"w-4 h-4"})})]}):l.jsxs("button",{onClick:a,className:"bg-gradient-to-r from-orange-500 to-red-600 text-white px-5 py-2 rounded-full font-bold hover:shadow-[0_0_15px_rgba(249,115,22,0.5)] transition-all shadow-md flex items-center gap-2 transform hover:scale-105 border border-orange-400/20 text-sm",children:[l.jsx(dm,{className:"w-4 h-4"})," "]})}),l.jsx("div",{className:"md:hidden flex items-center gap-2",children:l.jsx("button",{onClick:()=>o(!s),className:"text-white hover:text-emerald-100 p-2 transition-colors",children:s?l.jsx(Ia,{className:"w-7 h-7"}):l.jsx(LE,{className:"w-7 h-7"})})})]})}),s&&l.jsx("div",{className:"md:hidden bg-gray-900 border-t border-gray-800 shadow-xl absolute w-full z-50 animate-fade-in h-screen overflow-y-auto pb-20",children:l.jsxs("div",{className:"px-4 pt-2 pb-6 space-y-2",children:[g&&l.jsxs("div",{className:"flex items-center gap-3 mb-6 p-4 bg-gray-800 rounded-2xl border border-gray-700 mt-4",children:[l.jsx("div",{className:"w-12 h-12 bg-emerald-900 rounded-full flex items-center justify-center text-emerald-200 font-bold text-lg overflow-hidden border border-emerald-700",children:g.avatar?l.jsx("img",{src:g.avatar,alt:"Avatar",className:"w-full h-full object-cover"}):g.displayName.charAt(0)}),l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{className:"font-bold text-white text-lg",children:g.displayName}),l.jsx("span",{className:"text-sm text-gray-400",children:g.email})]})]}),l.jsxs("button",{onClick:()=>p("HOME"),className:"block w-full text-right px-4 py-3 font-bold text-gray-200 hover:bg-gray-800 rounded-xl transition-colors flex items-center gap-3",children:[l.jsx(Md,{className:"w-5 h-5 text-emerald-400"})," "]}),l.jsxs("button",{onClick:()=>p("QUIZZES"),className:"block w-full text-right px-4 py-3 font-bold text-gray-200 hover:bg-gray-800 rounded-xl transition-colors flex items-center gap-3",children:[l.jsx(vr,{className:"w-5 h-5 text-emerald-400"}),"  "]}),l.jsxs("button",{onClick:()=>p("LESSONS_EXPLANATIONS"),className:"block w-full text-right px-4 py-3 font-bold text-gray-200 hover:bg-gray-800 rounded-xl transition-colors flex items-center gap-3",children:[l.jsx(wc,{className:"w-5 h-5 text-emerald-400"}),"  "]}),l.jsxs("button",{onClick:()=>p("CONTACT_TEACHER"),className:"block w-full text-right px-4 py-3 font-bold text-gray-200 hover:bg-gray-800 rounded-xl transition-colors flex items-center gap-3",children:[l.jsx(vc,{className:"w-5 h-5 text-emerald-400"}),"   "]}),l.jsxs("button",{onClick:()=>p("ABOUT_PLATFORM"),className:"block w-full text-right px-4 py-3 font-bold text-gray-200 hover:bg-gray-800 rounded-xl transition-colors flex items-center gap-3",children:[l.jsx(vE,{className:"w-5 h-5 text-emerald-400"}),"  "]}),l.jsxs("button",{onClick:()=>p("SERVICES"),className:"block w-full text-right px-4 py-3 font-bold text-gray-200 hover:bg-gray-800 rounded-xl transition-colors flex items-center gap-3",children:[l.jsx(Nv,{className:"w-5 h-5 text-emerald-400"})," "]}),g&&l.jsxs("button",{onClick:()=>p("PROFILE"),className:"block w-full text-right px-4 py-3 font-bold text-gray-200 hover:bg-gray-800 rounded-xl transition-colors flex items-center gap-3",children:[l.jsx(ZN,{className:"w-5 h-5 text-emerald-400"}),"  "]}),l.jsx("div",{className:"border-t border-gray-700 my-2 pt-2"}),g?l.jsxs("div",{className:"space-y-3 mt-2",children:[g.role==="teacher"&&l.jsxs(l.Fragment,{children:[l.jsxs("button",{onClick:()=>p("TEACHER_DASHBOARD"),className:"w-full bg-blue-600 text-white py-3 rounded-xl font-bold shadow-md flex items-center justify-center gap-2",children:[l.jsx(bc,{className:"w-5 h-5"}),"  "]}),l.jsxs("button",{onClick:()=>p("QUESTION_BANK"),className:"w-full bg-gray-700 text-white py-3 rounded-xl font-bold flex items-center justify-center gap-2",children:[l.jsx(ji,{className:"w-5 h-5"})," "]})]}),l.jsxs("button",{onClick:()=>{o(!1),r()},className:"w-full bg-red-900/20 text-red-400 border border-red-900/30 py-3 rounded-xl font-bold flex items-center justify-center gap-2",children:[l.jsx(Vd,{className:"w-5 h-5"})," "]})]}):l.jsxs("button",{onClick:()=>{o(!1),a()},className:"w-full mt-2 bg-gradient-to-r from-orange-500 to-red-600 text-white py-3 rounded-xl font-black text-lg shadow-lg flex items-center justify-center gap-2",children:[l.jsx(dm,{className:"w-6 h-6"})," "]})]})})]})},pR=()=>{const a=Y.useRef(null);return Y.useEffect(()=>{const e=a.current;if(!e)return;const r=e.getContext("2d");if(!r)return;let s,o=window.innerWidth,u=window.innerHeight;const f=o<768?35:70,g=o<768?100:150,p=200;e.width=o,e.height=u;const y=[];for(let X=0;X<f;X++)y.push({x:Math.random()*o,y:Math.random()*u,vx:(Math.random()-.5)*.5,vy:(Math.random()-.5)*.5,size:Math.random()*2+1});let w=null,_=null,S=!1;const V=()=>{o=window.innerWidth,u=window.innerHeight,e.width=o,e.height=u},U=X=>{"touches"in X?(w=X.touches[0].clientX,_=X.touches[0].clientY):(w=X.clientX,_=X.clientY)},ne=()=>{S=!0},$=()=>{S=!1},le=()=>{w=null,_=null,S=!1};window.addEventListener("resize",V),window.addEventListener("mousemove",U),window.addEventListener("touchmove",U),window.addEventListener("mousedown",ne),window.addEventListener("touchstart",ne),window.addEventListener("mouseup",$),window.addEventListener("touchend",$),window.addEventListener("mouseleave",le);const ee=()=>{r.clearRect(0,0,o,u);const X=document.documentElement.classList.contains("dark"),xe=X?"rgba(255, 255, 255, 0.5)":"rgba(0, 0, 0, 0.5)",oe=X?"255, 255, 255":"0, 0, 0";for(let F=0;F<y.length;F++){const T=y[F];if(w!==null&&_!==null){const N=T.x-w,j=T.y-_,R=Math.sqrt(N*N+j*j);if(R<p){const I=N/R,M=j/R,A=(p-R)/p,_e=S?15:2,ze=1;T.vx+=I*A*_e*ze*.05,T.vy+=M*A*_e*ze*.05}}T.x+=T.vx,T.y+=T.vy,(T.x<0||T.x>o)&&(T.vx*=-1),(T.y<0||T.y>u)&&(T.vy*=-1),r.beginPath(),r.arc(T.x,T.y,T.size,0,Math.PI*2),r.fillStyle=xe,r.fill();for(let N=F;N<y.length;N++){const j=y[N],R=T.x-j.x,I=T.y-j.y,M=Math.sqrt(R*R+I*I);if(M<g){r.beginPath();const A=1-M/g;r.strokeStyle=`rgba(${oe}, ${A*.2})`,r.lineWidth=1,r.moveTo(T.x,T.y),r.lineTo(j.x,j.y),r.stroke()}}}s=requestAnimationFrame(ee)};return ee(),()=>{window.removeEventListener("resize",V),window.removeEventListener("mousemove",U),window.removeEventListener("touchmove",U),window.removeEventListener("mousedown",ne),window.removeEventListener("touchstart",ne),window.removeEventListener("mouseup",$),window.removeEventListener("touchend",$),window.removeEventListener("mouseleave",le),cancelAnimationFrame(s)}},[]),l.jsx("canvas",{ref:a,className:"fixed inset-0 pointer-events-none z-0",style:{opacity:.6}})},yR=({onStartQuiz:a,onLoginClick:e,onNavigate:r})=>{const{user:s}=la(),[o,u]=Y.useState(!1),f=()=>{u(!0),setTimeout(()=>u(!1),3e3)},g=()=>{s?r("QUIZZES"):f()},p=()=>{s?r("LESSONS"):f()},y=()=>{r("LESSONS_EXPLANATIONS")},w=()=>{r("CONTACT_TEACHER")};return l.jsxs("section",{className:"relative w-full min-h-[calc(100vh-80px)] flex items-center justify-center bg-white dark:bg-gray-900 overflow-hidden animate-fade-in transition-colors duration-300",children:[l.jsx(pR,{}),l.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-96 h-96 bg-emerald-400/20 dark:bg-emerald-600/20 rounded-full blur-3xl opacity-50 animate-pulse pointer-events-none"}),l.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-96 h-96 bg-blue-400/20 dark:bg-blue-600/20 rounded-full blur-3xl opacity-50 animate-pulse delay-1000 pointer-events-none"}),o&&l.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center pointer-events-none px-4",children:l.jsxs("div",{className:"bg-red-50 dark:bg-red-900/90 border border-red-200 dark:border-red-800 shadow-xl rounded-xl p-4 flex items-center gap-3 relative w-full max-w-md animate-fade-in-up pointer-events-auto",children:[l.jsx("div",{className:"bg-red-100 dark:bg-red-800 p-2 rounded-full shrink-0",children:l.jsx(Dd,{className:"w-6 h-6 text-red-600 dark:text-red-200"})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h4",{className:"font-bold text-gray-900 dark:text-white text-sm",children:"  "}),l.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-xs mt-1",children:"        ."})]}),l.jsx("button",{onClick:()=>u(!1),className:"absolute top-2 left-2 text-gray-400 dark:text-gray-300 hover:text-gray-600 dark:hover:text-white",children:l.jsx(Ia,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>{u(!1),e()},className:"mr-auto bg-red-600 text-white text-xs font-bold px-3 py-1.5 rounded-lg hover:bg-red-700 transition-colors shrink-0",children:""})]})}),l.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12 lg:py-0 w-full relative z-10 flex flex-col items-center text-center",children:[l.jsx("div",{className:"flex justify-center mb-6",children:l.jsxs("div",{className:"inline-flex items-center gap-2 bg-emerald-50/80 dark:bg-emerald-900/40 border border-emerald-100 dark:border-emerald-800 px-4 py-2 rounded-full shadow-sm backdrop-blur-sm",children:[l.jsx($m,{className:"w-5 h-5 text-yellow-500 fill-yellow-500"}),l.jsx("span",{className:"text-emerald-800 dark:text-emerald-300 font-bold text-sm",children:"   "})]})}),l.jsxs("h1",{className:"text-4xl md:text-6xl lg:text-7xl font-black text-gray-900 dark:text-white leading-[1.2] lg:leading-[1.15] mb-6 transition-colors drop-shadow-sm",children:["  ",l.jsx("br",{}),l.jsxs("span",{className:"text-emerald-600 dark:text-emerald-400 inline-block relative",children:[" ",l.jsx("svg",{className:"absolute w-full h-3 -bottom-1 right-0 text-emerald-200 dark:text-emerald-900 -z-10",viewBox:"0 0 100 10",preserveAspectRatio:"none",children:l.jsx("path",{d:"M0 5 Q 50 10 100 5",stroke:"currentColor",strokeWidth:"8",fill:"none"})})]}),l.jsx("br",{}),"  "]}),l.jsxs("p",{className:"text-lg md:text-xl text-gray-600 dark:text-gray-300 leading-relaxed max-w-2xl mx-auto mb-10 transition-colors bg-white/50 dark:bg-gray-900/50 p-2 rounded-xl backdrop-blur-[2px]",children:["          ",l.jsx("span",{className:"text-emerald-600 dark:text-emerald-400 font-black text-2xl px-1 relative inline-block",children:"   "}),"."]}),l.jsxs("div",{className:"flex flex-col w-full max-w-md gap-3 justify-center",children:[l.jsxs("button",{onClick:g,className:"w-full bg-gradient-to-r from-emerald-500 to-green-600 hover:from-emerald-600 hover:to-green-700 text-white text-base font-bold py-3 px-5 rounded-xl shadow-lg hover:shadow-emerald-200/50 dark:hover:shadow-emerald-900/50 transition-all flex items-center justify-between group transform hover:-translate-y-1 border border-emerald-400/20",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"bg-white/20 p-1.5 rounded-lg",children:l.jsx(vr,{className:"w-5 h-5 text-white"})}),l.jsx("span",{children:" "})]}),l.jsx(Zn,{className:"w-5 h-5 opacity-70 group-hover:opacity-100 group-hover:-translate-x-1 transition-all"})]}),l.jsxs("button",{onClick:y,className:"w-full bg-gradient-to-r from-violet-600 to-purple-600 hover:from-violet-700 hover:to-purple-700 text-white text-base font-bold py-3 px-5 rounded-xl shadow-lg hover:shadow-purple-200/50 dark:hover:shadow-purple-900/50 transition-all flex items-center justify-between group transform hover:-translate-y-1 border border-purple-400/20",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"bg-white/20 p-1.5 rounded-lg",children:l.jsx(wc,{className:"w-5 h-5 text-white"})}),l.jsx("span",{children:" "})]}),l.jsx(Zn,{className:"w-5 h-5 opacity-70 group-hover:opacity-100 group-hover:-translate-x-1 transition-all"})]}),l.jsxs("button",{onClick:p,className:"w-full bg-gradient-to-r from-blue-500 to-cyan-600 hover:from-blue-600 hover:to-cyan-700 text-white text-base font-bold py-3 px-5 rounded-xl shadow-lg hover:shadow-blue-200/50 dark:hover:shadow-blue-900/50 transition-all flex items-center justify-between group transform hover:-translate-y-1 border border-blue-400/20",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"bg-white/20 p-1.5 rounded-lg",children:l.jsx(zl,{className:"w-5 h-5 text-white"})}),l.jsx("span",{children:" "})]}),l.jsx(Zn,{className:"w-5 h-5 opacity-70 group-hover:opacity-100 group-hover:-translate-x-1 transition-all"})]}),l.jsxs("button",{onClick:w,className:"w-full bg-gradient-to-r from-teal-500 to-emerald-600 hover:from-teal-600 hover:to-emerald-700 text-white text-base font-bold py-3 px-5 rounded-xl shadow-lg hover:shadow-teal-200/50 dark:hover:shadow-teal-900/50 transition-all flex items-center justify-between group transform hover:-translate-y-1 border border-teal-400/20",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"bg-white/20 p-1.5 rounded-lg",children:l.jsx(vc,{className:"w-5 h-5 text-white"})}),l.jsx("span",{children:"  "})]}),l.jsx(Zn,{className:"w-5 h-5 opacity-70 group-hover:opacity-100 group-hover:-translate-x-1 transition-all"})]}),l.jsx("div",{className:"w-full mt-2",children:s?l.jsxs("button",{onClick:()=>r("PROFILE"),className:"w-full bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm border-2 border-emerald-100 dark:border-emerald-900 text-emerald-700 dark:text-emerald-400 hover:bg-emerald-50 dark:hover:bg-emerald-900/20 text-base font-bold py-3 px-5 rounded-xl transition-all flex items-center justify-center gap-3 shadow-sm hover:shadow-md",children:[l.jsx(ln,{className:"w-5 h-5"})," "]}):l.jsxs("button",{onClick:e,className:"w-full bg-gradient-to-r from-orange-500 to-red-600 hover:from-orange-600 hover:to-red-700 text-white text-base font-bold py-3 px-5 rounded-xl shadow-lg hover:shadow-orange-500/40 transition-all flex items-center justify-between group transform hover:-translate-y-1 border border-orange-400/20",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"bg-white/20 p-1.5 rounded-lg",children:l.jsx(dm,{className:"w-5 h-5 text-white"})}),l.jsx("span",{children:"  "})]}),l.jsx(Zn,{className:"w-5 h-5 opacity-70 group-hover:opacity-100 group-hover:-translate-x-1 transition-all"})]})})]})]})]})},J0=({className:a})=>l.jsx("svg",{viewBox:"0 0 24 24",className:a,fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.008-.57-.008-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"})}),em=({className:a})=>l.jsx("svg",{viewBox:"0 0 24 24",className:a,fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.694 0zM4.98 14.41c6.009-2.607 10.015-4.335 12.019-5.168 2.656-.867 3.084-.386 2.84 1.712-.366 3.157-1.408 8.873-1.93 10.364-.22.628-.648.676-1.308.244-1.68-1.044-3.896-2.532-4.812-3.132-.956-.628-1.144-1.24-.208-2.212 2.168-2.248 4.068-4.064 3.724-4.376-.428-.388-2.648.82-7.008 3.776-.784.532-1.496.524-2.192.316-1.04-.312-2.052-.648-2.828-.904-1.056-.348-1.06-1.056.172-1.576z"})}),xR=({className:a})=>l.jsx("svg",{viewBox:"0 0 24 24",className:a,fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M12 2C6.48 2 2 6.03 2 11c0 2.87 1.56 5.47 4 7.1V22l3.57-1.96c.78.22 1.6.34 2.43.34 5.52 0 10-4.03 10-9s-4.48-9-10-9zm1.06 12.07l-2.6-2.78-5.07 2.78 5.58-5.93 2.62 2.78 5.05-2.78-5.58 5.93z"})}),vv=[{id:1,name:" ",text:"       .",platform:"whatsapp",time:"10:30 "},{id:2,name:" ",text:"       .",platform:"messenger",time:"11:15 "},{id:3,name:" ",text:"        .",platform:"telegram",time:"09:45 "},{id:4,name:" ",text:"      .",platform:"whatsapp",time:"02:20 "},{id:5,name:"  ",text:"        .",platform:"messenger",time:"04:10 "},{id:6,name:" ",text:"       .",platform:"telegram",time:"08:00 "},{id:7,name:" ",text:"        .",platform:"whatsapp",time:"01:30 "},{id:8,name:" ",text:"       .",platform:"messenger",time:"06:45 "},{id:9,name:" ",text:"       .",platform:"telegram",time:"03:15 "},{id:10,name:" ",text:"       .",platform:"whatsapp",time:"12:00 "},{id:11,name:" ",text:"        .",platform:"messenger",time:"07:30 "},{id:12,name:" ",text:"      .",platform:"telegram",time:"10:10 "},{id:13,name:" ",text:"         .",platform:"whatsapp",time:"05:50 "},{id:14,name:" ",text:"        .",platform:"messenger",time:"09:20 "},{id:15,name:" ",text:"        .",platform:"telegram",time:"08:45 "}],bR=({onNavigate:a})=>{const[e,r]=Y.useState([0,1,2]),[s,o]=Y.useState(!0);Y.useEffect(()=>{const g=setInterval(()=>{o(!1),setTimeout(()=>{const p=[];for(;p.length<3;){const y=Math.floor(Math.random()*vv.length);p.includes(y)||p.push(y)}r(p),o(!0)},500)},5e3);return()=>clearInterval(g)},[]);const u=g=>{switch(g){case"whatsapp":return l.jsx(J0,{className:"w-5 h-5 text-white"});case"messenger":return l.jsx(xR,{className:"w-5 h-5 text-white"});case"telegram":return l.jsx(em,{className:"w-5 h-5 text-white"});default:return null}},f=g=>{switch(g){case"whatsapp":return"bg-green-500";case"messenger":return"bg-blue-600";case"telegram":return"bg-sky-500";default:return"bg-gray-500"}};return l.jsx("section",{className:"py-20 bg-white dark:bg-gray-900 relative overflow-hidden transition-colors duration-300",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:[l.jsxs("div",{className:"text-center mb-16",children:[l.jsx("h2",{className:"text-4xl font-black text-gray-900 dark:text-white mb-4",children:" "}),l.jsx("div",{className:"w-24 h-1.5 bg-emerald-500 mx-auto rounded-full"}),l.jsx("p",{className:"mt-6 text-xl text-gray-600 dark:text-gray-300 max-w-3xl mx-auto leading-relaxed",children:"                          ."})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-12",children:[l.jsxs("div",{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm p-8 rounded-3xl border border-slate-100 dark:border-gray-700 hover:border-emerald-200 dark:hover:border-emerald-600 transition-all group flex flex-col h-full shadow-lg hover:shadow-xl",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-8 mb-6",children:[l.jsx("div",{className:"w-64 h-64 rounded-3xl shadow-xl overflow-hidden shrink-0 border-4 border-white dark:border-gray-700 group-hover:scale-105 transition-transform",children:l.jsx("img",{src:"https://lh3.googleusercontent.com/d/1tbzVNKO3FGH46Pa6MZ58OWD4BXVKdK5P",alt:".   ",className:"w-full h-full object-cover"})}),l.jsxs("div",{className:"text-center sm:text-right flex-1",children:[l.jsx("h3",{className:"text-3xl font-black text-gray-900 dark:text-white mb-3",children:".   "}),l.jsx("p",{className:"text-emerald-600 dark:text-emerald-400 font-bold text-xl mb-4",children:"  "}),l.jsxs("div",{className:"flex items-center justify-center sm:justify-start gap-2 text-gray-600 dark:text-gray-300 font-medium bg-white dark:bg-gray-700 px-4 py-2 rounded-full inline-flex shadow-sm border border-gray-100 dark:border-gray-600",children:[l.jsx(hm,{className:"w-5 h-5 text-emerald-500"}),"   - "]})]})]}),l.jsxs("div",{className:"mt-auto pt-6 border-t border-slate-200 dark:border-gray-700",children:[l.jsx("p",{className:"text-sm font-bold text-gray-700 dark:text-gray-300 mb-4 text-center sm:text-right",children:" "}),l.jsxs("div",{className:"flex gap-4 justify-center sm:justify-start",children:[l.jsx("a",{href:"#",className:"w-14 h-14 rounded-full bg-[#1877F2] text-white flex items-center justify-center shadow-lg hover:scale-110 transition-transform border-2 border-white dark:border-gray-700",children:l.jsx(cm,{className:"w-7 h-7"})}),l.jsx("a",{href:"https://wa.me/972568401548",target:"_blank",rel:"noopener noreferrer",className:"w-14 h-14 rounded-full bg-[#25D366] text-white flex items-center justify-center shadow-lg hover:scale-110 transition-transform border-2 border-white dark:border-gray-700",children:l.jsx(J0,{className:"w-7 h-7"})}),l.jsx("a",{href:"https://t.me/yazan1342",target:"_blank",rel:"noopener noreferrer",className:"w-14 h-14 rounded-full bg-[#0088cc] text-white flex items-center justify-center shadow-lg hover:scale-110 transition-transform border-2 border-white dark:border-gray-700",children:l.jsx(em,{className:"w-7 h-7"})})]})]})]}),l.jsxs("div",{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm p-8 rounded-3xl border border-slate-100 dark:border-gray-700 hover:border-emerald-200 dark:hover:border-emerald-600 transition-all group flex flex-col h-full shadow-lg hover:shadow-xl",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-8 mb-6",children:[l.jsx("div",{className:"w-64 h-64 rounded-3xl shadow-xl overflow-hidden shrink-0 border-4 border-white dark:border-gray-700 group-hover:scale-105 transition-transform",children:l.jsx("img",{src:"https://lh3.googleusercontent.com/d/1xPDpcaUPz3IH-pqv-Jgplroi6U27BVVj",alt:".   ",className:"w-full h-full object-cover"})}),l.jsxs("div",{className:"text-center sm:text-right flex-1",children:[l.jsx("h3",{className:"text-3xl font-black text-gray-900 dark:text-white mb-3",children:".   "}),l.jsx("p",{className:"text-blue-700 dark:text-blue-400 font-bold text-xl mb-4",children:"  "}),l.jsxs("div",{className:"flex items-center justify-center sm:justify-start gap-2 text-gray-500 dark:text-gray-300 font-medium bg-white dark:bg-gray-700 px-4 py-2 rounded-full inline-flex shadow-sm border border-gray-100 dark:border-gray-600",children:[l.jsx(hm,{className:"w-5 h-5 text-blue-500"}),"   - "]})]})]}),l.jsxs("div",{className:"mt-auto pt-6 border-t border-slate-200 dark:border-gray-700",children:[l.jsx("p",{className:"text-sm font-bold text-gray-700 dark:text-gray-300 mb-4 text-center sm:text-right",children:" "}),l.jsxs("div",{className:"flex gap-4 justify-center sm:justify-start",children:[l.jsx("a",{href:"#",className:"w-14 h-14 rounded-full bg-[#1877F2] text-white flex items-center justify-center shadow-lg hover:scale-110 transition-transform border-2 border-white dark:border-gray-700",children:l.jsx(cm,{className:"w-7 h-7"})}),l.jsx("a",{href:"#",className:"w-14 h-14 rounded-full bg-[#25D366] text-white flex items-center justify-center shadow-lg hover:scale-110 transition-transform border-2 border-white dark:border-gray-700",children:l.jsx(J0,{className:"w-7 h-7"})}),l.jsx("a",{href:"#",className:"w-14 h-14 rounded-full bg-[#0088cc] text-white flex items-center justify-center shadow-lg hover:scale-110 transition-transform border-2 border-white dark:border-gray-700",children:l.jsx(em,{className:"w-7 h-7"})})]})]})]})]}),l.jsx("div",{className:"text-center mb-12",children:l.jsxs("button",{onClick:()=>a("TEACHER_CV"),className:"inline-flex items-center gap-3 bg-emerald-600 text-white text-xl font-bold px-10 py-5 rounded-full shadow-lg hover:bg-emerald-700 hover:shadow-emerald-200 dark:hover:shadow-emerald-900/50 transition-all transform hover:-translate-y-1",children:[l.jsx(Ni,{className:"w-6 h-6"}),"  ",l.jsx(Rd,{className:"w-6 h-6"})]})}),l.jsxs("div",{className:"mb-0 pt-10 border-t border-gray-100 dark:border-gray-700",children:[l.jsxs("div",{className:"text-center mb-10",children:[l.jsx("h2",{className:"text-3xl font-black text-gray-900 dark:text-white mb-4",children:"  "}),l.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"       "})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:e.map((g,p)=>{const y=vv[g];return l.jsx("div",{className:`transform transition-all duration-500 ${s?"opacity-100 translate-y-0":"opacity-0 translate-y-4"}`,children:l.jsxs("div",{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm rounded-2xl p-6 shadow-sm border border-gray-100 dark:border-gray-700 relative h-full flex flex-col hover:shadow-md transition-shadow",children:[l.jsx("div",{className:"absolute -bottom-2 right-8 w-4 h-4 bg-white dark:bg-gray-800 border-b border-r border-gray-100 dark:border-gray-700 transform rotate-45"}),l.jsxs("div",{className:"flex justify-between items-start mb-4",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-12 h-12 rounded-full bg-emerald-100 dark:bg-emerald-900 flex items-center justify-center text-emerald-700 dark:text-emerald-300 font-bold text-lg",children:y.name.charAt(0)}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-bold text-gray-900 dark:text-white",children:y.name}),l.jsx("span",{className:"text-xs text-gray-400 font-medium",children:y.time})]})]}),l.jsx("div",{className:`w-8 h-8 rounded-full ${f(y.platform)} flex items-center justify-center shadow-sm`,children:u(y.platform)})]}),l.jsxs("p",{className:"text-gray-700 dark:text-gray-300 text-base leading-relaxed font-medium",children:['"',y.text,'"']})]})},`${y.id}-${p}`)})})]})]})})},vR=({isOpen:a,onClose:e})=>{const[r,s]=Y.useState("ROLE_SELECTION"),[o,u]=Y.useState(!1),[f,g]=Y.useState(null),[p,y]=Y.useState(null),{setTeacherSession:w}=la(),[_,S]=Y.useState(""),[V,U]=Y.useState(""),[ne,$]=Y.useState(""),[le,ee]=Y.useState(""),[X,xe]=Y.useState(""),[oe,F]=Y.useState(""),[T,N]=Y.useState(""),[j,R]=Y.useState(""),[I,M]=Y.useState(""),[A,_e]=Y.useState("male"),[ze,W]=Y.useState("");if(!a)return null;const ce=()=>{s("ROLE_SELECTION"),g(null),y(null),S(""),U(""),$(""),ee(""),xe(""),F(""),N(""),R(""),M(""),_e("male"),W(""),u(!1)},ye=()=>{ce(),e()},Me=ve=>{ve.preventDefault(),g(null),u(!0),setTimeout(()=>{_==="2001"?(w(".   ","yazan@etqan.edu"),y("   !"),setTimeout(()=>ye(),1500)):_==="2003"?(w(".   ","majd@etqan.edu"),y("    !"),setTimeout(()=>ye(),1500)):(g("   "),u(!1))},800)},Ie=async ve=>{ve.preventDefault(),g(null),u(!0);try{await bj(yc,V.trim(),ne),y("   !"),setTimeout(()=>ye(),1500)}catch(gt){console.error(gt),g("      "),u(!1)}},D=async ve=>{ve.preventDefault(),g(null),u(!0);try{const Fr=(await xj(yc,j.trim(),I)).user;await u_(Os(Qt,"users",Fr.uid),{firstName:le,lastName:X,age:oe,grade:T,gender:A,avatar:"",profileBackground:"https://lh3.googleusercontent.com/d/16IHotAb2_MEMsfpUxEIx8CBx94kLVYCs",email:j.trim(),role:"student",totalXP:0,quizzesCompleted:0,createdAt:new Date}),y("   !"),setTimeout(()=>ye(),1500)}catch(gt){console.error(gt),gt.code==="auth/email-already-in-use"?g("   "):gt.code==="auth/weak-password"?g("   "):g("    .    ."),u(!1)}},te=async ve=>{ve.preventDefault(),g(null),u(!0);try{await yj(yc,ze.trim()),y("   !")}catch(gt){console.error(gt),gt.code==="auth/user-not-found"?g("    "):gt.code==="auth/invalid-email"?g("    "):gt.code==="auth/too-many-requests"?g("           ."):g("          .")}finally{u(!1)}},P=()=>{switch(r){case"TEACHER_LOGIN":return"    ...";case"STUDENT_LOGIN":return"  ...";case"STUDENT_SIGNUP":return"   ...";case"FORGOT_PASSWORD":return"   ...";default:return" ..."}},Z=()=>l.jsxs("div",{className:"flex flex-col gap-4",children:[l.jsx("h3",{className:"text-xl font-bold text-center mb-6 text-gray-800 dark:text-white",children:"   "}),l.jsxs("button",{onClick:()=>s("STUDENT_LOGIN"),className:"group flex items-center p-4 border-2 border-gray-100 dark:border-gray-700 rounded-2xl hover:border-emerald-500 hover:bg-emerald-50 dark:hover:bg-emerald-900/20 transition-all",children:[l.jsx("div",{className:"bg-emerald-100 dark:bg-emerald-900 p-3 rounded-full ml-4 group-hover:bg-emerald-200 dark:group-hover:bg-emerald-800 transition-colors",children:l.jsx(ln,{className:"w-8 h-8 text-emerald-600 dark:text-emerald-400"})}),l.jsxs("div",{className:"text-right flex-1",children:[l.jsx("div",{className:"font-bold text-lg text-gray-900 dark:text-white",children:" "}),l.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"    "})]}),l.jsx(L0,{className:"w-5 h-5 text-gray-300 group-hover:text-emerald-500"})]}),l.jsxs("button",{onClick:()=>s("TEACHER_LOGIN"),className:"group flex items-center p-4 border-2 border-gray-100 dark:border-gray-700 rounded-2xl hover:border-blue-500 hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-all",children:[l.jsx("div",{className:"bg-blue-100 dark:bg-blue-900 p-3 rounded-full ml-4 group-hover:bg-blue-200 dark:group-hover:bg-blue-800 transition-colors",children:l.jsx(Vi,{className:"w-8 h-8 text-blue-600 dark:text-blue-400"})}),l.jsxs("div",{className:"text-right flex-1",children:[l.jsx("div",{className:"font-bold text-lg text-gray-900 dark:text-white",children:" "}),l.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"   "})]}),l.jsx(L0,{className:"w-5 h-5 text-gray-300 group-hover:text-blue-500"})]})]}),Q=()=>l.jsxs("form",{onSubmit:Me,className:"flex flex-col gap-4",children:[l.jsxs("div",{className:"text-center mb-6",children:[l.jsx("div",{className:"bg-blue-100 dark:bg-blue-900 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx(Dl,{className:"w-8 h-8 text-blue-600 dark:text-blue-400"})}),l.jsx("h3",{className:"text-xl font-bold text-gray-800 dark:text-white",children:" "}),l.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm mt-1",children:"     "})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:" "}),l.jsx("input",{type:"password",value:_,onChange:ve=>S(ve.target.value),className:"w-full px-4 py-3 rounded-xl border border-gray-200 dark:border-gray-700 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 dark:focus:ring-blue-900 outline-none transition-all text-center text-lg tracking-widest bg-white dark:bg-gray-800 text-black dark:text-white placeholder-gray-500",placeholder:"",required:!0})]}),l.jsx("button",{type:"submit",className:"mt-4 w-full bg-blue-600 text-white py-3 rounded-xl font-bold hover:bg-blue-700 transition-colors shadow-lg shadow-blue-200 dark:shadow-none",children:""})]}),me=()=>l.jsxs("form",{onSubmit:Ie,className:"flex flex-col gap-4",children:[l.jsxs("div",{className:"text-center mb-6",children:[l.jsx("h3",{className:"text-xl font-bold text-gray-800 dark:text-white",children:"  "}),l.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm mt-1",children:" !   "})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:" "}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:"email",value:V,onChange:ve=>U(ve.target.value),className:"w-full px-4 py-3 pr-10 rounded-xl border border-gray-200 dark:border-gray-700 focus:border-emerald-500 focus:ring-2 focus:ring-emerald-200 dark:focus:ring-emerald-900 outline-none transition-all bg-white dark:bg-gray-800 text-black dark:text-white placeholder-gray-500",placeholder:"student@example.com",required:!0}),l.jsx(Cb,{className:"w-5 h-5 text-gray-400 absolute top-3.5 right-3"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:" "}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:"password",value:ne,onChange:ve=>$(ve.target.value),className:"w-full px-4 py-3 pr-10 rounded-xl border border-gray-200 dark:border-gray-700 focus:border-emerald-500 focus:ring-2 focus:ring-emerald-200 dark:focus:ring-emerald-900 outline-none transition-all bg-white dark:bg-gray-800 text-black dark:text-white placeholder-gray-500",placeholder:"",required:!0}),l.jsx(Dl,{className:"w-5 h-5 text-gray-400 absolute top-3.5 right-3"})]}),l.jsx("div",{className:"text-left",children:l.jsx("button",{type:"button",onClick:()=>s("FORGOT_PASSWORD"),className:"text-xs text-emerald-600 dark:text-emerald-400 font-bold hover:underline",children:"  "})})]}),l.jsx("button",{type:"submit",disabled:o,className:"mt-4 w-full bg-emerald-600 text-white py-3 rounded-xl font-bold hover:bg-emerald-700 transition-colors shadow-lg shadow-emerald-200 dark:shadow-none flex items-center justify-center gap-2",children:" "}),l.jsx("div",{className:"mt-4 text-center",children:l.jsxs("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:["   "," ",l.jsx("button",{type:"button",onClick:()=>s("STUDENT_SIGNUP"),className:"text-emerald-600 dark:text-emerald-400 font-bold hover:underline",children:"  "})]})})]}),Ee=()=>l.jsxs("form",{onSubmit:D,className:"flex flex-col gap-3",children:[l.jsxs("div",{className:"text-center mb-4",children:[l.jsx("h3",{className:"text-xl font-bold text-gray-800 dark:text-white",children:"   "}),l.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm mt-1",children:"   "})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-xs font-bold text-gray-500 dark:text-gray-400",children:" "}),l.jsx("input",{type:"text",value:le,onChange:ve=>ee(ve.target.value),className:"w-full px-3 py-2 rounded-lg border border-gray-200 dark:border-gray-700 focus:border-emerald-500 outline-none bg-white dark:bg-gray-800 text-black dark:text-white placeholder-gray-500 text-sm",required:!0})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-xs font-bold text-gray-500 dark:text-gray-400",children:" "}),l.jsx("input",{type:"text",value:X,onChange:ve=>xe(ve.target.value),className:"w-full px-3 py-2 rounded-lg border border-gray-200 dark:border-gray-700 focus:border-emerald-500 outline-none bg-white dark:bg-gray-800 text-black dark:text-white placeholder-gray-500 text-sm",required:!0})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-xs font-bold text-gray-500 dark:text-gray-400",children:""}),l.jsx("input",{type:"number",value:oe,onChange:ve=>F(ve.target.value),className:"w-full px-3 py-2 rounded-lg border border-gray-200 dark:border-gray-700 focus:border-emerald-500 outline-none bg-white dark:bg-gray-800 text-black dark:text-white placeholder-gray-500 text-sm",required:!0})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-xs font-bold text-gray-500 dark:text-gray-400",children:""}),l.jsxs("div",{className:"flex gap-2 h-[42px]",children:[l.jsx("button",{type:"button",onClick:()=>_e("male"),className:`flex-1 rounded-lg text-sm font-bold transition-all border ${A==="male"?"bg-blue-100 dark:bg-blue-900 border-blue-500 text-blue-700 dark:text-blue-300":"bg-gray-50 dark:bg-gray-800 border-gray-200 dark:border-gray-700 text-gray-500 dark:text-gray-400"}`,children:""}),l.jsx("button",{type:"button",onClick:()=>_e("female"),className:`flex-1 rounded-lg text-sm font-bold transition-all border ${A==="female"?"bg-pink-100 dark:bg-pink-900 border-pink-500 text-pink-700 dark:text-pink-300":"bg-gray-50 dark:bg-gray-800 border-gray-200 dark:border-gray-700 text-gray-500 dark:text-gray-400"}`,children:""})]})]})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-xs font-bold text-gray-500 dark:text-gray-400 block mb-1",children:" :"}),l.jsx("div",{className:"grid grid-cols-4 gap-2",children:[5,6,7,8,9,10,11,12].map(ve=>l.jsx("button",{type:"button",onClick:()=>N(ve.toString()),className:`py-2 px-1 rounded-xl text-sm font-bold transition-all border ${T===ve.toString()?"bg-emerald-600 text-white border-emerald-600 shadow-md scale-105":"bg-gray-50 dark:bg-gray-800 text-gray-600 dark:text-gray-300 border-gray-100 dark:border-gray-700 hover:bg-emerald-50 dark:hover:bg-emerald-900/20 hover:border-emerald-200"}`,children:ve},ve))})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-xs font-bold text-gray-500 dark:text-gray-400",children:" "}),l.jsx("input",{type:"email",value:j,onChange:ve=>R(ve.target.value),className:"w-full px-3 py-2 rounded-lg border border-gray-200 dark:border-gray-700 focus:border-emerald-500 outline-none bg-white dark:bg-gray-800 text-black dark:text-white placeholder-gray-500 text-sm",required:!0})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-xs font-bold text-gray-500 dark:text-gray-400",children:" "}),l.jsx("input",{type:"password",value:I,onChange:ve=>M(ve.target.value),className:"w-full px-3 py-2 rounded-lg border border-gray-200 dark:border-gray-700 focus:border-emerald-500 outline-none bg-white dark:bg-gray-800 text-black dark:text-white placeholder-gray-500 text-sm",required:!0,minLength:6})]}),l.jsx("button",{type:"submit",disabled:o,className:"mt-2 w-full bg-emerald-600 text-white py-3 rounded-xl font-bold hover:bg-emerald-700 transition-colors shadow-lg shadow-emerald-200 dark:shadow-none flex items-center justify-center gap-2",children:" "}),l.jsx("div",{className:"text-center mt-2",children:l.jsx("button",{type:"button",onClick:()=>s("STUDENT_LOGIN"),className:"text-sm text-gray-500 dark:text-gray-400 hover:text-emerald-600 transition-colors",children:"    "})})]}),nt=()=>l.jsxs("form",{onSubmit:te,className:"flex flex-col gap-4",children:[l.jsxs("div",{className:"text-center mb-6",children:[l.jsx("h3",{className:"text-xl font-bold text-gray-800 dark:text-white",children:"  "}),l.jsxs("p",{className:"text-gray-500 dark:text-gray-400 text-sm mt-1",children:["     ",l.jsx("strong",{children:""}),"  "]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:" "}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:"email",value:ze,onChange:ve=>W(ve.target.value),className:"w-full px-4 py-3 pr-10 rounded-xl border border-gray-200 dark:border-gray-700 focus:border-emerald-500 focus:ring-2 focus:ring-emerald-200 dark:focus:ring-emerald-900 outline-none transition-all bg-white dark:bg-gray-800 text-black dark:text-white placeholder-gray-500",placeholder:"student@example.com",required:!0}),l.jsx(Cb,{className:"w-5 h-5 text-gray-400 absolute top-3.5 right-3"})]})]}),l.jsx("button",{type:"submit",disabled:o,className:"mt-4 w-full bg-emerald-600 text-white py-3 rounded-xl font-bold hover:bg-emerald-700 transition-colors shadow-lg shadow-emerald-200 dark:shadow-none flex items-center justify-center gap-2",children:"  "}),l.jsx("div",{className:"text-center mt-4",children:l.jsxs("button",{type:"button",onClick:()=>s("STUDENT_LOGIN"),className:"text-sm text-gray-500 dark:text-gray-400 hover:text-emerald-600 transition-colors flex items-center justify-center gap-1 mx-auto",children:[l.jsx(Rd,{className:"w-4 h-4"}),"  "]})})]});return l.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center px-4",children:[l.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm transition-opacity duration-300",onClick:ye}),l.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-3xl w-full max-w-md relative shadow-2xl overflow-hidden animate-fade-in-up p-6 min-h-[400px] flex flex-col border border-gray-100 dark:border-gray-800",children:[o&&!p&&l.jsxs("div",{className:"absolute inset-0 bg-white/90 dark:bg-gray-900/90 backdrop-blur-sm z-50 flex flex-col items-center justify-center animate-fade-in rounded-3xl",children:[l.jsxs("div",{className:"relative mb-6",children:[l.jsx("div",{className:"absolute inset-0 bg-emerald-200 dark:bg-emerald-900 rounded-full animate-ping opacity-30 duration-1000"}),l.jsx("div",{className:"relative w-20 h-20 bg-emerald-50 dark:bg-emerald-900/50 rounded-full flex items-center justify-center border border-emerald-100 dark:border-emerald-800 shadow-inner",children:l.jsx(Gt,{className:"w-10 h-10 text-emerald-600 dark:text-emerald-400 animate-spin"})})]}),l.jsx("h4",{className:"text-lg font-black text-gray-800 dark:text-white mb-2 tracking-tight animate-pulse",children:P()}),l.jsx("p",{className:"text-gray-400 text-xs font-medium",children:"   "})]}),l.jsx("button",{onClick:ye,disabled:o,className:"absolute top-4 left-4 p-2 text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-full transition-colors z-10 disabled:opacity-50",children:l.jsx(Ia,{className:"w-5 h-5"})}),r!=="ROLE_SELECTION"&&!p&&r!=="FORGOT_PASSWORD"&&l.jsxs("button",{onClick:()=>s("ROLE_SELECTION"),disabled:o,className:"absolute top-4 right-4 p-2 text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-full transition-colors z-10 flex items-center gap-1 disabled:opacity-50",children:[l.jsx(L0,{className:"w-5 h-5"}),l.jsx("span",{className:"text-xs font-bold",children:""})]}),l.jsx("div",{className:"mt-6 flex-1 flex flex-col justify-center",children:p?l.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center gap-4 animate-fade-in",children:[l.jsx("div",{className:"w-20 h-20 bg-green-100 dark:bg-green-900 rounded-full flex items-center justify-center mb-2 animate-[bounce_1s_infinite]",children:l.jsx(Od,{className:"w-10 h-10 text-green-600 dark:text-green-400"})}),l.jsx("h3",{className:"text-2xl font-bold text-gray-800 dark:text-white leading-relaxed px-4 whitespace-pre-line",children:p}),r==="FORGOT_PASSWORD"&&l.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-900 rounded-xl p-4 mx-4 text-sm text-yellow-800 dark:text-yellow-200 text-right shadow-sm mt-4",children:[l.jsxs("p",{className:"font-bold flex items-center gap-2 mb-2 text-yellow-900 dark:text-yellow-100",children:[l.jsx(Dd,{className:"w-5 h-5"}),"  :"]}),l.jsxs("p",{className:"leading-relaxed",children:["         ",l.jsx("strong",{children:"    (Spam)"}),"  (Junk)."]})]}),l.jsx("button",{onClick:()=>{r==="FORGOT_PASSWORD"?(s("STUDENT_LOGIN"),y(null)):ye()},className:"mt-8 bg-emerald-600 text-white px-10 py-3 rounded-xl font-bold hover:bg-emerald-700 transition-colors shadow-lg shadow-emerald-200 dark:shadow-none transform hover:scale-105 duration-200",children:r==="FORGOT_PASSWORD"?"  ":""})]}):l.jsxs(l.Fragment,{children:[r==="ROLE_SELECTION"&&Z(),r==="TEACHER_LOGIN"&&Q(),r==="STUDENT_LOGIN"&&me(),r==="STUDENT_SIGNUP"&&Ee(),r==="FORGOT_PASSWORD"&&nt(),f&&l.jsxs("div",{className:"mt-4 p-3 bg-red-50 dark:bg-red-900/20 border border-red-100 dark:border-red-900 rounded-lg flex items-start gap-2 text-red-600 dark:text-red-400 text-sm animate-fade-in",children:[l.jsx(Dd,{className:"w-5 h-5 shrink-0 mt-0.5"}),l.jsx("span",{className:"font-medium",children:f})]})]})})]})]})},wR=()=>{const{user:a}=la(),[e,r]=Y.useState(!1),[s,o]=Y.useState(null),[u,f]=Y.useState("MCQ"),[g,p]=Y.useState({title:"",subject:"English",grade:"",category:"Language",description:""}),[y,w]=Y.useState([]),[_,S]=Y.useState(null),[V,U]=Y.useState({question:"",options:["","","",""],correctAnswer:0,explanation:"",passageContent:"",generalInstruction:"",passageFontSize:"md"}),[ne,$]=Y.useState(""),[le,ee]=Y.useState(!1),[X,xe]=Y.useState([]),[oe,F]=Y.useState(!1),[T,N]=Y.useState(""),j=(P,Z)=>{U(Q=>({...Q,[P]:Z}))},R=(P,Z)=>{const Q=[...V.options];Q[P]=Z,U(me=>({...me,options:Q}))},I=()=>{if(!V.question.trim()){alert("   ");return}if((u==="MCQ"||u==="READING")&&V.options.some(Q=>!Q.trim())){alert("   ");return}if(u==="READING"&&!V.passageContent.trim()){alert("   ");return}if(u==="REORDER"&&!ne.trim()){alert("    ");return}let P=[];if(u==="TF")P=["",""];else if(u==="REORDER"){if(P=ne.split(" ").filter(Q=>Q.trim().length>0),P.length<2){alert("       ");return}}else P=V.options;const Z={id:_||Date.now(),question:V.question,options:P,correctAnswer:V.correctAnswer,explanation:V.explanation||"",type:u};u==="READING"&&(Z.passageContent=V.passageContent,Z.generalInstruction=V.generalInstruction,Z.passageFontSize=V.passageFontSize),_?(w(y.map(Q=>Q.id===_?Z:Q)),S(null)):w([...y,Z]),M()},M=()=>{U({question:"",options:["","","",""],correctAnswer:0,explanation:"",passageContent:"",generalInstruction:"",passageFontSize:"md"}),$(""),S(null),f("MCQ")},A=P=>{const Z=y.find(Q=>Q.id===P);Z&&(S(P),f(Z.type||"MCQ"),Z.type==="REORDER"?($(Z.options.join(" ")),U({question:Z.question,options:["","","",""],correctAnswer:Z.correctAnswer,explanation:Z.explanation||"",passageContent:Z.passageContent||"",generalInstruction:Z.generalInstruction||"",passageFontSize:Z.passageFontSize||"md"})):(U({question:Z.question,options:Z.type==="TF"?["","","",""]:Z.options.length>=4?Z.options:[...Z.options,...Array(4-Z.options.length).fill("")],correctAnswer:Z.correctAnswer,explanation:Z.explanation||"",passageContent:Z.passageContent||"",generalInstruction:Z.generalInstruction||"",passageFontSize:Z.passageFontSize||"md"}),$("")),window.scrollTo({top:0,behavior:"smooth"}))},_e=()=>{M()},ze=P=>{window.confirm("      ")&&(w(y.filter(Z=>Z.id!==P)),_===P&&M())},W=async()=>{if(!g.title||!g.grade){alert("     ");return}if(y.length===0){alert("     ");return}r(!0);try{const P={title:g.title,subject:g.subject,grade:g.grade,category:g.category,questions:y,createdBy:(a==null?void 0:a.uid)||"teacher",teacherName:(a==null?void 0:a.displayName)||"",description:g.description||""};if(s){const Z=Os(Qt,"quizzes",s);await qg(Z,{...P,updatedAt:$l()}),alert("    !")}else await Ch(un(Qt,"quizzes"),{...P,createdAt:$l()}),alert("    !");p({title:"",subject:"English",grade:"",category:"Language",description:""}),w([]),o(null),M()}catch(P){console.error("Error saving quiz:",P),alert("   ")}finally{r(!1)}},ce=()=>{window.confirm("        .")&&(p({title:"",subject:"English",grade:"",category:"Language",description:""}),w([]),o(null),M())},ye=async()=>{F(!0);try{const P=Ms(un(Qt,"quizzes"),l_("createdAt","desc")),Z=await Bi(P);xe(Z.docs.map(Q=>({id:Q.id,...Q.data()})))}catch(P){console.error(P)}F(!1)},Me=()=>{ye(),ee(!0)},Ie=P=>{y.length>0&&!window.confirm("         .")||(o(P.id||null),p({title:P.title,subject:P.subject,grade:P.grade,category:P.category||"Language",description:P.description||""}),w(P.questions),ee(!1),M(),window.scrollTo({top:0,behavior:"smooth"}))},D=X.filter(P=>P.title.toLowerCase().includes(T.toLowerCase())||P.grade.includes(T)),te=[{value:"sm",label:""},{value:"md",label:""},{value:"lg",label:""},{value:"xl",label:" "}];return l.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 pb-20 animate-fade-in transition-colors duration-300",children:[l.jsx("div",{className:"bg-white dark:bg-gray-800 pt-10 pb-28 px-4 border-b border-gray-200 dark:border-gray-700 shadow-sm relative overflow-hidden",children:l.jsx("div",{className:"max-w-6xl mx-auto relative z-10",children:l.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-6",children:[l.jsxs("div",{className:"flex items-center gap-6",children:[l.jsx("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/30 rounded-3xl shadow-inner border border-blue-100 dark:border-blue-800",children:l.jsx(Sb,{className:"w-10 h-10 text-blue-600 dark:text-blue-400"})}),l.jsxs("div",{className:"text-center md:text-right",children:[l.jsx("h1",{className:"text-3xl md:text-5xl font-black tracking-tight text-gray-900 dark:text-white mb-2",children:" "}),l.jsxs("p",{className:"text-blue-600 dark:text-blue-400 font-bold text-lg",children:["  ",a==null?void 0:a.displayName]})]})]}),l.jsxs("div",{className:"flex gap-3",children:[s&&l.jsxs("button",{onClick:ce,className:"flex items-center gap-2 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 px-6 py-3 rounded-xl font-bold shadow-sm hover:bg-red-100 dark:hover:bg-red-900/40 border border-red-100 dark:border-red-800 transition-all",children:[l.jsx(Ia,{className:"w-5 h-5"})," "]}),l.jsxs("button",{onClick:Me,className:"flex items-center gap-2 bg-white dark:bg-gray-700 text-gray-700 dark:text-white px-6 py-3 rounded-xl font-bold shadow-md hover:shadow-lg border border-gray-100 dark:border-gray-600 transition-all hover:-translate-y-1",children:[l.jsx(lm,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})," ( )"]})]})]})})}),l.jsx("div",{className:"max-w-6xl mx-auto px-4 -mt-16 relative z-20",children:l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[l.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[l.jsxs("div",{className:`bg-white dark:bg-gray-800 rounded-[2rem] shadow-xl shadow-gray-200/50 dark:shadow-none border p-6 md:p-8 transition-all ${s?"border-blue-500 ring-2 ring-blue-100 dark:ring-blue-900":"border-white dark:border-gray-700"}`,children:[l.jsxs("div",{className:"flex justify-between items-start mb-8 border-b border-gray-100 dark:border-gray-700 pb-4",children:[l.jsxs("h3",{className:"text-xl font-black text-gray-900 dark:text-white flex items-center gap-3",children:[l.jsx("div",{className:"bg-blue-100 dark:bg-blue-900/30 p-2 rounded-lg",children:l.jsx(vr,{className:"w-5 h-5 text-blue-700 dark:text-blue-400"})}),s?"  ":"  "]}),s&&l.jsx("span",{className:"bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300 px-3 py-1 rounded-full text-xs font-bold animate-pulse",children:" "})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"col-span-2",children:[l.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-2",children:" "}),l.jsx("input",{type:"text",value:g.title,onChange:P=>p({...g,title:P.target.value}),placeholder:":    - ",className:"w-full px-5 py-4 rounded-2xl bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 focus:border-blue-500 focus:ring-4 focus:ring-blue-50 dark:focus:ring-blue-900/30 transition-all outline-none font-bold text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-2",children:" "}),l.jsxs("div",{className:"relative",children:[l.jsx(Gm,{className:"w-5 h-5 text-gray-400 absolute top-4 right-4 pointer-events-none"}),l.jsxs("select",{value:g.subject,onChange:P=>p({...g,subject:P.target.value}),className:"w-full px-5 py-4 pr-12 rounded-2xl bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 focus:border-blue-500 focus:ring-4 focus:ring-blue-50 dark:focus:ring-blue-900/30 outline-none transition-all font-bold text-gray-900 dark:text-white appearance-none cursor-pointer",children:[l.jsx("option",{value:"English",children:"English"}),l.jsx("option",{value:"Science",children:""}),l.jsx("option",{value:"Math",children:""})]})]})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-2",children:"    "}),l.jsxs("div",{className:"relative",children:[l.jsx(Vi,{className:"w-5 h-5 text-gray-400 absolute top-4 right-4 pointer-events-none"}),l.jsxs("select",{value:g.grade,onChange:P=>p({...g,grade:P.target.value}),className:"w-full px-5 py-4 pr-12 rounded-2xl bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 focus:border-blue-500 focus:ring-4 focus:ring-blue-50 dark:focus:ring-blue-900/30 outline-none transition-all font-bold text-gray-900 dark:text-white appearance-none cursor-pointer",children:[l.jsx("option",{value:"",className:"text-gray-400",children:" "}),l.jsx("optgroup",{label:" ",children:[5,6,7,8,9,10,11,12].map(P=>l.jsxs("option",{value:P.toString(),children:[" ",P]},P))}),l.jsx("optgroup",{label:" ",children:l.jsx("option",{value:"English Major - QOU",children:"   -   "})})]}),l.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400",children:l.jsx(xc,{className:"w-5 h-5"})})]})]}),l.jsxs("div",{className:"col-span-2 md:col-span-2",children:[l.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-2",children:"  /  (Category)"}),l.jsxs("div",{className:"relative",children:[l.jsx(Rv,{className:"w-5 h-5 text-gray-400 absolute top-4 right-4 pointer-events-none"}),l.jsxs("select",{value:g.category,onChange:P=>p({...g,category:P.target.value}),className:"w-full px-5 py-4 pr-12 rounded-2xl bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 focus:border-blue-500 focus:ring-4 focus:ring-blue-50 dark:focus:ring-blue-900/30 outline-none transition-all font-bold text-gray-900 dark:text-white appearance-none cursor-pointer",children:[l.jsx("option",{value:"Language",children:"Language ()"}),l.jsx("option",{value:"Reading",children:"Reading ()"}),l.jsx("option",{value:"Writing",children:"Writing ()"}),l.jsx("option",{value:"Vocabulary",children:"Vocabulary ()"}),l.jsx("option",{value:"General",children:"  (General Quiz)"})]}),l.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400",children:l.jsx(xc,{className:"w-5 h-5"})})]})]})]}),l.jsxs("div",{className:"mt-6",children:[l.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-2",children:"  ()"}),l.jsx("textarea",{value:g.description,onChange:P=>p({...g,description:P.target.value}),className:"w-full px-5 py-4 rounded-2xl bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 focus:border-blue-500 focus:ring-4 focus:ring-blue-50 dark:focus:ring-blue-900/30 outline-none transition-all font-medium text-gray-900 dark:text-white h-24 resize-none placeholder-gray-400 dark:placeholder-gray-500",placeholder:"    ..."})]})]}),l.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-[2rem] shadow-xl shadow-gray-200/50 dark:shadow-none border border-white dark:border-gray-700 p-6 md:p-8",children:[l.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-8 border-b border-gray-100 dark:border-gray-700 pb-4",children:[l.jsxs("h3",{className:"text-xl font-black text-gray-900 dark:text-white flex items-center gap-3",children:[l.jsx("div",{className:"bg-blue-100 dark:bg-blue-900/30 p-2 rounded-lg",children:l.jsx(bc,{className:"w-5 h-5 text-blue-700 dark:text-blue-400"})}),_?" ":" "]}),l.jsxs("div",{className:"flex flex-wrap gap-2 bg-gray-100 dark:bg-gray-700 p-1.5 rounded-xl self-start",children:[l.jsx("button",{onClick:()=>f("MCQ"),className:`px-4 py-2 rounded-lg text-sm font-bold transition-all ${u==="MCQ"?"bg-white dark:bg-gray-600 text-blue-600 dark:text-blue-400 shadow-sm":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-white"}`,children:"  "}),l.jsx("button",{onClick:()=>f("TF"),className:`px-4 py-2 rounded-lg text-sm font-bold transition-all ${u==="TF"?"bg-white dark:bg-gray-600 text-blue-600 dark:text-blue-400 shadow-sm":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-white"}`,children:"  "}),l.jsxs("button",{onClick:()=>f("READING"),className:`px-4 py-2 rounded-lg text-sm font-bold transition-all flex items-center gap-2 ${u==="READING"?"bg-white dark:bg-gray-600 text-blue-600 dark:text-blue-400 shadow-sm":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-white"}`,children:[l.jsx(zl,{className:"w-4 h-4"})," "]}),l.jsxs("button",{onClick:()=>f("REORDER"),className:`px-4 py-2 rounded-lg text-sm font-bold transition-all flex items-center gap-2 ${u==="REORDER"?"bg-white dark:bg-gray-600 text-blue-600 dark:text-blue-400 shadow-sm":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-white"}`,children:[l.jsx(Sv,{className:"w-4 h-4"})," "]})]})]}),l.jsxs("div",{className:"space-y-6",children:[u==="READING"&&l.jsxs("div",{className:"space-y-4 bg-blue-50 dark:bg-blue-900/20 p-5 rounded-2xl border border-blue-100 dark:border-blue-800 mb-6",children:[l.jsxs("h4",{className:"font-bold text-blue-800 dark:text-blue-300 flex items-center gap-2 mb-2",children:[l.jsx(Dv,{className:"w-5 h-5"})," "]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold text-blue-700 dark:text-blue-300 mb-1",children:"  (General Instruction)"}),l.jsx("input",{type:"text",value:V.generalInstruction,onChange:P=>j("generalInstruction",P.target.value),placeholder:": Read the following text then answer the question",className:"w-full px-4 py-3 rounded-xl border border-blue-200 dark:border-blue-700 focus:border-blue-500 outline-none bg-white dark:bg-gray-800 text-sm font-medium"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold text-blue-700 dark:text-blue-300 mb-1",children:"  (Passage)"}),l.jsx("textarea",{value:V.passageContent,onChange:P=>j("passageContent",P.target.value),placeholder:"   ... ( Enter   )",className:"w-full px-4 py-3 rounded-xl border border-blue-200 dark:border-blue-700 focus:border-blue-500 outline-none bg-white dark:bg-gray-800 text-sm font-medium h-40 resize-y whitespace-pre-wrap",style:{direction:"ltr",textAlign:"left"}}),l.jsx("p",{className:"text-[10px] text-blue-500 mt-1",children:"* :        ."})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-xs font-bold text-blue-700 dark:text-blue-300 mb-2 flex items-center gap-2",children:[l.jsx(N4,{className:"w-4 h-4"}),"   (  )"]}),l.jsx("div",{className:"flex gap-3",children:te.map(P=>l.jsx("button",{onClick:()=>j("passageFontSize",P.value),className:`px-4 py-2 rounded-lg text-xs font-bold transition-all border ${V.passageFontSize===P.value?"bg-blue-600 text-white border-blue-600":"bg-white dark:bg-gray-800 text-gray-600 dark:text-gray-300 border-gray-200 dark:border-gray-600 hover:border-blue-400"}`,children:P.label},P.value))})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-2",children:u==="READING"?"  ":u==="REORDER"?"/ ":" "}),l.jsxs("div",{className:"relative",children:[l.jsx(Ei,{className:"w-5 h-5 text-gray-400 absolute top-4 right-4"}),l.jsx("input",{type:"text",value:V.question,onChange:P=>j("question",P.target.value),placeholder:u==="REORDER"?": Rearrange the following sentence":"   ...",className:"w-full px-5 py-4 pr-12 rounded-2xl border-2 border-gray-100 dark:border-gray-600 focus:border-blue-500 focus:ring-4 focus:ring-blue-50 dark:focus:ring-blue-900/30 outline-none font-bold text-lg text-gray-900 dark:text-white bg-gray-50/50 dark:bg-gray-700/50 placeholder-gray-400 transition-all"})]})]}),u==="MCQ"||u==="READING"?l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:V.options.map((P,Z)=>l.jsxs("div",{className:`relative group transition-all duration-300 ${V.correctAnswer===Z?"scale-[1.02]":""}`,children:[l.jsxs("label",{className:"flex items-center justify-between mb-2 px-1",children:[l.jsxs("span",{className:`text-xs font-bold ${V.correctAnswer===Z?"text-blue-600 dark:text-blue-400":"text-gray-500 dark:text-gray-400"}`,children:[" ",Z+1]}),l.jsx("button",{onClick:()=>j("correctAnswer",Z),className:`text-[10px] px-2 py-1 rounded-md transition-colors font-bold ${V.correctAnswer===Z?"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300":"bg-gray-100 dark:bg-gray-700 text-gray-400 dark:text-gray-500 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:V.correctAnswer===Z?" ":" "})]}),l.jsx("input",{type:"text",value:P,onChange:Q=>R(Z,Q.target.value),placeholder:`  ${Z+1}`,className:`w-full px-4 py-3 rounded-xl border-2 outline-none transition-all font-medium ${Z===V.correctAnswer?"border-blue-500 bg-blue-50/30 dark:bg-blue-900/20 text-gray-900 dark:text-white shadow-sm ring-2 ring-blue-100 dark:ring-blue-900/30":"border-gray-200 dark:border-gray-600 bg-white dark:bg-gray-700 focus:border-blue-400 text-gray-700 dark:text-gray-200"}`})]},Z))}):u==="REORDER"?l.jsxs("div",{className:"space-y-4",children:[l.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-1",children:"  (   )"}),l.jsx("input",{type:"text",dir:"ltr",value:ne,onChange:P=>$(P.target.value),placeholder:"e.g. The sun rises in the east",className:"w-full px-5 py-4 rounded-2xl border-2 border-emerald-100 dark:border-emerald-800 focus:border-emerald-500 outline-none text-lg font-medium text-gray-900 dark:text-white bg-emerald-50/20 dark:bg-emerald-900/10 text-left"}),ne&&l.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:ne.split(" ").filter(P=>P.trim()).map((P,Z)=>l.jsx("span",{className:"bg-gray-200 dark:bg-gray-700 px-3 py-1 rounded-lg text-sm font-bold text-gray-700 dark:text-gray-300",children:P},Z))}),l.jsx("p",{className:"text-xs text-gray-500",children:"      ."})]}):l.jsxs("div",{className:"flex gap-4",children:[l.jsxs("button",{onClick:()=>j("correctAnswer",0),className:`flex-1 py-4 rounded-2xl border-2 transition-all font-black text-lg flex items-center justify-center gap-2 ${V.correctAnswer===0?"border-blue-500 bg-blue-50 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400 shadow-md":"border-gray-200 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-400 hover:border-gray-300"}`,children:[V.correctAnswer===0&&l.jsx(Nn,{className:"w-6 h-6"})," (True)"]}),l.jsxs("button",{onClick:()=>j("correctAnswer",1),className:`flex-1 py-4 rounded-2xl border-2 transition-all font-black text-lg flex items-center justify-center gap-2 ${V.correctAnswer===1?"border-red-500 bg-red-50 dark:bg-red-900/30 text-red-700 dark:text-red-400 shadow-md":"border-gray-200 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-400 hover:border-gray-300"}`,children:[V.correctAnswer===1&&l.jsx(Nn,{className:"w-6 h-6"})," (False)"]})]}),l.jsxs("div",{className:"bg-yellow-50/50 dark:bg-yellow-900/10 p-4 rounded-2xl border border-yellow-100 dark:border-yellow-900/30",children:[l.jsxs("label",{className:"block text-sm font-bold text-yellow-800 dark:text-yellow-500 mb-2 flex items-center gap-2",children:[l.jsx("div",{className:"w-2 h-2 bg-yellow-400 rounded-full"}),"  ()"]}),l.jsx("textarea",{value:V.explanation,onChange:P=>j("explanation",P.target.value),placeholder:"        ...",className:"w-full px-4 py-3 rounded-xl border border-yellow-200 dark:border-yellow-800/50 focus:border-yellow-400 focus:ring-2 focus:ring-yellow-100 dark:focus:ring-yellow-900/30 outline-none text-gray-800 dark:text-gray-200 bg-white dark:bg-gray-800 h-20 resize-none placeholder-gray-400 text-sm"})]}),l.jsxs("div",{className:"flex gap-3",children:[_&&l.jsxs("button",{onClick:_e,className:"flex-1 bg-gray-200 dark:bg-gray-700 text-gray-600 dark:text-gray-300 py-4 rounded-2xl font-bold hover:bg-gray-300 dark:hover:bg-gray-600 transition-all flex items-center justify-center gap-2",children:[l.jsx(Cv,{className:"w-5 h-5"})," "]}),l.jsx("button",{onClick:I,className:`flex-1 bg-gray-900 dark:bg-black text-white py-4 rounded-2xl font-bold hover:bg-black dark:hover:bg-gray-900 transition-all shadow-lg shadow-gray-200 dark:shadow-none flex items-center justify-center gap-2 transform hover:-translate-y-1 ${_?"bg-blue-600 dark:bg-blue-600 hover:bg-blue-700 dark:hover:bg-blue-700":""}`,children:_?l.jsxs(l.Fragment,{children:[l.jsx(Si,{className:"w-5 h-5"})," "]}):l.jsxs(l.Fragment,{children:[l.jsx(bc,{className:"w-5 h-5"}),"  "]})})]})]})]})]}),l.jsx("div",{className:"lg:col-span-1",children:l.jsxs("div",{className:"sticky top-24 space-y-6",children:[l.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-[2rem] shadow-xl shadow-gray-200/50 dark:shadow-none border border-white dark:border-gray-700 p-6",children:[l.jsxs("h3",{className:"text-lg font-black text-gray-900 dark:text-white mb-6 flex items-center gap-2",children:[l.jsx(Si,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})," "]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"p-5 bg-gray-50 dark:bg-gray-700 rounded-2xl border border-gray-100 dark:border-gray-600 flex flex-col gap-3",children:[l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"text-gray-500 dark:text-gray-400 font-medium",children:" "}),l.jsx("span",{className:"font-black text-gray-900 dark:text-white bg-white dark:bg-gray-600 px-3 py-0.5 rounded-md shadow-sm",children:y.length})]}),l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"text-gray-500 dark:text-gray-400 font-medium",children:" "}),l.jsx("span",{className:"text-blue-600 dark:text-blue-400 font-bold bg-blue-50 dark:bg-blue-900/30 px-2 py-0.5 rounded-md",children:g.category})]}),l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"text-gray-500 dark:text-gray-400 font-medium",children:" "}),s?l.jsx("span",{className:"text-emerald-600 dark:text-emerald-400 font-bold bg-emerald-50 dark:bg-emerald-900/30 px-2 py-0.5 rounded-md",children:""}):l.jsx("span",{className:"text-blue-600 dark:text-blue-400 font-bold bg-blue-50 dark:bg-blue-900/30 px-2 py-0.5 rounded-md",children:""})]})]}),l.jsxs("button",{onClick:W,disabled:e||y.length===0,className:`w-full py-4 rounded-2xl font-black text-white shadow-lg transition-all flex items-center justify-center gap-2 transform ${e||y.length===0?"bg-gray-300 dark:bg-gray-600 cursor-not-allowed shadow-none":"bg-blue-600 hover:bg-blue-700 shadow-blue-200 dark:shadow-none hover:-translate-y-1"}`,children:[e?l.jsx(Gt,{className:"w-5 h-5 animate-spin"}):s?l.jsx(Av,{className:"w-5 h-5"}):l.jsx(Nn,{className:"w-5 h-5"}),e?" ...":s?" ":"  "]})]})]}),y.length>0&&l.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-[2rem] shadow-xl shadow-gray-200/50 dark:shadow-none border border-white dark:border-gray-700 p-6 animate-fade-in-up",children:[l.jsxs("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[l.jsx("span",{className:"bg-blue-100 dark:bg-blue-900/30 p-1.5 rounded-lg",children:l.jsx(Sb,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"})}),"  (",y.length,")"]}),l.jsx("div",{className:"space-y-3 max-h-[calc(100vh-400px)] overflow-y-auto pr-2 custom-scrollbar",children:y.map((P,Z)=>l.jsxs("div",{className:`p-3 rounded-xl border transition-all group relative ${_===P.id?"bg-blue-50 dark:bg-blue-900/20 border-blue-500 ring-1 ring-blue-500":"bg-gray-50 dark:bg-gray-700/50 border-gray-100 dark:border-gray-600 hover:border-blue-300"}`,children:[l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("span",{className:"bg-white dark:bg-gray-600 text-gray-700 dark:text-gray-300 font-bold w-6 h-6 flex items-center justify-center rounded-lg text-xs shrink-0 shadow-sm",children:Z+1}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"font-bold text-gray-800 dark:text-gray-200 text-sm line-clamp-2 mb-1.5",children:P.question}),l.jsx("div",{className:"flex items-center gap-2",children:l.jsx("span",{className:"text-[10px] bg-white dark:bg-gray-600 text-gray-500 dark:text-gray-300 px-2 py-0.5 rounded border border-gray-200 dark:border-gray-500",children:P.type==="REORDER"?"":P.options.length===2?"/":P.passageContent?"":""})})]})]}),l.jsxs("div",{className:"flex items-center gap-2 mt-3 pt-3 border-t border-gray-200 dark:border-gray-600/50 justify-end",children:[l.jsxs("button",{onClick:()=>A(P.id),className:"flex items-center gap-1 text-xs font-bold text-blue-600 dark:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/30 px-2 py-1.5 rounded-lg transition-colors",children:[l.jsx(fm,{className:"w-3.5 h-3.5"}),""]}),l.jsx("div",{className:"w-px h-3 bg-gray-300 dark:bg-gray-600"}),l.jsxs("button",{onClick:()=>ze(P.id),className:"flex items-center gap-1 text-xs font-bold text-red-500 hover:bg-red-50 dark:hover:bg-red-900/30 px-2 py-1.5 rounded-lg transition-colors",children:[l.jsx(mm,{className:"w-3.5 h-3.5"}),""]})]})]},P.id))})]})]})})]})}),le&&l.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center px-4 bg-black/60 backdrop-blur-sm",children:l.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-3xl w-full max-w-3xl max-h-[85vh] flex flex-col shadow-2xl animate-fade-in-up overflow-hidden",children:[l.jsxs("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 p-6 flex justify-between items-center shrink-0",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"bg-emerald-100 dark:bg-emerald-900/30 p-2 rounded-xl",children:l.jsx(lm,{className:"w-6 h-6 text-emerald-600 dark:text-emerald-400"})}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-black text-gray-900 dark:text-white",children:" "}),l.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"    "})]})]}),l.jsx("button",{onClick:()=>ee(!1),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition-colors text-gray-500 dark:text-gray-400",children:l.jsx(Ia,{className:"w-6 h-6"})})]}),l.jsx("div",{className:"p-4 bg-gray-50 dark:bg-gray-800 border-b border-gray-100 dark:border-gray-700",children:l.jsxs("div",{className:"relative",children:[l.jsx(Ai,{className:"w-5 h-5 text-gray-400 absolute top-3.5 right-4 pointer-events-none"}),l.jsx("input",{type:"text",placeholder:"   ...",value:T,onChange:P=>N(P.target.value),className:"w-full px-12 py-3 rounded-xl border border-gray-200 dark:border-gray-700 focus:border-emerald-500 outline-none bg-white dark:bg-gray-700 font-bold text-gray-700 dark:text-white transition-all"})]})}),l.jsx("div",{className:"flex-1 overflow-y-auto p-4 bg-gray-50 dark:bg-gray-900 custom-scrollbar",children:oe?l.jsx("div",{className:"flex justify-center py-10",children:l.jsx(Gt,{className:"w-8 h-8 animate-spin text-emerald-600"})}):D.length===0?l.jsx("div",{className:"text-center py-10 text-gray-400",children:"   "}):l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:D.map(P=>l.jsxs("div",{onClick:()=>Ie(P),className:"bg-white dark:bg-gray-800 p-4 rounded-2xl border border-gray-200 dark:border-gray-700 cursor-pointer hover:border-emerald-500 dark:hover:border-emerald-500 hover:shadow-lg transition-all group",children:[l.jsxs("div",{className:"flex justify-between items-start mb-2",children:[l.jsx("span",{className:"bg-blue-50 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 text-[10px] font-bold px-2 py-0.5 rounded-md",children:P.subject}),l.jsx("span",{className:"text-xs text-gray-400",children:P.grade})]}),l.jsx("h4",{className:"font-bold text-gray-900 dark:text-white mb-2 line-clamp-1 group-hover:text-emerald-600 dark:group-hover:text-emerald-400 transition-colors",children:P.title}),l.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500 dark:text-gray-400",children:[l.jsx(Ei,{className:"w-3 h-3"}),P.questions.length," "]})]},P.id))})})]})})]})},_R=()=>{const a=Y.useRef(null);return Y.useEffect(()=>{const e=a.current;if(!e)return;const r=e.getContext("2d");if(!r)return;let s,o=window.innerWidth,u=window.innerHeight;const f=o<768?60:150;e.width=o,e.height=u;const g=[];for(let U=0;U<f;U++)g.push({x:Math.random()*o-o/2,y:Math.random()*u-u/2,z:Math.random()*o,size:Math.random()*2});let p=2,y=!1;const w=()=>{o=window.innerWidth,u=window.innerHeight,e.width=o,e.height=u},_=()=>{y=!0},S=()=>{y=!1};window.addEventListener("resize",w),window.addEventListener("mousedown",_),window.addEventListener("touchstart",_),window.addEventListener("mouseup",S),window.addEventListener("touchend",S);const V=()=>{const ne=document.documentElement.classList.contains("dark")?"255, 255, 255":"30, 30, 70";r.clearRect(0,0,o,u);const $=o/2,le=u/2;p+=((y?50:2)-p)*.05,g.forEach(X=>{X.z-=p,X.z<=0&&(X.z=o,X.x=Math.random()*o-o/2,X.y=Math.random()*u-u/2);const xe=X.x/X.z*o+$,oe=X.y/X.z*u+le,F=(1-X.z/o)*X.size*2;if(xe>=0&&xe<=o&&oe>=0&&oe<=u&&F>0){const T=1-X.z/o;if(r.beginPath(),r.fillStyle=`rgba(${ne}, ${T})`,r.arc(xe,oe,F,0,Math.PI*2),r.fill(),p>10){const N=X.z+p*2,j=X.x/N*o+$,R=X.y/N*u+le;r.beginPath(),r.strokeStyle=`rgba(${ne}, ${T*.5})`,r.lineWidth=F,r.moveTo(xe,oe),r.lineTo(j,R),r.stroke()}}}),s=requestAnimationFrame(V)};return V(),()=>{window.removeEventListener("resize",w),window.removeEventListener("mousedown",_),window.removeEventListener("touchstart",_),window.removeEventListener("mouseup",S),window.removeEventListener("touchend",S),cancelAnimationFrame(s)}},[]),l.jsx("canvas",{ref:a,className:"fixed inset-0 pointer-events-none z-0",style:{opacity:1}})},tm=[{minLevel:1,title:" ",color:"bg-gray-100 text-gray-600 border-gray-200",icon:um},{minLevel:5,title:" ",color:"bg-emerald-100 text-emerald-700 border-emerald-200",icon:vr},{minLevel:10,title:" ",color:"bg-blue-100 text-blue-700 border-blue-200",icon:Ai},{minLevel:15,title:" ",color:"bg-indigo-100 text-indigo-700 border-indigo-200",icon:Ni},{minLevel:20,title:" ",color:"bg-purple-100 text-purple-700 border-purple-200",icon:Qm},{minLevel:30,title:" ",color:"bg-amber-100 text-amber-700 border-amber-200",icon:Ti}],O_=[{url:"https://lh3.googleusercontent.com/d/1seg3JDYcNsDBtTY4gU9N5empajSAT_-E",minLevel:1},{url:"https://lh3.googleusercontent.com/d/1QnacjkYXRr-N4yhmt44LubRxbRnzNgqH",minLevel:1},{url:"https://lh3.googleusercontent.com/d/198SBde0OI07puyVx53mi9MpZ7F-iKltI",minLevel:1},{url:"https://lh3.googleusercontent.com/d/1E--pczIn4ZCSWpWYhKZutLX8lfhtmCrp",minLevel:5},{url:"https://lh3.googleusercontent.com/d/1h5uzg3mZaeaozqEkzwItA14xqDq7kbMb",minLevel:10},{url:"https://lh3.googleusercontent.com/d/1qKn7YfQr7VaDPXB8EjUvlCW-qt3v5E0u",minLevel:15}],M_=[{url:"https://lh3.googleusercontent.com/d/1AqS4xhkK53MwCO-LFRdmtYBQsYSH6vz1",minLevel:1},{url:"https://lh3.googleusercontent.com/d/1h9RlprJi3PeKwNaVulHZMCamtbEp7BcS",minLevel:1},{url:"https://lh3.googleusercontent.com/d/1ufUwP7M3wdxWBW60s2xdpZC6W7jfpXv4",minLevel:1},{url:"https://lh3.googleusercontent.com/d/1WQNhE7g0WBHbBu4e93R8Oy1qFOclP-qs",minLevel:5},{url:"https://lh3.googleusercontent.com/d/1ep_ggXFs0rCkGJ212WkY5DuRbLNkyLyr",minLevel:10},{url:"https://lh3.googleusercontent.com/d/1siamCZMGjbXH6L9bop_dN1UPSSwfyIwc",minLevel:15}],kR=[...O_,...M_],rm=[{id:"nature_1",url:"https://lh3.googleusercontent.com/d/16IHotAb2_MEMsfpUxEIx8CBx94kLVYCs",name:" ",minLevel:1},{id:"nature_2",url:"https://lh3.googleusercontent.com/d/1tBjHedpcXQiEjXro--zG3iWDokgrDbgZ",name:" ",minLevel:5},{id:"nature_3",url:"https://lh3.googleusercontent.com/d/1Chp7z63_XfLlt4ZC0MRmKwNsSTlCWwOa",name:" ",minLevel:10},{id:"nature_4",url:"https://lh3.googleusercontent.com/d/12RHK_FCMJt8D24AB3UV7nHxbD50EF4MX",name:" ",minLevel:15},{id:"nature_5",url:"https://lh3.googleusercontent.com/d/1We4c8009ObQB9ZDrpQ8ssUuos4V_4b9w",name:" ",minLevel:20}],NR=({data:a})=>{if(!a||a.length===0)return l.jsx("div",{className:"h-40 flex items-center justify-center text-gray-400 dark:text-gray-500 bg-gray-50 dark:bg-gray-800 rounded-xl border border-dashed border-gray-200 dark:border-gray-700",children:"     "});const e=100,r=300,s=100,o=a.map((f,g)=>{const p=g/(a.length-1||1)*r,y=e-f/s*e;return`${p},${y}`}).join(" "),u=`${o} ${r},${e} 0,${e}`;return l.jsxs("div",{className:"w-full h-48 bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-100 dark:border-gray-700 relative overflow-hidden",children:[l.jsxs("svg",{viewBox:`0 0 ${r} ${e}`,className:"w-full h-full overflow-visible",preserveAspectRatio:"none",children:[l.jsx("line",{x1:"0",y1:"0",x2:r,y2:"0",stroke:"currentColor",className:"text-gray-100 dark:text-gray-700",strokeWidth:"1"}),l.jsx("line",{x1:"0",y1:e/2,x2:r,y2:e/2,stroke:"currentColor",className:"text-gray-100 dark:text-gray-700",strokeWidth:"1"}),l.jsx("line",{x1:"0",y1:e,x2:r,y2:e,stroke:"currentColor",className:"text-gray-100 dark:text-gray-700",strokeWidth:"1"}),l.jsx("defs",{children:l.jsxs("linearGradient",{id:"chartGradient",x1:"0",x2:"0",y1:"0",y2:"1",children:[l.jsx("stop",{offset:"0%",stopColor:"rgba(16, 185, 129, 0.2)"}),l.jsx("stop",{offset:"100%",stopColor:"rgba(16, 185, 129, 0)"})]})}),l.jsx("path",{d:`M0,${e} ${u}`,fill:"url(#chartGradient)"}),l.jsx("polyline",{points:o,fill:"none",stroke:"#10b981",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"}),a.map((f,g)=>{const p=g/(a.length-1||1)*r,y=e-f/s*e;return l.jsx("circle",{cx:p,cy:y,r:"3.5",fill:"white",stroke:"#10b981",strokeWidth:"2",className:"dark:fill-gray-800"},g)})]}),l.jsx("div",{className:"absolute top-2 right-2 text-[10px] font-bold text-gray-400 dark:text-gray-500 bg-gray-50 dark:bg-gray-700 px-2 py-1 rounded-full",children:" "})]})},ER=a=>{if(!a)return"";const e=a.toDate?a.toDate():new Date(a.seconds*1e3),r=e.getDate().toString().padStart(2,"0"),s=(e.getMonth()+1).toString().padStart(2,"0"),o=e.getFullYear();let u=e.getHours();const f=e.getMinutes().toString().padStart(2,"0"),g=u>=12?"":"";return u=u%12,u=u||12,`${r}/${s}/${o} ${u}:${f} ${g}`},TR=({onNavigate:a})=>{const{user:e,updateUserProfile:r}=la(),[s,o]=Y.useState(!1),[u,f]=Y.useState(null),g=kR,[p,y]=Y.useState(!1),[w,_]=Y.useState(!1),[S,V]=Y.useState(!1),[U,ne]=Y.useState("male"),[$,le]=Y.useState((e==null?void 0:e.avatar)||""),[ee,X]=Y.useState((e==null?void 0:e.profileBackground)||rm[0].url),[xe,oe]=Y.useState([]),[F,T]=Y.useState(!0),[N,j]=Y.useState(0),[R,I]=Y.useState(1),[M,A]=Y.useState(tm[0]),[_e,ze]=Y.useState({firstName:(e==null?void 0:e.firstName)||"",lastName:(e==null?void 0:e.lastName)||"",age:(e==null?void 0:e.age)||"",grade:(e==null?void 0:e.grade)||"",phone:(e==null?void 0:e.phone)||"",address:(e==null?void 0:e.address)||"",school:(e==null?void 0:e.school)||""});Y.useEffect(()=>{e&&(ze(Q=>({...Q,firstName:e.firstName||Q.firstName,lastName:e.lastName||Q.lastName})),e.avatar&&le(e.avatar),e.profileBackground&&X(e.profileBackground))},[e]),Y.useEffect(()=>{(async()=>{if(e){if(e.role==="teacher"){T(!1);return}try{const me=Ms(un(Qt,"quiz_results"),Vs("userId","==",e.uid)),Ee=await Bi(me),nt=[];let ve=0;Ee.forEach(er=>{const Kt=er.data();nt.push({id:er.id,...Kt});let Yt=10+Kt.percentage*2;Kt.passed&&(Yt+=50),Kt.percentage===100&&(Yt+=100),ve+=Math.round(Yt)}),nt.sort((er,Kt)=>{var Gr,dn;const Yt=((Gr=er.createdAt)==null?void 0:Gr.seconds)||0,Cn=((dn=Kt.createdAt)==null?void 0:dn.seconds)||0;return Yt-Cn}),oe(nt),j(ve);const gt=Math.floor(ve/500)+1;I(gt);const Fr=[...tm].reverse().find(er=>gt>=er.minLevel)||tm[0];A(Fr)}catch(me){console.error("Error fetching progress:",me)}finally{T(!1)}}})()},[e]);const W=async Q=>{Q.preventDefault(),o(!0),f(null);try{await r({..._e}),f("   !"),setTimeout(()=>f(null),3e3)}catch(me){console.error(me),alert("   ")}finally{o(!1)}},ce=async()=>{o(!0);try{await r({avatar:$}),y(!1)}catch(Q){console.error(Q)}finally{o(!1)}},ye=async()=>{o(!0);try{await r({profileBackground:ee}),_(!1)}catch(Q){console.error(Q)}finally{o(!1)}},Me=async()=>{o(!0);try{const Q=U==="male"?O_[0].url:M_[0].url;await r({gender:U,genderChanged:!0,avatar:Q}),V(!1),f("     "),setTimeout(()=>f(null),3e3)}catch(Q){console.error(Q),alert("   ")}finally{o(!1)}},Ie=xe.slice(-10).map(Q=>Q.percentage),D=(R-1)*500,te=Math.min(100,Math.max(0,(N-D)/500*100)),P=Q=>Q?Q.startsWith("http")?{backgroundImage:`url(${Q})`,backgroundSize:"cover",backgroundPosition:"center"}:{}:{backgroundImage:`url(${rm[0].url})`,backgroundSize:"cover",backgroundPosition:"center"},Z=Q=>!Q||Q.startsWith("http")?"bg-no-repeat bg-center":Q;return(e==null?void 0:e.role)==="teacher"?l.jsxs("div",{className:"w-full relative min-h-screen animate-fade-in",children:[l.jsx(_R,{}),l.jsx("div",{className:"max-w-4xl mx-auto px-4 py-12 relative z-10",children:l.jsxs("div",{className:"bg-white/90 dark:bg-gray-800/90 backdrop-blur-md rounded-3xl shadow-xl overflow-hidden border border-gray-100 dark:border-gray-700 p-8 md:p-12 text-center",children:[l.jsxs("div",{className:"w-32 h-32 md:w-40 md:h-40 mx-auto mb-6 relative",children:[l.jsx("div",{className:"absolute inset-0 bg-blue-500 rounded-full blur-xl opacity-20"}),l.jsx("img",{src:e.avatar||"https://lh3.googleusercontent.com/d/1tbzVNKO3FGH46Pa6MZ58OWD4BXVKdK5P",alt:e.displayName,className:"w-full h-full object-cover rounded-full border-4 border-white dark:border-gray-700 shadow-lg relative z-10"})]}),l.jsx("h1",{className:"text-3xl md:text-4xl font-black text-gray-900 dark:text-white mb-2",children:e.displayName}),l.jsx("p",{className:"text-gray-500 dark:text-gray-400 font-medium mb-10 text-lg",children:e.email}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 max-w-4xl mx-auto",children:[l.jsxs("button",{onClick:()=>a&&a("TEACHER_DASHBOARD"),className:"flex flex-col items-center justify-center gap-4 p-8 rounded-3xl bg-blue-50 dark:bg-blue-900/20 border-2 border-blue-100 dark:border-blue-800 hover:border-blue-500 hover:shadow-xl transition-all group hover:-translate-y-1",children:[l.jsx("div",{className:"w-16 h-16 bg-blue-500 text-white rounded-2xl flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform",children:l.jsx(bc,{className:"w-8 h-8"})}),l.jsxs("div",{children:[l.jsx("span",{className:"block text-xl font-bold text-gray-900 dark:text-white mb-1",children:" "}),l.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"   "})]})]}),l.jsxs("button",{onClick:()=>a&&a("QUESTION_BANK"),className:"flex flex-col items-center justify-center gap-4 p-8 rounded-3xl bg-emerald-50 dark:bg-emerald-900/20 border-2 border-emerald-100 dark:border-emerald-800 hover:border-emerald-500 hover:shadow-xl transition-all group hover:-translate-y-1",children:[l.jsx("div",{className:"w-16 h-16 bg-emerald-500 text-white rounded-2xl flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform",children:l.jsx(ji,{className:"w-8 h-8"})}),l.jsxs("div",{children:[l.jsx("span",{className:"block text-xl font-bold text-gray-900 dark:text-white mb-1",children:" "}),l.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"  "})]})]}),l.jsxs("button",{onClick:()=>a&&a("TEACHER_EXPLANATIONS"),className:"flex flex-col items-center justify-center gap-4 p-8 rounded-3xl bg-purple-50 dark:bg-purple-900/20 border-2 border-purple-100 dark:border-purple-800 hover:border-purple-500 hover:shadow-xl transition-all group hover:-translate-y-1",children:[l.jsx("div",{className:"w-16 h-16 bg-purple-500 text-white rounded-2xl flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform",children:l.jsx(wc,{className:"w-8 h-8"})}),l.jsxs("div",{children:[l.jsx("span",{className:"block text-xl font-bold text-gray-900 dark:text-white mb-1",children:" "}),l.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"  "})]})]}),l.jsxs("button",{onClick:()=>a&&a("TEACHER_UPLOAD_FILES"),className:"flex flex-col items-center justify-center gap-4 p-8 rounded-3xl bg-cyan-50 dark:bg-cyan-900/20 border-2 border-cyan-100 dark:border-cyan-800 hover:border-cyan-500 hover:shadow-xl transition-all group hover:-translate-y-1",children:[l.jsx("div",{className:"w-16 h-16 bg-cyan-500 text-white rounded-2xl flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform",children:l.jsx(Tv,{className:"w-8 h-8"})}),l.jsxs("div",{children:[l.jsx("span",{className:"block text-xl font-bold text-gray-900 dark:text-white mb-1",children:"  "}),l.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"   (Drive)"})]})]})]})]})})]}):l.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8 md:py-12 animate-fade-in-up",children:[S&&l.jsx("div",{className:"fixed inset-0 z-[200] flex items-start justify-center p-4 pt-24 bg-black/80 backdrop-blur-sm animate-fade-in",children:l.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-3xl w-full max-w-sm shadow-2xl border border-gray-200 dark:border-gray-700 p-6",children:[l.jsxs("div",{className:"text-center mb-6",children:[l.jsx("div",{className:"w-16 h-16 bg-indigo-100 dark:bg-indigo-900 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx(ln,{className:"w-8 h-8 text-indigo-600 dark:text-indigo-400"})}),l.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:" "}),l.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 p-3 rounded-xl border border-yellow-200 dark:border-yellow-800 text-sm text-yellow-800 dark:text-yellow-200 flex items-start gap-2 text-right",children:[l.jsx(Ov,{className:"w-5 h-5 shrink-0"}),l.jsx("p",{children:":          ."})]})]}),l.jsxs("div",{className:"flex gap-3 mb-6",children:[l.jsx("button",{onClick:()=>ne("male"),className:`flex-1 py-3 rounded-xl font-bold border-2 transition-all ${U==="male"?"border-blue-500 bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400":"border-gray-200 dark:border-gray-700 text-gray-500 dark:text-gray-400"}`,children:""}),l.jsx("button",{onClick:()=>ne("female"),className:`flex-1 py-3 rounded-xl font-bold border-2 transition-all ${U==="female"?"border-pink-500 bg-pink-50 dark:bg-pink-900/20 text-pink-600 dark:text-pink-400":"border-gray-200 dark:border-gray-700 text-gray-500 dark:text-gray-400"}`,children:""})]}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{onClick:()=>V(!1),className:"flex-1 py-3 rounded-xl font-bold bg-gray-100 dark:bg-gray-800 text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",children:""}),l.jsx("button",{onClick:Me,disabled:s,className:"flex-1 py-3 rounded-xl font-bold bg-emerald-600 text-white hover:bg-emerald-700 transition-colors flex items-center justify-center gap-2",children:s?l.jsx(Gt,{className:"w-4 h-4 animate-spin"}):" "})]})]})}),p&&l.jsx("div",{className:"fixed inset-0 z-[200] flex items-start justify-center p-4 pt-10 md:pt-16 bg-black/80 backdrop-blur-sm animate-fade-in",children:l.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-3xl w-full max-w-sm max-h-[85vh] flex flex-col shadow-2xl border border-gray-200 dark:border-gray-700 overflow-hidden relative",children:[l.jsxs("div",{className:"p-4 border-b border-gray-100 dark:border-gray-800 flex justify-between items-center shrink-0",children:[l.jsxs("h3",{className:"text-lg font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[l.jsx(ln,{className:"w-5 h-5 text-purple-500"})," "]}),l.jsx("button",{onClick:()=>y(!1),className:"p-1.5 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-full transition-colors",children:l.jsx(Ia,{className:"w-5 h-5 text-gray-500"})})]}),l.jsx("div",{className:"flex-1 overflow-y-auto p-4 custom-scrollbar",children:l.jsx("div",{className:"grid grid-cols-3 gap-3",children:g.map((Q,me)=>{const Ee=R<Q.minLevel;return l.jsxs("button",{onClick:()=>!Ee&&le(Q.url),disabled:Ee,className:`relative aspect-square rounded-xl overflow-hidden border-2 transition-all bg-gray-50 dark:bg-gray-800 ${$===Q.url?"border-emerald-500 shadow-md ring-2 ring-emerald-100 dark:ring-emerald-900/30":"border-transparent hover:border-gray-300 dark:hover:border-gray-600"} ${Ee?"opacity-60 grayscale":"hover:scale-105 active:scale-95"}`,children:[l.jsx("img",{src:Q.url,alt:`Avatar ${me}`,className:"w-full h-full object-cover"}),Ee&&l.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-black/50 text-white backdrop-blur-[1px]",children:[l.jsx(Dl,{className:"w-4 h-4 mb-0.5"}),l.jsxs("span",{className:"text-[10px] font-bold",children:[" ",Q.minLevel]})]}),!Ee&&$===Q.url&&l.jsx("div",{className:"absolute top-1 right-1 bg-emerald-500 text-white rounded-full p-0.5 shadow-sm",children:l.jsx(Nn,{className:"w-3 h-3"})})]},me)})})}),l.jsx("div",{className:"p-4 border-t border-gray-100 dark:border-gray-800 shrink-0",children:l.jsxs("button",{onClick:ce,disabled:s,className:"w-full bg-emerald-600 text-white py-3 rounded-xl font-bold hover:bg-emerald-700 transition-all shadow-lg shadow-emerald-200 dark:shadow-none flex items-center justify-center gap-2",children:[s?l.jsx(Gt,{className:"w-5 h-5 animate-spin"}):l.jsx(Si,{className:"w-5 h-5"})," "]})})]})}),w&&l.jsx("div",{className:"fixed inset-0 z-[200] flex items-start justify-center p-4 pt-10 md:pt-16 bg-black/80 backdrop-blur-sm animate-fade-in",children:l.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-3xl w-full max-w-2xl max-h-[85vh] flex flex-col shadow-2xl border border-gray-200 dark:border-gray-700 overflow-hidden relative",children:[l.jsxs("div",{className:"p-5 border-b border-gray-100 dark:border-gray-800 flex justify-between items-center shrink-0",children:[l.jsxs("h3",{className:"text-xl font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[l.jsx(Ib,{className:"w-6 h-6 text-emerald-500"})," "]}),l.jsx("button",{onClick:()=>_(!1),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-full transition-colors",children:l.jsx(Ia,{className:"w-6 h-6 text-gray-500"})})]}),l.jsx("div",{className:"flex-1 overflow-y-auto p-5 custom-scrollbar",children:l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:rm.map((Q,me)=>{const Ee=R<Q.minLevel,nt=ee===Q.url;return l.jsxs("button",{onClick:()=>!Ee&&X(Q.url),disabled:Ee,className:`relative h-28 rounded-2xl overflow-hidden border-4 transition-all duration-300 group ${nt?"border-emerald-500 scale-[1.02] shadow-md":"border-transparent"} ${Ee?"opacity-60 cursor-not-allowed grayscale":"hover:scale-[1.02] cursor-pointer"}`,children:[l.jsx("div",{className:"absolute inset-0 bg-cover bg-center",style:{backgroundImage:`url(${Q.url})`}}),l.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:Ee?l.jsxs("div",{className:"bg-black/60 px-3 py-1.5 rounded-lg backdrop-blur-sm flex items-center gap-1.5",children:[l.jsx(Dl,{className:"w-4 h-4 text-white"}),l.jsxs("span",{className:"text-xs text-white font-bold",children:[" ",Q.minLevel]})]}):nt&&l.jsx(Nn,{className:"w-8 h-8 text-white drop-shadow-md"})}),l.jsx("div",{className:"absolute bottom-0 w-full bg-gradient-to-t from-black/80 to-transparent p-2 text-center",children:l.jsx("span",{className:"text-xs font-bold text-white drop-shadow-md",children:Q.name})})]},me)})})}),l.jsxs("div",{className:"p-5 border-t border-gray-100 dark:border-gray-800 shrink-0 flex justify-end gap-3",children:[l.jsx("button",{onClick:()=>_(!1),className:"px-6 py-2.5 rounded-xl font-bold text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",children:""}),l.jsx("button",{onClick:ye,disabled:s,className:"bg-emerald-600 text-white px-8 py-2.5 rounded-xl font-bold hover:bg-emerald-700 transition-all shadow-lg shadow-emerald-200 dark:shadow-none flex items-center gap-2",children:s?l.jsx(Gt,{className:"w-5 h-5 animate-spin"}):" "})]})]})}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[l.jsx("div",{className:"lg:col-span-7 lg:order-1 space-y-8",children:l.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-[3rem] shadow-xl overflow-hidden border border-gray-100 dark:border-gray-700 relative group",children:[l.jsxs("div",{className:`relative w-full h-48 md:h-64 transition-all duration-500 ${Z(e==null?void 0:e.profileBackground)}`,style:P(e==null?void 0:e.profileBackground),children:[l.jsxs("button",{onClick:()=>_(!0),className:"absolute top-4 left-4 bg-black/30 hover:bg-black/50 text-white backdrop-blur-md px-4 py-2 rounded-full text-xs md:text-sm font-bold flex items-center gap-2 transition-all border border-white/20 z-20",children:[l.jsx(Ib,{className:"w-4 h-4"})," "]}),l.jsxs("div",{className:`absolute top-4 right-4 px-4 py-1.5 rounded-full text-xs font-black flex items-center gap-2 backdrop-blur-md shadow-lg border-2 z-10 ${M.color}`,children:[l.jsx(M.icon,{className:"w-4 h-4"}),M.title]}),l.jsx("div",{className:"absolute -bottom-12 md:-bottom-16 right-8 md:right-12 z-20",children:l.jsxs("div",{className:"relative group cursor-pointer",onClick:()=>y(!0),children:[l.jsx("div",{className:"w-28 h-28 md:w-36 md:h-36 rounded-full border-[6px] border-white dark:border-gray-800 shadow-2xl overflow-hidden bg-white dark:bg-gray-700 relative z-10 transition-transform transform group-hover:scale-105 flex items-center justify-center",children:e!=null&&e.avatar?l.jsx("img",{src:e.avatar,alt:"Avatar",className:"w-full h-full object-cover"}):l.jsx(ln,{className:"w-16 h-16 text-gray-300 dark:text-gray-500"})}),l.jsx("div",{className:"absolute bottom-1 right-1 bg-emerald-500 text-white p-2 rounded-full border-4 border-white dark:border-gray-800 shadow-sm z-20 hover:bg-emerald-600 transition-colors",children:l.jsx(HE,{className:"w-4 h-4"})})]})})]}),l.jsxs("div",{className:"pt-16 md:pt-20 px-8 pb-8",children:[l.jsxs("div",{className:"flex flex-col items-start",children:[l.jsx("h2",{className:"text-3xl font-black text-gray-900 dark:text-white mb-1",children:e==null?void 0:e.displayName}),l.jsxs("div",{className:"flex items-center gap-2 text-gray-500 dark:text-gray-400 text-sm font-medium mb-6",children:[l.jsx("span",{children:e==null?void 0:e.email}),l.jsx("span",{className:"text-gray-300",children:""}),l.jsxs("span",{className:"text-emerald-600 dark:text-emerald-400 font-bold flex items-center gap-1",children:[l.jsx(gm,{className:"w-3 h-3"})," ",R]})]})]}),l.jsxs("form",{onSubmit:W,className:"space-y-6 border-t border-gray-100 dark:border-gray-700 pt-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[l.jsx("div",{className:"md:col-span-2",children:l.jsxs("h3",{className:"text-lg font-bold text-gray-800 dark:text-white flex items-center gap-2 mb-4",children:[l.jsx(ln,{className:"w-5 h-5 text-blue-500"})," "]})}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs font-bold text-gray-500 mb-1 block",children:" "}),l.jsx("input",{type:"text",value:_e.firstName,onChange:Q=>ze({..._e,firstName:Q.target.value}),className:"w-full px-4 py-3 rounded-xl bg-gray-50 dark:bg-gray-700/50 border-2 border-transparent focus:border-blue-500 outline-none font-bold text-gray-900 dark:text-white transition-all"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs font-bold text-gray-500 mb-1 block",children:" "}),l.jsx("input",{type:"text",value:_e.lastName,onChange:Q=>ze({..._e,lastName:Q.target.value}),className:"w-full px-4 py-3 rounded-xl bg-gray-50 dark:bg-gray-700/50 border-2 border-transparent focus:border-blue-500 outline-none font-bold text-gray-900 dark:text-white transition-all"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs font-bold text-gray-500 mb-1 block",children:""}),l.jsxs("div",{className:"w-full px-4 py-3 rounded-xl bg-gray-50 dark:bg-gray-700/50 border-2 border-transparent font-bold text-gray-900 dark:text-white flex justify-between items-center",children:[l.jsx("span",{children:(e==null?void 0:e.gender)==="male"?"":""}),!(e!=null&&e.genderChanged)&&l.jsx("button",{type:"button",onClick:()=>V(!0),className:"text-xs bg-blue-100 text-blue-600 px-2 py-1 rounded-lg hover:bg-blue-200 transition-colors font-bold",children:""}),(e==null?void 0:e.genderChanged)&&l.jsxs("span",{className:"text-xs text-gray-400 flex items-center gap-1 bg-gray-100 dark:bg-gray-800 px-2 py-1 rounded-lg border border-gray-200 dark:border-gray-600",children:[l.jsx(Dl,{className:"w-3 h-3"}),""]})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs font-bold text-gray-500 mb-1 block",children:" "}),l.jsx("input",{type:"text",value:_e.phone,onChange:Q=>ze({..._e,phone:Q.target.value}),className:"w-full px-4 py-3 rounded-xl bg-gray-50 dark:bg-gray-700/50 border-2 border-transparent focus:border-blue-500 outline-none font-bold text-gray-900 dark:text-white transition-all"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs font-bold text-gray-500 mb-1 block",children:""}),l.jsx("input",{type:"text",value:_e.address,onChange:Q=>ze({..._e,address:Q.target.value}),className:"w-full px-4 py-3 rounded-xl bg-gray-50 dark:bg-gray-700/50 border-2 border-transparent focus:border-blue-500 outline-none font-bold text-gray-900 dark:text-white transition-all"})]}),l.jsx("div",{className:"md:col-span-2 mt-2",children:l.jsxs("h3",{className:"text-lg font-bold text-gray-800 dark:text-white flex items-center gap-2 mb-4",children:[l.jsx(Vi,{className:"w-5 h-5 text-emerald-500"})," "]})}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs font-bold text-gray-500 mb-1 block",children:""}),l.jsx("input",{type:"text",value:_e.school,onChange:Q=>ze({..._e,school:Q.target.value}),className:"w-full px-4 py-3 rounded-xl bg-gray-50 dark:bg-gray-700/50 border-2 border-transparent focus:border-emerald-500 outline-none font-bold text-gray-900 dark:text-white transition-all"})]}),l.jsxs("div",{className:"relative",children:[l.jsx("label",{className:"text-xs font-bold text-gray-500 mb-1 block",children:" "}),l.jsxs("select",{value:_e.grade,onChange:Q=>ze({..._e,grade:Q.target.value}),className:"w-full px-4 py-3 rounded-xl bg-gray-50 dark:bg-gray-700/50 border-2 border-transparent focus:border-emerald-500 outline-none font-bold text-gray-900 dark:text-white appearance-none cursor-pointer transition-all",children:[l.jsx("option",{value:"",children:" "}),[5,6,7,8,9,10,11,12].map(Q=>l.jsxs("option",{value:Q,children:[" ",Q]},Q)),l.jsx("option",{value:"English Major - QOU",children:"  "})]}),l.jsx("div",{className:"absolute left-4 bottom-4 pointer-events-none text-gray-500",children:l.jsx(xc,{className:"w-4 h-4"})})]})]}),l.jsxs("div",{className:"flex items-center justify-end pt-4 gap-4",children:[u&&l.jsxs("span",{className:"text-green-600 font-bold text-sm animate-fade-in flex items-center gap-1",children:[l.jsx(Nn,{className:"w-4 h-4"})," ",u]}),l.jsxs("button",{type:"submit",disabled:s,className:"bg-gray-900 dark:bg-white text-white dark:text-black px-8 py-3 rounded-xl font-bold hover:opacity-90 transition-opacity flex items-center gap-2",children:[s?l.jsx(Gt,{className:"w-5 h-5 animate-spin"}):l.jsx(Si,{className:"w-5 h-5"})," "]})]})]})]})]})}),l.jsxs("div",{className:"lg:col-span-5 lg:order-2 space-y-6 mt-8 lg:mt-0",children:[l.jsxs("div",{className:"bg-gradient-to-br from-indigo-700 via-purple-700 to-fuchsia-700 rounded-[2.5rem] shadow-2xl p-6 text-white relative overflow-hidden border-4 border-white dark:border-gray-800 ring-4 ring-indigo-50 dark:ring-gray-900",children:[l.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-white opacity-10 rounded-full -translate-y-1/2 translate-x-1/2 blur-3xl"}),l.jsx("div",{className:"absolute bottom-0 left-0 w-48 h-48 bg-indigo-500 opacity-20 rounded-full translate-y-1/2 -translate-x-1/2 blur-3xl"}),l.jsx("div",{className:"flex items-center justify-between mb-6 relative z-10",children:l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-0 bg-yellow-400 blur-md opacity-50 rounded-full"}),l.jsx("div",{className:"p-3 bg-gradient-to-br from-yellow-300 to-orange-500 rounded-2xl shadow-lg relative border border-white/30",children:l.jsx(M.icon,{className:"w-8 h-8 text-white"})})]}),l.jsxs("div",{children:[l.jsxs("h3",{className:"text-3xl font-black tracking-tight",children:[" ",R]}),l.jsxs("p",{className:"text-indigo-100 text-sm font-medium flex items-center gap-1.5 mt-0.5 bg-black/20 px-3 py-1 rounded-full w-fit",children:[l.jsx(Fm,{className:"w-3.5 h-3.5 text-orange-400 fill-orange-400"}),N,"   (XP)"]})]})]})}),l.jsxs("div",{className:"relative mb-8",children:[l.jsxs("div",{className:"flex justify-between text-xs font-bold text-indigo-200 mb-1 px-1",children:[l.jsx("span",{children:M.title}),l.jsxs("span",{children:["  ",R+1]})]}),l.jsx("div",{className:"w-full bg-black/30 h-3.5 rounded-full relative overflow-hidden backdrop-blur-sm border border-white/10",children:l.jsx("div",{className:"bg-gradient-to-r from-yellow-400 via-orange-400 to-pink-500 h-full rounded-full transition-all duration-1000 ease-out relative shadow-[0_0_10px_rgba(251,191,36,0.5)]",style:{width:`${te}%`},children:l.jsx("div",{className:"absolute inset-0 bg-white/30 w-full h-full animate-[pulse_2s_cubic-bezier(0.4,0,0.6,1)_infinite]"})})})]}),l.jsxs("div",{className:"bg-black/20 rounded-2xl p-5 backdrop-blur-md border border-white/10",children:[l.jsxs("h4",{className:"text-sm font-bold text-indigo-100 mb-2 flex items-center gap-2",children:[l.jsx(Ti,{className:"w-4 h-4 text-yellow-300"})," "]}),l.jsx("div",{className:"text-xl font-black text-white tracking-wide mb-1",children:M.title}),l.jsx("div",{className:"text-xs text-indigo-200",children:"     !"})]})]}),l.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-sm border border-gray-100 dark:border-gray-700 p-6 max-h-[500px] overflow-hidden flex flex-col",children:[l.jsxs("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4 flex items-center gap-2 sticky top-0 bg-white dark:bg-gray-800 z-10 pb-2 border-b border-gray-100 dark:border-gray-700",children:[l.jsx("div",{className:"p-2 bg-blue-50 dark:bg-blue-900/30 rounded-lg",children:l.jsx(jb,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})}),"  "]}),F?l.jsx("div",{className:"flex justify-center py-8",children:l.jsx(Gt,{className:"w-6 h-6 animate-spin text-blue-500"})}):xe.length===0?l.jsxs("div",{className:"text-center py-12 text-gray-400 flex flex-col items-center gap-3",children:[l.jsx("div",{className:"w-16 h-16 bg-gray-50 dark:bg-gray-700 rounded-full flex items-center justify-center",children:l.jsx(jb,{className:"w-8 h-8 opacity-50"})}),l.jsx("p",{className:"font-medium",children:"     "})]}):l.jsx("div",{className:"space-y-3 overflow-y-auto pr-2 custom-scrollbar",children:[...xe].reverse().map(Q=>l.jsxs("div",{className:"p-4 rounded-2xl border border-gray-100 dark:border-gray-700 hover:border-blue-200 dark:hover:border-blue-800 hover:bg-blue-50/50 dark:hover:bg-blue-900/20 transition-all group relative overflow-hidden",children:[l.jsx("div",{className:`absolute right-0 top-0 bottom-0 w-1.5 ${Q.passed?"bg-emerald-500":"bg-red-500"}`}),l.jsxs("div",{className:"flex justify-between items-start mb-3 pr-3",children:[l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{className:"font-bold text-gray-900 dark:text-white text-sm md:text-base line-clamp-1 mb-1",children:Q.quizTitle}),l.jsxs("span",{className:"text-xs font-medium text-gray-500 dark:text-gray-400 flex items-center gap-1.5 bg-gray-100 dark:bg-gray-700 w-fit px-2 py-1 rounded-md",children:[l.jsx(Id,{className:"w-3.5 h-3.5 text-gray-400 dark:text-gray-500"}),ER(Q.createdAt)]})]}),l.jsx("div",{className:"flex flex-col items-end gap-1",children:Q.passed?l.jsxs("span",{className:"flex items-center gap-1 text-[10px] font-bold text-emerald-600 dark:text-emerald-400 bg-emerald-100 dark:bg-emerald-900/30 px-2 py-0.5 rounded-full",children:[l.jsx(Nn,{className:"w-3 h-3"})," "]}):l.jsxs("span",{className:"flex items-center gap-1 text-[10px] font-bold text-red-600 dark:text-red-400 bg-red-100 dark:bg-red-900/30 px-2 py-0.5 rounded-full",children:[l.jsx(im,{className:"w-3 h-3"})," "]})})]}),l.jsxs("div",{className:"flex justify-between items-center text-xs text-gray-500 dark:text-gray-400 border-t border-dashed border-gray-200 dark:border-gray-600 pt-2 pr-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"bg-gray-100 dark:bg-gray-700 px-2 py-0.5 rounded text-gray-600 dark:text-gray-300 font-medium",children:Q.subject}),l.jsxs("span",{className:"text-emerald-600 dark:text-emerald-400 font-bold bg-emerald-50 dark:bg-emerald-900/20 px-2 py-0.5 rounded-md flex items-center gap-1",children:[l.jsx(Db,{className:"w-3 h-3"}),Q.passed?"+50 XP":"+10 XP"]})]}),l.jsxs("span",{className:`font-black text-lg ${Q.percentage>=50?"text-emerald-600 dark:text-emerald-400":"text-red-500 dark:text-red-400"}`,children:[Q.percentage,"%"]})]})]},Q.id))})]}),l.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-sm border border-gray-100 dark:border-gray-700 p-6 hover:shadow-md transition-shadow",children:[l.jsxs("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[l.jsx("div",{className:"p-2 bg-emerald-50 dark:bg-emerald-900/30 rounded-lg",children:l.jsx(Db,{className:"w-5 h-5 text-emerald-600 dark:text-emerald-400"})}),"  "]}),F?l.jsx("div",{className:"h-48 flex items-center justify-center",children:l.jsx(Gt,{className:"w-6 h-6 animate-spin text-emerald-500"})}):l.jsxs("div",{className:"space-y-4",children:[l.jsx(NR,{data:Ie}),l.jsxs("div",{className:"flex justify-between items-center bg-gray-50 dark:bg-gray-700/50 p-4 rounded-xl border border-gray-100 dark:border-gray-700",children:[l.jsx("span",{className:"text-gray-600 dark:text-gray-300 text-sm font-bold",children:" "}),l.jsxs("span",{className:`font-black text-xl ${Ie.length>0&&Ie.reduce((Q,me)=>Q+me,0)/Ie.length>=90?"text-emerald-600 dark:text-emerald-400":"text-blue-600 dark:text-blue-400"}`,children:[Ie.length>0?Math.round(Ie.reduce((Q,me)=>Q+me,0)/Ie.length):0,"%"]})]})]})]})]})]})]})},jR=[{id:"All",label:" (All)"},{id:"Language",label:"Language ()"},{id:"Reading",label:"Reading ()"},{id:"Writing",label:"Writing ()"},{id:"Vocabulary",label:"Vocabulary ()"},{id:"General",label:"  (General Quiz)"}],nm=({options:a,value:e,onChange:r,placeholder:s,disabled:o})=>{const[u,f]=Y.useState(!1),g=Y.useRef(null);Y.useEffect(()=>{const y=w=>{g.current&&!g.current.contains(w.target)&&f(!1)};return document.addEventListener("mousedown",y),()=>document.removeEventListener("mousedown",y)},[]);const p=a.find(y=>y.value===e&&!y.isHeader);return l.jsxs("div",{className:`relative ${u?"z-50":"z-0"}`,ref:g,children:[l.jsxs("button",{type:"button",onClick:()=>!o&&f(!u),className:`w-full px-5 py-4 rounded-2xl font-bold text-right border-2 flex justify-between items-center outline-none transition-all
            ${o?"bg-gray-100 dark:bg-gray-800 border-gray-100 dark:border-gray-700 text-gray-400 cursor-not-allowed":u?"bg-white dark:bg-gray-800 border-emerald-500 ring-4 ring-emerald-50 dark:ring-emerald-900/20 text-gray-900 dark:text-white shadow-lg":"bg-gray-50 dark:bg-gray-700 border-transparent hover:border-emerald-200 dark:hover:border-emerald-700 text-gray-900 dark:text-white shadow-sm"}
         `,children:[l.jsx("span",{className:`truncate ${p?"":"text-gray-400 dark:text-gray-500"}`,children:p?p.label:s}),l.jsx(xc,{className:`w-5 h-5 text-gray-400 transition-transform duration-300 ${u?"rotate-180 text-emerald-500":""}`})]}),u&&l.jsxs("div",{className:"absolute top-full left-0 right-0 mt-2 bg-white dark:bg-gray-800 border border-gray-100 dark:border-gray-700 rounded-2xl shadow-xl max-h-72 overflow-y-auto custom-scrollbar animate-fade-in p-2 z-50",children:[a.map((y,w)=>{if(y.isHeader)return l.jsx("div",{className:"px-4 py-2 text-xs font-black text-gray-400 dark:text-gray-500 uppercase tracking-wider mt-2 first:mt-0 bg-gray-50/50 dark:bg-gray-700/50 rounded-lg mb-1",children:y.label},w);const _=y.value===e;return l.jsxs("div",{onClick:()=>{r(y.value),f(!1)},className:`px-4 py-3 rounded-xl font-bold text-sm cursor-pointer transition-colors flex justify-between items-center mb-1 group
                      ${_?"bg-emerald-50 dark:bg-emerald-900/30 text-emerald-600 dark:text-emerald-400":"text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"}
                   `,children:[y.label,_&&l.jsx(Od,{className:"w-4 h-4"})]},w)}),a.length===0&&l.jsx("div",{className:"p-4 text-center text-gray-400 text-sm",children:"   "})]})]})},SR=({onBack:a})=>{const{user:e}=la(),[r,s]=Y.useState("SELECTION"),[o,u]=Y.useState(""),[f,g]=Y.useState(""),[p,y]=Y.useState("All"),[w,_]=Y.useState([]),[S,V]=Y.useState(!1),[U,ne]=Y.useState(null),[$,le]=Y.useState(0),[ee,X]=Y.useState({}),[xe,oe]=Y.useState(1800),[F,T]=Y.useState(!1),[N,j]=Y.useState(0),[R,I]=Y.useState({}),[M,A]=Y.useState(!1),[_e,ze]=Y.useState(null),[W,ce]=Y.useState(!1),[ye,Me]=Y.useState(!1),[Ie,D]=Y.useState(!1),[te,P]=Y.useState(0),[Z,Q]=Y.useState(!1),[me,Ee]=Y.useState(null);Y.useEffect(()=>{window.scrollTo(0,0)},[r]),Y.useEffect(()=>{f?nt():_([])},[f]),Y.useEffect(()=>{let ge;return r==="ACTIVE"&&xe>0&&(ge=setInterval(()=>{oe(Ce=>Ce<=1?(Cn(),0):Ce-1)},1e3)),()=>clearInterval(ge)},[r,xe]),Y.useEffect(()=>{if(r!=="ACTIVE")return;const ge=()=>{P(Ve=>{const Fe=Ve+1;return Fe===1?Me(!0):Fe>=2&&(Me(!1),D(!0)),Fe})},Ce=()=>{document.hidden&&ge()},Ae=Ve=>{(Ve.key==="PrintScreen"||Ve.ctrlKey&&Ve.key==="p"||Ve.metaKey&&Ve.shiftKey)&&(Ve.preventDefault(),ge())},he=Ve=>Ve.preventDefault();return document.addEventListener("visibilitychange",Ce),document.addEventListener("keydown",Ae),document.addEventListener("contextmenu",he),document.addEventListener("copy",he),document.addEventListener("paste",he),document.addEventListener("cut",he),document.addEventListener("selectstart",he),()=>{document.removeEventListener("visibilitychange",Ce),document.removeEventListener("keydown",Ae),document.removeEventListener("contextmenu",he),document.removeEventListener("copy",he),document.removeEventListener("paste",he),document.removeEventListener("cut",he),document.removeEventListener("selectstart",he)}},[r]);const nt=async()=>{V(!0);try{const ge=Ms(un(Qt,"quizzes"),Vs("grade","==",f)),Ce=await Bi(ge),Ae=[];Ce.forEach(he=>{Ae.push({id:he.id,...he.data()})}),_(Ae)}catch(ge){console.error("Error fetching quizzes:",ge)}finally{V(!1)}},ve=Array.from(new Set(w.map(ge=>ge.subject))),gt=w.filter(ge=>{const Ce=o?ge.subject===o:!0,Ae=p&&p!=="All"?ge.category===p:!0;return Ce&&Ae}),Fr=ge=>{ze(ge),A(!0)},er=()=>{if(!_e)return;if(!_e.questions||_e.questions.length===0){alert("      ");return}const ge={};_e.questions.forEach((Ce,Ae)=>{if(Ce.type==="REORDER"){const he=Ce.options.map((Ve,Fe)=>Fe);for(let Ve=he.length-1;Ve>0;Ve--){const Fe=Math.floor(Math.random()*(Ve+1));[he[Ve],he[Fe]]=[he[Fe],he[Ve]]}ge[Ae]=he}}),I(ge),ne(_e),le(0),X({}),oe(1800),j(0),P(0),D(!1),A(!1),ze(null),s("ACTIVE")},Kt=ge=>{X(Ce=>({...Ce,[$]:ge}))},Yt=()=>{U&&($<U.questions.length-1?le(ge=>ge+1):Cn())},Cn=async()=>{if(!U||!e){s("RESULT");return}T(!0);const ge=dn(),Ce=Math.round(ge/U.questions.length*100);let Ae=10+Ce*2;Ce>=50&&(Ae+=50),Ce===100&&(Ae+=100);const he=Math.round(Ae);j(he);try{await Ch(un(Qt,"quiz_results"),{userId:e.uid,userName:e.displayName,quizId:U.id||"unknown",quizTitle:U.title,subject:U.subject,score:ge,totalQuestions:U.questions.length,percentage:Ce,passed:Ce>=50,earnedXP:he,createdAt:$l()});const Ve=Os(Qt,"users",e.uid);await u_(Ve,{totalXP:dv(he),quizzesCompleted:dv(1),lastQuizDate:$l(),role:"student",email:e.email,displayName:e.displayName},{merge:!0})}catch(Ve){console.error("Error saving quiz result:",Ve)}finally{T(!1),s("RESULT")}},Gr=ge=>{const Ce=Math.floor(ge/60),Ae=ge%60;return`${Ce}:${Ae<10?"0":""}${Ae}`},dn=()=>{if(!U)return 0;let ge=0;return U.questions.forEach((Ce,Ae)=>{if(Ce.type==="REORDER"){const he=ee[Ae];if(he&&he.length===Ce.options.length){let Ve=!0;for(let Fe=0;Fe<Ce.options.length;Fe++)if(he[Fe]!==Fe){Ve=!1;break}Ve&&ge++}}else ee[Ae]===Ce.correctAnswer&&ge++}),ge},Bs=()=>{ce(!0)},_t=()=>{ce(!1),s("SELECTION")},jt=()=>{D(!1),s("SELECTION")},Rr=ge=>{Ee(ge),Q(!0)},to=()=>{Q(!1),me==="REVIEW"?s("REVIEW"):me==="RETAKE"?er():me==="LIST"?s("SELECTION"):me==="HOME"&&a(),Ee(null)},qs=(ge,Ce)=>{const Ae=ee[$]||[];Kt(Ce?[...Ae,ge]:Ae.filter(he=>he!==ge))},tr=()=>{const ge=[{label:" ",value:"school_header",isHeader:!0},...[5,6,7,8,9,10,11,12].map(he=>({label:` ${he}`,value:he.toString()})),{label:" ",value:"uni_header",isHeader:!0},{label:"   -   ",value:"English Major - QOU"}],Ce=[{label:"  ",value:""},...ve.map(he=>({label:String(he),value:String(he)}))],Ae=jR.map(he=>({label:he.label,value:he.id}));return l.jsxs("div",{className:"max-w-5xl mx-auto px-4 py-8 animate-fade-in",children:[l.jsx("style",{children:`
        .custom-scrollbar::-webkit-scrollbar {
          width: 6px;
        }
        .custom-scrollbar::-webkit-scrollbar-track {
          background: transparent;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb {
          background-color: rgba(156, 163, 175, 0.5);
          border-radius: 20px;
        }
      `}),l.jsxs("div",{className:"mb-8 text-center",children:[l.jsx("h2",{className:"text-2xl md:text-3xl font-black text-gray-900 dark:text-white mb-2",children:" "}),l.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm md:text-base",children:"       "})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6 mb-6",children:[l.jsxs("div",{className:"lg:col-span-7 bg-white dark:bg-gray-800 p-5 rounded-3xl shadow-sm border border-gray-100 dark:border-gray-700 relative z-30",children:[l.jsxs("label",{className:"block text-base font-bold text-gray-800 dark:text-gray-200 mb-4 flex items-center gap-2",children:[l.jsx("div",{className:"p-2 bg-emerald-50 dark:bg-emerald-900/30 rounded-lg",children:l.jsx(Vi,{className:"w-5 h-5 text-emerald-600 dark:text-emerald-400"})}),"     "]}),l.jsx(nm,{options:ge,value:f,onChange:he=>{g(he),u(""),y("All")},placeholder:"--    --"})]}),l.jsxs("div",{className:"lg:col-span-5 bg-white dark:bg-gray-800 p-5 rounded-3xl shadow-sm border border-gray-100 dark:border-gray-700 relative z-20",children:[l.jsxs("label",{className:"block text-base font-bold text-gray-800 dark:text-gray-200 mb-4 flex items-center gap-2",children:[l.jsx("div",{className:"p-2 bg-emerald-50 dark:bg-emerald-900/30 rounded-lg",children:l.jsx(vr,{className:"w-5 h-5 text-emerald-600 dark:text-emerald-400"})})," "]}),l.jsx(nm,{options:Ce,value:o,onChange:u,placeholder:f?" ":"   ",disabled:!f})]})]}),f&&l.jsx("div",{className:"mb-10 animate-fade-in relative z-10",children:l.jsxs("div",{className:"bg-white dark:bg-gray-800 p-5 rounded-3xl shadow-sm border border-gray-100 dark:border-gray-700",children:[l.jsxs("label",{className:"block text-base font-bold text-gray-800 dark:text-gray-200 mb-4 flex items-center gap-2",children:[l.jsx("div",{className:"p-2 bg-emerald-50 dark:bg-emerald-900/30 rounded-lg",children:l.jsx(Rv,{className:"w-5 h-5 text-emerald-600 dark:text-emerald-400"})}),"  ()"]}),l.jsx(nm,{options:Ae,value:p,onChange:y,placeholder:"  "})]})}),f&&l.jsxs("div",{className:"space-y-6 animate-fade-in-up relative z-0",children:[l.jsxs("h3",{className:"text-lg font-bold text-gray-900 dark:text-gray-100 border-r-4 border-emerald-500 pr-3 flex items-center gap-2",children:[l.jsx(Ab,{className:"w-5 h-5"})," "]}),S?l.jsx("div",{className:"flex justify-center py-12",children:l.jsx(Gt,{className:"w-8 h-8 animate-spin text-emerald-600 dark:text-emerald-400"})}):w.length===0?l.jsxs("div",{className:"bg-white dark:bg-gray-800 p-8 rounded-2xl shadow-sm text-center border border-dashed border-gray-300 dark:border-gray-600",children:[l.jsx("div",{className:"w-16 h-16 bg-gray-100 dark:bg-gray-700 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx(Ai,{className:"w-8 h-8 text-gray-400 dark:text-gray-500"})}),l.jsx("p",{className:"text-gray-500 dark:text-gray-400 font-medium",children:"      "})]}):gt.length===0?l.jsxs("div",{className:"bg-white dark:bg-gray-800 p-8 rounded-2xl shadow-sm text-center border border-dashed border-gray-300 dark:border-gray-600",children:[l.jsx("div",{className:"w-16 h-16 bg-gray-100 dark:bg-gray-700 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx(Ai,{className:"w-8 h-8 text-gray-400 dark:text-gray-500"})}),l.jsx("p",{className:"text-gray-500 dark:text-gray-400 font-medium",children:"     "})]}):l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:gt.map(he=>l.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-200 dark:border-gray-700 p-5 hover:shadow-md hover:border-emerald-300 dark:hover:border-emerald-600 transition-all group",children:[l.jsxs("div",{className:"flex justify-between items-start mb-3",children:[l.jsxs("div",{className:"flex flex-col gap-1",children:[l.jsx("span",{className:"bg-emerald-100 dark:bg-emerald-900/50 text-emerald-700 dark:text-emerald-300 text-[10px] font-bold px-2 py-1 rounded-md w-fit",children:he.subject}),he.category&&l.jsx("span",{className:"bg-blue-50 dark:bg-blue-900/50 text-blue-700 dark:text-blue-300 text-[10px] font-bold px-2 py-1 rounded-md w-fit border border-blue-100 dark:border-blue-800",children:he.category==="General"?"General Quiz":he.category})]}),l.jsxs("span",{className:"text-gray-400 dark:text-gray-500 text-xs",children:[he.questions.length," "]})]}),l.jsx("h4",{className:"text-base font-bold text-gray-900 dark:text-white mb-2 line-clamp-2",children:he.title}),l.jsxs("div",{className:"flex items-center gap-1 text-gray-500 dark:text-gray-400 text-xs mb-5",children:[l.jsx(Ld,{className:"w-3 h-3"}),l.jsx("span",{children:he.grade==="English Major - QOU"?"  ":` ${he.grade}`})]}),l.jsxs("button",{onClick:()=>Fr(he),className:"w-full bg-emerald-50 dark:bg-emerald-900/30 text-emerald-700 dark:text-emerald-400 border border-emerald-200 dark:border-emerald-800 py-2.5 rounded-xl font-bold text-sm group-hover:bg-emerald-600 group-hover:text-white transition-all flex items-center justify-center gap-2",children:[" ",l.jsx(Rd,{className:"w-4 h-4"})]})]},he.id))})]}),M&&l.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center px-4",children:[l.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:()=>A(!1)}),l.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-2xl p-6 max-w-sm w-full relative z-10 animate-fade-in-up text-center border border-gray-100 dark:border-gray-800",children:[l.jsx("div",{className:"w-16 h-16 bg-emerald-100 dark:bg-emerald-900/50 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx(Ei,{className:"w-8 h-8 text-emerald-600 dark:text-emerald-400"})}),l.jsx("h3",{className:"text-xl font-black text-gray-900 dark:text-white mb-2",children:"  "}),l.jsxs("p",{className:"text-gray-500 dark:text-gray-400 mb-6 text-sm",children:["   ",l.jsx("strong",{children:_e==null?void 0:_e.title})," "]}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{onClick:er,className:"flex-1 bg-emerald-600 text-white py-2.5 rounded-xl font-bold hover:bg-emerald-700 transition-colors",children:" "}),l.jsx("button",{onClick:()=>A(!1),className:"flex-1 bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 py-2.5 rounded-xl font-bold hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",children:""})]})]})]})]})},oa=()=>{if(!U||!U.questions||!U.questions[$])return l.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-white dark:bg-gray-900 gap-4",children:[l.jsx("div",{className:"text-red-500 font-bold text-lg",children:"    "}),l.jsx("button",{onClick:()=>s("SELECTION"),className:"text-blue-600 dark:text-blue-400 underline",children:" "})]});const ge=U.questions[$],Ce=ge.type==="REORDER";let Ae=!1;if(Ce){const Be=ee[$];Ae=Be!==void 0&&Be.length===ge.options.length}else Ae=ee[$]!==void 0;const he=$===U.questions.length-1,Ve=U.subject.toLowerCase().includes("english")||U.subject.includes("")||U.subject.includes(""),Fe=Ve?"ltr":"rtl",We=Ve?"text-left":"text-right",Ht={sm:"text-sm leading-relaxed",md:"text-base leading-relaxed",lg:"text-xl leading-loose",xl:"text-2xl leading-loose"}[ge.passageFontSize||"md"];return l.jsxs("div",{className:"fixed inset-0 z-[9999] bg-gray-50 dark:bg-gray-900 overflow-y-auto select-none",onContextMenu:Be=>Be.preventDefault(),style:{WebkitUserSelect:"none",MozUserSelect:"none",msUserSelect:"none",userSelect:"none",WebkitTouchCallout:"none"},children:[Ie&&l.jsx("div",{className:"fixed inset-0 z-[10001] flex items-center justify-center px-4 bg-black/90 backdrop-blur-md",children:l.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-2xl p-8 max-w-sm w-full relative z-20 animate-bounce text-center border-4 border-red-600 shadow-[0_0_50px_rgba(220,38,38,0.5)]",children:[l.jsx("div",{className:"w-24 h-24 bg-red-100 dark:bg-red-900 rounded-full flex items-center justify-center mx-auto mb-6 animate-pulse",children:l.jsx(n4,{className:"w-12 h-12 text-red-600 dark:text-red-400"})}),l.jsx("h3",{className:"text-3xl font-black text-red-600 mb-4",children:"   "}),l.jsxs("p",{className:"text-gray-800 dark:text-gray-200 font-bold mb-8 text-lg leading-relaxed",children:["      .",l.jsx("br",{}),l.jsx("span",{className:"text-red-500 block mt-2",children:"     ."})]}),l.jsx("button",{onClick:jt,className:"w-full bg-red-600 text-white py-4 rounded-xl font-black text-xl hover:bg-red-700 transition-all shadow-lg transform hover:scale-105",children:""})]})}),ye&&!Ie&&l.jsxs("div",{className:"fixed inset-0 z-[10000] flex items-center justify-center px-4",children:[l.jsx("div",{className:"absolute inset-0 bg-red-900/80 backdrop-blur-sm"}),l.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-2xl p-6 max-w-sm w-full relative z-20 animate-bounce text-center border-4 border-red-500 shadow-2xl",children:[l.jsx("div",{className:"w-20 h-20 bg-red-100 dark:bg-red-900 rounded-full flex items-center justify-center mx-auto mb-4 animate-pulse",children:l.jsx(Ov,{className:"w-10 h-10 text-red-600 dark:text-red-400"})}),l.jsx("h3",{className:"text-2xl font-black text-red-600 mb-2",children:" !"}),l.jsxs("p",{className:"text-gray-800 dark:text-gray-200 font-bold mb-4",children:["         .",l.jsx("br",{}),l.jsx("span",{className:"text-red-500 dark:text-red-400 text-sm mt-2 block",children:"       ."})]}),l.jsx("button",{onClick:()=>Me(!1),className:"w-full bg-red-600 text-white py-3 rounded-xl font-bold hover:bg-red-700 transition-colors",children:"  "})]})]}),W&&l.jsxs("div",{className:"fixed inset-0 z-[10000] flex items-center justify-center px-4",children:[l.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:()=>ce(!1)}),l.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-2xl p-6 max-w-sm w-full relative z-10 animate-fade-in-up text-center border border-gray-100 dark:border-gray-800",children:[l.jsx("div",{className:"w-16 h-16 bg-red-100 dark:bg-red-900/50 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx(Vd,{className:"w-8 h-8 text-red-600 dark:text-red-400"})}),l.jsx("h3",{className:"text-xl font-black text-gray-900 dark:text-white mb-2",children:" "}),l.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-6 text-sm",children:"           ."}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{onClick:_t,className:"flex-1 bg-red-600 text-white py-2.5 rounded-xl font-bold hover:bg-red-700 transition-colors",children:" "}),l.jsx("button",{onClick:()=>ce(!1),className:"flex-1 bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 py-2.5 rounded-xl font-bold hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",children:""})]})]})]}),l.jsxs("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 sticky top-0 z-50 shadow-sm",children:[l.jsxs("div",{className:"max-w-4xl mx-auto px-3 h-14 flex justify-between items-center",children:[l.jsxs("button",{onClick:Bs,className:"flex items-center gap-2 text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 px-3 py-1.5 rounded-lg transition-colors font-bold text-sm",children:[l.jsx(Vd,{className:"w-4 h-4"}),l.jsx("span",{className:"hidden sm:inline",children:""})]}),l.jsx("div",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 flex flex-col items-center",children:l.jsxs("div",{className:`flex items-center gap-2 px-4 py-1 rounded-full font-mono font-bold text-base shadow-inner ${xe<300?"bg-red-100 dark:bg-red-900/50 text-red-600 dark:text-red-200 animate-pulse":"bg-gray-100 dark:bg-gray-700 text-emerald-700 dark:text-emerald-400"}`,children:[l.jsx(Ev,{className:"w-4 h-4"}),Gr(xe)]})}),l.jsxs("div",{className:"text-xs font-bold text-gray-500 dark:text-gray-400",children:[$+1," / ",U.questions.length]})]}),l.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 h-1.5",children:l.jsx("div",{className:"bg-emerald-500 h-full transition-all duration-500 ease-out",style:{width:`${($+1)/U.questions.length*100}%`}})})]}),l.jsxs("div",{className:"max-w-3xl mx-auto px-3 py-6",children:[l.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden animate-fade-in-up",dir:Fe,children:[l.jsxs("div",{className:"bg-emerald-50/50 dark:bg-emerald-900/20 border-b border-emerald-100 dark:border-emerald-800 p-4 flex items-center justify-between",children:[l.jsx("h2",{className:"font-black text-gray-800 dark:text-gray-200 text-base md:text-lg",children:U.title}),l.jsx("div",{className:"bg-white dark:bg-gray-700 p-1.5 rounded-lg shadow-sm border border-gray-100 dark:border-gray-600",children:Ce?l.jsx(Sv,{className:"w-4 h-4 text-emerald-500"}):l.jsx(Dl,{className:"w-4 h-4 text-gray-400"})})]}),l.jsxs("div",{className:"p-5 md:p-8",children:[ge.passageContent&&l.jsxs("div",{className:"mb-8",children:[ge.generalInstruction&&l.jsx("div",{className:`text-gray-500 dark:text-gray-400 font-bold mb-3 text-sm bg-gray-100 dark:bg-gray-700/50 px-3 py-2 rounded-lg border-l-4 border-emerald-500 ${We}`,children:ge.generalInstruction}),l.jsx("div",{className:`bg-blue-50 dark:bg-blue-900/20 p-5 rounded-2xl border border-blue-100 dark:border-blue-800 ${We}`,children:l.jsx("div",{className:`text-gray-800 dark:text-gray-200 whitespace-pre-wrap font-medium ${Ht}`,children:ge.passageContent})})]}),l.jsx("h3",{className:`text-lg md:text-2xl font-black text-black dark:text-white leading-relaxed mb-8 ${We}`,children:ge.question}),Ce?l.jsxs("div",{className:"space-y-6",dir:"ltr",children:[l.jsxs("div",{className:"min-h-[100px] p-4 bg-gray-50 dark:bg-gray-700/30 rounded-2xl border-2 border-dashed border-gray-300 dark:border-gray-600 flex flex-wrap gap-2 items-start content-start transition-all",children:[(ee[$]||[]).map((Be,ft)=>l.jsx("button",{onClick:()=>qs(Be,!1),className:"bg-emerald-500 text-white px-4 py-2 rounded-xl font-bold shadow-sm hover:bg-red-500 transition-colors animate-fade-in",children:ge.options[Be]},`ans-${ft}`)),(!ee[$]||ee[$].length===0)&&l.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400 text-sm font-medium italic",children:"      "})]}),l.jsx("div",{className:"flex flex-wrap gap-3 justify-center bg-white dark:bg-gray-800 p-4",children:(R[$]||[]).filter(Be=>!(ee[$]||[]).includes(Be)).map((Be,ft)=>l.jsx("button",{onClick:()=>qs(Be,!0),className:"bg-white dark:bg-gray-700 border-2 border-gray-200 dark:border-gray-600 text-gray-700 dark:text-gray-200 px-4 py-2 rounded-xl font-bold shadow-sm hover:border-emerald-400 hover:text-emerald-600 dark:hover:text-emerald-400 transition-all transform hover:scale-105 active:scale-95",children:ge.options[Be]},`bank-${ft}`))}),l.jsx("div",{className:"flex justify-end",children:l.jsxs("button",{onClick:()=>Kt([]),className:"text-xs font-bold text-gray-400 hover:text-red-500 flex items-center gap-1",children:[l.jsx(Cv,{className:"w-3 h-3"})," "]})})]}):l.jsx("div",{className:"space-y-3",children:ge.options.map((Be,ft)=>l.jsxs("button",{onClick:()=>Kt(ft),className:`w-full ${We} p-4 rounded-xl border-2 transition-all flex items-center justify-between group hover:scale-[1.01] active:scale-[0.99] duration-200 ${ee[$]===ft?"border-emerald-500 bg-emerald-50 dark:bg-emerald-900/30 shadow-md ring-2 ring-emerald-100 dark:ring-emerald-900":"border-gray-100 dark:border-gray-700 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 hover:border-gray-300 dark:hover:border-gray-600 shadow-sm"}`,children:[l.jsx("span",{className:`text-base font-bold ${ee[$]===ft?"text-emerald-900 dark:text-emerald-300":"text-gray-700 dark:text-gray-300"}`,children:Be}),l.jsx("div",{className:`w-6 h-6 rounded-full border-2 flex items-center justify-center shrink-0 ml-2 transition-colors ${ee[$]===ft?"border-emerald-600 bg-emerald-600":"border-gray-300 dark:border-gray-600 group-hover:border-emerald-400"}`,children:ee[$]===ft&&l.jsx("div",{className:"w-2.5 h-2.5 bg-white rounded-full"})})]},ft))})]})]}),l.jsx("div",{className:"mt-6 flex justify-end",children:l.jsx("button",{onClick:Yt,disabled:!Ae||F,className:`w-full sm:w-auto px-8 py-4 rounded-xl font-bold text-lg flex items-center justify-center gap-2 shadow-lg transition-all ${!Ae||F?"bg-gray-200 dark:bg-gray-700 text-gray-400 dark:text-gray-500 cursor-not-allowed shadow-none":"bg-emerald-600 text-white hover:bg-emerald-700 hover:shadow-emerald-200 dark:hover:shadow-none active:scale-95"}`,children:F?l.jsxs(l.Fragment,{children:["  ",l.jsx(Gt,{className:"w-5 h-5 animate-spin"})]}):l.jsxs(l.Fragment,{children:[he?" ":" ",Fe==="rtl"?l.jsx(Rd,{className:"w-5 h-5"}):l.jsx(or,{className:"w-5 h-5"})]})})})]})]})},Hs=()=>{if(!U)return null;const ge=dn(),Ce=U.questions.length,Ae=Math.round(ge/Ce*100);let he="text-red-500",Ve="from-red-500 to-pink-600",Fe=im;Ae>=90?(he="text-emerald-500",Ve="from-emerald-400 to-teal-600",Fe=Ti):Ae>=75?(he="text-blue-500",Ve="from-blue-400 to-indigo-600",Fe=Ni):Ae>=50&&(he="text-yellow-500",Ve="from-yellow-400 to-orange-500",Fe=Od);const We=Fe;return l.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center p-4 animate-fade-in",children:l.jsxs("div",{className:"w-full max-w-md bg-white dark:bg-gray-800 rounded-[2.5rem] shadow-2xl overflow-hidden relative border border-gray-100 dark:border-gray-700",children:[Ae>=75&&l.jsx("div",{className:"absolute inset-0 pointer-events-none opacity-10",style:{backgroundImage:"radial-gradient(circle, #34d399 2px, transparent 2.5px)",backgroundSize:"20px 20px"}}),l.jsxs("div",{className:`relative pt-12 pb-16 px-6 text-center bg-gradient-to-br ${Ve}`,children:[l.jsx("div",{className:"absolute top-0 left-0 w-full h-full opacity-10 bg-[url('https://www.transparenttextures.com/patterns/cubes.png')]"}),l.jsxs("div",{className:"relative z-10",children:[l.jsx("div",{className:"w-24 h-24 mx-auto bg-white/20 backdrop-blur-md rounded-full flex items-center justify-center mb-4 shadow-lg ring-4 ring-white/10",children:l.jsx(We,{className:"w-12 h-12 text-white"})}),l.jsx("h2",{className:"text-3xl font-black text-white mb-1",children:Ae>=90?"!":Ae>=50?"!":" "}),l.jsx("p",{className:"text-white/90 font-medium text-sm mb-6",children:U.title}),l.jsxs("div",{className:"inline-flex items-center gap-2 bg-white/20 backdrop-blur-md px-6 py-2 rounded-full border border-white/20 shadow-lg",children:[l.jsx(Fm,{className:"w-5 h-5 text-yellow-300 fill-yellow-300 animate-pulse"}),l.jsxs("span",{className:"font-black text-white text-lg",children:["+",N," XP"]})]})]}),l.jsx("div",{className:"absolute -bottom-1 left-0 w-full overflow-hidden leading-[0]",children:l.jsx("svg",{className:"relative block w-[calc(100%+1.3px)] h-[50px]","data-name":"Layer 1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1200 120",preserveAspectRatio:"none",children:l.jsx("path",{d:"M321.39,56.44c58-10.79,114.16-30.13,172-41.86,82.39-16.72,168.19-17.73,250.45-.39C823.78,31,906.67,72,985.66,92.83c70.05,18.48,146.53,26.09,214.34,3V0H0V27.35A600.21,600.21,0,0,0,321.39,56.44Z",className:"fill-white dark:fill-gray-800"})})})]}),l.jsxs("div",{className:"px-6 pb-8 -mt-6 relative z-10",children:[l.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg border border-gray-100 dark:border-gray-700 p-6 text-center mb-6 transform -translate-y-4",children:[l.jsx("div",{className:"text-sm text-gray-400 font-bold uppercase tracking-wider mb-2",children:" "}),l.jsx("div",{className:"flex justify-center items-baseline gap-1",children:l.jsxs("span",{className:`text-6xl font-black ${he}`,children:[Ae,"%"]})}),l.jsxs("div",{className:"text-gray-400 font-medium mt-1 text-sm",children:[ge,"     ",Ce]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-8",children:[l.jsxs("div",{className:"bg-emerald-50 dark:bg-emerald-900/20 p-4 rounded-2xl border border-emerald-100 dark:border-emerald-800 text-center",children:[l.jsx("div",{className:"text-emerald-600 dark:text-emerald-400 font-black text-2xl mb-1",children:ge}),l.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 font-bold",children:" "})]}),l.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 p-4 rounded-2xl border border-red-100 dark:border-red-800 text-center",children:[l.jsx("div",{className:"text-red-500 dark:text-red-400 font-black text-2xl mb-1",children:Ce-ge}),l.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 font-bold",children:" "})]})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("button",{onClick:()=>Rr("REVIEW"),className:"w-full py-4 bg-gray-900 dark:bg-white text-white dark:text-gray-900 font-bold rounded-2xl shadow-lg hover:shadow-xl transition-all flex items-center justify-center gap-3 active:scale-95",children:[l.jsx(om,{className:"w-5 h-5"})," "]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("button",{onClick:()=>Rr("RETAKE"),className:"py-3 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-white font-bold rounded-2xl hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors flex items-center justify-center gap-2 text-sm",children:[l.jsx(Av,{className:"w-4 h-4"})," "]}),l.jsxs("button",{onClick:()=>Rr("LIST"),className:"py-3 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-white font-bold rounded-2xl hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors flex items-center justify-center gap-2 text-sm",children:[l.jsx(Ab,{className:"w-4 h-4"}),""]})]}),l.jsxs("button",{onClick:()=>Rr("HOME"),className:"w-full py-3 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 font-bold text-sm transition-colors flex items-center justify-center gap-2",children:[l.jsx(Md,{className:"w-4 h-4"})," "]})]})]})]})})},Fs=()=>{if(!U)return null;const ge=U.subject.toLowerCase().includes("english")||U.subject.includes("")||U.subject.includes(""),Ce=ge?"ltr":"rtl",Ae=ge?"text-left":"text-right";return l.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8 animate-fade-in",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsxs("h2",{className:"text-xl font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[l.jsx(om,{className:"w-5 h-5 text-emerald-600 dark:text-emerald-400"})," "]}),l.jsxs("button",{onClick:()=>s("RESULT"),className:"text-gray-500 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white font-medium flex items-center gap-1 text-sm",children:[l.jsx(or,{className:"w-4 h-4"})," "]})]}),l.jsx("div",{className:"space-y-6",children:U.questions.map((he,Ve)=>{const Fe=he.type==="REORDER";let We=!1,Ht=null;if(Fe){const ft=ee[Ve];ft?(Ht=ft.map(dr=>he.options[dr]).join(" "),We=ft.length===he.options.length&&ft.every((dr,hn)=>dr===hn)):(Ht="  ",We=!1)}else{const ft=ee[Ve];We=ft===he.correctAnswer,Ht=ft!==void 0?he.options[ft]:"  "}const Be={sm:"text-sm leading-relaxed",md:"text-base leading-relaxed",lg:"text-xl leading-loose",xl:"text-2xl leading-loose"}[he.passageFontSize||"md"];return l.jsxs("div",{className:`bg-white dark:bg-gray-800 rounded-2xl shadow-sm border p-5 ${We?"border-gray-100 dark:border-gray-700":"border-red-100 dark:border-red-900/50"}`,dir:Ce,children:[he.passageContent&&l.jsxs("div",{className:"mb-4 pb-4 border-b border-gray-100 dark:border-gray-700",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-1 rounded-md",children:l.jsx(Dv,{className:"w-4 h-4 text-blue-600"})}),l.jsx("span",{className:"text-xs font-bold text-gray-500",children:" "})]}),l.jsx("div",{className:`text-gray-600 dark:text-gray-300 whitespace-pre-wrap bg-gray-50 dark:bg-gray-700/30 p-3 rounded-xl ${Ae} ${Be}`,children:he.passageContent})]}),l.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[l.jsx("span",{className:`w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold shrink-0 mt-0.5 ${We?"bg-emerald-100 dark:bg-emerald-900 text-emerald-700 dark:text-emerald-300":"bg-red-100 dark:bg-red-900 text-red-700 dark:text-red-300"}`,children:Ve+1}),l.jsx("h3",{className:`text-base font-bold text-gray-900 dark:text-white leading-relaxed ${Ae}`,children:he.question})]}),Fe?l.jsxs("div",{className:"space-y-3 mb-4",children:[l.jsxs("div",{className:`p-3 rounded-xl border text-sm ${We?"bg-emerald-50 dark:bg-emerald-900/20 border-emerald-500":"bg-red-50 dark:bg-red-900/20 border-red-500"}`,children:[l.jsx("span",{className:"block text-xs font-bold opacity-70 mb-1",children:":"}),l.jsx("span",{className:"font-bold",children:Ht})]}),!We&&l.jsxs("div",{className:"p-3 rounded-xl border bg-gray-50 dark:bg-gray-800 border-gray-200 dark:border-gray-700 text-sm",children:[l.jsx("span",{className:"block text-xs font-bold opacity-70 mb-1",children:" :"}),l.jsx("span",{className:"font-bold text-emerald-600 dark:text-emerald-400",children:he.options.join(" ")})]})]}):l.jsx("div",{className:"space-y-2 mb-4",children:he.options.map((ft,dr)=>{let hn="p-3 rounded-xl border flex items-center justify-between text-sm ";const Ir=ee[Ve];return dr===he.correctAnswer?hn+="bg-emerald-50 dark:bg-emerald-900/30 border-emerald-500 text-emerald-900 dark:text-emerald-300 font-bold":dr===Ir&&!We?hn+="bg-red-50 dark:bg-red-900/30 border-red-500 text-red-900 dark:text-red-300 font-medium opacity-75":hn+="bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 text-gray-500 dark:text-gray-400 opacity-60",l.jsxs("div",{className:hn,children:[l.jsx("span",{className:Ae,children:ft}),dr===he.correctAnswer&&l.jsx(Od,{className:"w-4 h-4 text-emerald-600 dark:text-emerald-400"}),dr===Ir&&!We&&l.jsx(im,{className:"w-4 h-4 text-red-600 dark:text-red-400"})]},dr)})}),he.explanation&&l.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-100 dark:border-blue-800 p-3 rounded-xl text-blue-900 dark:text-blue-300 text-sm leading-relaxed flex items-start gap-2",dir:"rtl",children:[l.jsx("div",{className:"bg-blue-100 dark:bg-blue-900/50 p-1 rounded-full mt-0.5 shrink-0",children:l.jsx(vr,{className:"w-3 h-3 text-blue-600 dark:text-blue-400"})}),l.jsxs("div",{className:"w-full",children:[l.jsx("span",{className:"font-bold block mb-1 text-right text-xs",children:" :"}),l.jsx("div",{className:Ae,dir:Ce,children:he.explanation})]})]})]},he.id)})})]})};return l.jsxs("div",{className:"min-h-screen bg-white dark:bg-gray-900 pb-20",children:[r==="SELECTION"&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 py-4 px-4 sticky top-0 z-30",children:l.jsxs("div",{className:"max-w-7xl mx-auto flex items-center gap-4",children:[l.jsx("button",{onClick:a,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition-colors",children:l.jsx(or,{className:"w-6 h-6 text-gray-600 dark:text-gray-300"})}),l.jsx("span",{className:"font-bold text-gray-900 dark:text-white",children:" "})]})}),tr()]}),r==="ACTIVE"&&oa(),r==="RESULT"&&Hs(),r==="REVIEW"&&Fs(),Z&&l.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center px-4",children:[l.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:()=>Q(!1)}),l.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-2xl p-6 max-w-sm w-full relative z-10 animate-fade-in-up text-center border border-gray-100 dark:border-gray-800",children:[l.jsx("div",{className:"w-16 h-16 bg-emerald-100 dark:bg-emerald-900/50 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx(Ei,{className:"w-8 h-8 text-emerald-600 dark:text-emerald-400"})}),l.jsx("h3",{className:"text-xl font-black text-gray-900 dark:text-white mb-2",children:"  "}),l.jsxs("p",{className:"text-gray-500 dark:text-gray-400 mb-6 text-sm",children:[me==="REVIEW"&&"   ",me==="RETAKE"&&"     ",me==="LIST"&&"    ",me==="HOME"&&"    "]}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{onClick:to,className:"flex-1 bg-emerald-600 text-white py-2.5 rounded-xl font-bold hover:bg-emerald-700 transition-colors",children:""}),l.jsx("button",{onClick:()=>Q(!1),className:"flex-1 bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 py-2.5 rounded-xl font-bold hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",children:""})]})]})]})]})},AR=({className:a})=>l.jsx("svg",{viewBox:"0 0 24 24",className:a,fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.008-.57-.008-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"})}),CR=({className:a})=>l.jsx("svg",{viewBox:"0 0 24 24",className:a,fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.694 0zM4.98 14.41c6.009-2.607 10.015-4.335 12.019-5.168 2.656-.867 3.084-.386 2.84 1.712-.366 3.157-1.408 8.873-1.93 10.364-.22.628-.648.676-1.308.244-1.68-1.044-3.896-2.532-4.812-3.132-.956-.628-1.144-1.24-.208-2.212 2.168-2.248 4.068-4.064 3.724-4.376-.428-.388-2.648.82-7.008 3.776-.784.532-1.496.524-2.192.316-1.04-.312-2.052-.648-2.828-.904-1.056-.348-1.06-1.056.172-1.576z"})}),RR=({onBack:a})=>{const e=[{name:".   ",image:"https://lh3.googleusercontent.com/d/1tbzVNKO3FGH46Pa6MZ58OWD4BXVKdK5P",title:"  ",school:"  ",location:" ",color:"emerald",bio:"         .              .",skills:["  ","  "," ","  "],social:{facebook:"#",whatsapp:"https://wa.me/972568401548",telegram:"https://t.me/yazan1342"}},{name:".   ",image:"https://lh3.googleusercontent.com/d/1xPDpcaUPz3IH-pqv-Jgplroi6U27BVVj",title:"  ",school:"  ",location:" ",color:"blue",bio:"       .                .",skills:[" "," "," ","  "],social:{facebook:"#",whatsapp:"#",telegram:"#"}}];return l.jsxs("div",{className:"min-h-screen bg-white dark:bg-gray-900 animate-fade-in transition-colors duration-300",children:[l.jsx("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 py-6 px-4 sticky top-0 z-30 shadow-sm",children:l.jsx("div",{className:"max-w-6xl mx-auto flex items-center gap-4",children:l.jsxs("button",{onClick:a,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition-colors flex items-center gap-2 text-gray-600 dark:text-gray-300 font-bold",children:[l.jsx(or,{className:"w-6 h-6"})," "]})})}),l.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-12",children:[l.jsxs("div",{className:"text-center mb-16",children:[l.jsx("h1",{className:"text-4xl font-black text-gray-900 dark:text-white mb-4",children:"  "}),l.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-400",children:"       "})]}),l.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:e.map((r,s)=>l.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-xl overflow-hidden border border-gray-100 dark:border-gray-700 flex flex-col h-full hover:shadow-2xl transition-shadow duration-300",children:[l.jsx("div",{className:`bg-${r.color}-600 h-32 relative`,children:l.jsx("div",{className:"absolute -bottom-12 right-8",children:l.jsx("div",{className:"w-24 h-24 bg-white dark:bg-gray-700 p-1 rounded-2xl shadow-lg transform rotate-3",children:l.jsx("div",{className:`w-full h-full bg-${r.color}-50 dark:bg-${r.color}-900/30 rounded-xl flex items-center justify-center overflow-hidden`,children:l.jsx("img",{src:r.image,alt:r.name,className:"w-full h-full object-cover"})})})})}),l.jsxs("div",{className:"pt-16 pb-8 px-8 flex-1 flex flex-col",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-1",children:r.name}),l.jsx("p",{className:`text-${r.color}-600 dark:text-${r.color}-400 font-bold text-lg mb-4`,children:r.title}),l.jsxs("div",{className:"flex flex-col gap-2 text-gray-500 dark:text-gray-400 text-sm mb-6",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Nv,{className:"w-4 h-4"}),r.school]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(hm,{className:"w-4 h-4"}),r.location]})]}),l.jsxs("div",{className:"mb-6",children:[l.jsxs("h3",{className:"font-bold text-gray-900 dark:text-white mb-2 flex items-center gap-2",children:[l.jsx($m,{className:"w-5 h-5 text-yellow-500 fill-yellow-500"})," "]}),l.jsx("p",{className:"text-gray-600 dark:text-gray-300 leading-relaxed",children:r.bio})]})]}),l.jsxs("div",{className:"mt-auto",children:[l.jsxs("div",{className:"mb-6",children:[l.jsxs("h3",{className:"font-bold text-gray-900 dark:text-white mb-3 flex items-center gap-2",children:[l.jsx(Ni,{className:`w-5 h-5 text-${r.color}-600 dark:text-${r.color}-400`})," "]}),l.jsx("div",{className:"flex flex-wrap gap-2",children:r.skills.map((o,u)=>l.jsx("span",{className:`bg-${r.color}-50 dark:bg-${r.color}-900/20 text-${r.color}-700 dark:text-${r.color}-300 px-3 py-1 rounded-lg text-sm font-medium`,children:o},u))})]}),l.jsxs("div",{className:"pt-6 border-t border-gray-100 dark:border-gray-700",children:[l.jsx("h3",{className:"font-bold text-gray-900 dark:text-white mb-4 text-sm",children:" "}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("a",{href:r.social.facebook,target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 rounded-full bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400 flex items-center justify-center hover:bg-blue-600 hover:text-white transition-all",children:l.jsx(cm,{className:"w-5 h-5"})}),l.jsx("a",{href:r.social.whatsapp,target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 rounded-full bg-green-50 dark:bg-green-900/20 text-green-600 dark:text-green-400 flex items-center justify-center hover:bg-green-600 hover:text-white transition-all",children:l.jsx(AR,{className:"w-5 h-5"})}),l.jsx("a",{href:r.social.telegram,target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 rounded-full bg-sky-50 dark:bg-sky-900/20 text-sky-600 dark:text-sky-400 flex items-center justify-center hover:bg-sky-600 hover:text-white transition-all",children:l.jsx(CR,{className:"w-5 h-5"})})]})]})]})]})]},s))})]})]})},IR=({onBack:a})=>l.jsxs("div",{className:"min-h-screen bg-white dark:bg-gray-900 animate-fade-in transition-colors duration-300",children:[l.jsx("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 py-6 px-4 sticky top-0 z-30 shadow-sm",children:l.jsx("div",{className:"max-w-7xl mx-auto flex items-center gap-4",children:l.jsxs("button",{onClick:a,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition-colors flex items-center gap-2 text-gray-600 dark:text-gray-300 font-bold",children:[l.jsx(or,{className:"w-6 h-6"})," "]})})}),l.jsx("div",{className:"relative bg-emerald-600 dark:bg-emerald-800 py-20 overflow-hidden",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 relative z-10 text-center",children:[l.jsx("span",{className:"bg-emerald-500/50 dark:bg-emerald-700/50 text-white px-4 py-1 rounded-full text-sm font-medium mb-6 inline-block backdrop-blur-sm",children:"    "}),l.jsxs("h1",{className:"text-4xl md:text-6xl font-black text-white mb-6 leading-tight",children:["   ",l.jsx("br",{}),"   "]}),l.jsx("p",{className:"text-emerald-100 text-xl max-w-2xl mx-auto leading-relaxed",children:"                    ."})]})}),l.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-16",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-20",children:[l.jsxs("div",{className:"bg-white dark:bg-gray-800 p-8 rounded-3xl shadow-sm border border-gray-100 dark:border-gray-700 hover:shadow-lg transition-all",children:[l.jsx("div",{className:"w-16 h-16 bg-blue-100 dark:bg-blue-900/30 rounded-2xl flex items-center justify-center mb-6",children:l.jsx(om,{className:"w-8 h-8 text-blue-600 dark:text-blue-400"})}),l.jsx("h2",{className:"text-2xl font-black text-gray-900 dark:text-white mb-4",children:""}),l.jsx("p",{className:"text-gray-600 dark:text-gray-300 leading-relaxed text-lg",children:"                   ."})]}),l.jsxs("div",{className:"bg-white dark:bg-gray-800 p-8 rounded-3xl shadow-sm border border-gray-100 dark:border-gray-700 hover:shadow-lg transition-all",children:[l.jsx("div",{className:"w-16 h-16 bg-emerald-100 dark:bg-emerald-900/30 rounded-2xl flex items-center justify-center mb-6",children:l.jsx(Iv,{className:"w-8 h-8 text-emerald-600 dark:text-emerald-400"})}),l.jsx("h2",{className:"text-2xl font-black text-gray-900 dark:text-white mb-4",children:""}),l.jsx("p",{className:"text-gray-600 dark:text-gray-300 leading-relaxed text-lg",children:"                  ."})]})]}),l.jsxs("div",{className:"mb-20",children:[l.jsxs("div",{className:"text-center mb-12",children:[l.jsx("h2",{className:"text-3xl font-black text-gray-900 dark:text-white mb-4",children:"   "}),l.jsx("div",{className:"w-24 h-1.5 bg-emerald-500 mx-auto rounded-full"})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[{icon:s4,title:" ",desc:"       ."},{icon:pE,title:" ",desc:"           ."},{icon:UN,title:" ",desc:"         ."},{icon:A4,title:" ",desc:"          ."}].map((e,r)=>l.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-2xl border border-gray-100 dark:border-gray-700 text-center hover:border-emerald-300 dark:hover:border-emerald-600 transition-all group",children:[l.jsx("div",{className:"w-14 h-14 bg-gray-50 dark:bg-gray-700 rounded-full flex items-center justify-center mx-auto mb-4 group-hover:bg-emerald-100 dark:group-hover:bg-emerald-900/30 transition-colors",children:l.jsx(e.icon,{className:"w-7 h-7 text-gray-600 dark:text-gray-300 group-hover:text-emerald-600 dark:group-hover:text-emerald-400"})}),l.jsx("h3",{className:"font-bold text-gray-900 dark:text-white text-lg mb-2",children:e.title}),l.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm leading-relaxed",children:e.desc})]},r))})]})]})]}),DR=({onBack:a})=>l.jsxs("div",{className:"min-h-screen bg-white dark:bg-gray-900 animate-fade-in flex flex-col transition-colors duration-300",children:[l.jsx("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 py-6 px-4 sticky top-0 z-30 shadow-sm",children:l.jsx("div",{className:"max-w-7xl mx-auto flex items-center gap-4",children:l.jsxs("button",{onClick:a,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition-colors flex items-center gap-2 text-gray-600 dark:text-gray-300 font-bold",children:[l.jsx(or,{className:"w-6 h-6"})," "]})})}),l.jsx("div",{className:"flex-1 flex flex-col items-center justify-center p-4 text-center",children:l.jsxs("div",{className:"bg-white dark:bg-gray-800 p-12 rounded-3xl shadow-xl shadow-gray-100/50 dark:shadow-none border border-gray-100 dark:border-gray-700 max-w-md w-full flex flex-col items-center transform hover:scale-105 transition-transform duration-300",children:[l.jsx("div",{className:"w-24 h-24 bg-emerald-50 dark:bg-emerald-900/20 rounded-full flex items-center justify-center mb-6 animate-bounce",children:l.jsx(Ev,{className:"w-12 h-12 text-emerald-600 dark:text-emerald-400"})}),l.jsx("h1",{className:"text-4xl font-black text-gray-900 dark:text-white mb-3",children:""}),l.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-lg font-medium",children:"        "})]})})]}),OR=({onBack:a})=>{const[e,r]=Y.useState(""),[s,o]=Y.useState(""),[u,f]=Y.useState("SELECTION"),[g,p]=Y.useState(["handouts"]),[y,w]=Y.useState([]),[_,S]=Y.useState(!1);Y.useEffect(()=>{u==="CONTENT"&&s&&e&&V()},[u,s,e]);const V=async()=>{S(!0);try{const oe=Ms(un(Qt,"study_materials"),Vs("grade","==",s),Vs("subject","==",e)),F=await Bi(oe),T=[];F.forEach(N=>{T.push({id:N.id,...N.data()})}),T.sort((N,j)=>{var M,A;const R=((M=N.createdAt)==null?void 0:M.seconds)||0;return(((A=j.createdAt)==null?void 0:A.seconds)||0)-R}),w(T)}catch(oe){console.error("Error fetching materials:",oe)}finally{S(!1)}},U=()=>{e&&s&&f("CONTENT")},ne=oe=>{p(F=>F.includes(oe)?F.filter(T=>T!==oe):[...F,oe])},$=()=>{const oe=y.filter(N=>N.category==="handouts"),F=y.filter(N=>N.category==="worksheets"),T=y.filter(N=>N.category==="exams");return[{id:"handouts",title:" ",files:oe},{id:"worksheets",title:" ",files:F},{id:"exams",title:" ",files:T}]},le=oe=>oe?(oe.toDate?oe.toDate():new Date(oe.seconds*1e3)).toLocaleDateString("ar-EG"):"",ee=$(),X=()=>l.jsxs("div",{className:"w-full animate-fade-in pb-20 bg-gray-50 dark:bg-gray-900 min-h-screen",children:[l.jsxs("div",{className:"relative pt-32 pb-56 px-4 overflow-hidden rounded-b-[3.5rem] shadow-2xl shadow-gray-200 dark:shadow-none mb-20",children:[l.jsxs("div",{className:"absolute inset-0 z-0",children:[l.jsx("img",{src:"https://lh3.googleusercontent.com/d/1gSDH-0a3cWa8m8APr5qXGkKxINXZcSid",alt:"Background",className:"w-full h-full object-cover object-center scale-105"}),l.jsx("div",{className:"absolute inset-0 bg-emerald-900/70 mix-blend-multiply"}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-black/40"})]}),l.jsxs("div",{className:"max-w-4xl mx-auto text-center relative z-10",children:[l.jsx("div",{className:"inline-flex items-center justify-center p-5 bg-white/10 backdrop-blur-md rounded-3xl mb-6 border border-white/20 shadow-inner ring-1 ring-white/30 animate-fade-in-up",children:l.jsx(ac,{className:"w-10 h-10 text-white drop-shadow-md"})}),l.jsx("h2",{className:"text-5xl md:text-7xl font-black text-white mb-6 tracking-tight drop-shadow-2xl animate-fade-in-up delay-100",children:"  "}),l.jsx("p",{className:"text-white/95 text-xl md:text-2xl max-w-3xl mx-auto font-medium leading-relaxed drop-shadow-lg mb-8 animate-fade-in-up delay-200",children:"         PDF.      ."})]})]}),l.jsx("div",{className:"max-w-4xl mx-auto px-6 -mt-40 relative z-20 animate-fade-in-up delay-300",children:l.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-[2.5rem] shadow-2xl shadow-gray-200/50 dark:shadow-none border border-gray-100 dark:border-gray-700 p-8 md:p-12 backdrop-blur-xl",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-10",children:[l.jsxs("div",{className:"group",children:[l.jsxs("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-3 flex items-center gap-2 group-hover:text-emerald-600 dark:group-hover:text-emerald-400 transition-colors",children:[l.jsx("div",{className:"p-2 bg-emerald-50 dark:bg-emerald-900/20 rounded-lg group-hover:bg-emerald-100 dark:group-hover:bg-emerald-900/40 transition-colors",children:l.jsx(vr,{className:"w-5 h-5 text-emerald-600 dark:text-emerald-400"})})," "]}),l.jsxs("div",{className:"relative",children:[l.jsxs("select",{value:e,onChange:oe=>r(oe.target.value),className:"w-full px-5 py-4 rounded-2xl bg-gray-50 dark:bg-gray-700 border-2 border-transparent hover:border-emerald-200 dark:hover:border-emerald-700 focus:border-emerald-500 focus:bg-white dark:focus:bg-gray-800 focus:ring-4 focus:ring-emerald-100 dark:focus:ring-emerald-900/30 outline-none transition-all text-lg font-bold text-gray-800 dark:text-gray-200 appearance-none cursor-pointer",children:[l.jsx("option",{value:"",className:"text-gray-400 dark:text-gray-500",children:" "}),l.jsx("option",{value:"English",children:"  (English)"}),l.jsx("option",{value:"Math",children:""}),l.jsx("option",{value:"Science",children:""})]}),l.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400",children:l.jsx(Zn,{className:"w-5 h-5 -rotate-90"})})]})]}),l.jsxs("div",{className:"group",children:[l.jsxs("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-3 flex items-center gap-2 group-hover:text-teal-600 dark:group-hover:text-teal-400 transition-colors",children:[l.jsx("div",{className:"p-2 bg-teal-50 dark:bg-teal-900/20 rounded-lg group-hover:bg-teal-100 dark:group-hover:bg-teal-900/40 transition-colors",children:l.jsx(Vi,{className:"w-5 h-5 text-teal-600 dark:text-teal-400"})})," "]}),l.jsxs("div",{className:"relative",children:[l.jsxs("select",{value:s,onChange:oe=>o(oe.target.value),className:"w-full px-5 py-4 rounded-2xl bg-gray-50 dark:bg-gray-700 border-2 border-transparent hover:border-teal-200 dark:hover:border-teal-700 focus:border-emerald-500 focus:bg-white dark:focus:bg-gray-800 focus:ring-4 focus:ring-emerald-100 dark:focus:ring-emerald-900/30 outline-none transition-all text-lg font-bold text-gray-800 dark:text-gray-200 appearance-none cursor-pointer",children:[l.jsx("option",{value:"",className:"text-gray-400 dark:text-gray-500",children:" "}),l.jsx("optgroup",{label:" ",children:[5,6,7,8,9,10,11,12].map(oe=>l.jsxs("option",{value:oe.toString(),children:[" ",oe]},oe))}),l.jsx("optgroup",{label:" ",children:l.jsx("option",{value:"English Major - QOU",children:"   -   "})})]}),l.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400",children:l.jsx(Zn,{className:"w-5 h-5 -rotate-90"})})]})]})]}),l.jsxs("button",{onClick:U,disabled:!e||!s,className:`w-full py-5 rounded-2xl font-bold text-xl flex items-center justify-center gap-3 transition-all shadow-lg ${!e||!s?"bg-gray-100 dark:bg-gray-700 text-gray-400 dark:text-gray-500 cursor-not-allowed shadow-none":"bg-gradient-to-r from-emerald-600 to-teal-600 text-white hover:from-emerald-700 hover:to-teal-700 hover:shadow-emerald-300 dark:hover:shadow-emerald-900/50 hover:-translate-y-1"}`,children:[l.jsx(Ai,{className:"w-6 h-6"})," "]})]})})]}),xe=()=>l.jsxs("div",{className:"max-w-2xl mx-auto px-4 py-8 animate-fade-in-up min-h-screen",children:[l.jsxs("div",{className:"text-center mb-8 bg-white dark:bg-gray-800 p-6 rounded-3xl shadow-sm border border-gray-100 dark:border-gray-700 relative overflow-hidden",children:[l.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-emerald-500 to-teal-500"}),l.jsx("div",{className:"w-16 h-16 bg-emerald-50 dark:bg-emerald-900/20 rounded-2xl flex items-center justify-center mx-auto mb-4",children:l.jsx(zl,{className:"w-8 h-8 text-emerald-600 dark:text-emerald-400"})}),l.jsxs("h2",{className:"text-2xl font-black text-gray-900 dark:text-white mb-2",children:[" ",e]}),l.jsxs("p",{className:"text-gray-500 dark:text-gray-400 font-medium text-sm md:text-base",children:["        ",l.jsx("span",{className:"font-bold text-emerald-600 dark:text-emerald-400",children:s==="English Major - QOU"?"  ":s})]})]}),l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsxs("button",{onClick:()=>f("SELECTION"),className:"flex items-center gap-2 bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-200 px-5 py-3 rounded-xl font-bold shadow-sm border border-gray-200 dark:border-gray-700 hover:border-emerald-300 dark:hover:border-emerald-600 hover:text-emerald-600 dark:hover:text-emerald-400 transition-all hover:-translate-y-0.5",children:[l.jsx(or,{className:"w-5 h-5"})," "]}),l.jsxs("div",{className:"hidden sm:flex items-center gap-2 text-xs font-bold text-gray-400 bg-gray-50 dark:bg-gray-800 px-3 py-1.5 rounded-lg border border-gray-200 dark:border-gray-700",children:[l.jsx(ac,{className:"w-3.5 h-3.5"}),ee.reduce((oe,F)=>oe+F.files.length,0)," "]})]}),_?l.jsxs("div",{className:"flex flex-col items-center justify-center py-20 gap-4",children:[l.jsx(Gt,{className:"w-10 h-10 animate-spin text-emerald-600 dark:text-emerald-400"}),l.jsx("p",{className:"text-gray-500 dark:text-gray-400 font-bold",children:"  ..."})]}):l.jsx("div",{className:"space-y-4",children:ee.map(oe=>{const F=g.includes(oe.id);return l.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl border border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm hover:shadow-md transition-shadow",children:[l.jsxs("button",{onClick:()=>ne(oe.id),className:`w-full flex items-center justify-between p-5 transition-colors ${F?"bg-gray-50/50 dark:bg-gray-700/30":"hover:bg-gray-50 dark:hover:bg-gray-700/30"}`,children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:`p-2.5 rounded-xl ${F?"bg-emerald-100 dark:bg-emerald-900/30 text-emerald-600 dark:text-emerald-400":"bg-gray-100 dark:bg-gray-700 text-gray-500 dark:text-gray-400"}`,children:l.jsx(ac,{className:"w-6 h-6"})}),l.jsxs("div",{className:"text-right",children:[l.jsx("span",{className:"font-bold text-base text-gray-900 dark:text-white block",children:oe.title}),l.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400 font-medium",children:[oe.files.length," "]})]})]}),l.jsx("div",{className:`transition-transform duration-300 ${F?"rotate-180":""}`,children:l.jsx(xc,{className:"w-5 h-5 text-gray-400"})})]}),F&&l.jsx("div",{className:"bg-white dark:bg-gray-800 border-t border-gray-100 dark:border-gray-700",children:oe.files.length===0?l.jsxs("div",{className:"p-8 text-center flex flex-col items-center justify-center text-gray-400",children:[l.jsx(ac,{className:"w-10 h-10 mb-2 opacity-20"}),l.jsx("p",{className:"text-sm font-medium",children:"       "})]}):l.jsx("div",{className:"divide-y divide-gray-50 dark:divide-gray-700/50",children:oe.files.map((T,N)=>l.jsxs("div",{onClick:()=>T.url&&window.open(T.url,"_blank"),className:"flex items-center justify-between p-4 hover:bg-emerald-50 dark:hover:bg-emerald-900/10 transition-colors group cursor-pointer",children:[l.jsxs("div",{className:"flex items-center gap-4 min-w-0 flex-1",children:[l.jsx("div",{className:"w-10 h-10 rounded-lg bg-red-50 dark:bg-red-900/20 flex items-center justify-center shrink-0 text-red-500",children:l.jsx(zl,{className:"w-5 h-5"})}),l.jsxs("div",{className:"flex flex-col min-w-0 flex-1",children:[l.jsx("span",{className:"text-sm font-bold text-gray-800 dark:text-gray-200 group-hover:text-emerald-700 dark:group-hover:text-emerald-300 transition-colors whitespace-normal break-words",children:T.title}),l.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-400 mt-0.5",children:[l.jsx("span",{className:"bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded",children:T.size}),l.jsx("span",{children:""}),l.jsx("span",{children:le(T.createdAt)})]})]})]}),l.jsx("button",{className:"p-2.5 rounded-full bg-gray-100 dark:bg-gray-700 text-gray-400 group-hover:bg-emerald-100 dark:group-hover:bg-emerald-900/30 group-hover:text-emerald-600 dark:group-hover:text-emerald-400 transition-all shrink-0 ml-3",children:l.jsx(lm,{className:"w-5 h-5"})})]},N))})})]},oe.id)})}),l.jsxs("div",{className:"mt-8 flex items-center gap-3 justify-center text-xs text-gray-400 bg-gray-50 dark:bg-gray-800 p-4 rounded-2xl border border-dashed border-gray-200 dark:border-gray-700",children:[l.jsx(Dd,{className:"w-4 h-4 text-emerald-500 shrink-0"}),l.jsx("span",{children:"      PDF  "})]})]});return l.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 pb-20 transition-colors duration-300",children:[l.jsx("div",{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-md border-b border-emerald-100 dark:border-gray-700 py-4 px-4 sticky top-0 z-30 shadow-sm",children:l.jsx("div",{className:"max-w-7xl mx-auto flex items-center gap-4",children:l.jsxs("button",{onClick:a,className:"p-2 hover:bg-emerald-50 dark:hover:bg-gray-700 rounded-full transition-colors group flex items-center gap-2",children:[l.jsx(or,{className:"w-6 h-6 text-gray-500 dark:text-gray-400 group-hover:text-emerald-600 dark:group-hover:text-emerald-400 transition-colors"}),l.jsx("span",{className:"font-bold text-gray-700 dark:text-gray-300 group-hover:text-emerald-600 dark:group-hover:text-emerald-400 transition-colors hidden sm:inline",children:""})]})})}),u==="SELECTION"?X():xe()]})},MR=({className:a})=>l.jsx("svg",{viewBox:"0 0 24 24",className:a,fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.008-.57-.008-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"})}),VR=({className:a})=>l.jsx("svg",{viewBox:"0 0 24 24",className:a,fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.694 0zM4.98 14.41c6.009-2.607 10.015-4.335 12.019-5.168 2.656-.867 3.084-.386 2.84 1.712-.366 3.157-1.408 8.873-1.93 10.364-.22.628-.648.676-1.308.244-1.68-1.044-3.896-2.532-4.812-3.132-.956-.628-1.144-1.24-.208-2.212 2.168-2.248 4.068-4.064 3.724-4.376-.428-.388-2.648.82-7.008 3.776-.784.532-1.496.524-2.192.316-1.04-.312-2.052-.648-2.828-.904-1.056-.348-1.06-1.056.172-1.576z"})}),LR=({onBack:a})=>{const e=r=>{let s="";switch(r){case"message":s="       .";break;case"question":s="       ...";break;case"review":s="      .";break;case"inquiry":s="    .";break;default:s="  ."}const o=`https://wa.me/972568401548?text=${encodeURIComponent(s)}`;window.open(o,"_blank")};return l.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 animate-fade-in pb-20 transition-colors duration-300",children:[l.jsxs("div",{className:"relative pt-32 pb-48 px-4 overflow-hidden rounded-b-[3.5rem] shadow-2xl shadow-gray-200 dark:shadow-none mb-16 bg-gray-900",children:[l.jsx("div",{className:"absolute top-6 left-6 z-30 md:top-10 md:left-10",children:l.jsxs("button",{onClick:a,className:"flex items-center gap-2 bg-white/10 backdrop-blur-md text-white px-5 py-2.5 rounded-full font-bold hover:bg-white/20 transition-all border border-white/20 shadow-lg group",children:[l.jsx(or,{className:"w-5 h-5 group-hover:-translate-x-1 transition-transform"}),l.jsx("span",{className:"hidden sm:inline",children:" "})]})}),l.jsxs("div",{className:"absolute inset-0 z-0 bg-gray-900",children:[l.jsxs("video",{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:"w-full h-full object-cover opacity-80",poster:"https://images.unsplash.com/photo-1524178232363-1fb2b075b655?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80",children:[l.jsx("source",{src:"https://drive.google.com/uc?export=download&id=1gfQre4TEqHyomoSblHjn-abxK_cduc8t",type:"video/mp4"}),l.jsx("source",{src:"https://assets.mixkit.co/videos/preview/mixkit-online-learning-man-student-on-laptop-4612-large.mp4",type:"video/mp4"})]}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-gray-900/60 via-emerald-900/30 to-gray-900/80"})]}),l.jsxs("div",{className:"relative z-10 text-center max-w-4xl mx-auto text-white",children:[l.jsx("div",{className:"inline-flex items-center justify-center p-4 bg-white/10 backdrop-blur-md rounded-3xl mb-6 border border-white/20 animate-fade-in-up shadow-lg",children:l.jsx(vc,{className:"w-12 h-12 text-white drop-shadow-md"})}),l.jsx("h1",{className:"text-4xl md:text-6xl font-black mb-6 leading-tight animate-fade-in-up delay-100 drop-shadow-2xl",children:"  "}),l.jsx("p",{className:"text-xl md:text-2xl text-emerald-100 font-medium max-w-2xl mx-auto leading-relaxed animate-fade-in-up delay-200 drop-shadow-lg",children:"  .             ."})]})]}),l.jsxs("div",{className:"max-w-5xl mx-auto px-4 -mt-32 relative z-20",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-12",children:[l.jsxs("button",{onClick:()=>e("message"),className:"group bg-white dark:bg-gray-800 p-6 rounded-[2rem] shadow-xl border border-white/50 dark:border-gray-700 hover:border-emerald-500 dark:hover:border-emerald-500 transition-all duration-300 hover:-translate-y-2 relative overflow-hidden",children:[l.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-emerald-400 to-teal-500 transform scale-x-0 group-hover:scale-x-100 transition-transform duration-500 origin-left"}),l.jsxs("div",{className:"flex items-center gap-5",children:[l.jsx("div",{className:"w-16 h-16 bg-emerald-50 dark:bg-emerald-900/20 rounded-2xl flex items-center justify-center text-emerald-600 dark:text-emerald-400 group-hover:scale-110 transition-transform duration-300",children:l.jsx(vc,{className:"w-8 h-8"})}),l.jsxs("div",{className:"text-right",children:[l.jsx("h3",{className:"text-xl font-black text-gray-900 dark:text-white mb-1 group-hover:text-emerald-600 dark:group-hover:text-emerald-400 transition-colors",children:" "}),l.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm font-medium",children:"   "})]})]})]}),l.jsxs("button",{onClick:()=>e("question"),className:"group bg-white dark:bg-gray-800 p-6 rounded-[2rem] shadow-xl border border-white/50 dark:border-gray-700 hover:border-blue-500 dark:hover:border-blue-500 transition-all duration-300 hover:-translate-y-2 relative overflow-hidden",children:[l.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-blue-400 to-indigo-500 transform scale-x-0 group-hover:scale-x-100 transition-transform duration-500 origin-left"}),l.jsxs("div",{className:"flex items-center gap-5",children:[l.jsx("div",{className:"w-16 h-16 bg-blue-50 dark:bg-blue-900/20 rounded-2xl flex items-center justify-center text-blue-600 dark:text-blue-400 group-hover:scale-110 transition-transform duration-300",children:l.jsx(Ei,{className:"w-8 h-8"})}),l.jsxs("div",{className:"text-right",children:[l.jsx("h3",{className:"text-xl font-black text-gray-900 dark:text-white mb-1 group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors",children:" "}),l.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm font-medium",children:"    "})]})]})]}),l.jsxs("button",{onClick:()=>e("review"),className:"group bg-white dark:bg-gray-800 p-6 rounded-[2rem] shadow-xl border border-white/50 dark:border-gray-700 hover:border-purple-500 dark:hover:border-purple-500 transition-all duration-300 hover:-translate-y-2 relative overflow-hidden",children:[l.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-purple-400 to-pink-500 transform scale-x-0 group-hover:scale-x-100 transition-transform duration-500 origin-left"}),l.jsxs("div",{className:"flex items-center gap-5",children:[l.jsx("div",{className:"w-16 h-16 bg-purple-50 dark:bg-purple-900/20 rounded-2xl flex items-center justify-center text-purple-600 dark:text-purple-400 group-hover:scale-110 transition-transform duration-300",children:l.jsx(oE,{className:"w-8 h-8"})}),l.jsxs("div",{className:"text-right",children:[l.jsx("h3",{className:"text-xl font-black text-gray-900 dark:text-white mb-1 group-hover:text-purple-600 dark:group-hover:text-purple-400 transition-colors",children:" "}),l.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm font-medium",children:"    "})]})]})]}),l.jsxs("button",{onClick:()=>e("inquiry"),className:"group bg-white dark:bg-gray-800 p-6 rounded-[2rem] shadow-xl border border-white/50 dark:border-gray-700 hover:border-orange-500 dark:hover:border-orange-500 transition-all duration-300 hover:-translate-y-2 relative overflow-hidden",children:[l.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-orange-400 to-amber-500 transform scale-x-0 group-hover:scale-x-100 transition-transform duration-500 origin-left"}),l.jsxs("div",{className:"flex items-center gap-5",children:[l.jsx("div",{className:"w-16 h-16 bg-orange-50 dark:bg-orange-900/20 rounded-2xl flex items-center justify-center text-orange-600 dark:text-orange-400 group-hover:scale-110 transition-transform duration-300",children:l.jsx(Ld,{className:"w-8 h-8"})}),l.jsxs("div",{className:"text-right",children:[l.jsx("h3",{className:"text-xl font-black text-gray-900 dark:text-white mb-1 group-hover:text-orange-600 dark:group-hover:text-orange-400 transition-colors",children:" "}),l.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm font-medium",children:"    "})]})]})]})]}),l.jsxs("div",{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-xl rounded-[2.5rem] p-8 md:p-10 shadow-2xl border border-gray-100 dark:border-gray-700 flex flex-col md:flex-row items-center gap-8 relative overflow-hidden",children:[l.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-emerald-100 dark:bg-emerald-900/20 rounded-full blur-3xl opacity-50 -mr-20 -mt-20 pointer-events-none"}),l.jsxs("div",{className:"relative shrink-0",children:[l.jsx("div",{className:"w-32 h-32 rounded-full p-1.5 bg-gradient-to-br from-emerald-400 to-teal-600 shadow-lg",children:l.jsx("img",{src:"https://lh3.googleusercontent.com/d/1tbzVNKO3FGH46Pa6MZ58OWD4BXVKdK5P",alt:".   ",className:"w-full h-full rounded-full object-cover border-4 border-white dark:border-gray-800"})}),l.jsx("div",{className:"absolute -bottom-2 -right-2 bg-white dark:bg-gray-800 p-2 rounded-full shadow-md",children:l.jsx("div",{className:"bg-green-500 w-4 h-4 rounded-full border-2 border-white dark:border-gray-800 animate-pulse"})})]}),l.jsxs("div",{className:"flex-1 text-center md:text-right z-10",children:[l.jsx("span",{className:"text-emerald-600 dark:text-emerald-400 font-bold tracking-wider uppercase text-xs mb-2 block",children:" "}),l.jsx("h2",{className:"text-3xl font-black text-gray-900 dark:text-white mb-2",children:".   "}),l.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-6 max-w-lg mx-auto md:mx-0 font-medium",children:"     .        ."}),l.jsxs("div",{className:"flex flex-wrap justify-center md:justify-start gap-3",children:[l.jsxs("a",{href:"https://wa.me/972568401548",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 bg-[#25D366] hover:bg-[#20BD5C] text-white px-6 py-3 rounded-xl font-bold text-sm transition-all shadow-lg shadow-green-200 dark:shadow-none hover:-translate-y-1",children:[l.jsx(MR,{className:"w-5 h-5"}),""]}),l.jsxs("a",{href:"https://t.me/yazan1342",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 bg-[#0088cc] hover:bg-[#0077b5] text-white px-6 py-3 rounded-xl font-bold text-sm transition-all shadow-lg shadow-sky-200 dark:shadow-none hover:-translate-y-1",children:[l.jsx(VR,{className:"w-5 h-5"}),""]})]})]})]})]})]})},am=[{minLevel:1,title:" ",icon:um,bgGradient:"bg-gradient-to-br from-slate-50 to-slate-200 dark:from-slate-800 dark:to-slate-900",borderColor:"border-slate-300 dark:border-slate-700",textColor:"text-slate-800 dark:text-slate-200",iconBox:"bg-slate-200 dark:bg-slate-700 text-slate-600 dark:text-slate-300",watermark:um},{minLevel:5,title:" ",icon:vr,bgGradient:"bg-gradient-to-br from-emerald-50 to-teal-100 dark:from-emerald-900/40 dark:to-teal-900/40",borderColor:"border-emerald-300 dark:border-emerald-700",textColor:"text-emerald-900 dark:text-emerald-100",iconBox:"bg-emerald-200 dark:bg-emerald-800 text-emerald-700 dark:text-emerald-300",watermark:vr},{minLevel:10,title:"",icon:Ai,bgGradient:"bg-gradient-to-br from-sky-50 to-blue-200 dark:from-sky-900/40 dark:to-blue-900/40",borderColor:"border-blue-300 dark:border-blue-700",textColor:"text-blue-900 dark:text-blue-100",iconBox:"bg-blue-200 dark:bg-blue-800 text-blue-700 dark:text-blue-300",watermark:YE},{minLevel:15,title:" ",icon:Ni,bgGradient:"bg-gradient-to-br from-violet-100 to-purple-200 dark:from-violet-900/40 dark:to-purple-900/40",borderColor:"border-purple-300 dark:border-purple-700",textColor:"text-purple-900 dark:text-purple-100",iconBox:"bg-purple-200 dark:bg-purple-800 text-purple-700 dark:text-purple-300",watermark:l4},{minLevel:20,title:"",icon:Qm,bgGradient:"bg-gradient-to-br from-fuchsia-100 to-rose-200 dark:from-fuchsia-900/40 dark:to-rose-900/40",borderColor:"border-rose-300 dark:border-rose-700",textColor:"text-rose-900 dark:text-rose-100",iconBox:"bg-rose-200 dark:bg-rose-800 text-rose-700 dark:text-rose-300",watermark:mE},{minLevel:30,title:"",icon:Ti,bgGradient:"bg-gradient-to-br from-amber-100 via-yellow-200 to-amber-400 dark:from-amber-800 dark:via-yellow-700 dark:to-orange-900",borderColor:"border-yellow-500 dark:border-yellow-600",textColor:"text-amber-900 dark:text-amber-100",iconBox:"bg-gradient-to-r from-amber-400 to-yellow-600 text-white shadow-md",watermark:Ti}],PR=({onLoginClick:a})=>{const[e,r]=Y.useState([]),[s,o]=Y.useState(!0),{user:u}=la(),[f,g]=Y.useState(null),[p,y]=Y.useState(null),[w,_]=Y.useState(!1);Y.useEffect(()=>{const ee=Ms(un(Qt,"users"),Vs("role","==","student")),X=G3(ee,xe=>{const oe=[];xe.forEach(F=>{const T=F.data();oe.push({uid:F.id,...T})}),oe.sort((F,T)=>(Number(T.totalXP)||0)-(Number(F.totalXP)||0)),r(oe.slice(0,10)),o(!1)},xe=>{console.error("Error fetching leaderboard:",xe),o(!1)});return()=>X()},[]);const S=async ee=>{g(ee),_(!0),y(null);try{const X=Ms(un(Qt,"quiz_results"),Vs("userId","==",ee.uid)),xe=await Bi(X);let oe=0,F=0;xe.forEach(N=>{const j=N.data();j.percentage!==void 0&&(oe+=j.percentage,F++)});const T=F>0?Math.round(oe/F):0;y({average:T,totalQuizzes:F})}catch(X){console.error("Error fetching student stats",X)}finally{_(!1)}},V=ee=>{switch(ee){case 0:return"bg-gradient-to-br from-yellow-300 to-amber-500 border-amber-400 text-white shadow-sm shadow-amber-200 dark:shadow-none ring-2 ring-yellow-100 dark:ring-yellow-900";case 1:return"bg-gradient-to-br from-slate-300 to-slate-400 border-slate-400 text-white shadow-sm shadow-slate-200 dark:shadow-none ring-2 ring-slate-100 dark:ring-slate-700";case 2:return"bg-gradient-to-br from-orange-300 to-orange-500 border-orange-400 text-white shadow-sm shadow-orange-200 dark:shadow-none ring-2 ring-orange-100 dark:ring-orange-900";default:return"bg-white dark:bg-gray-800 border-gray-100 dark:border-gray-700 text-gray-500 dark:text-gray-400 shadow-sm"}},U=ee=>{switch(ee){case 0:return l.jsx(Ti,{className:"w-3 h-3 text-white fill-white animate-pulse"});case 1:return l.jsx(Rb,{className:"w-3 h-3 text-white fill-white/20"});case 2:return l.jsx(Rb,{className:"w-3 h-3 text-white fill-white/20"});default:return l.jsxs("span",{className:"font-bold text-[10px]",children:["#",ee+1]})}},ne=ee=>{const X=Math.floor(ee/500)+1,xe=[...am].reverse().find(oe=>X>=oe.minLevel)||am[0];return{level:X,rank:xe}},$=e.reduce((ee,X)=>ee+(X.totalXP||0),0),le=e.reduce((ee,X)=>ee+(X.quizzesCompleted||0),0);return l.jsxs("section",{className:"py-12 md:py-16 bg-gradient-to-b from-indigo-50/50 to-white dark:from-gray-900 dark:to-gray-800 border-t border-gray-100 dark:border-gray-800 relative overflow-hidden transition-colors duration-300",children:[l.jsxs("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden pointer-events-none",children:[l.jsx("div",{className:"absolute top-10 left-10 w-32 h-32 bg-purple-200 dark:bg-purple-900 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-blob"}),l.jsx("div",{className:"absolute top-10 right-10 w-32 h-32 bg-indigo-200 dark:bg-indigo-900 rounded-full mix-blend-multiply filter blur-3xl opacity-30 animate-blob animation-delay-2000"})]}),f&&l.jsxs("div",{className:"fixed inset-0 z-[200] flex items-center justify-center px-4",children:[l.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:()=>g(null)}),l.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-[2.5rem] w-full max-w-md relative shadow-2xl animate-fade-in-up overflow-hidden border border-white/20",children:[l.jsx("button",{onClick:()=>g(null),className:"absolute top-4 right-4 p-2 bg-black/10 hover:bg-black/20 dark:bg-white/10 dark:hover:bg-white/20 rounded-full text-white z-20 transition-colors backdrop-blur-sm",children:l.jsx(Ia,{className:"w-5 h-5"})}),l.jsx("div",{className:"h-32 bg-gradient-to-r from-indigo-600 to-purple-600 relative",children:l.jsx("div",{className:"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/cubes.png')] opacity-10"})}),l.jsxs("div",{className:"px-8 pb-8 -mt-16 relative z-10 text-center",children:[l.jsx("div",{className:"w-32 h-32 mx-auto rounded-full p-1.5 bg-white dark:bg-gray-900 shadow-xl mb-4",children:l.jsx("div",{className:"w-full h-full rounded-full overflow-hidden border-4 border-indigo-100 dark:border-indigo-900/50",children:f.avatar?l.jsx("img",{src:f.avatar,alt:f.displayName,className:"w-full h-full object-cover"}):l.jsx("div",{className:"w-full h-full bg-gray-100 dark:bg-gray-800 flex items-center justify-center",children:l.jsx(ln,{className:"w-12 h-12 text-gray-400"})})})}),l.jsx("h3",{className:"text-2xl font-black text-gray-900 dark:text-white mb-1",children:f.displayName}),l.jsxs("p",{className:"text-gray-500 dark:text-gray-400 font-medium text-sm flex items-center justify-center gap-1 mb-6",children:[l.jsx(Ld,{className:"w-4 h-4"}),f.school||" "]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-8",children:[l.jsxs("div",{className:"bg-indigo-50 dark:bg-indigo-900/20 p-4 rounded-2xl border border-indigo-100 dark:border-indigo-800",children:[l.jsxs("div",{className:"flex items-center justify-center gap-2 mb-1",children:[_v.createElement(ne(f.totalXP||0).rank.icon,{className:"w-5 h-5 text-indigo-600 dark:text-indigo-400"}),l.jsx("span",{className:"text-xs font-bold text-indigo-600 dark:text-indigo-400 uppercase",children:""})]}),l.jsx("div",{className:"font-black text-gray-900 dark:text-white text-sm",children:ne(f.totalXP||0).rank.title}),l.jsxs("div",{className:"text-[10px] text-gray-500 mt-1",children:[" ",ne(f.totalXP||0).level]})]}),l.jsx("div",{className:"bg-emerald-50 dark:bg-emerald-900/20 p-4 rounded-2xl border border-emerald-100 dark:border-emerald-800",children:w?l.jsx("div",{className:"flex justify-center py-2",children:l.jsx(Gt,{className:"w-5 h-5 animate-spin text-emerald-600"})}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex items-center justify-center gap-2 mb-1",children:[l.jsx($m,{className:"w-5 h-5 text-emerald-600 dark:text-emerald-400 fill-emerald-600 dark:fill-emerald-400"}),l.jsx("span",{className:"text-xs font-bold text-emerald-600 dark:text-emerald-400 uppercase",children:" "})]}),l.jsxs("div",{className:"font-black text-gray-900 dark:text-white text-xl",children:[(p==null?void 0:p.average)||0,"%"]}),l.jsxs("div",{className:"text-[10px] text-gray-500 mt-1",children:[(p==null?void 0:p.totalQuizzes)||0," "]})]})})]}),l.jsxs("div",{className:"bg-yellow-50/50 dark:bg-yellow-900/10 border-2 border-yellow-100 dark:border-yellow-900/30 border-dashed rounded-xl p-5 relative",children:[l.jsxs("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2 bg-yellow-100 dark:bg-yellow-900 text-yellow-800 dark:text-yellow-200 px-3 py-1 rounded-full text-[10px] font-bold shadow-sm flex items-center gap-1",children:[l.jsx(Ni,{className:"w-3 h-3"})," "]}),l.jsxs("p",{className:"text-sm text-gray-700 dark:text-gray-300 leading-relaxed font-medium mt-2 mb-6",children:["     / ",l.jsx("span",{className:"font-bold text-gray-900 dark:text-white underline decoration-yellow-400",children:f.displayName}),"      /   ."]}),l.jsxs("div",{className:"flex justify-around items-center pt-4 border-t border-yellow-200/50 dark:border-yellow-800/30",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-[10px] text-gray-400 mb-1 font-medium",children:" "}),l.jsx("div",{className:"font-serif font-bold text-gray-900 dark:text-white text-sm italic",children:".   "})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-[10px] text-gray-400 mb-1 font-medium",children:" "}),l.jsx("div",{className:"font-serif font-bold text-gray-900 dark:text-white text-sm italic",children:".   "})]})]})]})]})]})]}),l.jsxs("div",{className:"max-w-6xl mx-auto px-4 mb-20 relative z-10",children:[l.jsxs("div",{className:"text-center mb-10",children:[l.jsx("div",{className:"inline-flex items-center justify-center p-3 bg-white dark:bg-gray-800 rounded-2xl shadow-lg shadow-indigo-100 dark:shadow-none border border-indigo-50 dark:border-indigo-900 mb-4 transform -rotate-3 hover:rotate-0 transition-transform duration-300",children:l.jsx(gm,{className:"w-8 h-8 text-indigo-600 dark:text-indigo-400"})}),l.jsx("h2",{className:"text-3xl md:text-4xl font-black text-gray-900 dark:text-white mb-2 tracking-tight",children:" "}),l.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm md:text-base font-medium",children:"      "})]}),l.jsxs("div",{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-xl rounded-3xl border border-white dark:border-gray-700 shadow-2xl shadow-indigo-100/50 dark:shadow-none p-4 md:p-6 relative",children:[l.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-transparent via-indigo-500 to-transparent opacity-20"}),s?l.jsxs("div",{className:"flex flex-col items-center justify-center py-16",children:[l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-0 bg-indigo-200 dark:bg-indigo-900 rounded-full blur-xl opacity-50 animate-pulse"}),l.jsx(Gt,{className:"w-10 h-10 animate-spin text-indigo-600 dark:text-indigo-400 relative z-10"})]}),l.jsx("p",{className:"text-gray-500 dark:text-gray-400 font-bold mt-4 text-sm animate-pulse",children:"  ..."})]}):e.length===0?l.jsxs("div",{className:"text-center py-16",children:[l.jsx("div",{className:"w-20 h-20 bg-gray-50 dark:bg-gray-700 rounded-full flex items-center justify-center mx-auto mb-4 border-4 border-white dark:border-gray-600 shadow-lg",children:l.jsx(Ni,{className:"w-8 h-8 text-gray-300 dark:text-gray-500"})}),l.jsx("h3",{className:"text-xl font-black text-gray-700 dark:text-gray-300 mb-2",children:"  "}),l.jsx("p",{className:"text-gray-500 dark:text-gray-400 font-medium mb-6 text-sm",children:"       !"}),!u&&l.jsxs("button",{onClick:a,className:"inline-flex items-center gap-2 bg-indigo-600 text-white px-6 py-3 rounded-xl font-bold text-sm hover:bg-indigo-700 transition-all hover:shadow-lg hover:shadow-indigo-200 dark:shadow-none transform hover:-translate-y-1",children:[l.jsx(c4,{className:"w-4 h-4"}),"  "]})]}):l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex justify-between items-center px-4 py-2 text-[10px] font-bold text-gray-400 dark:text-gray-500 uppercase tracking-wider border-b border-gray-100 dark:border-gray-700 mb-2",children:[l.jsx("span",{children:""}),l.jsx("span",{className:"ml-auto mr-16",children:" "}),l.jsx("span",{children:""})]}),e.map((ee,X)=>l.jsxs("div",{onClick:()=>S(ee),className:`flex items-center justify-between p-4 rounded-2xl transition-all duration-300 cursor-pointer group ${(u==null?void 0:u.uid)===ee.uid?"bg-gradient-to-r from-indigo-50 to-white dark:from-indigo-900/30 dark:to-gray-800 border border-indigo-200 dark:border-indigo-800 shadow-md z-10 relative transform scale-[1.02]":"bg-white dark:bg-gray-700/50 hover:bg-gray-50 dark:hover:bg-gray-700 border border-transparent hover:border-gray-100 dark:hover:border-gray-600 hover:scale-[1.01]"}`,children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:`w-6 h-6 rounded-lg flex items-center justify-center shrink-0 shadow-sm ${V(X)}`,children:U(X)}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"w-14 h-14 rounded-full overflow-hidden border-2 border-white dark:border-gray-600 shadow-sm bg-gray-100 dark:bg-gray-700 flex items-center justify-center group-hover:border-indigo-200 dark:group-hover:border-indigo-700 transition-colors",children:ee.avatar?l.jsx("img",{src:ee.avatar,alt:ee.displayName,className:"w-full h-full object-cover"}):l.jsx(ln,{className:"w-6 h-6 text-gray-400"})}),X===0&&l.jsx("div",{className:"absolute -top-2 -right-1 text-yellow-500 drop-shadow-sm",children:l.jsx(Ti,{className:"w-5 h-5 fill-yellow-500"})})]})]}),l.jsxs("div",{className:"flex flex-col items-center text-center flex-1 px-2 min-w-0",children:[l.jsx("span",{className:`font-bold text-lg truncate w-full group-hover:text-indigo-600 dark:group-hover:text-indigo-400 transition-colors ${(u==null?void 0:u.uid)===ee.uid?"text-indigo-700 dark:text-indigo-300":"text-gray-900 dark:text-white"}`,children:ee.displayName}),l.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500 dark:text-gray-400 mt-1 w-full justify-center",children:[l.jsx(Ld,{className:"w-3 h-3 shrink-0"}),l.jsx("span",{className:"truncate max-w-[120px]",children:ee.school||" "})]})]}),l.jsxs("div",{className:"flex items-center gap-1 bg-gray-50 dark:bg-gray-600 px-2 py-1 rounded-lg border border-gray-100 dark:border-gray-500 shrink-0 group-hover:bg-indigo-50 dark:group-hover:bg-indigo-900/30 group-hover:border-indigo-100 dark:group-hover:border-indigo-800 transition-all",children:[l.jsx("span",{className:"font-black text-gray-900 dark:text-white text-xs",children:ee.totalXP||0}),l.jsx(Fm,{className:`w-3 h-3 ${X<3?"text-orange-500 fill-orange-500":"text-gray-300 dark:text-gray-400"}`})]})]},ee.uid))]})]})]}),l.jsx("div",{className:"max-w-6xl mx-auto px-4 mb-20 relative z-10 pt-4",children:l.jsxs("div",{className:"relative overflow-hidden rounded-[2.5rem] bg-gray-900 shadow-2xl border border-gray-800 group",children:[l.jsx("div",{className:"absolute top-0 right-0 -mr-20 -mt-20 w-96 h-96 bg-indigo-600 rounded-full blur-3xl opacity-20 group-hover:opacity-30 transition-opacity duration-700"}),l.jsx("div",{className:"absolute bottom-0 left-0 -ml-20 -mb-20 w-96 h-96 bg-emerald-600 rounded-full blur-3xl opacity-20 group-hover:opacity-30 transition-opacity duration-700"}),l.jsx("div",{className:"relative z-10 p-8 md:p-12",children:l.jsxs("div",{className:"flex flex-col lg:flex-row items-center justify-between gap-10",children:[l.jsxs("div",{className:"text-center lg:text-right max-w-lg",children:[l.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-white/10 border border-white/20 text-emerald-300 text-sm font-bold mb-6 backdrop-blur-md shadow-lg animate-pulse",children:[l.jsx(CN,{className:"w-4 h-4"}),l.jsx("span",{children:" "})]}),l.jsxs("h2",{className:"text-3xl md:text-5xl font-black text-white mb-6 leading-tight",children:[" ",l.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-emerald-400 to-cyan-400",children:""}),"  !"]}),l.jsx("p",{className:"text-slate-300 text-lg leading-relaxed font-medium",children:"              .      ."})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4 w-full lg:w-auto",children:[l.jsxs("div",{className:"bg-white/5 backdrop-blur-xl border border-white/10 p-6 rounded-3xl text-center hover:bg-white/10 transition-all transform hover:-translate-y-1 shadow-lg",children:[l.jsx("div",{className:"inline-flex p-3 bg-indigo-500/20 rounded-2xl mb-3 text-indigo-400",children:l.jsx(Qm,{className:"w-6 h-6"})}),l.jsx("div",{className:"text-3xl font-black text-white mb-1 tracking-tight",children:$.toLocaleString()}),l.jsx("div",{className:"text-[10px] md:text-xs font-bold text-indigo-200 uppercase tracking-wider",children:" XP "})]}),l.jsxs("div",{className:"bg-white/5 backdrop-blur-xl border border-white/10 p-6 rounded-3xl text-center hover:bg-white/10 transition-all transform hover:-translate-y-1 shadow-lg",children:[l.jsx("div",{className:"inline-flex p-3 bg-emerald-500/20 rounded-2xl mb-3 text-emerald-400",children:l.jsx(Nn,{className:"w-6 h-6"})}),l.jsx("div",{className:"text-3xl font-black text-white mb-1 tracking-tight",children:le.toLocaleString()}),l.jsx("div",{className:"text-[10px] md:text-xs font-bold text-emerald-200 uppercase tracking-wider",children:" "})]}),l.jsxs("div",{className:"bg-white/5 backdrop-blur-xl border border-white/10 p-6 rounded-3xl text-center hover:bg-white/10 transition-all transform hover:-translate-y-1 shadow-lg",children:[l.jsx("div",{className:"inline-flex p-3 bg-amber-500/20 rounded-2xl mb-3 text-amber-400",children:l.jsx(gm,{className:"w-6 h-6"})}),l.jsx("div",{className:"text-3xl font-black text-white mb-1 tracking-tight",children:e.length}),l.jsx("div",{className:"text-[10px] md:text-xs font-bold text-amber-200 uppercase tracking-wider",children:" "})]}),l.jsxs("div",{className:"bg-white/5 backdrop-blur-xl border border-white/10 p-6 rounded-3xl text-center hover:bg-white/10 transition-all transform hover:-translate-y-1 shadow-lg",children:[l.jsx("div",{className:"inline-flex p-3 bg-rose-500/20 rounded-2xl mb-3 text-rose-400",children:l.jsx(x4,{className:"w-6 h-6"})}),l.jsx("div",{className:"text-3xl font-black text-white mb-1 tracking-tight",children:"24/7"}),l.jsx("div",{className:"text-[10px] md:text-xs font-bold text-rose-200 uppercase tracking-wider",children:" "})]})]})]})})]})}),l.jsxs("div",{className:"max-w-6xl mx-auto px-4 mt-16 relative z-10",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("div",{className:"inline-flex items-center justify-center p-2.5 bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-indigo-50 dark:border-indigo-900 mb-3 transform hover:scale-110 transition-transform",children:l.jsx(Iv,{className:"w-6 h-6 text-indigo-600 dark:text-indigo-400"})}),l.jsx("h2",{className:"text-2xl font-black text-gray-900 dark:text-white mb-2",children:"  "}),l.jsx("p",{className:"text-gray-500 dark:text-gray-400 max-w-xl mx-auto text-sm leading-relaxed",children:"         !"})]}),l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-3 lg:gap-4",children:am.map((ee,X)=>l.jsxs("div",{className:`relative rounded-xl p-4 border shadow-sm hover:shadow-lg hover:-translate-y-1 transition-all group overflow-hidden ${ee.bgGradient} ${ee.borderColor} flex flex-col items-center text-center h-full`,children:[l.jsx("div",{className:"absolute -bottom-6 -right-6 opacity-10 rotate-12 transform scale-150 transition-transform duration-700 group-hover:scale-[1.8] group-hover:rotate-6 pointer-events-none",children:l.jsx(ee.watermark,{className:`w-24 h-24 ${ee.textColor}`})}),l.jsxs("div",{className:"relative z-10 flex flex-col items-center w-full",children:[l.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center shadow-inner mb-3 ${ee.iconBox}`,children:l.jsx(ee.icon,{className:"w-5 h-5"})}),l.jsx("h3",{className:`text-sm font-black mb-1 leading-tight ${ee.textColor}`,children:ee.title}),l.jsxs("div",{className:`text-[10px] font-bold py-1 px-2 rounded-md bg-white/40 dark:bg-black/20 backdrop-blur-sm mt-auto ${ee.textColor}`,children:[" ",ee.minLevel]})]}),X===5&&l.jsx("div",{className:"absolute top-0 -left-[100%] w-full h-full bg-gradient-to-r from-transparent via-white/40 to-transparent skew-x-12 group-hover:animate-[shimmer_1.5s_infinite]"})]},X))})]})]})},zR=({onBack:a})=>{const[e,r]=Y.useState([]),[s,o]=Y.useState(!0),[u,f]=Y.useState(""),[g,p]=Y.useState(null),[y,w]=Y.useState(!1);Y.useEffect(()=>{_()},[]);const _=async()=>{o(!0);try{const F=Ms(un(Qt,"quizzes"),l_("createdAt","desc")),N=(await Bi(F)).docs.map(j=>({id:j.id,...j.data()}));r(N)}catch(F){console.error("Error fetching quizzes:",F)}finally{o(!1)}},S=F=>{p({category:"Language",...F})},V=async(F,T)=>{if(F.stopPropagation(),!T){alert(":   ");return}if(window.confirm("  "))try{await F3(Os(Qt,"quizzes",T)),r(N=>N.filter(j=>j.id!==T))}catch(N){console.error("Error deleting quiz:",N),alert("   : "+N.message)}},U=(F,T)=>{g&&p({...g,[F]:T})},ne=(F,T,N)=>{if(!g)return;const j=[...g.questions];j[F]={...j[F],[T]:N},p({...g,questions:j})},$=(F,T,N)=>{if(!g)return;const j=[...g.questions],R=[...j[F].options];R[T]=N,j[F]={...j[F],options:R},p({...g,questions:j})},le=F=>{if(g&&window.confirm("      ")){const T=g.questions.filter((N,j)=>j!==F);p({...g,questions:T})}},ee=async()=>{if(!(!g||!g.id)){if(g.questions.length===0){alert("     !");return}w(!0);try{const F=Os(Qt,"quizzes",g.id);await qg(F,{title:g.title,subject:g.subject,grade:g.grade,category:g.category,questions:g.questions}),r(T=>T.map(N=>N.id===g.id?g:N)),p(null),alert("   ")}catch(F){console.error("Error updating quiz:",F),alert("   ")}finally{w(!1)}}},X=e.filter(F=>F.title.toLowerCase().includes(u.toLowerCase())||F.teacherName&&F.teacherName.toLowerCase().includes(u.toLowerCase())),xe=F=>F?(F.toDate?F.toDate():new Date(F.seconds*1e3)).toLocaleDateString("ar-EG"):"",oe="w-full p-3 rounded-xl border-2 border-gray-300 dark:border-gray-600 focus:border-blue-500 dark:focus:border-blue-400 outline-none font-bold text-black dark:text-white bg-white dark:bg-gray-700 shadow-sm transition-colors placeholder-gray-500 dark:placeholder-gray-400";return l.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 pb-20 animate-fade-in relative transition-colors duration-300",children:[l.jsx("style",{children:`
        .custom-scrollbar {
          scrollbar-width: thin;
          scrollbar-color: #cbd5e1 transparent;
        }
        .dark .custom-scrollbar {
          scrollbar-color: #475569 transparent;
        }
        .custom-scrollbar::-webkit-scrollbar {
          width: 6px;
          height: 6px;
        }
        .custom-scrollbar::-webkit-scrollbar-track {
          background: transparent;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb {
          background: #cbd5e1;
          border-radius: 10px;
        }
        .dark .custom-scrollbar::-webkit-scrollbar-thumb {
           background: #475569;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb:hover {
          background: #94a3b8;
        }
      `}),l.jsx("div",{className:"bg-white dark:bg-gray-800 pt-8 pb-20 px-4 border-b border-gray-200 dark:border-gray-700 shadow-sm relative overflow-hidden",children:l.jsxs("div",{className:"max-w-7xl mx-auto relative z-10",children:[l.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[l.jsx("button",{onClick:a,className:"bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 p-2 rounded-full transition-colors",children:l.jsx(or,{className:"w-5 h-5 text-gray-600 dark:text-gray-300"})}),l.jsx("span",{className:"font-bold text-gray-500 dark:text-gray-400",children:" "})]}),l.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-end justify-between gap-6",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-4xl font-black text-gray-900 dark:text-white mb-2 tracking-tight",children:"  "}),l.jsx("p",{className:"text-gray-500 dark:text-gray-400 font-medium",children:"      "})]}),l.jsxs("div",{className:"w-full md:w-auto bg-white dark:bg-gray-700 p-2 rounded-2xl shadow-lg shadow-gray-100 dark:shadow-none border border-gray-100 dark:border-gray-600 flex items-center gap-2",children:[l.jsx(Ai,{className:"w-5 h-5 text-gray-400 dark:text-gray-300 mr-2"}),l.jsx("input",{type:"text",placeholder:"    ...",value:u,onChange:F=>f(F.target.value),className:"w-full md:w-64 outline-none text-sm font-bold text-gray-700 dark:text-gray-200 placeholder-gray-400 dark:placeholder-gray-500 bg-transparent"})]})]})]})}),l.jsx("div",{className:"max-w-7xl mx-auto px-4 -mt-12 relative z-20",children:s?l.jsx("div",{className:"flex justify-center items-center py-20",children:l.jsx(Gt,{className:"w-10 h-10 animate-spin text-blue-600 dark:text-blue-400"})}):X.length===0?l.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-sm border border-gray-200 dark:border-gray-700 p-12 text-center",children:[l.jsx("div",{className:"w-20 h-20 bg-gray-100 dark:bg-gray-700 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx(ji,{className:"w-8 h-8 text-gray-400 dark:text-gray-500"})}),l.jsx("h3",{className:"text-xl font-bold text-gray-800 dark:text-white",children:"  "}),l.jsx("p",{className:"text-gray-500 dark:text-gray-400 mt-1",children:"       ."})]}):l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:X.map(F=>l.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-sm hover:shadow-xl transition-all duration-300 border border-gray-100 dark:border-gray-700 overflow-hidden group flex flex-col",children:[l.jsxs("div",{className:"p-6 flex-1",children:[l.jsxs("div",{className:"flex justify-between items-start mb-4",children:[l.jsx("span",{className:"bg-blue-50 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 px-3 py-1 rounded-lg text-xs font-bold",children:F.subject}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:()=>S(F),className:"bg-emerald-50 dark:bg-emerald-900/20 text-emerald-600 dark:text-emerald-400 p-1.5 rounded-lg hover:bg-emerald-100 dark:hover:bg-emerald-900/40 transition-colors",title:" ",children:l.jsx(fm,{className:"w-4 h-4"})}),l.jsx("button",{onClick:T=>V(T,F.id),className:"bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 p-1.5 rounded-lg hover:bg-red-100 dark:hover:bg-red-900/40 transition-colors",title:" ",children:l.jsx(mm,{className:"w-4 h-4"})})]})]}),l.jsx("h3",{className:"text-xl font-black text-gray-900 dark:text-white mb-2 line-clamp-2 group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors",children:F.title}),F.category&&l.jsx("span",{className:"inline-block mb-4 bg-amber-50 dark:bg-amber-900/20 text-amber-700 dark:text-amber-400 text-[10px] font-bold px-2 py-1 rounded-md border border-amber-100 dark:border-amber-800/50",children:F.category}),l.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500 dark:text-gray-400 mb-6",children:[l.jsxs("span",{className:"bg-gray-50 dark:bg-gray-700 px-2 py-0.5 rounded border border-gray-100 dark:border-gray-600 font-bold",children:[" ",F.grade]}),l.jsx("span",{className:"text-gray-300 dark:text-gray-600",children:"|"}),l.jsxs("span",{className:"bg-gray-100 dark:bg-gray-700/50 text-gray-600 dark:text-gray-400 px-2 py-0.5 rounded-lg text-xs font-bold flex items-center gap-1",children:[l.jsx(Id,{className:"w-3 h-3"}),xe(F.createdAt)]})]})]}),l.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900/50 p-4 border-t border-gray-100 dark:border-gray-700 flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-8 h-8 bg-white dark:bg-gray-700 rounded-full border border-gray-200 dark:border-gray-600 flex items-center justify-center shadow-sm text-gray-400 dark:text-gray-300",children:l.jsx(ln,{className:"w-4 h-4"})}),l.jsx("p",{className:"text-sm font-bold text-gray-700 dark:text-gray-300",children:F.teacherName||""})]}),l.jsxs("span",{className:"flex items-center gap-1 text-xs font-bold text-gray-500 dark:text-gray-400 bg-white dark:bg-gray-700 px-2 py-1 rounded-md border border-gray-100 dark:border-gray-600",children:[l.jsx(Ei,{className:"w-3 h-3"}),F.questions.length," "]})]})]},F.id))})}),g&&l.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center px-4 bg-black/60 backdrop-blur-sm",children:l.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-3xl w-full max-w-4xl max-h-[90vh] flex flex-col shadow-2xl animate-fade-in-up overflow-hidden",children:[l.jsxs("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 p-6 flex justify-between items-center shrink-0 sticky top-0 z-10",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"bg-emerald-100 dark:bg-emerald-900/30 p-2 rounded-xl",children:l.jsx(fm,{className:"w-6 h-6 text-emerald-600 dark:text-emerald-400"})}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-black text-gray-900 dark:text-white",children:" "}),l.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"     "})]})]}),l.jsx("button",{onClick:()=>p(null),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition-colors text-gray-500 dark:text-gray-400",children:l.jsx(Ia,{className:"w-6 h-6"})})]}),l.jsxs("div",{className:"flex-1 overflow-y-auto p-6 bg-gray-50 dark:bg-gray-900 custom-scrollbar",children:[l.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-2xl shadow-sm border border-gray-200 dark:border-gray-700 mb-8",children:[l.jsxs("h3",{className:"font-bold text-gray-800 dark:text-white mb-4 flex items-center gap-2",children:[l.jsx(ji,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})," "]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:"block text-xs font-bold text-gray-500 dark:text-gray-400 mb-1",children:" "}),l.jsx("input",{type:"text",value:g.title,onChange:F=>U("title",F.target.value),className:oe})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold text-gray-500 dark:text-gray-400 mb-1",children:""}),l.jsx("input",{type:"text",value:g.subject,onChange:F=>U("subject",F.target.value),className:oe})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold text-gray-500 dark:text-gray-400 mb-1",children:""}),l.jsx("select",{value:g.grade,onChange:F=>U("grade",F.target.value),className:oe,children:[5,6,7,8,9,10,11,12].map(F=>l.jsxs("option",{value:F,children:[" ",F]},F))})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:"block text-xs font-bold text-gray-500 dark:text-gray-400 mb-1",children:"  (Category)"}),l.jsxs("select",{value:g.category||"Language",onChange:F=>U("category",F.target.value),className:oe,children:[l.jsx("option",{value:"Language",children:"Language ()"}),l.jsx("option",{value:"Reading",children:"Reading ()"}),l.jsx("option",{value:"Writing",children:"Writing ()"}),l.jsx("option",{value:"Vocabulary",children:"Vocabulary ()"})]})]})]})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("h3",{className:"font-bold text-gray-800 dark:text-white flex items-center justify-between",children:[l.jsxs("span",{className:"flex items-center gap-2",children:[l.jsx(Ei,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})," (",g.questions.length,")"]}),l.jsx("span",{className:"text-xs bg-yellow-100 dark:bg-yellow-900/30 text-yellow-800 dark:text-yellow-300 px-2 py-1 rounded-lg",children:"*        "})]}),g.questions.map((F,T)=>l.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-2xl shadow-sm border border-gray-200 dark:border-gray-700 relative group",children:[l.jsx("button",{onClick:()=>le(T),className:"absolute top-4 left-4 p-2 text-gray-400 hover:bg-red-50 dark:hover:bg-red-900/20 hover:text-red-600 dark:hover:text-red-400 rounded-lg transition-colors",title:" ",children:l.jsx(mm,{className:"w-5 h-5"})}),l.jsxs("div",{className:"mb-6",children:[l.jsxs("label",{className:"block text-xs font-bold text-gray-500 dark:text-gray-400 mb-1.5",children:["  ",T+1]}),l.jsx("input",{type:"text",dir:"ltr",value:F.question,onChange:N=>ne(T,"question",N.target.value),className:"w-full p-3 rounded-xl border-2 border-gray-300 dark:border-gray-600 focus:border-emerald-500 dark:focus:border-emerald-500 outline-none font-bold text-black dark:text-white bg-white dark:bg-gray-700 shadow-sm text-lg transition-colors placeholder-gray-500 dark:placeholder-gray-400 text-left"})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:F.options.map((N,j)=>l.jsxs("div",{className:"relative",children:[l.jsxs("label",{className:"flex items-center justify-between text-xs font-bold text-gray-500 dark:text-gray-400 mb-1 px-1",children:[l.jsxs("span",{children:[" ",j+1]}),l.jsxs("button",{onClick:()=>ne(T,"correctAnswer",j),className:`flex items-center gap-1 px-2 py-0.5 rounded cursor-pointer transition-colors ${F.correctAnswer===j?"bg-emerald-100 dark:bg-emerald-900/30 text-emerald-700 dark:text-emerald-400":"bg-gray-100 dark:bg-gray-700 text-gray-400 dark:text-gray-500 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:[F.correctAnswer===j?l.jsx(Nn,{className:"w-3 h-3"}):l.jsx("div",{className:"w-3 h-3 border border-gray-400 rounded-full"}),F.correctAnswer===j?" ":" "]})]}),l.jsx("input",{type:"text",dir:"ltr",value:N,onChange:R=>$(T,j,R.target.value),className:`w-full p-3 rounded-xl border-2 outline-none font-bold transition-colors shadow-sm text-left ${F.correctAnswer===j?"border-emerald-500 bg-emerald-50 dark:bg-emerald-900/20 text-emerald-900 dark:text-emerald-300":"border-gray-300 dark:border-gray-600 focus:border-blue-500 dark:focus:border-blue-400 text-black dark:text-white bg-white dark:bg-gray-700"}`})]},j))}),l.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 p-4 rounded-xl border border-yellow-200 dark:border-yellow-800",children:[l.jsx("label",{className:"block text-xs font-bold text-yellow-800 dark:text-yellow-200 mb-1",children:" "}),l.jsx("textarea",{value:F.explanation||"",onChange:N=>ne(T,"explanation",N.target.value),className:"w-full p-3 rounded-lg border border-yellow-300 dark:border-yellow-700 focus:border-yellow-500 dark:focus:border-yellow-500 outline-none text-gray-800 dark:text-gray-200 bg-white dark:bg-gray-800 text-sm h-20 resize-none shadow-sm custom-scrollbar text-left",placeholder:"  ...",dir:"ltr"})]})]},T))]})]}),l.jsxs("div",{className:"p-6 bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700 flex justify-end gap-3 shrink-0 sticky bottom-0 z-10",children:[l.jsx("button",{onClick:()=>p(null),className:"px-6 py-3 rounded-xl font-bold text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:""}),l.jsxs("button",{onClick:ee,disabled:y,className:"px-8 py-3 rounded-xl font-bold text-white bg-emerald-600 hover:bg-emerald-700 transition-colors flex items-center gap-2 shadow-lg shadow-emerald-200 dark:shadow-none",children:[y?l.jsx(Gt,{className:"w-5 h-5 animate-spin"}):l.jsx(Si,{className:"w-5 h-5"})," "]})]})]})})]})},UR=[{id:"grammar",title:" (Grammar)",icon:ji,desc:"   ",color:"bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400"},{id:"reading",title:" (Reading)",icon:vr,desc:"    ",color:"bg-emerald-50 dark:bg-emerald-900/20 text-emerald-600 dark:text-emerald-400"},{id:"vocabulary",title:" (Vocabulary)",icon:jv,desc:"   ",color:"bg-purple-50 dark:bg-purple-900/20 text-purple-600 dark:text-purple-400"},{id:"writing",title:" (Writing)",icon:Gm,desc:"   ",color:"bg-orange-50 dark:bg-orange-900/20 text-orange-600 dark:text-orange-400"}],BR=({onBack:a})=>{const[e,r]=Y.useState("INTRO"),[s,o]=Y.useState(""),[u,f]=Y.useState(null),[g,p]=Y.useState([]),[y,w]=Y.useState(!1),[_,S]=Y.useState(null),V=()=>r("GRADES"),U=N=>{o(N),r("CATEGORIES")},ne=N=>{f(N),r("TOPICS")},$=N=>{S(N),r("DETAILS")};Y.useEffect(()=>{e==="TOPICS"&&s&&u&&le()},[e,s,u]);const le=async()=>{w(!0);try{const N=Ms(un(Qt,"explanations"),Vs("grade","==",s),Vs("category","==",u==null?void 0:u.id)),j=await Bi(N),R=[];j.forEach(I=>{R.push({id:I.id,...I.data()})}),R.sort((I,M)=>{var ze,W;const A=((ze=I.createdAt)==null?void 0:ze.seconds)||0;return(((W=M.createdAt)==null?void 0:W.seconds)||0)-A}),p(R)}catch(N){console.error("Error fetching explanations:",N)}finally{w(!1)}},ee=N=>N?(N.toDate?N.toDate():new Date(N.seconds*1e3)).toLocaleDateString("ar-EG"):"",X=()=>l.jsxs("div",{className:"min-h-screen bg-white dark:bg-gray-900 animate-fade-in flex flex-col relative overflow-hidden",children:[l.jsx("div",{className:"absolute top-0 left-0 w-full h-1/2 bg-gradient-to-b from-emerald-50 to-white dark:from-emerald-900/20 dark:to-gray-900 z-0"}),l.jsx("div",{className:"absolute top-[-10%] right-[-10%] w-96 h-96 bg-blue-100 dark:bg-blue-900/20 rounded-full blur-3xl opacity-60 animate-pulse"}),l.jsx("div",{className:"absolute top-[20%] left-[-10%] w-72 h-72 bg-emerald-100 dark:bg-emerald-900/20 rounded-full blur-3xl opacity-60 animate-pulse delay-1000"}),l.jsxs("div",{className:"relative z-10 flex flex-col items-center justify-center flex-1 px-6 text-center pt-10",children:[l.jsx("span",{className:"inline-block px-4 py-1.5 rounded-full bg-emerald-100 dark:bg-emerald-900/30 text-emerald-700 dark:text-emerald-300 font-bold text-sm mb-4 border border-emerald-200 dark:border-emerald-800",children:"  "}),l.jsxs("h1",{className:"text-4xl md:text-6xl font-black text-gray-900 dark:text-white mb-4 leading-tight",children:["  ",l.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-emerald-600 to-teal-500",children:""})]}),l.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-lg md:text-xl max-w-xl mx-auto mb-10 leading-relaxed",children:"         ."}),l.jsxs("button",{onClick:V,className:"w-full md:w-auto bg-gray-900 dark:bg-white text-white dark:text-gray-900 text-xl font-bold px-12 py-5 rounded-2xl hover:scale-105 transition-all shadow-xl shadow-gray-200 dark:shadow-none flex items-center justify-center gap-3",children:[" ",l.jsx(or,{className:"w-6 h-6"})]})]}),l.jsx("div",{className:"p-6 text-center relative z-10",children:l.jsxs("button",{onClick:a,className:"text-gray-400 dark:text-gray-600 font-bold hover:text-emerald-600 dark:hover:text-emerald-400 transition-colors flex items-center justify-center gap-2 mx-auto",children:[l.jsx(Md,{className:"w-4 h-4"})," "]})})]}),xe=()=>l.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 animate-fade-in-up",children:[l.jsx("div",{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-md border-b border-gray-200 dark:border-gray-700 py-4 px-4 sticky top-0 z-30 shadow-sm",children:l.jsxs("div",{className:"max-w-4xl mx-auto flex items-center gap-4",children:[l.jsx("button",{onClick:()=>r("INTRO"),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition-colors",children:l.jsx(or,{className:"w-6 h-6 text-gray-600 dark:text-gray-300"})}),l.jsx("h2",{className:"text-xl font-black text-gray-900 dark:text-white",children:"  "})]})}),l.jsx("div",{className:"max-w-4xl mx-auto px-4 py-8",children:l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:[[5,6,7,8,9,10,11,12].map(N=>l.jsxs("button",{onClick:()=>U(N.toString()),className:"bg-white dark:bg-gray-800 p-6 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 hover:border-emerald-500 dark:hover:border-emerald-500 hover:shadow-emerald-100 dark:hover:shadow-none hover:-translate-y-1 transition-all group flex flex-col items-center gap-3",children:[l.jsx("div",{className:"w-14 h-14 rounded-full bg-gray-50 dark:bg-gray-700 flex items-center justify-center group-hover:bg-emerald-500 transition-colors",children:l.jsx("span",{className:"font-black text-2xl text-gray-700 dark:text-gray-300 group-hover:text-white",children:N})}),l.jsxs("span",{className:"font-bold text-gray-600 dark:text-gray-300 group-hover:text-emerald-600 dark:group-hover:text-emerald-400",children:[" ",N]})]},N)),l.jsxs("button",{onClick:()=>U("English Major - QOU"),className:"col-span-2 md:col-span-3 lg:col-span-4 bg-gradient-to-r from-emerald-600 to-teal-600 p-6 rounded-2xl shadow-lg text-white hover:shadow-xl hover:-translate-y-1 transition-all flex items-center justify-center gap-4",children:[l.jsx("div",{className:"bg-white/20 p-3 rounded-xl",children:l.jsx(Vi,{className:"w-8 h-8 text-white"})}),l.jsxs("div",{className:"text-right",children:[l.jsx("span",{className:"block font-black text-lg",children:"  "}),l.jsx("span",{className:"text-emerald-100 text-sm",children:"  "})]})]})]})})]}),oe=()=>l.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 animate-fade-in-up",children:[l.jsx("div",{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-md border-b border-gray-200 dark:border-gray-700 py-4 px-4 sticky top-0 z-30 shadow-sm",children:l.jsxs("div",{className:"max-w-4xl mx-auto flex items-center gap-4",children:[l.jsx("button",{onClick:()=>r("GRADES"),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition-colors",children:l.jsx(or,{className:"w-6 h-6 text-gray-600 dark:text-gray-300"})}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-black text-gray-900 dark:text-white",children:"   "}),l.jsx("span",{className:"text-xs font-bold text-emerald-600 dark:text-emerald-400 bg-emerald-50 dark:bg-emerald-900/30 px-2 py-0.5 rounded",children:s==="English Major - QOU"?"":` ${s}`})]})]})}),l.jsx("div",{className:"max-w-4xl mx-auto px-4 py-8",children:l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:UR.map(N=>l.jsx("button",{onClick:()=>ne(N),className:"bg-white dark:bg-gray-800 rounded-3xl p-6 shadow-sm border border-gray-100 dark:border-gray-700 hover:shadow-xl hover:border-emerald-200 dark:hover:border-emerald-800 transition-all group text-right relative overflow-hidden",children:l.jsxs("div",{className:"flex items-start gap-5 relative z-10",children:[l.jsx("div",{className:`w-16 h-16 rounded-2xl flex items-center justify-center shrink-0 ${N.color} group-hover:scale-110 transition-transform`,children:l.jsx(N.icon,{className:"w-8 h-8"})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"text-xl font-black text-gray-900 dark:text-white mb-2",children:N.title}),l.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm font-medium",children:N.desc})]}),l.jsx("div",{className:"absolute top-1/2 -left-4 -translate-y-1/2 bg-gray-50 dark:bg-gray-700 p-2 rounded-full opacity-0 group-hover:opacity-100 group-hover:translate-x-2 transition-all",children:l.jsx(Zn,{className:"w-5 h-5 text-gray-400"})})]})},N.id))})})]}),F=()=>l.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 animate-fade-in-up",children:[l.jsx("div",{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-md border-b border-gray-200 dark:border-gray-700 py-4 px-4 sticky top-0 z-30 shadow-sm",children:l.jsxs("div",{className:"max-w-4xl mx-auto flex items-center gap-4",children:[l.jsx("button",{onClick:()=>r("CATEGORIES"),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition-colors",children:l.jsx(or,{className:"w-6 h-6 text-gray-600 dark:text-gray-300"})}),l.jsxs("div",{className:"flex flex-col",children:[l.jsx("h2",{className:"text-lg font-black text-gray-900 dark:text-white",children:u==null?void 0:u.title}),l.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500 dark:text-gray-400",children:[l.jsx("span",{className:"font-bold",children:" "}),l.jsx("span",{children:""}),l.jsx("span",{children:s==="English Major - QOU"?"":` ${s}`})]})]})]})}),l.jsx("div",{className:"max-w-3xl mx-auto px-4 py-8",children:y?l.jsx("div",{className:"flex justify-center py-12",children:l.jsx(Gt,{className:"w-8 h-8 animate-spin text-emerald-600 dark:text-emerald-400"})}):g.length===0?l.jsx("div",{className:"flex flex-col items-center justify-center text-center",children:l.jsxs("div",{className:"bg-white dark:bg-gray-800 p-8 rounded-3xl shadow-sm border border-gray-100 dark:border-gray-700 max-w-md w-full",children:[l.jsx("h3",{className:"text-2xl font-black text-gray-900 dark:text-white mb-3",children:"   "}),l.jsxs("p",{className:"text-gray-500 dark:text-gray-400 font-medium leading-relaxed mb-6",children:["      ",l.jsx("span",{className:"text-emerald-600 font-bold",children:u==null?void 0:u.title}),"    ."]}),l.jsxs("div",{className:"flex items-center justify-center gap-2 text-xs font-bold text-gray-400 bg-gray-50 dark:bg-gray-700 py-2 px-4 rounded-full",children:[l.jsx(VN,{className:"w-4 h-4"}),"     "]})]})}):l.jsx("div",{className:"grid grid-cols-1 gap-4",children:g.map(N=>l.jsxs("button",{onClick:()=>$(N),className:"bg-white dark:bg-gray-800 p-5 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 hover:border-emerald-300 dark:hover:border-emerald-700 hover:shadow-md transition-all group text-right flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-start gap-4",children:[l.jsx("div",{className:"p-3 rounded-xl bg-gray-50 dark:bg-gray-700 group-hover:bg-emerald-50 dark:group-hover:bg-emerald-900/20 transition-colors",children:l.jsx(zl,{className:"w-6 h-6 text-gray-400 dark:text-gray-500 group-hover:text-emerald-600 dark:group-hover:text-emerald-400"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-1 group-hover:text-emerald-700 dark:group-hover:text-emerald-400 transition-colors",children:N.title}),l.jsxs("div",{className:"flex items-center gap-3 text-xs text-gray-400 dark:text-gray-500 font-medium",children:[l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx(Id,{className:"w-3 h-3"}),ee(N.createdAt)]}),l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx(ln,{className:"w-3 h-3"}),N.teacherName]})]})]})]}),l.jsx(Zn,{className:"w-5 h-5 text-gray-300 group-hover:text-emerald-500 group-hover:-translate-x-1 transition-all"})]},N.id))})})]}),T=()=>_?l.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 animate-fade-in-up",children:[l.jsx("div",{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-md border-b border-gray-200 dark:border-gray-700 py-4 px-4 sticky top-0 z-30 shadow-sm",children:l.jsxs("div",{className:"max-w-4xl mx-auto flex items-center gap-4",children:[l.jsx("button",{onClick:()=>r("TOPICS"),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition-colors",children:l.jsx(or,{className:"w-6 h-6 text-gray-600 dark:text-gray-300"})}),l.jsx("div",{className:"flex-1 min-w-0",children:l.jsx("h2",{className:"text-lg font-black text-gray-900 dark:text-white truncate",children:_.title})})]})}),l.jsx("div",{className:"max-w-3xl mx-auto px-4 py-8",children:l.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden",children:[l.jsxs("div",{className:"p-6 md:p-8",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-6 text-sm text-gray-500 dark:text-gray-400 border-b border-gray-100 dark:border-gray-700 pb-4",children:[l.jsx("span",{className:"bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded font-bold",children:s==="English Major - QOU"?"":` ${s}`}),l.jsx(Zn,{className:"w-4 h-4"}),l.jsx("span",{className:"bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded font-bold",children:u==null?void 0:u.title})]}),l.jsx("h1",{className:"text-2xl md:text-3xl font-black text-gray-900 dark:text-white mb-6 leading-relaxed",children:_.title}),l.jsx("div",{className:"prose dark:prose-invert max-w-none text-gray-800 dark:text-gray-200 whitespace-pre-wrap leading-loose text-lg",children:_.content})]}),l.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900/50 p-4 border-t border-gray-100 dark:border-gray-700 flex justify-between items-center text-sm text-gray-500 dark:text-gray-400",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(ln,{className:"w-4 h-4"}),l.jsxs("span",{children:[": ",l.jsx("span",{className:"font-bold",children:_.teacherName})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Id,{className:"w-4 h-4"}),l.jsx("span",{children:ee(_.createdAt)})]})]})]})})]}):null;return l.jsxs(l.Fragment,{children:[e==="INTRO"&&X(),e==="GRADES"&&xe(),e==="CATEGORIES"&&oe(),e==="TOPICS"&&F(),e==="DETAILS"&&T()]})},qR=[{id:"grammar",title:" (Grammar)",icon:ji},{id:"reading",title:" (Reading)",icon:vr},{id:"vocabulary",title:" (Vocabulary)",icon:jv},{id:"writing",title:" (Writing)",icon:Gm}],HR=({onBack:a,onNavigate:e})=>{const{user:r}=la(),[s,o]=Y.useState(""),[u,f]=Y.useState(""),[g,p]=Y.useState(""),[y,w]=Y.useState(""),[_,S]=Y.useState(!1),[V,U]=Y.useState(!1),ne=async()=>{if(!s||!u||!g||!y){alert("    ");return}S(!0);try{await Ch(un(Qt,"explanations"),{grade:s,category:u,subject:"English",title:g,content:y,teacherName:(r==null?void 0:r.displayName)||"",teacherId:r==null?void 0:r.uid,createdAt:$l()}),U(!0),setTimeout(()=>{U(!1),p(""),w("")},2e3)}catch(le){console.error("Error saving explanation:",le),alert("   ")}finally{S(!1)}},$=()=>{a?a():e("HOME")};return l.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 animate-fade-in transition-colors duration-300",children:[l.jsx("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 py-6 px-4 sticky top-0 z-30 shadow-sm",children:l.jsxs("div",{className:"max-w-4xl mx-auto flex items-center gap-4",children:[l.jsxs("button",{onClick:$,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition-colors flex items-center gap-2 text-gray-600 dark:text-gray-300 font-bold",children:[l.jsx(or,{className:"w-6 h-6"}),""]}),l.jsxs("h1",{className:"text-xl font-black text-gray-900 dark:text-white flex items-center gap-2",children:[l.jsx(wc,{className:"w-6 h-6 text-purple-600 dark:text-purple-400"}),"  "]})]})}),l.jsx("div",{className:"max-w-4xl mx-auto px-4 py-8",children:l.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-sm border border-gray-200 dark:border-gray-700 p-6 md:p-8",children:V?l.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center animate-fade-in",children:[l.jsx("div",{className:"w-20 h-20 bg-green-100 dark:bg-green-900 rounded-full flex items-center justify-center mb-4",children:l.jsx(Nn,{className:"w-10 h-10 text-green-600 dark:text-green-400"})}),l.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"  !"}),l.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-6",children:"      ."}),l.jsx("button",{onClick:()=>U(!1),className:"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 px-6 py-2 rounded-xl font-bold hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:"  "})]}):l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-3",children:"1.   "}),l.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[[5,6,7,8,9,10,11,12].map(le=>l.jsxs("button",{onClick:()=>o(le.toString()),className:`py-3 rounded-xl font-bold transition-all border-2 ${s===le.toString()?"bg-purple-600 text-white border-purple-600 shadow-lg shadow-purple-200 dark:shadow-none":"bg-white dark:bg-gray-700 text-gray-600 dark:text-gray-300 border-gray-100 dark:border-gray-600 hover:border-purple-300"}`,children:[" ",le]},le)),l.jsx("button",{onClick:()=>o("English Major - QOU"),className:`col-span-2 sm:col-span-4 py-3 rounded-xl font-bold transition-all border-2 ${s==="English Major - QOU"?"bg-purple-600 text-white border-purple-600 shadow-lg shadow-purple-200 dark:shadow-none":"bg-white dark:bg-gray-700 text-gray-600 dark:text-gray-300 border-gray-100 dark:border-gray-600 hover:border-purple-300"}`,children:"  "})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-3",children:"2.   ()"}),l.jsx("div",{className:"grid grid-cols-2 gap-4",children:qR.map(le=>l.jsxs("button",{onClick:()=>f(le.id),className:`flex items-center gap-3 p-4 rounded-xl border-2 transition-all text-right ${u===le.id?"bg-purple-50 dark:bg-purple-900/20 border-purple-500 text-purple-700 dark:text-purple-300":"bg-white dark:bg-gray-700 border-gray-100 dark:border-gray-600 text-gray-600 dark:text-gray-300 hover:border-purple-200"}`,children:[l.jsx("div",{className:`p-2 rounded-lg ${u===le.id?"bg-purple-200 dark:bg-purple-800":"bg-gray-100 dark:bg-gray-600"}`,children:l.jsx(le.icon,{className:"w-5 h-5"})}),l.jsx("span",{className:"font-bold",children:le.title})]},le.id))})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-2",children:"  / "}),l.jsx("input",{type:"text",value:g,onChange:le=>p(le.target.value),placeholder:":   Present Simple",className:"w-full px-4 py-3 rounded-xl border-2 border-gray-200 dark:border-gray-600 focus:border-purple-500 outline-none font-bold text-gray-900 dark:text-white bg-white dark:bg-gray-700 transition-all"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-2",children:" "}),l.jsx("textarea",{value:y,onChange:le=>w(le.target.value),placeholder:"  ...",className:"w-full h-64 px-4 py-3 rounded-xl border-2 border-gray-200 dark:border-gray-600 focus:border-purple-500 outline-none font-medium text-gray-900 dark:text-white bg-white dark:bg-gray-700 transition-all resize-none leading-relaxed"}),l.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"          ."})]})]}),l.jsx("div",{className:"pt-4 border-t border-gray-100 dark:border-gray-700 flex justify-end",children:l.jsxs("button",{onClick:ne,disabled:_,className:"bg-purple-600 hover:bg-purple-700 text-white px-8 py-3 rounded-xl font-bold shadow-lg shadow-purple-200 dark:shadow-none transition-all flex items-center gap-2 transform hover:-translate-y-1",children:[_?l.jsx(Gt,{className:"w-5 h-5 animate-spin"}):l.jsx(Si,{className:"w-5 h-5"}),"  "]})})]})})})]})},FR=[{id:"handouts",title:" ",icon:zl,color:"text-blue-600",bg:"bg-blue-50 dark:bg-blue-900/20"},{id:"worksheets",title:" ",icon:ac,color:"text-emerald-600",bg:"bg-emerald-50 dark:bg-emerald-900/20"},{id:"exams",title:"  ",icon:vr,color:"text-purple-600",bg:"bg-purple-50 dark:bg-purple-900/20"}],GR=[{id:"English",title:"  (English)"},{id:"Math",title:""},{id:"Science",title:""}],$R=({onBack:a,onNavigate:e})=>{const{user:r}=la(),[s,o]=Y.useState(""),[u,f]=Y.useState(""),[g,p]=Y.useState(""),[y,w]=Y.useState(""),[_,S]=Y.useState(""),[V,U]=Y.useState(!1),[ne,$]=Y.useState(!1),le=async()=>{if(!s||!u||!g||!y||!_){alert("    ");return}if(!_.startsWith("http")){alert("        http  https");return}U(!0);try{await Ch(un(Qt,"study_materials"),{grade:s,subject:u,category:g,title:y,url:_,size:"Drive Link",teacherName:(r==null?void 0:r.displayName)||"",teacherId:r==null?void 0:r.uid,createdAt:$l()}),$(!0),setTimeout(()=>{$(!1),w(""),S("")},2e3)}catch(X){console.error("Error saving file:",X),alert("   ")}finally{U(!1)}},ee=()=>{a?a():e("PROFILE")};return l.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 animate-fade-in transition-colors duration-300",children:[l.jsx("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 py-6 px-4 sticky top-0 z-30 shadow-sm",children:l.jsxs("div",{className:"max-w-4xl mx-auto flex items-center gap-4",children:[l.jsxs("button",{onClick:ee,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition-colors flex items-center gap-2 text-gray-600 dark:text-gray-300 font-bold",children:[l.jsx(or,{className:"w-6 h-6"}),""]}),l.jsxs("h1",{className:"text-xl font-black text-gray-900 dark:text-white flex items-center gap-2",children:[l.jsx(Tv,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"}),"   (Drive)"]})]})}),l.jsx("div",{className:"max-w-4xl mx-auto px-4 py-8",children:l.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-sm border border-gray-200 dark:border-gray-700 p-6 md:p-8",children:ne?l.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center animate-fade-in",children:[l.jsx("div",{className:"w-20 h-20 bg-green-100 dark:bg-green-900 rounded-full flex items-center justify-center mb-4",children:l.jsx(Nn,{className:"w-10 h-10 text-green-600 dark:text-green-400"})}),l.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"  !"}),l.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-6",children:"       ."}),l.jsx("button",{onClick:()=>$(!1),className:"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 px-6 py-2 rounded-xl font-bold hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:"  "})]}):l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-3 flex items-center gap-2",children:[l.jsx(Vi,{className:"w-4 h-4 text-blue-500"})," "]}),l.jsxs("select",{value:s,onChange:X=>o(X.target.value),className:"w-full px-4 py-3 rounded-xl border-2 border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800 focus:border-blue-500 outline-none font-bold text-gray-800 dark:text-white appearance-none cursor-pointer",children:[l.jsx("option",{value:"",children:" "}),[5,6,7,8,9,10,11,12].map(X=>l.jsxs("option",{value:X.toString(),children:[" ",X]},X)),l.jsx("option",{value:"English Major - QOU",children:"  "})]})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-3 flex items-center gap-2",children:[l.jsx(vr,{className:"w-4 h-4 text-blue-500"}),""]}),l.jsxs("select",{value:u,onChange:X=>f(X.target.value),className:"w-full px-4 py-3 rounded-xl border-2 border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800 focus:border-blue-500 outline-none font-bold text-gray-800 dark:text-white appearance-none cursor-pointer",children:[l.jsx("option",{value:"",children:" "}),GR.map(X=>l.jsx("option",{value:X.id,children:X.title},X.id))]})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-3",children:"  ()"}),l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:FR.map(X=>l.jsxs("button",{onClick:()=>p(X.id),className:`flex flex-col items-center justify-center gap-2 p-4 rounded-xl border-2 transition-all text-center h-full ${g===X.id?"bg-blue-50 dark:bg-blue-900/30 border-blue-500 text-blue-700 dark:text-blue-300 ring-1 ring-blue-500":"bg-white dark:bg-gray-700 border-gray-100 dark:border-gray-600 text-gray-600 dark:text-gray-300 hover:border-blue-200 dark:hover:border-blue-500"}`,children:[l.jsx("div",{className:`p-2 rounded-lg ${X.bg}`,children:l.jsx(X.icon,{className:`w-6 h-6 ${X.color}`})}),l.jsx("span",{className:"font-bold text-sm",children:X.title})]},X.id))})]}),l.jsxs("div",{className:"space-y-4 pt-4 border-t border-gray-100 dark:border-gray-700",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-2",children:" "}),l.jsx("input",{type:"text",value:y,onChange:X=>w(X.target.value),placeholder:":    -  ",className:"w-full px-4 py-3 rounded-xl border-2 border-gray-200 dark:border-gray-600 focus:border-blue-500 outline-none font-bold text-gray-900 dark:text-white bg-white dark:bg-gray-700 transition-all"})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-2 flex items-center gap-2",children:[l.jsx(jE,{className:"w-4 h-4 text-blue-500"}),"  (Google Drive Link)"]}),l.jsx("input",{type:"url",value:_,onChange:X=>S(X.target.value),placeholder:"https://drive.google.com/file/d/...",className:"w-full px-4 py-3 rounded-xl border-2 border-gray-200 dark:border-gray-600 focus:border-blue-500 outline-none font-medium text-blue-600 dark:text-blue-400 bg-blue-50/50 dark:bg-gray-700 transition-all text-left",dir:"ltr"}),l.jsx("p",{className:"text-xs text-gray-500 mt-2",children:'    " " (Anyone with the link)    .'})]})]}),l.jsx("div",{className:"pt-4 flex justify-end",children:l.jsxs("button",{onClick:le,disabled:V,className:"w-full md:w-auto bg-blue-600 hover:bg-blue-700 text-white px-10 py-3 rounded-xl font-bold shadow-lg shadow-blue-200 dark:shadow-none transition-all flex items-center justify-center gap-2 transform hover:-translate-y-1",children:[V?l.jsx(Gt,{className:"w-5 h-5 animate-spin"}):l.jsx(Si,{className:"w-5 h-5"}),"  "]})})]})})})]})},QR=[{icon:T4,title:" ",desc:"        .",color:"bg-blue-100 text-blue-600"},{icon:vr,title:" ",desc:"        .",color:"bg-emerald-100 text-emerald-600"},{icon:d4,title:" ",desc:"       .",color:"bg-yellow-100 text-yellow-600"},{icon:qN,title:" ",desc:"        .",color:"bg-purple-100 text-purple-600"}],KR=()=>l.jsx("section",{className:"py-20 bg-white dark:bg-gray-900 border-t border-gray-100 dark:border-gray-800 relative transition-colors duration-300",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[l.jsxs("div",{className:"text-center mb-12",children:[l.jsx("h2",{className:"text-3xl font-black text-gray-900 dark:text-white mb-4",children:" "}),l.jsx("div",{className:"w-24 h-1.5 bg-emerald-500 mx-auto rounded-full"}),l.jsx("p",{className:"mt-6 text-lg text-gray-600 dark:text-gray-300",children:"     "})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 relative",children:[l.jsx("div",{className:"hidden lg:block absolute top-12 left-0 w-full h-0.5 bg-gray-200 dark:bg-gray-700 -z-10 transform -translate-y-1/2"}),QR.map((a,e)=>l.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 text-center relative group hover:-translate-y-2 transition-transform duration-300",children:[l.jsx("div",{className:"absolute -top-4 right-6 w-8 h-8 bg-gray-900 dark:bg-black text-white rounded-full flex items-center justify-center font-bold text-sm shadow-md z-10 border-2 border-white dark:border-gray-700",children:e+1}),l.jsx("div",{className:"w-24 h-24 bg-white dark:bg-gray-700 rounded-full flex items-center justify-center mx-auto mb-4 border-4 border-gray-50 dark:border-gray-600 group-hover:border-emerald-100 dark:group-hover:border-emerald-900 transition-colors relative z-0",children:l.jsx("div",{className:`w-16 h-16 ${a.color} rounded-full flex items-center justify-center`,children:l.jsx(a.icon,{className:"w-8 h-8"})})}),l.jsx("h3",{className:"font-black text-xl mb-3 text-gray-900 dark:text-white",children:a.title}),l.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm leading-relaxed font-medium px-2",children:a.desc})]},e))]})]})}),sm=[{text:"            .",author:" ",color:"from-emerald-400 to-teal-500",bg:"bg-emerald-500"},{text:"               .",author:"",color:"from-blue-400 to-indigo-500",bg:"bg-blue-500"},{text:"        .",author:" ",color:"from-yellow-400 to-amber-500",bg:"bg-amber-500"},{text:"     .",author:" ",color:"from-rose-400 to-pink-500",bg:"bg-rose-500"},{text:"          .",author:" ",color:"from-purple-400 to-violet-500",bg:"bg-purple-500"},{text:"     .",author:" ",color:"from-cyan-400 to-sky-500",bg:"bg-cyan-500"},{text:"     .",author:" ",color:"from-red-400 to-orange-500",bg:"bg-red-500"},{text:"     .",author:" ",color:"from-orange-400 to-yellow-500",bg:"bg-orange-500"},{text:"     .",author:" ",color:"from-teal-400 to-emerald-500",bg:"bg-teal-500"},{text:"    .",author:" ",color:"from-indigo-400 to-blue-500",bg:"bg-indigo-500"}],YR=()=>{const[a,e]=Y.useState(0),[r,s]=Y.useState(!0);Y.useEffect(()=>{const f=setInterval(()=>{s(!1),setTimeout(()=>{e(g=>(g+1)%sm.length),s(!0)},500)},1e4);return()=>clearInterval(f)},[]);const o=sm[a],u=()=>{navigator.clipboard.writeText(`"${o.text}" - ${o.author}`),alert("  !")};return l.jsxs("div",{className:"py-20 bg-gradient-to-b from-slate-900 to-gray-950 relative overflow-hidden border-t border-gray-800",children:[l.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[l.jsx("div",{className:"absolute top-10 left-1/4 w-1 h-1 bg-white rounded-full animate-[ping_3s_infinite]"}),l.jsx("div",{className:"absolute bottom-20 right-1/3 w-1.5 h-1.5 bg-yellow-400 rounded-full animate-[ping_5s_infinite]"}),l.jsx("div",{className:"absolute top-1/2 left-10 w-2 h-2 bg-blue-400 rounded-full animate-[bounce_4s_infinite] opacity-20"}),l.jsx("div",{className:`absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[500px] h-[500px] rounded-full bg-gradient-to-r ${o.color} blur-[150px] opacity-10 transition-colors duration-1000`})]}),l.jsxs("div",{className:"max-w-4xl mx-auto px-6 relative z-10",children:[l.jsxs("div",{className:"bg-white/5 backdrop-blur-xl border border-white/10 rounded-[3rem] p-8 md:p-12 text-center relative group hover:bg-white/10 transition-all duration-500 shadow-2xl",children:[l.jsx("div",{className:"absolute -top-6 left-1/2 -translate-x-1/2",children:l.jsx("div",{className:`w-12 h-12 rounded-2xl bg-gradient-to-br ${o.color} flex items-center justify-center shadow-lg transform rotate-3 group-hover:rotate-0 transition-transform`,children:l.jsx($E,{className:"w-6 h-6 text-white fill-white"})})}),l.jsxs("div",{className:`transition-all duration-500 ease-in-out transform ${r?"opacity-100 translate-y-0":"opacity-0 translate-y-4"}`,children:[l.jsxs("h2",{className:`text-2xl md:text-4xl font-black leading-relaxed tracking-wide bg-clip-text text-transparent bg-gradient-to-r ${o.color} mb-6 drop-shadow-sm`,children:['"',o.text,'"']}),l.jsxs("p",{className:"text-gray-400 font-bold text-lg flex items-center justify-center gap-2",children:[l.jsx("span",{className:`w-8 h-0.5 bg-gradient-to-r ${o.color} rounded-full`}),o.author,l.jsx("span",{className:`w-8 h-0.5 bg-gradient-to-r ${o.color} rounded-full`})]})]}),l.jsx("button",{onClick:u,className:"absolute top-6 right-6 p-2 text-gray-500 hover:text-white hover:bg-white/10 rounded-full transition-colors opacity-0 group-hover:opacity-100",title:" ",children:l.jsx(t4,{className:"w-5 h-5"})}),l.jsx("div",{className:"flex justify-center gap-2 mt-10",children:sm.map((f,g)=>l.jsx("button",{onClick:()=>{s(!1),setTimeout(()=>{e(g),s(!0)},300)},className:`h-1.5 rounded-full transition-all duration-700 ${g===a?`w-8 ${f.bg}`:"w-1.5 bg-gray-700 hover:bg-gray-500"}`},g))})]}),l.jsx("div",{className:"mt-8 text-center",children:l.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-gray-800/50 border border-gray-700 text-gray-400 text-xs font-medium backdrop-blur-sm",children:[l.jsx(EE,{className:"w-3 h-3 text-yellow-400"}),l.jsx("span",{children:"   10 "})]})})]})]})};function XR(){const[a,e]=Y.useState("HOME"),[r,s]=Y.useState(!1),[o,u]=Y.useState(!1),{logout:f}=la();Y.useEffect(()=>{"scrollRestoration"in history&&(history.scrollRestoration="manual"),window.scrollTo(0,0),window.history.replaceState({view:"HOME"},"","");const y=w=>{w.state&&w.state.view?e(w.state.view):e("HOME")};return window.addEventListener("popstate",y),()=>window.removeEventListener("popstate",y)},[]),Y.useEffect(()=>{window.scrollTo(0,0)},[a]);const g=y=>{y!==a&&(window.history.pushState({view:y},"",""),e(y))},p=async()=>{u(!0),setTimeout(async()=>{await f(),u(!1),g("HOME")},1e3)};return l.jsxs("div",{className:"min-h-screen flex flex-col relative transition-colors duration-500 bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100",children:[o&&l.jsx("div",{className:"fixed inset-0 z-[200] bg-emerald-600 flex items-center justify-center animate-fade-in",children:l.jsx("div",{className:"text-white text-2xl font-bold animate-bounce",children:"  ..."})}),l.jsx(gR,{onLoginClick:()=>s(!0),onNavigate:g,onLogoutClick:p}),l.jsxs("main",{className:"flex-grow",children:[a==="HOME"&&l.jsxs(l.Fragment,{children:[l.jsx(yR,{onStartQuiz:()=>g("QUIZZES"),onLoginClick:()=>s(!0),onNavigate:g}),l.jsx(bR,{onNavigate:g}),l.jsx(PR,{onLoginClick:()=>s(!0)}),l.jsx(KR,{}),l.jsx(YR,{})]}),a==="ABOUT_PLATFORM"&&l.jsx(IR,{onBack:()=>g("HOME")}),a==="SERVICES"&&l.jsx(DR,{onBack:()=>g("HOME")}),a==="TEACHER_CV"&&l.jsx(RR,{onBack:()=>g("HOME")}),a==="PROFILE"&&l.jsx(TR,{onNavigate:g}),a==="TEACHER_DASHBOARD"&&l.jsx(wR,{}),a==="QUESTION_BANK"&&l.jsx(zR,{onBack:()=>g("HOME")}),a==="TEACHER_EXPLANATIONS"&&l.jsx(HR,{onNavigate:g,onBack:()=>g("PROFILE")}),a==="TEACHER_UPLOAD_FILES"&&l.jsx($R,{onNavigate:g,onBack:()=>g("PROFILE")}),a==="QUIZZES"&&l.jsx(SR,{onBack:()=>g("HOME")}),a==="LESSONS"&&l.jsx(OR,{onBack:()=>g("HOME")}),a==="LESSONS_EXPLANATIONS"&&l.jsx(BR,{onBack:()=>g("HOME")}),a==="CONTACT_TEACHER"&&l.jsx(LR,{onBack:()=>g("HOME")})]}),l.jsx(vR,{isOpen:r,onClose:()=>s(!1)}),l.jsx("footer",{className:"bg-white dark:bg-gray-900 py-8 border-t border-gray-100 dark:border-gray-800",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 text-center text-gray-400 dark:text-gray-500 text-sm",children:[" ",new Date().getFullYear(),"   .   ."]})})]})}const V_=document.getElementById("root");if(!V_)throw new Error("Could not find root element to mount to");const WR=kN.createRoot(V_);WR.render(l.jsx(_v.StrictMode,{children:l.jsx(mR,{children:l.jsx(XR,{})})}));
