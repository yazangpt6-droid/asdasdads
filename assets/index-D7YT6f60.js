var gF=Object.defineProperty;var mF=(r,e,t)=>e in r?gF(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var gn=(r,e,t)=>mF(r,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function t(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(s){if(s.ep)return;s.ep=!0;const o=t(s);fetch(s.href,o)}})();var OJ=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function iS(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var b2={exports:{}},B0={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hN;function pF(){if(hN)return B0;hN=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(n,s,o){var l=null;if(o!==void 0&&(l=""+o),s.key!==void 0&&(l=""+s.key),"key"in s){o={};for(var c in s)c!=="key"&&(o[c]=s[c])}else o=s;return s=o.ref,{$$typeof:r,type:n,key:l,ref:s!==void 0?s:null,props:o}}return B0.Fragment=e,B0.jsx=t,B0.jsxs=t,B0}var fN;function xF(){return fN||(fN=1,b2.exports=pF()),b2.exports}var i=xF(),y2={exports:{}},Br={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gN;function bF(){if(gN)return Br;gN=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),B=Symbol.iterator;function w($){return $===null||typeof $!="object"?null:($=B&&$[B]||$["@@iterator"],typeof $=="function"?$:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,M={};function L($,D,q){this.props=$,this.context=D,this.refs=M,this.updater=q||I}L.prototype.isReactComponent={},L.prototype.setState=function($,D){if(typeof $!="object"&&typeof $!="function"&&$!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,$,D,"setState")},L.prototype.forceUpdate=function($){this.updater.enqueueForceUpdate(this,$,"forceUpdate")};function X(){}X.prototype=L.prototype;function V($,D,q){this.props=$,this.context=D,this.refs=M,this.updater=q||I}var z=V.prototype=new X;z.constructor=V,j(z,L.prototype),z.isPureReactComponent=!0;var ne=Array.isArray;function le(){}var R={H:null,A:null,T:null,S:null},U=Object.prototype.hasOwnProperty;function S($,D,q){var te=q.ref;return{$$typeof:r,type:$,key:D,ref:te!==void 0?te:null,props:q}}function P($,D){return S($.type,D,$.props)}function E($){return typeof $=="object"&&$!==null&&$.$$typeof===r}function F($){var D={"=":"=0",":":"=2"};return"$"+$.replace(/[=:]/g,function(q){return D[q]})}var Q=/\/+/g;function J($,D){return typeof $=="object"&&$!==null&&$.key!=null?F(""+$.key):D.toString(36)}function xe($){switch($.status){case"fulfilled":return $.value;case"rejected":throw $.reason;default:switch(typeof $.status=="string"?$.then(le,le):($.status="pending",$.then(function(D){$.status==="pending"&&($.status="fulfilled",$.value=D)},function(D){$.status==="pending"&&($.status="rejected",$.reason=D)})),$.status){case"fulfilled":return $.value;case"rejected":throw $.reason}}throw $}function ie($,D,q,te,re){var fe=typeof $;(fe==="undefined"||fe==="boolean")&&($=null);var ge=!1;if($===null)ge=!0;else switch(fe){case"bigint":case"string":case"number":ge=!0;break;case"object":switch($.$$typeof){case r:case e:ge=!0;break;case g:return ge=$._init,ie(ge($._payload),D,q,te,re)}}if(ge)return re=re($),ge=te===""?"."+J($,0):te,ne(re)?(q="",ge!=null&&(q=ge.replace(Q,"$&/")+"/"),ie(re,D,q,"",function(Oe){return Oe})):re!=null&&(E(re)&&(re=P(re,q+(re.key==null||$&&$.key===re.key?"":(""+re.key).replace(Q,"$&/")+"/")+ge)),D.push(re)),1;ge=0;var Be=te===""?".":te+":";if(ne($))for(var _e=0;_e<$.length;_e++)te=$[_e],fe=Be+J(te,_e),ge+=ie(te,D,q,fe,re);else if(_e=w($),typeof _e=="function")for($=_e.call($),_e=0;!(te=$.next()).done;)te=te.value,fe=Be+J(te,_e++),ge+=ie(te,D,q,fe,re);else if(fe==="object"){if(typeof $.then=="function")return ie(xe($),D,q,te,re);throw D=String($),Error("Objects are not valid as a React child (found: "+(D==="[object Object]"?"object with keys {"+Object.keys($).join(", ")+"}":D)+"). If you meant to render a collection of children, use an array instead.")}return ge}function Z($,D,q){if($==null)return $;var te=[],re=0;return ie($,te,"","",function(fe){return D.call(q,fe,re++)}),te}function Ae($){if($._status===-1){var D=$._result;D=D(),D.then(function(q){($._status===0||$._status===-1)&&($._status=1,$._result=q)},function(q){($._status===0||$._status===-1)&&($._status=2,$._result=q)}),$._status===-1&&($._status=0,$._result=D)}if($._status===1)return $._result.default;throw $._result}var be=typeof reportError=="function"?reportError:function($){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var D=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof $=="object"&&$!==null&&typeof $.message=="string"?String($.message):String($),error:$});if(!window.dispatchEvent(D))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",$);return}console.error($)},Ee={map:Z,forEach:function($,D,q){Z($,function(){D.apply(this,arguments)},q)},count:function($){var D=0;return Z($,function(){D++}),D},toArray:function($){return Z($,function(D){return D})||[]},only:function($){if(!E($))throw Error("React.Children.only expected to receive a single React element child.");return $}};return Br.Activity=x,Br.Children=Ee,Br.Component=L,Br.Fragment=t,Br.Profiler=s,Br.PureComponent=V,Br.StrictMode=n,Br.Suspense=d,Br.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,Br.__COMPILER_RUNTIME={__proto__:null,c:function($){return R.H.useMemoCache($)}},Br.cache=function($){return function(){return $.apply(null,arguments)}},Br.cacheSignal=function(){return null},Br.cloneElement=function($,D,q){if($==null)throw Error("The argument must be a React element, but you passed "+$+".");var te=j({},$.props),re=$.key;if(D!=null)for(fe in D.key!==void 0&&(re=""+D.key),D)!U.call(D,fe)||fe==="key"||fe==="__self"||fe==="__source"||fe==="ref"&&D.ref===void 0||(te[fe]=D[fe]);var fe=arguments.length-2;if(fe===1)te.children=q;else if(1<fe){for(var ge=Array(fe),Be=0;Be<fe;Be++)ge[Be]=arguments[Be+2];te.children=ge}return S($.type,re,te)},Br.createContext=function($){return $={$$typeof:l,_currentValue:$,_currentValue2:$,_threadCount:0,Provider:null,Consumer:null},$.Provider=$,$.Consumer={$$typeof:o,_context:$},$},Br.createElement=function($,D,q){var te,re={},fe=null;if(D!=null)for(te in D.key!==void 0&&(fe=""+D.key),D)U.call(D,te)&&te!=="key"&&te!=="__self"&&te!=="__source"&&(re[te]=D[te]);var ge=arguments.length-2;if(ge===1)re.children=q;else if(1<ge){for(var Be=Array(ge),_e=0;_e<ge;_e++)Be[_e]=arguments[_e+2];re.children=Be}if($&&$.defaultProps)for(te in ge=$.defaultProps,ge)re[te]===void 0&&(re[te]=ge[te]);return S($,fe,re)},Br.createRef=function(){return{current:null}},Br.forwardRef=function($){return{$$typeof:c,render:$}},Br.isValidElement=E,Br.lazy=function($){return{$$typeof:g,_payload:{_status:-1,_result:$},_init:Ae}},Br.memo=function($,D){return{$$typeof:h,type:$,compare:D===void 0?null:D}},Br.startTransition=function($){var D=R.T,q={};R.T=q;try{var te=$(),re=R.S;re!==null&&re(q,te),typeof te=="object"&&te!==null&&typeof te.then=="function"&&te.then(le,be)}catch(fe){be(fe)}finally{D!==null&&q.types!==null&&(D.types=q.types),R.T=D}},Br.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},Br.use=function($){return R.H.use($)},Br.useActionState=function($,D,q){return R.H.useActionState($,D,q)},Br.useCallback=function($,D){return R.H.useCallback($,D)},Br.useContext=function($){return R.H.useContext($)},Br.useDebugValue=function(){},Br.useDeferredValue=function($,D){return R.H.useDeferredValue($,D)},Br.useEffect=function($,D){return R.H.useEffect($,D)},Br.useEffectEvent=function($){return R.H.useEffectEvent($)},Br.useId=function(){return R.H.useId()},Br.useImperativeHandle=function($,D,q){return R.H.useImperativeHandle($,D,q)},Br.useInsertionEffect=function($,D){return R.H.useInsertionEffect($,D)},Br.useLayoutEffect=function($,D){return R.H.useLayoutEffect($,D)},Br.useMemo=function($,D){return R.H.useMemo($,D)},Br.useOptimistic=function($,D){return R.H.useOptimistic($,D)},Br.useReducer=function($,D,q){return R.H.useReducer($,D,q)},Br.useRef=function($){return R.H.useRef($)},Br.useState=function($){return R.H.useState($)},Br.useSyncExternalStore=function($,D,q){return R.H.useSyncExternalStore($,D,q)},Br.useTransition=function(){return R.H.useTransition()},Br.version="19.2.3",Br}var mN;function hv(){return mN||(mN=1,y2.exports=bF()),y2.exports}var he=hv();const fv=iS(he);var w2={exports:{}},N0={},v2={exports:{}},B2={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pN;function yF(){return pN||(pN=1,(function(r){function e(ie,Z){var Ae=ie.length;ie.push(Z);e:for(;0<Ae;){var be=Ae-1>>>1,Ee=ie[be];if(0<s(Ee,Z))ie[be]=Z,ie[Ae]=Ee,Ae=be;else break e}}function t(ie){return ie.length===0?null:ie[0]}function n(ie){if(ie.length===0)return null;var Z=ie[0],Ae=ie.pop();if(Ae!==Z){ie[0]=Ae;e:for(var be=0,Ee=ie.length,$=Ee>>>1;be<$;){var D=2*(be+1)-1,q=ie[D],te=D+1,re=ie[te];if(0>s(q,Ae))te<Ee&&0>s(re,q)?(ie[be]=re,ie[te]=Ae,be=te):(ie[be]=q,ie[D]=Ae,be=D);else if(te<Ee&&0>s(re,Ae))ie[be]=re,ie[te]=Ae,be=te;else break e}}return Z}function s(ie,Z){var Ae=ie.sortIndex-Z.sortIndex;return Ae!==0?Ae:ie.id-Z.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;r.unstable_now=function(){return o.now()}}else{var l=Date,c=l.now();r.unstable_now=function(){return l.now()-c}}var d=[],h=[],g=1,x=null,B=3,w=!1,I=!1,j=!1,M=!1,L=typeof setTimeout=="function"?setTimeout:null,X=typeof clearTimeout=="function"?clearTimeout:null,V=typeof setImmediate<"u"?setImmediate:null;function z(ie){for(var Z=t(h);Z!==null;){if(Z.callback===null)n(h);else if(Z.startTime<=ie)n(h),Z.sortIndex=Z.expirationTime,e(d,Z);else break;Z=t(h)}}function ne(ie){if(j=!1,z(ie),!I)if(t(d)!==null)I=!0,le||(le=!0,F());else{var Z=t(h);Z!==null&&xe(ne,Z.startTime-ie)}}var le=!1,R=-1,U=5,S=-1;function P(){return M?!0:!(r.unstable_now()-S<U)}function E(){if(M=!1,le){var ie=r.unstable_now();S=ie;var Z=!0;try{e:{I=!1,j&&(j=!1,X(R),R=-1),w=!0;var Ae=B;try{t:{for(z(ie),x=t(d);x!==null&&!(x.expirationTime>ie&&P());){var be=x.callback;if(typeof be=="function"){x.callback=null,B=x.priorityLevel;var Ee=be(x.expirationTime<=ie);if(ie=r.unstable_now(),typeof Ee=="function"){x.callback=Ee,z(ie),Z=!0;break t}x===t(d)&&n(d),z(ie)}else n(d);x=t(d)}if(x!==null)Z=!0;else{var $=t(h);$!==null&&xe(ne,$.startTime-ie),Z=!1}}break e}finally{x=null,B=Ae,w=!1}Z=void 0}}finally{Z?F():le=!1}}}var F;if(typeof V=="function")F=function(){V(E)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,J=Q.port2;Q.port1.onmessage=E,F=function(){J.postMessage(null)}}else F=function(){L(E,0)};function xe(ie,Z){R=L(function(){ie(r.unstable_now())},Z)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(ie){ie.callback=null},r.unstable_forceFrameRate=function(ie){0>ie||125<ie?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<ie?Math.floor(1e3/ie):5},r.unstable_getCurrentPriorityLevel=function(){return B},r.unstable_next=function(ie){switch(B){case 1:case 2:case 3:var Z=3;break;default:Z=B}var Ae=B;B=Z;try{return ie()}finally{B=Ae}},r.unstable_requestPaint=function(){M=!0},r.unstable_runWithPriority=function(ie,Z){switch(ie){case 1:case 2:case 3:case 4:case 5:break;default:ie=3}var Ae=B;B=ie;try{return Z()}finally{B=Ae}},r.unstable_scheduleCallback=function(ie,Z,Ae){var be=r.unstable_now();switch(typeof Ae=="object"&&Ae!==null?(Ae=Ae.delay,Ae=typeof Ae=="number"&&0<Ae?be+Ae:be):Ae=be,ie){case 1:var Ee=-1;break;case 2:Ee=250;break;case 5:Ee=1073741823;break;case 4:Ee=1e4;break;default:Ee=5e3}return Ee=Ae+Ee,ie={id:g++,callback:Z,priorityLevel:ie,startTime:Ae,expirationTime:Ee,sortIndex:-1},Ae>be?(ie.sortIndex=Ae,e(h,ie),t(d)===null&&ie===t(h)&&(j?(X(R),R=-1):j=!0,xe(ne,Ae-be))):(ie.sortIndex=Ee,e(d,ie),I||w||(I=!0,le||(le=!0,F()))),ie},r.unstable_shouldYield=P,r.unstable_wrapCallback=function(ie){var Z=B;return function(){var Ae=B;B=Z;try{return ie.apply(this,arguments)}finally{B=Ae}}}})(B2)),B2}var xN;function wF(){return xN||(xN=1,v2.exports=yF()),v2.exports}var N2={exports:{}},qa={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bN;function vF(){if(bN)return qa;bN=1;var r=hv();function e(d){var h="https://react.dev/errors/"+d;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)h+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+d+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var n={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},s=Symbol.for("react.portal");function o(d,h,g){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:x==null?null:""+x,children:d,containerInfo:h,implementation:g}}var l=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(d,h){if(d==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return qa.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,qa.createPortal=function(d,h){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return o(d,h,null,g)},qa.flushSync=function(d){var h=l.T,g=n.p;try{if(l.T=null,n.p=2,d)return d()}finally{l.T=h,n.p=g,n.d.f()}},qa.preconnect=function(d,h){typeof d=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,n.d.C(d,h))},qa.prefetchDNS=function(d){typeof d=="string"&&n.d.D(d)},qa.preinit=function(d,h){if(typeof d=="string"&&h&&typeof h.as=="string"){var g=h.as,x=c(g,h.crossOrigin),B=typeof h.integrity=="string"?h.integrity:void 0,w=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;g==="style"?n.d.S(d,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:x,integrity:B,fetchPriority:w}):g==="script"&&n.d.X(d,{crossOrigin:x,integrity:B,fetchPriority:w,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},qa.preinitModule=function(d,h){if(typeof d=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var g=c(h.as,h.crossOrigin);n.d.M(d,{crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&n.d.M(d)},qa.preload=function(d,h){if(typeof d=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var g=h.as,x=c(g,h.crossOrigin);n.d.L(d,g,{crossOrigin:x,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},qa.preloadModule=function(d,h){if(typeof d=="string")if(h){var g=c(h.as,h.crossOrigin);n.d.m(d,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else n.d.m(d)},qa.requestFormReset=function(d){n.d.r(d)},qa.unstable_batchedUpdates=function(d,h){return d(h)},qa.useFormState=function(d,h,g){return l.H.useFormState(d,h,g)},qa.useFormStatus=function(){return l.H.useHostTransitionStatus()},qa.version="19.2.3",qa}var yN;function oS(){if(yN)return N2.exports;yN=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),N2.exports=vF(),N2.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wN;function BF(){if(wN)return N0;wN=1;var r=wF(),e=hv(),t=oS();function n(a){var A="https://react.dev/errors/"+a;if(1<arguments.length){A+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)A+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+a+"; visit "+A+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function o(a){var A=a,u=a;if(a.alternate)for(;A.return;)A=A.return;else{a=A;do A=a,(A.flags&4098)!==0&&(u=A.return),a=A.return;while(a)}return A.tag===3?u:null}function l(a){if(a.tag===13){var A=a.memoizedState;if(A===null&&(a=a.alternate,a!==null&&(A=a.memoizedState)),A!==null)return A.dehydrated}return null}function c(a){if(a.tag===31){var A=a.memoizedState;if(A===null&&(a=a.alternate,a!==null&&(A=a.memoizedState)),A!==null)return A.dehydrated}return null}function d(a){if(o(a)!==a)throw Error(n(188))}function h(a){var A=a.alternate;if(!A){if(A=o(a),A===null)throw Error(n(188));return A!==a?null:a}for(var u=a,f=A;;){var b=u.return;if(b===null)break;var v=b.alternate;if(v===null){if(f=b.return,f!==null){u=f;continue}break}if(b.child===v.child){for(v=b.child;v;){if(v===u)return d(b),a;if(v===f)return d(b),A;v=v.sibling}throw Error(n(188))}if(u.return!==f.return)u=b,f=v;else{for(var k=!1,ee=b.child;ee;){if(ee===u){k=!0,u=b,f=v;break}if(ee===f){k=!0,f=b,u=v;break}ee=ee.sibling}if(!k){for(ee=v.child;ee;){if(ee===u){k=!0,u=v,f=b;break}if(ee===f){k=!0,f=v,u=b;break}ee=ee.sibling}if(!k)throw Error(n(189))}}if(u.alternate!==f)throw Error(n(190))}if(u.tag!==3)throw Error(n(188));return u.stateNode.current===u?a:A}function g(a){var A=a.tag;if(A===5||A===26||A===27||A===6)return a;for(a=a.child;a!==null;){if(A=g(a),A!==null)return A;a=a.sibling}return null}var x=Object.assign,B=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),I=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),X=Symbol.for("react.consumer"),V=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),ne=Symbol.for("react.suspense"),le=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),U=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),E=Symbol.iterator;function F(a){return a===null||typeof a!="object"?null:(a=E&&a[E]||a["@@iterator"],typeof a=="function"?a:null)}var Q=Symbol.for("react.client.reference");function J(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===Q?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case j:return"Fragment";case L:return"Profiler";case M:return"StrictMode";case ne:return"Suspense";case le:return"SuspenseList";case S:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case I:return"Portal";case V:return a.displayName||"Context";case X:return(a._context.displayName||"Context")+".Consumer";case z:var A=a.render;return a=a.displayName,a||(a=A.displayName||A.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case R:return A=a.displayName||null,A!==null?A:J(a.type)||"Memo";case U:A=a._payload,a=a._init;try{return J(a(A))}catch{}}return null}var xe=Array.isArray,ie=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ae={pending:!1,data:null,method:null,action:null},be=[],Ee=-1;function $(a){return{current:a}}function D(a){0>Ee||(a.current=be[Ee],be[Ee]=null,Ee--)}function q(a,A){Ee++,be[Ee]=a.current,a.current=A}var te=$(null),re=$(null),fe=$(null),ge=$(null);function Be(a,A){switch(q(fe,A),q(re,a),q(te,null),A.nodeType){case 9:case 11:a=(a=A.documentElement)&&(a=a.namespaceURI)?LB(a):0;break;default:if(a=A.tagName,A=A.namespaceURI)A=LB(A),a=RB(A,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}D(te),q(te,a)}function _e(){D(te),D(re),D(fe)}function Oe(a){a.memoizedState!==null&&q(ge,a);var A=te.current,u=RB(A,a.type);A!==u&&(q(re,a),q(te,u))}function He(a){re.current===a&&(D(te),D(re)),ge.current===a&&(D(ge),b0._currentValue=Ae)}var it,me;function Me(a){if(it===void 0)try{throw Error()}catch(u){var A=u.stack.trim().match(/\n( *(at )?)/);it=A&&A[1]||"",me=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+it+a+me}var H=!1;function Ke(a,A){if(!a||H)return"";H=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(A){var Ze=function(){throw Error()};if(Object.defineProperty(Ze.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ze,[])}catch(Ve){var Re=Ve}Reflect.construct(a,[],Ze)}else{try{Ze.call()}catch(Ve){Re=Ve}a.call(Ze.prototype)}}else{try{throw Error()}catch(Ve){Re=Ve}(Ze=a())&&typeof Ze.catch=="function"&&Ze.catch(function(){})}}catch(Ve){if(Ve&&Re&&typeof Ve.stack=="string")return[Ve.stack,Re.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var b=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");b&&b.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=f.DetermineComponentFrameRoot(),k=v[0],ee=v[1];if(k&&ee){var pe=k.split(`
`),Qe=ee.split(`
`);for(b=f=0;f<pe.length&&!pe[f].includes("DetermineComponentFrameRoot");)f++;for(;b<Qe.length&&!Qe[b].includes("DetermineComponentFrameRoot");)b++;if(f===pe.length||b===Qe.length)for(f=pe.length-1,b=Qe.length-1;1<=f&&0<=b&&pe[f]!==Qe[b];)b--;for(;1<=f&&0<=b;f--,b--)if(pe[f]!==Qe[b]){if(f!==1||b!==1)do if(f--,b--,0>b||pe[f]!==Qe[b]){var Xe=`
`+pe[f].replace(" at new "," at ");return a.displayName&&Xe.includes("<anonymous>")&&(Xe=Xe.replace("<anonymous>",a.displayName)),Xe}while(1<=f&&0<=b);break}}}finally{H=!1,Error.prepareStackTrace=u}return(u=a?a.displayName||a.name:"")?Me(u):""}function rt(a,A){switch(a.tag){case 26:case 27:case 5:return Me(a.type);case 16:return Me("Lazy");case 13:return a.child!==A&&A!==null?Me("Suspense Fallback"):Me("Suspense");case 19:return Me("SuspenseList");case 0:case 15:return Ke(a.type,!1);case 11:return Ke(a.type.render,!1);case 1:return Ke(a.type,!0);case 31:return Me("Activity");default:return""}}function pt(a){try{var A="",u=null;do A+=rt(a,u),u=a,a=a.return;while(a);return A}catch(f){return`
Error generating stack: `+f.message+`
`+f.stack}}var Pe=Object.prototype.hasOwnProperty,st=r.unstable_scheduleCallback,dt=r.unstable_cancelCallback,Mt=r.unstable_shouldYield,St=r.unstable_requestPaint,Yt=r.unstable_now,cr=r.unstable_getCurrentPriorityLevel,ar=r.unstable_ImmediatePriority,ur=r.unstable_UserBlockingPriority,dr=r.unstable_NormalPriority,jt=r.unstable_LowPriority,hr=r.unstable_IdlePriority,Bt=r.log,De=r.unstable_setDisableYieldValue,ft=null,ct=null;function yt(a){if(typeof Bt=="function"&&De(a),ct&&typeof ct.setStrictMode=="function")try{ct.setStrictMode(ft,a)}catch{}}var qt=Math.clz32?Math.clz32:Rt,xt=Math.log,Ar=Math.LN2;function Rt(a){return a>>>=0,a===0?32:31-(xt(a)/Ar|0)|0}var Pt=256,Ir=262144,Tt=4194304;function Nt(a){var A=a&42;if(A!==0)return A;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function fr(a,A,u){var f=a.pendingLanes;if(f===0)return 0;var b=0,v=a.suspendedLanes,k=a.pingedLanes;a=a.warmLanes;var ee=f&134217727;return ee!==0?(f=ee&~v,f!==0?b=Nt(f):(k&=ee,k!==0?b=Nt(k):u||(u=ee&~a,u!==0&&(b=Nt(u))))):(ee=f&~v,ee!==0?b=Nt(ee):k!==0?b=Nt(k):u||(u=f&~a,u!==0&&(b=Nt(u)))),b===0?0:A!==0&&A!==b&&(A&v)===0&&(v=b&-b,u=A&-A,v>=u||v===32&&(u&4194048)!==0)?A:b}function In(a,A){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&A)===0}function Dn(a,A){switch(a){case 1:case 2:case 4:case 8:case 64:return A+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return A+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function jn(){var a=Tt;return Tt<<=1,(Tt&62914560)===0&&(Tt=4194304),a}function An(a){for(var A=[],u=0;31>u;u++)A.push(a);return A}function Ft(a,A){a.pendingLanes|=A,A!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function et(a,A,u,f,b,v){var k=a.pendingLanes;a.pendingLanes=u,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=u,a.entangledLanes&=u,a.errorRecoveryDisabledLanes&=u,a.shellSuspendCounter=0;var ee=a.entanglements,pe=a.expirationTimes,Qe=a.hiddenUpdates;for(u=k&~u;0<u;){var Xe=31-qt(u),Ze=1<<Xe;ee[Xe]=0,pe[Xe]=-1;var Re=Qe[Xe];if(Re!==null)for(Qe[Xe]=null,Xe=0;Xe<Re.length;Xe++){var Ve=Re[Xe];Ve!==null&&(Ve.lane&=-536870913)}u&=~Ze}f!==0&&gt(a,f,0),v!==0&&b===0&&a.tag!==0&&(a.suspendedLanes|=v&~(k&~A))}function gt(a,A,u){a.pendingLanes|=A,a.suspendedLanes&=~A;var f=31-qt(A);a.entangledLanes|=A,a.entanglements[f]=a.entanglements[f]|1073741824|u&261930}function Gt(a,A){var u=a.entangledLanes|=A;for(a=a.entanglements;u;){var f=31-qt(u),b=1<<f;b&A|a[f]&A&&(a[f]|=A),u&=~b}}function _t(a,A){var u=A&-A;return u=(u&42)!==0?1:at(u),(u&(a.suspendedLanes|A))!==0?0:u}function at(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function wt(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function Dt(){var a=Z.p;return a!==0?a:(a=window.event,a===void 0?32:iN(a.type))}function kt(a,A){var u=Z.p;try{return Z.p=a,A()}finally{Z.p=u}}var ir=Math.random().toString(36).slice(2),bt="__reactFiber$"+ir,wr="__reactProps$"+ir,On="__reactContainer$"+ir,aa="__reactEvents$"+ir,Oa="__reactListeners$"+ir,mo="__reactHandles$"+ir,ii="__reactResources$"+ir,ia="__reactMarker$"+ir;function Gi(a){delete a[bt],delete a[wr],delete a[aa],delete a[Oa],delete a[mo]}function va(a){var A=a[bt];if(A)return A;for(var u=a.parentNode;u;){if(A=u[On]||u[bt]){if(u=A.alternate,A.child!==null||u!==null&&u.child!==null)for(a=KB(a);a!==null;){if(u=a[bt])return u;a=KB(a)}return A}a=u,u=a.parentNode}return null}function Vs(a){if(a=a[bt]||a[On]){var A=a.tag;if(A===5||A===6||A===13||A===31||A===26||A===27||A===3)return a}return null}function Ba(a){var A=a.tag;if(A===5||A===26||A===27||A===6)return a.stateNode;throw Error(n(33))}function Ma(a){var A=a[ii];return A||(A=a[ii]={hoistableStyles:new Map,hoistableScripts:new Map}),A}function Mn(a){a[ia]=!0}var SA=new Set,oa={};function Pa(a,A){oi(a,A),oi(a+"Capture",A)}function oi(a,A){for(oa[a]=A,a=0;a<A.length;a++)SA.add(A[a])}var qo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),IA={},jA={};function yl(a){return Pe.call(jA,a)?!0:Pe.call(IA,a)?!1:qo.test(a)?jA[a]=!0:(IA[a]=!0,!1)}function Na(a,A,u){if(yl(A))if(u===null)a.removeAttribute(A);else{switch(typeof u){case"undefined":case"function":case"symbol":a.removeAttribute(A);return;case"boolean":var f=A.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){a.removeAttribute(A);return}}a.setAttribute(A,""+u)}}function ks(a,A,u){if(u===null)a.removeAttribute(A);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(A);return}a.setAttribute(A,""+u)}}function Gn(a,A,u,f){if(f===null)a.removeAttribute(u);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(u);return}a.setAttributeNS(A,u,""+f)}}function jr(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function $i(a){var A=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(A==="checkbox"||A==="radio")}function Ha(a,A,u){var f=Object.getOwnPropertyDescriptor(a.constructor.prototype,A);if(!a.hasOwnProperty(A)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var b=f.get,v=f.set;return Object.defineProperty(a,A,{configurable:!0,get:function(){return b.call(this)},set:function(k){u=""+k,v.call(this,k)}}),Object.defineProperty(a,A,{enumerable:f.enumerable}),{getValue:function(){return u},setValue:function(k){u=""+k},stopTracking:function(){a._valueTracker=null,delete a[A]}}}}function Rr(a){if(!a._valueTracker){var A=$i(a)?"checked":"value";a._valueTracker=Ha(a,A,""+a[A])}}function po(a){if(!a)return!1;var A=a._valueTracker;if(!A)return!0;var u=A.getValue(),f="";return a&&(f=$i(a)?a.checked?"true":"false":a.value),a=f,a!==u?(A.setValue(a),!0):!1}function as(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var Tn=/[\n"\\]/g;function $n(a){return a.replace(Tn,function(A){return"\\"+A.charCodeAt(0).toString(16)+" "})}function Go(a,A,u,f,b,v,k,ee){a.name="",k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?a.type=k:a.removeAttribute("type"),A!=null?k==="number"?(A===0&&a.value===""||a.value!=A)&&(a.value=""+jr(A)):a.value!==""+jr(A)&&(a.value=""+jr(A)):k!=="submit"&&k!=="reset"||a.removeAttribute("value"),A!=null?wl(a,k,jr(A)):u!=null?wl(a,k,jr(u)):f!=null&&a.removeAttribute("value"),b==null&&v!=null&&(a.defaultChecked=!!v),b!=null&&(a.checked=b&&typeof b!="function"&&typeof b!="symbol"),ee!=null&&typeof ee!="function"&&typeof ee!="symbol"&&typeof ee!="boolean"?a.name=""+jr(ee):a.removeAttribute("name")}function fc(a,A,u,f,b,v,k,ee){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(a.type=v),A!=null||u!=null){if(!(v!=="submit"&&v!=="reset"||A!=null)){Rr(a);return}u=u!=null?""+jr(u):"",A=A!=null?""+jr(A):u,ee||A===a.value||(a.value=A),a.defaultValue=A}f=f??b,f=typeof f!="function"&&typeof f!="symbol"&&!!f,a.checked=ee?a.checked:!!f,a.defaultChecked=!!f,k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"&&(a.name=k),Rr(a)}function wl(a,A,u){A==="number"&&as(a.ownerDocument)===a||a.defaultValue===""+u||(a.defaultValue=""+u)}function Ks(a,A,u,f){if(a=a.options,A){A={};for(var b=0;b<u.length;b++)A["$"+u[b]]=!0;for(u=0;u<a.length;u++)b=A.hasOwnProperty("$"+a[u].value),a[u].selected!==b&&(a[u].selected=b),b&&f&&(a[u].defaultSelected=!0)}else{for(u=""+jr(u),A=null,b=0;b<a.length;b++){if(a[b].value===u){a[b].selected=!0,f&&(a[b].defaultSelected=!0);return}A!==null||a[b].disabled||(A=a[b])}A!==null&&(A.selected=!0)}}function vl(a,A,u){if(A!=null&&(A=""+jr(A),A!==a.value&&(a.value=A),u==null)){a.defaultValue!==A&&(a.defaultValue=A);return}a.defaultValue=u!=null?""+jr(u):""}function Xi(a,A,u,f){if(A==null){if(f!=null){if(u!=null)throw Error(n(92));if(xe(f)){if(1<f.length)throw Error(n(93));f=f[0]}u=f}u==null&&(u=""),A=u}u=jr(A),a.defaultValue=u,f=a.textContent,f===u&&f!==""&&f!==null&&(a.value=f),Rr(a)}function vs(a,A){if(A){var u=a.firstChild;if(u&&u===a.lastChild&&u.nodeType===3){u.nodeValue=A;return}}a.textContent=A}var xo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Bl(a,A,u){var f=A.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?f?a.setProperty(A,""):A==="float"?a.cssFloat="":a[A]="":f?a.setProperty(A,u):typeof u!="number"||u===0||xo.has(A)?A==="float"?a.cssFloat=u:a[A]=(""+u).trim():a[A]=u+"px"}function Nl(a,A,u){if(A!=null&&typeof A!="object")throw Error(n(62));if(a=a.style,u!=null){for(var f in u)!u.hasOwnProperty(f)||A!=null&&A.hasOwnProperty(f)||(f.indexOf("--")===0?a.setProperty(f,""):f==="float"?a.cssFloat="":a[f]="");for(var b in A)f=A[b],A.hasOwnProperty(b)&&u[b]!==f&&Bl(a,b,f)}else for(var v in A)A.hasOwnProperty(v)&&Bl(a,v,A[v])}function TA(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var UA=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Yi=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Aa(a){return Yi.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function Ai(){}var Wi=null;function la(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var bo=null,Zt=null;function $o(a){var A=Vs(a);if(A&&(a=A.stateNode)){var u=a[wr]||null;e:switch(a=A.stateNode,A.type){case"input":if(Go(a,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),A=u.name,u.type==="radio"&&A!=null){for(u=a;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+$n(""+A)+'"][type="radio"]'),A=0;A<u.length;A++){var f=u[A];if(f!==a&&f.form===a.form){var b=f[wr]||null;if(!b)throw Error(n(90));Go(f,b.value,b.defaultValue,b.defaultValue,b.checked,b.defaultChecked,b.type,b.name)}}for(A=0;A<u.length;A++)f=u[A],f.form===a.form&&po(f)}break e;case"textarea":vl(a,u.value,u.defaultValue);break e;case"select":A=u.value,A!=null&&Ks(a,!!u.multiple,A,!1)}}}var FA=!1;function yo(a,A,u){if(FA)return a(A,u);FA=!0;try{var f=a(A);return f}finally{if(FA=!1,(bo!==null||Zt!==null)&&(Mm(),bo&&(A=bo,a=Zt,Zt=bo=null,$o(A),a)))for(A=0;A<a.length;A++)$o(a[A])}}function Bs(a,A){var u=a.stateNode;if(u===null)return null;var f=u[wr]||null;if(f===null)return null;u=f[A];e:switch(A){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(a=a.type,f=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!f;break e;default:a=!1}if(a)return null;if(u&&typeof u!="function")throw Error(n(231,A,typeof u));return u}var ds=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xo=!1;if(ds)try{var Jr={};Object.defineProperty(Jr,"passive",{get:function(){Xo=!0}}),window.addEventListener("test",Jr,Jr),window.removeEventListener("test",Jr,Jr)}catch{Xo=!1}var _a=null,Yo=null,li=null;function _l(){if(li)return li;var a,A=Yo,u=A.length,f,b="value"in _a?_a.value:_a.textContent,v=b.length;for(a=0;a<u&&A[a]===b[a];a++);var k=u-a;for(f=1;f<=k&&A[u-f]===b[v-f];f++);return li=b.slice(a,1<f?1-f:void 0)}function Ca(a){var A=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&A===13&&(a=13)):a=A,a===10&&(a=13),32<=a||a===13?a:0}function Ji(){return!0}function Ea(){return!1}function is(a){function A(u,f,b,v,k){this._reactName=u,this._targetInst=b,this.type=f,this.nativeEvent=v,this.target=k,this.currentTarget=null;for(var ee in a)a.hasOwnProperty(ee)&&(u=a[ee],this[ee]=u?u(v):v[ee]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?Ji:Ea,this.isPropagationStopped=Ea,this}return x(A.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Ji)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Ji)},persist:function(){},isPersistent:Ji}),A}var wi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qs=is(wi),vi=x({},wi,{view:0,detail:0}),wo=is(vi),Bi,Ni,Va,Wo=x({},vi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:tr,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Va&&(Va&&a.type==="mousemove"?(Bi=a.screenX-Va.screenX,Ni=a.screenY-Va.screenY):Ni=Bi=0,Va=a),Bi)},movementY:function(a){return"movementY"in a?a.movementY:Ni}}),kA=is(Wo),Sa=x({},Wo,{dataTransfer:0}),_i=is(Sa),Cl=x({},vi,{relatedTarget:0}),ci=is(Cl),QA=x({},wi,{animationName:0,elapsedTime:0,pseudoElement:0}),N=is(QA),K=x({},wi,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),ue=is(K),ye=x({},wi,{data:0}),Ce=is(ye),$e={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},nt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ut={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ht(a){var A=this.nativeEvent;return A.getModifierState?A.getModifierState(a):(a=Ut[a])?!!A[a]:!1}function tr(){return Ht}var Wt=x({},vi,{key:function(a){if(a.key){var A=$e[a.key]||a.key;if(A!=="Unidentified")return A}return a.type==="keypress"?(a=Ca(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?nt[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:tr,charCode:function(a){return a.type==="keypress"?Ca(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Ca(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),Ur=is(Wt),wn=x({},Wo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ln=is(wn),p=x({},vi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:tr}),C=is(p),O=x({},wi,{propertyName:0,elapsedTime:0,pseudoElement:0}),ae=is(O),Ie=x({},Wo,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),Le=is(Ie),lt=x({},wi,{newState:0,oldState:0}),mr=is(lt),vn=[9,13,27,32],Er=ds&&"CompositionEvent"in window,Zr=null;ds&&"documentMode"in document&&(Zr=document.documentMode);var Ls=ds&&"TextEvent"in window&&!Zr,zs=ds&&(!Er||Zr&&8<Zr&&11>=Zr),un=" ",qs=!1;function ui(a,A){switch(a){case"keyup":return vn.indexOf(A.keyCode)!==-1;case"keydown":return A.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function vo(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Bo=!1;function Ia(a,A){switch(a){case"compositionend":return vo(A);case"keypress":return A.which!==32?null:(qs=!0,un);case"textInput":return a=A.data,a===un&&qs?null:a;default:return null}}function Jo(a,A){if(Bo)return a==="compositionend"||!Er&&ui(a,A)?(a=_l(),li=Yo=_a=null,Bo=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(A.ctrlKey||A.altKey||A.metaKey)||A.ctrlKey&&A.altKey){if(A.char&&1<A.char.length)return A.char;if(A.which)return String.fromCharCode(A.which)}return null;case"compositionend":return zs&&A.locale!=="ko"?null:A.data;default:return null}}var gc={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Uu(a){var A=a&&a.nodeName&&a.nodeName.toLowerCase();return A==="input"?!!gc[a.type]:A==="textarea"}function di(a,A,u,f){bo?Zt?Zt.push(f):Zt=[f]:bo=f,A=Gm(A,"onChange"),0<A.length&&(u=new Qs("onChange","change",null,u,f),a.push({event:u,listeners:A}))}var Zi=null,Zo=null;function Fu(a){jB(a,0)}function eo(a){var A=Ba(a);if(po(A))return a}function LA(a,A){if(a==="change")return A}var Ka=!1;if(ds){var ja;if(ds){var No="oninput"in document;if(!No){var _o=document.createElement("div");_o.setAttribute("oninput","return;"),No=typeof _o.oninput=="function"}ja=No}else ja=!1;Ka=ja&&(!document.documentMode||9<document.documentMode)}function eA(){Zi&&(Zi.detachEvent("onpropertychange",mc),Zo=Zi=null)}function mc(a){if(a.propertyName==="value"&&eo(Zo)){var A=[];di(A,Zo,a,la(a)),yo(Fu,A)}}function pc(a,A,u){a==="focusin"?(eA(),Zi=A,Zo=u,Zi.attachEvent("onpropertychange",mc)):a==="focusout"&&eA()}function os(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return eo(Zo)}function Od(a,A){if(a==="click")return eo(A)}function Co(a,A){if(a==="input"||a==="change")return eo(A)}function Eo(a,A){return a===A&&(a!==0||1/a===1/A)||a!==a&&A!==A}var Gs=typeof Object.is=="function"?Object.is:Eo;function tA(a,A){if(Gs(a,A))return!0;if(typeof a!="object"||a===null||typeof A!="object"||A===null)return!1;var u=Object.keys(a),f=Object.keys(A);if(u.length!==f.length)return!1;for(f=0;f<u.length;f++){var b=u[f];if(!Pe.call(A,b)||!Gs(a[b],A[b]))return!1}return!0}function xc(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function bc(a,A){var u=xc(a);a=0;for(var f;u;){if(u.nodeType===3){if(f=a+u.textContent.length,a<=A&&f>=A)return{node:u,offset:A-a};a=f}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=xc(u)}}function rA(a,A){return a&&A?a===A?!0:a&&a.nodeType===3?!1:A&&A.nodeType===3?rA(a,A.parentNode):"contains"in a?a.contains(A):a.compareDocumentPosition?!!(a.compareDocumentPosition(A)&16):!1:!1}function nA(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var A=as(a.document);A instanceof a.HTMLIFrameElement;){try{var u=typeof A.contentWindow.location.href=="string"}catch{u=!1}if(u)a=A.contentWindow;else break;A=as(a.document)}return A}function So(a){var A=a&&a.nodeName&&a.nodeName.toLowerCase();return A&&(A==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||A==="textarea"||a.contentEditable==="true")}var El=ds&&"documentMode"in document&&11>=document.documentMode,hi=null,sA=null,ca=null,Ci=!1;function Yr(a,A,u){var f=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Ci||hi==null||hi!==as(f)||(f=hi,"selectionStart"in f&&So(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),ca&&tA(ca,f)||(ca=f,f=Gm(sA,"onSelect"),0<f.length&&(A=new Qs("onSelect","select",null,A,u),a.push({event:A,listeners:f}),A.target=hi)))}function Vr(a,A){var u={};return u[a.toLowerCase()]=A.toLowerCase(),u["Webkit"+a]="webkit"+A,u["Moz"+a]="moz"+A,u}var Bn={animationend:Vr("Animation","AnimationEnd"),animationiteration:Vr("Animation","AnimationIteration"),animationstart:Vr("Animation","AnimationStart"),transitionrun:Vr("Transition","TransitionRun"),transitionstart:Vr("Transition","TransitionStart"),transitioncancel:Vr("Transition","TransitionCancel"),transitionend:Vr("Transition","TransitionEnd")},As={},Io={};ds&&(Io=document.createElement("div").style,"AnimationEvent"in window||(delete Bn.animationend.animation,delete Bn.animationiteration.animation,delete Bn.animationstart.animation),"TransitionEvent"in window||delete Bn.transitionend.transition);function to(a){if(As[a])return As[a];if(!Bn[a])return a;var A=Bn[a],u;for(u in A)if(A.hasOwnProperty(u)&&u in Io)return As[a]=A[u];return a}var Sl=to("animationend"),ku=to("animationiteration"),Hf=to("animationstart"),mm=to("transitionrun"),pm=to("transitionstart"),xm=to("transitioncancel"),Vf=to("transitionend"),Kf=new Map,Il="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Il.push("scrollEnd");function Ei(a,A){Kf.set(a,A),Pa(A,[a])}var Qu=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var A=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(A))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},fi=[],jl=0,Md=0;function Lu(){for(var a=jl,A=Md=jl=0;A<a;){var u=fi[A];fi[A++]=null;var f=fi[A];fi[A++]=null;var b=fi[A];fi[A++]=null;var v=fi[A];if(fi[A++]=null,f!==null&&b!==null){var k=f.pending;k===null?b.next=b:(b.next=k.next,k.next=b),f.pending=b}v!==0&&Du(u,b,v)}}function Ru(a,A,u,f){fi[jl++]=a,fi[jl++]=A,fi[jl++]=u,fi[jl++]=f,Md|=f,a.lanes|=f,a=a.alternate,a!==null&&(a.lanes|=f)}function Pd(a,A,u,f){return Ru(a,A,u,f),ua(a)}function aA(a,A){return Ru(a,null,null,A),ua(a)}function Du(a,A,u){a.lanes|=u;var f=a.alternate;f!==null&&(f.lanes|=u);for(var b=!1,v=a.return;v!==null;)v.childLanes|=u,f=v.alternate,f!==null&&(f.childLanes|=u),v.tag===22&&(a=v.stateNode,a===null||a._visibility&1||(b=!0)),a=v,v=v.return;return a.tag===3?(v=a.stateNode,b&&A!==null&&(b=31-qt(u),a=v.hiddenUpdates,f=a[b],f===null?a[b]=[A]:f.push(A),A.lane=u|536870912),v):null}function ua(a){if(50<d0)throw d0=0,Vb=null,Error(n(185));for(var A=a.return;A!==null;)a=A,A=a.return;return a.tag===3?a.stateNode:null}var $s={};function Hd(a,A,u,f){this.tag=a,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=A,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function da(a,A,u,f){return new Hd(a,A,u,f)}function Vd(a){return a=a.prototype,!(!a||!a.isReactComponent)}function Si(a,A){var u=a.alternate;return u===null?(u=da(a.tag,A,a.key,a.mode),u.elementType=a.elementType,u.type=a.type,u.stateNode=a.stateNode,u.alternate=a,a.alternate=u):(u.pendingProps=A,u.type=a.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=a.flags&65011712,u.childLanes=a.childLanes,u.lanes=a.lanes,u.child=a.child,u.memoizedProps=a.memoizedProps,u.memoizedState=a.memoizedState,u.updateQueue=a.updateQueue,A=a.dependencies,u.dependencies=A===null?null:{lanes:A.lanes,firstContext:A.firstContext},u.sibling=a.sibling,u.index=a.index,u.ref=a.ref,u.refCleanup=a.refCleanup,u}function Ou(a,A){a.flags&=65011714;var u=a.alternate;return u===null?(a.childLanes=0,a.lanes=A,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,A=u.dependencies,a.dependencies=A===null?null:{lanes:A.lanes,firstContext:A.firstContext}),a}function yc(a,A,u,f,b,v){var k=0;if(f=a,typeof a=="function")Vd(a)&&(k=1);else if(typeof a=="string")k=nF(a,u,te.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case S:return a=da(31,u,A,b),a.elementType=S,a.lanes=v,a;case j:return RA(u.children,b,v,A);case M:k=8,b|=24;break;case L:return a=da(12,u,A,b|2),a.elementType=L,a.lanes=v,a;case ne:return a=da(13,u,A,b),a.elementType=ne,a.lanes=v,a;case le:return a=da(19,u,A,b),a.elementType=le,a.lanes=v,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case V:k=10;break e;case X:k=9;break e;case z:k=11;break e;case R:k=14;break e;case U:k=16,f=null;break e}k=29,u=Error(n(130,a===null?"null":typeof a,"")),f=null}return A=da(k,u,A,b),A.elementType=a,A.type=f,A.lanes=v,A}function RA(a,A,u,f){return a=da(7,a,f,A),a.lanes=u,a}function Mu(a,A,u){return a=da(6,a,null,A),a.lanes=u,a}function Kd(a){var A=da(18,null,null,0);return A.stateNode=a,A}function wc(a,A,u){return A=da(4,a.children!==null?a.children:[],a.key,A),A.lanes=u,A.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},A}var zd=new WeakMap;function Ii(a,A){if(typeof a=="object"&&a!==null){var u=zd.get(a);return u!==void 0?u:(A={value:a,source:A,stack:pt(A)},zd.set(a,A),A)}return{value:a,source:A,stack:pt(A)}}var vc=[],Tl=0,qd=null,Pu=0,ji=[],Ti=0,DA=null,Ui=1,Fi="";function gi(a,A){vc[Tl++]=Pu,vc[Tl++]=qd,qd=a,Pu=A}function bm(a,A,u){ji[Ti++]=Ui,ji[Ti++]=Fi,ji[Ti++]=DA,DA=a;var f=Ui;a=Fi;var b=32-qt(f)-1;f&=~(1<<b),u+=1;var v=32-qt(A)+b;if(30<v){var k=b-b%5;v=(f&(1<<k)-1).toString(32),f>>=k,b-=k,Ui=1<<32-qt(A)+b|u<<b|f,Fi=v+a}else Ui=1<<v|u<<b|f,Fi=a}function zf(a){a.return!==null&&(gi(a,1),bm(a,1,0))}function Gd(a){for(;a===qd;)qd=vc[--Tl],vc[Tl]=null,Pu=vc[--Tl],vc[Tl]=null;for(;a===DA;)DA=ji[--Ti],ji[Ti]=null,Fi=ji[--Ti],ji[Ti]=null,Ui=ji[--Ti],ji[Ti]=null}function ym(a,A){ji[Ti++]=Ui,ji[Ti++]=Fi,ji[Ti++]=DA,Ui=A.id,Fi=A.overflow,DA=a}var Xs=null,Un=null,kr=!1,Ta=null,Xn=!1,ro=Error(n(519));function OA(a){var A=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Bc(Ii(A,a)),ro}function qf(a){var A=a.stateNode,u=a.type,f=a.memoizedProps;switch(A[bt]=a,A[wr]=f,u){case"dialog":Lr("cancel",A),Lr("close",A);break;case"iframe":case"object":case"embed":Lr("load",A);break;case"video":case"audio":for(u=0;u<f0.length;u++)Lr(f0[u],A);break;case"source":Lr("error",A);break;case"img":case"image":case"link":Lr("error",A),Lr("load",A);break;case"details":Lr("toggle",A);break;case"input":Lr("invalid",A),fc(A,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0);break;case"select":Lr("invalid",A);break;case"textarea":Lr("invalid",A),Xi(A,f.value,f.defaultValue,f.children)}u=f.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||A.textContent===""+u||f.suppressHydrationWarning===!0||kB(A.textContent,u)?(f.popover!=null&&(Lr("beforetoggle",A),Lr("toggle",A)),f.onScroll!=null&&Lr("scroll",A),f.onScrollEnd!=null&&Lr("scrollend",A),f.onClick!=null&&(A.onclick=Ai),A=!0):A=!1,A||OA(a,!0)}function iA(a){for(Xs=a.return;Xs;)switch(Xs.tag){case 5:case 31:case 13:Xn=!1;return;case 27:case 3:Xn=!0;return;default:Xs=Xs.return}}function Ys(a){if(a!==Xs)return!1;if(!kr)return iA(a),kr=!0,!1;var A=a.tag,u;if((u=A!==3&&A!==27)&&((u=A===5)&&(u=a.type,u=!(u!=="form"&&u!=="button")||s2(a.type,a.memoizedProps)),u=!u),u&&Un&&OA(a),iA(a),A===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(317));Un=VB(a)}else if(A===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(317));Un=VB(a)}else A===27?(A=Un,Rc(a.type)?(a=l2,l2=null,Un=a):Un=A):Un=Xs?Fo(a.stateNode.nextSibling):null;return!0}function Ul(){Un=Xs=null,kr=!1}function Gf(){var a=Ta;return a!==null&&(Oi===null?Oi=a:Oi.push.apply(Oi,a),Ta=null),a}function Bc(a){Ta===null?Ta=[a]:Ta.push(a)}var $d=$(null),MA=null,jo=null;function PA(a,A,u){q($d,A._currentValue),A._currentValue=u}function ki(a){a._currentValue=$d.current,D($d)}function Nc(a,A,u){for(;a!==null;){var f=a.alternate;if((a.childLanes&A)!==A?(a.childLanes|=A,f!==null&&(f.childLanes|=A)):f!==null&&(f.childLanes&A)!==A&&(f.childLanes|=A),a===u)break;a=a.return}}function Fl(a,A,u,f){var b=a.child;for(b!==null&&(b.return=a);b!==null;){var v=b.dependencies;if(v!==null){var k=b.child;v=v.firstContext;e:for(;v!==null;){var ee=v;v=b;for(var pe=0;pe<A.length;pe++)if(ee.context===A[pe]){v.lanes|=u,ee=v.alternate,ee!==null&&(ee.lanes|=u),Nc(v.return,u,a),f||(k=null);break e}v=ee.next}}else if(b.tag===18){if(k=b.return,k===null)throw Error(n(341));k.lanes|=u,v=k.alternate,v!==null&&(v.lanes|=u),Nc(k,u,a),k=null}else k=b.child;if(k!==null)k.return=b;else for(k=b;k!==null;){if(k===a){k=null;break}if(b=k.sibling,b!==null){b.return=k.return,k=b;break}k=k.return}b=k}}function HA(a,A,u,f){a=null;for(var b=A,v=!1;b!==null;){if(!v){if((b.flags&524288)!==0)v=!0;else if((b.flags&262144)!==0)break}if(b.tag===10){var k=b.alternate;if(k===null)throw Error(n(387));if(k=k.memoizedProps,k!==null){var ee=b.type;Gs(b.pendingProps.value,k.value)||(a!==null?a.push(ee):a=[ee])}}else if(b===ge.current){if(k=b.alternate,k===null)throw Error(n(387));k.memoizedState.memoizedState!==b.memoizedState.memoizedState&&(a!==null?a.push(b0):a=[b0])}b=b.return}a!==null&&Fl(A,a,u,f),A.flags|=262144}function Xd(a){for(a=a.firstContext;a!==null;){if(!Gs(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function VA(a){MA=a,jo=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function Ws(a){return wm(MA,a)}function Yd(a,A){return MA===null&&VA(a),wm(a,A)}function wm(a,A){var u=A._currentValue;if(A={context:A,memoizedValue:u,next:null},jo===null){if(a===null)throw Error(n(308));jo=A,a.dependencies={lanes:0,firstContext:A},a.flags|=524288}else jo=jo.next=A;return u}var Ab=typeof AbortController<"u"?AbortController:function(){var a=[],A=this.signal={aborted:!1,addEventListener:function(u,f){a.push(f)}};this.abort=function(){A.aborted=!0,a.forEach(function(u){return u()})}},lb=r.unstable_scheduleCallback,cb=r.unstable_NormalPriority,ls={$$typeof:V,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function _c(){return{controller:new Ab,data:new Map,refCount:0}}function Hu(a){a.refCount--,a.refCount===0&&lb(cb,function(){a.controller.abort()})}var Vu=null,Wd=0,m=0,y=null;function _(a,A){if(Vu===null){var u=Vu=[];Wd=0,m=Xb(),y={status:"pending",value:void 0,then:function(f){u.push(f)}}}return Wd++,A.then(T,T),A}function T(){if(--Wd===0&&Vu!==null){y!==null&&(y.status="fulfilled");var a=Vu;Vu=null,m=0,y=null;for(var A=0;A<a.length;A++)(0,a[A])()}}function G(a,A){var u=[],f={status:"pending",value:null,reason:null,then:function(b){u.push(b)}};return a.then(function(){f.status="fulfilled",f.value=A;for(var b=0;b<u.length;b++)(0,u[b])(A)},function(b){for(f.status="rejected",f.reason=b,b=0;b<u.length;b++)(0,u[b])(void 0)}),f}var Y=ie.S;ie.S=function(a,A){sB=Yt(),typeof A=="object"&&A!==null&&typeof A.then=="function"&&_(a,A),Y!==null&&Y(a,A)};var W=$(null);function se(){var a=W.current;return a!==null?a:kn.pooledCache}function oe(a,A){A===null?q(W,W.current):q(W,A.pool)}function de(){var a=se();return a===null?null:{parent:ls._currentValue,pool:a}}var we=Error(n(460)),Fe=Error(n(474)),ce=Error(n(542)),Ne={then:function(){}};function je(a){return a=a.status,a==="fulfilled"||a==="rejected"}function Ge(a,A,u){switch(u=a[u],u===void 0?a.push(A):u!==A&&(A.then(Ai,Ai),A=u),A.status){case"fulfilled":return A.value;case"rejected":throw a=A.reason,At(a),a;default:if(typeof A.status=="string")A.then(Ai,Ai);else{if(a=kn,a!==null&&100<a.shellSuspendCounter)throw Error(n(482));a=A,a.status="pending",a.then(function(f){if(A.status==="pending"){var b=A;b.status="fulfilled",b.value=f}},function(f){if(A.status==="pending"){var b=A;b.status="rejected",b.reason=f}})}switch(A.status){case"fulfilled":return A.value;case"rejected":throw a=A.reason,At(a),a}throw ze=A,we}}function Te(a){try{var A=a._init;return A(a._payload)}catch(u){throw u!==null&&typeof u=="object"&&typeof u.then=="function"?(ze=u,we):u}}var ze=null;function Ye(){if(ze===null)throw Error(n(459));var a=ze;return ze=null,a}function At(a){if(a===we||a===ce)throw Error(n(483))}var tt=null,Vt=0;function Ct(a){var A=Vt;return Vt+=1,tt===null&&(tt=[]),Ge(tt,a,A)}function pr(a,A){A=A.props.ref,a.ref=A!==void 0?A:null}function Qt(a,A){throw A.$$typeof===B?Error(n(525)):(a=Object.prototype.toString.call(A),Error(n(31,a==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":a)))}function Fr(a){function A(Se,ve){if(a){var ke=Se.deletions;ke===null?(Se.deletions=[ve],Se.flags|=16):ke.push(ve)}}function u(Se,ve){if(!a)return null;for(;ve!==null;)A(Se,ve),ve=ve.sibling;return null}function f(Se){for(var ve=new Map;Se!==null;)Se.key!==null?ve.set(Se.key,Se):ve.set(Se.index,Se),Se=Se.sibling;return ve}function b(Se,ve){return Se=Si(Se,ve),Se.index=0,Se.sibling=null,Se}function v(Se,ve,ke){return Se.index=ke,a?(ke=Se.alternate,ke!==null?(ke=ke.index,ke<ve?(Se.flags|=67108866,ve):ke):(Se.flags|=67108866,ve)):(Se.flags|=1048576,ve)}function k(Se){return a&&Se.alternate===null&&(Se.flags|=67108866),Se}function ee(Se,ve,ke,We){return ve===null||ve.tag!==6?(ve=Mu(ke,Se.mode,We),ve.return=Se,ve):(ve=b(ve,ke),ve.return=Se,ve)}function pe(Se,ve,ke,We){var nr=ke.type;return nr===j?Xe(Se,ve,ke.props.children,We,ke.key):ve!==null&&(ve.elementType===nr||typeof nr=="object"&&nr!==null&&nr.$$typeof===U&&Te(nr)===ve.type)?(ve=b(ve,ke.props),pr(ve,ke),ve.return=Se,ve):(ve=yc(ke.type,ke.key,ke.props,null,Se.mode,We),pr(ve,ke),ve.return=Se,ve)}function Qe(Se,ve,ke,We){return ve===null||ve.tag!==4||ve.stateNode.containerInfo!==ke.containerInfo||ve.stateNode.implementation!==ke.implementation?(ve=wc(ke,Se.mode,We),ve.return=Se,ve):(ve=b(ve,ke.children||[]),ve.return=Se,ve)}function Xe(Se,ve,ke,We,nr){return ve===null||ve.tag!==7?(ve=RA(ke,Se.mode,We,nr),ve.return=Se,ve):(ve=b(ve,ke),ve.return=Se,ve)}function Ze(Se,ve,ke){if(typeof ve=="string"&&ve!==""||typeof ve=="number"||typeof ve=="bigint")return ve=Mu(""+ve,Se.mode,ke),ve.return=Se,ve;if(typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case w:return ke=yc(ve.type,ve.key,ve.props,null,Se.mode,ke),pr(ke,ve),ke.return=Se,ke;case I:return ve=wc(ve,Se.mode,ke),ve.return=Se,ve;case U:return ve=Te(ve),Ze(Se,ve,ke)}if(xe(ve)||F(ve))return ve=RA(ve,Se.mode,ke,null),ve.return=Se,ve;if(typeof ve.then=="function")return Ze(Se,Ct(ve),ke);if(ve.$$typeof===V)return Ze(Se,Yd(Se,ve),ke);Qt(Se,ve)}return null}function Re(Se,ve,ke,We){var nr=ve!==null?ve.key:null;if(typeof ke=="string"&&ke!==""||typeof ke=="number"||typeof ke=="bigint")return nr!==null?null:ee(Se,ve,""+ke,We);if(typeof ke=="object"&&ke!==null){switch(ke.$$typeof){case w:return ke.key===nr?pe(Se,ve,ke,We):null;case I:return ke.key===nr?Qe(Se,ve,ke,We):null;case U:return ke=Te(ke),Re(Se,ve,ke,We)}if(xe(ke)||F(ke))return nr!==null?null:Xe(Se,ve,ke,We,null);if(typeof ke.then=="function")return Re(Se,ve,Ct(ke),We);if(ke.$$typeof===V)return Re(Se,ve,Yd(Se,ke),We);Qt(Se,ke)}return null}function Ve(Se,ve,ke,We,nr){if(typeof We=="string"&&We!==""||typeof We=="number"||typeof We=="bigint")return Se=Se.get(ke)||null,ee(ve,Se,""+We,nr);if(typeof We=="object"&&We!==null){switch(We.$$typeof){case w:return Se=Se.get(We.key===null?ke:We.key)||null,pe(ve,Se,We,nr);case I:return Se=Se.get(We.key===null?ke:We.key)||null,Qe(ve,Se,We,nr);case U:return We=Te(We),Ve(Se,ve,ke,We,nr)}if(xe(We)||F(We))return Se=Se.get(ke)||null,Xe(ve,Se,We,nr,null);if(typeof We.then=="function")return Ve(Se,ve,ke,Ct(We),nr);if(We.$$typeof===V)return Ve(Se,ve,ke,Yd(ve,We),nr);Qt(ve,We)}return null}function Ot(Se,ve,ke,We){for(var nr=null,en=null,$t=ve,Cr=ve=0,Or=null;$t!==null&&Cr<ke.length;Cr++){$t.index>Cr?(Or=$t,$t=null):Or=$t.sibling;var tn=Re(Se,$t,ke[Cr],We);if(tn===null){$t===null&&($t=Or);break}a&&$t&&tn.alternate===null&&A(Se,$t),ve=v(tn,ve,Cr),en===null?nr=tn:en.sibling=tn,en=tn,$t=Or}if(Cr===ke.length)return u(Se,$t),kr&&gi(Se,Cr),nr;if($t===null){for(;Cr<ke.length;Cr++)$t=Ze(Se,ke[Cr],We),$t!==null&&(ve=v($t,ve,Cr),en===null?nr=$t:en.sibling=$t,en=$t);return kr&&gi(Se,Cr),nr}for($t=f($t);Cr<ke.length;Cr++)Or=Ve($t,Se,Cr,ke[Cr],We),Or!==null&&(a&&Or.alternate!==null&&$t.delete(Or.key===null?Cr:Or.key),ve=v(Or,ve,Cr),en===null?nr=Or:en.sibling=Or,en=Or);return a&&$t.forEach(function(Hc){return A(Se,Hc)}),kr&&gi(Se,Cr),nr}function lr(Se,ve,ke,We){if(ke==null)throw Error(n(151));for(var nr=null,en=null,$t=ve,Cr=ve=0,Or=null,tn=ke.next();$t!==null&&!tn.done;Cr++,tn=ke.next()){$t.index>Cr?(Or=$t,$t=null):Or=$t.sibling;var Hc=Re(Se,$t,tn.value,We);if(Hc===null){$t===null&&($t=Or);break}a&&$t&&Hc.alternate===null&&A(Se,$t),ve=v(Hc,ve,Cr),en===null?nr=Hc:en.sibling=Hc,en=Hc,$t=Or}if(tn.done)return u(Se,$t),kr&&gi(Se,Cr),nr;if($t===null){for(;!tn.done;Cr++,tn=ke.next())tn=Ze(Se,tn.value,We),tn!==null&&(ve=v(tn,ve,Cr),en===null?nr=tn:en.sibling=tn,en=tn);return kr&&gi(Se,Cr),nr}for($t=f($t);!tn.done;Cr++,tn=ke.next())tn=Ve($t,Se,Cr,tn.value,We),tn!==null&&(a&&tn.alternate!==null&&$t.delete(tn.key===null?Cr:tn.key),ve=v(tn,ve,Cr),en===null?nr=tn:en.sibling=tn,en=tn);return a&&$t.forEach(function(fF){return A(Se,fF)}),kr&&gi(Se,Cr),nr}function En(Se,ve,ke,We){if(typeof ke=="object"&&ke!==null&&ke.type===j&&ke.key===null&&(ke=ke.props.children),typeof ke=="object"&&ke!==null){switch(ke.$$typeof){case w:e:{for(var nr=ke.key;ve!==null;){if(ve.key===nr){if(nr=ke.type,nr===j){if(ve.tag===7){u(Se,ve.sibling),We=b(ve,ke.props.children),We.return=Se,Se=We;break e}}else if(ve.elementType===nr||typeof nr=="object"&&nr!==null&&nr.$$typeof===U&&Te(nr)===ve.type){u(Se,ve.sibling),We=b(ve,ke.props),pr(We,ke),We.return=Se,Se=We;break e}u(Se,ve);break}else A(Se,ve);ve=ve.sibling}ke.type===j?(We=RA(ke.props.children,Se.mode,We,ke.key),We.return=Se,Se=We):(We=yc(ke.type,ke.key,ke.props,null,Se.mode,We),pr(We,ke),We.return=Se,Se=We)}return k(Se);case I:e:{for(nr=ke.key;ve!==null;){if(ve.key===nr)if(ve.tag===4&&ve.stateNode.containerInfo===ke.containerInfo&&ve.stateNode.implementation===ke.implementation){u(Se,ve.sibling),We=b(ve,ke.children||[]),We.return=Se,Se=We;break e}else{u(Se,ve);break}else A(Se,ve);ve=ve.sibling}We=wc(ke,Se.mode,We),We.return=Se,Se=We}return k(Se);case U:return ke=Te(ke),En(Se,ve,ke,We)}if(xe(ke))return Ot(Se,ve,ke,We);if(F(ke)){if(nr=F(ke),typeof nr!="function")throw Error(n(150));return ke=nr.call(ke),lr(Se,ve,ke,We)}if(typeof ke.then=="function")return En(Se,ve,Ct(ke),We);if(ke.$$typeof===V)return En(Se,ve,Yd(Se,ke),We);Qt(Se,ke)}return typeof ke=="string"&&ke!==""||typeof ke=="number"||typeof ke=="bigint"?(ke=""+ke,ve!==null&&ve.tag===6?(u(Se,ve.sibling),We=b(ve,ke),We.return=Se,Se=We):(u(Se,ve),We=Mu(ke,Se.mode,We),We.return=Se,Se=We),k(Se)):u(Se,ve)}return function(Se,ve,ke,We){try{Vt=0;var nr=En(Se,ve,ke,We);return tt=null,nr}catch($t){if($t===we||$t===ce)throw $t;var en=da(29,$t,null,Se.mode);return en.lanes=We,en.return=Se,en}finally{}}}var Fn=Fr(!0),vr=Fr(!1),Et=!1;function ht(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Pn(a,A){a=a.updateQueue,A.updateQueue===a&&(A.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function or(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function _r(a,A,u){var f=a.updateQueue;if(f===null)return null;if(f=f.shared,(sn&2)!==0){var b=f.pending;return b===null?A.next=A:(A.next=b.next,b.next=A),f.pending=A,A=ua(a),Du(a,null,u),A}return Ru(a,f,A,u),ua(a)}function rn(a,A,u){if(A=A.updateQueue,A!==null&&(A=A.shared,(u&4194048)!==0)){var f=A.lanes;f&=a.pendingLanes,u|=f,A.lanes=u,Gt(a,u)}}function Ns(a,A){var u=a.updateQueue,f=a.alternate;if(f!==null&&(f=f.updateQueue,u===f)){var b=null,v=null;if(u=u.firstBaseUpdate,u!==null){do{var k={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};v===null?b=v=k:v=v.next=k,u=u.next}while(u!==null);v===null?b=v=A:v=v.next=A}else b=v=A;u={baseState:f.baseState,firstBaseUpdate:b,lastBaseUpdate:v,shared:f.shared,callbacks:f.callbacks},a.updateQueue=u;return}a=u.lastBaseUpdate,a===null?u.firstBaseUpdate=A:a.next=A,u.lastBaseUpdate=A}var Js=!1;function Nn(){if(Js){var a=y;if(a!==null)throw a}}function hs(a,A,u,f){Js=!1;var b=a.updateQueue;Et=!1;var v=b.firstBaseUpdate,k=b.lastBaseUpdate,ee=b.shared.pending;if(ee!==null){b.shared.pending=null;var pe=ee,Qe=pe.next;pe.next=null,k===null?v=Qe:k.next=Qe,k=pe;var Xe=a.alternate;Xe!==null&&(Xe=Xe.updateQueue,ee=Xe.lastBaseUpdate,ee!==k&&(ee===null?Xe.firstBaseUpdate=Qe:ee.next=Qe,Xe.lastBaseUpdate=pe))}if(v!==null){var Ze=b.baseState;k=0,Xe=Qe=pe=null,ee=v;do{var Re=ee.lane&-536870913,Ve=Re!==ee.lane;if(Ve?(Dr&Re)===Re:(f&Re)===Re){Re!==0&&Re===m&&(Js=!0),Xe!==null&&(Xe=Xe.next={lane:0,tag:ee.tag,payload:ee.payload,callback:null,next:null});e:{var Ot=a,lr=ee;Re=A;var En=u;switch(lr.tag){case 1:if(Ot=lr.payload,typeof Ot=="function"){Ze=Ot.call(En,Ze,Re);break e}Ze=Ot;break e;case 3:Ot.flags=Ot.flags&-65537|128;case 0:if(Ot=lr.payload,Re=typeof Ot=="function"?Ot.call(En,Ze,Re):Ot,Re==null)break e;Ze=x({},Ze,Re);break e;case 2:Et=!0}}Re=ee.callback,Re!==null&&(a.flags|=64,Ve&&(a.flags|=8192),Ve=b.callbacks,Ve===null?b.callbacks=[Re]:Ve.push(Re))}else Ve={lane:Re,tag:ee.tag,payload:ee.payload,callback:ee.callback,next:null},Xe===null?(Qe=Xe=Ve,pe=Ze):Xe=Xe.next=Ve,k|=Re;if(ee=ee.next,ee===null){if(ee=b.shared.pending,ee===null)break;Ve=ee,ee=Ve.next,Ve.next=null,b.lastBaseUpdate=Ve,b.shared.pending=null}}while(!0);Xe===null&&(pe=Ze),b.baseState=pe,b.firstBaseUpdate=Qe,b.lastBaseUpdate=Xe,v===null&&(b.shared.lanes=0),Uc|=k,a.lanes=k,a.memoizedState=Ze}}function ha(a,A){if(typeof a!="function")throw Error(n(191,a));a.call(A)}function fs(a,A){var u=a.callbacks;if(u!==null)for(a.callbacks=null,a=0;a<u.length;a++)ha(u[a],A)}var Sr=$(null),qr=$(0);function Hn(a,A){a=Vl,q(qr,a),q(Sr,A),Vl=a|A.baseLanes}function Wr(){q(qr,Vl),q(Sr,Sr.current)}function _s(){Vl=qr.current,D(Sr),D(qr)}var Vn=$(null),Gr=null;function cs(a){var A=a.alternate;q(Kr,Kr.current&1),q(Vn,a),Gr===null&&(A===null||Sr.current!==null||A.memoizedState!==null)&&(Gr=a)}function nn(a){q(Kr,Kr.current),q(Vn,a),Gr===null&&(Gr=a)}function gs(a){a.tag===22?(q(Kr,Kr.current),q(Vn,a),Gr===null&&(Gr=a)):ms()}function ms(){q(Kr,Kr.current),q(Vn,Vn.current)}function dn(a){D(Vn),Gr===a&&(Gr=null),D(Kr)}var Kr=$(0);function fa(a){for(var A=a;A!==null;){if(A.tag===13){var u=A.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||o2(u)||A2(u)))return A}else if(A.tag===19&&(A.memoizedProps.revealOrder==="forwards"||A.memoizedProps.revealOrder==="backwards"||A.memoizedProps.revealOrder==="unstable_legacy-backwards"||A.memoizedProps.revealOrder==="together")){if((A.flags&128)!==0)return A}else if(A.child!==null){A.child.return=A,A=A.child;continue}if(A===a)break;for(;A.sibling===null;){if(A.return===null||A.return===a)return null;A=A.return}A.sibling.return=A.return,A=A.sibling}return null}var Yn=0,er=null,rr=null,$r=null,za=!1,Qi=!1,Ua=!1,ps=0,KA=0,zA=null,Jd=0;function _n(){throw Error(n(321))}function $f(a,A){if(A===null)return!1;for(var u=0;u<A.length&&u<a.length;u++)if(!Gs(a[u],A[u]))return!1;return!0}function Xf(a,A,u,f,b,v){return Yn=v,er=A,A.memoizedState=null,A.updateQueue=null,A.lanes=0,ie.H=a===null||a.memoizedState===null?g4:xb,Ua=!1,v=u(f,b),Ua=!1,Qi&&(v=oA(A,u,f,b)),Zd(a),v}function Zd(a){ie.H=n0;var A=rr!==null&&rr.next!==null;if(Yn=0,$r=rr=er=null,za=!1,KA=0,zA=null,A)throw Error(n(300));a===null||Ds||(a=a.dependencies,a!==null&&Xd(a)&&(Ds=!0))}function oA(a,A,u,f){er=a;var b=0;do{if(Qi&&(zA=null),KA=0,Qi=!1,25<=b)throw Error(n(301));if(b+=1,$r=rr=null,a.updateQueue!=null){var v=a.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}ie.H=m4,v=A(u,f)}while(Qi);return v}function ub(){var a=ie.H,A=a.useState()[0];return A=typeof A.then=="function"?qA(A):A,a=a.useState()[0],(rr!==null?rr.memoizedState:null)!==a&&(er.flags|=1024),A}function Yf(){var a=ps!==0;return ps=0,a}function Wf(a,A,u){A.updateQueue=a.updateQueue,A.flags&=-2053,a.lanes&=~u}function eh(a){if(za){for(a=a.memoizedState;a!==null;){var A=a.queue;A!==null&&(A.pending=null),a=a.next}za=!1}Yn=0,$r=rr=er=null,Qi=!1,KA=ps=0,zA=null}function Rs(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $r===null?er.memoizedState=$r=a:$r=$r.next=a,$r}function Wn(){if(rr===null){var a=er.alternate;a=a!==null?a.memoizedState:null}else a=rr.next;var A=$r===null?er.memoizedState:$r.next;if(A!==null)$r=A,rr=a;else{if(a===null)throw er.alternate===null?Error(n(467)):Error(n(310));rr=a,a={memoizedState:rr.memoizedState,baseState:rr.baseState,baseQueue:rr.baseQueue,queue:rr.queue,next:null},$r===null?er.memoizedState=$r=a:$r=$r.next=a}return $r}function Ku(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function qA(a){var A=KA;return KA+=1,zA===null&&(zA=[]),a=Ge(zA,a,A),A=er,($r===null?A.memoizedState:$r.next)===null&&(A=A.alternate,ie.H=A===null||A.memoizedState===null?g4:xb),a}function Cc(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return qA(a);if(a.$$typeof===V)return Ws(a)}throw Error(n(438,String(a)))}function kl(a){var A=null,u=er.updateQueue;if(u!==null&&(A=u.memoCache),A==null){var f=er.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(A={data:f.data.map(function(b){return b.slice()}),index:0})))}if(A==null&&(A={data:[],index:0}),u===null&&(u=Ku(),er.updateQueue=u),u.memoCache=A,u=A.data[A.index],u===void 0)for(u=A.data[A.index]=Array(a),f=0;f<a;f++)u[f]=P;return A.index++,u}function To(a,A){return typeof A=="function"?A(a):A}function th(a){var A=Wn();return Ec(A,rr,a)}function Ec(a,A,u){var f=a.queue;if(f===null)throw Error(n(311));f.lastRenderedReducer=u;var b=a.baseQueue,v=f.pending;if(v!==null){if(b!==null){var k=b.next;b.next=v.next,v.next=k}A.baseQueue=b=v,f.pending=null}if(v=a.baseState,b===null)a.memoizedState=v;else{A=b.next;var ee=k=null,pe=null,Qe=A,Xe=!1;do{var Ze=Qe.lane&-536870913;if(Ze!==Qe.lane?(Dr&Ze)===Ze:(Yn&Ze)===Ze){var Re=Qe.revertLane;if(Re===0)pe!==null&&(pe=pe.next={lane:0,revertLane:0,gesture:null,action:Qe.action,hasEagerState:Qe.hasEagerState,eagerState:Qe.eagerState,next:null}),Ze===m&&(Xe=!0);else if((Yn&Re)===Re){Qe=Qe.next,Re===m&&(Xe=!0);continue}else Ze={lane:0,revertLane:Qe.revertLane,gesture:null,action:Qe.action,hasEagerState:Qe.hasEagerState,eagerState:Qe.eagerState,next:null},pe===null?(ee=pe=Ze,k=v):pe=pe.next=Ze,er.lanes|=Re,Uc|=Re;Ze=Qe.action,Ua&&u(v,Ze),v=Qe.hasEagerState?Qe.eagerState:u(v,Ze)}else Re={lane:Ze,revertLane:Qe.revertLane,gesture:Qe.gesture,action:Qe.action,hasEagerState:Qe.hasEagerState,eagerState:Qe.eagerState,next:null},pe===null?(ee=pe=Re,k=v):pe=pe.next=Re,er.lanes|=Ze,Uc|=Ze;Qe=Qe.next}while(Qe!==null&&Qe!==A);if(pe===null?k=v:pe.next=ee,!Gs(v,a.memoizedState)&&(Ds=!0,Xe&&(u=y,u!==null)))throw u;a.memoizedState=v,a.baseState=k,a.baseQueue=pe,f.lastRenderedState=v}return b===null&&(f.lanes=0),[a.memoizedState,f.dispatch]}function rh(a){var A=Wn(),u=A.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=a;var f=u.dispatch,b=u.pending,v=A.memoizedState;if(b!==null){u.pending=null;var k=b=b.next;do v=a(v,k.action),k=k.next;while(k!==b);Gs(v,A.memoizedState)||(Ds=!0),A.memoizedState=v,A.baseQueue===null&&(A.baseState=v),u.lastRenderedState=v}return[v,f]}function nh(a,A,u){var f=er,b=Wn(),v=kr;if(v){if(u===void 0)throw Error(n(407));u=u()}else u=A();var k=!Gs((rr||b).memoizedState,u);if(k&&(b.memoizedState=u,Ds=!0),b=b.queue,db(Zf.bind(null,f,b,a),[a]),b.getSnapshot!==A||k||$r!==null&&$r.memoizedState.tag&1){if(f.flags|=2048,Ll(9,{destroy:void 0},Jf.bind(null,f,b,u,A),null),kn===null)throw Error(n(349));v||(Yn&127)!==0||AA(f,A,u)}return u}function AA(a,A,u){a.flags|=16384,a={getSnapshot:A,value:u},A=er.updateQueue,A===null?(A=Ku(),er.updateQueue=A,A.stores=[a]):(u=A.stores,u===null?A.stores=[a]:u.push(a))}function Jf(a,A,u,f){A.value=u,A.getSnapshot=f,vm(A)&&e0(a)}function Zf(a,A,u){return u(function(){vm(A)&&e0(a)})}function vm(a){var A=a.getSnapshot;a=a.value;try{var u=A();return!Gs(a,u)}catch{return!0}}function e0(a){var A=aA(a,2);A!==null&&Mi(A,a,2)}function GA(a){var A=Rs();if(typeof a=="function"){var u=a;if(a=u(),Ua){yt(!0);try{u()}finally{yt(!1)}}}return A.memoizedState=A.baseState=a,A.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:To,lastRenderedState:a},A}function Bm(a,A,u,f){return a.baseState=u,Ec(a,rr,typeof f=="function"?f:To)}function Nm(a,A,u,f,b){if(Sm(a))throw Error(n(485));if(a=A.action,a!==null){var v={payload:b,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(k){v.listeners.push(k)}};ie.T!==null?u(!0):v.isTransition=!1,f(v),u=A.pending,u===null?(v.next=A.pending=v,_m(A,v)):(v.next=u.next,A.pending=u.next=v)}}function _m(a,A){var u=A.action,f=A.payload,b=a.state;if(A.isTransition){var v=ie.T,k={};ie.T=k;try{var ee=u(b,f),pe=ie.S;pe!==null&&pe(k,ee),t0(a,A,ee)}catch(Qe){Ql(a,A,Qe)}finally{v!==null&&k.types!==null&&(v.types=k.types),ie.T=v}}else try{v=u(b,f),t0(a,A,v)}catch(Qe){Ql(a,A,Qe)}}function t0(a,A,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(f){Cm(a,A,f)},function(f){return Ql(a,A,f)}):Cm(a,A,u)}function Cm(a,A,u){A.status="fulfilled",A.value=u,sh(A),a.state=u,A=a.pending,A!==null&&(u=A.next,u===A?a.pending=null:(u=u.next,A.next=u,_m(a,u)))}function Ql(a,A,u){var f=a.pending;if(a.pending=null,f!==null){f=f.next;do A.status="rejected",A.reason=u,sh(A),A=A.next;while(A!==f)}a.action=null}function sh(a){a=a.listeners;for(var A=0;A<a.length;A++)(0,a[A])()}function zu(a,A){return A}function Uo(a,A){if(kr){var u=kn.formState;if(u!==null){e:{var f=er;if(kr){if(Un){t:{for(var b=Un,v=Xn;b.nodeType!==8;){if(!v){b=null;break t}if(b=Fo(b.nextSibling),b===null){b=null;break t}}v=b.data,b=v==="F!"||v==="F"?b:null}if(b){Un=Fo(b.nextSibling),f=b.data==="F!";break e}}OA(f)}f=!1}f&&(A=u[0])}}return u=Rs(),u.memoizedState=u.baseState=A,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zu,lastRenderedState:A},u.queue=f,u=d4.bind(null,er,f),f.dispatch=u,f=GA(!1),v=pb.bind(null,er,!1,f.queue),f=Rs(),b={state:A,dispatch:null,action:a,pending:null},f.queue=b,u=Nm.bind(null,er,b,v,u),b.dispatch=u,f.memoizedState=a,[A,u,!1]}function lA(a){var A=Wn();return cA(A,rr,a)}function cA(a,A,u){if(A=Ec(a,A,zu)[0],a=th(To)[0],typeof A=="object"&&A!==null&&typeof A.then=="function")try{var f=qA(A)}catch(k){throw k===we?ce:k}else f=A;A=Wn();var b=A.queue,v=b.dispatch;return u!==A.memoizedState&&(er.flags|=2048,Ll(9,{destroy:void 0},ah.bind(null,b,u),null)),[f,v,a]}function ah(a,A){a.action=A}function ih(a){var A=Wn(),u=rr;if(u!==null)return cA(A,u,a);Wn(),A=A.memoizedState,u=Wn();var f=u.queue.dispatch;return u.memoizedState=a,[A,f,!1]}function Ll(a,A,u,f){return a={tag:a,create:u,deps:f,inst:A,next:null},A=er.updateQueue,A===null&&(A=Ku(),er.updateQueue=A),u=A.lastEffect,u===null?A.lastEffect=a.next=a:(f=u.next,u.next=a,a.next=f,A.lastEffect=a),a}function Em(){return Wn().memoizedState}function Sc(a,A,u,f){var b=Rs();er.flags|=a,b.memoizedState=Ll(1|A,{destroy:void 0},u,f===void 0?null:f)}function Ic(a,A,u,f){var b=Wn();f=f===void 0?null:f;var v=b.memoizedState.inst;rr!==null&&f!==null&&$f(f,rr.memoizedState.deps)?b.memoizedState=Ll(A,v,u,f):(er.flags|=a,b.memoizedState=Ll(1|A,v,u,f))}function J5(a,A){Sc(8390656,8,a,A)}function db(a,A){Ic(2048,8,a,A)}function AU(a){er.flags|=4;var A=er.updateQueue;if(A===null)A=Ku(),er.updateQueue=A,A.events=[a];else{var u=A.events;u===null?A.events=[a]:u.push(a)}}function Z5(a){var A=Wn().memoizedState;return AU({ref:A,nextImpl:a}),function(){if((sn&2)!==0)throw Error(n(440));return A.impl.apply(void 0,arguments)}}function e4(a,A){return Ic(4,2,a,A)}function t4(a,A){return Ic(4,4,a,A)}function r4(a,A){if(typeof A=="function"){a=a();var u=A(a);return function(){typeof u=="function"?u():A(null)}}if(A!=null)return a=a(),A.current=a,function(){A.current=null}}function n4(a,A,u){u=u!=null?u.concat([a]):null,Ic(4,4,r4.bind(null,A,a),u)}function hb(){}function s4(a,A){var u=Wn();A=A===void 0?null:A;var f=u.memoizedState;return A!==null&&$f(A,f[1])?f[0]:(u.memoizedState=[a,A],a)}function a4(a,A){var u=Wn();A=A===void 0?null:A;var f=u.memoizedState;if(A!==null&&$f(A,f[1]))return f[0];if(f=a(),Ua){yt(!0);try{a()}finally{yt(!1)}}return u.memoizedState=[f,A],f}function fb(a,A,u){return u===void 0||(Yn&1073741824)!==0&&(Dr&261930)===0?a.memoizedState=A:(a.memoizedState=u,a=iB(),er.lanes|=a,Uc|=a,u)}function i4(a,A,u,f){return Gs(u,A)?u:Sr.current!==null?(a=fb(a,u,f),Gs(a,A)||(Ds=!0),a):(Yn&42)===0||(Yn&1073741824)!==0&&(Dr&261930)===0?(Ds=!0,a.memoizedState=u):(a=iB(),er.lanes|=a,Uc|=a,A)}function o4(a,A,u,f,b){var v=Z.p;Z.p=v!==0&&8>v?v:8;var k=ie.T,ee={};ie.T=ee,pb(a,!1,A,u);try{var pe=b(),Qe=ie.S;if(Qe!==null&&Qe(ee,pe),pe!==null&&typeof pe=="object"&&typeof pe.then=="function"){var Xe=G(pe,f);r0(a,A,Xe,ao(a))}else r0(a,A,f,ao(a))}catch(Ze){r0(a,A,{then:function(){},status:"rejected",reason:Ze},ao())}finally{Z.p=v,k!==null&&ee.types!==null&&(k.types=ee.types),ie.T=k}}function lU(){}function gb(a,A,u,f){if(a.tag!==5)throw Error(n(476));var b=A4(a).queue;o4(a,b,A,Ae,u===null?lU:function(){return l4(a),u(f)})}function A4(a){var A=a.memoizedState;if(A!==null)return A;A={memoizedState:Ae,baseState:Ae,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:To,lastRenderedState:Ae},next:null};var u={};return A.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:To,lastRenderedState:u},next:null},a.memoizedState=A,a=a.alternate,a!==null&&(a.memoizedState=A),A}function l4(a){var A=A4(a);A.next===null&&(A=a.alternate.memoizedState),r0(a,A.next.queue,{},ao())}function mb(){return Ws(b0)}function c4(){return Wn().memoizedState}function u4(){return Wn().memoizedState}function cU(a){for(var A=a.return;A!==null;){switch(A.tag){case 24:case 3:var u=ao();a=or(u);var f=_r(A,a,u);f!==null&&(Mi(f,A,u),rn(f,A,u)),A={cache:_c()},a.payload=A;return}A=A.return}}function uU(a,A,u){var f=ao();u={lane:f,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Sm(a)?h4(A,u):(u=Pd(a,A,u,f),u!==null&&(Mi(u,a,f),f4(u,A,f)))}function d4(a,A,u){var f=ao();r0(a,A,u,f)}function r0(a,A,u,f){var b={lane:f,revertLane:0,gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null};if(Sm(a))h4(A,b);else{var v=a.alternate;if(a.lanes===0&&(v===null||v.lanes===0)&&(v=A.lastRenderedReducer,v!==null))try{var k=A.lastRenderedState,ee=v(k,u);if(b.hasEagerState=!0,b.eagerState=ee,Gs(ee,k))return Ru(a,A,b,0),kn===null&&Lu(),!1}catch{}finally{}if(u=Pd(a,A,b,f),u!==null)return Mi(u,a,f),f4(u,A,f),!0}return!1}function pb(a,A,u,f){if(f={lane:2,revertLane:Xb(),gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null},Sm(a)){if(A)throw Error(n(479))}else A=Pd(a,u,f,2),A!==null&&Mi(A,a,2)}function Sm(a){var A=a.alternate;return a===er||A!==null&&A===er}function h4(a,A){Qi=za=!0;var u=a.pending;u===null?A.next=A:(A.next=u.next,u.next=A),a.pending=A}function f4(a,A,u){if((u&4194048)!==0){var f=A.lanes;f&=a.pendingLanes,u|=f,A.lanes=u,Gt(a,u)}}var n0={readContext:Ws,use:Cc,useCallback:_n,useContext:_n,useEffect:_n,useImperativeHandle:_n,useLayoutEffect:_n,useInsertionEffect:_n,useMemo:_n,useReducer:_n,useRef:_n,useState:_n,useDebugValue:_n,useDeferredValue:_n,useTransition:_n,useSyncExternalStore:_n,useId:_n,useHostTransitionStatus:_n,useFormState:_n,useActionState:_n,useOptimistic:_n,useMemoCache:_n,useCacheRefresh:_n};n0.useEffectEvent=_n;var g4={readContext:Ws,use:Cc,useCallback:function(a,A){return Rs().memoizedState=[a,A===void 0?null:A],a},useContext:Ws,useEffect:J5,useImperativeHandle:function(a,A,u){u=u!=null?u.concat([a]):null,Sc(4194308,4,r4.bind(null,A,a),u)},useLayoutEffect:function(a,A){return Sc(4194308,4,a,A)},useInsertionEffect:function(a,A){Sc(4,2,a,A)},useMemo:function(a,A){var u=Rs();A=A===void 0?null:A;var f=a();if(Ua){yt(!0);try{a()}finally{yt(!1)}}return u.memoizedState=[f,A],f},useReducer:function(a,A,u){var f=Rs();if(u!==void 0){var b=u(A);if(Ua){yt(!0);try{u(A)}finally{yt(!1)}}}else b=A;return f.memoizedState=f.baseState=b,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:b},f.queue=a,a=a.dispatch=uU.bind(null,er,a),[f.memoizedState,a]},useRef:function(a){var A=Rs();return a={current:a},A.memoizedState=a},useState:function(a){a=GA(a);var A=a.queue,u=d4.bind(null,er,A);return A.dispatch=u,[a.memoizedState,u]},useDebugValue:hb,useDeferredValue:function(a,A){var u=Rs();return fb(u,a,A)},useTransition:function(){var a=GA(!1);return a=o4.bind(null,er,a.queue,!0,!1),Rs().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,A,u){var f=er,b=Rs();if(kr){if(u===void 0)throw Error(n(407));u=u()}else{if(u=A(),kn===null)throw Error(n(349));(Dr&127)!==0||AA(f,A,u)}b.memoizedState=u;var v={value:u,getSnapshot:A};return b.queue=v,J5(Zf.bind(null,f,v,a),[a]),f.flags|=2048,Ll(9,{destroy:void 0},Jf.bind(null,f,v,u,A),null),u},useId:function(){var a=Rs(),A=kn.identifierPrefix;if(kr){var u=Fi,f=Ui;u=(f&~(1<<32-qt(f)-1)).toString(32)+u,A="_"+A+"R_"+u,u=ps++,0<u&&(A+="H"+u.toString(32)),A+="_"}else u=Jd++,A="_"+A+"r_"+u.toString(32)+"_";return a.memoizedState=A},useHostTransitionStatus:mb,useFormState:Uo,useActionState:Uo,useOptimistic:function(a){var A=Rs();A.memoizedState=A.baseState=a;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return A.queue=u,A=pb.bind(null,er,!0,u),u.dispatch=A,[a,A]},useMemoCache:kl,useCacheRefresh:function(){return Rs().memoizedState=cU.bind(null,er)},useEffectEvent:function(a){var A=Rs(),u={impl:a};return A.memoizedState=u,function(){if((sn&2)!==0)throw Error(n(440));return u.impl.apply(void 0,arguments)}}},xb={readContext:Ws,use:Cc,useCallback:s4,useContext:Ws,useEffect:db,useImperativeHandle:n4,useInsertionEffect:e4,useLayoutEffect:t4,useMemo:a4,useReducer:th,useRef:Em,useState:function(){return th(To)},useDebugValue:hb,useDeferredValue:function(a,A){var u=Wn();return i4(u,rr.memoizedState,a,A)},useTransition:function(){var a=th(To)[0],A=Wn().memoizedState;return[typeof a=="boolean"?a:qA(a),A]},useSyncExternalStore:nh,useId:c4,useHostTransitionStatus:mb,useFormState:lA,useActionState:lA,useOptimistic:function(a,A){var u=Wn();return Bm(u,rr,a,A)},useMemoCache:kl,useCacheRefresh:u4};xb.useEffectEvent=Z5;var m4={readContext:Ws,use:Cc,useCallback:s4,useContext:Ws,useEffect:db,useImperativeHandle:n4,useInsertionEffect:e4,useLayoutEffect:t4,useMemo:a4,useReducer:rh,useRef:Em,useState:function(){return rh(To)},useDebugValue:hb,useDeferredValue:function(a,A){var u=Wn();return rr===null?fb(u,a,A):i4(u,rr.memoizedState,a,A)},useTransition:function(){var a=rh(To)[0],A=Wn().memoizedState;return[typeof a=="boolean"?a:qA(a),A]},useSyncExternalStore:nh,useId:c4,useHostTransitionStatus:mb,useFormState:ih,useActionState:ih,useOptimistic:function(a,A){var u=Wn();return rr!==null?Bm(u,rr,a,A):(u.baseState=a,[a,u.queue.dispatch])},useMemoCache:kl,useCacheRefresh:u4};m4.useEffectEvent=Z5;function bb(a,A,u,f){A=a.memoizedState,u=u(f,A),u=u==null?A:x({},A,u),a.memoizedState=u,a.lanes===0&&(a.updateQueue.baseState=u)}var yb={enqueueSetState:function(a,A,u){a=a._reactInternals;var f=ao(),b=or(f);b.payload=A,u!=null&&(b.callback=u),A=_r(a,b,f),A!==null&&(Mi(A,a,f),rn(A,a,f))},enqueueReplaceState:function(a,A,u){a=a._reactInternals;var f=ao(),b=or(f);b.tag=1,b.payload=A,u!=null&&(b.callback=u),A=_r(a,b,f),A!==null&&(Mi(A,a,f),rn(A,a,f))},enqueueForceUpdate:function(a,A){a=a._reactInternals;var u=ao(),f=or(u);f.tag=2,A!=null&&(f.callback=A),A=_r(a,f,u),A!==null&&(Mi(A,a,u),rn(A,a,u))}};function p4(a,A,u,f,b,v,k){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(f,v,k):A.prototype&&A.prototype.isPureReactComponent?!tA(u,f)||!tA(b,v):!0}function x4(a,A,u,f){a=A.state,typeof A.componentWillReceiveProps=="function"&&A.componentWillReceiveProps(u,f),typeof A.UNSAFE_componentWillReceiveProps=="function"&&A.UNSAFE_componentWillReceiveProps(u,f),A.state!==a&&yb.enqueueReplaceState(A,A.state,null)}function qu(a,A){var u=A;if("ref"in A){u={};for(var f in A)f!=="ref"&&(u[f]=A[f])}if(a=a.defaultProps){u===A&&(u=x({},u));for(var b in a)u[b]===void 0&&(u[b]=a[b])}return u}function b4(a){Qu(a)}function y4(a){console.error(a)}function w4(a){Qu(a)}function Im(a,A){try{var u=a.onUncaughtError;u(A.value,{componentStack:A.stack})}catch(f){setTimeout(function(){throw f})}}function v4(a,A,u){try{var f=a.onCaughtError;f(u.value,{componentStack:u.stack,errorBoundary:A.tag===1?A.stateNode:null})}catch(b){setTimeout(function(){throw b})}}function wb(a,A,u){return u=or(u),u.tag=3,u.payload={element:null},u.callback=function(){Im(a,A)},u}function B4(a){return a=or(a),a.tag=3,a}function N4(a,A,u,f){var b=u.type.getDerivedStateFromError;if(typeof b=="function"){var v=f.value;a.payload=function(){return b(v)},a.callback=function(){v4(A,u,f)}}var k=u.stateNode;k!==null&&typeof k.componentDidCatch=="function"&&(a.callback=function(){v4(A,u,f),typeof b!="function"&&(Fc===null?Fc=new Set([this]):Fc.add(this));var ee=f.stack;this.componentDidCatch(f.value,{componentStack:ee!==null?ee:""})})}function dU(a,A,u,f,b){if(u.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(A=u.alternate,A!==null&&HA(A,u,b,!0),u=Vn.current,u!==null){switch(u.tag){case 31:case 13:return Gr===null?Pm():u.alternate===null&&xs===0&&(xs=3),u.flags&=-257,u.flags|=65536,u.lanes=b,f===Ne?u.flags|=16384:(A=u.updateQueue,A===null?u.updateQueue=new Set([f]):A.add(f),qb(a,f,b)),!1;case 22:return u.flags|=65536,f===Ne?u.flags|=16384:(A=u.updateQueue,A===null?(A={transitions:null,markerInstances:null,retryQueue:new Set([f])},u.updateQueue=A):(u=A.retryQueue,u===null?A.retryQueue=new Set([f]):u.add(f)),qb(a,f,b)),!1}throw Error(n(435,u.tag))}return qb(a,f,b),Pm(),!1}if(kr)return A=Vn.current,A!==null?((A.flags&65536)===0&&(A.flags|=256),A.flags|=65536,A.lanes=b,f!==ro&&(a=Error(n(422),{cause:f}),Bc(Ii(a,u)))):(f!==ro&&(A=Error(n(423),{cause:f}),Bc(Ii(A,u))),a=a.current.alternate,a.flags|=65536,b&=-b,a.lanes|=b,f=Ii(f,u),b=wb(a.stateNode,f,b),Ns(a,b),xs!==4&&(xs=2)),!1;var v=Error(n(520),{cause:f});if(v=Ii(v,u),u0===null?u0=[v]:u0.push(v),xs!==4&&(xs=2),A===null)return!0;f=Ii(f,u),u=A;do{switch(u.tag){case 3:return u.flags|=65536,a=b&-b,u.lanes|=a,a=wb(u.stateNode,f,a),Ns(u,a),!1;case 1:if(A=u.type,v=u.stateNode,(u.flags&128)===0&&(typeof A.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Fc===null||!Fc.has(v))))return u.flags|=65536,b&=-b,u.lanes|=b,b=B4(b),N4(b,a,u,f),Ns(u,b),!1}u=u.return}while(u!==null);return!1}var vb=Error(n(461)),Ds=!1;function Fa(a,A,u,f){A.child=a===null?vr(A,null,u,f):Fn(A,a.child,u,f)}function _4(a,A,u,f,b){u=u.render;var v=A.ref;if("ref"in f){var k={};for(var ee in f)ee!=="ref"&&(k[ee]=f[ee])}else k=f;return VA(A),f=Xf(a,A,u,k,v,b),ee=Yf(),a!==null&&!Ds?(Wf(a,A,b),Rl(a,A,b)):(kr&&ee&&zf(A),A.flags|=1,Fa(a,A,f,b),A.child)}function C4(a,A,u,f,b){if(a===null){var v=u.type;return typeof v=="function"&&!Vd(v)&&v.defaultProps===void 0&&u.compare===null?(A.tag=15,A.type=v,E4(a,A,v,f,b)):(a=yc(u.type,null,f,A,A.mode,b),a.ref=A.ref,a.return=A,A.child=a)}if(v=a.child,!jb(a,b)){var k=v.memoizedProps;if(u=u.compare,u=u!==null?u:tA,u(k,f)&&a.ref===A.ref)return Rl(a,A,b)}return A.flags|=1,a=Si(v,f),a.ref=A.ref,a.return=A,A.child=a}function E4(a,A,u,f,b){if(a!==null){var v=a.memoizedProps;if(tA(v,f)&&a.ref===A.ref)if(Ds=!1,A.pendingProps=f=v,jb(a,b))(a.flags&131072)!==0&&(Ds=!0);else return A.lanes=a.lanes,Rl(a,A,b)}return Bb(a,A,u,f,b)}function S4(a,A,u,f){var b=f.children,v=a!==null?a.memoizedState:null;if(a===null&&A.stateNode===null&&(A.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),f.mode==="hidden"){if((A.flags&128)!==0){if(v=v!==null?v.baseLanes|u:u,a!==null){for(f=A.child=a.child,b=0;f!==null;)b=b|f.lanes|f.childLanes,f=f.sibling;f=b&~v}else f=0,A.child=null;return I4(a,A,v,u,f)}if((u&536870912)!==0)A.memoizedState={baseLanes:0,cachePool:null},a!==null&&oe(A,v!==null?v.cachePool:null),v!==null?Hn(A,v):Wr(),gs(A);else return f=A.lanes=536870912,I4(a,A,v!==null?v.baseLanes|u:u,u,f)}else v!==null?(oe(A,v.cachePool),Hn(A,v),ms(),A.memoizedState=null):(a!==null&&oe(A,null),Wr(),ms());return Fa(a,A,b,u),A.child}function s0(a,A){return a!==null&&a.tag===22||A.stateNode!==null||(A.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),A.sibling}function I4(a,A,u,f,b){var v=se();return v=v===null?null:{parent:ls._currentValue,pool:v},A.memoizedState={baseLanes:u,cachePool:v},a!==null&&oe(A,null),Wr(),gs(A),a!==null&&HA(a,A,f,!0),A.childLanes=b,null}function jm(a,A){return A=Um({mode:A.mode,children:A.children},a.mode),A.ref=a.ref,a.child=A,A.return=a,A}function j4(a,A,u){return Fn(A,a.child,null,u),a=jm(A,A.pendingProps),a.flags|=2,dn(A),A.memoizedState=null,a}function hU(a,A,u){var f=A.pendingProps,b=(A.flags&128)!==0;if(A.flags&=-129,a===null){if(kr){if(f.mode==="hidden")return a=jm(A,f),A.lanes=536870912,s0(null,a);if(nn(A),(a=Un)?(a=HB(a,Xn),a=a!==null&&a.data==="&"?a:null,a!==null&&(A.memoizedState={dehydrated:a,treeContext:DA!==null?{id:Ui,overflow:Fi}:null,retryLane:536870912,hydrationErrors:null},u=Kd(a),u.return=A,A.child=u,Xs=A,Un=null)):a=null,a===null)throw OA(A);return A.lanes=536870912,null}return jm(A,f)}var v=a.memoizedState;if(v!==null){var k=v.dehydrated;if(nn(A),b)if(A.flags&256)A.flags&=-257,A=j4(a,A,u);else if(A.memoizedState!==null)A.child=a.child,A.flags|=128,A=null;else throw Error(n(558));else if(Ds||HA(a,A,u,!1),b=(u&a.childLanes)!==0,Ds||b){if(f=kn,f!==null&&(k=_t(f,u),k!==0&&k!==v.retryLane))throw v.retryLane=k,aA(a,k),Mi(f,a,k),vb;Pm(),A=j4(a,A,u)}else a=v.treeContext,Un=Fo(k.nextSibling),Xs=A,kr=!0,Ta=null,Xn=!1,a!==null&&ym(A,a),A=jm(A,f),A.flags|=4096;return A}return a=Si(a.child,{mode:f.mode,children:f.children}),a.ref=A.ref,A.child=a,a.return=A,a}function Tm(a,A){var u=A.ref;if(u===null)a!==null&&a.ref!==null&&(A.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(n(284));(a===null||a.ref!==u)&&(A.flags|=4194816)}}function Bb(a,A,u,f,b){return VA(A),u=Xf(a,A,u,f,void 0,b),f=Yf(),a!==null&&!Ds?(Wf(a,A,b),Rl(a,A,b)):(kr&&f&&zf(A),A.flags|=1,Fa(a,A,u,b),A.child)}function T4(a,A,u,f,b,v){return VA(A),A.updateQueue=null,u=oA(A,f,u,b),Zd(a),f=Yf(),a!==null&&!Ds?(Wf(a,A,v),Rl(a,A,v)):(kr&&f&&zf(A),A.flags|=1,Fa(a,A,u,v),A.child)}function U4(a,A,u,f,b){if(VA(A),A.stateNode===null){var v=$s,k=u.contextType;typeof k=="object"&&k!==null&&(v=Ws(k)),v=new u(f,v),A.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=yb,A.stateNode=v,v._reactInternals=A,v=A.stateNode,v.props=f,v.state=A.memoizedState,v.refs={},ht(A),k=u.contextType,v.context=typeof k=="object"&&k!==null?Ws(k):$s,v.state=A.memoizedState,k=u.getDerivedStateFromProps,typeof k=="function"&&(bb(A,u,k,f),v.state=A.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(k=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),k!==v.state&&yb.enqueueReplaceState(v,v.state,null),hs(A,f,v,b),Nn(),v.state=A.memoizedState),typeof v.componentDidMount=="function"&&(A.flags|=4194308),f=!0}else if(a===null){v=A.stateNode;var ee=A.memoizedProps,pe=qu(u,ee);v.props=pe;var Qe=v.context,Xe=u.contextType;k=$s,typeof Xe=="object"&&Xe!==null&&(k=Ws(Xe));var Ze=u.getDerivedStateFromProps;Xe=typeof Ze=="function"||typeof v.getSnapshotBeforeUpdate=="function",ee=A.pendingProps!==ee,Xe||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(ee||Qe!==k)&&x4(A,v,f,k),Et=!1;var Re=A.memoizedState;v.state=Re,hs(A,f,v,b),Nn(),Qe=A.memoizedState,ee||Re!==Qe||Et?(typeof Ze=="function"&&(bb(A,u,Ze,f),Qe=A.memoizedState),(pe=Et||p4(A,u,pe,f,Re,Qe,k))?(Xe||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(A.flags|=4194308)):(typeof v.componentDidMount=="function"&&(A.flags|=4194308),A.memoizedProps=f,A.memoizedState=Qe),v.props=f,v.state=Qe,v.context=k,f=pe):(typeof v.componentDidMount=="function"&&(A.flags|=4194308),f=!1)}else{v=A.stateNode,Pn(a,A),k=A.memoizedProps,Xe=qu(u,k),v.props=Xe,Ze=A.pendingProps,Re=v.context,Qe=u.contextType,pe=$s,typeof Qe=="object"&&Qe!==null&&(pe=Ws(Qe)),ee=u.getDerivedStateFromProps,(Qe=typeof ee=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(k!==Ze||Re!==pe)&&x4(A,v,f,pe),Et=!1,Re=A.memoizedState,v.state=Re,hs(A,f,v,b),Nn();var Ve=A.memoizedState;k!==Ze||Re!==Ve||Et||a!==null&&a.dependencies!==null&&Xd(a.dependencies)?(typeof ee=="function"&&(bb(A,u,ee,f),Ve=A.memoizedState),(Xe=Et||p4(A,u,Xe,f,Re,Ve,pe)||a!==null&&a.dependencies!==null&&Xd(a.dependencies))?(Qe||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(f,Ve,pe),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(f,Ve,pe)),typeof v.componentDidUpdate=="function"&&(A.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(A.flags|=1024)):(typeof v.componentDidUpdate!="function"||k===a.memoizedProps&&Re===a.memoizedState||(A.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||k===a.memoizedProps&&Re===a.memoizedState||(A.flags|=1024),A.memoizedProps=f,A.memoizedState=Ve),v.props=f,v.state=Ve,v.context=pe,f=Xe):(typeof v.componentDidUpdate!="function"||k===a.memoizedProps&&Re===a.memoizedState||(A.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||k===a.memoizedProps&&Re===a.memoizedState||(A.flags|=1024),f=!1)}return v=f,Tm(a,A),f=(A.flags&128)!==0,v||f?(v=A.stateNode,u=f&&typeof u.getDerivedStateFromError!="function"?null:v.render(),A.flags|=1,a!==null&&f?(A.child=Fn(A,a.child,null,b),A.child=Fn(A,null,u,b)):Fa(a,A,u,b),A.memoizedState=v.state,a=A.child):a=Rl(a,A,b),a}function F4(a,A,u,f){return Ul(),A.flags|=256,Fa(a,A,u,f),A.child}var Nb={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function _b(a){return{baseLanes:a,cachePool:de()}}function Cb(a,A,u){return a=a!==null?a.childLanes&~u:0,A&&(a|=so),a}function k4(a,A,u){var f=A.pendingProps,b=!1,v=(A.flags&128)!==0,k;if((k=v)||(k=a!==null&&a.memoizedState===null?!1:(Kr.current&2)!==0),k&&(b=!0,A.flags&=-129),k=(A.flags&32)!==0,A.flags&=-33,a===null){if(kr){if(b?cs(A):ms(),(a=Un)?(a=HB(a,Xn),a=a!==null&&a.data!=="&"?a:null,a!==null&&(A.memoizedState={dehydrated:a,treeContext:DA!==null?{id:Ui,overflow:Fi}:null,retryLane:536870912,hydrationErrors:null},u=Kd(a),u.return=A,A.child=u,Xs=A,Un=null)):a=null,a===null)throw OA(A);return A2(a)?A.lanes=32:A.lanes=536870912,null}var ee=f.children;return f=f.fallback,b?(ms(),b=A.mode,ee=Um({mode:"hidden",children:ee},b),f=RA(f,b,u,null),ee.return=A,f.return=A,ee.sibling=f,A.child=ee,f=A.child,f.memoizedState=_b(u),f.childLanes=Cb(a,k,u),A.memoizedState=Nb,s0(null,f)):(cs(A),Eb(A,ee))}var pe=a.memoizedState;if(pe!==null&&(ee=pe.dehydrated,ee!==null)){if(v)A.flags&256?(cs(A),A.flags&=-257,A=Sb(a,A,u)):A.memoizedState!==null?(ms(),A.child=a.child,A.flags|=128,A=null):(ms(),ee=f.fallback,b=A.mode,f=Um({mode:"visible",children:f.children},b),ee=RA(ee,b,u,null),ee.flags|=2,f.return=A,ee.return=A,f.sibling=ee,A.child=f,Fn(A,a.child,null,u),f=A.child,f.memoizedState=_b(u),f.childLanes=Cb(a,k,u),A.memoizedState=Nb,A=s0(null,f));else if(cs(A),A2(ee)){if(k=ee.nextSibling&&ee.nextSibling.dataset,k)var Qe=k.dgst;k=Qe,f=Error(n(419)),f.stack="",f.digest=k,Bc({value:f,source:null,stack:null}),A=Sb(a,A,u)}else if(Ds||HA(a,A,u,!1),k=(u&a.childLanes)!==0,Ds||k){if(k=kn,k!==null&&(f=_t(k,u),f!==0&&f!==pe.retryLane))throw pe.retryLane=f,aA(a,f),Mi(k,a,f),vb;o2(ee)||Pm(),A=Sb(a,A,u)}else o2(ee)?(A.flags|=192,A.child=a.child,A=null):(a=pe.treeContext,Un=Fo(ee.nextSibling),Xs=A,kr=!0,Ta=null,Xn=!1,a!==null&&ym(A,a),A=Eb(A,f.children),A.flags|=4096);return A}return b?(ms(),ee=f.fallback,b=A.mode,pe=a.child,Qe=pe.sibling,f=Si(pe,{mode:"hidden",children:f.children}),f.subtreeFlags=pe.subtreeFlags&65011712,Qe!==null?ee=Si(Qe,ee):(ee=RA(ee,b,u,null),ee.flags|=2),ee.return=A,f.return=A,f.sibling=ee,A.child=f,s0(null,f),f=A.child,ee=a.child.memoizedState,ee===null?ee=_b(u):(b=ee.cachePool,b!==null?(pe=ls._currentValue,b=b.parent!==pe?{parent:pe,pool:pe}:b):b=de(),ee={baseLanes:ee.baseLanes|u,cachePool:b}),f.memoizedState=ee,f.childLanes=Cb(a,k,u),A.memoizedState=Nb,s0(a.child,f)):(cs(A),u=a.child,a=u.sibling,u=Si(u,{mode:"visible",children:f.children}),u.return=A,u.sibling=null,a!==null&&(k=A.deletions,k===null?(A.deletions=[a],A.flags|=16):k.push(a)),A.child=u,A.memoizedState=null,u)}function Eb(a,A){return A=Um({mode:"visible",children:A},a.mode),A.return=a,a.child=A}function Um(a,A){return a=da(22,a,null,A),a.lanes=0,a}function Sb(a,A,u){return Fn(A,a.child,null,u),a=Eb(A,A.pendingProps.children),a.flags|=2,A.memoizedState=null,a}function Q4(a,A,u){a.lanes|=A;var f=a.alternate;f!==null&&(f.lanes|=A),Nc(a.return,A,u)}function Ib(a,A,u,f,b,v){var k=a.memoizedState;k===null?a.memoizedState={isBackwards:A,rendering:null,renderingStartTime:0,last:f,tail:u,tailMode:b,treeForkCount:v}:(k.isBackwards=A,k.rendering=null,k.renderingStartTime=0,k.last=f,k.tail=u,k.tailMode=b,k.treeForkCount=v)}function L4(a,A,u){var f=A.pendingProps,b=f.revealOrder,v=f.tail;f=f.children;var k=Kr.current,ee=(k&2)!==0;if(ee?(k=k&1|2,A.flags|=128):k&=1,q(Kr,k),Fa(a,A,f,u),f=kr?Pu:0,!ee&&a!==null&&(a.flags&128)!==0)e:for(a=A.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&Q4(a,u,A);else if(a.tag===19)Q4(a,u,A);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===A)break e;for(;a.sibling===null;){if(a.return===null||a.return===A)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(b){case"forwards":for(u=A.child,b=null;u!==null;)a=u.alternate,a!==null&&fa(a)===null&&(b=u),u=u.sibling;u=b,u===null?(b=A.child,A.child=null):(b=u.sibling,u.sibling=null),Ib(A,!1,b,u,v,f);break;case"backwards":case"unstable_legacy-backwards":for(u=null,b=A.child,A.child=null;b!==null;){if(a=b.alternate,a!==null&&fa(a)===null){A.child=b;break}a=b.sibling,b.sibling=u,u=b,b=a}Ib(A,!0,u,null,v,f);break;case"together":Ib(A,!1,null,null,void 0,f);break;default:A.memoizedState=null}return A.child}function Rl(a,A,u){if(a!==null&&(A.dependencies=a.dependencies),Uc|=A.lanes,(u&A.childLanes)===0)if(a!==null){if(HA(a,A,u,!1),(u&A.childLanes)===0)return null}else return null;if(a!==null&&A.child!==a.child)throw Error(n(153));if(A.child!==null){for(a=A.child,u=Si(a,a.pendingProps),A.child=u,u.return=A;a.sibling!==null;)a=a.sibling,u=u.sibling=Si(a,a.pendingProps),u.return=A;u.sibling=null}return A.child}function jb(a,A){return(a.lanes&A)!==0?!0:(a=a.dependencies,!!(a!==null&&Xd(a)))}function fU(a,A,u){switch(A.tag){case 3:Be(A,A.stateNode.containerInfo),PA(A,ls,a.memoizedState.cache),Ul();break;case 27:case 5:Oe(A);break;case 4:Be(A,A.stateNode.containerInfo);break;case 10:PA(A,A.type,A.memoizedProps.value);break;case 31:if(A.memoizedState!==null)return A.flags|=128,nn(A),null;break;case 13:var f=A.memoizedState;if(f!==null)return f.dehydrated!==null?(cs(A),A.flags|=128,null):(u&A.child.childLanes)!==0?k4(a,A,u):(cs(A),a=Rl(a,A,u),a!==null?a.sibling:null);cs(A);break;case 19:var b=(a.flags&128)!==0;if(f=(u&A.childLanes)!==0,f||(HA(a,A,u,!1),f=(u&A.childLanes)!==0),b){if(f)return L4(a,A,u);A.flags|=128}if(b=A.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),q(Kr,Kr.current),f)break;return null;case 22:return A.lanes=0,S4(a,A,u,A.pendingProps);case 24:PA(A,ls,a.memoizedState.cache)}return Rl(a,A,u)}function R4(a,A,u){if(a!==null)if(a.memoizedProps!==A.pendingProps)Ds=!0;else{if(!jb(a,u)&&(A.flags&128)===0)return Ds=!1,fU(a,A,u);Ds=(a.flags&131072)!==0}else Ds=!1,kr&&(A.flags&1048576)!==0&&bm(A,Pu,A.index);switch(A.lanes=0,A.tag){case 16:e:{var f=A.pendingProps;if(a=Te(A.elementType),A.type=a,typeof a=="function")Vd(a)?(f=qu(a,f),A.tag=1,A=U4(null,A,a,f,u)):(A.tag=0,A=Bb(null,A,a,f,u));else{if(a!=null){var b=a.$$typeof;if(b===z){A.tag=11,A=_4(null,A,a,f,u);break e}else if(b===R){A.tag=14,A=C4(null,A,a,f,u);break e}}throw A=J(a)||a,Error(n(306,A,""))}}return A;case 0:return Bb(a,A,A.type,A.pendingProps,u);case 1:return f=A.type,b=qu(f,A.pendingProps),U4(a,A,f,b,u);case 3:e:{if(Be(A,A.stateNode.containerInfo),a===null)throw Error(n(387));f=A.pendingProps;var v=A.memoizedState;b=v.element,Pn(a,A),hs(A,f,null,u);var k=A.memoizedState;if(f=k.cache,PA(A,ls,f),f!==v.cache&&Fl(A,[ls],u,!0),Nn(),f=k.element,v.isDehydrated)if(v={element:f,isDehydrated:!1,cache:k.cache},A.updateQueue.baseState=v,A.memoizedState=v,A.flags&256){A=F4(a,A,f,u);break e}else if(f!==b){b=Ii(Error(n(424)),A),Bc(b),A=F4(a,A,f,u);break e}else{switch(a=A.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(Un=Fo(a.firstChild),Xs=A,kr=!0,Ta=null,Xn=!0,u=vr(A,null,f,u),A.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(Ul(),f===b){A=Rl(a,A,u);break e}Fa(a,A,f,u)}A=A.child}return A;case 26:return Tm(a,A),a===null?(u=$B(A.type,null,A.pendingProps,null))?A.memoizedState=u:kr||(u=A.type,a=A.pendingProps,f=$m(fe.current).createElement(u),f[bt]=A,f[wr]=a,ka(f,u,a),Mn(f),A.stateNode=f):A.memoizedState=$B(A.type,a.memoizedProps,A.pendingProps,a.memoizedState),null;case 27:return Oe(A),a===null&&kr&&(f=A.stateNode=zB(A.type,A.pendingProps,fe.current),Xs=A,Xn=!0,b=Un,Rc(A.type)?(l2=b,Un=Fo(f.firstChild)):Un=b),Fa(a,A,A.pendingProps.children,u),Tm(a,A),a===null&&(A.flags|=4194304),A.child;case 5:return a===null&&kr&&((b=f=Un)&&(f=KU(f,A.type,A.pendingProps,Xn),f!==null?(A.stateNode=f,Xs=A,Un=Fo(f.firstChild),Xn=!1,b=!0):b=!1),b||OA(A)),Oe(A),b=A.type,v=A.pendingProps,k=a!==null?a.memoizedProps:null,f=v.children,s2(b,v)?f=null:k!==null&&s2(b,k)&&(A.flags|=32),A.memoizedState!==null&&(b=Xf(a,A,ub,null,null,u),b0._currentValue=b),Tm(a,A),Fa(a,A,f,u),A.child;case 6:return a===null&&kr&&((a=u=Un)&&(u=zU(u,A.pendingProps,Xn),u!==null?(A.stateNode=u,Xs=A,Un=null,a=!0):a=!1),a||OA(A)),null;case 13:return k4(a,A,u);case 4:return Be(A,A.stateNode.containerInfo),f=A.pendingProps,a===null?A.child=Fn(A,null,f,u):Fa(a,A,f,u),A.child;case 11:return _4(a,A,A.type,A.pendingProps,u);case 7:return Fa(a,A,A.pendingProps,u),A.child;case 8:return Fa(a,A,A.pendingProps.children,u),A.child;case 12:return Fa(a,A,A.pendingProps.children,u),A.child;case 10:return f=A.pendingProps,PA(A,A.type,f.value),Fa(a,A,f.children,u),A.child;case 9:return b=A.type._context,f=A.pendingProps.children,VA(A),b=Ws(b),f=f(b),A.flags|=1,Fa(a,A,f,u),A.child;case 14:return C4(a,A,A.type,A.pendingProps,u);case 15:return E4(a,A,A.type,A.pendingProps,u);case 19:return L4(a,A,u);case 31:return hU(a,A,u);case 22:return S4(a,A,u,A.pendingProps);case 24:return VA(A),f=Ws(ls),a===null?(b=se(),b===null&&(b=kn,v=_c(),b.pooledCache=v,v.refCount++,v!==null&&(b.pooledCacheLanes|=u),b=v),A.memoizedState={parent:f,cache:b},ht(A),PA(A,ls,b)):((a.lanes&u)!==0&&(Pn(a,A),hs(A,null,null,u),Nn()),b=a.memoizedState,v=A.memoizedState,b.parent!==f?(b={parent:f,cache:f},A.memoizedState=b,A.lanes===0&&(A.memoizedState=A.updateQueue.baseState=b),PA(A,ls,f)):(f=v.cache,PA(A,ls,f),f!==b.cache&&Fl(A,[ls],u,!0))),Fa(a,A,A.pendingProps.children,u),A.child;case 29:throw A.pendingProps}throw Error(n(156,A.tag))}function Dl(a){a.flags|=4}function Tb(a,A,u,f,b){if((A=(a.mode&32)!==0)&&(A=!1),A){if(a.flags|=16777216,(b&335544128)===b)if(a.stateNode.complete)a.flags|=8192;else if(cB())a.flags|=8192;else throw ze=Ne,Fe}else a.flags&=-16777217}function D4(a,A){if(A.type!=="stylesheet"||(A.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!ZB(A))if(cB())a.flags|=8192;else throw ze=Ne,Fe}function Fm(a,A){A!==null&&(a.flags|=4),a.flags&16384&&(A=a.tag!==22?jn():536870912,a.lanes|=A,ch|=A)}function a0(a,A){if(!kr)switch(a.tailMode){case"hidden":A=a.tail;for(var u=null;A!==null;)A.alternate!==null&&(u=A),A=A.sibling;u===null?a.tail=null:u.sibling=null;break;case"collapsed":u=a.tail;for(var f=null;u!==null;)u.alternate!==null&&(f=u),u=u.sibling;f===null?A||a.tail===null?a.tail=null:a.tail.sibling=null:f.sibling=null}}function Kn(a){var A=a.alternate!==null&&a.alternate.child===a.child,u=0,f=0;if(A)for(var b=a.child;b!==null;)u|=b.lanes|b.childLanes,f|=b.subtreeFlags&65011712,f|=b.flags&65011712,b.return=a,b=b.sibling;else for(b=a.child;b!==null;)u|=b.lanes|b.childLanes,f|=b.subtreeFlags,f|=b.flags,b.return=a,b=b.sibling;return a.subtreeFlags|=f,a.childLanes=u,A}function gU(a,A,u){var f=A.pendingProps;switch(Gd(A),A.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Kn(A),null;case 1:return Kn(A),null;case 3:return u=A.stateNode,f=null,a!==null&&(f=a.memoizedState.cache),A.memoizedState.cache!==f&&(A.flags|=2048),ki(ls),_e(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(a===null||a.child===null)&&(Ys(A)?Dl(A):a===null||a.memoizedState.isDehydrated&&(A.flags&256)===0||(A.flags|=1024,Gf())),Kn(A),null;case 26:var b=A.type,v=A.memoizedState;return a===null?(Dl(A),v!==null?(Kn(A),D4(A,v)):(Kn(A),Tb(A,b,null,f,u))):v?v!==a.memoizedState?(Dl(A),Kn(A),D4(A,v)):(Kn(A),A.flags&=-16777217):(a=a.memoizedProps,a!==f&&Dl(A),Kn(A),Tb(A,b,a,f,u)),null;case 27:if(He(A),u=fe.current,b=A.type,a!==null&&A.stateNode!=null)a.memoizedProps!==f&&Dl(A);else{if(!f){if(A.stateNode===null)throw Error(n(166));return Kn(A),null}a=te.current,Ys(A)?qf(A):(a=zB(b,f,u),A.stateNode=a,Dl(A))}return Kn(A),null;case 5:if(He(A),b=A.type,a!==null&&A.stateNode!=null)a.memoizedProps!==f&&Dl(A);else{if(!f){if(A.stateNode===null)throw Error(n(166));return Kn(A),null}if(v=te.current,Ys(A))qf(A);else{var k=$m(fe.current);switch(v){case 1:v=k.createElementNS("http://www.w3.org/2000/svg",b);break;case 2:v=k.createElementNS("http://www.w3.org/1998/Math/MathML",b);break;default:switch(b){case"svg":v=k.createElementNS("http://www.w3.org/2000/svg",b);break;case"math":v=k.createElementNS("http://www.w3.org/1998/Math/MathML",b);break;case"script":v=k.createElement("div"),v.innerHTML="<script><\/script>",v=v.removeChild(v.firstChild);break;case"select":v=typeof f.is=="string"?k.createElement("select",{is:f.is}):k.createElement("select"),f.multiple?v.multiple=!0:f.size&&(v.size=f.size);break;default:v=typeof f.is=="string"?k.createElement(b,{is:f.is}):k.createElement(b)}}v[bt]=A,v[wr]=f;e:for(k=A.child;k!==null;){if(k.tag===5||k.tag===6)v.appendChild(k.stateNode);else if(k.tag!==4&&k.tag!==27&&k.child!==null){k.child.return=k,k=k.child;continue}if(k===A)break e;for(;k.sibling===null;){if(k.return===null||k.return===A)break e;k=k.return}k.sibling.return=k.return,k=k.sibling}A.stateNode=v;e:switch(ka(v,b,f),b){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}f&&Dl(A)}}return Kn(A),Tb(A,A.type,a===null?null:a.memoizedProps,A.pendingProps,u),null;case 6:if(a&&A.stateNode!=null)a.memoizedProps!==f&&Dl(A);else{if(typeof f!="string"&&A.stateNode===null)throw Error(n(166));if(a=fe.current,Ys(A)){if(a=A.stateNode,u=A.memoizedProps,f=null,b=Xs,b!==null)switch(b.tag){case 27:case 5:f=b.memoizedProps}a[bt]=A,a=!!(a.nodeValue===u||f!==null&&f.suppressHydrationWarning===!0||kB(a.nodeValue,u)),a||OA(A,!0)}else a=$m(a).createTextNode(f),a[bt]=A,A.stateNode=a}return Kn(A),null;case 31:if(u=A.memoizedState,a===null||a.memoizedState!==null){if(f=Ys(A),u!==null){if(a===null){if(!f)throw Error(n(318));if(a=A.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(557));a[bt]=A}else Ul(),(A.flags&128)===0&&(A.memoizedState=null),A.flags|=4;Kn(A),a=!1}else u=Gf(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=u),a=!0;if(!a)return A.flags&256?(dn(A),A):(dn(A),null);if((A.flags&128)!==0)throw Error(n(558))}return Kn(A),null;case 13:if(f=A.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(b=Ys(A),f!==null&&f.dehydrated!==null){if(a===null){if(!b)throw Error(n(318));if(b=A.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(n(317));b[bt]=A}else Ul(),(A.flags&128)===0&&(A.memoizedState=null),A.flags|=4;Kn(A),b=!1}else b=Gf(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=b),b=!0;if(!b)return A.flags&256?(dn(A),A):(dn(A),null)}return dn(A),(A.flags&128)!==0?(A.lanes=u,A):(u=f!==null,a=a!==null&&a.memoizedState!==null,u&&(f=A.child,b=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(b=f.alternate.memoizedState.cachePool.pool),v=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(v=f.memoizedState.cachePool.pool),v!==b&&(f.flags|=2048)),u!==a&&u&&(A.child.flags|=8192),Fm(A,A.updateQueue),Kn(A),null);case 4:return _e(),a===null&&Zb(A.stateNode.containerInfo),Kn(A),null;case 10:return ki(A.type),Kn(A),null;case 19:if(D(Kr),f=A.memoizedState,f===null)return Kn(A),null;if(b=(A.flags&128)!==0,v=f.rendering,v===null)if(b)a0(f,!1);else{if(xs!==0||a!==null&&(a.flags&128)!==0)for(a=A.child;a!==null;){if(v=fa(a),v!==null){for(A.flags|=128,a0(f,!1),a=v.updateQueue,A.updateQueue=a,Fm(A,a),A.subtreeFlags=0,a=u,u=A.child;u!==null;)Ou(u,a),u=u.sibling;return q(Kr,Kr.current&1|2),kr&&gi(A,f.treeForkCount),A.child}a=a.sibling}f.tail!==null&&Yt()>Dm&&(A.flags|=128,b=!0,a0(f,!1),A.lanes=4194304)}else{if(!b)if(a=fa(v),a!==null){if(A.flags|=128,b=!0,a=a.updateQueue,A.updateQueue=a,Fm(A,a),a0(f,!0),f.tail===null&&f.tailMode==="hidden"&&!v.alternate&&!kr)return Kn(A),null}else 2*Yt()-f.renderingStartTime>Dm&&u!==536870912&&(A.flags|=128,b=!0,a0(f,!1),A.lanes=4194304);f.isBackwards?(v.sibling=A.child,A.child=v):(a=f.last,a!==null?a.sibling=v:A.child=v,f.last=v)}return f.tail!==null?(a=f.tail,f.rendering=a,f.tail=a.sibling,f.renderingStartTime=Yt(),a.sibling=null,u=Kr.current,q(Kr,b?u&1|2:u&1),kr&&gi(A,f.treeForkCount),a):(Kn(A),null);case 22:case 23:return dn(A),_s(),f=A.memoizedState!==null,a!==null?a.memoizedState!==null!==f&&(A.flags|=8192):f&&(A.flags|=8192),f?(u&536870912)!==0&&(A.flags&128)===0&&(Kn(A),A.subtreeFlags&6&&(A.flags|=8192)):Kn(A),u=A.updateQueue,u!==null&&Fm(A,u.retryQueue),u=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),f=null,A.memoizedState!==null&&A.memoizedState.cachePool!==null&&(f=A.memoizedState.cachePool.pool),f!==u&&(A.flags|=2048),a!==null&&D(W),null;case 24:return u=null,a!==null&&(u=a.memoizedState.cache),A.memoizedState.cache!==u&&(A.flags|=2048),ki(ls),Kn(A),null;case 25:return null;case 30:return null}throw Error(n(156,A.tag))}function mU(a,A){switch(Gd(A),A.tag){case 1:return a=A.flags,a&65536?(A.flags=a&-65537|128,A):null;case 3:return ki(ls),_e(),a=A.flags,(a&65536)!==0&&(a&128)===0?(A.flags=a&-65537|128,A):null;case 26:case 27:case 5:return He(A),null;case 31:if(A.memoizedState!==null){if(dn(A),A.alternate===null)throw Error(n(340));Ul()}return a=A.flags,a&65536?(A.flags=a&-65537|128,A):null;case 13:if(dn(A),a=A.memoizedState,a!==null&&a.dehydrated!==null){if(A.alternate===null)throw Error(n(340));Ul()}return a=A.flags,a&65536?(A.flags=a&-65537|128,A):null;case 19:return D(Kr),null;case 4:return _e(),null;case 10:return ki(A.type),null;case 22:case 23:return dn(A),_s(),a!==null&&D(W),a=A.flags,a&65536?(A.flags=a&-65537|128,A):null;case 24:return ki(ls),null;case 25:return null;default:return null}}function O4(a,A){switch(Gd(A),A.tag){case 3:ki(ls),_e();break;case 26:case 27:case 5:He(A);break;case 4:_e();break;case 31:A.memoizedState!==null&&dn(A);break;case 13:dn(A);break;case 19:D(Kr);break;case 10:ki(A.type);break;case 22:case 23:dn(A),_s(),a!==null&&D(W);break;case 24:ki(ls)}}function i0(a,A){try{var u=A.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var b=f.next;u=b;do{if((u.tag&a)===a){f=void 0;var v=u.create,k=u.inst;f=v(),k.destroy=f}u=u.next}while(u!==b)}}catch(ee){fn(A,A.return,ee)}}function jc(a,A,u){try{var f=A.updateQueue,b=f!==null?f.lastEffect:null;if(b!==null){var v=b.next;f=v;do{if((f.tag&a)===a){var k=f.inst,ee=k.destroy;if(ee!==void 0){k.destroy=void 0,b=A;var pe=u,Qe=ee;try{Qe()}catch(Xe){fn(b,pe,Xe)}}}f=f.next}while(f!==v)}}catch(Xe){fn(A,A.return,Xe)}}function M4(a){var A=a.updateQueue;if(A!==null){var u=a.stateNode;try{fs(A,u)}catch(f){fn(a,a.return,f)}}}function P4(a,A,u){u.props=qu(a.type,a.memoizedProps),u.state=a.memoizedState;try{u.componentWillUnmount()}catch(f){fn(a,A,f)}}function o0(a,A){try{var u=a.ref;if(u!==null){switch(a.tag){case 26:case 27:case 5:var f=a.stateNode;break;case 30:f=a.stateNode;break;default:f=a.stateNode}typeof u=="function"?a.refCleanup=u(f):u.current=f}}catch(b){fn(a,A,b)}}function $A(a,A){var u=a.ref,f=a.refCleanup;if(u!==null)if(typeof f=="function")try{f()}catch(b){fn(a,A,b)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(b){fn(a,A,b)}else u.current=null}function H4(a){var A=a.type,u=a.memoizedProps,f=a.stateNode;try{e:switch(A){case"button":case"input":case"select":case"textarea":u.autoFocus&&f.focus();break e;case"img":u.src?f.src=u.src:u.srcSet&&(f.srcset=u.srcSet)}}catch(b){fn(a,a.return,b)}}function Ub(a,A,u){try{var f=a.stateNode;DU(f,a.type,u,A),f[wr]=A}catch(b){fn(a,a.return,b)}}function V4(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&Rc(a.type)||a.tag===4}function Fb(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||V4(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&Rc(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function kb(a,A,u){var f=a.tag;if(f===5||f===6)a=a.stateNode,A?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(a,A):(A=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,A.appendChild(a),u=u._reactRootContainer,u!=null||A.onclick!==null||(A.onclick=Ai));else if(f!==4&&(f===27&&Rc(a.type)&&(u=a.stateNode,A=null),a=a.child,a!==null))for(kb(a,A,u),a=a.sibling;a!==null;)kb(a,A,u),a=a.sibling}function km(a,A,u){var f=a.tag;if(f===5||f===6)a=a.stateNode,A?u.insertBefore(a,A):u.appendChild(a);else if(f!==4&&(f===27&&Rc(a.type)&&(u=a.stateNode),a=a.child,a!==null))for(km(a,A,u),a=a.sibling;a!==null;)km(a,A,u),a=a.sibling}function K4(a){var A=a.stateNode,u=a.memoizedProps;try{for(var f=a.type,b=A.attributes;b.length;)A.removeAttributeNode(b[0]);ka(A,f,u),A[bt]=a,A[wr]=u}catch(v){fn(a,a.return,v)}}var Ol=!1,Os=!1,Qb=!1,z4=typeof WeakSet=="function"?WeakSet:Set,ga=null;function pU(a,A){if(a=a.containerInfo,r2=tp,a=nA(a),So(a)){if("selectionStart"in a)var u={start:a.selectionStart,end:a.selectionEnd};else e:{u=(u=a.ownerDocument)&&u.defaultView||window;var f=u.getSelection&&u.getSelection();if(f&&f.rangeCount!==0){u=f.anchorNode;var b=f.anchorOffset,v=f.focusNode;f=f.focusOffset;try{u.nodeType,v.nodeType}catch{u=null;break e}var k=0,ee=-1,pe=-1,Qe=0,Xe=0,Ze=a,Re=null;t:for(;;){for(var Ve;Ze!==u||b!==0&&Ze.nodeType!==3||(ee=k+b),Ze!==v||f!==0&&Ze.nodeType!==3||(pe=k+f),Ze.nodeType===3&&(k+=Ze.nodeValue.length),(Ve=Ze.firstChild)!==null;)Re=Ze,Ze=Ve;for(;;){if(Ze===a)break t;if(Re===u&&++Qe===b&&(ee=k),Re===v&&++Xe===f&&(pe=k),(Ve=Ze.nextSibling)!==null)break;Ze=Re,Re=Ze.parentNode}Ze=Ve}u=ee===-1||pe===-1?null:{start:ee,end:pe}}else u=null}u=u||{start:0,end:0}}else u=null;for(n2={focusedElem:a,selectionRange:u},tp=!1,ga=A;ga!==null;)if(A=ga,a=A.child,(A.subtreeFlags&1028)!==0&&a!==null)a.return=A,ga=a;else for(;ga!==null;){switch(A=ga,v=A.alternate,a=A.flags,A.tag){case 0:if((a&4)!==0&&(a=A.updateQueue,a=a!==null?a.events:null,a!==null))for(u=0;u<a.length;u++)b=a[u],b.ref.impl=b.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&v!==null){a=void 0,u=A,b=v.memoizedProps,v=v.memoizedState,f=u.stateNode;try{var Ot=qu(u.type,b);a=f.getSnapshotBeforeUpdate(Ot,v),f.__reactInternalSnapshotBeforeUpdate=a}catch(lr){fn(u,u.return,lr)}}break;case 3:if((a&1024)!==0){if(a=A.stateNode.containerInfo,u=a.nodeType,u===9)i2(a);else if(u===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":i2(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(n(163))}if(a=A.sibling,a!==null){a.return=A.return,ga=a;break}ga=A.return}}function q4(a,A,u){var f=u.flags;switch(u.tag){case 0:case 11:case 15:Pl(a,u),f&4&&i0(5,u);break;case 1:if(Pl(a,u),f&4)if(a=u.stateNode,A===null)try{a.componentDidMount()}catch(k){fn(u,u.return,k)}else{var b=qu(u.type,A.memoizedProps);A=A.memoizedState;try{a.componentDidUpdate(b,A,a.__reactInternalSnapshotBeforeUpdate)}catch(k){fn(u,u.return,k)}}f&64&&M4(u),f&512&&o0(u,u.return);break;case 3:if(Pl(a,u),f&64&&(a=u.updateQueue,a!==null)){if(A=null,u.child!==null)switch(u.child.tag){case 27:case 5:A=u.child.stateNode;break;case 1:A=u.child.stateNode}try{fs(a,A)}catch(k){fn(u,u.return,k)}}break;case 27:A===null&&f&4&&K4(u);case 26:case 5:Pl(a,u),A===null&&f&4&&H4(u),f&512&&o0(u,u.return);break;case 12:Pl(a,u);break;case 31:Pl(a,u),f&4&&X4(a,u);break;case 13:Pl(a,u),f&4&&Y4(a,u),f&64&&(a=u.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(u=CU.bind(null,u),qU(a,u))));break;case 22:if(f=u.memoizedState!==null||Ol,!f){A=A!==null&&A.memoizedState!==null||Os,b=Ol;var v=Os;Ol=f,(Os=A)&&!v?Hl(a,u,(u.subtreeFlags&8772)!==0):Pl(a,u),Ol=b,Os=v}break;case 30:break;default:Pl(a,u)}}function G4(a){var A=a.alternate;A!==null&&(a.alternate=null,G4(A)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(A=a.stateNode,A!==null&&Gi(A)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var Jn=null,Li=!1;function Ml(a,A,u){for(u=u.child;u!==null;)$4(a,A,u),u=u.sibling}function $4(a,A,u){if(ct&&typeof ct.onCommitFiberUnmount=="function")try{ct.onCommitFiberUnmount(ft,u)}catch{}switch(u.tag){case 26:Os||$A(u,A),Ml(a,A,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:Os||$A(u,A);var f=Jn,b=Li;Rc(u.type)&&(Jn=u.stateNode,Li=!1),Ml(a,A,u),m0(u.stateNode),Jn=f,Li=b;break;case 5:Os||$A(u,A);case 6:if(f=Jn,b=Li,Jn=null,Ml(a,A,u),Jn=f,Li=b,Jn!==null)if(Li)try{(Jn.nodeType===9?Jn.body:Jn.nodeName==="HTML"?Jn.ownerDocument.body:Jn).removeChild(u.stateNode)}catch(v){fn(u,A,v)}else try{Jn.removeChild(u.stateNode)}catch(v){fn(u,A,v)}break;case 18:Jn!==null&&(Li?(a=Jn,MB(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,u.stateNode),xh(a)):MB(Jn,u.stateNode));break;case 4:f=Jn,b=Li,Jn=u.stateNode.containerInfo,Li=!0,Ml(a,A,u),Jn=f,Li=b;break;case 0:case 11:case 14:case 15:jc(2,u,A),Os||jc(4,u,A),Ml(a,A,u);break;case 1:Os||($A(u,A),f=u.stateNode,typeof f.componentWillUnmount=="function"&&P4(u,A,f)),Ml(a,A,u);break;case 21:Ml(a,A,u);break;case 22:Os=(f=Os)||u.memoizedState!==null,Ml(a,A,u),Os=f;break;default:Ml(a,A,u)}}function X4(a,A){if(A.memoizedState===null&&(a=A.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{xh(a)}catch(u){fn(A,A.return,u)}}}function Y4(a,A){if(A.memoizedState===null&&(a=A.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{xh(a)}catch(u){fn(A,A.return,u)}}function xU(a){switch(a.tag){case 31:case 13:case 19:var A=a.stateNode;return A===null&&(A=a.stateNode=new z4),A;case 22:return a=a.stateNode,A=a._retryCache,A===null&&(A=a._retryCache=new z4),A;default:throw Error(n(435,a.tag))}}function Qm(a,A){var u=xU(a);A.forEach(function(f){if(!u.has(f)){u.add(f);var b=EU.bind(null,a,f);f.then(b,b)}})}function Ri(a,A){var u=A.deletions;if(u!==null)for(var f=0;f<u.length;f++){var b=u[f],v=a,k=A,ee=k;e:for(;ee!==null;){switch(ee.tag){case 27:if(Rc(ee.type)){Jn=ee.stateNode,Li=!1;break e}break;case 5:Jn=ee.stateNode,Li=!1;break e;case 3:case 4:Jn=ee.stateNode.containerInfo,Li=!0;break e}ee=ee.return}if(Jn===null)throw Error(n(160));$4(v,k,b),Jn=null,Li=!1,v=b.alternate,v!==null&&(v.return=null),b.return=null}if(A.subtreeFlags&13886)for(A=A.child;A!==null;)W4(A,a),A=A.sibling}var uA=null;function W4(a,A){var u=a.alternate,f=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:Ri(A,a),Di(a),f&4&&(jc(3,a,a.return),i0(3,a),jc(5,a,a.return));break;case 1:Ri(A,a),Di(a),f&512&&(Os||u===null||$A(u,u.return)),f&64&&Ol&&(a=a.updateQueue,a!==null&&(f=a.callbacks,f!==null&&(u=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=u===null?f:u.concat(f))));break;case 26:var b=uA;if(Ri(A,a),Di(a),f&512&&(Os||u===null||$A(u,u.return)),f&4){var v=u!==null?u.memoizedState:null;if(f=a.memoizedState,u===null)if(f===null)if(a.stateNode===null){e:{f=a.type,u=a.memoizedProps,b=b.ownerDocument||b;t:switch(f){case"title":v=b.getElementsByTagName("title")[0],(!v||v[ia]||v[bt]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=b.createElement(f),b.head.insertBefore(v,b.querySelector("head > title"))),ka(v,f,u),v[bt]=a,Mn(v),f=v;break e;case"link":var k=WB("link","href",b).get(f+(u.href||""));if(k){for(var ee=0;ee<k.length;ee++)if(v=k[ee],v.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&v.getAttribute("rel")===(u.rel==null?null:u.rel)&&v.getAttribute("title")===(u.title==null?null:u.title)&&v.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){k.splice(ee,1);break t}}v=b.createElement(f),ka(v,f,u),b.head.appendChild(v);break;case"meta":if(k=WB("meta","content",b).get(f+(u.content||""))){for(ee=0;ee<k.length;ee++)if(v=k[ee],v.getAttribute("content")===(u.content==null?null:""+u.content)&&v.getAttribute("name")===(u.name==null?null:u.name)&&v.getAttribute("property")===(u.property==null?null:u.property)&&v.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&v.getAttribute("charset")===(u.charSet==null?null:u.charSet)){k.splice(ee,1);break t}}v=b.createElement(f),ka(v,f,u),b.head.appendChild(v);break;default:throw Error(n(468,f))}v[bt]=a,Mn(v),f=v}a.stateNode=f}else JB(b,a.type,a.stateNode);else a.stateNode=YB(b,f,a.memoizedProps);else v!==f?(v===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):v.count--,f===null?JB(b,a.type,a.stateNode):YB(b,f,a.memoizedProps)):f===null&&a.stateNode!==null&&Ub(a,a.memoizedProps,u.memoizedProps)}break;case 27:Ri(A,a),Di(a),f&512&&(Os||u===null||$A(u,u.return)),u!==null&&f&4&&Ub(a,a.memoizedProps,u.memoizedProps);break;case 5:if(Ri(A,a),Di(a),f&512&&(Os||u===null||$A(u,u.return)),a.flags&32){b=a.stateNode;try{vs(b,"")}catch(Ot){fn(a,a.return,Ot)}}f&4&&a.stateNode!=null&&(b=a.memoizedProps,Ub(a,b,u!==null?u.memoizedProps:b)),f&1024&&(Qb=!0);break;case 6:if(Ri(A,a),Di(a),f&4){if(a.stateNode===null)throw Error(n(162));f=a.memoizedProps,u=a.stateNode;try{u.nodeValue=f}catch(Ot){fn(a,a.return,Ot)}}break;case 3:if(Wm=null,b=uA,uA=Xm(A.containerInfo),Ri(A,a),uA=b,Di(a),f&4&&u!==null&&u.memoizedState.isDehydrated)try{xh(A.containerInfo)}catch(Ot){fn(a,a.return,Ot)}Qb&&(Qb=!1,J4(a));break;case 4:f=uA,uA=Xm(a.stateNode.containerInfo),Ri(A,a),Di(a),uA=f;break;case 12:Ri(A,a),Di(a);break;case 31:Ri(A,a),Di(a),f&4&&(f=a.updateQueue,f!==null&&(a.updateQueue=null,Qm(a,f)));break;case 13:Ri(A,a),Di(a),a.child.flags&8192&&a.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(Rm=Yt()),f&4&&(f=a.updateQueue,f!==null&&(a.updateQueue=null,Qm(a,f)));break;case 22:b=a.memoizedState!==null;var pe=u!==null&&u.memoizedState!==null,Qe=Ol,Xe=Os;if(Ol=Qe||b,Os=Xe||pe,Ri(A,a),Os=Xe,Ol=Qe,Di(a),f&8192)e:for(A=a.stateNode,A._visibility=b?A._visibility&-2:A._visibility|1,b&&(u===null||pe||Ol||Os||Gu(a)),u=null,A=a;;){if(A.tag===5||A.tag===26){if(u===null){pe=u=A;try{if(v=pe.stateNode,b)k=v.style,typeof k.setProperty=="function"?k.setProperty("display","none","important"):k.display="none";else{ee=pe.stateNode;var Ze=pe.memoizedProps.style,Re=Ze!=null&&Ze.hasOwnProperty("display")?Ze.display:null;ee.style.display=Re==null||typeof Re=="boolean"?"":(""+Re).trim()}}catch(Ot){fn(pe,pe.return,Ot)}}}else if(A.tag===6){if(u===null){pe=A;try{pe.stateNode.nodeValue=b?"":pe.memoizedProps}catch(Ot){fn(pe,pe.return,Ot)}}}else if(A.tag===18){if(u===null){pe=A;try{var Ve=pe.stateNode;b?PB(Ve,!0):PB(pe.stateNode,!1)}catch(Ot){fn(pe,pe.return,Ot)}}}else if((A.tag!==22&&A.tag!==23||A.memoizedState===null||A===a)&&A.child!==null){A.child.return=A,A=A.child;continue}if(A===a)break e;for(;A.sibling===null;){if(A.return===null||A.return===a)break e;u===A&&(u=null),A=A.return}u===A&&(u=null),A.sibling.return=A.return,A=A.sibling}f&4&&(f=a.updateQueue,f!==null&&(u=f.retryQueue,u!==null&&(f.retryQueue=null,Qm(a,u))));break;case 19:Ri(A,a),Di(a),f&4&&(f=a.updateQueue,f!==null&&(a.updateQueue=null,Qm(a,f)));break;case 30:break;case 21:break;default:Ri(A,a),Di(a)}}function Di(a){var A=a.flags;if(A&2){try{for(var u,f=a.return;f!==null;){if(V4(f)){u=f;break}f=f.return}if(u==null)throw Error(n(160));switch(u.tag){case 27:var b=u.stateNode,v=Fb(a);km(a,v,b);break;case 5:var k=u.stateNode;u.flags&32&&(vs(k,""),u.flags&=-33);var ee=Fb(a);km(a,ee,k);break;case 3:case 4:var pe=u.stateNode.containerInfo,Qe=Fb(a);kb(a,Qe,pe);break;default:throw Error(n(161))}}catch(Xe){fn(a,a.return,Xe)}a.flags&=-3}A&4096&&(a.flags&=-4097)}function J4(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var A=a;J4(A),A.tag===5&&A.flags&1024&&A.stateNode.reset(),a=a.sibling}}function Pl(a,A){if(A.subtreeFlags&8772)for(A=A.child;A!==null;)q4(a,A.alternate,A),A=A.sibling}function Gu(a){for(a=a.child;a!==null;){var A=a;switch(A.tag){case 0:case 11:case 14:case 15:jc(4,A,A.return),Gu(A);break;case 1:$A(A,A.return);var u=A.stateNode;typeof u.componentWillUnmount=="function"&&P4(A,A.return,u),Gu(A);break;case 27:m0(A.stateNode);case 26:case 5:$A(A,A.return),Gu(A);break;case 22:A.memoizedState===null&&Gu(A);break;case 30:Gu(A);break;default:Gu(A)}a=a.sibling}}function Hl(a,A,u){for(u=u&&(A.subtreeFlags&8772)!==0,A=A.child;A!==null;){var f=A.alternate,b=a,v=A,k=v.flags;switch(v.tag){case 0:case 11:case 15:Hl(b,v,u),i0(4,v);break;case 1:if(Hl(b,v,u),f=v,b=f.stateNode,typeof b.componentDidMount=="function")try{b.componentDidMount()}catch(Qe){fn(f,f.return,Qe)}if(f=v,b=f.updateQueue,b!==null){var ee=f.stateNode;try{var pe=b.shared.hiddenCallbacks;if(pe!==null)for(b.shared.hiddenCallbacks=null,b=0;b<pe.length;b++)ha(pe[b],ee)}catch(Qe){fn(f,f.return,Qe)}}u&&k&64&&M4(v),o0(v,v.return);break;case 27:K4(v);case 26:case 5:Hl(b,v,u),u&&f===null&&k&4&&H4(v),o0(v,v.return);break;case 12:Hl(b,v,u);break;case 31:Hl(b,v,u),u&&k&4&&X4(b,v);break;case 13:Hl(b,v,u),u&&k&4&&Y4(b,v);break;case 22:v.memoizedState===null&&Hl(b,v,u),o0(v,v.return);break;case 30:break;default:Hl(b,v,u)}A=A.sibling}}function Lb(a,A){var u=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),a=null,A.memoizedState!==null&&A.memoizedState.cachePool!==null&&(a=A.memoizedState.cachePool.pool),a!==u&&(a!=null&&a.refCount++,u!=null&&Hu(u))}function Rb(a,A){a=null,A.alternate!==null&&(a=A.alternate.memoizedState.cache),A=A.memoizedState.cache,A!==a&&(A.refCount++,a!=null&&Hu(a))}function dA(a,A,u,f){if(A.subtreeFlags&10256)for(A=A.child;A!==null;)Z4(a,A,u,f),A=A.sibling}function Z4(a,A,u,f){var b=A.flags;switch(A.tag){case 0:case 11:case 15:dA(a,A,u,f),b&2048&&i0(9,A);break;case 1:dA(a,A,u,f);break;case 3:dA(a,A,u,f),b&2048&&(a=null,A.alternate!==null&&(a=A.alternate.memoizedState.cache),A=A.memoizedState.cache,A!==a&&(A.refCount++,a!=null&&Hu(a)));break;case 12:if(b&2048){dA(a,A,u,f),a=A.stateNode;try{var v=A.memoizedProps,k=v.id,ee=v.onPostCommit;typeof ee=="function"&&ee(k,A.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(pe){fn(A,A.return,pe)}}else dA(a,A,u,f);break;case 31:dA(a,A,u,f);break;case 13:dA(a,A,u,f);break;case 23:break;case 22:v=A.stateNode,k=A.alternate,A.memoizedState!==null?v._visibility&2?dA(a,A,u,f):A0(a,A):v._visibility&2?dA(a,A,u,f):(v._visibility|=2,oh(a,A,u,f,(A.subtreeFlags&10256)!==0||!1)),b&2048&&Lb(k,A);break;case 24:dA(a,A,u,f),b&2048&&Rb(A.alternate,A);break;default:dA(a,A,u,f)}}function oh(a,A,u,f,b){for(b=b&&((A.subtreeFlags&10256)!==0||!1),A=A.child;A!==null;){var v=a,k=A,ee=u,pe=f,Qe=k.flags;switch(k.tag){case 0:case 11:case 15:oh(v,k,ee,pe,b),i0(8,k);break;case 23:break;case 22:var Xe=k.stateNode;k.memoizedState!==null?Xe._visibility&2?oh(v,k,ee,pe,b):A0(v,k):(Xe._visibility|=2,oh(v,k,ee,pe,b)),b&&Qe&2048&&Lb(k.alternate,k);break;case 24:oh(v,k,ee,pe,b),b&&Qe&2048&&Rb(k.alternate,k);break;default:oh(v,k,ee,pe,b)}A=A.sibling}}function A0(a,A){if(A.subtreeFlags&10256)for(A=A.child;A!==null;){var u=a,f=A,b=f.flags;switch(f.tag){case 22:A0(u,f),b&2048&&Lb(f.alternate,f);break;case 24:A0(u,f),b&2048&&Rb(f.alternate,f);break;default:A0(u,f)}A=A.sibling}}var l0=8192;function Ah(a,A,u){if(a.subtreeFlags&l0)for(a=a.child;a!==null;)eB(a,A,u),a=a.sibling}function eB(a,A,u){switch(a.tag){case 26:Ah(a,A,u),a.flags&l0&&a.memoizedState!==null&&sF(u,uA,a.memoizedState,a.memoizedProps);break;case 5:Ah(a,A,u);break;case 3:case 4:var f=uA;uA=Xm(a.stateNode.containerInfo),Ah(a,A,u),uA=f;break;case 22:a.memoizedState===null&&(f=a.alternate,f!==null&&f.memoizedState!==null?(f=l0,l0=16777216,Ah(a,A,u),l0=f):Ah(a,A,u));break;default:Ah(a,A,u)}}function tB(a){var A=a.alternate;if(A!==null&&(a=A.child,a!==null)){A.child=null;do A=a.sibling,a.sibling=null,a=A;while(a!==null)}}function c0(a){var A=a.deletions;if((a.flags&16)!==0){if(A!==null)for(var u=0;u<A.length;u++){var f=A[u];ga=f,nB(f,a)}tB(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)rB(a),a=a.sibling}function rB(a){switch(a.tag){case 0:case 11:case 15:c0(a),a.flags&2048&&jc(9,a,a.return);break;case 3:c0(a);break;case 12:c0(a);break;case 22:var A=a.stateNode;a.memoizedState!==null&&A._visibility&2&&(a.return===null||a.return.tag!==13)?(A._visibility&=-3,Lm(a)):c0(a);break;default:c0(a)}}function Lm(a){var A=a.deletions;if((a.flags&16)!==0){if(A!==null)for(var u=0;u<A.length;u++){var f=A[u];ga=f,nB(f,a)}tB(a)}for(a=a.child;a!==null;){switch(A=a,A.tag){case 0:case 11:case 15:jc(8,A,A.return),Lm(A);break;case 22:u=A.stateNode,u._visibility&2&&(u._visibility&=-3,Lm(A));break;default:Lm(A)}a=a.sibling}}function nB(a,A){for(;ga!==null;){var u=ga;switch(u.tag){case 0:case 11:case 15:jc(8,u,A);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var f=u.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:Hu(u.memoizedState.cache)}if(f=u.child,f!==null)f.return=u,ga=f;else e:for(u=a;ga!==null;){f=ga;var b=f.sibling,v=f.return;if(G4(f),f===u){ga=null;break e}if(b!==null){b.return=v,ga=b;break e}ga=v}}}var bU={getCacheForType:function(a){var A=Ws(ls),u=A.data.get(a);return u===void 0&&(u=a(),A.data.set(a,u)),u},cacheSignal:function(){return Ws(ls).controller.signal}},yU=typeof WeakMap=="function"?WeakMap:Map,sn=0,kn=null,Qr=null,Dr=0,hn=0,no=null,Tc=!1,lh=!1,Db=!1,Vl=0,xs=0,Uc=0,$u=0,Ob=0,so=0,ch=0,u0=null,Oi=null,Mb=!1,Rm=0,sB=0,Dm=1/0,Om=null,Fc=null,Zs=0,kc=null,uh=null,Kl=0,Pb=0,Hb=null,aB=null,d0=0,Vb=null;function ao(){return(sn&2)!==0&&Dr!==0?Dr&-Dr:ie.T!==null?Xb():Dt()}function iB(){if(so===0)if((Dr&536870912)===0||kr){var a=Ir;Ir<<=1,(Ir&3932160)===0&&(Ir=262144),so=a}else so=536870912;return a=Vn.current,a!==null&&(a.flags|=32),so}function Mi(a,A,u){(a===kn&&(hn===2||hn===9)||a.cancelPendingCommit!==null)&&(dh(a,0),Qc(a,Dr,so,!1)),Ft(a,u),((sn&2)===0||a!==kn)&&(a===kn&&((sn&2)===0&&($u|=u),xs===4&&Qc(a,Dr,so,!1)),XA(a))}function oB(a,A,u){if((sn&6)!==0)throw Error(n(327));var f=!u&&(A&127)===0&&(A&a.expiredLanes)===0||In(a,A),b=f?BU(a,A):zb(a,A,!0),v=f;do{if(b===0){lh&&!f&&Qc(a,A,0,!1);break}else{if(u=a.current.alternate,v&&!wU(u)){b=zb(a,A,!1),v=!1;continue}if(b===2){if(v=A,a.errorRecoveryDisabledLanes&v)var k=0;else k=a.pendingLanes&-536870913,k=k!==0?k:k&536870912?536870912:0;if(k!==0){A=k;e:{var ee=a;b=u0;var pe=ee.current.memoizedState.isDehydrated;if(pe&&(dh(ee,k).flags|=256),k=zb(ee,k,!1),k!==2){if(Db&&!pe){ee.errorRecoveryDisabledLanes|=v,$u|=v,b=4;break e}v=Oi,Oi=b,v!==null&&(Oi===null?Oi=v:Oi.push.apply(Oi,v))}b=k}if(v=!1,b!==2)continue}}if(b===1){dh(a,0),Qc(a,A,0,!0);break}e:{switch(f=a,v=b,v){case 0:case 1:throw Error(n(345));case 4:if((A&4194048)!==A)break;case 6:Qc(f,A,so,!Tc);break e;case 2:Oi=null;break;case 3:case 5:break;default:throw Error(n(329))}if((A&62914560)===A&&(b=Rm+300-Yt(),10<b)){if(Qc(f,A,so,!Tc),fr(f,0,!0)!==0)break e;Kl=A,f.timeoutHandle=DB(AB.bind(null,f,u,Oi,Om,Mb,A,so,$u,ch,Tc,v,"Throttled",-0,0),b);break e}AB(f,u,Oi,Om,Mb,A,so,$u,ch,Tc,v,null,-0,0)}}break}while(!0);XA(a)}function AB(a,A,u,f,b,v,k,ee,pe,Qe,Xe,Ze,Re,Ve){if(a.timeoutHandle=-1,Ze=A.subtreeFlags,Ze&8192||(Ze&16785408)===16785408){Ze={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ai},eB(A,v,Ze);var Ot=(v&62914560)===v?Rm-Yt():(v&4194048)===v?sB-Yt():0;if(Ot=aF(Ze,Ot),Ot!==null){Kl=v,a.cancelPendingCommit=Ot(mB.bind(null,a,A,v,u,f,b,k,ee,pe,Xe,Ze,null,Re,Ve)),Qc(a,v,k,!Qe);return}}mB(a,A,v,u,f,b,k,ee,pe)}function wU(a){for(var A=a;;){var u=A.tag;if((u===0||u===11||u===15)&&A.flags&16384&&(u=A.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var f=0;f<u.length;f++){var b=u[f],v=b.getSnapshot;b=b.value;try{if(!Gs(v(),b))return!1}catch{return!1}}if(u=A.child,A.subtreeFlags&16384&&u!==null)u.return=A,A=u;else{if(A===a)break;for(;A.sibling===null;){if(A.return===null||A.return===a)return!0;A=A.return}A.sibling.return=A.return,A=A.sibling}}return!0}function Qc(a,A,u,f){A&=~Ob,A&=~$u,a.suspendedLanes|=A,a.pingedLanes&=~A,f&&(a.warmLanes|=A),f=a.expirationTimes;for(var b=A;0<b;){var v=31-qt(b),k=1<<v;f[v]=-1,b&=~k}u!==0&&gt(a,u,A)}function Mm(){return(sn&6)===0?(h0(0),!1):!0}function Kb(){if(Qr!==null){if(hn===0)var a=Qr.return;else a=Qr,jo=MA=null,eh(a),tt=null,Vt=0,a=Qr;for(;a!==null;)O4(a.alternate,a),a=a.return;Qr=null}}function dh(a,A){var u=a.timeoutHandle;u!==-1&&(a.timeoutHandle=-1,PU(u)),u=a.cancelPendingCommit,u!==null&&(a.cancelPendingCommit=null,u()),Kl=0,Kb(),kn=a,Qr=u=Si(a.current,null),Dr=A,hn=0,no=null,Tc=!1,lh=In(a,A),Db=!1,ch=so=Ob=$u=Uc=xs=0,Oi=u0=null,Mb=!1,(A&8)!==0&&(A|=A&32);var f=a.entangledLanes;if(f!==0)for(a=a.entanglements,f&=A;0<f;){var b=31-qt(f),v=1<<b;A|=a[b],f&=~v}return Vl=A,Lu(),u}function lB(a,A){er=null,ie.H=n0,A===we||A===ce?(A=Ye(),hn=3):A===Fe?(A=Ye(),hn=4):hn=A===vb?8:A!==null&&typeof A=="object"&&typeof A.then=="function"?6:1,no=A,Qr===null&&(xs=1,Im(a,Ii(A,a.current)))}function cB(){var a=Vn.current;return a===null?!0:(Dr&4194048)===Dr?Gr===null:(Dr&62914560)===Dr||(Dr&536870912)!==0?a===Gr:!1}function uB(){var a=ie.H;return ie.H=n0,a===null?n0:a}function dB(){var a=ie.A;return ie.A=bU,a}function Pm(){xs=4,Tc||(Dr&4194048)!==Dr&&Vn.current!==null||(lh=!0),(Uc&134217727)===0&&($u&134217727)===0||kn===null||Qc(kn,Dr,so,!1)}function zb(a,A,u){var f=sn;sn|=2;var b=uB(),v=dB();(kn!==a||Dr!==A)&&(Om=null,dh(a,A)),A=!1;var k=xs;e:do try{if(hn!==0&&Qr!==null){var ee=Qr,pe=no;switch(hn){case 8:Kb(),k=6;break e;case 3:case 2:case 9:case 6:Vn.current===null&&(A=!0);var Qe=hn;if(hn=0,no=null,hh(a,ee,pe,Qe),u&&lh){k=0;break e}break;default:Qe=hn,hn=0,no=null,hh(a,ee,pe,Qe)}}vU(),k=xs;break}catch(Xe){lB(a,Xe)}while(!0);return A&&a.shellSuspendCounter++,jo=MA=null,sn=f,ie.H=b,ie.A=v,Qr===null&&(kn=null,Dr=0,Lu()),k}function vU(){for(;Qr!==null;)hB(Qr)}function BU(a,A){var u=sn;sn|=2;var f=uB(),b=dB();kn!==a||Dr!==A?(Om=null,Dm=Yt()+500,dh(a,A)):lh=In(a,A);e:do try{if(hn!==0&&Qr!==null){A=Qr;var v=no;t:switch(hn){case 1:hn=0,no=null,hh(a,A,v,1);break;case 2:case 9:if(je(v)){hn=0,no=null,fB(A);break}A=function(){hn!==2&&hn!==9||kn!==a||(hn=7),XA(a)},v.then(A,A);break e;case 3:hn=7;break e;case 4:hn=5;break e;case 7:je(v)?(hn=0,no=null,fB(A)):(hn=0,no=null,hh(a,A,v,7));break;case 5:var k=null;switch(Qr.tag){case 26:k=Qr.memoizedState;case 5:case 27:var ee=Qr;if(k?ZB(k):ee.stateNode.complete){hn=0,no=null;var pe=ee.sibling;if(pe!==null)Qr=pe;else{var Qe=ee.return;Qe!==null?(Qr=Qe,Hm(Qe)):Qr=null}break t}}hn=0,no=null,hh(a,A,v,5);break;case 6:hn=0,no=null,hh(a,A,v,6);break;case 8:Kb(),xs=6;break e;default:throw Error(n(462))}}NU();break}catch(Xe){lB(a,Xe)}while(!0);return jo=MA=null,ie.H=f,ie.A=b,sn=u,Qr!==null?0:(kn=null,Dr=0,Lu(),xs)}function NU(){for(;Qr!==null&&!Mt();)hB(Qr)}function hB(a){var A=R4(a.alternate,a,Vl);a.memoizedProps=a.pendingProps,A===null?Hm(a):Qr=A}function fB(a){var A=a,u=A.alternate;switch(A.tag){case 15:case 0:A=T4(u,A,A.pendingProps,A.type,void 0,Dr);break;case 11:A=T4(u,A,A.pendingProps,A.type.render,A.ref,Dr);break;case 5:eh(A);default:O4(u,A),A=Qr=Ou(A,Vl),A=R4(u,A,Vl)}a.memoizedProps=a.pendingProps,A===null?Hm(a):Qr=A}function hh(a,A,u,f){jo=MA=null,eh(A),tt=null,Vt=0;var b=A.return;try{if(dU(a,b,A,u,Dr)){xs=1,Im(a,Ii(u,a.current)),Qr=null;return}}catch(v){if(b!==null)throw Qr=b,v;xs=1,Im(a,Ii(u,a.current)),Qr=null;return}A.flags&32768?(kr||f===1?a=!0:lh||(Dr&536870912)!==0?a=!1:(Tc=a=!0,(f===2||f===9||f===3||f===6)&&(f=Vn.current,f!==null&&f.tag===13&&(f.flags|=16384))),gB(A,a)):Hm(A)}function Hm(a){var A=a;do{if((A.flags&32768)!==0){gB(A,Tc);return}a=A.return;var u=gU(A.alternate,A,Vl);if(u!==null){Qr=u;return}if(A=A.sibling,A!==null){Qr=A;return}Qr=A=a}while(A!==null);xs===0&&(xs=5)}function gB(a,A){do{var u=mU(a.alternate,a);if(u!==null){u.flags&=32767,Qr=u;return}if(u=a.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!A&&(a=a.sibling,a!==null)){Qr=a;return}Qr=a=u}while(a!==null);xs=6,Qr=null}function mB(a,A,u,f,b,v,k,ee,pe){a.cancelPendingCommit=null;do Vm();while(Zs!==0);if((sn&6)!==0)throw Error(n(327));if(A!==null){if(A===a.current)throw Error(n(177));if(v=A.lanes|A.childLanes,v|=Md,et(a,u,v,k,ee,pe),a===kn&&(Qr=kn=null,Dr=0),uh=A,kc=a,Kl=u,Pb=v,Hb=b,aB=f,(A.subtreeFlags&10256)!==0||(A.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,SU(dr,function(){return wB(),null})):(a.callbackNode=null,a.callbackPriority=0),f=(A.flags&13878)!==0,(A.subtreeFlags&13878)!==0||f){f=ie.T,ie.T=null,b=Z.p,Z.p=2,k=sn,sn|=4;try{pU(a,A,u)}finally{sn=k,Z.p=b,ie.T=f}}Zs=1,pB(),xB(),bB()}}function pB(){if(Zs===1){Zs=0;var a=kc,A=uh,u=(A.flags&13878)!==0;if((A.subtreeFlags&13878)!==0||u){u=ie.T,ie.T=null;var f=Z.p;Z.p=2;var b=sn;sn|=4;try{W4(A,a);var v=n2,k=nA(a.containerInfo),ee=v.focusedElem,pe=v.selectionRange;if(k!==ee&&ee&&ee.ownerDocument&&rA(ee.ownerDocument.documentElement,ee)){if(pe!==null&&So(ee)){var Qe=pe.start,Xe=pe.end;if(Xe===void 0&&(Xe=Qe),"selectionStart"in ee)ee.selectionStart=Qe,ee.selectionEnd=Math.min(Xe,ee.value.length);else{var Ze=ee.ownerDocument||document,Re=Ze&&Ze.defaultView||window;if(Re.getSelection){var Ve=Re.getSelection(),Ot=ee.textContent.length,lr=Math.min(pe.start,Ot),En=pe.end===void 0?lr:Math.min(pe.end,Ot);!Ve.extend&&lr>En&&(k=En,En=lr,lr=k);var Se=bc(ee,lr),ve=bc(ee,En);if(Se&&ve&&(Ve.rangeCount!==1||Ve.anchorNode!==Se.node||Ve.anchorOffset!==Se.offset||Ve.focusNode!==ve.node||Ve.focusOffset!==ve.offset)){var ke=Ze.createRange();ke.setStart(Se.node,Se.offset),Ve.removeAllRanges(),lr>En?(Ve.addRange(ke),Ve.extend(ve.node,ve.offset)):(ke.setEnd(ve.node,ve.offset),Ve.addRange(ke))}}}}for(Ze=[],Ve=ee;Ve=Ve.parentNode;)Ve.nodeType===1&&Ze.push({element:Ve,left:Ve.scrollLeft,top:Ve.scrollTop});for(typeof ee.focus=="function"&&ee.focus(),ee=0;ee<Ze.length;ee++){var We=Ze[ee];We.element.scrollLeft=We.left,We.element.scrollTop=We.top}}tp=!!r2,n2=r2=null}finally{sn=b,Z.p=f,ie.T=u}}a.current=A,Zs=2}}function xB(){if(Zs===2){Zs=0;var a=kc,A=uh,u=(A.flags&8772)!==0;if((A.subtreeFlags&8772)!==0||u){u=ie.T,ie.T=null;var f=Z.p;Z.p=2;var b=sn;sn|=4;try{q4(a,A.alternate,A)}finally{sn=b,Z.p=f,ie.T=u}}Zs=3}}function bB(){if(Zs===4||Zs===3){Zs=0,St();var a=kc,A=uh,u=Kl,f=aB;(A.subtreeFlags&10256)!==0||(A.flags&10256)!==0?Zs=5:(Zs=0,uh=kc=null,yB(a,a.pendingLanes));var b=a.pendingLanes;if(b===0&&(Fc=null),wt(u),A=A.stateNode,ct&&typeof ct.onCommitFiberRoot=="function")try{ct.onCommitFiberRoot(ft,A,void 0,(A.current.flags&128)===128)}catch{}if(f!==null){A=ie.T,b=Z.p,Z.p=2,ie.T=null;try{for(var v=a.onRecoverableError,k=0;k<f.length;k++){var ee=f[k];v(ee.value,{componentStack:ee.stack})}}finally{ie.T=A,Z.p=b}}(Kl&3)!==0&&Vm(),XA(a),b=a.pendingLanes,(u&261930)!==0&&(b&42)!==0?a===Vb?d0++:(d0=0,Vb=a):d0=0,h0(0)}}function yB(a,A){(a.pooledCacheLanes&=A)===0&&(A=a.pooledCache,A!=null&&(a.pooledCache=null,Hu(A)))}function Vm(){return pB(),xB(),bB(),wB()}function wB(){if(Zs!==5)return!1;var a=kc,A=Pb;Pb=0;var u=wt(Kl),f=ie.T,b=Z.p;try{Z.p=32>u?32:u,ie.T=null,u=Hb,Hb=null;var v=kc,k=Kl;if(Zs=0,uh=kc=null,Kl=0,(sn&6)!==0)throw Error(n(331));var ee=sn;if(sn|=4,rB(v.current),Z4(v,v.current,k,u),sn=ee,h0(0,!1),ct&&typeof ct.onPostCommitFiberRoot=="function")try{ct.onPostCommitFiberRoot(ft,v)}catch{}return!0}finally{Z.p=b,ie.T=f,yB(a,A)}}function vB(a,A,u){A=Ii(u,A),A=wb(a.stateNode,A,2),a=_r(a,A,2),a!==null&&(Ft(a,2),XA(a))}function fn(a,A,u){if(a.tag===3)vB(a,a,u);else for(;A!==null;){if(A.tag===3){vB(A,a,u);break}else if(A.tag===1){var f=A.stateNode;if(typeof A.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(Fc===null||!Fc.has(f))){a=Ii(u,a),u=B4(2),f=_r(A,u,2),f!==null&&(N4(u,f,A,a),Ft(f,2),XA(f));break}}A=A.return}}function qb(a,A,u){var f=a.pingCache;if(f===null){f=a.pingCache=new yU;var b=new Set;f.set(A,b)}else b=f.get(A),b===void 0&&(b=new Set,f.set(A,b));b.has(u)||(Db=!0,b.add(u),a=_U.bind(null,a,A,u),A.then(a,a))}function _U(a,A,u){var f=a.pingCache;f!==null&&f.delete(A),a.pingedLanes|=a.suspendedLanes&u,a.warmLanes&=~u,kn===a&&(Dr&u)===u&&(xs===4||xs===3&&(Dr&62914560)===Dr&&300>Yt()-Rm?(sn&2)===0&&dh(a,0):Ob|=u,ch===Dr&&(ch=0)),XA(a)}function BB(a,A){A===0&&(A=jn()),a=aA(a,A),a!==null&&(Ft(a,A),XA(a))}function CU(a){var A=a.memoizedState,u=0;A!==null&&(u=A.retryLane),BB(a,u)}function EU(a,A){var u=0;switch(a.tag){case 31:case 13:var f=a.stateNode,b=a.memoizedState;b!==null&&(u=b.retryLane);break;case 19:f=a.stateNode;break;case 22:f=a.stateNode._retryCache;break;default:throw Error(n(314))}f!==null&&f.delete(A),BB(a,u)}function SU(a,A){return st(a,A)}var Km=null,fh=null,Gb=!1,zm=!1,$b=!1,Lc=0;function XA(a){a!==fh&&a.next===null&&(fh===null?Km=fh=a:fh=fh.next=a),zm=!0,Gb||(Gb=!0,jU())}function h0(a,A){if(!$b&&zm){$b=!0;do for(var u=!1,f=Km;f!==null;){if(a!==0){var b=f.pendingLanes;if(b===0)var v=0;else{var k=f.suspendedLanes,ee=f.pingedLanes;v=(1<<31-qt(42|a)+1)-1,v&=b&~(k&~ee),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(u=!0,EB(f,v))}else v=Dr,v=fr(f,f===kn?v:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(v&3)===0||In(f,v)||(u=!0,EB(f,v));f=f.next}while(u);$b=!1}}function IU(){NB()}function NB(){zm=Gb=!1;var a=0;Lc!==0&&MU()&&(a=Lc);for(var A=Yt(),u=null,f=Km;f!==null;){var b=f.next,v=_B(f,A);v===0?(f.next=null,u===null?Km=b:u.next=b,b===null&&(fh=u)):(u=f,(a!==0||(v&3)!==0)&&(zm=!0)),f=b}Zs!==0&&Zs!==5||h0(a),Lc!==0&&(Lc=0)}function _B(a,A){for(var u=a.suspendedLanes,f=a.pingedLanes,b=a.expirationTimes,v=a.pendingLanes&-62914561;0<v;){var k=31-qt(v),ee=1<<k,pe=b[k];pe===-1?((ee&u)===0||(ee&f)!==0)&&(b[k]=Dn(ee,A)):pe<=A&&(a.expiredLanes|=ee),v&=~ee}if(A=kn,u=Dr,u=fr(a,a===A?u:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),f=a.callbackNode,u===0||a===A&&(hn===2||hn===9)||a.cancelPendingCommit!==null)return f!==null&&f!==null&&dt(f),a.callbackNode=null,a.callbackPriority=0;if((u&3)===0||In(a,u)){if(A=u&-u,A===a.callbackPriority)return A;switch(f!==null&&dt(f),wt(u)){case 2:case 8:u=ur;break;case 32:u=dr;break;case 268435456:u=hr;break;default:u=dr}return f=CB.bind(null,a),u=st(u,f),a.callbackPriority=A,a.callbackNode=u,A}return f!==null&&f!==null&&dt(f),a.callbackPriority=2,a.callbackNode=null,2}function CB(a,A){if(Zs!==0&&Zs!==5)return a.callbackNode=null,a.callbackPriority=0,null;var u=a.callbackNode;if(Vm()&&a.callbackNode!==u)return null;var f=Dr;return f=fr(a,a===kn?f:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),f===0?null:(oB(a,f,A),_B(a,Yt()),a.callbackNode!=null&&a.callbackNode===u?CB.bind(null,a):null)}function EB(a,A){if(Vm())return null;oB(a,A,!0)}function jU(){HU(function(){(sn&6)!==0?st(ar,IU):NB()})}function Xb(){if(Lc===0){var a=m;a===0&&(a=Pt,Pt<<=1,(Pt&261888)===0&&(Pt=256)),Lc=a}return Lc}function SB(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:Aa(""+a)}function IB(a,A){var u=A.ownerDocument.createElement("input");return u.name=A.name,u.value=A.value,a.id&&u.setAttribute("form",a.id),A.parentNode.insertBefore(u,A),a=new FormData(a),u.parentNode.removeChild(u),a}function TU(a,A,u,f,b){if(A==="submit"&&u&&u.stateNode===b){var v=SB((b[wr]||null).action),k=f.submitter;k&&(A=(A=k[wr]||null)?SB(A.formAction):k.getAttribute("formAction"),A!==null&&(v=A,k=null));var ee=new Qs("action","action",null,f,b);a.push({event:ee,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(Lc!==0){var pe=k?IB(b,k):new FormData(b);gb(u,{pending:!0,data:pe,method:b.method,action:v},null,pe)}}else typeof v=="function"&&(ee.preventDefault(),pe=k?IB(b,k):new FormData(b),gb(u,{pending:!0,data:pe,method:b.method,action:v},v,pe))},currentTarget:b}]})}}for(var Yb=0;Yb<Il.length;Yb++){var Wb=Il[Yb],UU=Wb.toLowerCase(),FU=Wb[0].toUpperCase()+Wb.slice(1);Ei(UU,"on"+FU)}Ei(Sl,"onAnimationEnd"),Ei(ku,"onAnimationIteration"),Ei(Hf,"onAnimationStart"),Ei("dblclick","onDoubleClick"),Ei("focusin","onFocus"),Ei("focusout","onBlur"),Ei(mm,"onTransitionRun"),Ei(pm,"onTransitionStart"),Ei(xm,"onTransitionCancel"),Ei(Vf,"onTransitionEnd"),oi("onMouseEnter",["mouseout","mouseover"]),oi("onMouseLeave",["mouseout","mouseover"]),oi("onPointerEnter",["pointerout","pointerover"]),oi("onPointerLeave",["pointerout","pointerover"]),Pa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Pa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Pa("onBeforeInput",["compositionend","keypress","textInput","paste"]),Pa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Pa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Pa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var f0="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kU=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(f0));function jB(a,A){A=(A&4)!==0;for(var u=0;u<a.length;u++){var f=a[u],b=f.event;f=f.listeners;e:{var v=void 0;if(A)for(var k=f.length-1;0<=k;k--){var ee=f[k],pe=ee.instance,Qe=ee.currentTarget;if(ee=ee.listener,pe!==v&&b.isPropagationStopped())break e;v=ee,b.currentTarget=Qe;try{v(b)}catch(Xe){Qu(Xe)}b.currentTarget=null,v=pe}else for(k=0;k<f.length;k++){if(ee=f[k],pe=ee.instance,Qe=ee.currentTarget,ee=ee.listener,pe!==v&&b.isPropagationStopped())break e;v=ee,b.currentTarget=Qe;try{v(b)}catch(Xe){Qu(Xe)}b.currentTarget=null,v=pe}}}}function Lr(a,A){var u=A[aa];u===void 0&&(u=A[aa]=new Set);var f=a+"__bubble";u.has(f)||(TB(A,a,2,!1),u.add(f))}function Jb(a,A,u){var f=0;A&&(f|=4),TB(u,a,f,A)}var qm="_reactListening"+Math.random().toString(36).slice(2);function Zb(a){if(!a[qm]){a[qm]=!0,SA.forEach(function(u){u!=="selectionchange"&&(kU.has(u)||Jb(u,!1,a),Jb(u,!0,a))});var A=a.nodeType===9?a:a.ownerDocument;A===null||A[qm]||(A[qm]=!0,Jb("selectionchange",!1,A))}}function TB(a,A,u,f){switch(iN(A)){case 2:var b=AF;break;case 8:b=lF;break;default:b=f2}u=b.bind(null,A,u,a),b=void 0,!Xo||A!=="touchstart"&&A!=="touchmove"&&A!=="wheel"||(b=!0),f?b!==void 0?a.addEventListener(A,u,{capture:!0,passive:b}):a.addEventListener(A,u,!0):b!==void 0?a.addEventListener(A,u,{passive:b}):a.addEventListener(A,u,!1)}function e2(a,A,u,f,b){var v=f;if((A&1)===0&&(A&2)===0&&f!==null)e:for(;;){if(f===null)return;var k=f.tag;if(k===3||k===4){var ee=f.stateNode.containerInfo;if(ee===b)break;if(k===4)for(k=f.return;k!==null;){var pe=k.tag;if((pe===3||pe===4)&&k.stateNode.containerInfo===b)return;k=k.return}for(;ee!==null;){if(k=va(ee),k===null)return;if(pe=k.tag,pe===5||pe===6||pe===26||pe===27){f=v=k;continue e}ee=ee.parentNode}}f=f.return}yo(function(){var Qe=v,Xe=la(u),Ze=[];e:{var Re=Kf.get(a);if(Re!==void 0){var Ve=Qs,Ot=a;switch(a){case"keypress":if(Ca(u)===0)break e;case"keydown":case"keyup":Ve=Ur;break;case"focusin":Ot="focus",Ve=ci;break;case"focusout":Ot="blur",Ve=ci;break;case"beforeblur":case"afterblur":Ve=ci;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ve=kA;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ve=_i;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ve=C;break;case Sl:case ku:case Hf:Ve=N;break;case Vf:Ve=ae;break;case"scroll":case"scrollend":Ve=wo;break;case"wheel":Ve=Le;break;case"copy":case"cut":case"paste":Ve=ue;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ve=ln;break;case"toggle":case"beforetoggle":Ve=mr}var lr=(A&4)!==0,En=!lr&&(a==="scroll"||a==="scrollend"),Se=lr?Re!==null?Re+"Capture":null:Re;lr=[];for(var ve=Qe,ke;ve!==null;){var We=ve;if(ke=We.stateNode,We=We.tag,We!==5&&We!==26&&We!==27||ke===null||Se===null||(We=Bs(ve,Se),We!=null&&lr.push(g0(ve,We,ke))),En)break;ve=ve.return}0<lr.length&&(Re=new Ve(Re,Ot,null,u,Xe),Ze.push({event:Re,listeners:lr}))}}if((A&7)===0){e:{if(Re=a==="mouseover"||a==="pointerover",Ve=a==="mouseout"||a==="pointerout",Re&&u!==Wi&&(Ot=u.relatedTarget||u.fromElement)&&(va(Ot)||Ot[On]))break e;if((Ve||Re)&&(Re=Xe.window===Xe?Xe:(Re=Xe.ownerDocument)?Re.defaultView||Re.parentWindow:window,Ve?(Ot=u.relatedTarget||u.toElement,Ve=Qe,Ot=Ot?va(Ot):null,Ot!==null&&(En=o(Ot),lr=Ot.tag,Ot!==En||lr!==5&&lr!==27&&lr!==6)&&(Ot=null)):(Ve=null,Ot=Qe),Ve!==Ot)){if(lr=kA,We="onMouseLeave",Se="onMouseEnter",ve="mouse",(a==="pointerout"||a==="pointerover")&&(lr=ln,We="onPointerLeave",Se="onPointerEnter",ve="pointer"),En=Ve==null?Re:Ba(Ve),ke=Ot==null?Re:Ba(Ot),Re=new lr(We,ve+"leave",Ve,u,Xe),Re.target=En,Re.relatedTarget=ke,We=null,va(Xe)===Qe&&(lr=new lr(Se,ve+"enter",Ot,u,Xe),lr.target=ke,lr.relatedTarget=En,We=lr),En=We,Ve&&Ot)t:{for(lr=QU,Se=Ve,ve=Ot,ke=0,We=Se;We;We=lr(We))ke++;We=0;for(var nr=ve;nr;nr=lr(nr))We++;for(;0<ke-We;)Se=lr(Se),ke--;for(;0<We-ke;)ve=lr(ve),We--;for(;ke--;){if(Se===ve||ve!==null&&Se===ve.alternate){lr=Se;break t}Se=lr(Se),ve=lr(ve)}lr=null}else lr=null;Ve!==null&&UB(Ze,Re,Ve,lr,!1),Ot!==null&&En!==null&&UB(Ze,En,Ot,lr,!0)}}e:{if(Re=Qe?Ba(Qe):window,Ve=Re.nodeName&&Re.nodeName.toLowerCase(),Ve==="select"||Ve==="input"&&Re.type==="file")var en=LA;else if(Uu(Re))if(Ka)en=Co;else{en=os;var $t=pc}else Ve=Re.nodeName,!Ve||Ve.toLowerCase()!=="input"||Re.type!=="checkbox"&&Re.type!=="radio"?Qe&&TA(Qe.elementType)&&(en=LA):en=Od;if(en&&(en=en(a,Qe))){di(Ze,en,u,Xe);break e}$t&&$t(a,Re,Qe),a==="focusout"&&Qe&&Re.type==="number"&&Qe.memoizedProps.value!=null&&wl(Re,"number",Re.value)}switch($t=Qe?Ba(Qe):window,a){case"focusin":(Uu($t)||$t.contentEditable==="true")&&(hi=$t,sA=Qe,ca=null);break;case"focusout":ca=sA=hi=null;break;case"mousedown":Ci=!0;break;case"contextmenu":case"mouseup":case"dragend":Ci=!1,Yr(Ze,u,Xe);break;case"selectionchange":if(El)break;case"keydown":case"keyup":Yr(Ze,u,Xe)}var Cr;if(Er)e:{switch(a){case"compositionstart":var Or="onCompositionStart";break e;case"compositionend":Or="onCompositionEnd";break e;case"compositionupdate":Or="onCompositionUpdate";break e}Or=void 0}else Bo?ui(a,u)&&(Or="onCompositionEnd"):a==="keydown"&&u.keyCode===229&&(Or="onCompositionStart");Or&&(zs&&u.locale!=="ko"&&(Bo||Or!=="onCompositionStart"?Or==="onCompositionEnd"&&Bo&&(Cr=_l()):(_a=Xe,Yo="value"in _a?_a.value:_a.textContent,Bo=!0)),$t=Gm(Qe,Or),0<$t.length&&(Or=new Ce(Or,a,null,u,Xe),Ze.push({event:Or,listeners:$t}),Cr?Or.data=Cr:(Cr=vo(u),Cr!==null&&(Or.data=Cr)))),(Cr=Ls?Ia(a,u):Jo(a,u))&&(Or=Gm(Qe,"onBeforeInput"),0<Or.length&&($t=new Ce("onBeforeInput","beforeinput",null,u,Xe),Ze.push({event:$t,listeners:Or}),$t.data=Cr)),TU(Ze,a,Qe,u,Xe)}jB(Ze,A)})}function g0(a,A,u){return{instance:a,listener:A,currentTarget:u}}function Gm(a,A){for(var u=A+"Capture",f=[];a!==null;){var b=a,v=b.stateNode;if(b=b.tag,b!==5&&b!==26&&b!==27||v===null||(b=Bs(a,u),b!=null&&f.unshift(g0(a,b,v)),b=Bs(a,A),b!=null&&f.push(g0(a,b,v))),a.tag===3)return f;a=a.return}return[]}function QU(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function UB(a,A,u,f,b){for(var v=A._reactName,k=[];u!==null&&u!==f;){var ee=u,pe=ee.alternate,Qe=ee.stateNode;if(ee=ee.tag,pe!==null&&pe===f)break;ee!==5&&ee!==26&&ee!==27||Qe===null||(pe=Qe,b?(Qe=Bs(u,v),Qe!=null&&k.unshift(g0(u,Qe,pe))):b||(Qe=Bs(u,v),Qe!=null&&k.push(g0(u,Qe,pe)))),u=u.return}k.length!==0&&a.push({event:A,listeners:k})}var LU=/\r\n?/g,RU=/\u0000|\uFFFD/g;function FB(a){return(typeof a=="string"?a:""+a).replace(LU,`
`).replace(RU,"")}function kB(a,A){return A=FB(A),FB(a)===A}function Cn(a,A,u,f,b,v){switch(u){case"children":typeof f=="string"?A==="body"||A==="textarea"&&f===""||vs(a,f):(typeof f=="number"||typeof f=="bigint")&&A!=="body"&&vs(a,""+f);break;case"className":ks(a,"class",f);break;case"tabIndex":ks(a,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":ks(a,u,f);break;case"style":Nl(a,f,v);break;case"data":if(A!=="object"){ks(a,"data",f);break}case"src":case"href":if(f===""&&(A!=="a"||u!=="href")){a.removeAttribute(u);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){a.removeAttribute(u);break}f=Aa(""+f),a.setAttribute(u,f);break;case"action":case"formAction":if(typeof f=="function"){a.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(u==="formAction"?(A!=="input"&&Cn(a,A,"name",b.name,b,null),Cn(a,A,"formEncType",b.formEncType,b,null),Cn(a,A,"formMethod",b.formMethod,b,null),Cn(a,A,"formTarget",b.formTarget,b,null)):(Cn(a,A,"encType",b.encType,b,null),Cn(a,A,"method",b.method,b,null),Cn(a,A,"target",b.target,b,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){a.removeAttribute(u);break}f=Aa(""+f),a.setAttribute(u,f);break;case"onClick":f!=null&&(a.onclick=Ai);break;case"onScroll":f!=null&&Lr("scroll",a);break;case"onScrollEnd":f!=null&&Lr("scrollend",a);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(n(61));if(u=f.__html,u!=null){if(b.children!=null)throw Error(n(60));a.innerHTML=u}}break;case"multiple":a.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":a.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){a.removeAttribute("xlink:href");break}u=Aa(""+f),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?a.setAttribute(u,""+f):a.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?a.setAttribute(u,""):a.removeAttribute(u);break;case"capture":case"download":f===!0?a.setAttribute(u,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?a.setAttribute(u,f):a.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?a.setAttribute(u,f):a.removeAttribute(u);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?a.removeAttribute(u):a.setAttribute(u,f);break;case"popover":Lr("beforetoggle",a),Lr("toggle",a),Na(a,"popover",f);break;case"xlinkActuate":Gn(a,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":Gn(a,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":Gn(a,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":Gn(a,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":Gn(a,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":Gn(a,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":Gn(a,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":Gn(a,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":Gn(a,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":Na(a,"is",f);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=UA.get(u)||u,Na(a,u,f))}}function t2(a,A,u,f,b,v){switch(u){case"style":Nl(a,f,v);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(n(61));if(u=f.__html,u!=null){if(b.children!=null)throw Error(n(60));a.innerHTML=u}}break;case"children":typeof f=="string"?vs(a,f):(typeof f=="number"||typeof f=="bigint")&&vs(a,""+f);break;case"onScroll":f!=null&&Lr("scroll",a);break;case"onScrollEnd":f!=null&&Lr("scrollend",a);break;case"onClick":f!=null&&(a.onclick=Ai);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!oa.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(b=u.endsWith("Capture"),A=u.slice(2,b?u.length-7:void 0),v=a[wr]||null,v=v!=null?v[u]:null,typeof v=="function"&&a.removeEventListener(A,v,b),typeof f=="function")){typeof v!="function"&&v!==null&&(u in a?a[u]=null:a.hasAttribute(u)&&a.removeAttribute(u)),a.addEventListener(A,f,b);break e}u in a?a[u]=f:f===!0?a.setAttribute(u,""):Na(a,u,f)}}}function ka(a,A,u){switch(A){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Lr("error",a),Lr("load",a);var f=!1,b=!1,v;for(v in u)if(u.hasOwnProperty(v)){var k=u[v];if(k!=null)switch(v){case"src":f=!0;break;case"srcSet":b=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,A));default:Cn(a,A,v,k,u,null)}}b&&Cn(a,A,"srcSet",u.srcSet,u,null),f&&Cn(a,A,"src",u.src,u,null);return;case"input":Lr("invalid",a);var ee=v=k=b=null,pe=null,Qe=null;for(f in u)if(u.hasOwnProperty(f)){var Xe=u[f];if(Xe!=null)switch(f){case"name":b=Xe;break;case"type":k=Xe;break;case"checked":pe=Xe;break;case"defaultChecked":Qe=Xe;break;case"value":v=Xe;break;case"defaultValue":ee=Xe;break;case"children":case"dangerouslySetInnerHTML":if(Xe!=null)throw Error(n(137,A));break;default:Cn(a,A,f,Xe,u,null)}}fc(a,v,ee,pe,Qe,k,b,!1);return;case"select":Lr("invalid",a),f=k=v=null;for(b in u)if(u.hasOwnProperty(b)&&(ee=u[b],ee!=null))switch(b){case"value":v=ee;break;case"defaultValue":k=ee;break;case"multiple":f=ee;default:Cn(a,A,b,ee,u,null)}A=v,u=k,a.multiple=!!f,A!=null?Ks(a,!!f,A,!1):u!=null&&Ks(a,!!f,u,!0);return;case"textarea":Lr("invalid",a),v=b=f=null;for(k in u)if(u.hasOwnProperty(k)&&(ee=u[k],ee!=null))switch(k){case"value":f=ee;break;case"defaultValue":b=ee;break;case"children":v=ee;break;case"dangerouslySetInnerHTML":if(ee!=null)throw Error(n(91));break;default:Cn(a,A,k,ee,u,null)}Xi(a,f,b,v);return;case"option":for(pe in u)if(u.hasOwnProperty(pe)&&(f=u[pe],f!=null))switch(pe){case"selected":a.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:Cn(a,A,pe,f,u,null)}return;case"dialog":Lr("beforetoggle",a),Lr("toggle",a),Lr("cancel",a),Lr("close",a);break;case"iframe":case"object":Lr("load",a);break;case"video":case"audio":for(f=0;f<f0.length;f++)Lr(f0[f],a);break;case"image":Lr("error",a),Lr("load",a);break;case"details":Lr("toggle",a);break;case"embed":case"source":case"link":Lr("error",a),Lr("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Qe in u)if(u.hasOwnProperty(Qe)&&(f=u[Qe],f!=null))switch(Qe){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,A));default:Cn(a,A,Qe,f,u,null)}return;default:if(TA(A)){for(Xe in u)u.hasOwnProperty(Xe)&&(f=u[Xe],f!==void 0&&t2(a,A,Xe,f,u,void 0));return}}for(ee in u)u.hasOwnProperty(ee)&&(f=u[ee],f!=null&&Cn(a,A,ee,f,u,null))}function DU(a,A,u,f){switch(A){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var b=null,v=null,k=null,ee=null,pe=null,Qe=null,Xe=null;for(Ve in u){var Ze=u[Ve];if(u.hasOwnProperty(Ve)&&Ze!=null)switch(Ve){case"checked":break;case"value":break;case"defaultValue":pe=Ze;default:f.hasOwnProperty(Ve)||Cn(a,A,Ve,null,f,Ze)}}for(var Re in f){var Ve=f[Re];if(Ze=u[Re],f.hasOwnProperty(Re)&&(Ve!=null||Ze!=null))switch(Re){case"type":v=Ve;break;case"name":b=Ve;break;case"checked":Qe=Ve;break;case"defaultChecked":Xe=Ve;break;case"value":k=Ve;break;case"defaultValue":ee=Ve;break;case"children":case"dangerouslySetInnerHTML":if(Ve!=null)throw Error(n(137,A));break;default:Ve!==Ze&&Cn(a,A,Re,Ve,f,Ze)}}Go(a,k,ee,pe,Qe,Xe,v,b);return;case"select":Ve=k=ee=Re=null;for(v in u)if(pe=u[v],u.hasOwnProperty(v)&&pe!=null)switch(v){case"value":break;case"multiple":Ve=pe;default:f.hasOwnProperty(v)||Cn(a,A,v,null,f,pe)}for(b in f)if(v=f[b],pe=u[b],f.hasOwnProperty(b)&&(v!=null||pe!=null))switch(b){case"value":Re=v;break;case"defaultValue":ee=v;break;case"multiple":k=v;default:v!==pe&&Cn(a,A,b,v,f,pe)}A=ee,u=k,f=Ve,Re!=null?Ks(a,!!u,Re,!1):!!f!=!!u&&(A!=null?Ks(a,!!u,A,!0):Ks(a,!!u,u?[]:"",!1));return;case"textarea":Ve=Re=null;for(ee in u)if(b=u[ee],u.hasOwnProperty(ee)&&b!=null&&!f.hasOwnProperty(ee))switch(ee){case"value":break;case"children":break;default:Cn(a,A,ee,null,f,b)}for(k in f)if(b=f[k],v=u[k],f.hasOwnProperty(k)&&(b!=null||v!=null))switch(k){case"value":Re=b;break;case"defaultValue":Ve=b;break;case"children":break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(n(91));break;default:b!==v&&Cn(a,A,k,b,f,v)}vl(a,Re,Ve);return;case"option":for(var Ot in u)if(Re=u[Ot],u.hasOwnProperty(Ot)&&Re!=null&&!f.hasOwnProperty(Ot))switch(Ot){case"selected":a.selected=!1;break;default:Cn(a,A,Ot,null,f,Re)}for(pe in f)if(Re=f[pe],Ve=u[pe],f.hasOwnProperty(pe)&&Re!==Ve&&(Re!=null||Ve!=null))switch(pe){case"selected":a.selected=Re&&typeof Re!="function"&&typeof Re!="symbol";break;default:Cn(a,A,pe,Re,f,Ve)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var lr in u)Re=u[lr],u.hasOwnProperty(lr)&&Re!=null&&!f.hasOwnProperty(lr)&&Cn(a,A,lr,null,f,Re);for(Qe in f)if(Re=f[Qe],Ve=u[Qe],f.hasOwnProperty(Qe)&&Re!==Ve&&(Re!=null||Ve!=null))switch(Qe){case"children":case"dangerouslySetInnerHTML":if(Re!=null)throw Error(n(137,A));break;default:Cn(a,A,Qe,Re,f,Ve)}return;default:if(TA(A)){for(var En in u)Re=u[En],u.hasOwnProperty(En)&&Re!==void 0&&!f.hasOwnProperty(En)&&t2(a,A,En,void 0,f,Re);for(Xe in f)Re=f[Xe],Ve=u[Xe],!f.hasOwnProperty(Xe)||Re===Ve||Re===void 0&&Ve===void 0||t2(a,A,Xe,Re,f,Ve);return}}for(var Se in u)Re=u[Se],u.hasOwnProperty(Se)&&Re!=null&&!f.hasOwnProperty(Se)&&Cn(a,A,Se,null,f,Re);for(Ze in f)Re=f[Ze],Ve=u[Ze],!f.hasOwnProperty(Ze)||Re===Ve||Re==null&&Ve==null||Cn(a,A,Ze,Re,f,Ve)}function QB(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function OU(){if(typeof performance.getEntriesByType=="function"){for(var a=0,A=0,u=performance.getEntriesByType("resource"),f=0;f<u.length;f++){var b=u[f],v=b.transferSize,k=b.initiatorType,ee=b.duration;if(v&&ee&&QB(k)){for(k=0,ee=b.responseEnd,f+=1;f<u.length;f++){var pe=u[f],Qe=pe.startTime;if(Qe>ee)break;var Xe=pe.transferSize,Ze=pe.initiatorType;Xe&&QB(Ze)&&(pe=pe.responseEnd,k+=Xe*(pe<ee?1:(ee-Qe)/(pe-Qe)))}if(--f,A+=8*(v+k)/(b.duration/1e3),a++,10<a)break}}if(0<a)return A/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var r2=null,n2=null;function $m(a){return a.nodeType===9?a:a.ownerDocument}function LB(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function RB(a,A){if(a===0)switch(A){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&A==="foreignObject"?0:a}function s2(a,A){return a==="textarea"||a==="noscript"||typeof A.children=="string"||typeof A.children=="number"||typeof A.children=="bigint"||typeof A.dangerouslySetInnerHTML=="object"&&A.dangerouslySetInnerHTML!==null&&A.dangerouslySetInnerHTML.__html!=null}var a2=null;function MU(){var a=window.event;return a&&a.type==="popstate"?a===a2?!1:(a2=a,!0):(a2=null,!1)}var DB=typeof setTimeout=="function"?setTimeout:void 0,PU=typeof clearTimeout=="function"?clearTimeout:void 0,OB=typeof Promise=="function"?Promise:void 0,HU=typeof queueMicrotask=="function"?queueMicrotask:typeof OB<"u"?function(a){return OB.resolve(null).then(a).catch(VU)}:DB;function VU(a){setTimeout(function(){throw a})}function Rc(a){return a==="head"}function MB(a,A){var u=A,f=0;do{var b=u.nextSibling;if(a.removeChild(u),b&&b.nodeType===8)if(u=b.data,u==="/$"||u==="/&"){if(f===0){a.removeChild(b),xh(A);return}f--}else if(u==="$"||u==="$?"||u==="$~"||u==="$!"||u==="&")f++;else if(u==="html")m0(a.ownerDocument.documentElement);else if(u==="head"){u=a.ownerDocument.head,m0(u);for(var v=u.firstChild;v;){var k=v.nextSibling,ee=v.nodeName;v[ia]||ee==="SCRIPT"||ee==="STYLE"||ee==="LINK"&&v.rel.toLowerCase()==="stylesheet"||u.removeChild(v),v=k}}else u==="body"&&m0(a.ownerDocument.body);u=b}while(u);xh(A)}function PB(a,A){var u=a;a=0;do{var f=u.nextSibling;if(u.nodeType===1?A?(u._stashedDisplay=u.style.display,u.style.display="none"):(u.style.display=u._stashedDisplay||"",u.getAttribute("style")===""&&u.removeAttribute("style")):u.nodeType===3&&(A?(u._stashedText=u.nodeValue,u.nodeValue=""):u.nodeValue=u._stashedText||""),f&&f.nodeType===8)if(u=f.data,u==="/$"){if(a===0)break;a--}else u!=="$"&&u!=="$?"&&u!=="$~"&&u!=="$!"||a++;u=f}while(u)}function i2(a){var A=a.firstChild;for(A&&A.nodeType===10&&(A=A.nextSibling);A;){var u=A;switch(A=A.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":i2(u),Gi(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}a.removeChild(u)}}function KU(a,A,u,f){for(;a.nodeType===1;){var b=u;if(a.nodeName.toLowerCase()!==A.toLowerCase()){if(!f&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(f){if(!a[ia])switch(A){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(v=a.getAttribute("rel"),v==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(v!==b.rel||a.getAttribute("href")!==(b.href==null||b.href===""?null:b.href)||a.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin)||a.getAttribute("title")!==(b.title==null?null:b.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(v=a.getAttribute("src"),(v!==(b.src==null?null:b.src)||a.getAttribute("type")!==(b.type==null?null:b.type)||a.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin))&&v&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(A==="input"&&a.type==="hidden"){var v=b.name==null?null:""+b.name;if(b.type==="hidden"&&a.getAttribute("name")===v)return a}else return a;if(a=Fo(a.nextSibling),a===null)break}return null}function zU(a,A,u){if(A==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!u||(a=Fo(a.nextSibling),a===null))return null;return a}function HB(a,A){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!A||(a=Fo(a.nextSibling),a===null))return null;return a}function o2(a){return a.data==="$?"||a.data==="$~"}function A2(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function qU(a,A){var u=a.ownerDocument;if(a.data==="$~")a._reactRetry=A;else if(a.data!=="$?"||u.readyState!=="loading")A();else{var f=function(){A(),u.removeEventListener("DOMContentLoaded",f)};u.addEventListener("DOMContentLoaded",f),a._reactRetry=f}}function Fo(a){for(;a!=null;a=a.nextSibling){var A=a.nodeType;if(A===1||A===3)break;if(A===8){if(A=a.data,A==="$"||A==="$!"||A==="$?"||A==="$~"||A==="&"||A==="F!"||A==="F")break;if(A==="/$"||A==="/&")return null}}return a}var l2=null;function VB(a){a=a.nextSibling;for(var A=0;a;){if(a.nodeType===8){var u=a.data;if(u==="/$"||u==="/&"){if(A===0)return Fo(a.nextSibling);A--}else u!=="$"&&u!=="$!"&&u!=="$?"&&u!=="$~"&&u!=="&"||A++}a=a.nextSibling}return null}function KB(a){a=a.previousSibling;for(var A=0;a;){if(a.nodeType===8){var u=a.data;if(u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"){if(A===0)return a;A--}else u!=="/$"&&u!=="/&"||A++}a=a.previousSibling}return null}function zB(a,A,u){switch(A=$m(u),a){case"html":if(a=A.documentElement,!a)throw Error(n(452));return a;case"head":if(a=A.head,!a)throw Error(n(453));return a;case"body":if(a=A.body,!a)throw Error(n(454));return a;default:throw Error(n(451))}}function m0(a){for(var A=a.attributes;A.length;)a.removeAttributeNode(A[0]);Gi(a)}var ko=new Map,qB=new Set;function Xm(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var zl=Z.d;Z.d={f:GU,r:$U,D:XU,C:YU,L:WU,m:JU,X:eF,S:ZU,M:tF};function GU(){var a=zl.f(),A=Mm();return a||A}function $U(a){var A=Vs(a);A!==null&&A.tag===5&&A.type==="form"?l4(A):zl.r(a)}var gh=typeof document>"u"?null:document;function GB(a,A,u){var f=gh;if(f&&typeof A=="string"&&A){var b=$n(A);b='link[rel="'+a+'"][href="'+b+'"]',typeof u=="string"&&(b+='[crossorigin="'+u+'"]'),qB.has(b)||(qB.add(b),a={rel:a,crossOrigin:u,href:A},f.querySelector(b)===null&&(A=f.createElement("link"),ka(A,"link",a),Mn(A),f.head.appendChild(A)))}}function XU(a){zl.D(a),GB("dns-prefetch",a,null)}function YU(a,A){zl.C(a,A),GB("preconnect",a,A)}function WU(a,A,u){zl.L(a,A,u);var f=gh;if(f&&a&&A){var b='link[rel="preload"][as="'+$n(A)+'"]';A==="image"&&u&&u.imageSrcSet?(b+='[imagesrcset="'+$n(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(b+='[imagesizes="'+$n(u.imageSizes)+'"]')):b+='[href="'+$n(a)+'"]';var v=b;switch(A){case"style":v=mh(a);break;case"script":v=ph(a)}ko.has(v)||(a=x({rel:"preload",href:A==="image"&&u&&u.imageSrcSet?void 0:a,as:A},u),ko.set(v,a),f.querySelector(b)!==null||A==="style"&&f.querySelector(p0(v))||A==="script"&&f.querySelector(x0(v))||(A=f.createElement("link"),ka(A,"link",a),Mn(A),f.head.appendChild(A)))}}function JU(a,A){zl.m(a,A);var u=gh;if(u&&a){var f=A&&typeof A.as=="string"?A.as:"script",b='link[rel="modulepreload"][as="'+$n(f)+'"][href="'+$n(a)+'"]',v=b;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=ph(a)}if(!ko.has(v)&&(a=x({rel:"modulepreload",href:a},A),ko.set(v,a),u.querySelector(b)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(x0(v)))return}f=u.createElement("link"),ka(f,"link",a),Mn(f),u.head.appendChild(f)}}}function ZU(a,A,u){zl.S(a,A,u);var f=gh;if(f&&a){var b=Ma(f).hoistableStyles,v=mh(a);A=A||"default";var k=b.get(v);if(!k){var ee={loading:0,preload:null};if(k=f.querySelector(p0(v)))ee.loading=5;else{a=x({rel:"stylesheet",href:a,"data-precedence":A},u),(u=ko.get(v))&&c2(a,u);var pe=k=f.createElement("link");Mn(pe),ka(pe,"link",a),pe._p=new Promise(function(Qe,Xe){pe.onload=Qe,pe.onerror=Xe}),pe.addEventListener("load",function(){ee.loading|=1}),pe.addEventListener("error",function(){ee.loading|=2}),ee.loading|=4,Ym(k,A,f)}k={type:"stylesheet",instance:k,count:1,state:ee},b.set(v,k)}}}function eF(a,A){zl.X(a,A);var u=gh;if(u&&a){var f=Ma(u).hoistableScripts,b=ph(a),v=f.get(b);v||(v=u.querySelector(x0(b)),v||(a=x({src:a,async:!0},A),(A=ko.get(b))&&u2(a,A),v=u.createElement("script"),Mn(v),ka(v,"link",a),u.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},f.set(b,v))}}function tF(a,A){zl.M(a,A);var u=gh;if(u&&a){var f=Ma(u).hoistableScripts,b=ph(a),v=f.get(b);v||(v=u.querySelector(x0(b)),v||(a=x({src:a,async:!0,type:"module"},A),(A=ko.get(b))&&u2(a,A),v=u.createElement("script"),Mn(v),ka(v,"link",a),u.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},f.set(b,v))}}function $B(a,A,u,f){var b=(b=fe.current)?Xm(b):null;if(!b)throw Error(n(446));switch(a){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(A=mh(u.href),u=Ma(b).hoistableStyles,f=u.get(A),f||(f={type:"style",instance:null,count:0,state:null},u.set(A,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){a=mh(u.href);var v=Ma(b).hoistableStyles,k=v.get(a);if(k||(b=b.ownerDocument||b,k={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(a,k),(v=b.querySelector(p0(a)))&&!v._p&&(k.instance=v,k.state.loading=5),ko.has(a)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},ko.set(a,u),v||rF(b,a,u,k.state))),A&&f===null)throw Error(n(528,""));return k}if(A&&f!==null)throw Error(n(529,""));return null;case"script":return A=u.async,u=u.src,typeof u=="string"&&A&&typeof A!="function"&&typeof A!="symbol"?(A=ph(u),u=Ma(b).hoistableScripts,f=u.get(A),f||(f={type:"script",instance:null,count:0,state:null},u.set(A,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,a))}}function mh(a){return'href="'+$n(a)+'"'}function p0(a){return'link[rel="stylesheet"]['+a+"]"}function XB(a){return x({},a,{"data-precedence":a.precedence,precedence:null})}function rF(a,A,u,f){a.querySelector('link[rel="preload"][as="style"]['+A+"]")?f.loading=1:(A=a.createElement("link"),f.preload=A,A.addEventListener("load",function(){return f.loading|=1}),A.addEventListener("error",function(){return f.loading|=2}),ka(A,"link",u),Mn(A),a.head.appendChild(A))}function ph(a){return'[src="'+$n(a)+'"]'}function x0(a){return"script[async]"+a}function YB(a,A,u){if(A.count++,A.instance===null)switch(A.type){case"style":var f=a.querySelector('style[data-href~="'+$n(u.href)+'"]');if(f)return A.instance=f,Mn(f),f;var b=x({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return f=(a.ownerDocument||a).createElement("style"),Mn(f),ka(f,"style",b),Ym(f,u.precedence,a),A.instance=f;case"stylesheet":b=mh(u.href);var v=a.querySelector(p0(b));if(v)return A.state.loading|=4,A.instance=v,Mn(v),v;f=XB(u),(b=ko.get(b))&&c2(f,b),v=(a.ownerDocument||a).createElement("link"),Mn(v);var k=v;return k._p=new Promise(function(ee,pe){k.onload=ee,k.onerror=pe}),ka(v,"link",f),A.state.loading|=4,Ym(v,u.precedence,a),A.instance=v;case"script":return v=ph(u.src),(b=a.querySelector(x0(v)))?(A.instance=b,Mn(b),b):(f=u,(b=ko.get(v))&&(f=x({},u),u2(f,b)),a=a.ownerDocument||a,b=a.createElement("script"),Mn(b),ka(b,"link",f),a.head.appendChild(b),A.instance=b);case"void":return null;default:throw Error(n(443,A.type))}else A.type==="stylesheet"&&(A.state.loading&4)===0&&(f=A.instance,A.state.loading|=4,Ym(f,u.precedence,a));return A.instance}function Ym(a,A,u){for(var f=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),b=f.length?f[f.length-1]:null,v=b,k=0;k<f.length;k++){var ee=f[k];if(ee.dataset.precedence===A)v=ee;else if(v!==b)break}v?v.parentNode.insertBefore(a,v.nextSibling):(A=u.nodeType===9?u.head:u,A.insertBefore(a,A.firstChild))}function c2(a,A){a.crossOrigin==null&&(a.crossOrigin=A.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=A.referrerPolicy),a.title==null&&(a.title=A.title)}function u2(a,A){a.crossOrigin==null&&(a.crossOrigin=A.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=A.referrerPolicy),a.integrity==null&&(a.integrity=A.integrity)}var Wm=null;function WB(a,A,u){if(Wm===null){var f=new Map,b=Wm=new Map;b.set(u,f)}else b=Wm,f=b.get(u),f||(f=new Map,b.set(u,f));if(f.has(a))return f;for(f.set(a,null),u=u.getElementsByTagName(a),b=0;b<u.length;b++){var v=u[b];if(!(v[ia]||v[bt]||a==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var k=v.getAttribute(A)||"";k=a+k;var ee=f.get(k);ee?ee.push(v):f.set(k,[v])}}return f}function JB(a,A,u){a=a.ownerDocument||a,a.head.insertBefore(u,A==="title"?a.querySelector("head > title"):null)}function nF(a,A,u){if(u===1||A.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof A.precedence!="string"||typeof A.href!="string"||A.href==="")break;return!0;case"link":if(typeof A.rel!="string"||typeof A.href!="string"||A.href===""||A.onLoad||A.onError)break;switch(A.rel){case"stylesheet":return a=A.disabled,typeof A.precedence=="string"&&a==null;default:return!0}case"script":if(A.async&&typeof A.async!="function"&&typeof A.async!="symbol"&&!A.onLoad&&!A.onError&&A.src&&typeof A.src=="string")return!0}return!1}function ZB(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function sF(a,A,u,f){if(u.type==="stylesheet"&&(typeof f.media!="string"||matchMedia(f.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var b=mh(f.href),v=A.querySelector(p0(b));if(v){A=v._p,A!==null&&typeof A=="object"&&typeof A.then=="function"&&(a.count++,a=Jm.bind(a),A.then(a,a)),u.state.loading|=4,u.instance=v,Mn(v);return}v=A.ownerDocument||A,f=XB(f),(b=ko.get(b))&&c2(f,b),v=v.createElement("link"),Mn(v);var k=v;k._p=new Promise(function(ee,pe){k.onload=ee,k.onerror=pe}),ka(v,"link",f),u.instance=v}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(u,A),(A=u.state.preload)&&(u.state.loading&3)===0&&(a.count++,u=Jm.bind(a),A.addEventListener("load",u),A.addEventListener("error",u))}}var d2=0;function aF(a,A){return a.stylesheets&&a.count===0&&ep(a,a.stylesheets),0<a.count||0<a.imgCount?function(u){var f=setTimeout(function(){if(a.stylesheets&&ep(a,a.stylesheets),a.unsuspend){var v=a.unsuspend;a.unsuspend=null,v()}},6e4+A);0<a.imgBytes&&d2===0&&(d2=62500*OU());var b=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&ep(a,a.stylesheets),a.unsuspend)){var v=a.unsuspend;a.unsuspend=null,v()}},(a.imgBytes>d2?50:800)+A);return a.unsuspend=u,function(){a.unsuspend=null,clearTimeout(f),clearTimeout(b)}}:null}function Jm(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ep(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var Zm=null;function ep(a,A){a.stylesheets=null,a.unsuspend!==null&&(a.count++,Zm=new Map,A.forEach(iF,a),Zm=null,Jm.call(a))}function iF(a,A){if(!(A.state.loading&4)){var u=Zm.get(a);if(u)var f=u.get(null);else{u=new Map,Zm.set(a,u);for(var b=a.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<b.length;v++){var k=b[v];(k.nodeName==="LINK"||k.getAttribute("media")!=="not all")&&(u.set(k.dataset.precedence,k),f=k)}f&&u.set(null,f)}b=A.instance,k=b.getAttribute("data-precedence"),v=u.get(k)||f,v===f&&u.set(null,b),u.set(k,b),this.count++,f=Jm.bind(this),b.addEventListener("load",f),b.addEventListener("error",f),v?v.parentNode.insertBefore(b,v.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(b,a.firstChild)),A.state.loading|=4}}var b0={$$typeof:V,Provider:null,Consumer:null,_currentValue:Ae,_currentValue2:Ae,_threadCount:0};function oF(a,A,u,f,b,v,k,ee,pe){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=An(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=An(0),this.hiddenUpdates=An(null),this.identifierPrefix=f,this.onUncaughtError=b,this.onCaughtError=v,this.onRecoverableError=k,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=pe,this.incompleteTransitions=new Map}function eN(a,A,u,f,b,v,k,ee,pe,Qe,Xe,Ze){return a=new oF(a,A,u,k,pe,Qe,Xe,Ze,ee),A=1,v===!0&&(A|=24),v=da(3,null,null,A),a.current=v,v.stateNode=a,A=_c(),A.refCount++,a.pooledCache=A,A.refCount++,v.memoizedState={element:f,isDehydrated:u,cache:A},ht(v),a}function tN(a){return a?(a=$s,a):$s}function rN(a,A,u,f,b,v){b=tN(b),f.context===null?f.context=b:f.pendingContext=b,f=or(A),f.payload={element:u},v=v===void 0?null:v,v!==null&&(f.callback=v),u=_r(a,f,A),u!==null&&(Mi(u,a,A),rn(u,a,A))}function nN(a,A){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var u=a.retryLane;a.retryLane=u!==0&&u<A?u:A}}function h2(a,A){nN(a,A),(a=a.alternate)&&nN(a,A)}function sN(a){if(a.tag===13||a.tag===31){var A=aA(a,67108864);A!==null&&Mi(A,a,67108864),h2(a,67108864)}}function aN(a){if(a.tag===13||a.tag===31){var A=ao();A=at(A);var u=aA(a,A);u!==null&&Mi(u,a,A),h2(a,A)}}var tp=!0;function AF(a,A,u,f){var b=ie.T;ie.T=null;var v=Z.p;try{Z.p=2,f2(a,A,u,f)}finally{Z.p=v,ie.T=b}}function lF(a,A,u,f){var b=ie.T;ie.T=null;var v=Z.p;try{Z.p=8,f2(a,A,u,f)}finally{Z.p=v,ie.T=b}}function f2(a,A,u,f){if(tp){var b=g2(f);if(b===null)e2(a,A,f,rp,u),oN(a,f);else if(uF(b,a,A,u,f))f.stopPropagation();else if(oN(a,f),A&4&&-1<cF.indexOf(a)){for(;b!==null;){var v=Vs(b);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var k=Nt(v.pendingLanes);if(k!==0){var ee=v;for(ee.pendingLanes|=2,ee.entangledLanes|=2;k;){var pe=1<<31-qt(k);ee.entanglements[1]|=pe,k&=~pe}XA(v),(sn&6)===0&&(Dm=Yt()+500,h0(0))}}break;case 31:case 13:ee=aA(v,2),ee!==null&&Mi(ee,v,2),Mm(),h2(v,2)}if(v=g2(f),v===null&&e2(a,A,f,rp,u),v===b)break;b=v}b!==null&&f.stopPropagation()}else e2(a,A,f,null,u)}}function g2(a){return a=la(a),m2(a)}var rp=null;function m2(a){if(rp=null,a=va(a),a!==null){var A=o(a);if(A===null)a=null;else{var u=A.tag;if(u===13){if(a=l(A),a!==null)return a;a=null}else if(u===31){if(a=c(A),a!==null)return a;a=null}else if(u===3){if(A.stateNode.current.memoizedState.isDehydrated)return A.tag===3?A.stateNode.containerInfo:null;a=null}else A!==a&&(a=null)}}return rp=a,null}function iN(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(cr()){case ar:return 2;case ur:return 8;case dr:case jt:return 32;case hr:return 268435456;default:return 32}default:return 32}}var p2=!1,Dc=null,Oc=null,Mc=null,y0=new Map,w0=new Map,Pc=[],cF="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function oN(a,A){switch(a){case"focusin":case"focusout":Dc=null;break;case"dragenter":case"dragleave":Oc=null;break;case"mouseover":case"mouseout":Mc=null;break;case"pointerover":case"pointerout":y0.delete(A.pointerId);break;case"gotpointercapture":case"lostpointercapture":w0.delete(A.pointerId)}}function v0(a,A,u,f,b,v){return a===null||a.nativeEvent!==v?(a={blockedOn:A,domEventName:u,eventSystemFlags:f,nativeEvent:v,targetContainers:[b]},A!==null&&(A=Vs(A),A!==null&&sN(A)),a):(a.eventSystemFlags|=f,A=a.targetContainers,b!==null&&A.indexOf(b)===-1&&A.push(b),a)}function uF(a,A,u,f,b){switch(A){case"focusin":return Dc=v0(Dc,a,A,u,f,b),!0;case"dragenter":return Oc=v0(Oc,a,A,u,f,b),!0;case"mouseover":return Mc=v0(Mc,a,A,u,f,b),!0;case"pointerover":var v=b.pointerId;return y0.set(v,v0(y0.get(v)||null,a,A,u,f,b)),!0;case"gotpointercapture":return v=b.pointerId,w0.set(v,v0(w0.get(v)||null,a,A,u,f,b)),!0}return!1}function AN(a){var A=va(a.target);if(A!==null){var u=o(A);if(u!==null){if(A=u.tag,A===13){if(A=l(u),A!==null){a.blockedOn=A,kt(a.priority,function(){aN(u)});return}}else if(A===31){if(A=c(u),A!==null){a.blockedOn=A,kt(a.priority,function(){aN(u)});return}}else if(A===3&&u.stateNode.current.memoizedState.isDehydrated){a.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}a.blockedOn=null}function np(a){if(a.blockedOn!==null)return!1;for(var A=a.targetContainers;0<A.length;){var u=g2(a.nativeEvent);if(u===null){u=a.nativeEvent;var f=new u.constructor(u.type,u);Wi=f,u.target.dispatchEvent(f),Wi=null}else return A=Vs(u),A!==null&&sN(A),a.blockedOn=u,!1;A.shift()}return!0}function lN(a,A,u){np(a)&&u.delete(A)}function dF(){p2=!1,Dc!==null&&np(Dc)&&(Dc=null),Oc!==null&&np(Oc)&&(Oc=null),Mc!==null&&np(Mc)&&(Mc=null),y0.forEach(lN),w0.forEach(lN)}function sp(a,A){a.blockedOn===A&&(a.blockedOn=null,p2||(p2=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,dF)))}var ap=null;function cN(a){ap!==a&&(ap=a,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){ap===a&&(ap=null);for(var A=0;A<a.length;A+=3){var u=a[A],f=a[A+1],b=a[A+2];if(typeof f!="function"){if(m2(f||u)===null)continue;break}var v=Vs(u);v!==null&&(a.splice(A,3),A-=3,gb(v,{pending:!0,data:b,method:u.method,action:f},f,b))}}))}function xh(a){function A(pe){return sp(pe,a)}Dc!==null&&sp(Dc,a),Oc!==null&&sp(Oc,a),Mc!==null&&sp(Mc,a),y0.forEach(A),w0.forEach(A);for(var u=0;u<Pc.length;u++){var f=Pc[u];f.blockedOn===a&&(f.blockedOn=null)}for(;0<Pc.length&&(u=Pc[0],u.blockedOn===null);)AN(u),u.blockedOn===null&&Pc.shift();if(u=(a.ownerDocument||a).$$reactFormReplay,u!=null)for(f=0;f<u.length;f+=3){var b=u[f],v=u[f+1],k=b[wr]||null;if(typeof v=="function")k||cN(u);else if(k){var ee=null;if(v&&v.hasAttribute("formAction")){if(b=v,k=v[wr]||null)ee=k.formAction;else if(m2(b)!==null)continue}else ee=k.action;typeof ee=="function"?u[f+1]=ee:(u.splice(f,3),f-=3),cN(u)}}}function uN(){function a(v){v.canIntercept&&v.info==="react-transition"&&v.intercept({handler:function(){return new Promise(function(k){return b=k})},focusReset:"manual",scroll:"manual"})}function A(){b!==null&&(b(),b=null),f||setTimeout(u,20)}function u(){if(!f&&!navigation.transition){var v=navigation.currentEntry;v&&v.url!=null&&navigation.navigate(v.url,{state:v.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var f=!1,b=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",A),navigation.addEventListener("navigateerror",A),setTimeout(u,100),function(){f=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",A),navigation.removeEventListener("navigateerror",A),b!==null&&(b(),b=null)}}}function x2(a){this._internalRoot=a}ip.prototype.render=x2.prototype.render=function(a){var A=this._internalRoot;if(A===null)throw Error(n(409));var u=A.current,f=ao();rN(u,f,a,A,null,null)},ip.prototype.unmount=x2.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var A=a.containerInfo;rN(a.current,2,null,a,null,null),Mm(),A[On]=null}};function ip(a){this._internalRoot=a}ip.prototype.unstable_scheduleHydration=function(a){if(a){var A=Dt();a={blockedOn:null,target:a,priority:A};for(var u=0;u<Pc.length&&A!==0&&A<Pc[u].priority;u++);Pc.splice(u,0,a),u===0&&AN(a)}};var dN=e.version;if(dN!=="19.2.3")throw Error(n(527,dN,"19.2.3"));Z.findDOMNode=function(a){var A=a._reactInternals;if(A===void 0)throw typeof a.render=="function"?Error(n(188)):(a=Object.keys(a).join(","),Error(n(268,a)));return a=h(A),a=a!==null?g(a):null,a=a===null?null:a.stateNode,a};var hF={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:ie,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var op=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!op.isDisabled&&op.supportsFiber)try{ft=op.inject(hF),ct=op}catch{}}return N0.createRoot=function(a,A){if(!s(a))throw Error(n(299));var u=!1,f="",b=b4,v=y4,k=w4;return A!=null&&(A.unstable_strictMode===!0&&(u=!0),A.identifierPrefix!==void 0&&(f=A.identifierPrefix),A.onUncaughtError!==void 0&&(b=A.onUncaughtError),A.onCaughtError!==void 0&&(v=A.onCaughtError),A.onRecoverableError!==void 0&&(k=A.onRecoverableError)),A=eN(a,1,!1,null,null,u,f,null,b,v,k,uN),a[On]=A.current,Zb(a),new x2(A)},N0.hydrateRoot=function(a,A,u){if(!s(a))throw Error(n(299));var f=!1,b="",v=b4,k=y4,ee=w4,pe=null;return u!=null&&(u.unstable_strictMode===!0&&(f=!0),u.identifierPrefix!==void 0&&(b=u.identifierPrefix),u.onUncaughtError!==void 0&&(v=u.onUncaughtError),u.onCaughtError!==void 0&&(k=u.onCaughtError),u.onRecoverableError!==void 0&&(ee=u.onRecoverableError),u.formState!==void 0&&(pe=u.formState)),A=eN(a,1,!0,A,u??null,f,b,pe,v,k,ee,uN),A.context=tN(null),u=A.current,f=ao(),f=at(f),b=or(f),b.callback=null,_r(u,b,f),u=f,A.current.lanes=u,Ft(A,u),XA(A),a[On]=A.current,Zb(a),new ip(A)},N0.version="19.2.3",N0}var vN;function NF(){if(vN)return w2.exports;vN=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),w2.exports=BF(),w2.exports}var _F=NF();const CF=iS(_F);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EF=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),SF=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,n)=>n?n.toUpperCase():t.toLowerCase()),BN=r=>{const e=SF(r);return e.charAt(0).toUpperCase()+e.slice(1)},AS=(...r)=>r.filter((e,t,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===t).join(" ").trim(),IF=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var jF={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TF=he.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:n,className:s="",children:o,iconNode:l,...c},d)=>he.createElement("svg",{ref:d,...jF,width:e,height:e,stroke:r,strokeWidth:n?Number(t)*24/Number(e):t,className:AS("lucide",s),...!o&&!IF(c)&&{"aria-hidden":"true"},...c},[...l.map(([h,g])=>he.createElement(h,g)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Je=(r,e)=>{const t=he.forwardRef(({className:n,...s},o)=>he.createElement(TF,{ref:o,iconNode:e,className:AS(`lucide-${EF(BN(r))}`,`lucide-${r}`,n),...s}));return t.displayName=BN(r),t};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UF=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],FF=Je("activity",UF);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kF=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],gv=Je("arrow-left",kF);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QF=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],an=Je("arrow-right",QF);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LF=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Au=Je("award",LF);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RF=[["path",{d:"M4 10a4 4 0 0 1 4-4h8a4 4 0 0 1 4 4v10a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2z",key:"1ol0lm"}],["path",{d:"M8 10h8",key:"c7uz4u"}],["path",{d:"M8 18h8",key:"1no2b1"}],["path",{d:"M8 22v-6a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v6",key:"1fr6do"}],["path",{d:"M9 6V4a2 2 0 0 1 2-2h2a2 2 0 0 1 2 2v2",key:"donm21"}]],xA=Je("backpack",RF);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DF=[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Ap=Je("ban",DF);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OF=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],lp=Je("bell",OF);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MF=[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]],PF=Je("bold",MF);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HF=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Us=Je("book-open",HF);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VF=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],rf=Je("book",VF);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KF=[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]],mv=Je("brain",KF);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zF=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],pv=Je("briefcase",zF);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qF=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],gg=Je("calendar-days",qF);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GF=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],mg=Je("calendar",GF);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $F=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Yp=Je("chart-column",$F);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XF=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],lS=Je("check",XF);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YF=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],al=Je("chevron-down",YF);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WF=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],el=Je("chevron-left",WF);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JF=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],_2=Je("chevron-right",JF);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZF=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],pg=Je("circle-alert",ZF);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ek=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],rc=Je("circle-check-big",ek);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tk=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],ts=Je("circle-check",tk);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rk=[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],nk=Je("circle-play",rk);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sk=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],NN=Je("circle-plus",sk);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ak=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Mo=Je("circle-question-mark",ak);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ik=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],ok=Je("circle-user",ik);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ak=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],cS=Je("circle-x",Ak);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lk=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],ck=Je("clipboard-list",lk);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uk=[["path",{d:"M11 14h10",key:"1w8e9d"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v1.344",key:"1e62lh"}],["path",{d:"m17 18 4-4-4-4",key:"z2g111"}],["path",{d:"M8 4H6a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h12a2 2 0 0 0 1.793-1.113",key:"bjbb7m"}],["rect",{x:"8",y:"2",width:"8",height:"4",rx:"1",key:"ublpy"}]],dk=Je("clipboard-paste",uk);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hk=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],xg=Je("clock",hk);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fk=[["path",{d:"M12 13v8l-4-4",key:"1f5nwf"}],["path",{d:"m12 21 4-4",key:"1lfcce"}],["path",{d:"M4.393 15.269A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.436 8.284",key:"ui1hmy"}]],gk=Je("cloud-download",fk);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mk=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],Vy=Je("cloud-upload",mk);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pk=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],xv=Je("copy",pk);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xk=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],B1=Je("credit-card",xk);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bk=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],ns=Je("crown",bk);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yk=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],bg=Je("download",yk);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wk=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],vk=Je("ellipsis",wk);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bk=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Ky=Je("eye",Bk);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nk=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],nf=Je("facebook",Nk);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _k=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]],Ck=Je("file-check",_k);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ek=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M9 15h6",key:"cctwl0"}],["path",{d:"M12 18v-6",key:"17g6i2"}]],Sk=Je("file-plus",Ek);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ik=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["circle",{cx:"11.5",cy:"14.5",r:"2.5",key:"1bq0ko"}],["path",{d:"M13.3 16.3 15 18",key:"2quom7"}]],jk=Je("file-search",Ik);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tk=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],ra=Je("file-text",Tk);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uk=[["path",{d:"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528",key:"1jaruq"}]],bv=Je("flag",Uk);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fk=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],N1=Je("flame",Fk);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kk=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],rd=Je("folder-open",kk);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qk=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],uS=Je("globe",Qk);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lk=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],Ko=Je("graduation-cap",Lk);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rk=[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]],Dk=Je("headphones",Rk);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ok=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],Mk=Je("history",Ok);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pk=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],zn=Je("house",Pk);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hk=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],mx=Je("info",Hk);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vk=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],Kk=Je("instagram",Vk);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zk=[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]],Vg=Je("languages",zk);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qk=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],il=Je("layers",qk);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gk=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],_N=Je("layout-dashboard",Gk);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $k=[["path",{d:"m16 6 4 14",key:"ji33uf"}],["path",{d:"M12 6v14",key:"1n7gus"}],["path",{d:"M8 8v12",key:"1gg7y9"}],["path",{d:"M4 4v16",key:"6qkkli"}]],Xk=Je("library",$k);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yk=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],Wk=Je("link",Yk);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jk=[["path",{d:"M11 5h10",key:"1cz7ny"}],["path",{d:"M11 12h10",key:"1438ji"}],["path",{d:"M11 19h10",key:"11t30w"}],["path",{d:"M4 4h1v5",key:"10yrso"}],["path",{d:"M4 9h2",key:"r1h2o0"}],["path",{d:"M6.5 20H3.4c0-1 2.6-1.925 2.6-3.5a1.5 1.5 0 0 0-2.6-1.02",key:"xtkcd5"}]],CN=Je("list-ordered",Jk);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zk=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],dS=Je("list",Zk);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eQ=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],zr=Je("loader-circle",eQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tQ=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],zy=Je("log-in",tQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rQ=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Ro=Je("lock",rQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nQ=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],yg=Je("log-out",nQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sQ=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],mA=Je("mail",sQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aQ=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],qy=Je("map-pin",aQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iQ=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],oQ=Je("map",iQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AQ=[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]],Gy=Je("medal",AQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lQ=[["path",{d:"M11 6a13 13 0 0 0 8.4-2.8A1 1 0 0 1 21 4v12a1 1 0 0 1-1.6.8A13 13 0 0 0 11 14H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2z",key:"q8bfy3"}],["path",{d:"M6 14a12 12 0 0 0 2.4 7.2 2 2 0 0 0 3.2-2.4A8 8 0 0 1 10 14",key:"1853fq"}],["path",{d:"M8 6v8",key:"15ugcq"}]],EN=Je("megaphone",lQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cQ=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],uQ=Je("menu",cQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dQ=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],yd=Je("message-circle",dQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hQ=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],wg=Je("message-square",hQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fQ=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],lu=Je("monitor",fQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gQ=[["path",{d:"M18 8L22 12L18 16",key:"1r0oui"}],["path",{d:"M2 12H22",key:"1m8cig"}]],hS=Je("move-right",gQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mQ=[["path",{d:"M12 16h.01",key:"1drbdi"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M15.312 2a2 2 0 0 1 1.414.586l4.688 4.688A2 2 0 0 1 22 8.688v6.624a2 2 0 0 1-.586 1.414l-4.688 4.688a2 2 0 0 1-1.414.586H8.688a2 2 0 0 1-1.414-.586l-4.688-4.688A2 2 0 0 1 2 15.312V8.688a2 2 0 0 1 .586-1.414l4.688-4.688A2 2 0 0 1 8.688 2z",key:"1fd625"}]],pQ=Je("octagon-alert",mQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xQ=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],$y=Je("palette",xQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bQ=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],yQ=Je("pen-line",bQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wQ=[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]],px=Je("pen-tool",wQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vQ=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],fS=Je("pencil-line",vQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BQ=[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]],NQ=Je("quote",BQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _Q=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Kg=Je("refresh-cw",_Q);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CQ=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],gS=Je("rocket",CQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EQ=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],nc=Je("rotate-ccw",EQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SQ=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],cu=Je("save",SQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IQ=[["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M18 5v16",key:"1ethyx"}],["path",{d:"m4 6 7.106-3.79a2 2 0 0 1 1.788 0L20 6",key:"zywc2d"}],["path",{d:"m6 11-3.52 2.147a1 1 0 0 0-.48.854V19a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-5a1 1 0 0 0-.48-.853L18 11",key:"1d4ql0"}],["path",{d:"M6 5v16",key:"1sn0nx"}],["circle",{cx:"12",cy:"9",r:"2",key:"1092wv"}]],yv=Je("school",IQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jQ=[["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3",key:"1ph1d7"}]],TQ=Je("scroll",jQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UQ=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],zi=Je("search",UQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FQ=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],uu=Je("send",FQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kQ=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],SN=Je("share-2",kQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QQ=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],LQ=Je("shield-alert",QQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RQ=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],zg=Je("shield-check",RQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DQ=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],OQ=Je("smartphone",DQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MQ=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],_1=Je("sparkles",MQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PQ=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Xy=Je("square-pen",PQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HQ=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],ol=Je("star",HQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VQ=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],mS=Je("tag",VQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KQ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],qg=Je("target",KQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zQ=[["path",{d:"M21 5H3",key:"1fi0y6"}],["path",{d:"M17 12H7",key:"16if0g"}],["path",{d:"M19 19H5",key:"vjpgq2"}]],qQ=Je("text-align-center",zQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GQ=[["path",{d:"M21 5H3",key:"1fi0y6"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M21 19H7",key:"4cu937"}]],$Q=Je("text-align-end",GQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XQ=[["path",{d:"M21 5H3",key:"1fi0y6"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M17 19H3",key:"z6ezky"}]],pS=Je("text-align-start",XQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YQ=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],xS=Je("timer",YQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WQ=[["circle",{cx:"9",cy:"12",r:"3",key:"u3jwor"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],JQ=Je("toggle-left",WQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZQ=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Al=Je("trash-2",ZQ);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eL=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],bS=Je("trending-up",eL);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tL=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],xx=Je("triangle-alert",tL);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rL=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],sf=Je("trophy",rL);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nL=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],sL=Je("type",nL);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aL=[["path",{d:"M6 4v6a6 6 0 0 0 12 0V4",key:"9kb039"}],["line",{x1:"4",x2:"20",y1:"20",y2:"20",key:"nun2al"}]],iL=Je("underline",aL);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oL=[["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M18 12h.01",key:"yjnet6"}],["path",{d:"M18 16h.01",key:"plv8zi"}],["path",{d:"M22 7a1 1 0 0 0-1-1h-2a2 2 0 0 1-1.143-.359L13.143 2.36a2 2 0 0 0-2.286-.001L6.143 5.64A2 2 0 0 1 5 6H3a1 1 0 0 0-1 1v12a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2z",key:"1ogmi3"}],["path",{d:"M6 12h.01",key:"c2rlol"}],["path",{d:"M6 16h.01",key:"1pmjb7"}],["circle",{cx:"12",cy:"10",r:"2",key:"1yojzk"}]],ni=Je("university",oL);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AL=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],IN=Je("user-check",AL);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lL=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],pi=Je("user",lL);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cL=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],sc=Je("users",cL);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uL=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],dL=Je("wallet",uL);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hL=[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]],jN=Je("wand-sparkles",hL);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fL=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],gL=Je("wifi-off",fL);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mL=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ba=Je("x",mL);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pL=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Ef=Je("zap",pL),xL=()=>{};var TN={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yS=function(r){const e=[];let t=0;for(let n=0;n<r.length;n++){let s=r.charCodeAt(n);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&n+1<r.length&&(r.charCodeAt(n+1)&64512)===56320?(s=65536+((s&1023)<<10)+(r.charCodeAt(++n)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},bL=function(r){const e=[];let t=0,n=0;for(;t<r.length;){const s=r[t++];if(s<128)e[n++]=String.fromCharCode(s);else if(s>191&&s<224){const o=r[t++];e[n++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=r[t++],l=r[t++],c=r[t++],d=((s&7)<<18|(o&63)<<12|(l&63)<<6|c&63)-65536;e[n++]=String.fromCharCode(55296+(d>>10)),e[n++]=String.fromCharCode(56320+(d&1023))}else{const o=r[t++],l=r[t++];e[n++]=String.fromCharCode((s&15)<<12|(o&63)<<6|l&63)}}return e.join("")},wS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let s=0;s<r.length;s+=3){const o=r[s],l=s+1<r.length,c=l?r[s+1]:0,d=s+2<r.length,h=d?r[s+2]:0,g=o>>2,x=(o&3)<<4|c>>4;let B=(c&15)<<2|h>>6,w=h&63;d||(w=64,l||(B=64)),n.push(t[g],t[x],t[B],t[w])}return n.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(yS(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):bL(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let s=0;s<r.length;){const o=t[r.charAt(s++)],c=s<r.length?t[r.charAt(s)]:0;++s;const h=s<r.length?t[r.charAt(s)]:64;++s;const x=s<r.length?t[r.charAt(s)]:64;if(++s,o==null||c==null||h==null||x==null)throw new yL;const B=o<<2|c>>4;if(n.push(B),h!==64){const w=c<<4&240|h>>2;if(n.push(w),x!==64){const I=h<<6&192|x;n.push(I)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class yL extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const wL=function(r){const e=yS(r);return wS.encodeByteArray(e,!0)},vS=function(r){return wL(r).replace(/\./g,"")},BS=function(r){try{return wS.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vL=()=>NS().__FIREBASE_DEFAULTS__,BL=()=>{if(typeof process>"u"||typeof TN>"u")return;const r=TN.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},NL=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&BS(r[1]);return e&&JSON.parse(e)},bx=()=>{try{return xL()||vL()||BL()||NL()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},_L=r=>{var e,t;return(t=(e=bx())==null?void 0:e.emulatorHosts)==null?void 0:t[r]},_S=()=>{var r;return(r=bx())==null?void 0:r.config},CS=r=>{var e;return(e=bx())==null?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CL{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,n))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sf(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function ES(r){return(await fetch(r,{credentials:"include"})).ok}const W0={};function EL(){const r={prod:[],emulator:[]};for(const e of Object.keys(W0))W0[e]?r.emulator.push(e):r.prod.push(e);return r}function SL(r){let e=document.getElementById(r),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),t=!0),{created:t,element:e}}let UN=!1;function IL(r,e){if(typeof window>"u"||typeof document>"u"||!Sf(window.location.host)||W0[r]===e||W0[r]||UN)return;W0[r]=e;function t(B){return`__firebase__banner__${B}`}const n="__firebase__banner",o=EL().prod.length>0;function l(){const B=document.getElementById(n);B&&B.remove()}function c(B){B.style.display="flex",B.style.background="#7faaf0",B.style.position="fixed",B.style.bottom="5px",B.style.left="5px",B.style.padding=".5em",B.style.borderRadius="5px",B.style.alignItems="center"}function d(B,w){B.setAttribute("width","24"),B.setAttribute("id",w),B.setAttribute("height","24"),B.setAttribute("viewBox","0 0 24 24"),B.setAttribute("fill","none"),B.style.marginLeft="-6px"}function h(){const B=document.createElement("span");return B.style.cursor="pointer",B.style.marginLeft="16px",B.style.fontSize="24px",B.innerHTML=" &times;",B.onclick=()=>{UN=!0,l()},B}function g(B,w){B.setAttribute("id",w),B.innerText="Learn more",B.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",B.setAttribute("target","__blank"),B.style.paddingLeft="5px",B.style.textDecoration="underline"}function x(){const B=SL(n),w=t("text"),I=document.getElementById(w)||document.createElement("span"),j=t("learnmore"),M=document.getElementById(j)||document.createElement("a"),L=t("preprendIcon"),X=document.getElementById(L)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(B.created){const V=B.element;c(V),g(M,j);const z=h();d(X,L),V.append(X,I,M,z),document.body.appendChild(V)}o?(I.innerText="Preview backend disconnected.",X.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(X.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,I.innerText="Preview backend running in this workspace."),I.setAttribute("id",w)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",x):x()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function na(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function jL(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(na())}function SS(){var e;const r=(e=bx())==null?void 0:e.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function TL(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function IS(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function UL(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function FL(){const r=na();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function jS(){return!SS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function TS(){return!SS()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function wv(){try{return typeof indexedDB=="object"}catch{return!1}}function US(){return new Promise((r,e)=>{try{let t=!0;const n="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(n);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(n),r(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{var o;e(((o=s.error)==null?void 0:o.message)||"")}}catch(t){e(t)}})}function kL(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QL="FirebaseError";class NA extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name=QL,Object.setPrototypeOf(this,NA.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,kd.prototype.create)}}class kd{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},s=`${this.service}/${e}`,o=this.errors[e],l=o?LL(o,n):"Error",c=`${this.serviceName}: ${l} (${s}).`;return new NA(s,c,n)}}function LL(r,e){return r.replace(RL,(t,n)=>{const s=e[n];return s!=null?String(s):`<${n}?>`})}const RL=/\{\$([^}]+)}/g;function DL(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function yu(r,e){if(r===e)return!0;const t=Object.keys(r),n=Object.keys(e);for(const s of t){if(!n.includes(s))return!1;const o=r[s],l=e[s];if(FN(o)&&FN(l)){if(!yu(o,l))return!1}else if(o!==l)return!1}for(const s of n)if(!t.includes(s))return!1;return!0}function FN(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gg(r){const e=[];for(const[t,n]of Object.entries(r))Array.isArray(n)?n.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function R0(r){const e={};return r.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[s,o]=n.split("=");e[decodeURIComponent(s)]=decodeURIComponent(o)}}),e}function D0(r){const e=r.indexOf("?");if(!e)return"";const t=r.indexOf("#",e);return r.substring(e,t>0?t:void 0)}function OL(r,e){const t=new ML(r,e);return t.subscribe.bind(t)}class ML{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let s;if(e===void 0&&t===void 0&&n===void 0)throw new Error("Missing Observer.");PL(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:n},s.next===void 0&&(s.next=C2),s.error===void 0&&(s.error=C2),s.complete===void 0&&(s.complete=C2);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function PL(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function C2(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HL=1e3,VL=2,KL=14400*1e3,zL=.5;function kN(r,e=HL,t=VL){const n=e*Math.pow(t,r),s=Math.round(zL*n*(Math.random()-.5)*2);return Math.min(KL,n+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ss(r){return r&&r._delegate?r._delegate:r}class bA{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ju="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qL{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const n=new CL;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&n.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),n=(e==null?void 0:e.optional)??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(s){if(n)return null;throw s}else{if(n)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if($L(e))try{this.getOrInitializeService({instanceIdentifier:Ju})}catch{}for(const[t,n]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:s});n.resolve(o)}catch{}}}}clearInstance(e=Ju){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ju){return this.instances.has(e)}getOptions(e=Ju){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[o,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(o);n===c&&l.resolve(s)}return s}onInit(e,t){const n=this.normalizeInstanceIdentifier(t),s=this.onInitCallbacks.get(n)??new Set;s.add(e),this.onInitCallbacks.set(n,s);const o=this.instances.get(n);return o&&e(o,n),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const s of n)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:GL(e),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=Ju){return this.component?this.component.multipleInstances?e:Ju:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function GL(r){return r===Ju?void 0:r}function $L(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XL{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new qL(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pr;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Pr||(Pr={}));const YL={debug:Pr.DEBUG,verbose:Pr.VERBOSE,info:Pr.INFO,warn:Pr.WARN,error:Pr.ERROR,silent:Pr.SILENT},WL=Pr.INFO,JL={[Pr.DEBUG]:"log",[Pr.VERBOSE]:"log",[Pr.INFO]:"info",[Pr.WARN]:"warn",[Pr.ERROR]:"error"},ZL=(r,e,...t)=>{if(e<r.logLevel)return;const n=new Date().toISOString(),s=JL[e];if(s)console[s](`[${n}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let yx=class{constructor(e){this.name=e,this._logLevel=WL,this._logHandler=ZL,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pr))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?YL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pr.DEBUG,...e),this._logHandler(this,Pr.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pr.VERBOSE,...e),this._logHandler(this,Pr.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pr.INFO,...e),this._logHandler(this,Pr.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pr.WARN,...e),this._logHandler(this,Pr.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pr.ERROR,...e),this._logHandler(this,Pr.ERROR,...e)}};const e7=(r,e)=>e.some(t=>r instanceof t);let QN,LN;function t7(){return QN||(QN=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function r7(){return LN||(LN=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const FS=new WeakMap,Yy=new WeakMap,kS=new WeakMap,E2=new WeakMap,vv=new WeakMap;function n7(r){const e=new Promise((t,n)=>{const s=()=>{r.removeEventListener("success",o),r.removeEventListener("error",l)},o=()=>{t(du(r.result)),s()},l=()=>{n(r.error),s()};r.addEventListener("success",o),r.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&FS.set(t,r)}).catch(()=>{}),vv.set(e,r),e}function s7(r){if(Yy.has(r))return;const e=new Promise((t,n)=>{const s=()=>{r.removeEventListener("complete",o),r.removeEventListener("error",l),r.removeEventListener("abort",l)},o=()=>{t(),s()},l=()=>{n(r.error||new DOMException("AbortError","AbortError")),s()};r.addEventListener("complete",o),r.addEventListener("error",l),r.addEventListener("abort",l)});Yy.set(r,e)}let Wy={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return Yy.get(r);if(e==="objectStoreNames")return r.objectStoreNames||kS.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return du(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function a7(r){Wy=r(Wy)}function i7(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const n=r.call(S2(this),e,...t);return kS.set(n,e.sort?e.sort():[e]),du(n)}:r7().includes(r)?function(...e){return r.apply(S2(this),e),du(FS.get(this))}:function(...e){return du(r.apply(S2(this),e))}}function o7(r){return typeof r=="function"?i7(r):(r instanceof IDBTransaction&&s7(r),e7(r,t7())?new Proxy(r,Wy):r)}function du(r){if(r instanceof IDBRequest)return n7(r);if(E2.has(r))return E2.get(r);const e=o7(r);return e!==r&&(E2.set(r,e),vv.set(e,r)),e}const S2=r=>vv.get(r);function QS(r,e,{blocked:t,upgrade:n,blocking:s,terminated:o}={}){const l=indexedDB.open(r,e),c=du(l);return n&&l.addEventListener("upgradeneeded",d=>{n(du(l.result),d.oldVersion,d.newVersion,du(l.transaction),d)}),t&&l.addEventListener("blocked",d=>t(d.oldVersion,d.newVersion,d)),c.then(d=>{o&&d.addEventListener("close",()=>o()),s&&d.addEventListener("versionchange",h=>s(h.oldVersion,h.newVersion,h))}).catch(()=>{}),c}const A7=["get","getKey","getAll","getAllKeys","count"],l7=["put","add","delete","clear"],I2=new Map;function RN(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(I2.get(e))return I2.get(e);const t=e.replace(/FromIndex$/,""),n=e!==t,s=l7.includes(t);if(!(t in(n?IDBIndex:IDBObjectStore).prototype)||!(s||A7.includes(t)))return;const o=async function(l,...c){const d=this.transaction(l,s?"readwrite":"readonly");let h=d.store;return n&&(h=h.index(c.shift())),(await Promise.all([h[t](...c),s&&d.done]))[0]};return I2.set(e,o),o}a7(r=>({...r,get:(e,t,n)=>RN(e,t)||r.get(e,t,n),has:(e,t)=>!!RN(e,t)||r.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c7{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(u7(t)){const n=t.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(t=>t).join(" ")}}function u7(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Jy="@firebase/app",DN="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ac=new yx("@firebase/app"),d7="@firebase/app-compat",h7="@firebase/analytics-compat",f7="@firebase/analytics",g7="@firebase/app-check-compat",m7="@firebase/app-check",p7="@firebase/auth",x7="@firebase/auth-compat",b7="@firebase/database",y7="@firebase/data-connect",w7="@firebase/database-compat",v7="@firebase/functions",B7="@firebase/functions-compat",N7="@firebase/installations",_7="@firebase/installations-compat",C7="@firebase/messaging",E7="@firebase/messaging-compat",S7="@firebase/performance",I7="@firebase/performance-compat",j7="@firebase/remote-config",T7="@firebase/remote-config-compat",U7="@firebase/storage",F7="@firebase/storage-compat",k7="@firebase/firestore",Q7="@firebase/ai",L7="@firebase/firestore-compat",R7="firebase",D7="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zy="[DEFAULT]",O7={[Jy]:"fire-core",[d7]:"fire-core-compat",[f7]:"fire-analytics",[h7]:"fire-analytics-compat",[m7]:"fire-app-check",[g7]:"fire-app-check-compat",[p7]:"fire-auth",[x7]:"fire-auth-compat",[b7]:"fire-rtdb",[y7]:"fire-data-connect",[w7]:"fire-rtdb-compat",[v7]:"fire-fn",[B7]:"fire-fn-compat",[N7]:"fire-iid",[_7]:"fire-iid-compat",[C7]:"fire-fcm",[E7]:"fire-fcm-compat",[S7]:"fire-perf",[I7]:"fire-perf-compat",[j7]:"fire-rc",[T7]:"fire-rc-compat",[U7]:"fire-gcs",[F7]:"fire-gcs-compat",[k7]:"fire-fst",[L7]:"fire-fst-compat",[Q7]:"fire-vertex","fire-js":"fire-js",[R7]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C1=new Map,M7=new Map,ew=new Map;function ON(r,e){try{r.container.addComponent(e)}catch(t){ac.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function fl(r){const e=r.name;if(ew.has(e))return ac.debug(`There were multiple attempts to register component ${e}.`),!1;ew.set(e,r);for(const t of C1.values())ON(t,r);for(const t of M7.values())ON(t,r);return!0}function Qd(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function Do(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P7={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},hu=new kd("app","Firebase",P7);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H7{constructor(e,t,n){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new bA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw hu.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const If=D7;function LS(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const n={name:Zy,automaticDataCollectionEnabled:!0,...e},s=n.name;if(typeof s!="string"||!s)throw hu.create("bad-app-name",{appName:String(s)});if(t||(t=_S()),!t)throw hu.create("no-options");const o=C1.get(s);if(o){if(yu(t,o.options)&&yu(n,o.config))return o;throw hu.create("duplicate-app",{appName:s})}const l=new XL(s);for(const d of ew.values())l.addComponent(d);const c=new H7(t,n,l);return C1.set(s,c),c}function RS(r=Zy){const e=C1.get(r);if(!e&&r===Zy&&_S())return LS();if(!e)throw hu.create("no-app",{appName:r});return e}function Vo(r,e,t){let n=O7[r]??r;t&&(n+=`-${t}`);const s=n.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const l=[`Unable to register library "${n}" with version "${e}":`];s&&l.push(`library name "${n}" contains illegal characters (whitespace or "/")`),s&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ac.warn(l.join(" "));return}fl(new bA(`${n}-version`,()=>({library:n,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V7="firebase-heartbeat-database",K7=1,vg="firebase-heartbeat-store";let j2=null;function DS(){return j2||(j2=QS(V7,K7,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(vg)}catch(t){console.warn(t)}}}}).catch(r=>{throw hu.create("idb-open",{originalErrorMessage:r.message})})),j2}async function z7(r){try{const t=(await DS()).transaction(vg),n=await t.objectStore(vg).get(OS(r));return await t.done,n}catch(e){if(e instanceof NA)ac.warn(e.message);else{const t=hu.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ac.warn(t.message)}}}async function MN(r,e){try{const n=(await DS()).transaction(vg,"readwrite");await n.objectStore(vg).put(e,OS(r)),await n.done}catch(t){if(t instanceof NA)ac.warn(t.message);else{const n=hu.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});ac.warn(n.message)}}}function OS(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q7=1024,G7=30;class $7{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Y7(t),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,t;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=PN();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(l=>l.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:s}),this._heartbeatsCache.heartbeats.length>G7){const l=W7(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){ac.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=PN(),{heartbeatsToSend:n,unsentEntries:s}=X7(this._heartbeatsCache.heartbeats),o=vS(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return ac.warn(t),""}}}function PN(){return new Date().toISOString().substring(0,10)}function X7(r,e=q7){const t=[];let n=r.slice();for(const s of r){const o=t.find(l=>l.agent===s.agent);if(o){if(o.dates.push(s.date),HN(t)>e){o.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),HN(t)>e){t.pop();break}n=n.slice(1)}return{heartbeatsToSend:t,unsentEntries:n}}class Y7{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return wv()?US().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await z7(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return MN(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return MN(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}else return}}function HN(r){return vS(JSON.stringify({version:2,heartbeats:r})).length}function W7(r){if(r.length===0)return-1;let e=0,t=r[0].date;for(let n=1;n<r.length;n++)r[n].date<t&&(t=r[n].date,e=n);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J7(r){fl(new bA("platform-logger",e=>new c7(e),"PRIVATE")),fl(new bA("heartbeat",e=>new $7(e),"PRIVATE")),Vo(Jy,DN,r),Vo(Jy,DN,"esm2020"),Vo("fire-js","")}J7("");var Z7="firebase",eR="12.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Vo(Z7,eR,"app");function MS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const tR=MS,PS=new kd("auth","Firebase",MS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E1=new yx("@firebase/auth");function rR(r,...e){E1.logLevel<=Pr.WARN&&E1.warn(`Auth (${If}): ${r}`,...e)}function Wp(r,...e){E1.logLevel<=Pr.ERROR&&E1.error(`Auth (${If}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yA(r,...e){throw Bv(r,...e)}function ll(r,...e){return Bv(r,...e)}function HS(r,e,t){const n={...tR(),[e]:t};return new kd("auth","Firebase",n).create(e,{appName:r.name})}function ec(r){return HS(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Bv(r,...e){if(typeof r!="string"){const t=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=r.name),r._errorFactory.create(t,...n)}return PS.create(r,...e)}function gr(r,e,...t){if(!r)throw Bv(e,...t)}function Wl(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Wp(e),new Error(e)}function ic(r,e){r||Wl(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tw(){var r;return typeof self<"u"&&((r=self.location)==null?void 0:r.href)||""}function nR(){return VN()==="http:"||VN()==="https:"}function VN(){var r;return typeof self<"u"&&((r=self.location)==null?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(nR()||IS()||"connection"in navigator)?navigator.onLine:!0}function aR(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $g{constructor(e,t){this.shortDelay=e,this.longDelay=t,ic(t>e,"Short delay should be less than long delay!"),this.isMobile=jL()||UL()}get(){return sR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nv(r,e){ic(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Wl("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Wl("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Wl("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],AR=new $g(3e4,6e4);function cc(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function uc(r,e,t,n,s={}){return KS(r,s,async()=>{let o={},l={};n&&(e==="GET"?l=n:o={body:JSON.stringify(n)});const c=Gg({key:r.config.apiKey,...l}).slice(1),d=await r._getAdditionalHeaders();d["Content-Type"]="application/json",r.languageCode&&(d["X-Firebase-Locale"]=r.languageCode);const h={method:e,headers:d,...o};return TL()||(h.referrerPolicy="no-referrer"),r.emulatorConfig&&Sf(r.emulatorConfig.host)&&(h.credentials="include"),VS.fetch()(await zS(r,r.config.apiHost,t,c),h)})}async function KS(r,e,t){r._canInitEmulator=!1;const n={...iR,...e};try{const s=new cR(r),o=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const l=await o.json();if("needConfirmation"in l)throw cp(r,"account-exists-with-different-credential",l);if(o.ok&&!("errorMessage"in l))return l;{const c=o.ok?l.errorMessage:l.error.message,[d,h]=c.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw cp(r,"credential-already-in-use",l);if(d==="EMAIL_EXISTS")throw cp(r,"email-already-in-use",l);if(d==="USER_DISABLED")throw cp(r,"user-disabled",l);const g=n[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw HS(r,g,h);yA(r,g)}}catch(s){if(s instanceof NA)throw s;yA(r,"network-request-failed",{message:String(s)})}}async function Xg(r,e,t,n,s={}){const o=await uc(r,e,t,n,s);return"mfaPendingCredential"in o&&yA(r,"multi-factor-auth-required",{_serverResponse:o}),o}async function zS(r,e,t,n){const s=`${e}${t}?${n}`,o=r,l=o.config.emulator?Nv(r.config,s):`${r.config.apiScheme}://${s}`;return oR.includes(t)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(l).toString():l}function lR(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class cR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,n)=>{this.timer=setTimeout(()=>n(ll(this.auth,"network-request-failed")),AR.get())})}}function cp(r,e,t){const n={appName:r.name};t.email&&(n.email=t.email),t.phoneNumber&&(n.phoneNumber=t.phoneNumber);const s=ll(r,e,n);return s.customData._tokenResponse=t,s}function KN(r){return r!==void 0&&r.enterprise!==void 0}class uR{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return lR(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function dR(r,e){return uc(r,"GET","/v2/recaptchaConfig",cc(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hR(r,e){return uc(r,"POST","/v1/accounts:delete",e)}async function S1(r,e){return uc(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J0(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function fR(r,e=!1){const t=ss(r),n=await t.getIdToken(e),s=_v(n);gr(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const o=typeof s.firebase=="object"?s.firebase:void 0,l=o==null?void 0:o.sign_in_provider;return{claims:s,token:n,authTime:J0(T2(s.auth_time)),issuedAtTime:J0(T2(s.iat)),expirationTime:J0(T2(s.exp)),signInProvider:l||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function T2(r){return Number(r)*1e3}function _v(r){const[e,t,n]=r.split(".");if(e===void 0||t===void 0||n===void 0)return Wp("JWT malformed, contained fewer than 3 sections"),null;try{const s=BS(t);return s?JSON.parse(s):(Wp("Failed to decode base64 JWT payload"),null)}catch(s){return Wp("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function zN(r){const e=_v(r);return gr(e,"internal-error"),gr(typeof e.exp<"u","internal-error"),gr(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bg(r,e,t=!1){if(t)return e;try{return await e}catch(n){throw n instanceof NA&&gR(n)&&r.auth.currentUser===r&&await r.auth.signOut(),n}}function gR({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const n=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,n)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=J0(this.lastLoginAt),this.creationTime=J0(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I1(r){var x;const e=r.auth,t=await r.getIdToken(),n=await Bg(r,S1(e,{idToken:t}));gr(n==null?void 0:n.users.length,e,"internal-error");const s=n.users[0];r._notifyReloadListener(s);const o=(x=s.providerUserInfo)!=null&&x.length?qS(s.providerUserInfo):[],l=xR(r.providerData,o),c=r.isAnonymous,d=!(r.email&&s.passwordHash)&&!(l!=null&&l.length),h=c?d:!1,g={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new rw(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(r,g)}async function pR(r){const e=ss(r);await I1(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function xR(r,e){return[...r.filter(n=>!e.some(s=>s.providerId===n.providerId)),...e]}function qS(r){return r.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bR(r,e){const t=await KS(r,{},async()=>{const n=Gg({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:o}=r.config,l=await zS(r,s,"/v1/token",`key=${o}`),c=await r._getAdditionalHeaders();c["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:c,body:n};return r.emulatorConfig&&Sf(r.emulatorConfig.host)&&(d.credentials="include"),VS.fetch()(l,d)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function yR(r,e){return uc(r,"POST","/v2/accounts:revokeToken",cc(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){gr(e.idToken,"internal-error"),gr(typeof e.idToken<"u","internal-error"),gr(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):zN(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){gr(e.length!==0,"internal-error");const t=zN(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(gr(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:s,expiresIn:o}=await bR(e,t);this.updateTokensAndExpiration(n,s,Number(o))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,t){const{refreshToken:n,accessToken:s,expirationTime:o}=t,l=new qh;return n&&(gr(typeof n=="string","internal-error",{appName:e}),l.refreshToken=n),s&&(gr(typeof s=="string","internal-error",{appName:e}),l.accessToken=s),o&&(gr(typeof o=="number","internal-error",{appName:e}),l.expirationTime=o),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new qh,this.toJSON())}_performRefresh(){return Wl("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vc(r,e){gr(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class pA{constructor({uid:e,auth:t,stsTokenManager:n,...s}){this.providerId="firebase",this.proactiveRefresh=new mR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=n,this.accessToken=n.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new rw(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await Bg(this,this.stsTokenManager.getToken(this.auth,e));return gr(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return fR(this,e)}reload(){return pR(this)}_assign(e){this!==e&&(gr(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new pA({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){gr(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await I1(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Do(this.auth.app))return Promise.reject(ec(this.auth));const e=await this.getIdToken();return await Bg(this,hR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const n=t.displayName??void 0,s=t.email??void 0,o=t.phoneNumber??void 0,l=t.photoURL??void 0,c=t.tenantId??void 0,d=t._redirectEventId??void 0,h=t.createdAt??void 0,g=t.lastLoginAt??void 0,{uid:x,emailVerified:B,isAnonymous:w,providerData:I,stsTokenManager:j}=t;gr(x&&j,e,"internal-error");const M=qh.fromJSON(this.name,j);gr(typeof x=="string",e,"internal-error"),Vc(n,e.name),Vc(s,e.name),gr(typeof B=="boolean",e,"internal-error"),gr(typeof w=="boolean",e,"internal-error"),Vc(o,e.name),Vc(l,e.name),Vc(c,e.name),Vc(d,e.name),Vc(h,e.name),Vc(g,e.name);const L=new pA({uid:x,auth:e,email:s,emailVerified:B,displayName:n,isAnonymous:w,photoURL:l,phoneNumber:o,tenantId:c,stsTokenManager:M,createdAt:h,lastLoginAt:g});return I&&Array.isArray(I)&&(L.providerData=I.map(X=>({...X}))),d&&(L._redirectEventId=d),L}static async _fromIdTokenResponse(e,t,n=!1){const s=new qh;s.updateFromServerResponse(t);const o=new pA({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:n});return await I1(o),o}static async _fromGetAccountInfoResponse(e,t,n){const s=t.users[0];gr(s.localId!==void 0,"internal-error");const o=s.providerUserInfo!==void 0?qS(s.providerUserInfo):[],l=!(s.email&&s.passwordHash)&&!(o!=null&&o.length),c=new qh;c.updateFromIdToken(n);const d=new pA({uid:s.localId,auth:e,stsTokenManager:c,isAnonymous:l}),h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new rw(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(o!=null&&o.length)};return Object.assign(d,h),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qN=new Map;function Jl(r){ic(r instanceof Function,"Expected a class definition");let e=qN.get(r);return e?(ic(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,qN.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}GS.type="NONE";const GN=GS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jp(r,e,t){return`firebase:${r}:${e}:${t}`}class Gh{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:s,name:o}=this.auth;this.fullUserKey=Jp(this.userKey,s.apiKey,o),this.fullPersistenceKey=Jp("persistence",s.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await S1(this.auth,{idToken:e}).catch(()=>{});return t?pA._fromGetAccountInfoResponse(this.auth,t,e):null}return pA._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new Gh(Jl(GN),e,n);const s=(await Promise.all(t.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let o=s[0]||Jl(GN);const l=Jp(n,e.config.apiKey,e.name);let c=null;for(const h of t)try{const g=await h._get(l);if(g){let x;if(typeof g=="string"){const B=await S1(e,{idToken:g}).catch(()=>{});if(!B)break;x=await pA._fromGetAccountInfoResponse(e,B,g)}else x=pA._fromJSON(e,g);h!==o&&(c=x),o=h;break}}catch{}const d=s.filter(h=>h._shouldAllowMigration);return!o._shouldAllowMigration||!d.length?new Gh(o,e,n):(o=d[0],c&&await o._set(l,c.toJSON()),await Promise.all(t.map(async h=>{if(h!==o)try{await h._remove(l)}catch{}})),new Gh(o,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $N(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(WS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if($S(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(ZS(e))return"Blackberry";if(e6(e))return"Webos";if(XS(e))return"Safari";if((e.includes("chrome/")||YS(e))&&!e.includes("edge/"))return"Chrome";if(JS(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=r.match(t);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function $S(r=na()){return/firefox\//i.test(r)}function XS(r=na()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function YS(r=na()){return/crios\//i.test(r)}function WS(r=na()){return/iemobile/i.test(r)}function JS(r=na()){return/android/i.test(r)}function ZS(r=na()){return/blackberry/i.test(r)}function e6(r=na()){return/webos/i.test(r)}function Cv(r=na()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function wR(r=na()){var e;return Cv(r)&&!!((e=window.navigator)!=null&&e.standalone)}function vR(){return FL()&&document.documentMode===10}function t6(r=na()){return Cv(r)||JS(r)||e6(r)||ZS(r)||/windows phone/i.test(r)||WS(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r6(r,e=[]){let t;switch(r){case"Browser":t=$N(na());break;case"Worker":t=`${$N(na())}-${r}`;break;default:t=r}const n=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${If}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=o=>new Promise((l,c)=>{try{const d=e(o);l(d)}catch(d){c(d)}});n.onAbort=t,this.queue.push(n);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NR(r,e={}){return uc(r,"GET","/v2/passwordPolicy",cc(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _R=6;class CR{constructor(e){var n;const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??_R,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((n=e.allowedNonAlphanumericCharacters)==null?void 0:n.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let n;for(let s=0;s<e.length;s++)n=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,s,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ER{constructor(e,t,n,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new XN(this),this.idTokenSubscription=new XN(this),this.beforeStateQueue=new BR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=PS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Jl(t)),this._initializationPromise=this.queue(async()=>{var n,s,o;if(!this._deleted&&(this.persistenceManager=await Gh.create(this,e),(n=this._resolvePersistenceManagerAvailable)==null||n.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)==null?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await S1(this,{idToken:e}),n=await pA._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var o;if(Do(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let n=t,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(o=this.redirectUser)==null?void 0:o._redirectEventId,c=n==null?void 0:n._redirectEventId,d=await this.tryRedirectSignIn(e);(!l||l===c)&&(d!=null&&d.user)&&(n=d.user,s=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(n)}catch(l){n=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return gr(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await I1(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=aR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Do(this.app))return Promise.reject(ec(this));const t=e?ss(e):null;return t&&gr(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&gr(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Do(this.app)?Promise.reject(ec(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Do(this.app)?Promise.reject(ec(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Jl(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await NR(this),t=new CR(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new kd("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(n.tenantId=this.tenantId),await yR(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Jl(e)||this._popupRedirectResolver;gr(t,this,"argument-error"),this.redirectPersistenceManager=await Gh.create(this,[Jl(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)==null?void 0:t._redirectEventId)===e?this._currentUser:((n=this.redirectUser)==null?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((t=this.currentUser)==null?void 0:t.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,s){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(gr(c,this,"internal-error"),c.then(()=>{l||o(this.currentUser)}),typeof t=="function"){const d=e.addObserver(t,n,s);return()=>{l=!0,d()}}else{const d=e.addObserver(t);return()=>{l=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return gr(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=r6(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());t&&(e["X-Firebase-Client"]=t);const n=await this._getAppCheckToken();return n&&(e["X-Firebase-AppCheck"]=n),e}async _getAppCheckToken(){var t;if(Do(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:t.getToken());return e!=null&&e.error&&rR(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Eu(r){return ss(r)}class XN{constructor(e){this.auth=e,this.observer=null,this.addObserver=OL(t=>this.observer=t)}get next(){return gr(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wx={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function SR(r){wx=r}function n6(r){return wx.loadJS(r)}function IR(){return wx.recaptchaEnterpriseScript}function jR(){return wx.gapiScript}function TR(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class UR{constructor(){this.enterprise=new FR}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class FR{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const kR="recaptcha-enterprise",s6="NO_RECAPTCHA";class QR{constructor(e){this.type=kR,this.auth=Eu(e)}async verify(e="verify",t=!1){async function n(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(l,c)=>{dR(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const h=new uR(d);return o.tenantId==null?o._agentRecaptchaConfig=h:o._tenantRecaptchaConfigs[o.tenantId]=h,l(h.siteKey)}}).catch(d=>{c(d)})})}function s(o,l,c){const d=window.grecaptcha;KN(d)?d.enterprise.ready(()=>{d.enterprise.execute(o,{action:e}).then(h=>{l(h)}).catch(()=>{l(s6)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new UR().execute("siteKey",{action:"verify"}):new Promise((o,l)=>{n(this.auth).then(c=>{if(!t&&KN(window.grecaptcha))s(c,o,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let d=IR();d.length!==0&&(d+=c),n6(d).then(()=>{s(c,o,l)}).catch(h=>{l(h)})}}).catch(c=>{l(c)})})}}async function YN(r,e,t,n=!1,s=!1){const o=new QR(r);let l;if(s)l=s6;else try{l=await o.verify(t)}catch{l=await o.verify(t,!0)}const c={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const d=c.phoneEnrollmentInfo.phoneNumber,h=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:h,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const d=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return n?Object.assign(c,{captchaResp:l}):Object.assign(c,{captchaResponse:l}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function j1(r,e,t,n,s){var o;if((o=r._getRecaptchaConfig())!=null&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await YN(r,e,t,t==="getOobCode");return n(r,l)}else return n(r,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await YN(r,e,t,t==="getOobCode");return n(r,c)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LR(r,e){const t=Qd(r,"auth");if(t.isInitialized()){const s=t.getImmediate(),o=t.getOptions();if(yu(o,e??{}))return s;yA(s,"already-initialized")}return t.initialize({options:e})}function RR(r,e){const t=(e==null?void 0:e.persistence)||[],n=(Array.isArray(t)?t:[t]).map(Jl);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function DR(r,e,t){const n=Eu(r);gr(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const s=!1,o=a6(e),{host:l,port:c}=OR(e),d=c===null?"":`:${c}`,h={url:`${o}//${l}${d}/`},g=Object.freeze({host:l,port:c,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!n._canInitEmulator){gr(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),gr(yu(h,n.config.emulator)&&yu(g,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=h,n.emulatorConfig=g,n.settings.appVerificationDisabledForTesting=!0,Sf(l)?(ES(`${o}//${l}${d}`),IL("Auth",!0)):MR()}function a6(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function OR(r){const e=a6(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const n=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(n);if(s){const o=s[1];return{host:o,port:WN(n.substr(o.length+1))}}else{const[o,l]=n.split(":");return{host:o,port:WN(l)}}}function WN(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function MR(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ev{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Wl("not implemented")}_getIdTokenResponse(e){return Wl("not implemented")}_linkToIdToken(e,t){return Wl("not implemented")}_getReauthenticationResolver(e){return Wl("not implemented")}}async function PR(r,e){return uc(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HR(r,e){return Xg(r,"POST","/v1/accounts:signInWithPassword",cc(r,e))}async function VR(r,e){return uc(r,"POST","/v1/accounts:sendOobCode",cc(r,e))}async function KR(r,e){return VR(r,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zR(r,e){return Xg(r,"POST","/v1/accounts:signInWithEmailLink",cc(r,e))}async function qR(r,e){return Xg(r,"POST","/v1/accounts:signInWithEmailLink",cc(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ng extends Ev{constructor(e,t,n,s=null){super("password",n),this._email=e,this._password=t,this._tenantId=s}static _fromEmailAndPassword(e,t){return new Ng(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new Ng(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return j1(e,t,"signInWithPassword",HR);case"emailLink":return zR(e,{email:this._email,oobCode:this._password});default:yA(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const n={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return j1(e,n,"signUpPassword",PR);case"emailLink":return qR(e,{idToken:t,email:this._email,oobCode:this._password});default:yA(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $h(r,e){return Xg(r,"POST","/v1/accounts:signInWithIdp",cc(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GR="http://localhost";class wd extends Ev{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new wd(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):yA("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:s,...o}=t;if(!n||!s)return null;const l=new wd(n,s);return l.idToken=o.idToken||void 0,l.accessToken=o.accessToken||void 0,l.secret=o.secret,l.nonce=o.nonce,l.pendingToken=o.pendingToken||null,l}_getIdTokenResponse(e){const t=this.buildRequest();return $h(e,t)}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,$h(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,$h(e,t)}buildRequest(){const e={requestUri:GR,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Gg(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $R(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function XR(r){const e=R0(D0(r)).link,t=e?R0(D0(e)).deep_link_id:null,n=R0(D0(r)).deep_link_id;return(n?R0(D0(n)).link:null)||n||t||e||r}class Sv{constructor(e){const t=R0(D0(e)),n=t.apiKey??null,s=t.oobCode??null,o=$R(t.mode??null);gr(n&&s&&o,"argument-error"),this.apiKey=n,this.operation=o,this.code=s,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=XR(e);try{return new Sv(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jf{constructor(){this.providerId=jf.PROVIDER_ID}static credential(e,t){return Ng._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Sv.parseLink(t);return gr(n,"argument-error"),Ng._fromEmailAndCode(e,n.code,n.tenantId)}}jf.PROVIDER_ID="password";jf.EMAIL_PASSWORD_SIGN_IN_METHOD="password";jf.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i6{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yg extends i6{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc extends Yg{constructor(){super("facebook.com")}static credential(e){return wd._fromParams({providerId:Jc.PROVIDER_ID,signInMethod:Jc.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Jc.credentialFromTaggedObject(e)}static credentialFromError(e){return Jc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Jc.credential(e.oauthAccessToken)}catch{return null}}}Jc.FACEBOOK_SIGN_IN_METHOD="facebook.com";Jc.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc extends Yg{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return wd._fromParams({providerId:Zc.PROVIDER_ID,signInMethod:Zc.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Zc.credentialFromTaggedObject(e)}static credentialFromError(e){return Zc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return Zc.credential(t,n)}catch{return null}}}Zc.GOOGLE_SIGN_IN_METHOD="google.com";Zc.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu extends Yg{constructor(){super("github.com")}static credential(e){return wd._fromParams({providerId:eu.PROVIDER_ID,signInMethod:eu.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return eu.credentialFromTaggedObject(e)}static credentialFromError(e){return eu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return eu.credential(e.oauthAccessToken)}catch{return null}}}eu.GITHUB_SIGN_IN_METHOD="github.com";eu.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu extends Yg{constructor(){super("twitter.com")}static credential(e,t){return wd._fromParams({providerId:tu.PROVIDER_ID,signInMethod:tu.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return tu.credentialFromTaggedObject(e)}static credentialFromError(e){return tu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return tu.credential(t,n)}catch{return null}}}tu.TWITTER_SIGN_IN_METHOD="twitter.com";tu.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YR(r,e){return Xg(r,"POST","/v1/accounts:signUp",cc(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,s=!1){const o=await pA._fromIdTokenResponse(e,n,s),l=JN(n);return new vd({user:o,providerId:l,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const s=JN(n);return new vd({user:e,providerId:s,_tokenResponse:n,operationType:t})}}function JN(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T1 extends NA{constructor(e,t,n,s){super(t.code,t.message),this.operationType=n,this.user=s,Object.setPrototypeOf(this,T1.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,s){return new T1(e,t,n,s)}}function o6(r,e,t,n){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?T1._fromErrorAndOperation(r,o,e,n):o})}async function WR(r,e,t=!1){const n=await Bg(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return vd._forOperation(r,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JR(r,e,t=!1){const{auth:n}=r;if(Do(n.app))return Promise.reject(ec(n));const s="reauthenticate";try{const o=await Bg(r,o6(n,s,e,r),t);gr(o.idToken,n,"internal-error");const l=_v(o.idToken);gr(l,n,"internal-error");const{sub:c}=l;return gr(r.uid===c,n,"user-mismatch"),vd._forOperation(r,s,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&yA(n,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A6(r,e,t=!1){if(Do(r.app))return Promise.reject(ec(r));const n="signIn",s=await o6(r,n,e),o=await vd._fromIdTokenResponse(r,n,s);return t||await r._updateCurrentUser(o.user),o}async function ZR(r,e){return A6(Eu(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l6(r){const e=Eu(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function e9(r,e,t){const n=Eu(r);await j1(n,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",KR)}async function t9(r,e,t){if(Do(r.app))return Promise.reject(ec(r));const n=Eu(r),l=await j1(n,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",YR).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&l6(r),d}),c=await vd._fromIdTokenResponse(n,"signIn",l);return await n._updateCurrentUser(c.user),c}function r9(r,e,t){return Do(r.app)?Promise.reject(ec(r)):ZR(ss(r),jf.credential(e,t)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&l6(r),n})}function n9(r,e,t,n){return ss(r).onIdTokenChanged(e,t,n)}function s9(r,e,t){return ss(r).beforeAuthStateChanged(e,t)}function a9(r,e,t,n){return ss(r).onAuthStateChanged(e,t,n)}function i9(r){return ss(r).signOut()}const U1="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c6{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(U1,"1"),this.storage.removeItem(U1),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o9=1e3,A9=10;class u6 extends c6{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=t6(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),s=this.localCache[t];n!==s&&e(t,s,n)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((l,c,d)=>{this.notifyListeners(l,d)});return}const n=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const l=this.storage.getItem(n);!t&&this.localCache[n]===l||this.notifyListeners(n,l)},o=this.storage.getItem(n);vR()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,A9):s()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const s of Array.from(n))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},o9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}u6.type="LOCAL";const l9=u6;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d6 extends c6{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}d6.type="SESSION";const h6=d6;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c9(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vx{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const n=new vx(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:s,data:o}=t.data,l=this.handlersMap[s];if(!(l!=null&&l.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:s});const c=Array.from(l).map(async h=>h(t.origin,o)),d=await c9(c);t.ports[0].postMessage({status:"done",eventId:n,eventType:s,response:d})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}vx.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iv(r="",e=10){let t="";for(let n=0;n<e;n++)t+=Math.floor(Math.random()*10);return r+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u9{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,l;return new Promise((c,d)=>{const h=Iv("",20);s.port1.start();const g=setTimeout(()=>{d(new Error("unsupported_event"))},n);l={messageChannel:s,onMessage(x){const B=x;if(B.data.eventId===h)switch(B.data.status){case"ack":clearTimeout(g),o=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(B.data.response);break;default:clearTimeout(g),clearTimeout(o),d(new Error("invalid_response"));break}}},this.handlers.add(l),s.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:h,data:t},[s.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cl(){return window}function d9(r){cl().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f6(){return typeof cl().WorkerGlobalScope<"u"&&typeof cl().importScripts=="function"}async function h9(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function f9(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)==null?void 0:r.controller)||null}function g9(){return f6()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g6="firebaseLocalStorageDb",m9=1,F1="firebaseLocalStorage",m6="fbase_key";class Wg{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Bx(r,e){return r.transaction([F1],e?"readwrite":"readonly").objectStore(F1)}function p9(){const r=indexedDB.deleteDatabase(g6);return new Wg(r).toPromise()}function nw(){const r=indexedDB.open(g6,m9);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const n=r.result;try{n.createObjectStore(F1,{keyPath:m6})}catch(s){t(s)}}),r.addEventListener("success",async()=>{const n=r.result;n.objectStoreNames.contains(F1)?e(n):(n.close(),await p9(),e(await nw()))})})}async function ZN(r,e,t){const n=Bx(r,!0).put({[m6]:e,value:t});return new Wg(n).toPromise()}async function x9(r,e){const t=Bx(r,!1).get(e),n=await new Wg(t).toPromise();return n===void 0?null:n.value}function e_(r,e){const t=Bx(r,!0).delete(e);return new Wg(t).toPromise()}const b9=800,y9=3;class p6{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await nw(),this.db)}async _withRetries(e){let t=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(t++>y9)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return f6()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=vx._getInstance(g9()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await h9(),!this.activeServiceWorker)return;this.sender=new u9(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(t=e[0])!=null&&t.fulfilled&&(n=e[0])!=null&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||f9()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await nw();return await ZN(e,U1,"1"),await e_(e,U1),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>ZN(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(n=>x9(n,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>e_(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const o=Bx(s,!1).getAll();return new Wg(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],n=new Set;if(e.length!==0)for(const{fbase_key:s,value:o}of e)n.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!n.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const s of Array.from(n))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),b9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}p6.type="LOCAL";const w9=p6;new $g(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v9(r,e){return e?Jl(e):(gr(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jv extends Ev{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return $h(e,this._buildIdpRequest())}_linkToIdToken(e,t){return $h(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return $h(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function B9(r){return A6(r.auth,new jv(r),r.bypassAuthState)}function N9(r){const{auth:e,user:t}=r;return gr(t,e,"internal-error"),JR(t,new jv(r),r.bypassAuthState)}async function _9(r){const{auth:e,user:t}=r;return gr(t,e,"internal-error"),WR(t,new jv(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x6{constructor(e,t,n,s,o=!1){this.auth=e,this.resolver=n,this.user=s,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:s,tenantId:o,error:l,type:c}=e;if(l){this.reject(l);return}const d={auth:this.auth,requestUri:t,sessionId:n,tenantId:o||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(d))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return B9;case"linkViaPopup":case"linkViaRedirect":return _9;case"reauthViaPopup":case"reauthViaRedirect":return N9;default:yA(this.auth,"internal-error")}}resolve(e){ic(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ic(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C9=new $g(2e3,1e4);class Vh extends x6{constructor(e,t,n,s,o){super(e,t,s,o),this.provider=n,this.authWindow=null,this.pollId=null,Vh.currentPopupAction&&Vh.currentPopupAction.cancel(),Vh.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return gr(e,this.auth,"internal-error"),e}async onExecution(){ic(this.filter.length===1,"Popup operations only handle one event");const e=Iv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(ll(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(ll(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Vh.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;if((n=(t=this.authWindow)==null?void 0:t.window)!=null&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ll(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,C9.get())};e()}}Vh.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E9="pendingRedirect",Zp=new Map;class S9 extends x6{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=Zp.get(this.auth._key());if(!e){try{const n=await I9(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}Zp.set(this.auth._key(),e)}return this.bypassAuthState||Zp.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function I9(r,e){const t=U9(e),n=T9(r);if(!await n._isAvailable())return!1;const s=await n._get(t)==="true";return await n._remove(t),s}function j9(r,e){Zp.set(r._key(),e)}function T9(r){return Jl(r._redirectPersistence)}function U9(r){return Jp(E9,r.config.apiKey,r.name)}async function F9(r,e,t=!1){if(Do(r.app))return Promise.reject(ec(r));const n=Eu(r),s=v9(n,e),l=await new S9(n,s,t).execute();return l&&!t&&(delete l.user._redirectEventId,await n._persistUserIfCurrent(l.user),await n._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k9=600*1e3;class Q9{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!L9(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!b6(e)){const s=((n=e.error.code)==null?void 0:n.split("auth/")[1])||"internal-error";t.onError(ll(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=k9&&this.cachedEventUids.clear(),this.cachedEventUids.has(t_(e))}saveEventToCache(e){this.cachedEventUids.add(t_(e)),this.lastProcessedEventTime=Date.now()}}function t_(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function b6({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function L9(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return b6(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R9(r,e={}){return uc(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D9=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,O9=/^https?/;async function M9(r){if(r.config.emulator)return;const{authorizedDomains:e}=await R9(r);for(const t of e)try{if(P9(t))return}catch{}yA(r,"unauthorized-domain")}function P9(r){const e=tw(),{protocol:t,hostname:n}=new URL(e);if(r.startsWith("chrome-extension://")){const l=new URL(r);return l.hostname===""&&n===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&l.hostname===n}if(!O9.test(t))return!1;if(D9.test(r))return n===r;const s=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H9=new $g(3e4,6e4);function r_(){const r=cl().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function V9(r){return new Promise((e,t)=>{var s,o,l;function n(){r_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{r_(),t(ll(r,"network-request-failed"))},timeout:H9.get()})}if((o=(s=cl().gapi)==null?void 0:s.iframes)!=null&&o.Iframe)e(gapi.iframes.getContext());else if((l=cl().gapi)!=null&&l.load)n();else{const c=TR("iframefcb");return cl()[c]=()=>{gapi.load?n():t(ll(r,"network-request-failed"))},n6(`${jR()}?onload=${c}`).catch(d=>t(d))}}).catch(e=>{throw e1=null,e})}let e1=null;function K9(r){return e1=e1||V9(r),e1}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z9=new $g(5e3,15e3),q9="__/auth/iframe",G9="emulator/auth/iframe",$9={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},X9=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Y9(r){const e=r.config;gr(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?Nv(e,G9):`https://${r.config.authDomain}/${q9}`,n={apiKey:e.apiKey,appName:r.name,v:If},s=X9.get(r.config.apiHost);s&&(n.eid=s);const o=r._getFrameworks();return o.length&&(n.fw=o.join(",")),`${t}?${Gg(n).slice(1)}`}async function W9(r){const e=await K9(r),t=cl().gapi;return gr(t,r,"internal-error"),e.open({where:document.body,url:Y9(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:$9,dontclear:!0},n=>new Promise(async(s,o)=>{await n.restyle({setHideOnLeave:!1});const l=ll(r,"network-request-failed"),c=cl().setTimeout(()=>{o(l)},z9.get());function d(){cl().clearTimeout(c),s(n)}n.ping(d).then(d,()=>{o(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J9={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Z9=500,eD=600,tD="_blank",rD="http://localhost";class n_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function nD(r,e,t,n=Z9,s=eD){const o=Math.max((window.screen.availHeight-s)/2,0).toString(),l=Math.max((window.screen.availWidth-n)/2,0).toString();let c="";const d={...J9,width:n.toString(),height:s.toString(),top:o,left:l},h=na().toLowerCase();t&&(c=YS(h)?tD:t),$S(h)&&(e=e||rD,d.scrollbars="yes");const g=Object.entries(d).reduce((B,[w,I])=>`${B}${w}=${I},`,"");if(wR(h)&&c!=="_self")return sD(e||"",c),new n_(null);const x=window.open(e||"",c,g);gr(x,r,"popup-blocked");try{x.focus()}catch{}return new n_(x)}function sD(r,e){const t=document.createElement("a");t.href=r,t.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aD="__/auth/handler",iD="emulator/auth/handler",oD=encodeURIComponent("fac");async function s_(r,e,t,n,s,o){gr(r.config.authDomain,r,"auth-domain-config-required"),gr(r.config.apiKey,r,"invalid-api-key");const l={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:n,v:If,eventId:s};if(e instanceof i6){e.setDefaultLanguage(r.languageCode),l.providerId=e.providerId||"",DL(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,x]of Object.entries({}))l[g]=x}if(e instanceof Yg){const g=e.getScopes().filter(x=>x!=="");g.length>0&&(l.scopes=g.join(","))}r.tenantId&&(l.tid=r.tenantId);const c=l;for(const g of Object.keys(c))c[g]===void 0&&delete c[g];const d=await r._getAppCheckToken(),h=d?`#${oD}=${encodeURIComponent(d)}`:"";return`${AD(r)}?${Gg(c).slice(1)}${h}`}function AD({config:r}){return r.emulator?Nv(r,iD):`https://${r.authDomain}/${aD}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U2="webStorageSupport";class lD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=h6,this._completeRedirectFn=F9,this._overrideRedirectResult=j9}async _openPopup(e,t,n,s){var l;ic((l=this.eventManagers[e._key()])==null?void 0:l.manager,"_initialize() not called before _openPopup()");const o=await s_(e,t,n,tw(),s);return nD(e,o,Iv())}async _openRedirect(e,t,n,s){await this._originValidation(e);const o=await s_(e,t,n,tw(),s);return d9(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:o}=this.eventManagers[t];return s?Promise.resolve(s):(ic(o,"If manager is not set, promise should be"),o)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await W9(e),n=new Q9(e);return t.register("authEvent",s=>(gr(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:n.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(U2,{type:U2},s=>{var l;const o=(l=s==null?void 0:s[0])==null?void 0:l[U2];o!==void 0&&t(!!o),yA(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=M9(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return t6()||XS()||Cv()}}const cD=lD;var a_="@firebase/auth",i_="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){gr(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dD(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function hD(r){fl(new bA("auth",(e,{options:t})=>{const n=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=n.options;gr(l&&!l.includes(":"),"invalid-api-key",{appName:n.name});const d={apiKey:l,authDomain:c,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:r6(r)},h=new ER(n,s,o,d);return RR(h,t),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),fl(new bA("auth-internal",e=>{const t=Eu(e.getProvider("auth").getImmediate());return(n=>new uD(n))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Vo(a_,i_,dD(r)),Vo(a_,i_,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fD=300,gD=CS("authIdTokenMaxAge")||fD;let o_=null;const mD=r=>async e=>{const t=e&&await e.getIdTokenResult(),n=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>gD)return;const s=t==null?void 0:t.token;o_!==s&&(o_=s,await fetch(r,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function pD(r=RS()){const e=Qd(r,"auth");if(e.isInitialized())return e.getImmediate();const t=LR(r,{popupRedirectResolver:cD,persistence:[w9,l9,h6]}),n=CS("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(n,location.origin);if(location.origin===o.origin){const l=mD(o.toString());s9(t,l,()=>l(t.currentUser)),n9(t,c=>l(c))}}const s=_L("auth");return s&&DR(t,`http://${s}`),t}function xD(){var r;return((r=document.getElementsByTagName("head"))==null?void 0:r[0])??document}SR({loadJS(r){return new Promise((e,t)=>{const n=document.createElement("script");n.setAttribute("src",r),n.onload=e,n.onerror=s=>{const o=ll("internal-error");o.customData=s,t(o)},n.type="text/javascript",n.charset="UTF-8",xD().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});hD("Browser");var A_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var fu,y6;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(R,U){function S(){}S.prototype=U.prototype,R.F=U.prototype,R.prototype=new S,R.prototype.constructor=R,R.D=function(P,E,F){for(var Q=Array(arguments.length-2),J=2;J<arguments.length;J++)Q[J-2]=arguments[J];return U.prototype[E].apply(P,Q)}}function t(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(n,t),n.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(R,U,S){S||(S=0);const P=Array(16);if(typeof U=="string")for(var E=0;E<16;++E)P[E]=U.charCodeAt(S++)|U.charCodeAt(S++)<<8|U.charCodeAt(S++)<<16|U.charCodeAt(S++)<<24;else for(E=0;E<16;++E)P[E]=U[S++]|U[S++]<<8|U[S++]<<16|U[S++]<<24;U=R.g[0],S=R.g[1],E=R.g[2];let F=R.g[3],Q;Q=U+(F^S&(E^F))+P[0]+3614090360&4294967295,U=S+(Q<<7&4294967295|Q>>>25),Q=F+(E^U&(S^E))+P[1]+3905402710&4294967295,F=U+(Q<<12&4294967295|Q>>>20),Q=E+(S^F&(U^S))+P[2]+606105819&4294967295,E=F+(Q<<17&4294967295|Q>>>15),Q=S+(U^E&(F^U))+P[3]+3250441966&4294967295,S=E+(Q<<22&4294967295|Q>>>10),Q=U+(F^S&(E^F))+P[4]+4118548399&4294967295,U=S+(Q<<7&4294967295|Q>>>25),Q=F+(E^U&(S^E))+P[5]+1200080426&4294967295,F=U+(Q<<12&4294967295|Q>>>20),Q=E+(S^F&(U^S))+P[6]+2821735955&4294967295,E=F+(Q<<17&4294967295|Q>>>15),Q=S+(U^E&(F^U))+P[7]+4249261313&4294967295,S=E+(Q<<22&4294967295|Q>>>10),Q=U+(F^S&(E^F))+P[8]+1770035416&4294967295,U=S+(Q<<7&4294967295|Q>>>25),Q=F+(E^U&(S^E))+P[9]+2336552879&4294967295,F=U+(Q<<12&4294967295|Q>>>20),Q=E+(S^F&(U^S))+P[10]+4294925233&4294967295,E=F+(Q<<17&4294967295|Q>>>15),Q=S+(U^E&(F^U))+P[11]+2304563134&4294967295,S=E+(Q<<22&4294967295|Q>>>10),Q=U+(F^S&(E^F))+P[12]+1804603682&4294967295,U=S+(Q<<7&4294967295|Q>>>25),Q=F+(E^U&(S^E))+P[13]+4254626195&4294967295,F=U+(Q<<12&4294967295|Q>>>20),Q=E+(S^F&(U^S))+P[14]+2792965006&4294967295,E=F+(Q<<17&4294967295|Q>>>15),Q=S+(U^E&(F^U))+P[15]+1236535329&4294967295,S=E+(Q<<22&4294967295|Q>>>10),Q=U+(E^F&(S^E))+P[1]+4129170786&4294967295,U=S+(Q<<5&4294967295|Q>>>27),Q=F+(S^E&(U^S))+P[6]+3225465664&4294967295,F=U+(Q<<9&4294967295|Q>>>23),Q=E+(U^S&(F^U))+P[11]+643717713&4294967295,E=F+(Q<<14&4294967295|Q>>>18),Q=S+(F^U&(E^F))+P[0]+3921069994&4294967295,S=E+(Q<<20&4294967295|Q>>>12),Q=U+(E^F&(S^E))+P[5]+3593408605&4294967295,U=S+(Q<<5&4294967295|Q>>>27),Q=F+(S^E&(U^S))+P[10]+38016083&4294967295,F=U+(Q<<9&4294967295|Q>>>23),Q=E+(U^S&(F^U))+P[15]+3634488961&4294967295,E=F+(Q<<14&4294967295|Q>>>18),Q=S+(F^U&(E^F))+P[4]+3889429448&4294967295,S=E+(Q<<20&4294967295|Q>>>12),Q=U+(E^F&(S^E))+P[9]+568446438&4294967295,U=S+(Q<<5&4294967295|Q>>>27),Q=F+(S^E&(U^S))+P[14]+3275163606&4294967295,F=U+(Q<<9&4294967295|Q>>>23),Q=E+(U^S&(F^U))+P[3]+4107603335&4294967295,E=F+(Q<<14&4294967295|Q>>>18),Q=S+(F^U&(E^F))+P[8]+1163531501&4294967295,S=E+(Q<<20&4294967295|Q>>>12),Q=U+(E^F&(S^E))+P[13]+2850285829&4294967295,U=S+(Q<<5&4294967295|Q>>>27),Q=F+(S^E&(U^S))+P[2]+4243563512&4294967295,F=U+(Q<<9&4294967295|Q>>>23),Q=E+(U^S&(F^U))+P[7]+1735328473&4294967295,E=F+(Q<<14&4294967295|Q>>>18),Q=S+(F^U&(E^F))+P[12]+2368359562&4294967295,S=E+(Q<<20&4294967295|Q>>>12),Q=U+(S^E^F)+P[5]+4294588738&4294967295,U=S+(Q<<4&4294967295|Q>>>28),Q=F+(U^S^E)+P[8]+2272392833&4294967295,F=U+(Q<<11&4294967295|Q>>>21),Q=E+(F^U^S)+P[11]+1839030562&4294967295,E=F+(Q<<16&4294967295|Q>>>16),Q=S+(E^F^U)+P[14]+4259657740&4294967295,S=E+(Q<<23&4294967295|Q>>>9),Q=U+(S^E^F)+P[1]+2763975236&4294967295,U=S+(Q<<4&4294967295|Q>>>28),Q=F+(U^S^E)+P[4]+1272893353&4294967295,F=U+(Q<<11&4294967295|Q>>>21),Q=E+(F^U^S)+P[7]+4139469664&4294967295,E=F+(Q<<16&4294967295|Q>>>16),Q=S+(E^F^U)+P[10]+3200236656&4294967295,S=E+(Q<<23&4294967295|Q>>>9),Q=U+(S^E^F)+P[13]+681279174&4294967295,U=S+(Q<<4&4294967295|Q>>>28),Q=F+(U^S^E)+P[0]+3936430074&4294967295,F=U+(Q<<11&4294967295|Q>>>21),Q=E+(F^U^S)+P[3]+3572445317&4294967295,E=F+(Q<<16&4294967295|Q>>>16),Q=S+(E^F^U)+P[6]+76029189&4294967295,S=E+(Q<<23&4294967295|Q>>>9),Q=U+(S^E^F)+P[9]+3654602809&4294967295,U=S+(Q<<4&4294967295|Q>>>28),Q=F+(U^S^E)+P[12]+3873151461&4294967295,F=U+(Q<<11&4294967295|Q>>>21),Q=E+(F^U^S)+P[15]+530742520&4294967295,E=F+(Q<<16&4294967295|Q>>>16),Q=S+(E^F^U)+P[2]+3299628645&4294967295,S=E+(Q<<23&4294967295|Q>>>9),Q=U+(E^(S|~F))+P[0]+4096336452&4294967295,U=S+(Q<<6&4294967295|Q>>>26),Q=F+(S^(U|~E))+P[7]+1126891415&4294967295,F=U+(Q<<10&4294967295|Q>>>22),Q=E+(U^(F|~S))+P[14]+2878612391&4294967295,E=F+(Q<<15&4294967295|Q>>>17),Q=S+(F^(E|~U))+P[5]+4237533241&4294967295,S=E+(Q<<21&4294967295|Q>>>11),Q=U+(E^(S|~F))+P[12]+1700485571&4294967295,U=S+(Q<<6&4294967295|Q>>>26),Q=F+(S^(U|~E))+P[3]+2399980690&4294967295,F=U+(Q<<10&4294967295|Q>>>22),Q=E+(U^(F|~S))+P[10]+4293915773&4294967295,E=F+(Q<<15&4294967295|Q>>>17),Q=S+(F^(E|~U))+P[1]+2240044497&4294967295,S=E+(Q<<21&4294967295|Q>>>11),Q=U+(E^(S|~F))+P[8]+1873313359&4294967295,U=S+(Q<<6&4294967295|Q>>>26),Q=F+(S^(U|~E))+P[15]+4264355552&4294967295,F=U+(Q<<10&4294967295|Q>>>22),Q=E+(U^(F|~S))+P[6]+2734768916&4294967295,E=F+(Q<<15&4294967295|Q>>>17),Q=S+(F^(E|~U))+P[13]+1309151649&4294967295,S=E+(Q<<21&4294967295|Q>>>11),Q=U+(E^(S|~F))+P[4]+4149444226&4294967295,U=S+(Q<<6&4294967295|Q>>>26),Q=F+(S^(U|~E))+P[11]+3174756917&4294967295,F=U+(Q<<10&4294967295|Q>>>22),Q=E+(U^(F|~S))+P[2]+718787259&4294967295,E=F+(Q<<15&4294967295|Q>>>17),Q=S+(F^(E|~U))+P[9]+3951481745&4294967295,R.g[0]=R.g[0]+U&4294967295,R.g[1]=R.g[1]+(E+(Q<<21&4294967295|Q>>>11))&4294967295,R.g[2]=R.g[2]+E&4294967295,R.g[3]=R.g[3]+F&4294967295}n.prototype.v=function(R,U){U===void 0&&(U=R.length);const S=U-this.blockSize,P=this.C;let E=this.h,F=0;for(;F<U;){if(E==0)for(;F<=S;)s(this,R,F),F+=this.blockSize;if(typeof R=="string"){for(;F<U;)if(P[E++]=R.charCodeAt(F++),E==this.blockSize){s(this,P),E=0;break}}else for(;F<U;)if(P[E++]=R[F++],E==this.blockSize){s(this,P),E=0;break}}this.h=E,this.o+=U},n.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var U=1;U<R.length-8;++U)R[U]=0;U=this.o*8;for(var S=R.length-8;S<R.length;++S)R[S]=U&255,U/=256;for(this.v(R),R=Array(16),U=0,S=0;S<4;++S)for(let P=0;P<32;P+=8)R[U++]=this.g[S]>>>P&255;return R};function o(R,U){var S=c;return Object.prototype.hasOwnProperty.call(S,R)?S[R]:S[R]=U(R)}function l(R,U){this.h=U;const S=[];let P=!0;for(let E=R.length-1;E>=0;E--){const F=R[E]|0;P&&F==U||(S[E]=F,P=!1)}this.g=S}var c={};function d(R){return-128<=R&&R<128?o(R,function(U){return new l([U|0],U<0?-1:0)}):new l([R|0],R<0?-1:0)}function h(R){if(isNaN(R)||!isFinite(R))return x;if(R<0)return M(h(-R));const U=[];let S=1;for(let P=0;R>=S;P++)U[P]=R/S|0,S*=4294967296;return new l(U,0)}function g(R,U){if(R.length==0)throw Error("number format error: empty string");if(U=U||10,U<2||36<U)throw Error("radix out of range: "+U);if(R.charAt(0)=="-")return M(g(R.substring(1),U));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const S=h(Math.pow(U,8));let P=x;for(let F=0;F<R.length;F+=8){var E=Math.min(8,R.length-F);const Q=parseInt(R.substring(F,F+E),U);E<8?(E=h(Math.pow(U,E)),P=P.j(E).add(h(Q))):(P=P.j(S),P=P.add(h(Q)))}return P}var x=d(0),B=d(1),w=d(16777216);r=l.prototype,r.m=function(){if(j(this))return-M(this).m();let R=0,U=1;for(let S=0;S<this.g.length;S++){const P=this.i(S);R+=(P>=0?P:4294967296+P)*U,U*=4294967296}return R},r.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(I(this))return"0";if(j(this))return"-"+M(this).toString(R);const U=h(Math.pow(R,6));var S=this;let P="";for(;;){const E=z(S,U).g;S=L(S,E.j(U));let F=((S.g.length>0?S.g[0]:S.h)>>>0).toString(R);if(S=E,I(S))return F+P;for(;F.length<6;)F="0"+F;P=F+P}},r.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function I(R){if(R.h!=0)return!1;for(let U=0;U<R.g.length;U++)if(R.g[U]!=0)return!1;return!0}function j(R){return R.h==-1}r.l=function(R){return R=L(this,R),j(R)?-1:I(R)?0:1};function M(R){const U=R.g.length,S=[];for(let P=0;P<U;P++)S[P]=~R.g[P];return new l(S,~R.h).add(B)}r.abs=function(){return j(this)?M(this):this},r.add=function(R){const U=Math.max(this.g.length,R.g.length),S=[];let P=0;for(let E=0;E<=U;E++){let F=P+(this.i(E)&65535)+(R.i(E)&65535),Q=(F>>>16)+(this.i(E)>>>16)+(R.i(E)>>>16);P=Q>>>16,F&=65535,Q&=65535,S[E]=Q<<16|F}return new l(S,S[S.length-1]&-2147483648?-1:0)};function L(R,U){return R.add(M(U))}r.j=function(R){if(I(this)||I(R))return x;if(j(this))return j(R)?M(this).j(M(R)):M(M(this).j(R));if(j(R))return M(this.j(M(R)));if(this.l(w)<0&&R.l(w)<0)return h(this.m()*R.m());const U=this.g.length+R.g.length,S=[];for(var P=0;P<2*U;P++)S[P]=0;for(P=0;P<this.g.length;P++)for(let E=0;E<R.g.length;E++){const F=this.i(P)>>>16,Q=this.i(P)&65535,J=R.i(E)>>>16,xe=R.i(E)&65535;S[2*P+2*E]+=Q*xe,X(S,2*P+2*E),S[2*P+2*E+1]+=F*xe,X(S,2*P+2*E+1),S[2*P+2*E+1]+=Q*J,X(S,2*P+2*E+1),S[2*P+2*E+2]+=F*J,X(S,2*P+2*E+2)}for(R=0;R<U;R++)S[R]=S[2*R+1]<<16|S[2*R];for(R=U;R<2*U;R++)S[R]=0;return new l(S,0)};function X(R,U){for(;(R[U]&65535)!=R[U];)R[U+1]+=R[U]>>>16,R[U]&=65535,U++}function V(R,U){this.g=R,this.h=U}function z(R,U){if(I(U))throw Error("division by zero");if(I(R))return new V(x,x);if(j(R))return U=z(M(R),U),new V(M(U.g),M(U.h));if(j(U))return U=z(R,M(U)),new V(M(U.g),U.h);if(R.g.length>30){if(j(R)||j(U))throw Error("slowDivide_ only works with positive integers.");for(var S=B,P=U;P.l(R)<=0;)S=ne(S),P=ne(P);var E=le(S,1),F=le(P,1);for(P=le(P,2),S=le(S,2);!I(P);){var Q=F.add(P);Q.l(R)<=0&&(E=E.add(S),F=Q),P=le(P,1),S=le(S,1)}return U=L(R,E.j(U)),new V(E,U)}for(E=x;R.l(U)>=0;){for(S=Math.max(1,Math.floor(R.m()/U.m())),P=Math.ceil(Math.log(S)/Math.LN2),P=P<=48?1:Math.pow(2,P-48),F=h(S),Q=F.j(U);j(Q)||Q.l(R)>0;)S-=P,F=h(S),Q=F.j(U);I(F)&&(F=B),E=E.add(F),R=L(R,Q)}return new V(E,R)}r.B=function(R){return z(this,R).h},r.and=function(R){const U=Math.max(this.g.length,R.g.length),S=[];for(let P=0;P<U;P++)S[P]=this.i(P)&R.i(P);return new l(S,this.h&R.h)},r.or=function(R){const U=Math.max(this.g.length,R.g.length),S=[];for(let P=0;P<U;P++)S[P]=this.i(P)|R.i(P);return new l(S,this.h|R.h)},r.xor=function(R){const U=Math.max(this.g.length,R.g.length),S=[];for(let P=0;P<U;P++)S[P]=this.i(P)^R.i(P);return new l(S,this.h^R.h)};function ne(R){const U=R.g.length+1,S=[];for(let P=0;P<U;P++)S[P]=R.i(P)<<1|R.i(P-1)>>>31;return new l(S,R.h)}function le(R,U){const S=U>>5;U%=32;const P=R.g.length-S,E=[];for(let F=0;F<P;F++)E[F]=U>0?R.i(F+S)>>>U|R.i(F+S+1)<<32-U:R.i(F+S);return new l(E,R.h)}n.prototype.digest=n.prototype.A,n.prototype.reset=n.prototype.u,n.prototype.update=n.prototype.v,y6=n,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.B,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=h,l.fromString=g,fu=l}).apply(typeof A_<"u"?A_:typeof self<"u"?self:typeof window<"u"?window:{});var up=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var w6,O0,v6,t1,sw,B6,N6,_6;(function(){var r,e=Object.defineProperty;function t(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof up=="object"&&up];for(var C=0;C<p.length;++C){var O=p[C];if(O&&O.Math==Math)return O}throw Error("Cannot find global object")}var n=t(this);function s(p,C){if(C)e:{var O=n;p=p.split(".");for(var ae=0;ae<p.length-1;ae++){var Ie=p[ae];if(!(Ie in O))break e;O=O[Ie]}p=p[p.length-1],ae=O[p],C=C(ae),C!=ae&&C!=null&&e(O,p,{configurable:!0,writable:!0,value:C})}}s("Symbol.dispose",function(p){return p||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(p){return p||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(p){return p||function(C){var O=[],ae;for(ae in C)Object.prototype.hasOwnProperty.call(C,ae)&&O.push([ae,C[ae]]);return O}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},l=this||self;function c(p){var C=typeof p;return C=="object"&&p!=null||C=="function"}function d(p,C,O){return p.call.apply(p.bind,arguments)}function h(p,C,O){return h=d,h.apply(null,arguments)}function g(p,C){var O=Array.prototype.slice.call(arguments,1);return function(){var ae=O.slice();return ae.push.apply(ae,arguments),p.apply(this,ae)}}function x(p,C){function O(){}O.prototype=C.prototype,p.Z=C.prototype,p.prototype=new O,p.prototype.constructor=p,p.Ob=function(ae,Ie,Le){for(var lt=Array(arguments.length-2),mr=2;mr<arguments.length;mr++)lt[mr-2]=arguments[mr];return C.prototype[Ie].apply(ae,lt)}}var B=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?p=>p&&AsyncContext.Snapshot.wrap(p):p=>p;function w(p){const C=p.length;if(C>0){const O=Array(C);for(let ae=0;ae<C;ae++)O[ae]=p[ae];return O}return[]}function I(p,C){for(let ae=1;ae<arguments.length;ae++){const Ie=arguments[ae];var O=typeof Ie;if(O=O!="object"?O:Ie?Array.isArray(Ie)?"array":O:"null",O=="array"||O=="object"&&typeof Ie.length=="number"){O=p.length||0;const Le=Ie.length||0;p.length=O+Le;for(let lt=0;lt<Le;lt++)p[O+lt]=Ie[lt]}else p.push(Ie)}}class j{constructor(C,O){this.i=C,this.j=O,this.h=0,this.g=null}get(){let C;return this.h>0?(this.h--,C=this.g,this.g=C.next,C.next=null):C=this.i(),C}}function M(p){l.setTimeout(()=>{throw p},0)}function L(){var p=R;let C=null;return p.g&&(C=p.g,p.g=p.g.next,p.g||(p.h=null),C.next=null),C}class X{constructor(){this.h=this.g=null}add(C,O){const ae=V.get();ae.set(C,O),this.h?this.h.next=ae:this.g=ae,this.h=ae}}var V=new j(()=>new z,p=>p.reset());class z{constructor(){this.next=this.g=this.h=null}set(C,O){this.h=C,this.g=O,this.next=null}reset(){this.next=this.g=this.h=null}}let ne,le=!1,R=new X,U=()=>{const p=Promise.resolve(void 0);ne=()=>{p.then(S)}};function S(){for(var p;p=L();){try{p.h.call(p.g)}catch(O){M(O)}var C=V;C.j(p),C.h<100&&(C.h++,p.next=C.g,C.g=p)}le=!1}function P(){this.u=this.u,this.C=this.C}P.prototype.u=!1,P.prototype.dispose=function(){this.u||(this.u=!0,this.N())},P.prototype[Symbol.dispose]=function(){this.dispose()},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function E(p,C){this.type=p,this.g=this.target=C,this.defaultPrevented=!1}E.prototype.h=function(){this.defaultPrevented=!0};var F=(function(){if(!l.addEventListener||!Object.defineProperty)return!1;var p=!1,C=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const O=()=>{};l.addEventListener("test",O,C),l.removeEventListener("test",O,C)}catch{}return p})();function Q(p){return/^[\s\xa0]*$/.test(p)}function J(p,C){E.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p&&this.init(p,C)}x(J,E),J.prototype.init=function(p,C){const O=this.type=p.type,ae=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;this.target=p.target||p.srcElement,this.g=C,C=p.relatedTarget,C||(O=="mouseover"?C=p.fromElement:O=="mouseout"&&(C=p.toElement)),this.relatedTarget=C,ae?(this.clientX=ae.clientX!==void 0?ae.clientX:ae.pageX,this.clientY=ae.clientY!==void 0?ae.clientY:ae.pageY,this.screenX=ae.screenX||0,this.screenY=ae.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=p.pointerType,this.state=p.state,this.i=p,p.defaultPrevented&&J.Z.h.call(this)},J.prototype.h=function(){J.Z.h.call(this);const p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var xe="closure_listenable_"+(Math.random()*1e6|0),ie=0;function Z(p,C,O,ae,Ie){this.listener=p,this.proxy=null,this.src=C,this.type=O,this.capture=!!ae,this.ha=Ie,this.key=++ie,this.da=this.fa=!1}function Ae(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function be(p,C,O){for(const ae in p)C.call(O,p[ae],ae,p)}function Ee(p,C){for(const O in p)C.call(void 0,p[O],O,p)}function $(p){const C={};for(const O in p)C[O]=p[O];return C}const D="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function q(p,C){let O,ae;for(let Ie=1;Ie<arguments.length;Ie++){ae=arguments[Ie];for(O in ae)p[O]=ae[O];for(let Le=0;Le<D.length;Le++)O=D[Le],Object.prototype.hasOwnProperty.call(ae,O)&&(p[O]=ae[O])}}function te(p){this.src=p,this.g={},this.h=0}te.prototype.add=function(p,C,O,ae,Ie){const Le=p.toString();p=this.g[Le],p||(p=this.g[Le]=[],this.h++);const lt=fe(p,C,ae,Ie);return lt>-1?(C=p[lt],O||(C.fa=!1)):(C=new Z(C,this.src,Le,!!ae,Ie),C.fa=O,p.push(C)),C};function re(p,C){const O=C.type;if(O in p.g){var ae=p.g[O],Ie=Array.prototype.indexOf.call(ae,C,void 0),Le;(Le=Ie>=0)&&Array.prototype.splice.call(ae,Ie,1),Le&&(Ae(C),p.g[O].length==0&&(delete p.g[O],p.h--))}}function fe(p,C,O,ae){for(let Ie=0;Ie<p.length;++Ie){const Le=p[Ie];if(!Le.da&&Le.listener==C&&Le.capture==!!O&&Le.ha==ae)return Ie}return-1}var ge="closure_lm_"+(Math.random()*1e6|0),Be={};function _e(p,C,O,ae,Ie){if(Array.isArray(C)){for(let Le=0;Le<C.length;Le++)_e(p,C[Le],O,ae,Ie);return null}return O=pt(O),p&&p[xe]?p.J(C,O,c(ae)?!!ae.capture:!1,Ie):Oe(p,C,O,!1,ae,Ie)}function Oe(p,C,O,ae,Ie,Le){if(!C)throw Error("Invalid event type");const lt=c(Ie)?!!Ie.capture:!!Ie;let mr=Ke(p);if(mr||(p[ge]=mr=new te(p)),O=mr.add(C,O,ae,lt,Le),O.proxy)return O;if(ae=He(),O.proxy=ae,ae.src=p,ae.listener=O,p.addEventListener)F||(Ie=lt),Ie===void 0&&(Ie=!1),p.addEventListener(C.toString(),ae,Ie);else if(p.attachEvent)p.attachEvent(Me(C.toString()),ae);else if(p.addListener&&p.removeListener)p.addListener(ae);else throw Error("addEventListener and attachEvent are unavailable.");return O}function He(){function p(O){return C.call(p.src,p.listener,O)}const C=H;return p}function it(p,C,O,ae,Ie){if(Array.isArray(C))for(var Le=0;Le<C.length;Le++)it(p,C[Le],O,ae,Ie);else ae=c(ae)?!!ae.capture:!!ae,O=pt(O),p&&p[xe]?(p=p.i,Le=String(C).toString(),Le in p.g&&(C=p.g[Le],O=fe(C,O,ae,Ie),O>-1&&(Ae(C[O]),Array.prototype.splice.call(C,O,1),C.length==0&&(delete p.g[Le],p.h--)))):p&&(p=Ke(p))&&(C=p.g[C.toString()],p=-1,C&&(p=fe(C,O,ae,Ie)),(O=p>-1?C[p]:null)&&me(O))}function me(p){if(typeof p!="number"&&p&&!p.da){var C=p.src;if(C&&C[xe])re(C.i,p);else{var O=p.type,ae=p.proxy;C.removeEventListener?C.removeEventListener(O,ae,p.capture):C.detachEvent?C.detachEvent(Me(O),ae):C.addListener&&C.removeListener&&C.removeListener(ae),(O=Ke(C))?(re(O,p),O.h==0&&(O.src=null,C[ge]=null)):Ae(p)}}}function Me(p){return p in Be?Be[p]:Be[p]="on"+p}function H(p,C){if(p.da)p=!0;else{C=new J(C,this);const O=p.listener,ae=p.ha||p.src;p.fa&&me(p),p=O.call(ae,C)}return p}function Ke(p){return p=p[ge],p instanceof te?p:null}var rt="__closure_events_fn_"+(Math.random()*1e9>>>0);function pt(p){return typeof p=="function"?p:(p[rt]||(p[rt]=function(C){return p.handleEvent(C)}),p[rt])}function Pe(){P.call(this),this.i=new te(this),this.M=this,this.G=null}x(Pe,P),Pe.prototype[xe]=!0,Pe.prototype.removeEventListener=function(p,C,O,ae){it(this,p,C,O,ae)};function st(p,C){var O,ae=p.G;if(ae)for(O=[];ae;ae=ae.G)O.push(ae);if(p=p.M,ae=C.type||C,typeof C=="string")C=new E(C,p);else if(C instanceof E)C.target=C.target||p;else{var Ie=C;C=new E(ae,p),q(C,Ie)}Ie=!0;let Le,lt;if(O)for(lt=O.length-1;lt>=0;lt--)Le=C.g=O[lt],Ie=dt(Le,ae,!0,C)&&Ie;if(Le=C.g=p,Ie=dt(Le,ae,!0,C)&&Ie,Ie=dt(Le,ae,!1,C)&&Ie,O)for(lt=0;lt<O.length;lt++)Le=C.g=O[lt],Ie=dt(Le,ae,!1,C)&&Ie}Pe.prototype.N=function(){if(Pe.Z.N.call(this),this.i){var p=this.i;for(const C in p.g){const O=p.g[C];for(let ae=0;ae<O.length;ae++)Ae(O[ae]);delete p.g[C],p.h--}}this.G=null},Pe.prototype.J=function(p,C,O,ae){return this.i.add(String(p),C,!1,O,ae)},Pe.prototype.K=function(p,C,O,ae){return this.i.add(String(p),C,!0,O,ae)};function dt(p,C,O,ae){if(C=p.i.g[String(C)],!C)return!0;C=C.concat();let Ie=!0;for(let Le=0;Le<C.length;++Le){const lt=C[Le];if(lt&&!lt.da&&lt.capture==O){const mr=lt.listener,vn=lt.ha||lt.src;lt.fa&&re(p.i,lt),Ie=mr.call(vn,ae)!==!1&&Ie}}return Ie&&!ae.defaultPrevented}function Mt(p,C){if(typeof p!="function")if(p&&typeof p.handleEvent=="function")p=h(p.handleEvent,p);else throw Error("Invalid listener argument");return Number(C)>2147483647?-1:l.setTimeout(p,C||0)}function St(p){p.g=Mt(()=>{p.g=null,p.i&&(p.i=!1,St(p))},p.l);const C=p.h;p.h=null,p.m.apply(null,C)}class Yt extends P{constructor(C,O){super(),this.m=C,this.l=O,this.h=null,this.i=!1,this.g=null}j(C){this.h=arguments,this.g?this.i=!0:St(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function cr(p){P.call(this),this.h=p,this.g={}}x(cr,P);var ar=[];function ur(p){be(p.g,function(C,O){this.g.hasOwnProperty(O)&&me(C)},p),p.g={}}cr.prototype.N=function(){cr.Z.N.call(this),ur(this)},cr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var dr=l.JSON.stringify,jt=l.JSON.parse,hr=class{stringify(p){return l.JSON.stringify(p,void 0)}parse(p){return l.JSON.parse(p,void 0)}};function Bt(){}function De(){}var ft={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ct(){E.call(this,"d")}x(ct,E);function yt(){E.call(this,"c")}x(yt,E);var qt={},xt=null;function Ar(){return xt=xt||new Pe}qt.Ia="serverreachability";function Rt(p){E.call(this,qt.Ia,p)}x(Rt,E);function Pt(p){const C=Ar();st(C,new Rt(C))}qt.STAT_EVENT="statevent";function Ir(p,C){E.call(this,qt.STAT_EVENT,p),this.stat=C}x(Ir,E);function Tt(p){const C=Ar();st(C,new Ir(C,p))}qt.Ja="timingevent";function Nt(p,C){E.call(this,qt.Ja,p),this.size=C}x(Nt,E);function fr(p,C){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){p()},C)}function In(){this.g=!0}In.prototype.ua=function(){this.g=!1};function Dn(p,C,O,ae,Ie,Le){p.info(function(){if(p.g)if(Le){var lt="",mr=Le.split("&");for(let Er=0;Er<mr.length;Er++){var vn=mr[Er].split("=");if(vn.length>1){const Zr=vn[0];vn=vn[1];const Ls=Zr.split("_");lt=Ls.length>=2&&Ls[1]=="type"?lt+(Zr+"="+vn+"&"):lt+(Zr+"=redacted&")}}}else lt=null;else lt=Le;return"XMLHTTP REQ ("+ae+") [attempt "+Ie+"]: "+C+`
`+O+`
`+lt})}function jn(p,C,O,ae,Ie,Le,lt){p.info(function(){return"XMLHTTP RESP ("+ae+") [ attempt "+Ie+"]: "+C+`
`+O+`
`+Le+" "+lt})}function An(p,C,O,ae){p.info(function(){return"XMLHTTP TEXT ("+C+"): "+et(p,O)+(ae?" "+ae:"")})}function Ft(p,C){p.info(function(){return"TIMEOUT: "+C})}In.prototype.info=function(){};function et(p,C){if(!p.g)return C;if(!C)return null;try{const Le=JSON.parse(C);if(Le){for(p=0;p<Le.length;p++)if(Array.isArray(Le[p])){var O=Le[p];if(!(O.length<2)){var ae=O[1];if(Array.isArray(ae)&&!(ae.length<1)){var Ie=ae[0];if(Ie!="noop"&&Ie!="stop"&&Ie!="close")for(let lt=1;lt<ae.length;lt++)ae[lt]=""}}}}return dr(Le)}catch{return C}}var gt={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Gt={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},_t;function at(){}x(at,Bt),at.prototype.g=function(){return new XMLHttpRequest},_t=new at;function wt(p){return encodeURIComponent(String(p))}function Dt(p){var C=1;p=p.split(":");const O=[];for(;C>0&&p.length;)O.push(p.shift()),C--;return p.length&&O.push(p.join(":")),O}function kt(p,C,O,ae){this.j=p,this.i=C,this.l=O,this.S=ae||1,this.V=new cr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ir}function ir(){this.i=null,this.g="",this.h=!1}var bt={},wr={};function On(p,C,O){p.M=1,p.A=po(Gn(C)),p.u=O,p.R=!0,aa(p,null)}function aa(p,C){p.F=Date.now(),ia(p),p.B=Gn(p.A);var O=p.B,ae=p.S;Array.isArray(ae)||(ae=[String(ae)]),TA(O.i,"t",ae),p.C=0,O=p.j.L,p.h=new ir,p.g=Ut(p.j,O?C:null,!p.u),p.P>0&&(p.O=new Yt(h(p.Y,p,p.g),p.P)),C=p.V,O=p.g,ae=p.ba;var Ie="readystatechange";Array.isArray(Ie)||(Ie&&(ar[0]=Ie.toString()),Ie=ar);for(let Le=0;Le<Ie.length;Le++){const lt=_e(O,Ie[Le],ae||C.handleEvent,!1,C.h||C);if(!lt)break;C.g[lt.key]=lt}C=p.J?$(p.J):{},p.u?(p.v||(p.v="POST"),C["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.B,p.v,p.u,C)):(p.v="GET",p.g.ea(p.B,p.v,null,C)),Pt(),Dn(p.i,p.v,p.B,p.l,p.S,p.u)}kt.prototype.ba=function(p){p=p.target;const C=this.O;C&&Ea(p)==3?C.j():this.Y(p)},kt.prototype.Y=function(p){try{if(p==this.g)e:{const mr=Ea(this.g),vn=this.g.ya(),Er=this.g.ca();if(!(mr<3)&&(mr!=3||this.g&&(this.h.h||this.g.la()||is(this.g)))){this.K||mr!=4||vn==7||(vn==8||Er<=0?Pt(3):Pt(2)),va(this);var C=this.g.ca();this.X=C;var O=Oa(this);if(this.o=C==200,jn(this.i,this.v,this.B,this.l,this.S,mr,C),this.o){if(this.U&&!this.L){t:{if(this.g){var ae,Ie=this.g;if((ae=Ie.g?Ie.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Q(ae)){var Le=ae;break t}}Le=null}if(p=Le)An(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ma(this,p);else{this.o=!1,this.m=3,Tt(12),Ba(this),Vs(this);break e}}if(this.R){p=!0;let Zr;for(;!this.K&&this.C<O.length;)if(Zr=ii(this,O),Zr==wr){mr==4&&(this.m=4,Tt(14),p=!1),An(this.i,this.l,null,"[Incomplete Response]");break}else if(Zr==bt){this.m=4,Tt(15),An(this.i,this.l,O,"[Invalid Chunk]"),p=!1;break}else An(this.i,this.l,Zr,null),Ma(this,Zr);if(mo(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),mr!=4||O.length!=0||this.h.h||(this.m=1,Tt(16),p=!1),this.o=this.o&&p,!p)An(this.i,this.l,O,"[Invalid Chunked Response]"),Ba(this),Vs(this);else if(O.length>0&&!this.W){this.W=!0;var lt=this.j;lt.g==this&&lt.aa&&!lt.P&&(lt.j.info("Great, no buffering proxy detected. Bytes received: "+O.length),QA(lt),lt.P=!0,Tt(11))}}else An(this.i,this.l,O,null),Ma(this,O);mr==4&&Ba(this),this.o&&!this.K&&(mr==4?ue(this.j,this):(this.o=!1,ia(this)))}else wi(this.g),C==400&&O.indexOf("Unknown SID")>0?(this.m=3,Tt(12)):(this.m=0,Tt(13)),Ba(this),Vs(this)}}}catch{}finally{}};function Oa(p){if(!mo(p))return p.g.la();const C=is(p.g);if(C==="")return"";let O="";const ae=C.length,Ie=Ea(p.g)==4;if(!p.h.i){if(typeof TextDecoder>"u")return Ba(p),Vs(p),"";p.h.i=new l.TextDecoder}for(let Le=0;Le<ae;Le++)p.h.h=!0,O+=p.h.i.decode(C[Le],{stream:!(Ie&&Le==ae-1)});return C.length=0,p.h.g+=O,p.C=0,p.h.g}function mo(p){return p.g?p.v=="GET"&&p.M!=2&&p.j.Aa:!1}function ii(p,C){var O=p.C,ae=C.indexOf(`
`,O);return ae==-1?wr:(O=Number(C.substring(O,ae)),isNaN(O)?bt:(ae+=1,ae+O>C.length?wr:(C=C.slice(ae,ae+O),p.C=ae+O,C)))}kt.prototype.cancel=function(){this.K=!0,Ba(this)};function ia(p){p.T=Date.now()+p.H,Gi(p,p.H)}function Gi(p,C){if(p.D!=null)throw Error("WatchDog timer not null");p.D=fr(h(p.aa,p),C)}function va(p){p.D&&(l.clearTimeout(p.D),p.D=null)}kt.prototype.aa=function(){this.D=null;const p=Date.now();p-this.T>=0?(Ft(this.i,this.B),this.M!=2&&(Pt(),Tt(17)),Ba(this),this.m=2,Vs(this)):Gi(this,this.T-p)};function Vs(p){p.j.I==0||p.K||ue(p.j,p)}function Ba(p){va(p);var C=p.O;C&&typeof C.dispose=="function"&&C.dispose(),p.O=null,ur(p.V),p.g&&(C=p.g,p.g=null,C.abort(),C.dispose())}function Ma(p,C){try{var O=p.j;if(O.I!=0&&(O.g==p||oi(O.h,p))){if(!p.L&&oi(O.h,p)&&O.I==3){try{var ae=O.Ba.g.parse(C)}catch{ae=null}if(Array.isArray(ae)&&ae.length==3){var Ie=ae;if(Ie[0]==0){e:if(!O.v){if(O.g)if(O.g.F+3e3<p.F)K(O),Bi(O);else break e;ci(O),Tt(18)}}else O.xa=Ie[1],0<O.xa-O.K&&Ie[2]<37500&&O.F&&O.A==0&&!O.C&&(O.C=fr(h(O.Va,O),6e3));Pa(O.h)<=1&&O.ta&&(O.ta=void 0)}else Ce(O,11)}else if((p.L||O.g==p)&&K(O),!Q(C))for(Ie=O.Ba.g.parse(C),C=0;C<Ie.length;C++){let Er=Ie[C];const Zr=Er[0];if(!(Zr<=O.K))if(O.K=Zr,Er=Er[1],O.I==2)if(Er[0]=="c"){O.M=Er[1],O.ba=Er[2];const Ls=Er[3];Ls!=null&&(O.ka=Ls,O.j.info("VER="+O.ka));const zs=Er[4];zs!=null&&(O.za=zs,O.j.info("SVER="+O.za));const un=Er[5];un!=null&&typeof un=="number"&&un>0&&(ae=1.5*un,O.O=ae,O.j.info("backChannelRequestTimeoutMs_="+ae)),ae=O;const qs=p.g;if(qs){const ui=qs.g?qs.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ui){var Le=ae.h;Le.g||ui.indexOf("spdy")==-1&&ui.indexOf("quic")==-1&&ui.indexOf("h2")==-1||(Le.j=Le.l,Le.g=new Set,Le.h&&(qo(Le,Le.h),Le.h=null))}if(ae.G){const vo=qs.g?qs.g.getResponseHeader("X-HTTP-Session-Id"):null;vo&&(ae.wa=vo,Rr(ae.J,ae.G,vo))}}O.I=3,O.l&&O.l.ra(),O.aa&&(O.T=Date.now()-p.F,O.j.info("Handshake RTT: "+O.T+"ms")),ae=O;var lt=p;if(ae.na=nt(ae,ae.L?ae.ba:null,ae.W),lt.L){IA(ae.h,lt);var mr=lt,vn=ae.O;vn&&(mr.H=vn),mr.D&&(va(mr),ia(mr)),ae.g=lt}else Cl(ae);O.i.length>0&&Va(O)}else Er[0]!="stop"&&Er[0]!="close"||Ce(O,7);else O.I==3&&(Er[0]=="stop"||Er[0]=="close"?Er[0]=="stop"?Ce(O,7):wo(O):Er[0]!="noop"&&O.l&&O.l.qa(Er),O.A=0)}}Pt(4)}catch{}}var Mn=class{constructor(p,C){this.g=p,this.map=C}};function SA(p){this.l=p||10,l.PerformanceNavigationTiming?(p=l.performance.getEntriesByType("navigation"),p=p.length>0&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function oa(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function Pa(p){return p.h?1:p.g?p.g.size:0}function oi(p,C){return p.h?p.h==C:p.g?p.g.has(C):!1}function qo(p,C){p.g?p.g.add(C):p.h=C}function IA(p,C){p.h&&p.h==C?p.h=null:p.g&&p.g.has(C)&&p.g.delete(C)}SA.prototype.cancel=function(){if(this.i=jA(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function jA(p){if(p.h!=null)return p.i.concat(p.h.G);if(p.g!=null&&p.g.size!==0){let C=p.i;for(const O of p.g.values())C=C.concat(O.G);return C}return w(p.i)}var yl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Na(p,C){if(p){p=p.split("&");for(let O=0;O<p.length;O++){const ae=p[O].indexOf("=");let Ie,Le=null;ae>=0?(Ie=p[O].substring(0,ae),Le=p[O].substring(ae+1)):Ie=p[O],C(Ie,Le?decodeURIComponent(Le.replace(/\+/g," ")):"")}}}function ks(p){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let C;p instanceof ks?(this.l=p.l,jr(this,p.j),this.o=p.o,this.g=p.g,$i(this,p.u),this.h=p.h,Ha(this,UA(p.i)),this.m=p.m):p&&(C=String(p).match(yl))?(this.l=!1,jr(this,C[1]||"",!0),this.o=as(C[2]||""),this.g=as(C[3]||"",!0),$i(this,C[4]),this.h=as(C[5]||"",!0),Ha(this,C[6]||"",!0),this.m=as(C[7]||"")):(this.l=!1,this.i=new Xi(null,this.l))}ks.prototype.toString=function(){const p=[];var C=this.j;C&&p.push(Tn(C,Go,!0),":");var O=this.g;return(O||C=="file")&&(p.push("//"),(C=this.o)&&p.push(Tn(C,Go,!0),"@"),p.push(wt(O).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),O=this.u,O!=null&&p.push(":",String(O))),(O=this.h)&&(this.g&&O.charAt(0)!="/"&&p.push("/"),p.push(Tn(O,O.charAt(0)=="/"?wl:fc,!0))),(O=this.i.toString())&&p.push("?",O),(O=this.m)&&p.push("#",Tn(O,vl)),p.join("")},ks.prototype.resolve=function(p){const C=Gn(this);let O=!!p.j;O?jr(C,p.j):O=!!p.o,O?C.o=p.o:O=!!p.g,O?C.g=p.g:O=p.u!=null;var ae=p.h;if(O)$i(C,p.u);else if(O=!!p.h){if(ae.charAt(0)!="/")if(this.g&&!this.h)ae="/"+ae;else{var Ie=C.h.lastIndexOf("/");Ie!=-1&&(ae=C.h.slice(0,Ie+1)+ae)}if(Ie=ae,Ie==".."||Ie==".")ae="";else if(Ie.indexOf("./")!=-1||Ie.indexOf("/.")!=-1){ae=Ie.lastIndexOf("/",0)==0,Ie=Ie.split("/");const Le=[];for(let lt=0;lt<Ie.length;){const mr=Ie[lt++];mr=="."?ae&&lt==Ie.length&&Le.push(""):mr==".."?((Le.length>1||Le.length==1&&Le[0]!="")&&Le.pop(),ae&&lt==Ie.length&&Le.push("")):(Le.push(mr),ae=!0)}ae=Le.join("/")}else ae=Ie}return O?C.h=ae:O=p.i.toString()!=="",O?Ha(C,UA(p.i)):O=!!p.m,O&&(C.m=p.m),C};function Gn(p){return new ks(p)}function jr(p,C,O){p.j=O?as(C,!0):C,p.j&&(p.j=p.j.replace(/:$/,""))}function $i(p,C){if(C){if(C=Number(C),isNaN(C)||C<0)throw Error("Bad port number "+C);p.u=C}else p.u=null}function Ha(p,C,O){C instanceof Xi?(p.i=C,Aa(p.i,p.l)):(O||(C=Tn(C,Ks)),p.i=new Xi(C,p.l))}function Rr(p,C,O){p.i.set(C,O)}function po(p){return Rr(p,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),p}function as(p,C){return p?C?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function Tn(p,C,O){return typeof p=="string"?(p=encodeURI(p).replace(C,$n),O&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function $n(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var Go=/[#\/\?@]/g,fc=/[#\?:]/g,wl=/[#\?]/g,Ks=/[#\?@]/g,vl=/#/g;function Xi(p,C){this.h=this.g=null,this.i=p||null,this.j=!!C}function vs(p){p.g||(p.g=new Map,p.h=0,p.i&&Na(p.i,function(C,O){p.add(decodeURIComponent(C.replace(/\+/g," ")),O)}))}r=Xi.prototype,r.add=function(p,C){vs(this),this.i=null,p=Yi(this,p);let O=this.g.get(p);return O||this.g.set(p,O=[]),O.push(C),this.h+=1,this};function xo(p,C){vs(p),C=Yi(p,C),p.g.has(C)&&(p.i=null,p.h-=p.g.get(C).length,p.g.delete(C))}function Bl(p,C){return vs(p),C=Yi(p,C),p.g.has(C)}r.forEach=function(p,C){vs(this),this.g.forEach(function(O,ae){O.forEach(function(Ie){p.call(C,Ie,ae,this)},this)},this)};function Nl(p,C){vs(p);let O=[];if(typeof C=="string")Bl(p,C)&&(O=O.concat(p.g.get(Yi(p,C))));else for(p=Array.from(p.g.values()),C=0;C<p.length;C++)O=O.concat(p[C]);return O}r.set=function(p,C){return vs(this),this.i=null,p=Yi(this,p),Bl(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[C]),this.h+=1,this},r.get=function(p,C){return p?(p=Nl(this,p),p.length>0?String(p[0]):C):C};function TA(p,C,O){xo(p,C),O.length>0&&(p.i=null,p.g.set(Yi(p,C),w(O)),p.h+=O.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],C=Array.from(this.g.keys());for(let ae=0;ae<C.length;ae++){var O=C[ae];const Ie=wt(O);O=Nl(this,O);for(let Le=0;Le<O.length;Le++){let lt=Ie;O[Le]!==""&&(lt+="="+wt(O[Le])),p.push(lt)}}return this.i=p.join("&")};function UA(p){const C=new Xi;return C.i=p.i,p.g&&(C.g=new Map(p.g),C.h=p.h),C}function Yi(p,C){return C=String(C),p.j&&(C=C.toLowerCase()),C}function Aa(p,C){C&&!p.j&&(vs(p),p.i=null,p.g.forEach(function(O,ae){const Ie=ae.toLowerCase();ae!=Ie&&(xo(this,ae),TA(this,Ie,O))},p)),p.j=C}function Ai(p,C){const O=new In;if(l.Image){const ae=new Image;ae.onload=g(la,O,"TestLoadImage: loaded",!0,C,ae),ae.onerror=g(la,O,"TestLoadImage: error",!1,C,ae),ae.onabort=g(la,O,"TestLoadImage: abort",!1,C,ae),ae.ontimeout=g(la,O,"TestLoadImage: timeout",!1,C,ae),l.setTimeout(function(){ae.ontimeout&&ae.ontimeout()},1e4),ae.src=p}else C(!1)}function Wi(p,C){const O=new In,ae=new AbortController,Ie=setTimeout(()=>{ae.abort(),la(O,"TestPingServer: timeout",!1,C)},1e4);fetch(p,{signal:ae.signal}).then(Le=>{clearTimeout(Ie),Le.ok?la(O,"TestPingServer: ok",!0,C):la(O,"TestPingServer: server error",!1,C)}).catch(()=>{clearTimeout(Ie),la(O,"TestPingServer: error",!1,C)})}function la(p,C,O,ae,Ie){try{Ie&&(Ie.onload=null,Ie.onerror=null,Ie.onabort=null,Ie.ontimeout=null),ae(O)}catch{}}function bo(){this.g=new hr}function Zt(p){this.i=p.Sb||null,this.h=p.ab||!1}x(Zt,Bt),Zt.prototype.g=function(){return new $o(this.i,this.h)};function $o(p,C){Pe.call(this),this.H=p,this.o=C,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}x($o,Pe),r=$o.prototype,r.open=function(p,C){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=p,this.D=C,this.readyState=1,Bs(this)},r.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const C={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};p&&(C.body=p),(this.H||l).fetch(new Request(this.D,C)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,yo(this)),this.readyState=0},r.Pa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,Bs(this)),this.g&&(this.readyState=3,Bs(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;FA(this)}else p.text().then(this.Oa.bind(this),this.ga.bind(this))};function FA(p){p.j.read().then(p.Ma.bind(p)).catch(p.ga.bind(p))}r.Ma=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var C=p.value?p.value:new Uint8Array(0);(C=this.B.decode(C,{stream:!p.done}))&&(this.response=this.responseText+=C)}p.done?yo(this):Bs(this),this.readyState==3&&FA(this)}},r.Oa=function(p){this.g&&(this.response=this.responseText=p,yo(this))},r.Na=function(p){this.g&&(this.response=p,yo(this))},r.ga=function(){this.g&&yo(this)};function yo(p){p.readyState=4,p.l=null,p.j=null,p.B=null,Bs(p)}r.setRequestHeader=function(p,C){this.A.append(p,C)},r.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],C=this.h.entries();for(var O=C.next();!O.done;)O=O.value,p.push(O[0]+": "+O[1]),O=C.next();return p.join(`\r
`)};function Bs(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty($o.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function ds(p){let C="";return be(p,function(O,ae){C+=ae,C+=":",C+=O,C+=`\r
`}),C}function Xo(p,C,O){e:{for(ae in O){var ae=!1;break e}ae=!0}ae||(O=ds(O),typeof p=="string"?O!=null&&wt(O):Rr(p,C,O))}function Jr(p){Pe.call(this),this.headers=new Map,this.L=p||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}x(Jr,Pe);var _a=/^https?$/i,Yo=["POST","PUT"];r=Jr.prototype,r.Fa=function(p){this.H=p},r.ea=function(p,C,O,ae){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);C=C?C.toUpperCase():"GET",this.D=p,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():_t.g(),this.g.onreadystatechange=B(h(this.Ca,this));try{this.B=!0,this.g.open(C,String(p),!0),this.B=!1}catch(Le){li(this,Le);return}if(p=O||"",O=new Map(this.headers),ae)if(Object.getPrototypeOf(ae)===Object.prototype)for(var Ie in ae)O.set(Ie,ae[Ie]);else if(typeof ae.keys=="function"&&typeof ae.get=="function")for(const Le of ae.keys())O.set(Le,ae.get(Le));else throw Error("Unknown input type for opt_headers: "+String(ae));ae=Array.from(O.keys()).find(Le=>Le.toLowerCase()=="content-type"),Ie=l.FormData&&p instanceof l.FormData,!(Array.prototype.indexOf.call(Yo,C,void 0)>=0)||ae||Ie||O.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Le,lt]of O)this.g.setRequestHeader(Le,lt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(p),this.v=!1}catch(Le){li(this,Le)}};function li(p,C){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=C,p.o=5,_l(p),Ji(p)}function _l(p){p.A||(p.A=!0,st(p,"complete"),st(p,"error"))}r.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=p||7,st(this,"complete"),st(this,"abort"),Ji(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ji(this,!0)),Jr.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Ca(this):this.Xa())},r.Xa=function(){Ca(this)};function Ca(p){if(p.h&&typeof o<"u"){if(p.v&&Ea(p)==4)setTimeout(p.Ca.bind(p),0);else if(st(p,"readystatechange"),Ea(p)==4){p.h=!1;try{const Le=p.ca();e:switch(Le){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var C=!0;break e;default:C=!1}var O;if(!(O=C)){var ae;if(ae=Le===0){let lt=String(p.D).match(yl)[1]||null;!lt&&l.self&&l.self.location&&(lt=l.self.location.protocol.slice(0,-1)),ae=!_a.test(lt?lt.toLowerCase():"")}O=ae}if(O)st(p,"complete"),st(p,"success");else{p.o=6;try{var Ie=Ea(p)>2?p.g.statusText:""}catch{Ie=""}p.l=Ie+" ["+p.ca()+"]",_l(p)}}finally{Ji(p)}}}}function Ji(p,C){if(p.g){p.m&&(clearTimeout(p.m),p.m=null);const O=p.g;p.g=null,C||st(p,"ready");try{O.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Ea(p){return p.g?p.g.readyState:0}r.ca=function(){try{return Ea(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(p){if(this.g){var C=this.g.responseText;return p&&C.indexOf(p)==0&&(C=C.substring(p.length)),jt(C)}};function is(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.F){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function wi(p){const C={};p=(p.g&&Ea(p)>=2&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let ae=0;ae<p.length;ae++){if(Q(p[ae]))continue;var O=Dt(p[ae]);const Ie=O[0];if(O=O[1],typeof O!="string")continue;O=O.trim();const Le=C[Ie]||[];C[Ie]=Le,Le.push(O)}Ee(C,function(ae){return ae.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Qs(p,C,O){return O&&O.internalChannelParams&&O.internalChannelParams[p]||C}function vi(p){this.za=0,this.i=[],this.j=new In,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Qs("failFast",!1,p),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Qs("baseRetryDelayMs",5e3,p),this.Za=Qs("retryDelaySeedMs",1e4,p),this.Ta=Qs("forwardChannelMaxRetries",2,p),this.va=Qs("forwardChannelRequestTimeoutMs",2e4,p),this.ma=p&&p.xmlHttpFactory||void 0,this.Ua=p&&p.Rb||void 0,this.Aa=p&&p.useFetchStreams||!1,this.O=void 0,this.L=p&&p.supportsCrossDomainXhr||!1,this.M="",this.h=new SA(p&&p.concurrentRequestLimit),this.Ba=new bo,this.S=p&&p.fastHandshake||!1,this.R=p&&p.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=p&&p.Pb||!1,p&&p.ua&&this.j.ua(),p&&p.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&p&&p.detectBufferingProxy||!1,this.ia=void 0,p&&p.longPollingTimeout&&p.longPollingTimeout>0&&(this.ia=p.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=vi.prototype,r.ka=8,r.I=1,r.connect=function(p,C,O,ae){Tt(0),this.W=p,this.H=C||{},O&&ae!==void 0&&(this.H.OSID=O,this.H.OAID=ae),this.F=this.X,this.J=nt(this,null,this.W),Va(this)};function wo(p){if(Ni(p),p.I==3){var C=p.V++,O=Gn(p.J);if(Rr(O,"SID",p.M),Rr(O,"RID",C),Rr(O,"TYPE","terminate"),Sa(p,O),C=new kt(p,p.j,C),C.M=2,C.A=po(Gn(O)),O=!1,l.navigator&&l.navigator.sendBeacon)try{O=l.navigator.sendBeacon(C.A.toString(),"")}catch{}!O&&l.Image&&(new Image().src=C.A,O=!0),O||(C.g=Ut(C.j,null),C.g.ea(C.A)),C.F=Date.now(),ia(C)}$e(p)}function Bi(p){p.g&&(QA(p),p.g.cancel(),p.g=null)}function Ni(p){Bi(p),p.v&&(l.clearTimeout(p.v),p.v=null),K(p),p.h.cancel(),p.m&&(typeof p.m=="number"&&l.clearTimeout(p.m),p.m=null)}function Va(p){if(!oa(p.h)&&!p.m){p.m=!0;var C=p.Ea;ne||U(),le||(ne(),le=!0),R.add(C,p),p.D=0}}function Wo(p,C){return Pa(p.h)>=p.h.j-(p.m?1:0)?!1:p.m?(p.i=C.G.concat(p.i),!0):p.I==1||p.I==2||p.D>=(p.Sa?0:p.Ta)?!1:(p.m=fr(h(p.Ea,p,C),ye(p,p.D)),p.D++,!0)}r.Ea=function(p){if(this.m)if(this.m=null,this.I==1){if(!p){this.V=Math.floor(Math.random()*1e5),p=this.V++;const Ie=new kt(this,this.j,p);let Le=this.o;if(this.U&&(Le?(Le=$(Le),q(Le,this.U)):Le=this.U),this.u!==null||this.R||(Ie.J=Le,Le=null),this.S)e:{for(var C=0,O=0;O<this.i.length;O++){t:{var ae=this.i[O];if("__data__"in ae.map&&(ae=ae.map.__data__,typeof ae=="string")){ae=ae.length;break t}ae=void 0}if(ae===void 0)break;if(C+=ae,C>4096){C=O;break e}if(C===4096||O===this.i.length-1){C=O+1;break e}}C=1e3}else C=1e3;C=_i(this,Ie,C),O=Gn(this.J),Rr(O,"RID",p),Rr(O,"CVER",22),this.G&&Rr(O,"X-HTTP-Session-Id",this.G),Sa(this,O),Le&&(this.R?C="headers="+wt(ds(Le))+"&"+C:this.u&&Xo(O,this.u,Le)),qo(this.h,Ie),this.Ra&&Rr(O,"TYPE","init"),this.S?(Rr(O,"$req",C),Rr(O,"SID","null"),Ie.U=!0,On(Ie,O,null)):On(Ie,O,C),this.I=2}}else this.I==3&&(p?kA(this,p):this.i.length==0||oa(this.h)||kA(this))};function kA(p,C){var O;C?O=C.l:O=p.V++;const ae=Gn(p.J);Rr(ae,"SID",p.M),Rr(ae,"RID",O),Rr(ae,"AID",p.K),Sa(p,ae),p.u&&p.o&&Xo(ae,p.u,p.o),O=new kt(p,p.j,O,p.D+1),p.u===null&&(O.J=p.o),C&&(p.i=C.G.concat(p.i)),C=_i(p,O,1e3),O.H=Math.round(p.va*.5)+Math.round(p.va*.5*Math.random()),qo(p.h,O),On(O,ae,C)}function Sa(p,C){p.H&&be(p.H,function(O,ae){Rr(C,ae,O)}),p.l&&be({},function(O,ae){Rr(C,ae,O)})}function _i(p,C,O){O=Math.min(p.i.length,O);const ae=p.l?h(p.l.Ka,p.l,p):null;e:{var Ie=p.i;let mr=-1;for(;;){const vn=["count="+O];mr==-1?O>0?(mr=Ie[0].g,vn.push("ofs="+mr)):mr=0:vn.push("ofs="+mr);let Er=!0;for(let Zr=0;Zr<O;Zr++){var Le=Ie[Zr].g;const Ls=Ie[Zr].map;if(Le-=mr,Le<0)mr=Math.max(0,Ie[Zr].g-100),Er=!1;else try{Le="req"+Le+"_"||"";try{var lt=Ls instanceof Map?Ls:Object.entries(Ls);for(const[zs,un]of lt){let qs=un;c(un)&&(qs=dr(un)),vn.push(Le+zs+"="+encodeURIComponent(qs))}}catch(zs){throw vn.push(Le+"type="+encodeURIComponent("_badmap")),zs}}catch{ae&&ae(Ls)}}if(Er){lt=vn.join("&");break e}}lt=void 0}return p=p.i.splice(0,O),C.G=p,lt}function Cl(p){if(!p.g&&!p.v){p.Y=1;var C=p.Da;ne||U(),le||(ne(),le=!0),R.add(C,p),p.A=0}}function ci(p){return p.g||p.v||p.A>=3?!1:(p.Y++,p.v=fr(h(p.Da,p),ye(p,p.A)),p.A++,!0)}r.Da=function(){if(this.v=null,N(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var p=4*this.T;this.j.info("BP detection timer enabled: "+p),this.B=fr(h(this.Wa,this),p)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Tt(10),Bi(this),N(this))};function QA(p){p.B!=null&&(l.clearTimeout(p.B),p.B=null)}function N(p){p.g=new kt(p,p.j,"rpc",p.Y),p.u===null&&(p.g.J=p.o),p.g.P=0;var C=Gn(p.na);Rr(C,"RID","rpc"),Rr(C,"SID",p.M),Rr(C,"AID",p.K),Rr(C,"CI",p.F?"0":"1"),!p.F&&p.ia&&Rr(C,"TO",p.ia),Rr(C,"TYPE","xmlhttp"),Sa(p,C),p.u&&p.o&&Xo(C,p.u,p.o),p.O&&(p.g.H=p.O);var O=p.g;p=p.ba,O.M=1,O.A=po(Gn(C)),O.u=null,O.R=!0,aa(O,p)}r.Va=function(){this.C!=null&&(this.C=null,Bi(this),ci(this),Tt(19))};function K(p){p.C!=null&&(l.clearTimeout(p.C),p.C=null)}function ue(p,C){var O=null;if(p.g==C){K(p),QA(p),p.g=null;var ae=2}else if(oi(p.h,C))O=C.G,IA(p.h,C),ae=1;else return;if(p.I!=0){if(C.o)if(ae==1){O=C.u?C.u.length:0,C=Date.now()-C.F;var Ie=p.D;ae=Ar(),st(ae,new Nt(ae,O)),Va(p)}else Cl(p);else if(Ie=C.m,Ie==3||Ie==0&&C.X>0||!(ae==1&&Wo(p,C)||ae==2&&ci(p)))switch(O&&O.length>0&&(C=p.h,C.i=C.i.concat(O)),Ie){case 1:Ce(p,5);break;case 4:Ce(p,10);break;case 3:Ce(p,6);break;default:Ce(p,2)}}}function ye(p,C){let O=p.Qa+Math.floor(Math.random()*p.Za);return p.isActive()||(O*=2),O*C}function Ce(p,C){if(p.j.info("Error code "+C),C==2){var O=h(p.bb,p),ae=p.Ua;const Ie=!ae;ae=new ks(ae||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||jr(ae,"https"),po(ae),Ie?Ai(ae.toString(),O):Wi(ae.toString(),O)}else Tt(2);p.I=0,p.l&&p.l.pa(C),$e(p),Ni(p)}r.bb=function(p){p?(this.j.info("Successfully pinged google.com"),Tt(2)):(this.j.info("Failed to ping google.com"),Tt(1))};function $e(p){if(p.I=0,p.ja=[],p.l){const C=jA(p.h);(C.length!=0||p.i.length!=0)&&(I(p.ja,C),I(p.ja,p.i),p.h.i.length=0,w(p.i),p.i.length=0),p.l.oa()}}function nt(p,C,O){var ae=O instanceof ks?Gn(O):new ks(O);if(ae.g!="")C&&(ae.g=C+"."+ae.g),$i(ae,ae.u);else{var Ie=l.location;ae=Ie.protocol,C=C?C+"."+Ie.hostname:Ie.hostname,Ie=+Ie.port;const Le=new ks(null);ae&&jr(Le,ae),C&&(Le.g=C),Ie&&$i(Le,Ie),O&&(Le.h=O),ae=Le}return O=p.G,C=p.wa,O&&C&&Rr(ae,O,C),Rr(ae,"VER",p.ka),Sa(p,ae),ae}function Ut(p,C,O){if(C&&!p.L)throw Error("Can't create secondary domain capable XhrIo object.");return C=p.Aa&&!p.ma?new Jr(new Zt({ab:O})):new Jr(p.ma),C.Fa(p.L),C}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ht(){}r=Ht.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function tr(){}tr.prototype.g=function(p,C){return new Wt(p,C)};function Wt(p,C){Pe.call(this),this.g=new vi(C),this.l=p,this.h=C&&C.messageUrlParams||null,p=C&&C.messageHeaders||null,C&&C.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=C&&C.initMessageHeaders||null,C&&C.messageContentType&&(p?p["X-WebChannel-Content-Type"]=C.messageContentType:p={"X-WebChannel-Content-Type":C.messageContentType}),C&&C.sa&&(p?p["X-WebChannel-Client-Profile"]=C.sa:p={"X-WebChannel-Client-Profile":C.sa}),this.g.U=p,(p=C&&C.Qb)&&!Q(p)&&(this.g.u=p),this.A=C&&C.supportsCrossDomainXhr||!1,this.v=C&&C.sendRawJson||!1,(C=C&&C.httpSessionIdParam)&&!Q(C)&&(this.g.G=C,p=this.h,p!==null&&C in p&&(p=this.h,C in p&&delete p[C])),this.j=new ln(this)}x(Wt,Pe),Wt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Wt.prototype.close=function(){wo(this.g)},Wt.prototype.o=function(p){var C=this.g;if(typeof p=="string"){var O={};O.__data__=p,p=O}else this.v&&(O={},O.__data__=dr(p),p=O);C.i.push(new Mn(C.Ya++,p)),C.I==3&&Va(C)},Wt.prototype.N=function(){this.g.l=null,delete this.j,wo(this.g),delete this.g,Wt.Z.N.call(this)};function Ur(p){ct.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var C=p.__sm__;if(C){e:{for(const O in C){p=O;break e}p=void 0}(this.i=p)&&(p=this.i,C=C!==null&&p in C?C[p]:void 0),this.data=C}else this.data=p}x(Ur,ct);function wn(){yt.call(this),this.status=1}x(wn,yt);function ln(p){this.g=p}x(ln,Ht),ln.prototype.ra=function(){st(this.g,"a")},ln.prototype.qa=function(p){st(this.g,new Ur(p))},ln.prototype.pa=function(p){st(this.g,new wn)},ln.prototype.oa=function(){st(this.g,"b")},tr.prototype.createWebChannel=tr.prototype.g,Wt.prototype.send=Wt.prototype.o,Wt.prototype.open=Wt.prototype.m,Wt.prototype.close=Wt.prototype.close,_6=function(){return new tr},N6=function(){return Ar()},B6=qt,sw={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},gt.NO_ERROR=0,gt.TIMEOUT=8,gt.HTTP_ERROR=6,t1=gt,Gt.COMPLETE="complete",v6=Gt,De.EventType=ft,ft.OPEN="a",ft.CLOSE="b",ft.ERROR="c",ft.MESSAGE="d",Pe.prototype.listen=Pe.prototype.J,O0=De,Jr.prototype.listenOnce=Jr.prototype.K,Jr.prototype.getLastError=Jr.prototype.Ha,Jr.prototype.getLastErrorCode=Jr.prototype.ya,Jr.prototype.getStatus=Jr.prototype.ca,Jr.prototype.getResponseJson=Jr.prototype.La,Jr.prototype.getResponseText=Jr.prototype.la,Jr.prototype.send=Jr.prototype.ea,Jr.prototype.setWithCredentials=Jr.prototype.Fa,w6=Jr}).apply(typeof up<"u"?up:typeof self<"u"?self:typeof window<"u"?window:{});const l_="@firebase/firestore",c_="4.9.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Za.UNAUTHENTICATED=new Za(null),Za.GOOGLE_CREDENTIALS=new Za("google-credentials-uid"),Za.FIRST_PARTY=new Za("first-party-uid"),Za.MOCK_USER=new Za("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tf="12.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bd=new yx("@firebase/firestore");function kh(){return Bd.logLevel}function ot(r,...e){if(Bd.logLevel<=Pr.DEBUG){const t=e.map(Tv);Bd.debug(`Firestore (${Tf}): ${r}`,...t)}}function Ts(r,...e){if(Bd.logLevel<=Pr.ERROR){const t=e.map(Tv);Bd.error(`Firestore (${Tf}): ${r}`,...t)}}function _g(r,...e){if(Bd.logLevel<=Pr.WARN){const t=e.map(Tv);Bd.warn(`Firestore (${Tf}): ${r}`,...t)}}function Tv(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lt(r,e,t){let n="Unexpected state";typeof e=="string"?n=e:t=e,C6(r,n,t)}function C6(r,e,t){let n=`FIRESTORE (${Tf}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(t!==void 0)try{n+=" CONTEXT: "+JSON.stringify(t)}catch{n+=" CONTEXT: "+t}throw Ts(n),new Error(n)}function Xt(r,e,t,n){let s="Unexpected state";typeof t=="string"?s=t:n=t,r||C6(e,s,n)}function zt(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ut extends NA{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bD{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class yD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Za.UNAUTHENTICATED)))}shutdown(){}}class wD{constructor(e){this.t=e,this.currentUser=Za.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Xt(this.o===void 0,42304);let n=this.i;const s=d=>this.i!==n?(n=this.i,t(d)):Promise.resolve();let o=new ul;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new ul,e.enqueueRetryable((()=>s(this.currentUser)))};const l=()=>{const d=o;e.enqueueRetryable((async()=>{await d.promise,await s(this.currentUser)}))},c=d=>{ot("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((d=>c(d))),setTimeout((()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?c(d):(ot("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new ul)}}),0),l()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((n=>this.i!==e?(ot("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(Xt(typeof n.accessToken=="string",31837,{l:n}),new bD(n.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Xt(e===null||typeof e=="string",2055,{h:e}),new Za(e)}}class vD{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=Za.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class BD{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new vD(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(Za.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class u_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ND{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Do(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Xt(this.o===void 0,3512);const n=o=>{o.error!=null&&ot("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const l=o.token!==this.m;return this.m=o.token,ot("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>n(o)))};const s=o=>{ot("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>s(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?s(o):ot("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new u_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Xt(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new u_(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _D(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let n=0;n<r;n++)t[n]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const s=_D(40);for(let o=0;o<s.length;++o)n.length<20&&s[o]<t&&(n+=e.charAt(s[o]%62))}return n}}function br(r,e){return r<e?-1:r>e?1:0}function aw(r,e){const t=Math.min(r.length,e.length);for(let n=0;n<t;n++){const s=r.charAt(n),o=e.charAt(n);if(s!==o)return F2(s)===F2(o)?br(s,o):F2(s)?1:-1}return br(r.length,e.length)}const CD=55296,ED=57343;function F2(r){const e=r.charCodeAt(0);return e>=CD&&e<=ED}function af(r,e,t){return r.length===e.length&&r.every(((n,s)=>t(n,e[s])))}function E6(r){return r+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d_="__name__";class ZA{constructor(e,t,n){t===void 0?t=0:t>e.length&&Lt(637,{offset:t,range:e.length}),n===void 0?n=e.length-t:n>e.length-t&&Lt(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return ZA.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ZA?e.forEach((n=>{t.push(n)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let s=0;s<n;s++){const o=ZA.compareSegments(e.get(s),t.get(s));if(o!==0)return o}return br(e.length,t.length)}static compareSegments(e,t){const n=ZA.isNumericId(e),s=ZA.isNumericId(t);return n&&!s?-1:!n&&s?1:n&&s?ZA.extractNumericId(e).compare(ZA.extractNumericId(t)):aw(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return fu.fromString(e.substring(4,e.length-2))}}class on extends ZA{construct(e,t,n){return new on(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new ut(qe.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter((s=>s.length>0)))}return new on(t)}static emptyPath(){return new on([])}}const SD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class us extends ZA{construct(e,t,n){return new us(e,t,n)}static isValidIdentifier(e){return SD.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),us.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===d_}static keyField(){return new us([d_])}static fromServerFormat(e){const t=[];let n="",s=0;const o=()=>{if(n.length===0)throw new ut(qe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let l=!1;for(;s<e.length;){const c=e[s];if(c==="\\"){if(s+1===e.length)throw new ut(qe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[s+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new ut(qe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=d,s+=2}else c==="`"?(l=!l,s++):c!=="."||l?(n+=c,s++):(o(),s++)}if(o(),l)throw new ut(qe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new us(t)}static emptyPath(){return new us([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e){this.path=e}static fromPath(e){return new mt(on.fromString(e))}static fromName(e){return new mt(on.fromString(e).popFirst(5))}static empty(){return new mt(on.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&on.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return on.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new mt(new on(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S6(r,e,t){if(!t)throw new ut(qe.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function ID(r,e,t,n){if(e===!0&&n===!0)throw new ut(qe.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function h_(r){if(!mt.isDocumentKey(r))throw new ut(qe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function f_(r){if(mt.isDocumentKey(r))throw new ut(qe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function I6(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Nx(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(n){return n.constructor?n.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Lt(12329,{type:typeof r})}function si(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ut(qe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Nx(r);throw new ut(qe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}function jD(r,e){if(e<=0)throw new ut(qe.INVALID_ARGUMENT,`Function ${r}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hs(r,e){const t={typeString:r};return e&&(t.value=e),t}function Jg(r,e){if(!I6(r))throw new ut(qe.INVALID_ARGUMENT,"JSON must be an object");let t;for(const n in e)if(e[n]){const s=e[n].typeString,o="value"in e[n]?{value:e[n].value}:void 0;if(!(n in r)){t=`JSON missing required field: '${n}'`;break}const l=r[n];if(s&&typeof l!==s){t=`JSON field '${n}' must be a ${s}.`;break}if(o!==void 0&&l!==o.value){t=`Expected '${n}' field to equal '${o.value}'`;break}}if(t)throw new ut(qe.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g_=-62135596800,m_=1e6;class pn{static now(){return pn.fromMillis(Date.now())}static fromDate(e){return pn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*m_);return new pn(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ut(qe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ut(qe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<g_)throw new ut(qe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ut(qe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/m_}_compareTo(e){return this.seconds===e.seconds?br(this.nanoseconds,e.nanoseconds):br(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:pn._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Jg(e,pn._jsonSchema))return new pn(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-g_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}pn._jsonSchemaVersion="firestore/timestamp/1.0",pn._jsonSchema={type:Hs("string",pn._jsonSchemaVersion),seconds:Hs("number"),nanoseconds:Hs("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr{static fromTimestamp(e){return new sr(e)}static min(){return new sr(new pn(0,0))}static max(){return new sr(new pn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const of=-1;class k1{constructor(e,t,n,s){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=s}}function iw(r){return r.fields.find((e=>e.kind===2))}function Zu(r){return r.fields.filter((e=>e.kind!==2))}k1.UNKNOWN_ID=-1;class r1{constructor(e,t){this.fieldPath=e,this.kind=t}}class Cg{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Cg(0,fo.min())}}function j6(r,e){const t=r.toTimestamp().seconds,n=r.toTimestamp().nanoseconds+1,s=sr.fromTimestamp(n===1e9?new pn(t+1,0):new pn(t,n));return new fo(s,mt.empty(),e)}function T6(r){return new fo(r.readTime,r.key,of)}class fo{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new fo(sr.min(),mt.empty(),of)}static max(){return new fo(sr.max(),mt.empty(),of)}}function Fv(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=mt.comparator(r.documentKey,e.documentKey),t!==0?t:br(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U6="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class F6{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Su(r){if(r.code!==qe.FAILED_PRECONDITION||r.message!==U6)throw r;ot("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ue{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Lt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Ue(((n,s)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(n,s)},this.catchCallback=o=>{this.wrapFailure(t,o).next(n,s)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Ue?t:Ue.resolve(t)}catch(t){return Ue.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Ue.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Ue.reject(t)}static resolve(e){return new Ue(((t,n)=>{t(e)}))}static reject(e){return new Ue(((t,n)=>{n(e)}))}static waitFor(e){return new Ue(((t,n)=>{let s=0,o=0,l=!1;e.forEach((c=>{++s,c.next((()=>{++o,l&&o===s&&t()}),(d=>n(d)))})),l=!0,o===s&&t()}))}static or(e){let t=Ue.resolve(!1);for(const n of e)t=t.next((s=>s?Ue.resolve(s):n()));return t}static forEach(e,t){const n=[];return e.forEach(((s,o)=>{n.push(t.call(this,s,o))})),this.waitFor(n)}static mapArray(e,t){return new Ue(((n,s)=>{const o=e.length,l=new Array(o);let c=0;for(let d=0;d<o;d++){const h=d;t(e[h]).next((g=>{l[h]=g,++c,c===o&&n(l)}),(g=>s(g)))}}))}static doWhile(e,t){return new Ue(((n,s)=>{const o=()=>{e()===!0?t().next((()=>{o()}),s):n()};o()}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ao="SimpleDb";class _x{static open(e,t,n,s){try{return new _x(t,e.transaction(s,n))}catch(o){throw new Z0(t,o)}}constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.S=new ul,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{t.error?this.S.reject(new Z0(e,t.error)):this.S.resolve()},this.transaction.onerror=n=>{const s=kv(n.target.error);this.S.reject(new Z0(e,s))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(ot(Ao,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const t=this.transaction.objectStore(e);return new UD(t)}}class gu{static delete(e){return ot(Ao,"Removing database:",e),nd(NS().indexedDB.deleteDatabase(e)).toPromise()}static v(){if(!wv())return!1;if(gu.F())return!0;const e=na(),t=gu.M(e),n=0<t&&t<10,s=k6(e),o=0<s&&s<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||o)}static F(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)==null?void 0:e.__PRIVATE_USE_MOCK_PERSISTENCE)==="YES"}static O(e,t){return e.store(t)}static M(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}constructor(e,t,n){this.name=e,this.version=t,this.N=n,this.B=null,gu.M(na())===12.2&&Ts("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(e){return this.db||(ot(Ao,"Opening database:",this.name),this.db=await new Promise(((t,n)=>{const s=indexedDB.open(this.name,this.version);s.onsuccess=o=>{const l=o.target.result;t(l)},s.onblocked=()=>{n(new Z0(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=o=>{const l=o.target.error;l.name==="VersionError"?n(new ut(qe.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):l.name==="InvalidStateError"?n(new ut(qe.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+l)):n(new Z0(e,l))},s.onupgradeneeded=o=>{ot(Ao,'Database "'+this.name+'" requires upgrade from version:',o.oldVersion);const l=o.target.result;this.N.k(l,s.transaction,o.oldVersion,this.version).next((()=>{ot(Ao,"Database upgrade to version "+this.version+" complete")}))}}))),this.q&&(this.db.onversionchange=t=>this.q(t)),this.db}$(e){this.q=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,n,s){const o=t==="readonly";let l=0;for(;;){++l;try{this.db=await this.L(e);const c=_x.open(this.db,e,o?"readonly":"readwrite",n),d=s(c).next((h=>(c.C(),h))).catch((h=>(c.abort(h),Ue.reject(h)))).toPromise();return d.catch((()=>{})),await c.D,d}catch(c){const d=c,h=d.name!=="FirebaseError"&&l<3;if(ot(Ao,"Transaction failed with error:",d.message,"Retrying:",h),this.close(),!h)return Promise.reject(d)}}}close(){this.db&&this.db.close(),this.db=void 0}}function k6(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}class TD{constructor(e){this.U=e,this.K=!1,this.W=null}get isDone(){return this.K}get G(){return this.W}set cursor(e){this.U=e}done(){this.K=!0}j(e){this.W=e}delete(){return nd(this.U.delete())}}class Z0 extends ut{constructor(e,t){super(qe.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Iu(r){return r.name==="IndexedDbTransactionError"}class UD{constructor(e){this.store=e}put(e,t){let n;return t!==void 0?(ot(Ao,"PUT",this.store.name,e,t),n=this.store.put(t,e)):(ot(Ao,"PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),nd(n)}add(e){return ot(Ao,"ADD",this.store.name,e,e),nd(this.store.add(e))}get(e){return nd(this.store.get(e)).next((t=>(t===void 0&&(t=null),ot(Ao,"GET",this.store.name,e,t),t)))}delete(e){return ot(Ao,"DELETE",this.store.name,e),nd(this.store.delete(e))}count(){return ot(Ao,"COUNT",this.store.name),nd(this.store.count())}J(e,t){const n=this.options(e,t),s=n.index?this.store.index(n.index):this.store;if(typeof s.getAll=="function"){const o=s.getAll(n.range);return new Ue(((l,c)=>{o.onerror=d=>{c(d.target.error)},o.onsuccess=d=>{l(d.target.result)}}))}{const o=this.cursor(n),l=[];return this.H(o,((c,d)=>{l.push(d)})).next((()=>l))}}Y(e,t){const n=this.store.getAll(e,t===null?void 0:t);return new Ue(((s,o)=>{n.onerror=l=>{o(l.target.error)},n.onsuccess=l=>{s(l.target.result)}}))}Z(e,t){ot(Ao,"DELETE ALL",this.store.name);const n=this.options(e,t);n.X=!1;const s=this.cursor(n);return this.H(s,((o,l,c)=>c.delete()))}ee(e,t){let n;t?n=e:(n={},t=e);const s=this.cursor(n);return this.H(s,t)}te(e){const t=this.cursor({});return new Ue(((n,s)=>{t.onerror=o=>{const l=kv(o.target.error);s(l)},t.onsuccess=o=>{const l=o.target.result;l?e(l.primaryKey,l.value).next((c=>{c?l.continue():n()})):n()}}))}H(e,t){const n=[];return new Ue(((s,o)=>{e.onerror=l=>{o(l.target.error)},e.onsuccess=l=>{const c=l.target.result;if(!c)return void s();const d=new TD(c),h=t(c.primaryKey,c.value,d);if(h instanceof Ue){const g=h.catch((x=>(d.done(),Ue.reject(x))));n.push(g)}d.isDone?s():d.G===null?c.continue():c.continue(d.G)}})).next((()=>Ue.waitFor(n)))}options(e,t){let n;return e!==void 0&&(typeof e=="string"?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.X?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function nd(r){return new Ue(((e,t)=>{r.onsuccess=n=>{const s=n.target.result;e(s)},r.onerror=n=>{const s=kv(n.target.error);t(s)}}))}let p_=!1;function kv(r){const e=gu.M(na());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(r.message.indexOf(t)>=0){const n=new ut("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return p_||(p_=!0,setTimeout((()=>{throw n}),0)),n}}return r}const eg="IndexBackfiller";class FD{constructor(e,t){this.asyncQueue=e,this.ne=t,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}re(e){ot(eg,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{const t=await this.ne.ie();ot(eg,`Documents written: ${t}`)}catch(t){Iu(t)?ot(eg,"Ignoring IndexedDB error during index backfill: ",t):await Su(t)}await this.re(6e4)}))}}class kD{constructor(e,t){this.localStore=e,this.persistence=t}async ie(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(t=>this.se(t,e)))}se(e,t){const n=new Set;let s=t,o=!0;return Ue.doWhile((()=>o===!0&&s>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((l=>{if(l!==null&&!n.has(l))return ot(eg,`Processing collection: ${l}`),this.oe(e,l,s).next((c=>{s-=c,n.add(l)}));o=!1})))).next((()=>t-s))}oe(e,t,n){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((s=>this.localStore.localDocuments.getNextDocuments(e,t,s,n).next((o=>{const l=o.changes;return this.localStore.indexManager.updateIndexEntries(e,l).next((()=>this._e(s,o))).next((c=>(ot(eg,`Updating offset: ${c}`),this.localStore.indexManager.updateCollectionGroup(e,t,c)))).next((()=>l.size))}))))}_e(e,t){let n=e;return t.changes.forEach(((s,o)=>{const l=T6(o);Fv(l,n)>0&&(n=l)})),new fo(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=n=>this.ae(n),this.ue=n=>t.writeSequenceNumber(n))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Hi.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dd=-1;function Cx(r){return r==null}function Eg(r){return r===0&&1/r==-1/0}function Q6(r){return typeof r=="number"&&Number.isInteger(r)&&!Eg(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q1="";function ai(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=x_(e)),e=QD(r.get(t),e);return x_(e)}function QD(r,e){let t=e;const n=r.length;for(let s=0;s<n;s++){const o=r.charAt(s);switch(o){case"\0":t+="";break;case Q1:t+="";break;default:t+=o}}return t}function x_(r){return r+Q1+""}function rl(r){const e=r.length;if(Xt(e>=2,64408,{path:r}),e===2)return Xt(r.charAt(0)===Q1&&r.charAt(1)==="",56145,{path:r}),on.emptyPath();const t=e-2,n=[];let s="";for(let o=0;o<e;){const l=r.indexOf(Q1,o);switch((l<0||l>t)&&Lt(50515,{path:r}),r.charAt(l+1)){case"":const c=r.substring(o,l);let d;s.length===0?d=c:(s+=c,d=s,s=""),n.push(d);break;case"":s+=r.substring(o,l),s+="\0";break;case"":s+=r.substring(o,l+1);break;default:Lt(61167,{path:r})}o=l+2}return new on(n)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ed="remoteDocuments",Zg="owner",bh="owner",Sg="mutationQueues",LD="userId",gA="mutations",b_="batchId",ld="userMutationsIndex",y_=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n1(r,e){return[r,ai(e)]}function L6(r,e,t){return[r,ai(e),t]}const RD={},Af="documentMutations",L1="remoteDocumentsV14",DD=["prefixPath","collectionGroup","readTime","documentId"],s1="documentKeyIndex",OD=["prefixPath","collectionGroup","documentId"],R6="collectionGroupIndex",MD=["collectionGroup","readTime","prefixPath","documentId"],Ig="remoteDocumentGlobal",ow="remoteDocumentGlobalKey",lf="targets",D6="queryTargetsIndex",PD=["canonicalId","targetId"],cf="targetDocuments",HD=["targetId","path"],Qv="documentTargetsIndex",VD=["path","targetId"],R1="targetGlobalKey",hd="targetGlobal",jg="collectionParents",KD=["collectionId","parent"],uf="clientMetadata",zD="clientId",Ex="bundles",qD="bundleId",Sx="namedQueries",GD="name",Lv="indexConfiguration",$D="indexId",Aw="collectionGroupIndex",XD="collectionGroup",tg="indexState",YD=["indexId","uid"],O6="sequenceNumberIndex",WD=["uid","sequenceNumber"],rg="indexEntries",JD=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],M6="documentKeyIndex",ZD=["indexId","uid","orderedDocumentKey"],Ix="documentOverlays",eO=["userId","collectionPath","documentId"],lw="collectionPathOverlayIndex",tO=["userId","collectionPath","largestBatchId"],P6="collectionGroupOverlayIndex",rO=["userId","collectionGroup","largestBatchId"],Rv="globals",nO="name",H6=[Sg,gA,Af,ed,lf,Zg,hd,cf,uf,Ig,jg,Ex,Sx],sO=[...H6,Ix],V6=[Sg,gA,Af,L1,lf,Zg,hd,cf,uf,Ig,jg,Ex,Sx,Ix],K6=V6,Dv=[...K6,Lv,tg,rg],aO=Dv,z6=[...Dv,Rv],iO=z6;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw extends F6{constructor(e,t){super(),this.le=e,this.currentSequenceNumber=t}}function sa(r,e){const t=zt(r);return gu.O(t.le,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w_(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function ju(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function q6(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e,t){this.comparator=e,this.root=t||La.EMPTY}insert(e,t){return new Rn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,La.BLACK,null,null))}remove(e){return new Rn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,La.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(n===0)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return t+n.left.size;s<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new dp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new dp(this.root,e,this.comparator,!1)}getReverseIterator(){return new dp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new dp(this.root,e,this.comparator,!0)}}class dp{constructor(e,t,n,s){this.isReverse=s,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?n(e.key,t):1,t&&s&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class La{constructor(e,t,n,s,o){this.key=e,this.value=t,this.color=n??La.RED,this.left=s??La.EMPTY,this.right=o??La.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,s,o){return new La(e??this.key,t??this.value,n??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let s=this;const o=n(e,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(e,t,n),null):o===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,n)),s.fixUp()}removeMin(){if(this.left.isEmpty())return La.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return La.EMPTY;n=s.right.min(),s=s.copy(n.key,n.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,La.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,La.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Lt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Lt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Lt(27949);return e+(this.isRed()?0:1)}}La.EMPTY=null,La.RED=!0,La.BLACK=!1;La.EMPTY=new class{constructor(){this.size=0}get key(){throw Lt(57766)}get value(){throw Lt(16141)}get color(){throw Lt(16727)}get left(){throw Lt(29726)}get right(){throw Lt(36894)}copy(e,t,n,s,o){return this}insert(e,t,n){return new La(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e){this.comparator=e,this.data=new Rn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const s=n.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let n;for(n=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new v_(this.data.getIterator())}getIteratorFrom(e){return new v_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((n=>{t=t.add(n)})),t}isEqual(e){if(!(e instanceof yn)||this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,o=n.getNext().key;if(this.comparator(s,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new yn(this.comparator);return t.data=e,t}}class v_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function yh(r){return r.hasNext()?r.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi{constructor(e){this.fields=e,e.sort(us.comparator)}static empty(){return new Vi([])}unionWith(e){let t=new yn(us.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Vi(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return af(this.fields,e.fields,((t,n)=>t.isEqual(n)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G6 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(s){try{return atob(s)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new G6("Invalid base64 string: "+o):o}})(e);return new Fs(t)}static fromUint8Array(e){const t=(function(s){let o="";for(let l=0;l<s.length;++l)o+=String.fromCharCode(s[l]);return o})(e);return new Fs(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const n=new Uint8Array(t.length);for(let s=0;s<t.length;s++)n[s]=t.charCodeAt(s);return n})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return br(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Fs.EMPTY_BYTE_STRING=new Fs("");const oO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function oc(r){if(Xt(!!r,39018),typeof r=="string"){let e=0;const t=oO.exec(r);if(Xt(!!t,46558,{timestamp:r}),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const n=new Date(r);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:rs(r.seconds),nanos:rs(r.nanos)}}function rs(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Ac(r){return typeof r=="string"?Fs.fromBase64String(r):Fs.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $6="server_timestamp",X6="__type__",Y6="__previous_value__",W6="__local_write_time__";function Ov(r){var t,n;return((n=(((t=r==null?void 0:r.mapValue)==null?void 0:t.fields)||{})[X6])==null?void 0:n.stringValue)===$6}function jx(r){const e=r.mapValue.fields[Y6];return Ov(e)?jx(e):e}function Tg(r){const e=oc(r.mapValue.fields[W6].timestampValue);return new pn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AO{constructor(e,t,n,s,o,l,c,d,h,g){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=s,this.ssl=o,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=d,this.useFetchStreams=h,this.isUsingEmulator=g}}const D1="(default)";class Nd{constructor(e,t){this.projectId=e,this.database=t||D1}static empty(){return new Nd("","")}get isDefaultDatabase(){return this.database===D1}isEqual(e){return e instanceof Nd&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mv="__type__",J6="__max__",nu={mapValue:{fields:{__type__:{stringValue:J6}}}},Pv="__vector__",df="value",a1={nullValue:"NULL_VALUE"};function wu(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Ov(r)?4:Z6(r)?9007199254740991:Tx(r)?10:11:Lt(28295,{value:r})}function gl(r,e){if(r===e)return!0;const t=wu(r);if(t!==wu(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Tg(r).isEqual(Tg(e));case 3:return(function(s,o){if(typeof s.timestampValue=="string"&&typeof o.timestampValue=="string"&&s.timestampValue.length===o.timestampValue.length)return s.timestampValue===o.timestampValue;const l=oc(s.timestampValue),c=oc(o.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(s,o){return Ac(s.bytesValue).isEqual(Ac(o.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(s,o){return rs(s.geoPointValue.latitude)===rs(o.geoPointValue.latitude)&&rs(s.geoPointValue.longitude)===rs(o.geoPointValue.longitude)})(r,e);case 2:return(function(s,o){if("integerValue"in s&&"integerValue"in o)return rs(s.integerValue)===rs(o.integerValue);if("doubleValue"in s&&"doubleValue"in o){const l=rs(s.doubleValue),c=rs(o.doubleValue);return l===c?Eg(l)===Eg(c):isNaN(l)&&isNaN(c)}return!1})(r,e);case 9:return af(r.arrayValue.values||[],e.arrayValue.values||[],gl);case 10:case 11:return(function(s,o){const l=s.mapValue.fields||{},c=o.mapValue.fields||{};if(w_(l)!==w_(c))return!1;for(const d in l)if(l.hasOwnProperty(d)&&(c[d]===void 0||!gl(l[d],c[d])))return!1;return!0})(r,e);default:return Lt(52216,{left:r})}}function Ug(r,e){return(r.values||[]).find((t=>gl(t,e)))!==void 0}function vu(r,e){if(r===e)return 0;const t=wu(r),n=wu(e);if(t!==n)return br(t,n);switch(t){case 0:case 9007199254740991:return 0;case 1:return br(r.booleanValue,e.booleanValue);case 2:return(function(o,l){const c=rs(o.integerValue||o.doubleValue),d=rs(l.integerValue||l.doubleValue);return c<d?-1:c>d?1:c===d?0:isNaN(c)?isNaN(d)?0:-1:1})(r,e);case 3:return B_(r.timestampValue,e.timestampValue);case 4:return B_(Tg(r),Tg(e));case 5:return aw(r.stringValue,e.stringValue);case 6:return(function(o,l){const c=Ac(o),d=Ac(l);return c.compareTo(d)})(r.bytesValue,e.bytesValue);case 7:return(function(o,l){const c=o.split("/"),d=l.split("/");for(let h=0;h<c.length&&h<d.length;h++){const g=br(c[h],d[h]);if(g!==0)return g}return br(c.length,d.length)})(r.referenceValue,e.referenceValue);case 8:return(function(o,l){const c=br(rs(o.latitude),rs(l.latitude));return c!==0?c:br(rs(o.longitude),rs(l.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return N_(r.arrayValue,e.arrayValue);case 10:return(function(o,l){var B,w,I,j;const c=o.fields||{},d=l.fields||{},h=(B=c[df])==null?void 0:B.arrayValue,g=(w=d[df])==null?void 0:w.arrayValue,x=br(((I=h==null?void 0:h.values)==null?void 0:I.length)||0,((j=g==null?void 0:g.values)==null?void 0:j.length)||0);return x!==0?x:N_(h,g)})(r.mapValue,e.mapValue);case 11:return(function(o,l){if(o===nu.mapValue&&l===nu.mapValue)return 0;if(o===nu.mapValue)return 1;if(l===nu.mapValue)return-1;const c=o.fields||{},d=Object.keys(c),h=l.fields||{},g=Object.keys(h);d.sort(),g.sort();for(let x=0;x<d.length&&x<g.length;++x){const B=aw(d[x],g[x]);if(B!==0)return B;const w=vu(c[d[x]],h[g[x]]);if(w!==0)return w}return br(d.length,g.length)})(r.mapValue,e.mapValue);default:throw Lt(23264,{he:t})}}function B_(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return br(r,e);const t=oc(r),n=oc(e),s=br(t.seconds,n.seconds);return s!==0?s:br(t.nanos,n.nanos)}function N_(r,e){const t=r.values||[],n=e.values||[];for(let s=0;s<t.length&&s<n.length;++s){const o=vu(t[s],n[s]);if(o)return o}return br(t.length,n.length)}function hf(r){return uw(r)}function uw(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(t){const n=oc(t);return`time(${n.seconds},${n.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(t){return Ac(t).toBase64()})(r.bytesValue):"referenceValue"in r?(function(t){return mt.fromName(t).toString()})(r.referenceValue):"geoPointValue"in r?(function(t){return`geo(${t.latitude},${t.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(t){let n="[",s=!0;for(const o of t.values||[])s?s=!1:n+=",",n+=uw(o);return n+"]"})(r.arrayValue):"mapValue"in r?(function(t){const n=Object.keys(t.fields||{}).sort();let s="{",o=!0;for(const l of n)o?o=!1:s+=",",s+=`${l}:${uw(t.fields[l])}`;return s+"}"})(r.mapValue):Lt(61005,{value:r})}function i1(r){switch(wu(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=jx(r);return e?16+i1(e):16;case 5:return 2*r.stringValue.length;case 6:return Ac(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(n){return(n.values||[]).reduce(((s,o)=>s+i1(o)),0)})(r.arrayValue);case 10:case 11:return(function(n){let s=0;return ju(n.fields,((o,l)=>{s+=o.length+i1(l)})),s})(r.mapValue);default:throw Lt(13486,{value:r})}}function Fg(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function dw(r){return!!r&&"integerValue"in r}function kg(r){return!!r&&"arrayValue"in r}function __(r){return!!r&&"nullValue"in r}function C_(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function o1(r){return!!r&&"mapValue"in r}function Tx(r){var t,n;return((n=(((t=r==null?void 0:r.mapValue)==null?void 0:t.fields)||{})[Mv])==null?void 0:n.stringValue)===Pv}function ng(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return ju(r.mapValue.fields,((t,n)=>e.mapValue.fields[t]=ng(n))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ng(r.arrayValue.values[t]);return e}return{...r}}function Z6(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===J6}const eI={mapValue:{fields:{[Mv]:{stringValue:Pv},[df]:{arrayValue:{}}}}};function lO(r){return"nullValue"in r?a1:"booleanValue"in r?{booleanValue:!1}:"integerValue"in r||"doubleValue"in r?{doubleValue:NaN}:"timestampValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in r?{stringValue:""}:"bytesValue"in r?{bytesValue:""}:"referenceValue"in r?Fg(Nd.empty(),mt.empty()):"geoPointValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in r?{arrayValue:{}}:"mapValue"in r?Tx(r)?eI:{mapValue:{}}:Lt(35942,{value:r})}function cO(r){return"nullValue"in r?{booleanValue:!1}:"booleanValue"in r?{doubleValue:NaN}:"integerValue"in r||"doubleValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in r?{stringValue:""}:"stringValue"in r?{bytesValue:""}:"bytesValue"in r?Fg(Nd.empty(),mt.empty()):"referenceValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in r?{arrayValue:{}}:"arrayValue"in r?eI:"mapValue"in r?Tx(r)?{mapValue:{}}:nu:Lt(61959,{value:r})}function E_(r,e){const t=vu(r.value,e.value);return t!==0?t:r.inclusive&&!e.inclusive?-1:!r.inclusive&&e.inclusive?1:0}function S_(r,e){const t=vu(r.value,e.value);return t!==0?t:r.inclusive&&!e.inclusive?1:!r.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri{constructor(e){this.value=e}static empty(){return new ri({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!o1(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ng(t)}setAll(e){let t=us.emptyPath(),n={},s=[];e.forEach(((l,c)=>{if(!t.isImmediateParentOf(c)){const d=this.getFieldsMap(t);this.applyChanges(d,n,s),n={},s=[],t=c.popLast()}l?n[c.lastSegment()]=ng(l):s.push(c.lastSegment())}));const o=this.getFieldsMap(t);this.applyChanges(o,n,s)}delete(e){const t=this.field(e.popLast());o1(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return gl(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let s=t.mapValue.fields[e.get(n)];o1(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,n){ju(t,((s,o)=>e[s]=o));for(const s of n)delete e[s]}clone(){return new ri(ng(this.value))}}function tI(r){const e=[];return ju(r.fields,((t,n)=>{const s=new us([t]);if(o1(n)){const o=tI(n.mapValue).fields;if(o.length===0)e.push(s);else for(const l of o)e.push(s.child(l))}else e.push(s)})),new Vi(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys{constructor(e,t,n,s,o,l,c){this.key=e,this.documentType=t,this.version=n,this.readTime=s,this.createTime=o,this.data=l,this.documentState=c}static newInvalidDocument(e){return new ys(e,0,sr.min(),sr.min(),sr.min(),ri.empty(),0)}static newFoundDocument(e,t,n,s){return new ys(e,1,t,sr.min(),n,s,0)}static newNoDocument(e,t){return new ys(e,2,t,sr.min(),sr.min(),ri.empty(),0)}static newUnknownDocument(e,t){return new ys(e,3,t,sr.min(),sr.min(),ri.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(sr.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ri.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ri.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=sr.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ys&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ys(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff{constructor(e,t){this.position=e,this.inclusive=t}}function I_(r,e,t){let n=0;for(let s=0;s<r.position.length;s++){const o=e[s],l=r.position[s];if(o.field.isKeyField()?n=mt.comparator(mt.fromName(l.referenceValue),t.key):n=vu(l,t.data.field(o.field)),o.dir==="desc"&&(n*=-1),n!==0)break}return n}function j_(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!gl(r.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qg{constructor(e,t="asc"){this.field=e,this.dir=t}}function uO(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI{}class Hr extends rI{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,n):new dO(e,t,n):t==="array-contains"?new gO(e,n):t==="in"?new AI(e,n):t==="not-in"?new mO(e,n):t==="array-contains-any"?new pO(e,n):new Hr(e,t,n)}static createKeyFieldInFilter(e,t,n){return t==="in"?new hO(e,n):new fO(e,n)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(vu(t,this.value)):t!==null&&wu(this.value)===wu(t)&&this.matchesComparison(vu(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Lt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class xn extends rI{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new xn(e,t)}matches(e){return gf(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function gf(r){return r.op==="and"}function hw(r){return r.op==="or"}function Hv(r){return nI(r)&&gf(r)}function nI(r){for(const e of r.filters)if(e instanceof xn)return!1;return!0}function fw(r){if(r instanceof Hr)return r.field.canonicalString()+r.op.toString()+hf(r.value);if(Hv(r))return r.filters.map((e=>fw(e))).join(",");{const e=r.filters.map((t=>fw(t))).join(",");return`${r.op}(${e})`}}function sI(r,e){return r instanceof Hr?(function(n,s){return s instanceof Hr&&n.op===s.op&&n.field.isEqual(s.field)&&gl(n.value,s.value)})(r,e):r instanceof xn?(function(n,s){return s instanceof xn&&n.op===s.op&&n.filters.length===s.filters.length?n.filters.reduce(((o,l,c)=>o&&sI(l,s.filters[c])),!0):!1})(r,e):void Lt(19439)}function aI(r,e){const t=r.filters.concat(e);return xn.create(t,r.op)}function iI(r){return r instanceof Hr?(function(t){return`${t.field.canonicalString()} ${t.op} ${hf(t.value)}`})(r):r instanceof xn?(function(t){return t.op.toString()+" {"+t.getFilters().map(iI).join(" ,")+"}"})(r):"Filter"}class dO extends Hr{constructor(e,t,n){super(e,t,n),this.key=mt.fromName(n.referenceValue)}matches(e){const t=mt.comparator(e.key,this.key);return this.matchesComparison(t)}}class hO extends Hr{constructor(e,t){super(e,"in",t),this.keys=oI("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class fO extends Hr{constructor(e,t){super(e,"not-in",t),this.keys=oI("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function oI(r,e){var t;return(((t=e.arrayValue)==null?void 0:t.values)||[]).map((n=>mt.fromName(n.referenceValue)))}class gO extends Hr{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return kg(t)&&Ug(t.arrayValue,this.value)}}class AI extends Hr{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Ug(this.value.arrayValue,t)}}class mO extends Hr{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ug(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Ug(this.value.arrayValue,t)}}class pO extends Hr{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!kg(t)||!t.arrayValue.values)&&t.arrayValue.values.some((n=>Ug(this.value.arrayValue,n)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xO{constructor(e,t=null,n=[],s=[],o=null,l=null,c=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=s,this.limit=o,this.startAt=l,this.endAt=c,this.Te=null}}function gw(r,e=null,t=[],n=[],s=null,o=null,l=null){return new xO(r,e,t,n,s,o,l)}function _d(r){const e=zt(r);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((n=>fw(n))).join(","),t+="|ob:",t+=e.orderBy.map((n=>(function(o){return o.field.canonicalString()+o.dir})(n))).join(","),Cx(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((n=>hf(n))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((n=>hf(n))).join(",")),e.Te=t}return e.Te}function em(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!uO(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!sI(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!j_(r.startAt,e.startAt)&&j_(r.endAt,e.endAt)}function O1(r){return mt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}function M1(r,e){return r.filters.filter((t=>t instanceof Hr&&t.field.isEqual(e)))}function T_(r,e,t){let n=a1,s=!0;for(const o of M1(r,e)){let l=a1,c=!0;switch(o.op){case"<":case"<=":l=lO(o.value);break;case"==":case"in":case">=":l=o.value;break;case">":l=o.value,c=!1;break;case"!=":case"not-in":l=a1}E_({value:n,inclusive:s},{value:l,inclusive:c})<0&&(n=l,s=c)}if(t!==null){for(let o=0;o<r.orderBy.length;++o)if(r.orderBy[o].field.isEqual(e)){const l=t.position[o];E_({value:n,inclusive:s},{value:l,inclusive:t.inclusive})<0&&(n=l,s=t.inclusive);break}}return{value:n,inclusive:s}}function U_(r,e,t){let n=nu,s=!0;for(const o of M1(r,e)){let l=nu,c=!0;switch(o.op){case">=":case">":l=cO(o.value),c=!1;break;case"==":case"in":case"<=":l=o.value;break;case"<":l=o.value,c=!1;break;case"!=":case"not-in":l=nu}S_({value:n,inclusive:s},{value:l,inclusive:c})>0&&(n=l,s=c)}if(t!==null){for(let o=0;o<r.orderBy.length;++o)if(r.orderBy[o].field.isEqual(e)){const l=t.position[o];S_({value:n,inclusive:s},{value:l,inclusive:t.inclusive})>0&&(n=l,s=t.inclusive);break}}return{value:n,inclusive:s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uf{constructor(e,t=null,n=[],s=[],o=null,l="F",c=null,d=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=s,this.limit=o,this.limitType=l,this.startAt=c,this.endAt=d,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function lI(r,e,t,n,s,o,l,c){return new Uf(r,e,t,n,s,o,l,c)}function tm(r){return new Uf(r)}function F_(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function cI(r){return r.collectionGroup!==null}function sg(r){const e=zt(r);if(e.Ie===null){e.Ie=[];const t=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),t.add(o.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new yn(us.comparator);return l.filters.forEach((d=>{d.getFlattenedFilters().forEach((h=>{h.isInequality()&&(c=c.add(h.field))}))})),c})(e).forEach((o=>{t.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new Qg(o,n))})),t.has(us.keyField().canonicalString())||e.Ie.push(new Qg(us.keyField(),n))}return e.Ie}function uo(r){const e=zt(r);return e.Ee||(e.Ee=bO(e,sg(r))),e.Ee}function bO(r,e){if(r.limitType==="F")return gw(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((s=>{const o=s.dir==="desc"?"asc":"desc";return new Qg(s.field,o)}));const t=r.endAt?new ff(r.endAt.position,r.endAt.inclusive):null,n=r.startAt?new ff(r.startAt.position,r.startAt.inclusive):null;return gw(r.path,r.collectionGroup,e,r.filters,r.limit,t,n)}}function mw(r,e){const t=r.filters.concat([e]);return new Uf(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function P1(r,e,t){return new Uf(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function Ux(r,e){return em(uo(r),uo(e))&&r.limitType===e.limitType}function uI(r){return`${_d(uo(r))}|lt:${r.limitType}`}function Qh(r){return`Query(target=${(function(t){let n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=`, filters: [${t.filters.map((s=>iI(s))).join(", ")}]`),Cx(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=`, orderBy: [${t.orderBy.map((s=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(s))).join(", ")}]`),t.startAt&&(n+=", startAt: ",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((s=>hf(s))).join(",")),t.endAt&&(n+=", endAt: ",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((s=>hf(s))).join(",")),`Target(${n})`})(uo(r))}; limitType=${r.limitType})`}function rm(r,e){return e.isFoundDocument()&&(function(n,s){const o=s.key.path;return n.collectionGroup!==null?s.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(o):mt.isDocumentKey(n.path)?n.path.isEqual(o):n.path.isImmediateParentOf(o)})(r,e)&&(function(n,s){for(const o of sg(n))if(!o.field.isKeyField()&&s.data.field(o.field)===null)return!1;return!0})(r,e)&&(function(n,s){for(const o of n.filters)if(!o.matches(s))return!1;return!0})(r,e)&&(function(n,s){return!(n.startAt&&!(function(l,c,d){const h=I_(l,c,d);return l.inclusive?h<=0:h<0})(n.startAt,sg(n),s)||n.endAt&&!(function(l,c,d){const h=I_(l,c,d);return l.inclusive?h>=0:h>0})(n.endAt,sg(n),s))})(r,e)}function dI(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function hI(r){return(e,t)=>{let n=!1;for(const s of sg(r)){const o=yO(s,e,t);if(o!==0)return o;n=n||s.field.isKeyField()}return 0}}function yO(r,e,t){const n=r.field.isKeyField()?mt.comparator(e.key,t.key):(function(o,l,c){const d=l.data.field(o),h=c.data.field(o);return d!==null&&h!==null?vu(d,h):Lt(42886)})(r.field,e,t);switch(r.dir){case"asc":return n;case"desc":return-1*n;default:return Lt(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(n!==void 0){for(const[s,o]of n)if(this.equalsFn(s,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return this.inner[n]=[[e,t]],void this.innerSize++;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return void(s[o]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(n===void 0)return!1;for(let s=0;s<n.length;s++)if(this.equalsFn(n[s][0],e))return n.length===1?delete this.inner[t]:n.splice(s,1),this.innerSize--,!0;return!1}forEach(e){ju(this.inner,((t,n)=>{for(const[s,o]of n)e(s,o)}))}isEmpty(){return q6(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wO=new Rn(mt.comparator);function lo(){return wO}const fI=new Rn(mt.comparator);function M0(...r){let e=fI;for(const t of r)e=e.insert(t.key,t);return e}function gI(r){let e=fI;return r.forEach(((t,n)=>e=e.insert(t,n.overlayedDocument))),e}function nl(){return ag()}function mI(){return ag()}function ag(){return new dc((r=>r.toString()),((r,e)=>r.isEqual(e)))}const vO=new Rn(mt.comparator),BO=new yn(mt.comparator);function Tr(...r){let e=BO;for(const t of r)e=e.add(t);return e}const NO=new yn(br);function Vv(){return NO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kv(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Eg(e)?"-0":e}}function pI(r){return{integerValue:""+r}}function xI(r,e){return Q6(e)?pI(e):Kv(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fx{constructor(){this._=void 0}}function _O(r,e,t){return r instanceof mf?(function(s,o){const l={fields:{[X6]:{stringValue:$6},[W6]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return o&&Ov(o)&&(o=jx(o)),o&&(l.fields[Y6]=o),{mapValue:l}})(t,e):r instanceof pf?yI(r,e):r instanceof xf?wI(r,e):(function(s,o){const l=bI(s,o),c=k_(l)+k_(s.Ae);return dw(l)&&dw(s.Ae)?pI(c):Kv(s.serializer,c)})(r,e)}function CO(r,e,t){return r instanceof pf?yI(r,e):r instanceof xf?wI(r,e):t}function bI(r,e){return r instanceof bf?(function(n){return dw(n)||(function(o){return!!o&&"doubleValue"in o})(n)})(e)?e:{integerValue:0}:null}class mf extends Fx{}class pf extends Fx{constructor(e){super(),this.elements=e}}function yI(r,e){const t=vI(e);for(const n of r.elements)t.some((s=>gl(s,n)))||t.push(n);return{arrayValue:{values:t}}}class xf extends Fx{constructor(e){super(),this.elements=e}}function wI(r,e){let t=vI(e);for(const n of r.elements)t=t.filter((s=>!gl(s,n)));return{arrayValue:{values:t}}}class bf extends Fx{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function k_(r){return rs(r.integerValue||r.doubleValue)}function vI(r){return kg(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zv{constructor(e,t){this.field=e,this.transform=t}}function EO(r,e){return r.field.isEqual(e.field)&&(function(n,s){return n instanceof pf&&s instanceof pf||n instanceof xf&&s instanceof xf?af(n.elements,s.elements,gl):n instanceof bf&&s instanceof bf?gl(n.Ae,s.Ae):n instanceof mf&&s instanceof mf})(r.transform,e.transform)}class SO{constructor(e,t){this.version=e,this.transformResults=t}}class ta{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ta}static exists(e){return new ta(void 0,e)}static updateTime(e){return new ta(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function A1(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class kx{}function BI(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new nm(r.key,ta.none()):new Ff(r.key,r.data,ta.none());{const t=r.data,n=ri.empty();let s=new yn(us.comparator);for(let o of e.fields)if(!s.has(o)){let l=t.field(o);l===null&&o.length>1&&(o=o.popLast(),l=t.field(o)),l===null?n.delete(o):n.set(o,l),s=s.add(o)}return new hc(r.key,n,new Vi(s.toArray()),ta.none())}}function IO(r,e,t){r instanceof Ff?(function(s,o,l){const c=s.value.clone(),d=L_(s.fieldTransforms,o,l.transformResults);c.setAll(d),o.convertToFoundDocument(l.version,c).setHasCommittedMutations()})(r,e,t):r instanceof hc?(function(s,o,l){if(!A1(s.precondition,o))return void o.convertToUnknownDocument(l.version);const c=L_(s.fieldTransforms,o,l.transformResults),d=o.data;d.setAll(NI(s)),d.setAll(c),o.convertToFoundDocument(l.version,d).setHasCommittedMutations()})(r,e,t):(function(s,o,l){o.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,t)}function ig(r,e,t,n){return r instanceof Ff?(function(o,l,c,d){if(!A1(o.precondition,l))return c;const h=o.value.clone(),g=R_(o.fieldTransforms,d,l);return h.setAll(g),l.convertToFoundDocument(l.version,h).setHasLocalMutations(),null})(r,e,t,n):r instanceof hc?(function(o,l,c,d){if(!A1(o.precondition,l))return c;const h=R_(o.fieldTransforms,d,l),g=l.data;return g.setAll(NI(o)),g.setAll(h),l.convertToFoundDocument(l.version,g).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((x=>x.field)))})(r,e,t,n):(function(o,l,c){return A1(o.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c})(r,e,t)}function jO(r,e){let t=null;for(const n of r.fieldTransforms){const s=e.data.field(n.field),o=bI(n.transform,s||null);o!=null&&(t===null&&(t=ri.empty()),t.set(n.field,o))}return t||null}function Q_(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(n,s){return n===void 0&&s===void 0||!(!n||!s)&&af(n,s,((o,l)=>EO(o,l)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Ff extends kx{constructor(e,t,n,s=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class hc extends kx{constructor(e,t,n,s,o=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=s,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function NI(r){const e=new Map;return r.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const n=r.data.field(t);e.set(t,n)}})),e}function L_(r,e,t){const n=new Map;Xt(r.length===t.length,32656,{Re:t.length,Ve:r.length});for(let s=0;s<t.length;s++){const o=r[s],l=o.transform,c=e.data.field(o.field);n.set(o.field,CO(l,c,t[s]))}return n}function R_(r,e,t){const n=new Map;for(const s of r){const o=s.transform,l=t.data.field(s.field);n.set(s.field,_O(o,l,e))}return n}class nm extends kx{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class _I extends kx{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qv{constructor(e,t,n,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=s}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const o=this.mutations[s];o.key.isEqual(e.key)&&IO(o,e,n[s])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=ig(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=ig(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=mI();return this.mutations.forEach((s=>{const o=e.get(s.key),l=o.overlayedDocument;let c=this.applyToLocalView(l,o.mutatedFields);c=t.has(s.key)?null:c;const d=BI(l,c);d!==null&&n.set(s.key,d),l.isValidDocument()||l.convertToNoDocument(sr.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Tr())}isEqual(e){return this.batchId===e.batchId&&af(this.mutations,e.mutations,((t,n)=>Q_(t,n)))&&af(this.baseMutations,e.baseMutations,((t,n)=>Q_(t,n)))}}class Gv{constructor(e,t,n,s){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=s}static from(e,t,n){Xt(e.mutations.length===n.length,58842,{me:e.mutations.length,fe:n.length});let s=(function(){return vO})();const o=e.mutations;for(let l=0;l<o.length;l++)s=s.insert(o[l].key,n[l].version);return new Gv(e,t,n,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $v{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TO{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ms,Xr;function UO(r){switch(r){case qe.OK:return Lt(64938);case qe.CANCELLED:case qe.UNKNOWN:case qe.DEADLINE_EXCEEDED:case qe.RESOURCE_EXHAUSTED:case qe.INTERNAL:case qe.UNAVAILABLE:case qe.UNAUTHENTICATED:return!1;case qe.INVALID_ARGUMENT:case qe.NOT_FOUND:case qe.ALREADY_EXISTS:case qe.PERMISSION_DENIED:case qe.FAILED_PRECONDITION:case qe.ABORTED:case qe.OUT_OF_RANGE:case qe.UNIMPLEMENTED:case qe.DATA_LOSS:return!0;default:return Lt(15467,{code:r})}}function CI(r){if(r===void 0)return Ts("GRPC error has no .code"),qe.UNKNOWN;switch(r){case Ms.OK:return qe.OK;case Ms.CANCELLED:return qe.CANCELLED;case Ms.UNKNOWN:return qe.UNKNOWN;case Ms.DEADLINE_EXCEEDED:return qe.DEADLINE_EXCEEDED;case Ms.RESOURCE_EXHAUSTED:return qe.RESOURCE_EXHAUSTED;case Ms.INTERNAL:return qe.INTERNAL;case Ms.UNAVAILABLE:return qe.UNAVAILABLE;case Ms.UNAUTHENTICATED:return qe.UNAUTHENTICATED;case Ms.INVALID_ARGUMENT:return qe.INVALID_ARGUMENT;case Ms.NOT_FOUND:return qe.NOT_FOUND;case Ms.ALREADY_EXISTS:return qe.ALREADY_EXISTS;case Ms.PERMISSION_DENIED:return qe.PERMISSION_DENIED;case Ms.FAILED_PRECONDITION:return qe.FAILED_PRECONDITION;case Ms.ABORTED:return qe.ABORTED;case Ms.OUT_OF_RANGE:return qe.OUT_OF_RANGE;case Ms.UNIMPLEMENTED:return qe.UNIMPLEMENTED;case Ms.DATA_LOSS:return qe.DATA_LOSS;default:return Lt(39323,{code:r})}}(Xr=Ms||(Ms={}))[Xr.OK=0]="OK",Xr[Xr.CANCELLED=1]="CANCELLED",Xr[Xr.UNKNOWN=2]="UNKNOWN",Xr[Xr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Xr[Xr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Xr[Xr.NOT_FOUND=5]="NOT_FOUND",Xr[Xr.ALREADY_EXISTS=6]="ALREADY_EXISTS",Xr[Xr.PERMISSION_DENIED=7]="PERMISSION_DENIED",Xr[Xr.UNAUTHENTICATED=16]="UNAUTHENTICATED",Xr[Xr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Xr[Xr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Xr[Xr.ABORTED=10]="ABORTED",Xr[Xr.OUT_OF_RANGE=11]="OUT_OF_RANGE",Xr[Xr.UNIMPLEMENTED=12]="UNIMPLEMENTED",Xr[Xr.INTERNAL=13]="INTERNAL",Xr[Xr.UNAVAILABLE=14]="UNAVAILABLE",Xr[Xr.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FO(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kO=new fu([4294967295,4294967295],0);function D_(r){const e=FO().encode(r),t=new y6;return t.update(e),new Uint8Array(t.digest())}function O_(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),n=e.getUint32(4,!0),s=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new fu([t,n],0),new fu([s,o],0)]}class Xv{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new P0(`Invalid padding: ${t}`);if(n<0)throw new P0(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new P0(`Invalid hash count: ${n}`);if(e.length===0&&t!==0)throw new P0(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=fu.fromNumber(this.ge)}ye(e,t,n){let s=e.add(t.multiply(fu.fromNumber(n)));return s.compare(kO)===1&&(s=new fu([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=D_(e),[n,s]=O_(t);for(let o=0;o<this.hashCount;o++){const l=this.ye(n,s,o);if(!this.we(l))return!1}return!0}static create(e,t,n){const s=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),l=new Xv(o,s,t);return n.forEach((c=>l.insert(c))),l}insert(e){if(this.ge===0)return;const t=D_(e),[n,s]=O_(t);for(let o=0;o<this.hashCount;o++){const l=this.ye(n,s,o);this.Se(l)}}Se(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class P0 extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm{constructor(e,t,n,s,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=s,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const s=new Map;return s.set(e,am.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new sm(sr.min(),s,new Rn(br),lo(),Tr())}}class am{constructor(e,t,n,s,o){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=s,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new am(n,t,Tr(),Tr(),Tr())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{constructor(e,t,n,s){this.be=e,this.removedTargetIds=t,this.key=n,this.De=s}}class EI{constructor(e,t){this.targetId=e,this.Ce=t}}class SI{constructor(e,t,n=Fs.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=s}}class M_{constructor(){this.ve=0,this.Fe=P_(),this.Me=Fs.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Tr(),t=Tr(),n=Tr();return this.Fe.forEach(((s,o)=>{switch(o){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:n=n.add(s);break;default:Lt(38017,{changeType:o})}})),new am(this.Me,this.xe,e,t,n)}qe(){this.Oe=!1,this.Fe=P_()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Xt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class QO{constructor(e){this.Ge=e,this.ze=new Map,this.je=lo(),this.Je=hp(),this.He=hp(),this.Ye=new Rn(br)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const n=this.nt(t);switch(e.state){case 0:this.rt(t)&&n.Le(e.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(e.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(n.We(),n.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),n.Le(e.resumeToken));break;default:Lt(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((n,s)=>{this.rt(s)&&t(s)}))}st(e){const t=e.targetId,n=e.Ce.count,s=this.ot(t);if(s){const o=s.target;if(O1(o))if(n===0){const l=new mt(o.path);this.et(t,l,ys.newNoDocument(l,sr.min()))}else Xt(n===1,20013,{expectedCount:n});else{const l=this._t(t);if(l!==n){const c=this.ut(e),d=c?this.ct(c,e,l):1;if(d!==0){this.it(t);const h=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,h)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:s=0},hashCount:o=0}=t;let l,c;try{l=Ac(n).toUint8Array()}catch(d){if(d instanceof G6)return _g("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{c=new Xv(l,s,o)}catch(d){return _g(d instanceof P0?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return c.ge===0?null:c}ct(e,t,n){return t.Ce.count===n-this.Pt(e,t.targetId)?0:2}Pt(e,t){const n=this.Ge.getRemoteKeysForTarget(t);let s=0;return n.forEach((o=>{const l=this.Ge.ht(),c=`projects/${l.projectId}/databases/${l.database}/documents/${o.path.canonicalString()}`;e.mightContain(c)||(this.et(t,o,null),s++)})),s}Tt(e){const t=new Map;this.ze.forEach(((o,l)=>{const c=this.ot(l);if(c){if(o.current&&O1(c.target)){const d=new mt(c.target.path);this.It(d).has(l)||this.Et(l,d)||this.et(l,d,ys.newNoDocument(d,e))}o.Be&&(t.set(l,o.ke()),o.qe())}}));let n=Tr();this.He.forEach(((o,l)=>{let c=!0;l.forEachWhile((d=>{const h=this.ot(d);return!h||h.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)})),c&&(n=n.add(o))})),this.je.forEach(((o,l)=>l.setReadTime(e)));const s=new sm(e,t,this.Ye,this.je,n);return this.je=lo(),this.Je=hp(),this.He=hp(),this.Ye=new Rn(br),s}Xe(e,t){if(!this.rt(e))return;const n=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,n),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,n){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,t)?s.Qe(t,1):s.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),n&&(this.je=this.je.insert(t,n))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new M_,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new yn(br),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new yn(br),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||ot("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new M_),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function hp(){return new Rn(mt.comparator)}function P_(){return new Rn(mt.comparator)}const LO={asc:"ASCENDING",desc:"DESCENDING"},RO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},DO={and:"AND",or:"OR"};class OO{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function pw(r,e){return r.useProto3Json||Cx(e)?e:{value:e}}function yf(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function II(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function MO(r,e){return yf(r,e.toTimestamp())}function xi(r){return Xt(!!r,49232),sr.fromTimestamp((function(t){const n=oc(t);return new pn(n.seconds,n.nanos)})(r))}function Yv(r,e){return xw(r,e).canonicalString()}function xw(r,e){const t=(function(s){return new on(["projects",s.projectId,"databases",s.database])})(r).child("documents");return e===void 0?t:t.child(e)}function jI(r){const e=on.fromString(r);return Xt(OI(e),10190,{key:e.toString()}),e}function H1(r,e){return Yv(r.databaseId,e.path)}function fd(r,e){const t=jI(e);if(t.get(1)!==r.databaseId.projectId)throw new ut(qe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new ut(qe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new mt(FI(t))}function TI(r,e){return Yv(r.databaseId,e)}function UI(r){const e=jI(r);return e.length===4?on.emptyPath():FI(e)}function bw(r){return new on(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function FI(r){return Xt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function H_(r,e,t){return{name:H1(r,e),fields:t.value.mapValue.fields}}function PO(r,e,t){const n=fd(r,e.name),s=xi(e.updateTime),o=e.createTime?xi(e.createTime):sr.min(),l=new ri({mapValue:{fields:e.fields}}),c=ys.newFoundDocument(n,s,o,l);return t&&c.setHasCommittedMutations(),t?c.setHasCommittedMutations():c}function HO(r,e){let t;if("targetChange"in e){e.targetChange;const n=(function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:Lt(39313,{state:h})})(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],o=(function(h,g){return h.useProto3Json?(Xt(g===void 0||typeof g=="string",58123),Fs.fromBase64String(g||"")):(Xt(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),Fs.fromUint8Array(g||new Uint8Array))})(r,e.targetChange.resumeToken),l=e.targetChange.cause,c=l&&(function(h){const g=h.code===void 0?qe.UNKNOWN:CI(h.code);return new ut(g,h.message||"")})(l);t=new SI(n,s,o,c||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const s=fd(r,n.document.name),o=xi(n.document.updateTime),l=n.document.createTime?xi(n.document.createTime):sr.min(),c=new ri({mapValue:{fields:n.document.fields}}),d=ys.newFoundDocument(s,o,l,c),h=n.targetIds||[],g=n.removedTargetIds||[];t=new l1(h,g,d.key,d)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const s=fd(r,n.document),o=n.readTime?xi(n.readTime):sr.min(),l=ys.newNoDocument(s,o),c=n.removedTargetIds||[];t=new l1([],c,l.key,l)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const s=fd(r,n.document),o=n.removedTargetIds||[];t=new l1([],o,s,null)}else{if(!("filter"in e))return Lt(11601,{Rt:e});{e.filter;const n=e.filter;n.targetId;const{count:s=0,unchangedNames:o}=n,l=new TO(s,o),c=n.targetId;t=new EI(c,l)}}return t}function V1(r,e){let t;if(e instanceof Ff)t={update:H_(r,e.key,e.value)};else if(e instanceof nm)t={delete:H1(r,e.key)};else if(e instanceof hc)t={update:H_(r,e.key,e.data),updateMask:$O(e.fieldMask)};else{if(!(e instanceof _I))return Lt(16599,{Vt:e.type});t={verify:H1(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((n=>(function(o,l){const c=l.transform;if(c instanceof mf)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof pf)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof xf)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof bf)return{fieldPath:l.field.canonicalString(),increment:c.Ae};throw Lt(20930,{transform:l.transform})})(0,n)))),e.precondition.isNone||(t.currentDocument=(function(s,o){return o.updateTime!==void 0?{updateTime:MO(s,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Lt(27497)})(r,e.precondition)),t}function yw(r,e){const t=e.currentDocument?(function(o){return o.updateTime!==void 0?ta.updateTime(xi(o.updateTime)):o.exists!==void 0?ta.exists(o.exists):ta.none()})(e.currentDocument):ta.none(),n=e.updateTransforms?e.updateTransforms.map((s=>(function(l,c){let d=null;if("setToServerValue"in c)Xt(c.setToServerValue==="REQUEST_TIME",16630,{proto:c}),d=new mf;else if("appendMissingElements"in c){const g=c.appendMissingElements.values||[];d=new pf(g)}else if("removeAllFromArray"in c){const g=c.removeAllFromArray.values||[];d=new xf(g)}else"increment"in c?d=new bf(l,c.increment):Lt(16584,{proto:c});const h=us.fromServerFormat(c.fieldPath);return new zv(h,d)})(r,s))):[];if(e.update){e.update.name;const s=fd(r,e.update.name),o=new ri({mapValue:{fields:e.update.fields}});if(e.updateMask){const l=(function(d){const h=d.fieldPaths||[];return new Vi(h.map((g=>us.fromServerFormat(g))))})(e.updateMask);return new hc(s,o,l,t,n)}return new Ff(s,o,t,n)}if(e.delete){const s=fd(r,e.delete);return new nm(s,t)}if(e.verify){const s=fd(r,e.verify);return new _I(s,t)}return Lt(1463,{proto:e})}function VO(r,e){return r&&r.length>0?(Xt(e!==void 0,14353),r.map((t=>(function(s,o){let l=s.updateTime?xi(s.updateTime):xi(o);return l.isEqual(sr.min())&&(l=xi(o)),new SO(l,s.transformResults||[])})(t,e)))):[]}function kI(r,e){return{documents:[TI(r,e.path)]}}function QI(r,e){const t={structuredQuery:{}},n=e.path;let s;e.collectionGroup!==null?(s=n,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=n.popLast(),t.structuredQuery.from=[{collectionId:n.lastSegment()}]),t.parent=TI(r,s);const o=(function(h){if(h.length!==0)return DI(xn.create(h,"and"))})(e.filters);o&&(t.structuredQuery.where=o);const l=(function(h){if(h.length!==0)return h.map((g=>(function(B){return{field:Lh(B.field),direction:zO(B.dir)}})(g)))})(e.orderBy);l&&(t.structuredQuery.orderBy=l);const c=pw(r,e.limit);return c!==null&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt=(function(h){return{before:h.inclusive,values:h.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(h){return{before:!h.inclusive,values:h.position}})(e.endAt)),{ft:t,parent:s}}function LI(r){let e=UI(r.parent);const t=r.structuredQuery,n=t.from?t.from.length:0;let s=null;if(n>0){Xt(n===1,65062);const g=t.from[0];g.allDescendants?s=g.collectionId:e=e.child(g.collectionId)}let o=[];t.where&&(o=(function(x){const B=RI(x);return B instanceof xn&&Hv(B)?B.getFilters():[B]})(t.where));let l=[];t.orderBy&&(l=(function(x){return x.map((B=>(function(I){return new Qg(Rh(I.field),(function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(I.direction))})(B)))})(t.orderBy));let c=null;t.limit&&(c=(function(x){let B;return B=typeof x=="object"?x.value:x,Cx(B)?null:B})(t.limit));let d=null;t.startAt&&(d=(function(x){const B=!!x.before,w=x.values||[];return new ff(w,B)})(t.startAt));let h=null;return t.endAt&&(h=(function(x){const B=!x.before,w=x.values||[];return new ff(w,B)})(t.endAt)),lI(e,s,l,o,c,"F",d,h)}function KO(r,e){const t=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Lt(28987,{purpose:s})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function RI(r){return r.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const n=Rh(t.unaryFilter.field);return Hr.create(n,"==",{doubleValue:NaN});case"IS_NULL":const s=Rh(t.unaryFilter.field);return Hr.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Rh(t.unaryFilter.field);return Hr.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Rh(t.unaryFilter.field);return Hr.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Lt(61313);default:return Lt(60726)}})(r):r.fieldFilter!==void 0?(function(t){return Hr.create(Rh(t.fieldFilter.field),(function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Lt(58110);default:return Lt(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(t){return xn.create(t.compositeFilter.filters.map((n=>RI(n))),(function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Lt(1026)}})(t.compositeFilter.op))})(r):Lt(30097,{filter:r})}function zO(r){return LO[r]}function qO(r){return RO[r]}function GO(r){return DO[r]}function Lh(r){return{fieldPath:r.canonicalString()}}function Rh(r){return us.fromServerFormat(r.fieldPath)}function DI(r){return r instanceof Hr?(function(t){if(t.op==="=="){if(C_(t.value))return{unaryFilter:{field:Lh(t.field),op:"IS_NAN"}};if(__(t.value))return{unaryFilter:{field:Lh(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(C_(t.value))return{unaryFilter:{field:Lh(t.field),op:"IS_NOT_NAN"}};if(__(t.value))return{unaryFilter:{field:Lh(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Lh(t.field),op:qO(t.op),value:t.value}}})(r):r instanceof xn?(function(t){const n=t.getFilters().map((s=>DI(s)));return n.length===1?n[0]:{compositeFilter:{op:GO(t.op),filters:n}}})(r):Lt(54877,{filter:r})}function $O(r){const e=[];return r.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function OI(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl{constructor(e,t,n,s,o=sr.min(),l=sr.min(),c=Fs.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=s,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=d}withSequenceNumber(e){return new Zl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Zl(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Zl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Zl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MI{constructor(e){this.yt=e}}function XO(r,e){let t;if(e.document)t=PO(r.yt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const n=mt.fromSegments(e.noDocument.path),s=Ed(e.noDocument.readTime);t=ys.newNoDocument(n,s),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Lt(56709);{const n=mt.fromSegments(e.unknownDocument.path),s=Ed(e.unknownDocument.version);t=ys.newUnknownDocument(n,s)}}return e.readTime&&t.setReadTime((function(s){const o=new pn(s[0],s[1]);return sr.fromTimestamp(o)})(e.readTime)),t}function V_(r,e){const t=e.key,n={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:K1(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())n.document=(function(o,l){return{name:H1(o,l.key),fields:l.data.value.mapValue.fields,updateTime:yf(o,l.version.toTimestamp()),createTime:yf(o,l.createTime.toTimestamp())}})(r.yt,e);else if(e.isNoDocument())n.noDocument={path:t.path.toArray(),readTime:Cd(e.version)};else{if(!e.isUnknownDocument())return Lt(57904,{document:e});n.unknownDocument={path:t.path.toArray(),version:Cd(e.version)}}return n}function K1(r){const e=r.toTimestamp();return[e.seconds,e.nanoseconds]}function Cd(r){const e=r.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Ed(r){const e=new pn(r.seconds,r.nanoseconds);return sr.fromTimestamp(e)}function sd(r,e){const t=(e.baseMutations||[]).map((o=>yw(r.yt,o)));for(let o=0;o<e.mutations.length-1;++o){const l=e.mutations[o];if(o+1<e.mutations.length&&e.mutations[o+1].transform!==void 0){const c=e.mutations[o+1];l.updateTransforms=c.transform.fieldTransforms,e.mutations.splice(o+1,1),++o}}const n=e.mutations.map((o=>yw(r.yt,o))),s=pn.fromMillis(e.localWriteTimeMs);return new qv(e.batchId,s,t,n)}function H0(r){const e=Ed(r.readTime),t=r.lastLimboFreeSnapshotVersion!==void 0?Ed(r.lastLimboFreeSnapshotVersion):sr.min();let n;return n=(function(o){return o.documents!==void 0})(r.query)?(function(o){const l=o.documents.length;return Xt(l===1,1966,{count:l}),uo(tm(UI(o.documents[0])))})(r.query):(function(o){return uo(LI(o))})(r.query),new Zl(n,r.targetId,"TargetPurposeListen",r.lastListenSequenceNumber,e,t,Fs.fromBase64String(r.resumeToken))}function PI(r,e){const t=Cd(e.snapshotVersion),n=Cd(e.lastLimboFreeSnapshotVersion);let s;s=O1(e.target)?kI(r.yt,e.target):QI(r.yt,e.target).ft;const o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:_d(e.target),readTime:t,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:n,query:s}}function HI(r){const e=LI({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?P1(e,e.limit,"L"):e}function k2(r,e){return new $v(e.largestBatchId,yw(r.yt,e.overlayMutation))}function K_(r,e){const t=e.path.lastSegment();return[r,ai(e.path.popLast()),t]}function z_(r,e,t,n){return{indexId:r,uid:e,sequenceNumber:t,readTime:Cd(n.readTime),documentKey:ai(n.documentKey.path),largestBatchId:n.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YO{getBundleMetadata(e,t){return q_(e).get(t).next((n=>{if(n)return(function(o){return{id:o.bundleId,createTime:Ed(o.createTime),version:o.version}})(n)}))}saveBundleMetadata(e,t){return q_(e).put((function(s){return{bundleId:s.id,createTime:Cd(xi(s.createTime)),version:s.version}})(t))}getNamedQuery(e,t){return G_(e).get(t).next((n=>{if(n)return(function(o){return{name:o.name,query:HI(o.bundledQuery),readTime:Ed(o.readTime)}})(n)}))}saveNamedQuery(e,t){return G_(e).put((function(s){return{name:s.name,readTime:Cd(xi(s.readTime)),bundledQuery:s.bundledQuery}})(t))}}function q_(r){return sa(r,Ex)}function G_(r){return sa(r,Sx)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qx{constructor(e,t){this.serializer=e,this.userId=t}static wt(e,t){const n=t.uid||"";return new Qx(e,n)}getOverlay(e,t){return _0(e).get(K_(this.userId,t)).next((n=>n?k2(this.serializer,n):null))}getOverlays(e,t){const n=nl();return Ue.forEach(t,(s=>this.getOverlay(e,s).next((o=>{o!==null&&n.set(s,o)})))).next((()=>n))}saveOverlays(e,t,n){const s=[];return n.forEach(((o,l)=>{const c=new $v(t,l);s.push(this.St(e,c))})),Ue.waitFor(s)}removeOverlaysForBatchId(e,t,n){const s=new Set;t.forEach((l=>s.add(ai(l.getCollectionPath()))));const o=[];return s.forEach((l=>{const c=IDBKeyRange.bound([this.userId,l,n],[this.userId,l,n+1],!1,!0);o.push(_0(e).Z(lw,c))})),Ue.waitFor(o)}getOverlaysForCollection(e,t,n){const s=nl(),o=ai(t),l=IDBKeyRange.bound([this.userId,o,n],[this.userId,o,Number.POSITIVE_INFINITY],!0);return _0(e).J(lw,l).next((c=>{for(const d of c){const h=k2(this.serializer,d);s.set(h.getKey(),h)}return s}))}getOverlaysForCollectionGroup(e,t,n,s){const o=nl();let l;const c=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return _0(e).ee({index:P6,range:c},((d,h,g)=>{const x=k2(this.serializer,h);o.size()<s||x.largestBatchId===l?(o.set(x.getKey(),x),l=x.largestBatchId):g.done()})).next((()=>o))}St(e,t){return _0(e).put((function(s,o,l){const[c,d,h]=K_(o,l.mutation.key);return{userId:o,collectionPath:d,documentId:h,collectionGroup:l.mutation.key.getCollectionGroup(),largestBatchId:l.largestBatchId,overlayMutation:V1(s.yt,l.mutation)}})(this.serializer,this.userId,t))}}function _0(r){return sa(r,Ix)}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WO{bt(e){return sa(e,Rv)}getSessionToken(e){return this.bt(e).get("sessionToken").next((t=>{const n=t==null?void 0:t.value;return n?Fs.fromUint8Array(n):Fs.EMPTY_BYTE_STRING}))}setSessionToken(e,t){return this.bt(e).put({name:"sessionToken",value:t.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(){}Dt(e,t){this.Ct(e,t),t.vt()}Ct(e,t){if("nullValue"in e)this.Ft(t,5);else if("booleanValue"in e)this.Ft(t,10),t.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(t,15),t.Mt(rs(e.integerValue));else if("doubleValue"in e){const n=rs(e.doubleValue);isNaN(n)?this.Ft(t,13):(this.Ft(t,15),Eg(n)?t.Mt(0):t.Mt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Ft(t,20),typeof n=="string"&&(n=oc(n)),t.xt(`${n.seconds||""}`),t.Mt(n.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,t),this.Nt(t);else if("bytesValue"in e)this.Ft(t,30),t.Bt(Ac(e.bytesValue)),this.Nt(t);else if("referenceValue"in e)this.Lt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Ft(t,45),t.Mt(n.latitude||0),t.Mt(n.longitude||0)}else"mapValue"in e?Z6(e)?this.Ft(t,Number.MAX_SAFE_INTEGER):Tx(e)?this.kt(e.mapValue,t):(this.qt(e.mapValue,t),this.Nt(t)):"arrayValue"in e?(this.Qt(e.arrayValue,t),this.Nt(t)):Lt(19022,{$t:e})}Ot(e,t){this.Ft(t,25),this.Ut(e,t)}Ut(e,t){t.xt(e)}qt(e,t){const n=e.fields||{};this.Ft(t,55);for(const s of Object.keys(n))this.Ot(s,t),this.Ct(n[s],t)}kt(e,t){var l,c;const n=e.fields||{};this.Ft(t,53);const s=df,o=((c=(l=n[s].arrayValue)==null?void 0:l.values)==null?void 0:c.length)||0;this.Ft(t,15),t.Mt(rs(o)),this.Ot(s,t),this.Ct(n[s],t)}Qt(e,t){const n=e.values||[];this.Ft(t,50);for(const s of n)this.Ct(s,t)}Lt(e,t){this.Ft(t,37),mt.fromName(e).path.forEach((n=>{this.Ft(t,60),this.Ut(n,t)}))}Ft(e,t){e.Mt(t)}Nt(e){e.Mt(2)}}ad.Kt=new ad;/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law | agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES | CONDITIONS OF ANY KIND, either express | implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wh=255;function JO(r){if(r===0)return 8;let e=0;return r>>4||(e+=4,r<<=4),r>>6||(e+=2,r<<=2),r>>7||(e+=1),e}function $_(r){const e=64-(function(n){let s=0;for(let o=0;o<8;++o){const l=JO(255&n[o]);if(s+=l,l!==8)break}return s})(r);return Math.ceil(e/8)}class ZO{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Wt(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Gt(n.value),n=t.next();this.zt()}jt(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Jt(n.value),n=t.next();this.Ht()}Yt(e){for(const t of e){const n=t.charCodeAt(0);if(n<128)this.Gt(n);else if(n<2048)this.Gt(960|n>>>6),this.Gt(128|63&n);else if(t<"\uD800"||"\uDBFF"<t)this.Gt(480|n>>>12),this.Gt(128|63&n>>>6),this.Gt(128|63&n);else{const s=t.codePointAt(0);this.Gt(240|s>>>18),this.Gt(128|63&s>>>12),this.Gt(128|63&s>>>6),this.Gt(128|63&s)}}this.zt()}Zt(e){for(const t of e){const n=t.charCodeAt(0);if(n<128)this.Jt(n);else if(n<2048)this.Jt(960|n>>>6),this.Jt(128|63&n);else if(t<"\uD800"||"\uDBFF"<t)this.Jt(480|n>>>12),this.Jt(128|63&n>>>6),this.Jt(128|63&n);else{const s=t.codePointAt(0);this.Jt(240|s>>>18),this.Jt(128|63&s>>>12),this.Jt(128|63&s>>>6),this.Jt(128|63&s)}}this.Ht()}Xt(e){const t=this.en(e),n=$_(t);this.tn(1+n),this.buffer[this.position++]=255&n;for(let s=t.length-n;s<t.length;++s)this.buffer[this.position++]=255&t[s]}nn(e){const t=this.en(e),n=$_(t);this.tn(1+n),this.buffer[this.position++]=~(255&n);for(let s=t.length-n;s<t.length;++s)this.buffer[this.position++]=~(255&t[s])}rn(){this.sn(wh),this.sn(255)}_n(){this.an(wh),this.an(255)}reset(){this.position=0}seed(e){this.tn(e.length),this.buffer.set(e,this.position),this.position+=e.length}un(){return this.buffer.slice(0,this.position)}en(e){const t=(function(o){const l=new DataView(new ArrayBuffer(8));return l.setFloat64(0,o,!1),new Uint8Array(l.buffer)})(e),n=!!(128&t[0]);t[0]^=n?255:128;for(let s=1;s<t.length;++s)t[s]^=n?255:0;return t}Gt(e){const t=255&e;t===0?(this.sn(0),this.sn(255)):t===wh?(this.sn(wh),this.sn(0)):this.sn(t)}Jt(e){const t=255&e;t===0?(this.an(0),this.an(255)):t===wh?(this.an(wh),this.an(0)):this.an(e)}zt(){this.sn(0),this.sn(1)}Ht(){this.an(0),this.an(1)}sn(e){this.tn(1),this.buffer[this.position++]=e}an(e){this.tn(1),this.buffer[this.position++]=~e}tn(e){const t=e+this.position;if(t<=this.buffer.length)return;let n=2*this.buffer.length;n<t&&(n=t);const s=new Uint8Array(n);s.set(this.buffer),this.buffer=s}}class eM{constructor(e){this.cn=e}Bt(e){this.cn.Wt(e)}xt(e){this.cn.Yt(e)}Mt(e){this.cn.Xt(e)}vt(){this.cn.rn()}}class tM{constructor(e){this.cn=e}Bt(e){this.cn.jt(e)}xt(e){this.cn.Zt(e)}Mt(e){this.cn.nn(e)}vt(){this.cn._n()}}class C0{constructor(){this.cn=new ZO,this.ln=new eM(this.cn),this.hn=new tM(this.cn)}seed(e){this.cn.seed(e)}Pn(e){return e===0?this.ln:this.hn}un(){return this.cn.un()}reset(){this.cn.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id{constructor(e,t,n,s){this.Tn=e,this.In=t,this.En=n,this.dn=s}An(){const e=this.dn.length,t=e===0||this.dn[e-1]===255?e+1:e,n=new Uint8Array(t);return n.set(this.dn,0),t!==e?n.set([0],this.dn.length):++n[n.length-1],new id(this.Tn,this.In,this.En,n)}Rn(e,t,n){return{indexId:this.Tn,uid:e,arrayValue:c1(this.En),directionalValue:c1(this.dn),orderedDocumentKey:c1(t),documentKey:n.path.toArray()}}Vn(e,t,n){const s=this.Rn(e,t,n);return[s.indexId,s.uid,s.arrayValue,s.directionalValue,s.orderedDocumentKey,s.documentKey]}}function Kc(r,e){let t=r.Tn-e.Tn;return t!==0?t:(t=X_(r.En,e.En),t!==0?t:(t=X_(r.dn,e.dn),t!==0?t:mt.comparator(r.In,e.In)))}function X_(r,e){for(let t=0;t<r.length&&t<e.length;++t){const n=r[t]-e[t];if(n!==0)return n}return r.length-e.length}function c1(r){return TS()?(function(t){let n="";for(let s=0;s<t.length;s++)n+=String.fromCharCode(t[s]);return n})(r):r}function Y_(r){return typeof r!="string"?r:(function(t){const n=new Uint8Array(t.length);for(let s=0;s<t.length;s++)n[s]=t.charCodeAt(s);return n})(r)}class W_{constructor(e){this.mn=new yn(((t,n)=>us.comparator(t.field,n.field))),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.fn=e.orderBy,this.gn=[];for(const t of e.filters){const n=t;n.isInequality()?this.mn=this.mn.add(n):this.gn.push(n)}}get pn(){return this.mn.size>1}yn(e){if(Xt(e.collectionGroup===this.collectionId,49279),this.pn)return!1;const t=iw(e);if(t!==void 0&&!this.wn(t))return!1;const n=Zu(e);let s=new Set,o=0,l=0;for(;o<n.length&&this.wn(n[o]);++o)s=s.add(n[o].fieldPath.canonicalString());if(o===n.length)return!0;if(this.mn.size>0){const c=this.mn.getIterator().getNext();if(!s.has(c.field.canonicalString())){const d=n[o];if(!this.Sn(c,d)||!this.bn(this.fn[l++],d))return!1}++o}for(;o<n.length;++o){const c=n[o];if(l>=this.fn.length||!this.bn(this.fn[l++],c))return!1}return!0}Dn(){if(this.pn)return null;let e=new yn(us.comparator);const t=[];for(const n of this.gn)if(!n.field.isKeyField())if(n.op==="array-contains"||n.op==="array-contains-any")t.push(new r1(n.field,2));else{if(e.has(n.field))continue;e=e.add(n.field),t.push(new r1(n.field,0))}for(const n of this.fn)n.field.isKeyField()||e.has(n.field)||(e=e.add(n.field),t.push(new r1(n.field,n.dir==="asc"?0:1)));return new k1(k1.UNKNOWN_ID,this.collectionId,t,Cg.empty())}wn(e){for(const t of this.gn)if(this.Sn(t,e))return!0;return!1}Sn(e,t){if(e===void 0||!e.field.isEqual(t.fieldPath))return!1;const n=e.op==="array-contains"||e.op==="array-contains-any";return t.kind===2===n}bn(e,t){return!!e.field.isEqual(t.fieldPath)&&(t.kind===0&&e.dir==="asc"||t.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VI(r){var t,n;if(Xt(r instanceof Hr||r instanceof xn,20012),r instanceof Hr){if(r instanceof AI){const s=((n=(t=r.value.arrayValue)==null?void 0:t.values)==null?void 0:n.map((o=>Hr.create(r.field,"==",o))))||[];return xn.create(s,"or")}return r}const e=r.filters.map((s=>VI(s)));return xn.create(e,r.op)}function rM(r){if(r.getFilters().length===0)return[];const e=Bw(VI(r));return Xt(KI(e),7391),ww(e)||vw(e)?[e]:e.getFilters()}function ww(r){return r instanceof Hr}function vw(r){return r instanceof xn&&Hv(r)}function KI(r){return ww(r)||vw(r)||(function(t){if(t instanceof xn&&hw(t)){for(const n of t.getFilters())if(!ww(n)&&!vw(n))return!1;return!0}return!1})(r)}function Bw(r){if(Xt(r instanceof Hr||r instanceof xn,34018),r instanceof Hr)return r;if(r.filters.length===1)return Bw(r.filters[0]);const e=r.filters.map((n=>Bw(n)));let t=xn.create(e,r.op);return t=z1(t),KI(t)?t:(Xt(t instanceof xn,64498),Xt(gf(t),40251),Xt(t.filters.length>1,57927),t.filters.reduce(((n,s)=>Wv(n,s))))}function Wv(r,e){let t;return Xt(r instanceof Hr||r instanceof xn,38388),Xt(e instanceof Hr||e instanceof xn,25473),t=r instanceof Hr?e instanceof Hr?(function(s,o){return xn.create([s,o],"and")})(r,e):J_(r,e):e instanceof Hr?J_(e,r):(function(s,o){if(Xt(s.filters.length>0&&o.filters.length>0,48005),gf(s)&&gf(o))return aI(s,o.getFilters());const l=hw(s)?s:o,c=hw(s)?o:s,d=l.filters.map((h=>Wv(h,c)));return xn.create(d,"or")})(r,e),z1(t)}function J_(r,e){if(gf(e))return aI(e,r.getFilters());{const t=e.filters.map((n=>Wv(r,n)));return xn.create(t,"or")}}function z1(r){if(Xt(r instanceof Hr||r instanceof xn,11850),r instanceof Hr)return r;const e=r.getFilters();if(e.length===1)return z1(e[0]);if(nI(r))return r;const t=e.map((s=>z1(s))),n=[];return t.forEach((s=>{s instanceof Hr?n.push(s):s instanceof xn&&(s.op===r.op?n.push(...s.filters):n.push(s))})),n.length===1?n[0]:xn.create(n,r.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nM{constructor(){this.Cn=new Jv}addToCollectionParentIndex(e,t){return this.Cn.add(t),Ue.resolve()}getCollectionParents(e,t){return Ue.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return Ue.resolve()}deleteFieldIndex(e,t){return Ue.resolve()}deleteAllFieldIndexes(e){return Ue.resolve()}createTargetIndexes(e,t){return Ue.resolve()}getDocumentsMatchingTarget(e,t){return Ue.resolve(null)}getIndexType(e,t){return Ue.resolve(0)}getFieldIndexes(e,t){return Ue.resolve([])}getNextCollectionGroupToUpdate(e){return Ue.resolve(null)}getMinOffset(e,t){return Ue.resolve(fo.min())}getMinOffsetFromCollectionGroup(e,t){return Ue.resolve(fo.min())}updateCollectionGroup(e,t,n){return Ue.resolve()}updateIndexEntries(e,t){return Ue.resolve()}}class Jv{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),s=this.index[t]||new yn(on.comparator),o=!s.has(n);return this.index[t]=s.add(n),o}has(e){const t=e.lastSegment(),n=e.popLast(),s=this.index[t];return s&&s.has(n)}getEntries(e){return(this.index[e]||new yn(on.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z_="IndexedDbIndexManager",fp=new Uint8Array(0);class sM{constructor(e,t){this.databaseId=t,this.vn=new Jv,this.Fn=new dc((n=>_d(n)),((n,s)=>em(n,s))),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.vn.has(t)){const n=t.lastSegment(),s=t.popLast();e.addOnCommittedListener((()=>{this.vn.add(t)}));const o={collectionId:n,parent:ai(s)};return eC(e).put(o)}return Ue.resolve()}getCollectionParents(e,t){const n=[],s=IDBKeyRange.bound([t,""],[E6(t),""],!1,!0);return eC(e).J(s).next((o=>{for(const l of o){if(l.collectionId!==t)break;n.push(rl(l.parent))}return n}))}addFieldIndex(e,t){const n=E0(e),s=(function(c){return{indexId:c.indexId,collectionGroup:c.collectionGroup,fields:c.fields.map((d=>[d.fieldPath.canonicalString(),d.kind]))}})(t);delete s.indexId;const o=n.add(s);if(t.indexState){const l=Bh(e);return o.next((c=>{l.put(z_(c,this.uid,t.indexState.sequenceNumber,t.indexState.offset))}))}return o.next()}deleteFieldIndex(e,t){const n=E0(e),s=Bh(e),o=vh(e);return n.delete(t.indexId).next((()=>s.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))).next((()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const t=E0(e),n=vh(e),s=Bh(e);return t.Z().next((()=>n.Z())).next((()=>s.Z()))}createTargetIndexes(e,t){return Ue.forEach(this.Mn(t),(n=>this.getIndexType(e,n).next((s=>{if(s===0||s===1){const o=new W_(n).Dn();if(o!=null)return this.addFieldIndex(e,o)}}))))}getDocumentsMatchingTarget(e,t){const n=vh(e);let s=!0;const o=new Map;return Ue.forEach(this.Mn(t),(l=>this.xn(e,l).next((c=>{s&&(s=!!c),o.set(l,c)})))).next((()=>{if(s){let l=Tr();const c=[];return Ue.forEach(o,((d,h)=>{ot(Z_,`Using index ${(function(V){return`id=${V.indexId}|cg=${V.collectionGroup}|f=${V.fields.map((z=>`${z.fieldPath}:${z.kind}`)).join(",")}`})(d)} to execute ${_d(t)}`);const g=(function(V,z){const ne=iw(z);if(ne===void 0)return null;for(const le of M1(V,ne.fieldPath))switch(le.op){case"array-contains-any":return le.value.arrayValue.values||[];case"array-contains":return[le.value]}return null})(h,d),x=(function(V,z){const ne=new Map;for(const le of Zu(z))for(const R of M1(V,le.fieldPath))switch(R.op){case"==":case"in":ne.set(le.fieldPath.canonicalString(),R.value);break;case"not-in":case"!=":return ne.set(le.fieldPath.canonicalString(),R.value),Array.from(ne.values())}return null})(h,d),B=(function(V,z){const ne=[];let le=!0;for(const R of Zu(z)){const U=R.kind===0?T_(V,R.fieldPath,V.startAt):U_(V,R.fieldPath,V.startAt);ne.push(U.value),le&&(le=U.inclusive)}return new ff(ne,le)})(h,d),w=(function(V,z){const ne=[];let le=!0;for(const R of Zu(z)){const U=R.kind===0?U_(V,R.fieldPath,V.endAt):T_(V,R.fieldPath,V.endAt);ne.push(U.value),le&&(le=U.inclusive)}return new ff(ne,le)})(h,d),I=this.On(d,h,B),j=this.On(d,h,w),M=this.Nn(d,h,x),L=this.Bn(d.indexId,g,I,B.inclusive,j,w.inclusive,M);return Ue.forEach(L,(X=>n.Y(X,t.limit).next((V=>{V.forEach((z=>{const ne=mt.fromSegments(z.documentKey);l.has(ne)||(l=l.add(ne),c.push(ne))}))}))))})).next((()=>c))}return Ue.resolve(null)}))}Mn(e){let t=this.Fn.get(e);return t||(e.filters.length===0?t=[e]:t=rM(xn.create(e.filters,"and")).map((n=>gw(e.path,e.collectionGroup,e.orderBy,n.getFilters(),e.limit,e.startAt,e.endAt))),this.Fn.set(e,t),t)}Bn(e,t,n,s,o,l,c){const d=(t!=null?t.length:1)*Math.max(n.length,o.length),h=d/(t!=null?t.length:1),g=[];for(let x=0;x<d;++x){const B=t?this.Ln(t[x/h]):fp,w=this.kn(e,B,n[x%h],s),I=this.qn(e,B,o[x%h],l),j=c.map((M=>this.kn(e,B,M,!0)));g.push(...this.createRange(w,I,j))}return g}kn(e,t,n,s){const o=new id(e,mt.empty(),t,n);return s?o:o.An()}qn(e,t,n,s){const o=new id(e,mt.empty(),t,n);return s?o.An():o}xn(e,t){const n=new W_(t),s=t.collectionGroup!=null?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,s).next((o=>{let l=null;for(const c of o)n.yn(c)&&(!l||c.fields.length>l.fields.length)&&(l=c);return l}))}getIndexType(e,t){let n=2;const s=this.Mn(t);return Ue.forEach(s,(o=>this.xn(e,o).next((l=>{l?n!==0&&l.fields.length<(function(d){let h=new yn(us.comparator),g=!1;for(const x of d.filters)for(const B of x.getFlattenedFilters())B.field.isKeyField()||(B.op==="array-contains"||B.op==="array-contains-any"?g=!0:h=h.add(B.field));for(const x of d.orderBy)x.field.isKeyField()||(h=h.add(x.field));return h.size+(g?1:0)})(o)&&(n=1):n=0})))).next((()=>(function(l){return l.limit!==null})(t)&&s.length>1&&n===2?1:n))}Qn(e,t){const n=new C0;for(const s of Zu(e)){const o=t.data.field(s.fieldPath);if(o==null)return null;const l=n.Pn(s.kind);ad.Kt.Dt(o,l)}return n.un()}Ln(e){const t=new C0;return ad.Kt.Dt(e,t.Pn(0)),t.un()}$n(e,t){const n=new C0;return ad.Kt.Dt(Fg(this.databaseId,t),n.Pn((function(o){const l=Zu(o);return l.length===0?0:l[l.length-1].kind})(e))),n.un()}Nn(e,t,n){if(n===null)return[];let s=[];s.push(new C0);let o=0;for(const l of Zu(e)){const c=n[o++];for(const d of s)if(this.Un(t,l.fieldPath)&&kg(c))s=this.Kn(s,l,c);else{const h=d.Pn(l.kind);ad.Kt.Dt(c,h)}}return this.Wn(s)}On(e,t,n){return this.Nn(e,t,n.position)}Wn(e){const t=[];for(let n=0;n<e.length;++n)t[n]=e[n].un();return t}Kn(e,t,n){const s=[...e],o=[];for(const l of n.arrayValue.values||[])for(const c of s){const d=new C0;d.seed(c.un()),ad.Kt.Dt(l,d.Pn(t.kind)),o.push(d)}return o}Un(e,t){return!!e.filters.find((n=>n instanceof Hr&&n.field.isEqual(t)&&(n.op==="in"||n.op==="not-in")))}getFieldIndexes(e,t){const n=E0(e),s=Bh(e);return(t?n.J(Aw,IDBKeyRange.bound(t,t)):n.J()).next((o=>{const l=[];return Ue.forEach(o,(c=>s.get([c.indexId,this.uid]).next((d=>{l.push((function(g,x){const B=x?new Cg(x.sequenceNumber,new fo(Ed(x.readTime),new mt(rl(x.documentKey)),x.largestBatchId)):Cg.empty(),w=g.fields.map((([I,j])=>new r1(us.fromServerFormat(I),j)));return new k1(g.indexId,g.collectionGroup,w,B)})(c,d))})))).next((()=>l))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((t=>t.length===0?null:(t.sort(((n,s)=>{const o=n.indexState.sequenceNumber-s.indexState.sequenceNumber;return o!==0?o:br(n.collectionGroup,s.collectionGroup)})),t[0].collectionGroup)))}updateCollectionGroup(e,t,n){const s=E0(e),o=Bh(e);return this.Gn(e).next((l=>s.J(Aw,IDBKeyRange.bound(t,t)).next((c=>Ue.forEach(c,(d=>o.put(z_(d.indexId,this.uid,l,n))))))))}updateIndexEntries(e,t){const n=new Map;return Ue.forEach(t,((s,o)=>{const l=n.get(s.collectionGroup);return(l?Ue.resolve(l):this.getFieldIndexes(e,s.collectionGroup)).next((c=>(n.set(s.collectionGroup,c),Ue.forEach(c,(d=>this.zn(e,s,d).next((h=>{const g=this.jn(o,d);return h.isEqual(g)?Ue.resolve():this.Jn(e,o,d,h,g)})))))))}))}Hn(e,t,n,s){return vh(e).put(s.Rn(this.uid,this.$n(n,t.key),t.key))}Yn(e,t,n,s){return vh(e).delete(s.Vn(this.uid,this.$n(n,t.key),t.key))}zn(e,t,n){const s=vh(e);let o=new yn(Kc);return s.ee({index:M6,range:IDBKeyRange.only([n.indexId,this.uid,c1(this.$n(n,t))])},((l,c)=>{o=o.add(new id(n.indexId,t,Y_(c.arrayValue),Y_(c.directionalValue)))})).next((()=>o))}jn(e,t){let n=new yn(Kc);const s=this.Qn(t,e);if(s==null)return n;const o=iw(t);if(o!=null){const l=e.data.field(o.fieldPath);if(kg(l))for(const c of l.arrayValue.values||[])n=n.add(new id(t.indexId,e.key,this.Ln(c),s))}else n=n.add(new id(t.indexId,e.key,fp,s));return n}Jn(e,t,n,s,o){ot(Z_,"Updating index entries for document '%s'",t.key);const l=[];return(function(d,h,g,x,B){const w=d.getIterator(),I=h.getIterator();let j=yh(w),M=yh(I);for(;j||M;){let L=!1,X=!1;if(j&&M){const V=g(j,M);V<0?X=!0:V>0&&(L=!0)}else j!=null?X=!0:L=!0;L?(x(M),M=yh(I)):X?(B(j),j=yh(w)):(j=yh(w),M=yh(I))}})(s,o,Kc,(c=>{l.push(this.Hn(e,t,n,c))}),(c=>{l.push(this.Yn(e,t,n,c))})),Ue.waitFor(l)}Gn(e){let t=1;return Bh(e).ee({index:O6,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((n,s,o)=>{o.done(),t=s.sequenceNumber+1})).next((()=>t))}createRange(e,t,n){n=n.sort(((l,c)=>Kc(l,c))).filter(((l,c,d)=>!c||Kc(l,d[c-1])!==0));const s=[];s.push(e);for(const l of n){const c=Kc(l,e),d=Kc(l,t);if(c===0)s[0]=e.An();else if(c>0&&d<0)s.push(l),s.push(l.An());else if(d>0)break}s.push(t);const o=[];for(let l=0;l<s.length;l+=2){if(this.Zn(s[l],s[l+1]))return[];const c=s[l].Vn(this.uid,fp,mt.empty()),d=s[l+1].Vn(this.uid,fp,mt.empty());o.push(IDBKeyRange.bound(c,d))}return o}Zn(e,t){return Kc(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(tC)}getMinOffset(e,t){return Ue.mapArray(this.Mn(t),(n=>this.xn(e,n).next((s=>s||Lt(44426))))).next(tC)}}function eC(r){return sa(r,jg)}function vh(r){return sa(r,rg)}function E0(r){return sa(r,Lv)}function Bh(r){return sa(r,tg)}function tC(r){Xt(r.length!==0,28825);let e=r[0].indexState.offset,t=e.largestBatchId;for(let n=1;n<r.length;n++){const s=r[n].indexState.offset;Fv(s,e)<0&&(e=s),t<s.largestBatchId&&(t=s.largestBatchId)}return new fo(e.readTime,e.documentKey,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rC={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},zI=41943040;class ei{static withCacheSize(e){return new ei(e,ei.DEFAULT_COLLECTION_PERCENTILE,ei.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qI(r,e,t){const n=r.store(gA),s=r.store(Af),o=[],l=IDBKeyRange.only(t.batchId);let c=0;const d=n.ee({range:l},((g,x,B)=>(c++,B.delete())));o.push(d.next((()=>{Xt(c===1,47070,{batchId:t.batchId})})));const h=[];for(const g of t.mutations){const x=L6(e,g.key.path,t.batchId);o.push(s.delete(x)),h.push(g.key)}return Ue.waitFor(o).next((()=>h))}function q1(r){if(!r)return 0;let e;if(r.document)e=r.document;else if(r.unknownDocument)e=r.unknownDocument;else{if(!r.noDocument)throw Lt(14731);e=r.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ei.DEFAULT_COLLECTION_PERCENTILE=10,ei.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ei.DEFAULT=new ei(zI,ei.DEFAULT_COLLECTION_PERCENTILE,ei.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ei.DISABLED=new ei(-1,0,0);class Lx{constructor(e,t,n,s){this.userId=e,this.serializer=t,this.indexManager=n,this.referenceDelegate=s,this.Xn={}}static wt(e,t,n,s){Xt(e.uid!=="",64387);const o=e.isAuthenticated()?e.uid:"";return new Lx(o,t,n,s)}checkEmpty(e){let t=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return zc(e).ee({index:ld,range:n},((s,o,l)=>{t=!1,l.done()})).next((()=>t))}addMutationBatch(e,t,n,s){const o=Dh(e),l=zc(e);return l.add({}).next((c=>{Xt(typeof c=="number",49019);const d=new qv(c,t,n,s),h=(function(w,I,j){const M=j.baseMutations.map((X=>V1(w.yt,X))),L=j.mutations.map((X=>V1(w.yt,X)));return{userId:I,batchId:j.batchId,localWriteTimeMs:j.localWriteTime.toMillis(),baseMutations:M,mutations:L}})(this.serializer,this.userId,d),g=[];let x=new yn(((B,w)=>br(B.canonicalString(),w.canonicalString())));for(const B of s){const w=L6(this.userId,B.key.path,c);x=x.add(B.key.path.popLast()),g.push(l.put(h)),g.push(o.put(w,RD))}return x.forEach((B=>{g.push(this.indexManager.addToCollectionParentIndex(e,B))})),e.addOnCommittedListener((()=>{this.Xn[c]=d.keys()})),Ue.waitFor(g).next((()=>d))}))}lookupMutationBatch(e,t){return zc(e).get(t).next((n=>n?(Xt(n.userId===this.userId,48,"Unexpected user for mutation batch",{userId:n.userId,batchId:t}),sd(this.serializer,n)):null))}er(e,t){return this.Xn[t]?Ue.resolve(this.Xn[t]):this.lookupMutationBatch(e,t).next((n=>{if(n){const s=n.keys();return this.Xn[t]=s,s}return null}))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,s=IDBKeyRange.lowerBound([this.userId,n]);let o=null;return zc(e).ee({index:ld,range:s},((l,c,d)=>{c.userId===this.userId&&(Xt(c.batchId>=n,47524,{tr:n}),o=sd(this.serializer,c)),d.done()})).next((()=>o))}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=dd;return zc(e).ee({index:ld,range:t,reverse:!0},((s,o,l)=>{n=o.batchId,l.done()})).next((()=>n))}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,dd],[this.userId,Number.POSITIVE_INFINITY]);return zc(e).J(ld,t).next((n=>n.map((s=>sd(this.serializer,s)))))}getAllMutationBatchesAffectingDocumentKey(e,t){const n=n1(this.userId,t.path),s=IDBKeyRange.lowerBound(n),o=[];return Dh(e).ee({range:s},((l,c,d)=>{const[h,g,x]=l,B=rl(g);if(h===this.userId&&t.path.isEqual(B))return zc(e).get(x).next((w=>{if(!w)throw Lt(61480,{nr:l,batchId:x});Xt(w.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:w.userId,batchId:x}),o.push(sd(this.serializer,w))}));d.done()})).next((()=>o))}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new yn(br);const s=[];return t.forEach((o=>{const l=n1(this.userId,o.path),c=IDBKeyRange.lowerBound(l),d=Dh(e).ee({range:c},((h,g,x)=>{const[B,w,I]=h,j=rl(w);B===this.userId&&o.path.isEqual(j)?n=n.add(I):x.done()}));s.push(d)})),Ue.waitFor(s).next((()=>this.rr(e,n)))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,s=n.length+1,o=n1(this.userId,n),l=IDBKeyRange.lowerBound(o);let c=new yn(br);return Dh(e).ee({range:l},((d,h,g)=>{const[x,B,w]=d,I=rl(B);x===this.userId&&n.isPrefixOf(I)?I.length===s&&(c=c.add(w)):g.done()})).next((()=>this.rr(e,c)))}rr(e,t){const n=[],s=[];return t.forEach((o=>{s.push(zc(e).get(o).next((l=>{if(l===null)throw Lt(35274,{batchId:o});Xt(l.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:l.userId,batchId:o}),n.push(sd(this.serializer,l))})))})),Ue.waitFor(s).next((()=>n))}removeMutationBatch(e,t){return qI(e.le,this.userId,t).next((n=>(e.addOnCommittedListener((()=>{this.ir(t.batchId)})),Ue.forEach(n,(s=>this.referenceDelegate.markPotentiallyOrphaned(e,s))))))}ir(e){delete this.Xn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((t=>{if(!t)return Ue.resolve();const n=IDBKeyRange.lowerBound((function(l){return[l]})(this.userId)),s=[];return Dh(e).ee({range:n},((o,l,c)=>{if(o[0]===this.userId){const d=rl(o[1]);s.push(d)}else c.done()})).next((()=>{Xt(s.length===0,56720,{sr:s.map((o=>o.canonicalString()))})}))}))}containsKey(e,t){return GI(e,this.userId,t)}_r(e){return $I(e).get(this.userId).next((t=>t||{userId:this.userId,lastAcknowledgedBatchId:dd,lastStreamToken:""}))}}function GI(r,e,t){const n=n1(e,t.path),s=n[1],o=IDBKeyRange.lowerBound(n);let l=!1;return Dh(r).ee({range:o,X:!0},((c,d,h)=>{const[g,x,B]=c;g===e&&x===s&&(l=!0),h.done()})).next((()=>l))}function zc(r){return sa(r,gA)}function Dh(r){return sa(r,Af)}function $I(r){return sa(r,Sg)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Sd(0)}static cr(){return new Sd(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aM{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.lr(e).next((t=>{const n=new Sd(t.highestTargetId);return t.highestTargetId=n.next(),this.hr(e,t).next((()=>t.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.lr(e).next((t=>sr.fromTimestamp(new pn(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.lr(e).next((t=>t.highestListenSequenceNumber))}setTargetsMetadata(e,t,n){return this.lr(e).next((s=>(s.highestListenSequenceNumber=t,n&&(s.lastRemoteSnapshotVersion=n.toTimestamp()),t>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=t),this.hr(e,s))))}addTargetData(e,t){return this.Pr(e,t).next((()=>this.lr(e).next((n=>(n.targetCount+=1,this.Tr(t,n),this.hr(e,n))))))}updateTargetData(e,t){return this.Pr(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next((()=>Nh(e).delete(t.targetId))).next((()=>this.lr(e))).next((n=>(Xt(n.targetCount>0,8065),n.targetCount-=1,this.hr(e,n))))}removeTargets(e,t,n){let s=0;const o=[];return Nh(e).ee(((l,c)=>{const d=H0(c);d.sequenceNumber<=t&&n.get(d.targetId)===null&&(s++,o.push(this.removeTargetData(e,d)))})).next((()=>Ue.waitFor(o))).next((()=>s))}forEachTarget(e,t){return Nh(e).ee(((n,s)=>{const o=H0(s);t(o)}))}lr(e){return nC(e).get(R1).next((t=>(Xt(t!==null,2888),t)))}hr(e,t){return nC(e).put(R1,t)}Pr(e,t){return Nh(e).put(PI(this.serializer,t))}Tr(e,t){let n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.lr(e).next((t=>t.targetCount))}getTargetData(e,t){const n=_d(t),s=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let o=null;return Nh(e).ee({range:s,index:D6},((l,c,d)=>{const h=H0(c);em(t,h.target)&&(o=h,d.done())})).next((()=>o))}addMatchingKeys(e,t,n){const s=[],o=ru(e);return t.forEach((l=>{const c=ai(l.path);s.push(o.put({targetId:n,path:c})),s.push(this.referenceDelegate.addReference(e,n,l))})),Ue.waitFor(s)}removeMatchingKeys(e,t,n){const s=ru(e);return Ue.forEach(t,(o=>{const l=ai(o.path);return Ue.waitFor([s.delete([n,l]),this.referenceDelegate.removeReference(e,n,o)])}))}removeMatchingKeysForTargetId(e,t){const n=ru(e),s=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(s)}getMatchingKeysForTargetId(e,t){const n=IDBKeyRange.bound([t],[t+1],!1,!0),s=ru(e);let o=Tr();return s.ee({range:n,X:!0},((l,c,d)=>{const h=rl(l[1]),g=new mt(h);o=o.add(g)})).next((()=>o))}containsKey(e,t){const n=ai(t.path),s=IDBKeyRange.bound([n],[E6(n)],!1,!0);let o=0;return ru(e).ee({index:Qv,X:!0,range:s},(([l,c],d,h)=>{l!==0&&(o++,h.done())})).next((()=>o>0))}At(e,t){return Nh(e).get(t).next((n=>n?H0(n):null))}}function Nh(r){return sa(r,lf)}function nC(r){return sa(r,hd)}function ru(r){return sa(r,cf)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sC="LruGarbageCollector",XI=1048576;function aC([r,e],[t,n]){const s=br(r,t);return s===0?br(e,n):s}class iM{constructor(e){this.Ir=e,this.buffer=new yn(aC),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const n=this.buffer.last();aC(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}get maxValue(){return this.buffer.last()[0]}}class YI{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ot(sC,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Iu(t)?ot(sC,"Ignoring IndexedDB error during garbage collection: ",t):await Su(t)}await this.Vr(3e5)}))}}class oM{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((n=>Math.floor(t/100*n)))}nthSequenceNumber(e,t){if(t===0)return Ue.resolve(Hi.ce);const n=new iM(t);return this.mr.forEachTarget(e,(s=>n.Ar(s.sequenceNumber))).next((()=>this.mr.pr(e,(s=>n.Ar(s))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.mr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ot("LruGarbageCollector","Garbage collection skipped; disabled"),Ue.resolve(rC)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(ot("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),rC):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let n,s,o,l,c,d,h;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((x=>(x>this.params.maximumSequenceNumbersToCollect?(ot("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),s=this.params.maximumSequenceNumbersToCollect):s=x,l=Date.now(),this.nthSequenceNumber(e,s)))).next((x=>(n=x,c=Date.now(),this.removeTargets(e,n,t)))).next((x=>(o=x,d=Date.now(),this.removeOrphanedDocuments(e,n)))).next((x=>(h=Date.now(),kh()<=Pr.DEBUG&&ot("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-g}ms
	Determined least recently used ${s} in `+(c-l)+`ms
	Removed ${o} targets in `+(d-c)+`ms
	Removed ${x} documents in `+(h-d)+`ms
Total Duration: ${h-g}ms`),Ue.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:o,documentsRemoved:x}))))}}function WI(r,e){return new oM(r,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AM{constructor(e,t){this.db=e,this.garbageCollector=WI(this,t)}gr(e){const t=this.wr(e);return this.db.getTargetCache().getTargetCount(e).next((n=>t.next((s=>n+s))))}wr(e){let t=0;return this.pr(e,(n=>{t++})).next((()=>t))}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}pr(e,t){return this.Sr(e,((n,s)=>t(s)))}addReference(e,t,n){return gp(e,n)}removeReference(e,t,n){return gp(e,n)}removeTargets(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}markPotentiallyOrphaned(e,t){return gp(e,t)}br(e,t){return(function(s,o){let l=!1;return $I(s).te((c=>GI(s,c,o).next((d=>(d&&(l=!0),Ue.resolve(!d)))))).next((()=>l))})(e,t)}removeOrphanedDocuments(e,t){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),s=[];let o=0;return this.Sr(e,((l,c)=>{if(c<=t){const d=this.br(e,l).next((h=>{if(!h)return o++,n.getEntry(e,l).next((()=>(n.removeEntry(l,sr.min()),ru(e).delete((function(x){return[0,ai(x.path)]})(l)))))}));s.push(d)}})).next((()=>Ue.waitFor(s))).next((()=>n.apply(e))).next((()=>o))}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,t){return gp(e,t)}Sr(e,t){const n=ru(e);let s,o=Hi.ce;return n.ee({index:Qv},(([l,c],{path:d,sequenceNumber:h})=>{l===0?(o!==Hi.ce&&t(new mt(rl(s)),o),o=h,s=d):o=Hi.ce})).next((()=>{o!==Hi.ce&&t(new mt(rl(s)),o)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function gp(r,e){return ru(r).put((function(n,s){return{targetId:0,path:ai(n.path),sequenceNumber:s}})(e,r.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JI{constructor(){this.changes=new dc((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ys.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return n!==void 0?Ue.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lM{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,n){return Xu(e).put(n)}removeEntry(e,t,n){return Xu(e).delete((function(o,l){const c=o.path.toArray();return[c.slice(0,c.length-2),c[c.length-2],K1(l),c[c.length-1]]})(t,n))}updateMetadata(e,t){return this.getMetadata(e).next((n=>(n.byteSize+=t,this.Dr(e,n))))}getEntry(e,t){let n=ys.newInvalidDocument(t);return Xu(e).ee({index:s1,range:IDBKeyRange.only(S0(t))},((s,o)=>{n=this.Cr(t,o)})).next((()=>n))}vr(e,t){let n={size:0,document:ys.newInvalidDocument(t)};return Xu(e).ee({index:s1,range:IDBKeyRange.only(S0(t))},((s,o)=>{n={document:this.Cr(t,o),size:q1(o)}})).next((()=>n))}getEntries(e,t){let n=lo();return this.Fr(e,t,((s,o)=>{const l=this.Cr(s,o);n=n.insert(s,l)})).next((()=>n))}Mr(e,t){let n=lo(),s=new Rn(mt.comparator);return this.Fr(e,t,((o,l)=>{const c=this.Cr(o,l);n=n.insert(o,c),s=s.insert(o,q1(l))})).next((()=>({documents:n,Or:s})))}Fr(e,t,n){if(t.isEmpty())return Ue.resolve();let s=new yn(AC);t.forEach((d=>s=s.add(d)));const o=IDBKeyRange.bound(S0(s.first()),S0(s.last())),l=s.getIterator();let c=l.getNext();return Xu(e).ee({index:s1,range:o},((d,h,g)=>{const x=mt.fromSegments([...h.prefixPath,h.collectionGroup,h.documentId]);for(;c&&AC(c,x)<0;)n(c,null),c=l.getNext();c&&c.isEqual(x)&&(n(c,h),c=l.hasNext()?l.getNext():null),c?g.j(S0(c)):g.done()})).next((()=>{for(;c;)n(c,null),c=l.hasNext()?l.getNext():null}))}getDocumentsMatchingQuery(e,t,n,s,o){const l=t.path,c=[l.popLast().toArray(),l.lastSegment(),K1(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],d=[l.popLast().toArray(),l.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Xu(e).J(IDBKeyRange.bound(c,d,!0)).next((h=>{o==null||o.incrementDocumentReadCount(h.length);let g=lo();for(const x of h){const B=this.Cr(mt.fromSegments(x.prefixPath.concat(x.collectionGroup,x.documentId)),x);B.isFoundDocument()&&(rm(t,B)||s.has(B.key))&&(g=g.insert(B.key,B))}return g}))}getAllFromCollectionGroup(e,t,n,s){let o=lo();const l=oC(t,n),c=oC(t,fo.max());return Xu(e).ee({index:R6,range:IDBKeyRange.bound(l,c,!0)},((d,h,g)=>{const x=this.Cr(mt.fromSegments(h.prefixPath.concat(h.collectionGroup,h.documentId)),h);o=o.insert(x.key,x),o.size===s&&g.done()})).next((()=>o))}newChangeBuffer(e){return new cM(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((t=>t.byteSize))}getMetadata(e){return iC(e).get(ow).next((t=>(Xt(!!t,20021),t)))}Dr(e,t){return iC(e).put(ow,t)}Cr(e,t){if(t){const n=XO(this.serializer,t);if(!(n.isNoDocument()&&n.version.isEqual(sr.min())))return n}return ys.newInvalidDocument(e)}}function ZI(r){return new lM(r)}class cM extends JI{constructor(e,t){super(),this.Nr=e,this.trackRemovals=t,this.Br=new dc((n=>n.toString()),((n,s)=>n.isEqual(s)))}applyChanges(e){const t=[];let n=0,s=new yn(((o,l)=>br(o.canonicalString(),l.canonicalString())));return this.changes.forEach(((o,l)=>{const c=this.Br.get(o);if(t.push(this.Nr.removeEntry(e,o,c.readTime)),l.isValidDocument()){const d=V_(this.Nr.serializer,l);s=s.add(o.path.popLast());const h=q1(d);n+=h-c.size,t.push(this.Nr.addEntry(e,o,d))}else if(n-=c.size,this.trackRemovals){const d=V_(this.Nr.serializer,l.convertToNoDocument(sr.min()));t.push(this.Nr.addEntry(e,o,d))}})),s.forEach((o=>{t.push(this.Nr.indexManager.addToCollectionParentIndex(e,o))})),t.push(this.Nr.updateMetadata(e,n)),Ue.waitFor(t)}getFromCache(e,t){return this.Nr.vr(e,t).next((n=>(this.Br.set(t,{size:n.size,readTime:n.document.readTime}),n.document)))}getAllFromCache(e,t){return this.Nr.Mr(e,t).next((({documents:n,Or:s})=>(s.forEach(((o,l)=>{this.Br.set(o,{size:l,readTime:n.get(o).readTime})})),n)))}}function iC(r){return sa(r,Ig)}function Xu(r){return sa(r,L1)}function S0(r){const e=r.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function oC(r,e){const t=e.documentKey.path.toArray();return[r,K1(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function AC(r,e){const t=r.path.toArray(),n=e.path.toArray();let s=0;for(let o=0;o<t.length-2&&o<n.length-2;++o)if(s=br(t[o],n[o]),s)return s;return s=br(t.length,n.length),s||(s=br(t[t.length-2],n[n.length-2]),s||br(t[t.length-1],n[n.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uM{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ej{constructor(e,t,n,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=s}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((s=>(n=s,this.remoteDocumentCache.getEntry(e,t)))).next((s=>(n!==null&&ig(n.mutation,s,Vi.empty(),pn.now()),s)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((n=>this.getLocalViewOfDocuments(e,n,Tr()).next((()=>n))))}getLocalViewOfDocuments(e,t,n=Tr()){const s=nl();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,n).next((o=>{let l=M0();return o.forEach(((c,d)=>{l=l.insert(c,d.overlayedDocument)})),l}))))}getOverlayedDocuments(e,t){const n=nl();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,Tr())))}populateOverlays(e,t,n){const s=[];return n.forEach((o=>{t.has(o)||s.push(o)})),this.documentOverlayCache.getOverlays(e,s).next((o=>{o.forEach(((l,c)=>{t.set(l,c)}))}))}computeViews(e,t,n,s){let o=lo();const l=ag(),c=(function(){return ag()})();return t.forEach(((d,h)=>{const g=n.get(h.key);s.has(h.key)&&(g===void 0||g.mutation instanceof hc)?o=o.insert(h.key,h):g!==void 0?(l.set(h.key,g.mutation.getFieldMask()),ig(g.mutation,h,g.mutation.getFieldMask(),pn.now())):l.set(h.key,Vi.empty())})),this.recalculateAndSaveOverlays(e,o).next((d=>(d.forEach(((h,g)=>l.set(h,g))),t.forEach(((h,g)=>c.set(h,new uM(g,l.get(h)??null)))),c)))}recalculateAndSaveOverlays(e,t){const n=ag();let s=new Rn(((l,c)=>l-c)),o=Tr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((l=>{for(const c of l)c.keys().forEach((d=>{const h=t.get(d);if(h===null)return;let g=n.get(d)||Vi.empty();g=c.applyToLocalView(h,g),n.set(d,g);const x=(s.get(c.batchId)||Tr()).add(d);s=s.insert(c.batchId,x)}))})).next((()=>{const l=[],c=s.getReverseIterator();for(;c.hasNext();){const d=c.getNext(),h=d.key,g=d.value,x=mI();g.forEach((B=>{if(!o.has(B)){const w=BI(t.get(B),n.get(B));w!==null&&x.set(B,w),o=o.add(B)}})),l.push(this.documentOverlayCache.saveOverlays(e,h,x))}return Ue.waitFor(l)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((n=>this.recalculateAndSaveOverlays(e,n)))}getDocumentsMatchingQuery(e,t,n,s){return(function(l){return mt.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):cI(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,s):this.getDocumentsMatchingCollectionQuery(e,t,n,s)}getNextDocuments(e,t,n,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,s).next((o=>{const l=s-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,s-o.size):Ue.resolve(nl());let c=of,d=o;return l.next((h=>Ue.forEach(h,((g,x)=>(c<x.largestBatchId&&(c=x.largestBatchId),o.get(g)?Ue.resolve():this.remoteDocumentCache.getEntry(e,g).next((B=>{d=d.insert(g,B)}))))).next((()=>this.populateOverlays(e,h,o))).next((()=>this.computeViews(e,d,h,Tr()))).next((g=>({batchId:c,changes:gI(g)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new mt(t)).next((n=>{let s=M0();return n.isFoundDocument()&&(s=s.insert(n.key,n)),s}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,s){const o=t.collectionGroup;let l=M0();return this.indexManager.getCollectionParents(e,o).next((c=>Ue.forEach(c,(d=>{const h=(function(x,B){return new Uf(B,null,x.explicitOrderBy.slice(),x.filters.slice(),x.limit,x.limitType,x.startAt,x.endAt)})(t,d.child(o));return this.getDocumentsMatchingCollectionQuery(e,h,n,s).next((g=>{g.forEach(((x,B)=>{l=l.insert(x,B)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,t,n,s){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((l=>(o=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,o,s)))).next((l=>{o.forEach(((d,h)=>{const g=h.getKey();l.get(g)===null&&(l=l.insert(g,ys.newInvalidDocument(g)))}));let c=M0();return l.forEach(((d,h)=>{const g=o.get(d);g!==void 0&&ig(g.mutation,h,Vi.empty(),pn.now()),rm(t,h)&&(c=c.insert(d,h))})),c}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dM{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return Ue.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(s){return{id:s.id,version:s.version,createTime:xi(s.createTime)}})(t)),Ue.resolve()}getNamedQuery(e,t){return Ue.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(s){return{name:s.name,query:HI(s.bundledQuery),readTime:xi(s.readTime)}})(t)),Ue.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hM{constructor(){this.overlays=new Rn(mt.comparator),this.qr=new Map}getOverlay(e,t){return Ue.resolve(this.overlays.get(t))}getOverlays(e,t){const n=nl();return Ue.forEach(t,(s=>this.getOverlay(e,s).next((o=>{o!==null&&n.set(s,o)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((s,o)=>{this.St(e,t,o)})),Ue.resolve()}removeOverlaysForBatchId(e,t,n){const s=this.qr.get(n);return s!==void 0&&(s.forEach((o=>this.overlays=this.overlays.remove(o))),this.qr.delete(n)),Ue.resolve()}getOverlaysForCollection(e,t,n){const s=nl(),o=t.length+1,l=new mt(t.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const d=c.getNext().value,h=d.getKey();if(!t.isPrefixOf(h.path))break;h.path.length===o&&d.largestBatchId>n&&s.set(d.getKey(),d)}return Ue.resolve(s)}getOverlaysForCollectionGroup(e,t,n,s){let o=new Rn(((h,g)=>h-g));const l=this.overlays.getIterator();for(;l.hasNext();){const h=l.getNext().value;if(h.getKey().getCollectionGroup()===t&&h.largestBatchId>n){let g=o.get(h.largestBatchId);g===null&&(g=nl(),o=o.insert(h.largestBatchId,g)),g.set(h.getKey(),h)}}const c=nl(),d=o.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach(((h,g)=>c.set(h,g))),!(c.size()>=s)););return Ue.resolve(c)}St(e,t,n){const s=this.overlays.get(n.key);if(s!==null){const l=this.qr.get(s.largestBatchId).delete(n.key);this.qr.set(s.largestBatchId,l)}this.overlays=this.overlays.insert(n.key,new $v(t,n));let o=this.qr.get(t);o===void 0&&(o=Tr(),this.qr.set(t,o)),this.qr.set(t,o.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fM{constructor(){this.sessionToken=Fs.EMPTY_BYTE_STRING}getSessionToken(e){return Ue.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Ue.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zv{constructor(){this.Qr=new yn(pa.$r),this.Ur=new yn(pa.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const n=new pa(e,t);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(e,t){e.forEach((n=>this.addReference(n,t)))}removeReference(e,t){this.Gr(new pa(e,t))}zr(e,t){e.forEach((n=>this.removeReference(n,t)))}jr(e){const t=new mt(new on([])),n=new pa(t,e),s=new pa(t,e+1),o=[];return this.Ur.forEachInRange([n,s],(l=>{this.Gr(l),o.push(l.key)})),o}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new mt(new on([])),n=new pa(t,e),s=new pa(t,e+1);let o=Tr();return this.Ur.forEachInRange([n,s],(l=>{o=o.add(l.key)})),o}containsKey(e){const t=new pa(e,0),n=this.Qr.firstAfterOrEqual(t);return n!==null&&e.isEqual(n.key)}}class pa{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return mt.comparator(e.key,t.key)||br(e.Yr,t.Yr)}static Kr(e,t){return br(e.Yr,t.Yr)||mt.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gM{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new yn(pa.$r)}checkEmpty(e){return Ue.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,n,s){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new qv(o,t,n,s);this.mutationQueue.push(l);for(const c of s)this.Zr=this.Zr.add(new pa(c.key,o)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return Ue.resolve(l)}lookupMutationBatch(e,t){return Ue.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,s=this.ei(n),o=s<0?0:s;return Ue.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return Ue.resolve(this.mutationQueue.length===0?dd:this.tr-1)}getAllMutationBatches(e){return Ue.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new pa(t,0),s=new pa(t,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([n,s],(l=>{const c=this.Xr(l.Yr);o.push(c)})),Ue.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new yn(br);return t.forEach((s=>{const o=new pa(s,0),l=new pa(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,l],(c=>{n=n.add(c.Yr)}))})),Ue.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,s=n.length+1;let o=n;mt.isDocumentKey(o)||(o=o.child(""));const l=new pa(new mt(o),0);let c=new yn(br);return this.Zr.forEachWhile((d=>{const h=d.key.path;return!!n.isPrefixOf(h)&&(h.length===s&&(c=c.add(d.Yr)),!0)}),l),Ue.resolve(this.ti(c))}ti(e){const t=[];return e.forEach((n=>{const s=this.Xr(n);s!==null&&t.push(s)})),t}removeMutationBatch(e,t){Xt(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.Zr;return Ue.forEach(t.mutations,(s=>{const o=new pa(s.key,t.batchId);return n=n.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)})).next((()=>{this.Zr=n}))}ir(e){}containsKey(e,t){const n=new pa(t,0),s=this.Zr.firstAfterOrEqual(n);return Ue.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ue.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mM{constructor(e){this.ri=e,this.docs=(function(){return new Rn(mt.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,s=this.docs.get(n),o=s?s.size:0,l=this.ri(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:l}),this.size+=l-o,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Ue.resolve(n?n.document.mutableCopy():ys.newInvalidDocument(t))}getEntries(e,t){let n=lo();return t.forEach((s=>{const o=this.docs.get(s);n=n.insert(s,o?o.document.mutableCopy():ys.newInvalidDocument(s))})),Ue.resolve(n)}getDocumentsMatchingQuery(e,t,n,s){let o=lo();const l=t.path,c=new mt(l.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(c);for(;d.hasNext();){const{key:h,value:{document:g}}=d.getNext();if(!l.isPrefixOf(h.path))break;h.path.length>l.length+1||Fv(T6(g),n)<=0||(s.has(g.key)||rm(t,g))&&(o=o.insert(g.key,g.mutableCopy()))}return Ue.resolve(o)}getAllFromCollectionGroup(e,t,n,s){Lt(9500)}ii(e,t){return Ue.forEach(this.docs,(n=>t(n)))}newChangeBuffer(e){return new pM(this)}getSize(e){return Ue.resolve(this.size)}}class pM extends JI{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((n,s)=>{s.isValidDocument()?t.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(n)})),Ue.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xM{constructor(e){this.persistence=e,this.si=new dc((t=>_d(t)),em),this.lastRemoteSnapshotVersion=sr.min(),this.highestTargetId=0,this.oi=0,this._i=new Zv,this.targetCount=0,this.ai=Sd.ur()}forEachTarget(e,t){return this.si.forEach(((n,s)=>t(s))),Ue.resolve()}getLastRemoteSnapshotVersion(e){return Ue.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ue.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Ue.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.oi&&(this.oi=t),Ue.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new Sd(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,Ue.resolve()}updateTargetData(e,t){return this.Pr(t),Ue.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,Ue.resolve()}removeTargets(e,t,n){let s=0;const o=[];return this.si.forEach(((l,c)=>{c.sequenceNumber<=t&&n.get(c.targetId)===null&&(this.si.delete(l),o.push(this.removeMatchingKeysForTargetId(e,c.targetId)),s++)})),Ue.waitFor(o).next((()=>s))}getTargetCount(e){return Ue.resolve(this.targetCount)}getTargetData(e,t){const n=this.si.get(t)||null;return Ue.resolve(n)}addMatchingKeys(e,t,n){return this._i.Wr(t,n),Ue.resolve()}removeMatchingKeys(e,t,n){this._i.zr(t,n);const s=this.persistence.referenceDelegate,o=[];return s&&t.forEach((l=>{o.push(s.markPotentiallyOrphaned(e,l))})),Ue.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),Ue.resolve()}getMatchingKeysForTargetId(e,t){const n=this._i.Hr(t);return Ue.resolve(n)}containsKey(e,t){return Ue.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e5{constructor(e,t){this.ui={},this.overlays={},this.ci=new Hi(0),this.li=!1,this.li=!0,this.hi=new fM,this.referenceDelegate=e(this),this.Pi=new xM(this),this.indexManager=new nM,this.remoteDocumentCache=(function(s){return new mM(s)})((n=>this.referenceDelegate.Ti(n))),this.serializer=new MI(t),this.Ii=new dM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new hM,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ui[e.toKey()];return n||(n=new gM(t,this.referenceDelegate),this.ui[e.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,n){ot("MemoryPersistence","Starting transaction:",e);const s=new bM(this.ci.next());return this.referenceDelegate.Ei(),n(s).next((o=>this.referenceDelegate.di(s).next((()=>o)))).toPromise().then((o=>(s.raiseOnCommittedEvent(),o)))}Ai(e,t){return Ue.or(Object.values(this.ui).map((n=>()=>n.containsKey(e,t))))}}class bM extends F6{constructor(e){super(),this.currentSequenceNumber=e}}class Rx{constructor(e){this.persistence=e,this.Ri=new Zv,this.Vi=null}static mi(e){return new Rx(e)}get fi(){if(this.Vi)return this.Vi;throw Lt(60996)}addReference(e,t,n){return this.Ri.addReference(n,t),this.fi.delete(n.toString()),Ue.resolve()}removeReference(e,t,n){return this.Ri.removeReference(n,t),this.fi.add(n.toString()),Ue.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),Ue.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((s=>this.fi.add(s.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((s=>{s.forEach((o=>this.fi.add(o.toString())))})).next((()=>n.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ue.forEach(this.fi,(n=>{const s=mt.fromPath(n);return this.gi(e,s).next((o=>{o||t.removeEntry(s,sr.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((n=>{n?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return Ue.or([()=>Ue.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class G1{constructor(e,t){this.persistence=e,this.pi=new dc((n=>ai(n.path)),((n,s)=>n.isEqual(s))),this.garbageCollector=WI(this,t)}static mi(e,t){return new G1(e,t)}Ei(){}di(e){return Ue.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((n=>t.next((s=>n+s))))}wr(e){let t=0;return this.pr(e,(n=>{t++})).next((()=>t))}pr(e,t){return Ue.forEach(this.pi,((n,s)=>this.br(e,n,s).next((o=>o?Ue.resolve():t(s)))))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const s=this.persistence.getRemoteDocumentCache(),o=s.newChangeBuffer();return s.ii(e,(l=>this.br(e,l,t).next((c=>{c||(n++,o.removeEntry(l,sr.min()))})))).next((()=>o.apply(e))).next((()=>n))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),Ue.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),Ue.resolve()}removeReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),Ue.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),Ue.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=i1(e.data.value)),t}br(e,t,n){return Ue.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.pi.get(t);return Ue.resolve(s!==void 0&&s>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yM{constructor(e){this.serializer=e}k(e,t,n,s){const o=new _x("createOrUpgrade",t);n<1&&s>=1&&((function(d){d.createObjectStore(Zg)})(e),(function(d){d.createObjectStore(Sg,{keyPath:LD}),d.createObjectStore(gA,{keyPath:b_,autoIncrement:!0}).createIndex(ld,y_,{unique:!0}),d.createObjectStore(Af)})(e),lC(e),(function(d){d.createObjectStore(ed)})(e));let l=Ue.resolve();return n<3&&s>=3&&(n!==0&&((function(d){d.deleteObjectStore(cf),d.deleteObjectStore(lf),d.deleteObjectStore(hd)})(e),lC(e)),l=l.next((()=>(function(d){const h=d.store(hd),g={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:sr.min().toTimestamp(),targetCount:0};return h.put(R1,g)})(o)))),n<4&&s>=4&&(n!==0&&(l=l.next((()=>(function(d,h){return h.store(gA).J().next((x=>{d.deleteObjectStore(gA),d.createObjectStore(gA,{keyPath:b_,autoIncrement:!0}).createIndex(ld,y_,{unique:!0});const B=h.store(gA),w=x.map((I=>B.put(I)));return Ue.waitFor(w)}))})(e,o)))),l=l.next((()=>{(function(d){d.createObjectStore(uf,{keyPath:zD})})(e)}))),n<5&&s>=5&&(l=l.next((()=>this.yi(o)))),n<6&&s>=6&&(l=l.next((()=>((function(d){d.createObjectStore(Ig)})(e),this.wi(o))))),n<7&&s>=7&&(l=l.next((()=>this.Si(o)))),n<8&&s>=8&&(l=l.next((()=>this.bi(e,o)))),n<9&&s>=9&&(l=l.next((()=>{(function(d){d.objectStoreNames.contains("remoteDocumentChanges")&&d.deleteObjectStore("remoteDocumentChanges")})(e)}))),n<10&&s>=10&&(l=l.next((()=>this.Di(o)))),n<11&&s>=11&&(l=l.next((()=>{(function(d){d.createObjectStore(Ex,{keyPath:qD})})(e),(function(d){d.createObjectStore(Sx,{keyPath:GD})})(e)}))),n<12&&s>=12&&(l=l.next((()=>{(function(d){const h=d.createObjectStore(Ix,{keyPath:eO});h.createIndex(lw,tO,{unique:!1}),h.createIndex(P6,rO,{unique:!1})})(e)}))),n<13&&s>=13&&(l=l.next((()=>(function(d){const h=d.createObjectStore(L1,{keyPath:DD});h.createIndex(s1,OD),h.createIndex(R6,MD)})(e))).next((()=>this.Ci(e,o))).next((()=>e.deleteObjectStore(ed)))),n<14&&s>=14&&(l=l.next((()=>this.Fi(e,o)))),n<15&&s>=15&&(l=l.next((()=>(function(d){d.createObjectStore(Lv,{keyPath:$D,autoIncrement:!0}).createIndex(Aw,XD,{unique:!1}),d.createObjectStore(tg,{keyPath:YD}).createIndex(O6,WD,{unique:!1}),d.createObjectStore(rg,{keyPath:JD}).createIndex(M6,ZD,{unique:!1})})(e)))),n<16&&s>=16&&(l=l.next((()=>{t.objectStore(tg).clear()})).next((()=>{t.objectStore(rg).clear()}))),n<17&&s>=17&&(l=l.next((()=>{(function(d){d.createObjectStore(Rv,{keyPath:nO})})(e)}))),n<18&&s>=18&&TS()&&(l=l.next((()=>{t.objectStore(tg).clear()})).next((()=>{t.objectStore(rg).clear()}))),l}wi(e){let t=0;return e.store(ed).ee(((n,s)=>{t+=q1(s)})).next((()=>{const n={byteSize:t};return e.store(Ig).put(ow,n)}))}yi(e){const t=e.store(Sg),n=e.store(gA);return t.J().next((s=>Ue.forEach(s,(o=>{const l=IDBKeyRange.bound([o.userId,dd],[o.userId,o.lastAcknowledgedBatchId]);return n.J(ld,l).next((c=>Ue.forEach(c,(d=>{Xt(d.userId===o.userId,18650,"Cannot process batch from unexpected user",{batchId:d.batchId});const h=sd(this.serializer,d);return qI(e,o.userId,h).next((()=>{}))}))))}))))}Si(e){const t=e.store(cf),n=e.store(ed);return e.store(hd).get(R1).next((s=>{const o=[];return n.ee(((l,c)=>{const d=new on(l),h=(function(x){return[0,ai(x)]})(d);o.push(t.get(h).next((g=>g?Ue.resolve():(x=>t.put({targetId:0,path:ai(x),sequenceNumber:s.highestListenSequenceNumber}))(d))))})).next((()=>Ue.waitFor(o)))}))}bi(e,t){e.createObjectStore(jg,{keyPath:KD});const n=t.store(jg),s=new Jv,o=l=>{if(s.add(l)){const c=l.lastSegment(),d=l.popLast();return n.put({collectionId:c,parent:ai(d)})}};return t.store(ed).ee({X:!0},((l,c)=>{const d=new on(l);return o(d.popLast())})).next((()=>t.store(Af).ee({X:!0},(([l,c,d],h)=>{const g=rl(c);return o(g.popLast())}))))}Di(e){const t=e.store(lf);return t.ee(((n,s)=>{const o=H0(s),l=PI(this.serializer,o);return t.put(l)}))}Ci(e,t){const n=t.store(ed),s=[];return n.ee(((o,l)=>{const c=t.store(L1),d=(function(x){return x.document?new mt(on.fromString(x.document.name).popFirst(5)):x.noDocument?mt.fromSegments(x.noDocument.path):x.unknownDocument?mt.fromSegments(x.unknownDocument.path):Lt(36783)})(l).path.toArray(),h={prefixPath:d.slice(0,d.length-2),collectionGroup:d[d.length-2],documentId:d[d.length-1],readTime:l.readTime||[0,0],unknownDocument:l.unknownDocument,noDocument:l.noDocument,document:l.document,hasCommittedMutations:!!l.hasCommittedMutations};s.push(c.put(h))})).next((()=>Ue.waitFor(s)))}Fi(e,t){const n=t.store(gA),s=ZI(this.serializer),o=new e5(Rx.mi,this.serializer.yt);return n.J().next((l=>{const c=new Map;return l.forEach((d=>{let h=c.get(d.userId)??Tr();sd(this.serializer,d).keys().forEach((g=>h=h.add(g))),c.set(d.userId,h)})),Ue.forEach(c,((d,h)=>{const g=new Za(h),x=Qx.wt(this.serializer,g),B=o.getIndexManager(g),w=Lx.wt(g,this.serializer,B,o.referenceDelegate);return new ej(s,w,x,B).recalculateAndSaveOverlaysForDocumentKeys(new cw(t,Hi.ce),d).next()}))}))}}function lC(r){r.createObjectStore(cf,{keyPath:HD}).createIndex(Qv,VD,{unique:!0}),r.createObjectStore(lf,{keyPath:"targetId"}).createIndex(D6,PD,{unique:!0}),r.createObjectStore(hd)}const qc="IndexedDbPersistence",Q2=18e5,L2=5e3,R2="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",wM="main";class t5{constructor(e,t,n,s,o,l,c,d,h,g,x=18){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.Mi=o,this.window=l,this.document=c,this.xi=h,this.Oi=g,this.Ni=x,this.ci=null,this.li=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Bi=null,this.inForeground=!1,this.Li=null,this.ki=null,this.qi=Number.NEGATIVE_INFINITY,this.Qi=B=>Promise.resolve(),!t5.v())throw new ut(qe.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new AM(this,s),this.$i=t+wM,this.serializer=new MI(d),this.Ui=new gu(this.$i,this.Ni,new yM(this.serializer)),this.hi=new WO,this.Pi=new aM(this.referenceDelegate,this.serializer),this.remoteDocumentCache=ZI(this.serializer),this.Ii=new YO,this.window&&this.window.localStorage?this.Ki=this.window.localStorage:(this.Ki=null,g===!1&&Ts(qc,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Wi().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ut(qe.FAILED_PRECONDITION,R2);return this.Gi(),this.zi(),this.ji(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.Pi.getHighestSequenceNumber(e)))})).then((e=>{this.ci=new Hi(e,this.xi)})).then((()=>{this.li=!0})).catch((e=>(this.Ui&&this.Ui.close(),Promise.reject(e))))}Ji(e){return this.Qi=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ui.$((async t=>{t.newVersion===null&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Mi.enqueueAndForget((async()=>{this.started&&await this.Wi()})))}Wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>mp(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.Hi(e).next((t=>{t||(this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))))}))})).next((()=>this.Yi(e))).next((t=>this.isPrimary&&!t?this.Zi(e).next((()=>!1)):!!t&&this.Xi(e).next((()=>!0)))))).catch((e=>{if(Iu(e))return ot(qc,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return ot(qc,"Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.Mi.enqueueRetryable((()=>this.Qi(e))),this.isPrimary=e}))}Hi(e){return I0(e).get(bh).next((t=>Ue.resolve(this.es(t))))}ts(e){return mp(e).delete(this.clientId)}async ns(){if(this.isPrimary&&!this.rs(this.qi,Q2)){this.qi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(t=>{const n=sa(t,uf);return n.J().next((s=>{const o=this.ss(s,Q2),l=s.filter((c=>o.indexOf(c)===-1));return Ue.forEach(l,(c=>n.delete(c.clientId))).next((()=>l))}))})).catch((()=>[]));if(this.Ki)for(const t of e)this.Ki.removeItem(this._s(t.clientId))}}ji(){this.ki=this.Mi.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.Wi().then((()=>this.ns())).then((()=>this.ji()))))}es(e){return!!e&&e.ownerId===this.clientId}Yi(e){return this.Oi?Ue.resolve(!0):I0(e).get(bh).next((t=>{if(t!==null&&this.rs(t.leaseTimestampMs,L2)&&!this.us(t.ownerId)){if(this.es(t)&&this.networkEnabled)return!0;if(!this.es(t)){if(!t.allowTabSynchronization)throw new ut(qe.FAILED_PRECONDITION,R2);return!1}}return!(!this.networkEnabled||!this.inForeground)||mp(e).J().next((n=>this.ss(n,L2).find((s=>{if(this.clientId!==s.clientId){const o=!this.networkEnabled&&s.networkEnabled,l=!this.inForeground&&s.inForeground,c=this.networkEnabled===s.networkEnabled;if(o||l&&c)return!0}return!1}))===void 0))})).next((t=>(this.isPrimary!==t&&ot(qc,`Client ${t?"is":"is not"} eligible for a primary lease.`),t)))}async shutdown(){this.li=!1,this.cs(),this.ki&&(this.ki.cancel(),this.ki=null),this.ls(),this.hs(),await this.Ui.runTransaction("shutdown","readwrite",[Zg,uf],(e=>{const t=new cw(e,Hi.ce);return this.Zi(t).next((()=>this.ts(t)))})),this.Ui.close(),this.Ps()}ss(e,t){return e.filter((n=>this.rs(n.updateTimeMs,t)&&!this.us(n.clientId)))}Ts(){return this.runTransaction("getActiveClients","readonly",(e=>mp(e).J().next((t=>this.ss(t,Q2).map((n=>n.clientId))))))}get started(){return this.li}getGlobalsCache(){return this.hi}getMutationQueue(e,t){return Lx.wt(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new sM(e,this.serializer.yt.databaseId)}getDocumentOverlayCache(e){return Qx.wt(this.serializer,e)}getBundleCache(){return this.Ii}runTransaction(e,t,n){ot(qc,"Starting transaction:",e);const s=t==="readonly"?"readonly":"readwrite",o=(function(d){return d===18?iO:d===17?z6:d===16?aO:d===15?Dv:d===14?K6:d===13?V6:d===12?sO:d===11?H6:void Lt(60245)})(this.Ni);let l;return this.Ui.runTransaction(e,s,o,(c=>(l=new cw(c,this.ci?this.ci.next():Hi.ce),t==="readwrite-primary"?this.Hi(l).next((d=>!!d||this.Yi(l))).next((d=>{if(!d)throw Ts(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))),new ut(qe.FAILED_PRECONDITION,U6);return n(l)})).next((d=>this.Xi(l).next((()=>d)))):this.Is(l).next((()=>n(l)))))).then((c=>(l.raiseOnCommittedEvent(),c)))}Is(e){return I0(e).get(bh).next((t=>{if(t!==null&&this.rs(t.leaseTimestampMs,L2)&&!this.us(t.ownerId)&&!this.es(t)&&!(this.Oi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new ut(qe.FAILED_PRECONDITION,R2)}))}Xi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return I0(e).put(bh,t)}static v(){return gu.v()}Zi(e){const t=I0(e);return t.get(bh).next((n=>this.es(n)?(ot(qc,"Releasing primary lease."),t.delete(bh)):Ue.resolve()))}rs(e,t){const n=Date.now();return!(e<n-t)&&(!(e>n)||(Ts(`Detected an update time that is in the future: ${e} > ${n}`),!1))}Gi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Li=()=>{this.Mi.enqueueAndForget((()=>(this.inForeground=this.document.visibilityState==="visible",this.Wi())))},this.document.addEventListener("visibilitychange",this.Li),this.inForeground=this.document.visibilityState==="visible")}ls(){this.Li&&(this.document.removeEventListener("visibilitychange",this.Li),this.Li=null)}zi(){var e;typeof((e=this.window)==null?void 0:e.addEventListener)=="function"&&(this.Bi=()=>{this.cs();const t=/(?:Version|Mobile)\/1[456]/;jS()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.Mi.enterRestrictedMode(!0),this.Mi.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Bi))}hs(){this.Bi&&(this.window.removeEventListener("pagehide",this.Bi),this.Bi=null)}us(e){var t;try{const n=((t=this.Ki)==null?void 0:t.getItem(this._s(e)))!==null;return ot(qc,`Client '${e}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(n){return Ts(qc,"Failed to get zombied client id.",n),!1}}cs(){if(this.Ki)try{this.Ki.setItem(this._s(this.clientId),String(Date.now()))}catch(e){Ts("Failed to set zombie client id.",e)}}Ps(){if(this.Ki)try{this.Ki.removeItem(this._s(this.clientId))}catch{}}_s(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function I0(r){return sa(r,Zg)}function mp(r){return sa(r,uf)}function tj(r,e){let t=r.projectId;return r.isDefaultDatabase||(t+="."+r.database),"firestore/"+e+"/"+t+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r5{constructor(e,t,n,s){this.targetId=e,this.fromCache=t,this.Es=n,this.ds=s}static As(e,t){let n=Tr(),s=Tr();for(const o of t.docChanges)switch(o.type){case 0:n=n.add(o.doc.key);break;case 1:s=s.add(o.doc.key)}return new r5(e,t.fromCache,n,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rj{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return jS()?8:k6(na())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,n,s){const o={result:null};return this.ys(e,t).next((l=>{o.result=l})).next((()=>{if(!o.result)return this.ws(e,t,s,n).next((l=>{o.result=l}))})).next((()=>{if(o.result)return;const l=new vM;return this.Ss(e,t,l).next((c=>{if(o.result=c,this.Vs)return this.bs(e,t,l,c.size)}))})).next((()=>o.result))}bs(e,t,n,s){return n.documentReadCount<this.fs?(kh()<=Pr.DEBUG&&ot("QueryEngine","SDK will not create cache indexes for query:",Qh(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Ue.resolve()):(kh()<=Pr.DEBUG&&ot("QueryEngine","Query:",Qh(t),"scans",n.documentReadCount,"local documents and returns",s,"documents as results."),n.documentReadCount>this.gs*s?(kh()<=Pr.DEBUG&&ot("QueryEngine","The SDK decides to create cache indexes for query:",Qh(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,uo(t))):Ue.resolve())}ys(e,t){if(F_(t))return Ue.resolve(null);let n=uo(t);return this.indexManager.getIndexType(e,n).next((s=>s===0?null:(t.limit!==null&&s===1&&(t=P1(t,null,"F"),n=uo(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((o=>{const l=Tr(...o);return this.ps.getDocuments(e,l).next((c=>this.indexManager.getMinOffset(e,n).next((d=>{const h=this.Ds(t,c);return this.Cs(t,h,l,d.readTime)?this.ys(e,P1(t,null,"F")):this.vs(e,h,t,d)}))))})))))}ws(e,t,n,s){return F_(t)||s.isEqual(sr.min())?Ue.resolve(null):this.ps.getDocuments(e,n).next((o=>{const l=this.Ds(t,o);return this.Cs(t,l,n,s)?Ue.resolve(null):(kh()<=Pr.DEBUG&&ot("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Qh(t)),this.vs(e,l,t,j6(s,of)).next((c=>c)))}))}Ds(e,t){let n=new yn(hI(e));return t.forEach(((s,o)=>{rm(e,o)&&(n=n.add(o))})),n}Cs(e,t,n,s){if(e.limit===null)return!1;if(n.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(s)>0)}Ss(e,t,n){return kh()<=Pr.DEBUG&&ot("QueryEngine","Using full collection scan to execute query:",Qh(t)),this.ps.getDocumentsMatchingQuery(e,t,fo.min(),n)}vs(e,t,n,s){return this.ps.getDocumentsMatchingQuery(e,n,s).next((o=>(t.forEach((l=>{o=o.insert(l.key,l)})),o)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n5="LocalStore",BM=3e8;class NM{constructor(e,t,n,s){this.persistence=e,this.Fs=t,this.serializer=s,this.Ms=new Rn(br),this.xs=new dc((o=>_d(o)),em),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(n)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ej(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function nj(r,e,t,n){return new NM(r,e,t,n)}async function sj(r,e){const t=zt(r);return await t.persistence.runTransaction("Handle user change","readonly",(n=>{let s;return t.mutationQueue.getAllMutationBatches(n).next((o=>(s=o,t.Bs(e),t.mutationQueue.getAllMutationBatches(n)))).next((o=>{const l=[],c=[];let d=Tr();for(const h of s){l.push(h.batchId);for(const g of h.mutations)d=d.add(g.key)}for(const h of o){c.push(h.batchId);for(const g of h.mutations)d=d.add(g.key)}return t.localDocuments.getDocuments(n,d).next((h=>({Ls:h,removedBatchIds:l,addedBatchIds:c})))}))}))}function _M(r,e){const t=zt(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(n=>{const s=e.batch.keys(),o=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(c,d,h,g){const x=h.batch,B=x.keys();let w=Ue.resolve();return B.forEach((I=>{w=w.next((()=>g.getEntry(d,I))).next((j=>{const M=h.docVersions.get(I);Xt(M!==null,48541),j.version.compareTo(M)<0&&(x.applyToRemoteDocument(j,h),j.isValidDocument()&&(j.setReadTime(h.commitVersion),g.addEntry(j)))}))})),w.next((()=>c.mutationQueue.removeMutationBatch(d,x)))})(t,n,e,o).next((()=>o.apply(n))).next((()=>t.mutationQueue.performConsistencyCheck(n))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(n,s,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,(function(c){let d=Tr();for(let h=0;h<c.mutationResults.length;++h)c.mutationResults[h].transformResults.length>0&&(d=d.add(c.batch.mutations[h].key));return d})(e)))).next((()=>t.localDocuments.getDocuments(n,s)))}))}function aj(r){const e=zt(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function CM(r,e){const t=zt(r),n=e.snapshotVersion;let s=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const l=t.Ns.newChangeBuffer({trackRemovals:!0});s=t.Ms;const c=[];e.targetChanges.forEach(((g,x)=>{const B=s.get(x);if(!B)return;c.push(t.Pi.removeMatchingKeys(o,g.removedDocuments,x).next((()=>t.Pi.addMatchingKeys(o,g.addedDocuments,x))));let w=B.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(x)!==null?w=w.withResumeToken(Fs.EMPTY_BYTE_STRING,sr.min()).withLastLimboFreeSnapshotVersion(sr.min()):g.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(g.resumeToken,n)),s=s.insert(x,w),(function(j,M,L){return j.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-j.snapshotVersion.toMicroseconds()>=BM?!0:L.addedDocuments.size+L.modifiedDocuments.size+L.removedDocuments.size>0})(B,w,g)&&c.push(t.Pi.updateTargetData(o,w))}));let d=lo(),h=Tr();if(e.documentUpdates.forEach((g=>{e.resolvedLimboDocuments.has(g)&&c.push(t.persistence.referenceDelegate.updateLimboDocument(o,g))})),c.push(EM(o,l,e.documentUpdates).next((g=>{d=g.ks,h=g.qs}))),!n.isEqual(sr.min())){const g=t.Pi.getLastRemoteSnapshotVersion(o).next((x=>t.Pi.setTargetsMetadata(o,o.currentSequenceNumber,n)));c.push(g)}return Ue.waitFor(c).next((()=>l.apply(o))).next((()=>t.localDocuments.getLocalViewOfDocuments(o,d,h))).next((()=>d))})).then((o=>(t.Ms=s,o)))}function EM(r,e,t){let n=Tr(),s=Tr();return t.forEach((o=>n=n.add(o))),e.getEntries(r,n).next((o=>{let l=lo();return t.forEach(((c,d)=>{const h=o.get(c);d.isFoundDocument()!==h.isFoundDocument()&&(s=s.add(c)),d.isNoDocument()&&d.version.isEqual(sr.min())?(e.removeEntry(c,d.readTime),l=l.insert(c,d)):!h.isValidDocument()||d.version.compareTo(h.version)>0||d.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(d),l=l.insert(c,d)):ot(n5,"Ignoring outdated watch update for ",c,". Current version:",h.version," Watch version:",d.version)})),{ks:l,qs:s}}))}function SM(r,e){const t=zt(r);return t.persistence.runTransaction("Get next mutation batch","readonly",(n=>(e===void 0&&(e=dd),t.mutationQueue.getNextMutationBatchAfterBatchId(n,e))))}function $1(r,e){const t=zt(r);return t.persistence.runTransaction("Allocate target","readwrite",(n=>{let s;return t.Pi.getTargetData(n,e).next((o=>o?(s=o,Ue.resolve(s)):t.Pi.allocateTargetId(n).next((l=>(s=new Zl(e,l,"TargetPurposeListen",n.currentSequenceNumber),t.Pi.addTargetData(n,s).next((()=>s)))))))})).then((n=>{const s=t.Ms.get(n.targetId);return(s===null||n.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(n.targetId,n),t.xs.set(e,n.targetId)),n}))}async function wf(r,e,t){const n=zt(r),s=n.Ms.get(e),o=t?"readwrite":"readwrite-primary";try{t||await n.persistence.runTransaction("Release target",o,(l=>n.persistence.referenceDelegate.removeTarget(l,s)))}catch(l){if(!Iu(l))throw l;ot(n5,`Failed to update sequence numbers for target ${e}: ${l}`)}n.Ms=n.Ms.remove(e),n.xs.delete(s.target)}function Nw(r,e,t){const n=zt(r);let s=sr.min(),o=Tr();return n.persistence.runTransaction("Execute query","readwrite",(l=>(function(d,h,g){const x=zt(d),B=x.xs.get(g);return B!==void 0?Ue.resolve(x.Ms.get(B)):x.Pi.getTargetData(h,g)})(n,l,uo(e)).next((c=>{if(c)return s=c.lastLimboFreeSnapshotVersion,n.Pi.getMatchingKeysForTargetId(l,c.targetId).next((d=>{o=d}))})).next((()=>n.Fs.getDocumentsMatchingQuery(l,e,t?s:sr.min(),t?o:Tr()))).next((c=>(Aj(n,dI(e),c),{documents:c,Qs:o})))))}function ij(r,e){const t=zt(r),n=zt(t.Pi),s=t.Ms.get(e);return s?Promise.resolve(s.target):t.persistence.runTransaction("Get target data","readonly",(o=>n.At(o,e).next((l=>l?l.target:null))))}function oj(r,e){const t=zt(r),n=t.Os.get(e)||sr.min();return t.persistence.runTransaction("Get new document changes","readonly",(s=>t.Ns.getAllFromCollectionGroup(s,e,j6(n,of),Number.MAX_SAFE_INTEGER))).then((s=>(Aj(t,e,s),s)))}function Aj(r,e,t){let n=r.Os.get(e)||sr.min();t.forEach(((s,o)=>{o.readTime.compareTo(n)>0&&(n=o.readTime)})),r.Os.set(e,n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lj="firestore_clients";function cC(r,e){return`${lj}_${r}_${e}`}const cj="firestore_mutations";function uC(r,e,t){let n=`${cj}_${r}_${t}`;return e.isAuthenticated()&&(n+=`_${e.uid}`),n}const uj="firestore_targets";function D2(r,e){return`${uj}_${r}_${e}`}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tl="SharedClientState";class X1{constructor(e,t,n,s){this.user=e,this.batchId=t,this.state=n,this.error=s}static Ws(e,t,n){const s=JSON.parse(n);let o,l=typeof s=="object"&&["pending","acknowledged","rejected"].indexOf(s.state)!==-1&&(s.error===void 0||typeof s.error=="object");return l&&s.error&&(l=typeof s.error.message=="string"&&typeof s.error.code=="string",l&&(o=new ut(s.error.code,s.error.message))),l?new X1(e,t,s.state,o):(Ts(tl,`Failed to parse mutation state for ID '${t}': ${n}`),null)}Gs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class og{constructor(e,t,n){this.targetId=e,this.state=t,this.error=n}static Ws(e,t){const n=JSON.parse(t);let s,o=typeof n=="object"&&["not-current","current","rejected"].indexOf(n.state)!==-1&&(n.error===void 0||typeof n.error=="object");return o&&n.error&&(o=typeof n.error.message=="string"&&typeof n.error.code=="string",o&&(s=new ut(n.error.code,n.error.message))),o?new og(e,n.state,s):(Ts(tl,`Failed to parse target state for ID '${e}': ${t}`),null)}Gs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Y1{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Ws(e,t){const n=JSON.parse(t);let s=typeof n=="object"&&n.activeTargetIds instanceof Array,o=Vv();for(let l=0;s&&l<n.activeTargetIds.length;++l)s=Q6(n.activeTargetIds[l]),o=o.add(n.activeTargetIds[l]);return s?new Y1(e,o):(Ts(tl,`Failed to parse client data for instance '${e}': ${t}`),null)}}class s5{constructor(e,t){this.clientId=e,this.onlineState=t}static Ws(e){const t=JSON.parse(e);return typeof t=="object"&&["Unknown","Online","Offline"].indexOf(t.onlineState)!==-1&&typeof t.clientId=="string"?new s5(t.clientId,t.onlineState):(Ts(tl,`Failed to parse online state: ${e}`),null)}}class _w{constructor(){this.activeTargetIds=Vv()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class O2{constructor(e,t,n,s,o){this.window=e,this.Mi=t,this.persistenceKey=n,this.Js=s,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Hs=this.Ys.bind(this),this.Zs=new Rn(br),this.started=!1,this.Xs=[];const l=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.eo=cC(this.persistenceKey,this.Js),this.no=(function(d){return`firestore_sequence_number_${d}`})(this.persistenceKey),this.Zs=this.Zs.insert(this.Js,new _w),this.ro=new RegExp(`^${lj}_${l}_([^_]*)$`),this.io=new RegExp(`^${cj}_${l}_(\\d+)(?:_(.*))?$`),this.so=new RegExp(`^${uj}_${l}_(\\d+)$`),this.oo=(function(d){return`firestore_online_state_${d}`})(this.persistenceKey),this._o=(function(d){return`firestore_bundle_loaded_v2_${d}`})(this.persistenceKey),this.window.addEventListener("storage",this.Hs)}static v(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Ts();for(const n of e){if(n===this.Js)continue;const s=this.getItem(cC(this.persistenceKey,n));if(s){const o=Y1.Ws(n,s);o&&(this.Zs=this.Zs.insert(o.clientId,o))}}this.ao();const t=this.storage.getItem(this.oo);if(t){const n=this.uo(t);n&&this.co(n)}for(const n of this.Xs)this.Ys(n);this.Xs=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.no,JSON.stringify(e))}getAllActiveQueryTargets(){return this.lo(this.Zs)}isActiveQueryTarget(e){let t=!1;return this.Zs.forEach(((n,s)=>{s.activeTargetIds.has(e)&&(t=!0)})),t}addPendingMutation(e){this.ho(e,"pending")}updateMutationState(e,t,n){this.ho(e,t,n),this.Po(e)}addLocalQueryTarget(e,t=!0){let n="not-current";if(this.isActiveQueryTarget(e)){const s=this.storage.getItem(D2(this.persistenceKey,e));if(s){const o=og.Ws(e,s);o&&(n=o.state)}}return t&&this.To.zs(e),this.ao(),n}removeLocalQueryTarget(e){this.To.js(e),this.ao()}isLocalQueryTarget(e){return this.To.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(D2(this.persistenceKey,e))}updateQueryState(e,t,n){this.Io(e,t,n)}handleUserChange(e,t,n){t.forEach((s=>{this.Po(s)})),this.currentUser=e,n.forEach((s=>{this.addPendingMutation(s)}))}setOnlineState(e){this.Eo(e)}notifyBundleLoaded(e){this.Ao(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Hs),this.removeItem(this.eo),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return ot(tl,"READ",e,t),t}setItem(e,t){ot(tl,"SET",e,t),this.storage.setItem(e,t)}removeItem(e){ot(tl,"REMOVE",e),this.storage.removeItem(e)}Ys(e){const t=e;if(t.storageArea===this.storage){if(ot(tl,"EVENT",t.key,t.newValue),t.key===this.eo)return void Ts("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Mi.enqueueRetryable((async()=>{if(this.started){if(t.key!==null){if(this.ro.test(t.key)){if(t.newValue==null){const n=this.Ro(t.key);return this.Vo(n,null)}{const n=this.mo(t.key,t.newValue);if(n)return this.Vo(n.clientId,n)}}else if(this.io.test(t.key)){if(t.newValue!==null){const n=this.fo(t.key,t.newValue);if(n)return this.po(n)}}else if(this.so.test(t.key)){if(t.newValue!==null){const n=this.yo(t.key,t.newValue);if(n)return this.wo(n)}}else if(t.key===this.oo){if(t.newValue!==null){const n=this.uo(t.newValue);if(n)return this.co(n)}}else if(t.key===this.no){const n=(function(o){let l=Hi.ce;if(o!=null)try{const c=JSON.parse(o);Xt(typeof c=="number",30636,{So:o}),l=c}catch(c){Ts(tl,"Failed to read sequence number from WebStorage",c)}return l})(t.newValue);n!==Hi.ce&&this.sequenceNumberHandler(n)}else if(t.key===this._o){const n=this.bo(t.newValue);await Promise.all(n.map((s=>this.syncEngine.Do(s))))}}}else this.Xs.push(t)}))}}get To(){return this.Zs.get(this.Js)}ao(){this.setItem(this.eo,this.To.Gs())}ho(e,t,n){const s=new X1(this.currentUser,e,t,n),o=uC(this.persistenceKey,this.currentUser,e);this.setItem(o,s.Gs())}Po(e){const t=uC(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Eo(e){const t={clientId:this.Js,onlineState:e};this.storage.setItem(this.oo,JSON.stringify(t))}Io(e,t,n){const s=D2(this.persistenceKey,e),o=new og(e,t,n);this.setItem(s,o.Gs())}Ao(e){const t=JSON.stringify(Array.from(e));this.setItem(this._o,t)}Ro(e){const t=this.ro.exec(e);return t?t[1]:null}mo(e,t){const n=this.Ro(e);return Y1.Ws(n,t)}fo(e,t){const n=this.io.exec(e),s=Number(n[1]),o=n[2]!==void 0?n[2]:null;return X1.Ws(new Za(o),s,t)}yo(e,t){const n=this.so.exec(e),s=Number(n[1]);return og.Ws(s,t)}uo(e){return s5.Ws(e)}bo(e){return JSON.parse(e)}async po(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Co(e.batchId,e.state,e.error);ot(tl,`Ignoring mutation for non-active user ${e.user.uid}`)}wo(e){return this.syncEngine.vo(e.targetId,e.state,e.error)}Vo(e,t){const n=t?this.Zs.insert(e,t):this.Zs.remove(e),s=this.lo(this.Zs),o=this.lo(n),l=[],c=[];return o.forEach((d=>{s.has(d)||l.push(d)})),s.forEach((d=>{o.has(d)||c.push(d)})),this.syncEngine.Fo(l,c).then((()=>{this.Zs=n}))}co(e){this.Zs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}lo(e){let t=Vv();return e.forEach(((n,s)=>{t=t.unionWith(s.activeTargetIds)})),t}}class dj{constructor(){this.Mo=new _w,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,n){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new _w,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IM{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dC="ConnectivityMonitor";class hC{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ot(dC,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ot(dC,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pp=null;function Cw(){return pp===null?pp=(function(){return 268435456+Math.round(2147483648*Math.random())})():pp++,"0x"+pp.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M2="RestConnection",jM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class TM{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${n}/databases/${s}`,this.Wo=this.databaseId.database===D1?`project_id=${n}`:`project_id=${n}&database_id=${s}`}Go(e,t,n,s,o){const l=Cw(),c=this.zo(e,t.toUriEncodedString());ot(M2,`Sending RPC '${e}' ${l}:`,c,n);const d={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(d,s,o);const{host:h}=new URL(c),g=Sf(h);return this.Jo(e,c,d,n,g).then((x=>(ot(M2,`Received RPC '${e}' ${l}: `,x),x)),(x=>{throw _g(M2,`RPC '${e}' ${l} failed with error: `,x,"url: ",c,"request:",n),x}))}Ho(e,t,n,s,o,l){return this.Go(e,t,n,s,o)}jo(e,t,n){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Tf})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((s,o)=>e[o]=s)),n&&n.headers.forEach(((s,o)=>e[o]=s))}zo(e,t){const n=jM[e];return`${this.Uo}/v1/${t}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UM{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ga="WebChannelConnection";class FM extends TM{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,n,s,o){const l=Cw();return new Promise(((c,d)=>{const h=new w6;h.setWithCredentials(!0),h.listenOnce(v6.COMPLETE,(()=>{try{switch(h.getLastErrorCode()){case t1.NO_ERROR:const x=h.getResponseJson();ot(Ga,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(x)),c(x);break;case t1.TIMEOUT:ot(Ga,`RPC '${e}' ${l} timed out`),d(new ut(qe.DEADLINE_EXCEEDED,"Request time out"));break;case t1.HTTP_ERROR:const B=h.getStatus();if(ot(Ga,`RPC '${e}' ${l} failed with status:`,B,"response text:",h.getResponseText()),B>0){let w=h.getResponseJson();Array.isArray(w)&&(w=w[0]);const I=w==null?void 0:w.error;if(I&&I.status&&I.message){const j=(function(L){const X=L.toLowerCase().replace(/_/g,"-");return Object.values(qe).indexOf(X)>=0?X:qe.UNKNOWN})(I.status);d(new ut(j,I.message))}else d(new ut(qe.UNKNOWN,"Server responded with status "+h.getStatus()))}else d(new ut(qe.UNAVAILABLE,"Connection failed."));break;default:Lt(9055,{l_:e,streamId:l,h_:h.getLastErrorCode(),P_:h.getLastError()})}}finally{ot(Ga,`RPC '${e}' ${l} completed.`)}}));const g=JSON.stringify(s);ot(Ga,`RPC '${e}' ${l} sending request:`,s),h.send(t,"POST",g,n,15)}))}T_(e,t,n){const s=Cw(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=_6(),c=N6(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(d.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(d.useFetchStreams=!0),this.jo(d.initMessageHeaders,t,n),d.encodeInitMessageHeaders=!0;const g=o.join("");ot(Ga,`Creating RPC '${e}' stream ${s}: ${g}`,d);const x=l.createWebChannel(g,d);this.I_(x);let B=!1,w=!1;const I=new UM({Yo:M=>{w?ot(Ga,`Not sending because RPC '${e}' stream ${s} is closed:`,M):(B||(ot(Ga,`Opening RPC '${e}' stream ${s} transport.`),x.open(),B=!0),ot(Ga,`RPC '${e}' stream ${s} sending:`,M),x.send(M))},Zo:()=>x.close()}),j=(M,L,X)=>{M.listen(L,(V=>{try{X(V)}catch(z){setTimeout((()=>{throw z}),0)}}))};return j(x,O0.EventType.OPEN,(()=>{w||(ot(Ga,`RPC '${e}' stream ${s} transport opened.`),I.o_())})),j(x,O0.EventType.CLOSE,(()=>{w||(w=!0,ot(Ga,`RPC '${e}' stream ${s} transport closed`),I.a_(),this.E_(x))})),j(x,O0.EventType.ERROR,(M=>{w||(w=!0,_g(Ga,`RPC '${e}' stream ${s} transport errored. Name:`,M.name,"Message:",M.message),I.a_(new ut(qe.UNAVAILABLE,"The operation could not be completed")))})),j(x,O0.EventType.MESSAGE,(M=>{var L;if(!w){const X=M.data[0];Xt(!!X,16349);const V=X,z=(V==null?void 0:V.error)||((L=V[0])==null?void 0:L.error);if(z){ot(Ga,`RPC '${e}' stream ${s} received error:`,z);const ne=z.status;let le=(function(S){const P=Ms[S];if(P!==void 0)return CI(P)})(ne),R=z.message;le===void 0&&(le=qe.INTERNAL,R="Unknown error status: "+ne+" with message "+z.message),w=!0,I.a_(new ut(le,R)),x.close()}else ot(Ga,`RPC '${e}' stream ${s} received:`,X),I.u_(X)}})),j(c,B6.STAT_EVENT,(M=>{M.stat===sw.PROXY?ot(Ga,`RPC '${e}' stream ${s} detected buffering proxy`):M.stat===sw.NOPROXY&&ot(Ga,`RPC '${e}' stream ${s} detected no buffering proxy`)})),setTimeout((()=>{I.__()}),0),I}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hj(){return typeof window<"u"?window:null}function u1(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dx(r){return new OO(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fj{constructor(e,t,n=1e3,s=1.5,o=6e4){this.Mi=e,this.timerId=t,this.d_=n,this.A_=s,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),s=Math.max(0,t-n);s>0&&ot("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fC="PersistentStream";class gj{constructor(e,t,n,s,o,l,c,d){this.Mi=e,this.S_=n,this.b_=s,this.connection=o,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=d,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new fj(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===qe.RESOURCE_EXHAUSTED?(Ts(t.toString()),Ts("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===qe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([n,s])=>{this.D_===t&&this.G_(n,s)}),(n=>{e((()=>{const s=new ut(qe.UNKNOWN,"Fetching auth token failed: "+n.message);return this.z_(s)}))}))}G_(e,t){const n=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{n((()=>this.listener.Xo()))})),this.stream.t_((()=>{n((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((s=>{n((()=>this.z_(s)))})),this.stream.onMessage((s=>{n((()=>++this.F_==1?this.J_(s):this.onNext(s)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ot(fC,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(ot(fC,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class kM extends gj{constructor(e,t,n,s,o,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,s,l),this.serializer=o}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=HO(this.serializer,e),n=(function(o){if(!("targetChange"in o))return sr.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?sr.min():l.readTime?xi(l.readTime):sr.min()})(e);return this.listener.H_(t,n)}Y_(e){const t={};t.database=bw(this.serializer),t.addTarget=(function(o,l){let c;const d=l.target;if(c=O1(d)?{documents:kI(o,d)}:{query:QI(o,d).ft},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=II(o,l.resumeToken);const h=pw(o,l.expectedCount);h!==null&&(c.expectedCount=h)}else if(l.snapshotVersion.compareTo(sr.min())>0){c.readTime=yf(o,l.snapshotVersion.toTimestamp());const h=pw(o,l.expectedCount);h!==null&&(c.expectedCount=h)}return c})(this.serializer,e);const n=KO(this.serializer,e);n&&(t.labels=n),this.q_(t)}Z_(e){const t={};t.database=bw(this.serializer),t.removeTarget=e,this.q_(t)}}class QM extends gj{constructor(e,t,n,s,o,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,s,l),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Xt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Xt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Xt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=VO(e.writeResults,e.commitTime),n=xi(e.commitTime);return this.listener.na(n,t)}ra(){const e={};e.database=bw(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((n=>V1(this.serializer,n)))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LM{}class RM extends LM{constructor(e,t,n,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new ut(qe.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,n,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,l])=>this.connection.Go(e,xw(t,n),s,o,l))).catch((o=>{throw o.name==="FirebaseError"?(o.code===qe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ut(qe.UNKNOWN,o.toString())}))}Ho(e,t,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Ho(e,xw(t,n),s,l,c,o))).catch((l=>{throw l.name==="FirebaseError"?(l.code===qe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ut(qe.UNKNOWN,l.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class DM{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ts(t),this.aa=!1):ot("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Id="RemoteStore";class OM{constructor(e,t,n,s,o){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo((l=>{n.enqueueAndForget((async()=>{Ld(this)&&(ot(Id,"Restarting streams for network reachability change."),await(async function(d){const h=zt(d);h.Ea.add(4),await im(h),h.Ra.set("Unknown"),h.Ea.delete(4),await Ox(h)})(this))}))})),this.Ra=new DM(n,s)}}async function Ox(r){if(Ld(r))for(const e of r.da)await e(!0)}async function im(r){for(const e of r.da)await e(!1)}function Mx(r,e){const t=zt(r);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),o5(t)?i5(t):Qf(t).O_()&&a5(t,e))}function vf(r,e){const t=zt(r),n=Qf(t);t.Ia.delete(e),n.O_()&&mj(t,e),t.Ia.size===0&&(n.O_()?n.L_():Ld(t)&&t.Ra.set("Unknown"))}function a5(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(sr.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Qf(r).Y_(e)}function mj(r,e){r.Va.Ue(e),Qf(r).Z_(e)}function i5(r){r.Va=new QO({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Qf(r).start(),r.Ra.ua()}function o5(r){return Ld(r)&&!Qf(r).x_()&&r.Ia.size>0}function Ld(r){return zt(r).Ea.size===0}function pj(r){r.Va=void 0}async function MM(r){r.Ra.set("Online")}async function PM(r){r.Ia.forEach(((e,t)=>{a5(r,e)}))}async function HM(r,e){pj(r),o5(r)?(r.Ra.ha(e),i5(r)):r.Ra.set("Unknown")}async function VM(r,e,t){if(r.Ra.set("Online"),e instanceof SI&&e.state===2&&e.cause)try{await(async function(s,o){const l=o.cause;for(const c of o.targetIds)s.Ia.has(c)&&(await s.remoteSyncer.rejectListen(c,l),s.Ia.delete(c),s.Va.removeTarget(c))})(r,e)}catch(n){ot(Id,"Failed to remove targets %s: %s ",e.targetIds.join(","),n),await W1(r,n)}else if(e instanceof l1?r.Va.Ze(e):e instanceof EI?r.Va.st(e):r.Va.tt(e),!t.isEqual(sr.min()))try{const n=await aj(r.localStore);t.compareTo(n)>=0&&await(function(o,l){const c=o.Va.Tt(l);return c.targetChanges.forEach(((d,h)=>{if(d.resumeToken.approximateByteSize()>0){const g=o.Ia.get(h);g&&o.Ia.set(h,g.withResumeToken(d.resumeToken,l))}})),c.targetMismatches.forEach(((d,h)=>{const g=o.Ia.get(d);if(!g)return;o.Ia.set(d,g.withResumeToken(Fs.EMPTY_BYTE_STRING,g.snapshotVersion)),mj(o,d);const x=new Zl(g.target,d,h,g.sequenceNumber);a5(o,x)})),o.remoteSyncer.applyRemoteEvent(c)})(r,t)}catch(n){ot(Id,"Failed to raise snapshot:",n),await W1(r,n)}}async function W1(r,e,t){if(!Iu(e))throw e;r.Ea.add(1),await im(r),r.Ra.set("Offline"),t||(t=()=>aj(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ot(Id,"Retrying IndexedDB access"),await t(),r.Ea.delete(1),await Ox(r)}))}function xj(r,e){return e().catch((t=>W1(r,t,e)))}async function kf(r){const e=zt(r),t=Bu(e);let n=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:dd;for(;KM(e);)try{const s=await SM(e.localStore,n);if(s===null){e.Ta.length===0&&t.L_();break}n=s.batchId,zM(e,s)}catch(s){await W1(e,s)}bj(e)&&yj(e)}function KM(r){return Ld(r)&&r.Ta.length<10}function zM(r,e){r.Ta.push(e);const t=Bu(r);t.O_()&&t.X_&&t.ea(e.mutations)}function bj(r){return Ld(r)&&!Bu(r).x_()&&r.Ta.length>0}function yj(r){Bu(r).start()}async function qM(r){Bu(r).ra()}async function GM(r){const e=Bu(r);for(const t of r.Ta)e.ea(t.mutations)}async function $M(r,e,t){const n=r.Ta.shift(),s=Gv.from(n,e,t);await xj(r,(()=>r.remoteSyncer.applySuccessfulWrite(s))),await kf(r)}async function XM(r,e){e&&Bu(r).X_&&await(async function(n,s){if((function(l){return UO(l)&&l!==qe.ABORTED})(s.code)){const o=n.Ta.shift();Bu(n).B_(),await xj(n,(()=>n.remoteSyncer.rejectFailedWrite(o.batchId,s))),await kf(n)}})(r,e),bj(r)&&yj(r)}async function gC(r,e){const t=zt(r);t.asyncQueue.verifyOperationInProgress(),ot(Id,"RemoteStore received new credentials");const n=Ld(t);t.Ea.add(3),await im(t),n&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Ox(t)}async function Ew(r,e){const t=zt(r);e?(t.Ea.delete(2),await Ox(t)):e||(t.Ea.add(2),await im(t),t.Ra.set("Unknown"))}function Qf(r){return r.ma||(r.ma=(function(t,n,s){const o=zt(t);return o.sa(),new kM(n,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)})(r.datastore,r.asyncQueue,{Xo:MM.bind(null,r),t_:PM.bind(null,r),r_:HM.bind(null,r),H_:VM.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),o5(r)?i5(r):r.Ra.set("Unknown")):(await r.ma.stop(),pj(r))}))),r.ma}function Bu(r){return r.fa||(r.fa=(function(t,n,s){const o=zt(t);return o.sa(),new QM(n,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:qM.bind(null,r),r_:XM.bind(null,r),ta:GM.bind(null,r),na:$M.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await kf(r)):(await r.fa.stop(),r.Ta.length>0&&(ot(Id,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A5{constructor(e,t,n,s,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=s,this.removalCallback=o,this.deferred=new ul,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,s,o){const l=Date.now()+n,c=new A5(e,t,l,s,o);return c.start(n),c}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ut(qe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function l5(r,e){if(Ts("AsyncQueue",`${e}: ${r}`),Iu(r))return new ut(qe.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{static emptySet(e){return new Xh(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||mt.comparator(t.key,n.key):(t,n)=>mt.comparator(t.key,n.key),this.keyedMap=M0(),this.sortedSet=new Rn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Xh)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,o=n.getNext().key;if(!s.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const n=new Xh;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC{constructor(){this.ga=new Rn(mt.comparator)}track(e){const t=e.doc.key,n=this.ga.get(t);n?e.type!==0&&n.type===3?this.ga=this.ga.insert(t,e):e.type===3&&n.type!==1?this.ga=this.ga.insert(t,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.ga=this.ga.remove(t):e.type===1&&n.type===2?this.ga=this.ga.insert(t,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Lt(63341,{Rt:e,pa:n}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,n)=>{e.push(n)})),e}}class Bf{constructor(e,t,n,s,o,l,c,d,h){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=s,this.mutatedKeys=o,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=d,this.hasCachedResults=h}static fromInitialDocuments(e,t,n,s,o){const l=[];return t.forEach((c=>{l.push({type:0,doc:c})})),new Bf(e,t,Xh.emptySet(t),l,n,s,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ux(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==n[s].type||!t[s].doc.isEqual(n[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YM{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class WM{constructor(){this.queries=pC(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,n){const s=zt(t),o=s.queries;s.queries=pC(),o.forEach(((l,c)=>{for(const d of c.Sa)d.onError(n)}))})(this,new ut(qe.ABORTED,"Firestore shutting down"))}}function pC(){return new dc((r=>uI(r)),Ux)}async function c5(r,e){const t=zt(r);let n=3;const s=e.query;let o=t.queries.get(s);o?!o.ba()&&e.Da()&&(n=2):(o=new YM,n=e.Da()?0:1);try{switch(n){case 0:o.wa=await t.onListen(s,!0);break;case 1:o.wa=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(l){const c=l5(l,`Initialization of query '${Qh(e.query)}' failed`);return void e.onError(c)}t.queries.set(s,o),o.Sa.push(e),e.va(t.onlineState),o.wa&&e.Fa(o.wa)&&d5(t)}async function u5(r,e){const t=zt(r),n=e.query;let s=3;const o=t.queries.get(n);if(o){const l=o.Sa.indexOf(e);l>=0&&(o.Sa.splice(l,1),o.Sa.length===0?s=e.Da()?0:1:!o.ba()&&e.Da()&&(s=2))}switch(s){case 0:return t.queries.delete(n),t.onUnlisten(n,!0);case 1:return t.queries.delete(n),t.onUnlisten(n,!1);case 2:return t.onLastRemoteStoreUnlisten(n);default:return}}function JM(r,e){const t=zt(r);let n=!1;for(const s of e){const o=s.query,l=t.queries.get(o);if(l){for(const c of l.Sa)c.Fa(s)&&(n=!0);l.wa=s}}n&&d5(t)}function ZM(r,e,t){const n=zt(r),s=n.queries.get(e);if(s)for(const o of s.Sa)o.onError(t);n.queries.delete(e)}function d5(r){r.Ca.forEach((e=>{e.next()}))}var Sw,xC;(xC=Sw||(Sw={})).Ma="default",xC.Cache="cache";class h5{constructor(e,t,n){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(e){if(!this.options.includeMetadataChanges){const n=[];for(const s of e.docChanges)s.type!==3&&n.push(s);e=new Bf(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const n=t!=="Offline";return(!this.options.qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Bf.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Sw.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wj{constructor(e){this.key=e}}class vj{constructor(e){this.key=e}}class eP{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Tr(),this.mutatedKeys=Tr(),this.eu=hI(e),this.tu=new Xh(this.eu)}get nu(){return this.Ya}ru(e,t){const n=t?t.iu:new mC,s=t?t.tu:this.tu;let o=t?t.mutatedKeys:this.mutatedKeys,l=s,c=!1;const d=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,h=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal(((g,x)=>{const B=s.get(g),w=rm(this.query,x)?x:null,I=!!B&&this.mutatedKeys.has(B.key),j=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let M=!1;B&&w?B.data.isEqual(w.data)?I!==j&&(n.track({type:3,doc:w}),M=!0):this.su(B,w)||(n.track({type:2,doc:w}),M=!0,(d&&this.eu(w,d)>0||h&&this.eu(w,h)<0)&&(c=!0)):!B&&w?(n.track({type:0,doc:w}),M=!0):B&&!w&&(n.track({type:1,doc:B}),M=!0,(d||h)&&(c=!0)),M&&(w?(l=l.add(w),o=j?o.add(g):o.delete(g)):(l=l.delete(g),o=o.delete(g)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const g=this.query.limitType==="F"?l.last():l.first();l=l.delete(g.key),o=o.delete(g.key),n.track({type:1,doc:g})}return{tu:l,iu:n,Cs:c,mutatedKeys:o}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,s){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const l=e.iu.ya();l.sort(((g,x)=>(function(w,I){const j=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Lt(20277,{Rt:M})}};return j(w)-j(I)})(g.type,x.type)||this.eu(g.doc,x.doc))),this.ou(n),s=s??!1;const c=t&&!s?this._u():[],d=this.Xa.size===0&&this.current&&!s?1:0,h=d!==this.Za;return this.Za=d,l.length!==0||h?{snapshot:new Bf(this.query,e.tu,o,l,e.mutatedKeys,d===0,h,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:c}:{au:c}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new mC,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Tr(),this.tu.forEach((n=>{this.uu(n.key)&&(this.Xa=this.Xa.add(n.key))}));const t=[];return e.forEach((n=>{this.Xa.has(n)||t.push(new vj(n))})),this.Xa.forEach((n=>{e.has(n)||t.push(new wj(n))})),t}cu(e){this.Ya=e.Qs,this.Xa=Tr();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Bf.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Lf="SyncEngine";class tP{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class rP{constructor(e){this.key=e,this.hu=!1}}class nP{constructor(e,t,n,s,o,l){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=s,this.currentUser=o,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new dc((c=>uI(c)),Ux),this.Iu=new Map,this.Eu=new Set,this.du=new Rn(mt.comparator),this.Au=new Map,this.Ru=new Zv,this.Vu={},this.mu=new Map,this.fu=Sd.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function sP(r,e,t=!0){const n=Px(r);let s;const o=n.Tu.get(e);return o?(n.sharedClientState.addLocalQueryTarget(o.targetId),s=o.view.lu()):s=await Bj(n,e,t,!0),s}async function aP(r,e){const t=Px(r);await Bj(t,e,!0,!1)}async function Bj(r,e,t,n){const s=await $1(r.localStore,uo(e)),o=s.targetId,l=r.sharedClientState.addLocalQueryTarget(o,t);let c;return n&&(c=await f5(r,e,o,l==="current",s.resumeToken)),r.isPrimaryClient&&t&&Mx(r.remoteStore,s),c}async function f5(r,e,t,n,s){r.pu=(x,B,w)=>(async function(j,M,L,X){let V=M.view.ru(L);V.Cs&&(V=await Nw(j.localStore,M.query,!1).then((({documents:R})=>M.view.ru(R,V))));const z=X&&X.targetChanges.get(M.targetId),ne=X&&X.targetMismatches.get(M.targetId)!=null,le=M.view.applyChanges(V,j.isPrimaryClient,z,ne);return Iw(j,M.targetId,le.au),le.snapshot})(r,x,B,w);const o=await Nw(r.localStore,e,!0),l=new eP(e,o.Qs),c=l.ru(o.documents),d=am.createSynthesizedTargetChangeForCurrentChange(t,n&&r.onlineState!=="Offline",s),h=l.applyChanges(c,r.isPrimaryClient,d);Iw(r,t,h.au);const g=new tP(e,t,l);return r.Tu.set(e,g),r.Iu.has(t)?r.Iu.get(t).push(e):r.Iu.set(t,[e]),h.snapshot}async function iP(r,e,t){const n=zt(r),s=n.Tu.get(e),o=n.Iu.get(s.targetId);if(o.length>1)return n.Iu.set(s.targetId,o.filter((l=>!Ux(l,e)))),void n.Tu.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(s.targetId),n.sharedClientState.isActiveQueryTarget(s.targetId)||await wf(n.localStore,s.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(s.targetId),t&&vf(n.remoteStore,s.targetId),Nf(n,s.targetId)})).catch(Su)):(Nf(n,s.targetId),await wf(n.localStore,s.targetId,!0))}async function oP(r,e){const t=zt(r),n=t.Tu.get(e),s=t.Iu.get(n.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(n.targetId),vf(t.remoteStore,n.targetId))}async function AP(r,e,t){const n=x5(r);try{const s=await(function(l,c){const d=zt(l),h=pn.now(),g=c.reduce(((w,I)=>w.add(I.key)),Tr());let x,B;return d.persistence.runTransaction("Locally write mutations","readwrite",(w=>{let I=lo(),j=Tr();return d.Ns.getEntries(w,g).next((M=>{I=M,I.forEach(((L,X)=>{X.isValidDocument()||(j=j.add(L))}))})).next((()=>d.localDocuments.getOverlayedDocuments(w,I))).next((M=>{x=M;const L=[];for(const X of c){const V=jO(X,x.get(X.key).overlayedDocument);V!=null&&L.push(new hc(X.key,V,tI(V.value.mapValue),ta.exists(!0)))}return d.mutationQueue.addMutationBatch(w,h,L,c)})).next((M=>{B=M;const L=M.applyToLocalDocumentSet(x,j);return d.documentOverlayCache.saveOverlays(w,M.batchId,L)}))})).then((()=>({batchId:B.batchId,changes:gI(x)})))})(n.localStore,e);n.sharedClientState.addPendingMutation(s.batchId),(function(l,c,d){let h=l.Vu[l.currentUser.toKey()];h||(h=new Rn(br)),h=h.insert(c,d),l.Vu[l.currentUser.toKey()]=h})(n,s.batchId,t),await Tu(n,s.changes),await kf(n.remoteStore)}catch(s){const o=l5(s,"Failed to persist write");t.reject(o)}}async function Nj(r,e){const t=zt(r);try{const n=await CM(t.localStore,e);e.targetChanges.forEach(((s,o)=>{const l=t.Au.get(o);l&&(Xt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?l.hu=!0:s.modifiedDocuments.size>0?Xt(l.hu,14607):s.removedDocuments.size>0&&(Xt(l.hu,42227),l.hu=!1))})),await Tu(t,n,e)}catch(n){await Su(n)}}function bC(r,e,t){const n=zt(r);if(n.isPrimaryClient&&t===0||!n.isPrimaryClient&&t===1){const s=[];n.Tu.forEach(((o,l)=>{const c=l.view.va(e);c.snapshot&&s.push(c.snapshot)})),(function(l,c){const d=zt(l);d.onlineState=c;let h=!1;d.queries.forEach(((g,x)=>{for(const B of x.Sa)B.va(c)&&(h=!0)})),h&&d5(d)})(n.eventManager,e),s.length&&n.Pu.H_(s),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function lP(r,e,t){const n=zt(r);n.sharedClientState.updateQueryState(e,"rejected",t);const s=n.Au.get(e),o=s&&s.key;if(o){let l=new Rn(mt.comparator);l=l.insert(o,ys.newNoDocument(o,sr.min()));const c=Tr().add(o),d=new sm(sr.min(),new Map,new Rn(br),l,c);await Nj(n,d),n.du=n.du.remove(o),n.Au.delete(e),p5(n)}else await wf(n.localStore,e,!1).then((()=>Nf(n,e,t))).catch(Su)}async function cP(r,e){const t=zt(r),n=e.batch.batchId;try{const s=await _M(t.localStore,e);m5(t,n,null),g5(t,n),t.sharedClientState.updateMutationState(n,"acknowledged"),await Tu(t,s)}catch(s){await Su(s)}}async function uP(r,e,t){const n=zt(r);try{const s=await(function(l,c){const d=zt(l);return d.persistence.runTransaction("Reject batch","readwrite-primary",(h=>{let g;return d.mutationQueue.lookupMutationBatch(h,c).next((x=>(Xt(x!==null,37113),g=x.keys(),d.mutationQueue.removeMutationBatch(h,x)))).next((()=>d.mutationQueue.performConsistencyCheck(h))).next((()=>d.documentOverlayCache.removeOverlaysForBatchId(h,g,c))).next((()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,g))).next((()=>d.localDocuments.getDocuments(h,g)))}))})(n.localStore,e);m5(n,e,t),g5(n,e),n.sharedClientState.updateMutationState(e,"rejected",t),await Tu(n,s)}catch(s){await Su(s)}}function g5(r,e){(r.mu.get(e)||[]).forEach((t=>{t.resolve()})),r.mu.delete(e)}function m5(r,e,t){const n=zt(r);let s=n.Vu[n.currentUser.toKey()];if(s){const o=s.get(e);o&&(t?o.reject(t):o.resolve(),s=s.remove(e)),n.Vu[n.currentUser.toKey()]=s}}function Nf(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const n of r.Iu.get(e))r.Tu.delete(n),t&&r.Pu.yu(n,t);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((n=>{r.Ru.containsKey(n)||_j(r,n)}))}function _j(r,e){r.Eu.delete(e.path.canonicalString());const t=r.du.get(e);t!==null&&(vf(r.remoteStore,t),r.du=r.du.remove(e),r.Au.delete(t),p5(r))}function Iw(r,e,t){for(const n of t)n instanceof wj?(r.Ru.addReference(n.key,e),dP(r,n)):n instanceof vj?(ot(Lf,"Document no longer in limbo: "+n.key),r.Ru.removeReference(n.key,e),r.Ru.containsKey(n.key)||_j(r,n.key)):Lt(19791,{wu:n})}function dP(r,e){const t=e.key,n=t.path.canonicalString();r.du.get(t)||r.Eu.has(n)||(ot(Lf,"New document in limbo: "+t),r.Eu.add(n),p5(r))}function p5(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const t=new mt(on.fromString(e)),n=r.fu.next();r.Au.set(n,new rP(t)),r.du=r.du.insert(t,n),Mx(r.remoteStore,new Zl(uo(tm(t.path)),n,"TargetPurposeLimboResolution",Hi.ce))}}async function Tu(r,e,t){const n=zt(r),s=[],o=[],l=[];n.Tu.isEmpty()||(n.Tu.forEach(((c,d)=>{l.push(n.pu(d,e,t).then((h=>{var g;if((h||t)&&n.isPrimaryClient){const x=h?!h.fromCache:(g=t==null?void 0:t.targetChanges.get(d.targetId))==null?void 0:g.current;n.sharedClientState.updateQueryState(d.targetId,x?"current":"not-current")}if(h){s.push(h);const x=r5.As(d.targetId,h);o.push(x)}})))})),await Promise.all(l),n.Pu.H_(s),await(async function(d,h){const g=zt(d);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",(x=>Ue.forEach(h,(B=>Ue.forEach(B.Es,(w=>g.persistence.referenceDelegate.addReference(x,B.targetId,w))).next((()=>Ue.forEach(B.ds,(w=>g.persistence.referenceDelegate.removeReference(x,B.targetId,w)))))))))}catch(x){if(!Iu(x))throw x;ot(n5,"Failed to update sequence numbers: "+x)}for(const x of h){const B=x.targetId;if(!x.fromCache){const w=g.Ms.get(B),I=w.snapshotVersion,j=w.withLastLimboFreeSnapshotVersion(I);g.Ms=g.Ms.insert(B,j)}}})(n.localStore,o))}async function hP(r,e){const t=zt(r);if(!t.currentUser.isEqual(e)){ot(Lf,"User change. New user:",e.toKey());const n=await sj(t.localStore,e);t.currentUser=e,(function(o,l){o.mu.forEach((c=>{c.forEach((d=>{d.reject(new ut(qe.CANCELLED,l))}))})),o.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await Tu(t,n.Ls)}}function fP(r,e){const t=zt(r),n=t.Au.get(e);if(n&&n.hu)return Tr().add(n.key);{let s=Tr();const o=t.Iu.get(e);if(!o)return s;for(const l of o){const c=t.Tu.get(l);s=s.unionWith(c.view.nu)}return s}}async function gP(r,e){const t=zt(r),n=await Nw(t.localStore,e.query,!0),s=e.view.cu(n);return t.isPrimaryClient&&Iw(t,e.targetId,s.au),s}async function mP(r,e){const t=zt(r);return oj(t.localStore,e).then((n=>Tu(t,n)))}async function pP(r,e,t,n){const s=zt(r),o=await(function(c,d){const h=zt(c),g=zt(h.mutationQueue);return h.persistence.runTransaction("Lookup mutation documents","readonly",(x=>g.er(x,d).next((B=>B?h.localDocuments.getDocuments(x,B):Ue.resolve(null)))))})(s.localStore,e);o!==null?(t==="pending"?await kf(s.remoteStore):t==="acknowledged"||t==="rejected"?(m5(s,e,n||null),g5(s,e),(function(c,d){zt(zt(c).mutationQueue).ir(d)})(s.localStore,e)):Lt(6720,"Unknown batchState",{Su:t}),await Tu(s,o)):ot(Lf,"Cannot apply mutation batch with id: "+e)}async function xP(r,e){const t=zt(r);if(Px(t),x5(t),e===!0&&t.gu!==!0){const n=t.sharedClientState.getAllActiveQueryTargets(),s=await yC(t,n.toArray());t.gu=!0,await Ew(t.remoteStore,!0);for(const o of s)Mx(t.remoteStore,o)}else if(e===!1&&t.gu!==!1){const n=[];let s=Promise.resolve();t.Iu.forEach(((o,l)=>{t.sharedClientState.isLocalQueryTarget(l)?n.push(l):s=s.then((()=>(Nf(t,l),wf(t.localStore,l,!0)))),vf(t.remoteStore,l)})),await s,await yC(t,n),(function(l){const c=zt(l);c.Au.forEach(((d,h)=>{vf(c.remoteStore,h)})),c.Ru.Jr(),c.Au=new Map,c.du=new Rn(mt.comparator)})(t),t.gu=!1,await Ew(t.remoteStore,!1)}}async function yC(r,e,t){const n=zt(r),s=[],o=[];for(const l of e){let c;const d=n.Iu.get(l);if(d&&d.length!==0){c=await $1(n.localStore,uo(d[0]));for(const h of d){const g=n.Tu.get(h),x=await gP(n,g);x.snapshot&&o.push(x.snapshot)}}else{const h=await ij(n.localStore,l);c=await $1(n.localStore,h),await f5(n,Cj(h),l,!1,c.resumeToken)}s.push(c)}return n.Pu.H_(o),s}function Cj(r){return lI(r.path,r.collectionGroup,r.orderBy,r.filters,r.limit,"F",r.startAt,r.endAt)}function bP(r){return(function(t){return zt(zt(t).persistence).Ts()})(zt(r).localStore)}async function yP(r,e,t,n){const s=zt(r);if(s.gu)return void ot(Lf,"Ignoring unexpected query state notification.");const o=s.Iu.get(e);if(o&&o.length>0)switch(t){case"current":case"not-current":{const l=await oj(s.localStore,dI(o[0])),c=sm.createSynthesizedRemoteEventForCurrentChange(e,t==="current",Fs.EMPTY_BYTE_STRING);await Tu(s,l,c);break}case"rejected":await wf(s.localStore,e,!0),Nf(s,e,n);break;default:Lt(64155,t)}}async function wP(r,e,t){const n=Px(r);if(n.gu){for(const s of e){if(n.Iu.has(s)&&n.sharedClientState.isActiveQueryTarget(s)){ot(Lf,"Adding an already active target "+s);continue}const o=await ij(n.localStore,s),l=await $1(n.localStore,o);await f5(n,Cj(o),l.targetId,!1,l.resumeToken),Mx(n.remoteStore,l)}for(const s of t)n.Iu.has(s)&&await wf(n.localStore,s,!1).then((()=>{vf(n.remoteStore,s),Nf(n,s)})).catch(Su)}}function Px(r){const e=zt(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=Nj.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=fP.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=lP.bind(null,e),e.Pu.H_=JM.bind(null,e.eventManager),e.Pu.yu=ZM.bind(null,e.eventManager),e}function x5(r){const e=zt(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=cP.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=uP.bind(null,e),e}class Lg{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Dx(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return nj(this.persistence,new rj,e.initialUser,this.serializer)}Cu(e){return new e5(Rx.mi,this.serializer)}Du(e){return new dj}async terminate(){var e,t;(e=this.gcScheduler)==null||e.stop(),(t=this.indexBackfillerScheduler)==null||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Lg.provider={build:()=>new Lg};class vP extends Lg{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Xt(this.persistence.referenceDelegate instanceof G1,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new YI(n,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?ei.withCacheSize(this.cacheSizeBytes):ei.DEFAULT;return new e5((n=>G1.mi(n,t)),this.serializer)}}class Ej extends Lg{constructor(e,t,n){super(),this.xu=e,this.cacheSizeBytes=t,this.forceOwnership=n,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xu.initialize(this,e),await x5(this.xu.syncEngine),await kf(this.xu.remoteStore),await this.persistence.Ji((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}vu(e){return nj(this.persistence,new rj,e.initialUser,this.serializer)}Fu(e,t){const n=this.persistence.referenceDelegate.garbageCollector;return new YI(n,e.asyncQueue,t)}Mu(e,t){const n=new kD(t,this.persistence);return new FD(e.asyncQueue,n)}Cu(e){const t=tj(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=this.cacheSizeBytes!==void 0?ei.withCacheSize(this.cacheSizeBytes):ei.DEFAULT;return new t5(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,hj(),u1(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(e){return new dj}}class BP extends Ej{constructor(e,t){super(e,t,!1),this.xu=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.xu.syncEngine;this.sharedClientState instanceof O2&&(this.sharedClientState.syncEngine={Co:pP.bind(null,t),vo:yP.bind(null,t),Fo:wP.bind(null,t),Ts:bP.bind(null,t),Do:mP.bind(null,t)},await this.sharedClientState.start()),await this.persistence.Ji((async n=>{await xP(this.xu.syncEngine,n),this.gcScheduler&&(n&&!this.gcScheduler.started?this.gcScheduler.start():n||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(n&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():n||this.indexBackfillerScheduler.stop())}))}Du(e){const t=hj();if(!O2.v(t))throw new ut(qe.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const n=tj(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new O2(t,e.asyncQueue,n,e.clientId,e.initialUser)}}class Rg{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>bC(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=hP.bind(null,this.syncEngine),await Ew(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new WM})()}createDatastore(e){const t=Dx(e.databaseInfo.databaseId),n=(function(o){return new FM(o)})(e.databaseInfo);return(function(o,l,c,d){return new RM(o,l,c,d)})(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return(function(n,s,o,l,c){return new OM(n,s,o,l,c)})(this.localStore,this.datastore,e.asyncQueue,(t=>bC(this.syncEngine,t,0)),(function(){return hC.v()?new hC:new IM})())}createSyncEngine(e,t){return(function(s,o,l,c,d,h,g){const x=new nP(s,o,l,c,d,h);return g&&(x.gu=!0),x})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await(async function(s){const o=zt(s);ot(Id,"RemoteStore shutting down."),o.Ea.add(5),await im(o),o.Aa.shutdown(),o.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(t=this.eventManager)==null||t.terminate()}}Rg.provider={build:()=>new Rg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b5{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ts("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nu="FirestoreClient";class NP{constructor(e,t,n,s,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=s,this.user=Za.UNAUTHENTICATED,this.clientId=Uv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(n,(async l=>{ot(Nu,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(n,(l=>(ot(Nu,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ul;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=l5(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function P2(r,e){r.asyncQueue.verifyOperationInProgress(),ot(Nu,"Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let n=t.initialUser;r.setCredentialChangeListener((async s=>{n.isEqual(s)||(await sj(e.localStore,s),n=s)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function wC(r,e){r.asyncQueue.verifyOperationInProgress();const t=await _P(r);ot(Nu,"Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener((n=>gC(e.remoteStore,n))),r.setAppCheckTokenChangeListener(((n,s)=>gC(e.remoteStore,s))),r._onlineComponents=e}async function _P(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ot(Nu,"Using user provided OfflineComponentProvider");try{await P2(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(s){return s.name==="FirebaseError"?s.code===qe.FAILED_PRECONDITION||s.code===qe.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(t))throw t;_g("Error using user provided cache. Falling back to memory cache: "+t),await P2(r,new Lg)}}else ot(Nu,"Using default OfflineComponentProvider"),await P2(r,new vP(void 0));return r._offlineComponents}async function Sj(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ot(Nu,"Using user provided OnlineComponentProvider"),await wC(r,r._uninitializedComponentsProvider._online)):(ot(Nu,"Using default OnlineComponentProvider"),await wC(r,new Rg))),r._onlineComponents}function CP(r){return Sj(r).then((e=>e.syncEngine))}async function J1(r){const e=await Sj(r),t=e.eventManager;return t.onListen=sP.bind(null,e.syncEngine),t.onUnlisten=iP.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=aP.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=oP.bind(null,e.syncEngine),t}function EP(r,e,t={}){const n=new ul;return r.asyncQueue.enqueueAndForget((async()=>(function(o,l,c,d,h){const g=new b5({next:B=>{g.Nu(),l.enqueueAndForget((()=>u5(o,x)));const w=B.docs.has(c);!w&&B.fromCache?h.reject(new ut(qe.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&B.fromCache&&d&&d.source==="server"?h.reject(new ut(qe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(B)},error:B=>h.reject(B)}),x=new h5(tm(c.path),g,{includeMetadataChanges:!0,qa:!0});return c5(o,x)})(await J1(r),r.asyncQueue,e,t,n))),n.promise}function Ij(r,e,t={}){const n=new ul;return r.asyncQueue.enqueueAndForget((async()=>(function(o,l,c,d,h){const g=new b5({next:B=>{g.Nu(),l.enqueueAndForget((()=>u5(o,x))),B.fromCache&&d.source==="server"?h.reject(new ut(qe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(B)},error:B=>h.reject(B)}),x=new h5(c,g,{includeMetadataChanges:!0,qa:!0});return c5(o,x)})(await J1(r),r.asyncQueue,e,t,n))),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jj(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vC=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SP="firestore.googleapis.com",BC=!0;class NC{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ut(qe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=SP,this.ssl=BC}else this.host=e.host,this.ssl=e.ssl??BC;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=zI;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<XI)throw new ut(qe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}ID("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=jj(e.experimentalLongPollingOptions??{}),(function(n){if(n.timeoutSeconds!==void 0){if(isNaN(n.timeoutSeconds))throw new ut(qe.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (must not be NaN)`);if(n.timeoutSeconds<5)throw new ut(qe.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (minimum allowed value is 5)`);if(n.timeoutSeconds>30)throw new ut(qe.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(n,s){return n.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class y5{constructor(e,t,n,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new NC({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ut(qe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ut(qe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new NC(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(n){if(!n)return new yD;switch(n.type){case"firstParty":return new BD(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new ut(qe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const n=vC.get(t);n&&(ot("ComponentProvider","Removing Datastore"),vC.delete(t),n.terminate())})(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new ml(this.firestore,e,this._query)}}class ws{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new mu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ws(this.firestore,e,this._key)}toJSON(){return{type:ws._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,n){if(Jg(t,ws._jsonSchema))return new ws(e,n||null,new mt(on.fromString(t.referencePath)))}}ws._jsonSchemaVersion="firestore/documentReference/1.0",ws._jsonSchema={type:Hs("string",ws._jsonSchemaVersion),referencePath:Hs("string")};class mu extends ml{constructor(e,t,n){super(e,t,tm(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ws(this.firestore,null,new mt(e))}withConverter(e){return new mu(this.firestore,e,this._path)}}function bn(r,e,...t){if(r=ss(r),S6("collection","path",e),r instanceof y5){const n=on.fromString(e,...t);return f_(n),new mu(r,null,n)}{if(!(r instanceof ws||r instanceof mu))throw new ut(qe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=r._path.child(on.fromString(e,...t));return f_(n),new mu(r.firestore,null,n)}}function Da(r,e,...t){if(r=ss(r),arguments.length===1&&(e=Uv.newId()),S6("doc","path",e),r instanceof y5){const n=on.fromString(e,...t);return h_(n),new ws(r,null,new mt(n))}{if(!(r instanceof ws||r instanceof mu))throw new ut(qe.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=r._path.child(on.fromString(e,...t));return h_(n),new ws(r.firestore,r instanceof mu?r.converter:null,new mt(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _C="AsyncQueue";class CC{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new fj(this,"async_queue_retry"),this._c=()=>{const n=u1();n&&ot(_C,"Visibility state changed to "+n.visibilityState),this.M_.w_()},this.ac=e;const t=u1();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=u1();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new ul;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Iu(e))throw e;ot(_C,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((n=>{throw this.nc=n,this.rc=!1,Ts("INTERNAL UNHANDLED ERROR: ",EC(n)),n})).then((n=>(this.rc=!1,n))))));return this.ac=t,t}enqueueAfterDelay(e,t,n){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const s=A5.createAndSchedule(this,e,t,n,(o=>this.hc(o)));return this.tc.push(s),s}uc(){this.nc&&Lt(47125,{Pc:EC(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,n)=>t.targetTimeMs-n.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function EC(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SC(r){return(function(t,n){if(typeof t!="object"||t===null)return!1;const s=t;for(const o of n)if(o in s&&typeof s[o]=="function")return!0;return!1})(r,["next","error","complete"])}class wA extends y5{constructor(e,t,n,s){super(e,t,n,s),this.type="firestore",this._queue=new CC,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new CC(e),this._firestoreClient=void 0,await e}}}function IP(r,e,t){t||(t=D1);const n=Qd(r,"firestore");if(n.isInitialized(t)){const s=n.getImmediate({identifier:t}),o=n.getOptions(t);if(yu(o,e))return s;throw new ut(qe.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(e.cacheSizeBytes!==void 0&&e.localCache!==void 0)throw new ut(qe.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(e.cacheSizeBytes!==void 0&&e.cacheSizeBytes!==-1&&e.cacheSizeBytes<XI)throw new ut(qe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return e.host&&Sf(e.host)&&ES(e.host),n.initialize({options:e,instanceIdentifier:t})}function Rf(r){if(r._terminated)throw new ut(qe.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||jP(r),r._firestoreClient}function jP(r){var n,s,o;const e=r._freezeSettings(),t=(function(c,d,h,g){return new AO(c,d,h,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,jj(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)})(r._databaseId,((n=r._app)==null?void 0:n.options.appId)||"",r._persistenceKey,e);r._componentsProvider||(s=e.localCache)!=null&&s._offlineComponentProvider&&((o=e.localCache)!=null&&o._onlineComponentProvider)&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new NP(r._authCredentials,r._appCheckCredentials,r._queue,t,r._componentsProvider&&(function(c){const d=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(d),_online:d}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Oo(Fs.fromBase64String(e))}catch(t){throw new ut(qe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Oo(Fs.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Oo._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Jg(e,Oo._jsonSchema))return Oo.fromBase64String(e.bytes)}}Oo._jsonSchemaVersion="firestore/bytes/1.0",Oo._jsonSchema={type:Hs("string",Oo._jsonSchemaVersion),bytes:Hs("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class om{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ut(qe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new us(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ut(qe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ut(qe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return br(this._lat,e._lat)||br(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:dl._jsonSchemaVersion}}static fromJSON(e){if(Jg(e,dl._jsonSchema))return new dl(e.latitude,e.longitude)}}dl._jsonSchemaVersion="firestore/geoPoint/1.0",dl._jsonSchema={type:Hs("string",dl._jsonSchemaVersion),latitude:Hs("number"),longitude:Hs("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(n,s){if(n.length!==s.length)return!1;for(let o=0;o<n.length;++o)if(n[o]!==s[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:hl._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Jg(e,hl._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new hl(e.vectorValues);throw new ut(qe.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}hl._jsonSchemaVersion="firestore/vectorValue/1.0",hl._jsonSchema={type:Hs("string",hl._jsonSchemaVersion),vectorValues:Hs("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TP=/^__.*__$/;class UP{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return this.fieldMask!==null?new hc(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ff(e,this.data,t,this.fieldTransforms)}}class Tj{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new hc(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Uj(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Lt(40011,{Ac:r})}}class w5{constructor(e,t,n,s,o,l){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=s,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new w5({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var s;const t=(s=this.path)==null?void 0:s.child(e),n=this.Vc({path:t,fc:!1});return n.gc(e),n}yc(e){var s;const t=(s=this.path)==null?void 0:s.child(e),n=this.Vc({path:t,fc:!1});return n.Rc(),n}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Z1(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Uj(this.Ac)&&TP.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class FP{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Dx(e)}Cc(e,t,n,s=!1){return new w5({Ac:e,methodName:t,Dc:n,path:us.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function lm(r){const e=r._freezeSettings(),t=Dx(r._databaseId);return new FP(r._databaseId,!!e.ignoreUndefinedProperties,t)}function v5(r,e,t,n,s,o={}){const l=r.Cc(o.merge||o.mergeFields?2:0,e,t,s);_5("Data must be an object, but it was:",l,n);const c=Qj(n,l);let d,h;if(o.merge)d=new Vi(l.fieldMask),h=l.fieldTransforms;else if(o.mergeFields){const g=[];for(const x of o.mergeFields){const B=jw(e,x,t);if(!l.contains(B))throw new ut(qe.INVALID_ARGUMENT,`Field '${B}' is specified in your field mask but missing from your input data.`);Rj(g,B)||g.push(B)}d=new Vi(g),h=l.fieldTransforms.filter((x=>d.covers(x.field)))}else d=null,h=l.fieldTransforms;return new UP(new ri(c),d,h)}class Hx extends Am{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Hx}}class B5 extends Am{_toFieldTransform(e){return new zv(e.path,new mf)}isEqual(e){return e instanceof B5}}class N5 extends Am{constructor(e,t){super(e),this.Fc=t}_toFieldTransform(e){const t=new bf(e.serializer,xI(e.serializer,this.Fc));return new zv(e.path,t)}isEqual(e){return e instanceof N5&&this.Fc===e.Fc}}function Fj(r,e,t,n){const s=r.Cc(1,e,t);_5("Data must be an object, but it was:",s,n);const o=[],l=ri.empty();ju(n,((d,h)=>{const g=C5(e,d,t);h=ss(h);const x=s.yc(g);if(h instanceof Hx)o.push(g);else{const B=cm(h,x);B!=null&&(o.push(g),l.set(g,B))}}));const c=new Vi(o);return new Tj(l,c,s.fieldTransforms)}function kj(r,e,t,n,s,o){const l=r.Cc(1,e,t),c=[jw(e,n,t)],d=[s];if(o.length%2!=0)throw new ut(qe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let B=0;B<o.length;B+=2)c.push(jw(e,o[B])),d.push(o[B+1]);const h=[],g=ri.empty();for(let B=c.length-1;B>=0;--B)if(!Rj(h,c[B])){const w=c[B];let I=d[B];I=ss(I);const j=l.yc(w);if(I instanceof Hx)h.push(w);else{const M=cm(I,j);M!=null&&(h.push(w),g.set(w,M))}}const x=new Vi(h);return new Tj(g,x,l.fieldTransforms)}function kP(r,e,t,n=!1){return cm(t,r.Cc(n?4:3,e))}function cm(r,e){if(Lj(r=ss(r)))return _5("Unsupported field value:",e,r),Qj(r,e);if(r instanceof Am)return(function(n,s){if(!Uj(s.Ac))throw s.Sc(`${n._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${n._methodName}() is not currently supported inside arrays`);const o=n._toFieldTransform(s);o&&s.fieldTransforms.push(o)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(n,s){const o=[];let l=0;for(const c of n){let d=cm(c,s.wc(l));d==null&&(d={nullValue:"NULL_VALUE"}),o.push(d),l++}return{arrayValue:{values:o}}})(r,e)}return(function(n,s){if((n=ss(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return xI(s.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const o=pn.fromDate(n);return{timestampValue:yf(s.serializer,o)}}if(n instanceof pn){const o=new pn(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:yf(s.serializer,o)}}if(n instanceof dl)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Oo)return{bytesValue:II(s.serializer,n._byteString)};if(n instanceof ws){const o=s.databaseId,l=n.firestore._databaseId;if(!l.isEqual(o))throw s.Sc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Yv(n.firestore._databaseId||s.databaseId,n._key.path)}}if(n instanceof hl)return(function(l,c){return{mapValue:{fields:{[Mv]:{stringValue:Pv},[df]:{arrayValue:{values:l.toArray().map((h=>{if(typeof h!="number")throw c.Sc("VectorValues must only contain numeric values.");return Kv(c.serializer,h)}))}}}}}})(n,s);throw s.Sc(`Unsupported field value: ${Nx(n)}`)})(r,e)}function Qj(r,e){const t={};return q6(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ju(r,((n,s)=>{const o=cm(s,e.mc(n));o!=null&&(t[n]=o)})),{mapValue:{fields:t}}}function Lj(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof pn||r instanceof dl||r instanceof Oo||r instanceof ws||r instanceof Am||r instanceof hl)}function _5(r,e,t){if(!Lj(t)||!I6(t)){const n=Nx(t);throw n==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+n)}}function jw(r,e,t){if((e=ss(e))instanceof om)return e._internalPath;if(typeof e=="string")return C5(r,e);throw Z1("Field path arguments must be of type string or ",r,!1,void 0,t)}const QP=new RegExp("[~\\*/\\[\\]]");function C5(r,e,t){if(e.search(QP)>=0)throw Z1(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new om(...e.split("."))._internalPath}catch{throw Z1(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function Z1(r,e,t,n,s){const o=n&&!n.isEmpty(),l=s!==void 0;let c=`Function ${e}() called with invalid data`;t&&(c+=" (via `toFirestore()`)"),c+=". ";let d="";return(o||l)&&(d+=" (found",o&&(d+=` in field ${n}`),l&&(d+=` in document ${s}`),d+=")"),new ut(qe.INVALID_ARGUMENT,c+r+d)}function Rj(r,e){return r.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dj{constructor(e,t,n,s,o){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new ws(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new LP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Vx("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class LP extends Dj{data(){return super.data()}}function Vx(r,e){return typeof e=="string"?C5(r,e):e instanceof om?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oj(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ut(qe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class E5{}class S5 extends E5{}function ya(r,e,...t){let n=[];e instanceof E5&&n.push(e),n=n.concat(t),(function(o){const l=o.filter((d=>d instanceof I5)).length,c=o.filter((d=>d instanceof Kx)).length;if(l>1||l>0&&c>0)throw new ut(qe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(n);for(const s of n)r=s._apply(r);return r}class Kx extends S5{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new Kx(e,t,n)}_apply(e){const t=this._parse(e);return Mj(e._query,t),new ml(e.firestore,e.converter,mw(e._query,t))}_parse(e){const t=lm(e.firestore);return(function(o,l,c,d,h,g,x){let B;if(h.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new ut(qe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){jC(x,g);const I=[];for(const j of x)I.push(IC(d,o,j));B={arrayValue:{values:I}}}else B=IC(d,o,x)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||jC(x,g),B=kP(c,l,x,g==="in"||g==="not-in");return Hr.create(h,g,B)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function wa(r,e,t){const n=e,s=Vx("where",r);return Kx._create(s,n,t)}class I5 extends E5{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new I5(e,t)}_parse(e){const t=this._queryConstraints.map((n=>n._parse(e))).filter((n=>n.getFilters().length>0));return t.length===1?t[0]:xn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(s,o){let l=s;const c=o.getFlattenedFilters();for(const d of c)Mj(l,d),l=mw(l,d)})(e._query,t),new ml(e.firestore,e.converter,mw(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class j5 extends S5{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new j5(e,t)}_apply(e){const t=(function(s,o,l){if(s.startAt!==null)throw new ut(qe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new ut(qe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Qg(o,l)})(e._query,this._field,this._direction);return new ml(e.firestore,e.converter,(function(s,o){const l=s.explicitOrderBy.concat([o]);return new Uf(s.path,s.collectionGroup,l,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)})(e._query,t))}}function Df(r,e="asc"){const t=e,n=Vx("orderBy",r);return j5._create(n,t)}class T5 extends S5{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new T5(e,t,n)}_apply(e){return new ml(e.firestore,e.converter,P1(e._query,this._limit,this._limitType))}}function Of(r){return jD("limit",r),T5._create("limit",r,"F")}function IC(r,e,t){if(typeof(t=ss(t))=="string"){if(t==="")throw new ut(qe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!cI(e)&&t.indexOf("/")!==-1)throw new ut(qe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const n=e.path.child(on.fromString(t));if(!mt.isDocumentKey(n))throw new ut(qe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return Fg(r,new mt(n))}if(t instanceof ws)return Fg(r,t._key);throw new ut(qe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Nx(t)}.`)}function jC(r,e){if(!Array.isArray(r)||r.length===0)throw new ut(qe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Mj(r,e){const t=(function(s,o){for(const l of s)for(const c of l.getFlattenedFilters())if(o.indexOf(c.op)>=0)return c.op;return null})(r.filters,(function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new ut(qe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ut(qe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class RP{convertValue(e,t="none"){switch(wu(e)){case 0:return null;case 1:return e.booleanValue;case 2:return rs(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ac(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Lt(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const n={};return ju(e,((s,o)=>{n[s]=this.convertValue(o,t)})),n}convertVectorValue(e){var n,s,o;const t=(o=(s=(n=e.fields)==null?void 0:n[df].arrayValue)==null?void 0:s.values)==null?void 0:o.map((l=>rs(l.doubleValue)));return new hl(t)}convertGeoPoint(e){return new dl(rs(e.latitude),rs(e.longitude))}convertArray(e,t){return(e.values||[]).map((n=>this.convertValue(n,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=jx(e);return n==null?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Tg(e));default:return null}}convertTimestamp(e){const t=oc(e);return new pn(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=on.fromString(e);Xt(OI(n),9688,{name:e});const s=new Nd(n.get(1),n.get(3)),o=new mt(n.popFirst(5));return s.isEqual(t)||Ts(`Document ${o} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U5(r,e,t){let n;return n=r?t&&(t.merge||t.mergeFields)?r.toFirestore(e,t):r.toFirestore(e):e,n}class V0{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class gd extends Dj{constructor(e,t,n,s,o,l){super(e,t,n,s,l),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new d1(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(Vx("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ut(qe.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=gd._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}gd._jsonSchemaVersion="firestore/documentSnapshot/1.0",gd._jsonSchema={type:Hs("string",gd._jsonSchemaVersion),bundleSource:Hs("string","DocumentSnapshot"),bundleName:Hs("string"),bundle:Hs("string")};class d1 extends gd{data(e={}){return super.data(e)}}class pu{constructor(e,t,n,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new V0(s.hasPendingWrites,s.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new d1(this._firestore,this._userDataWriter,n.key,n,new V0(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ut(qe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(s,o){if(s._snapshot.oldDocs.isEmpty()){let l=0;return s._snapshot.docChanges.map((c=>{const d=new d1(s._firestore,s._userDataWriter,c.doc.key,c.doc,new V0(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);return c.doc,{type:"added",doc:d,oldIndex:-1,newIndex:l++}}))}{let l=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((c=>o||c.type!==3)).map((c=>{const d=new d1(s._firestore,s._userDataWriter,c.doc.key,c.doc,new V0(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);let h=-1,g=-1;return c.type!==0&&(h=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),g=l.indexOf(c.doc.key)),{type:DP(c.type),doc:d,oldIndex:h,newIndex:g}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ut(qe.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=pu._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Uv.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],n=[],s=[];return this.docs.forEach((o=>{o._document!==null&&(t.push(o._document),n.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),s.push(o.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function DP(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Lt(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OP(r){r=si(r,ws);const e=si(r.firestore,wA);return EP(Rf(e),r._key).then((t=>Hj(e,r,t)))}pu._jsonSchemaVersion="firestore/querySnapshot/1.0",pu._jsonSchema={type:Hs("string",pu._jsonSchemaVersion),bundleSource:Hs("string","QuerySnapshot"),bundleName:Hs("string"),bundle:Hs("string")};class zx extends RP{constructor(e){super(),this.firestore=e}convertBytes(e){return new Oo(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ws(this.firestore,null,t)}}function yi(r){r=si(r,ml);const e=si(r.firestore,wA),t=Rf(e),n=new zx(e);return Oj(r._query),Ij(t,r._query).then((s=>new pu(e,n,r,s)))}function Pj(r){r=si(r,ml);const e=si(r.firestore,wA),t=Rf(e),n=new zx(e);return Ij(t,r._query,{source:"server"}).then((s=>new pu(e,n,r,s)))}function qx(r,e,t){r=si(r,ws);const n=si(r.firestore,wA),s=U5(r.converter,e,t);return dm(n,[v5(lm(n),"setDoc",r._key,s,r.converter!==null,t).toMutation(r._key,ta.none())])}function _f(r,e,t,...n){r=si(r,ws);const s=si(r.firestore,wA),o=lm(s);let l;return l=typeof(e=ss(e))=="string"||e instanceof om?kj(o,"updateDoc",r._key,e,t,n):Fj(o,"updateDoc",r._key,e),dm(s,[l.toMutation(r._key,ta.exists(!0))])}function um(r){return dm(si(r.firestore,wA),[new nm(r._key,ta.none())])}function vA(r,e){const t=si(r.firestore,wA),n=Da(r),s=U5(r.converter,e);return dm(t,[v5(lm(r.firestore),"addDoc",n._key,s,r.converter!==null,{}).toMutation(n._key,ta.exists(!1))]).then((()=>n))}function MP(r,...e){var d,h,g;r=ss(r);let t={includeMetadataChanges:!1,source:"default"},n=0;typeof e[n]!="object"||SC(e[n])||(t=e[n++]);const s={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(SC(e[n])){const x=e[n];e[n]=(d=x.next)==null?void 0:d.bind(x),e[n+1]=(h=x.error)==null?void 0:h.bind(x),e[n+2]=(g=x.complete)==null?void 0:g.bind(x)}let o,l,c;if(r instanceof ws)l=si(r.firestore,wA),c=tm(r._key.path),o={next:x=>{e[n]&&e[n](Hj(l,r,x))},error:e[n+1],complete:e[n+2]};else{const x=si(r,ml);l=si(x.firestore,wA),c=x._query;const B=new zx(l);o={next:w=>{e[n]&&e[n](new pu(l,B,x,w))},error:e[n+1],complete:e[n+2]},Oj(r._query)}return(function(B,w,I,j){const M=new b5(j),L=new h5(w,M,I);return B.asyncQueue.enqueueAndForget((async()=>c5(await J1(B),L))),()=>{M.Nu(),B.asyncQueue.enqueueAndForget((async()=>u5(await J1(B),L)))}})(Rf(l),c,s,o)}function dm(r,e){return(function(n,s){const o=new ul;return n.asyncQueue.enqueueAndForget((async()=>AP(await CP(n),s,o))),o.promise})(Rf(r),e)}function Hj(r,e,t){const n=t.docs.get(e._key),s=new zx(r);return new gd(r,s,e._key,n,new V0(t.hasPendingWrites,t.fromCache),e.converter)}class PP{constructor(e){let t;this.kind="persistent",e!=null&&e.tabManager?(e.tabManager._initialize(e),t=e.tabManager):(t=zP(void 0),t._initialize(e)),this._onlineComponentProvider=t._onlineComponentProvider,this._offlineComponentProvider=t._offlineComponentProvider}toJSON(){return{kind:this.kind}}}function HP(r){return new PP(r)}class VP{constructor(e){this.forceOwnership=e,this.kind="persistentSingleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=Rg.provider,this._offlineComponentProvider={build:t=>new Ej(t,e==null?void 0:e.cacheSizeBytes,this.forceOwnership)}}}class KP{constructor(){this.kind="PersistentMultipleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=Rg.provider,this._offlineComponentProvider={build:t=>new BP(t,e==null?void 0:e.cacheSizeBytes)}}}function zP(r){return new VP(r==null?void 0:r.forceOwnership)}function qP(){return new KP}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GP{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=lm(e)}set(e,t,n){this._verifyNotCommitted();const s=H2(e,this._firestore),o=U5(s.converter,t,n),l=v5(this._dataReader,"WriteBatch.set",s._key,o,s.converter!==null,n);return this._mutations.push(l.toMutation(s._key,ta.none())),this}update(e,t,n,...s){this._verifyNotCommitted();const o=H2(e,this._firestore);let l;return l=typeof(t=ss(t))=="string"||t instanceof om?kj(this._dataReader,"WriteBatch.update",o._key,t,n,s):Fj(this._dataReader,"WriteBatch.update",o._key,t),this._mutations.push(l.toMutation(o._key,ta.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=H2(e,this._firestore);return this._mutations=this._mutations.concat(new nm(t._key,ta.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ut(qe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function H2(r,e){if((r=ss(r)).firestore!==e)throw new ut(qe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}function Ki(){return new B5("serverTimestamp")}function Tw(r){return new N5("increment",r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $P(r){return Rf(r=si(r,wA)),new GP(r,(e=>dm(r,e)))}(function(e,t=!0){(function(s){Tf=s})(If),fl(new bA("firestore",((n,{instanceIdentifier:s,options:o})=>{const l=n.getProvider("app").getImmediate(),c=new wA(new wD(n.getProvider("auth-internal")),new ND(l,n.getProvider("app-check-internal")),(function(h,g){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new ut(qe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Nd(h.options.projectId,g)})(l,s),l);return o={useFetchStreams:t,...o},c._setSettings(o),c}),"PUBLIC").setMultipleInstances(!0)),Vo(l_,c_,e),Vo(l_,c_,"esm2020")})();const Vj="@firebase/installations",F5="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kj=1e4,zj=`w:${F5}`,qj="FIS_v2",XP="https://firebaseinstallations.googleapis.com/v1",YP=3600*1e3,WP="installations",JP="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZP={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},jd=new kd(WP,JP,ZP);function Gj(r){return r instanceof NA&&r.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $j({projectId:r}){return`${XP}/projects/${r}/installations`}function Xj(r){return{token:r.token,requestStatus:2,expiresIn:tH(r.expiresIn),creationTime:Date.now()}}async function Yj(r,e){const n=(await e.json()).error;return jd.create("request-failed",{requestName:r,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function Wj({apiKey:r}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":r})}function eH(r,{refreshToken:e}){const t=Wj(r);return t.append("Authorization",rH(e)),t}async function Jj(r){const e=await r();return e.status>=500&&e.status<600?r():e}function tH(r){return Number(r.replace("s","000"))}function rH(r){return`${qj} ${r}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nH({appConfig:r,heartbeatServiceProvider:e},{fid:t}){const n=$j(r),s=Wj(r),o=e.getImmediate({optional:!0});if(o){const h=await o.getHeartbeatsHeader();h&&s.append("x-firebase-client",h)}const l={fid:t,authVersion:qj,appId:r.appId,sdkVersion:zj},c={method:"POST",headers:s,body:JSON.stringify(l)},d=await Jj(()=>fetch(n,c));if(d.ok){const h=await d.json();return{fid:h.fid||t,registrationStatus:2,refreshToken:h.refreshToken,authToken:Xj(h.authToken)}}else throw await Yj("Create Installation",d)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zj(r){return new Promise(e=>{setTimeout(e,r)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sH(r){return btoa(String.fromCharCode(...r)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aH=/^[cdef][\w-]{21}$/,Uw="";function iH(){try{const r=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(r),r[0]=112+r[0]%16;const t=oH(r);return aH.test(t)?t:Uw}catch{return Uw}}function oH(r){return sH(r).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gx(r){return`${r.appName}!${r.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eT=new Map;function tT(r,e){const t=Gx(r);rT(t,e),AH(t,e)}function rT(r,e){const t=eT.get(r);if(t)for(const n of t)n(e)}function AH(r,e){const t=lH();t&&t.postMessage({key:r,fid:e}),cH()}let cd=null;function lH(){return!cd&&"BroadcastChannel"in self&&(cd=new BroadcastChannel("[Firebase] FID Change"),cd.onmessage=r=>{rT(r.data.key,r.data.fid)}),cd}function cH(){eT.size===0&&cd&&(cd.close(),cd=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uH="firebase-installations-database",dH=1,Td="firebase-installations-store";let V2=null;function k5(){return V2||(V2=QS(uH,dH,{upgrade:(r,e)=>{switch(e){case 0:r.createObjectStore(Td)}}})),V2}async function ex(r,e){const t=Gx(r),s=(await k5()).transaction(Td,"readwrite"),o=s.objectStore(Td),l=await o.get(t);return await o.put(e,t),await s.done,(!l||l.fid!==e.fid)&&tT(r,e.fid),e}async function nT(r){const e=Gx(r),n=(await k5()).transaction(Td,"readwrite");await n.objectStore(Td).delete(e),await n.done}async function $x(r,e){const t=Gx(r),s=(await k5()).transaction(Td,"readwrite"),o=s.objectStore(Td),l=await o.get(t),c=e(l);return c===void 0?await o.delete(t):await o.put(c,t),await s.done,c&&(!l||l.fid!==c.fid)&&tT(r,c.fid),c}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q5(r){let e;const t=await $x(r.appConfig,n=>{const s=hH(n),o=fH(r,s);return e=o.registrationPromise,o.installationEntry});return t.fid===Uw?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function hH(r){const e=r||{fid:iH(),registrationStatus:0};return sT(e)}function fH(r,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(jd.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},n=gH(r,t);return{installationEntry:t,registrationPromise:n}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:mH(r)}:{installationEntry:e}}async function gH(r,e){try{const t=await nH(r,e);return ex(r.appConfig,t)}catch(t){throw Gj(t)&&t.customData.serverCode===409?await nT(r.appConfig):await ex(r.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function mH(r){let e=await TC(r.appConfig);for(;e.registrationStatus===1;)await Zj(100),e=await TC(r.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:n}=await Q5(r);return n||t}return e}function TC(r){return $x(r,e=>{if(!e)throw jd.create("installation-not-found");return sT(e)})}function sT(r){return pH(r)?{fid:r.fid,registrationStatus:0}:r}function pH(r){return r.registrationStatus===1&&r.registrationTime+Kj<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xH({appConfig:r,heartbeatServiceProvider:e},t){const n=bH(r,t),s=eH(r,t),o=e.getImmediate({optional:!0});if(o){const h=await o.getHeartbeatsHeader();h&&s.append("x-firebase-client",h)}const l={installation:{sdkVersion:zj,appId:r.appId}},c={method:"POST",headers:s,body:JSON.stringify(l)},d=await Jj(()=>fetch(n,c));if(d.ok){const h=await d.json();return Xj(h)}else throw await Yj("Generate Auth Token",d)}function bH(r,{fid:e}){return`${$j(r)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L5(r,e=!1){let t;const n=await $x(r.appConfig,o=>{if(!aT(o))throw jd.create("not-registered");const l=o.authToken;if(!e&&vH(l))return o;if(l.requestStatus===1)return t=yH(r,e),o;{if(!navigator.onLine)throw jd.create("app-offline");const c=NH(o);return t=wH(r,c),c}});return t?await t:n.authToken}async function yH(r,e){let t=await UC(r.appConfig);for(;t.authToken.requestStatus===1;)await Zj(100),t=await UC(r.appConfig);const n=t.authToken;return n.requestStatus===0?L5(r,e):n}function UC(r){return $x(r,e=>{if(!aT(e))throw jd.create("not-registered");const t=e.authToken;return _H(t)?{...e,authToken:{requestStatus:0}}:e})}async function wH(r,e){try{const t=await xH(r,e),n={...e,authToken:t};return await ex(r.appConfig,n),t}catch(t){if(Gj(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await nT(r.appConfig);else{const n={...e,authToken:{requestStatus:0}};await ex(r.appConfig,n)}throw t}}function aT(r){return r!==void 0&&r.registrationStatus===2}function vH(r){return r.requestStatus===2&&!BH(r)}function BH(r){const e=Date.now();return e<r.creationTime||r.creationTime+r.expiresIn<e+YP}function NH(r){const e={requestStatus:1,requestTime:Date.now()};return{...r,authToken:e}}function _H(r){return r.requestStatus===1&&r.requestTime+Kj<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CH(r){const e=r,{installationEntry:t,registrationPromise:n}=await Q5(e);return n?n.catch(console.error):L5(e).catch(console.error),t.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EH(r,e=!1){const t=r;return await SH(t),(await L5(t,e)).token}async function SH(r){const{registrationPromise:e}=await Q5(r);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IH(r){if(!r||!r.options)throw K2("App Configuration");if(!r.name)throw K2("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!r.options[t])throw K2(t);return{appName:r.name,projectId:r.options.projectId,apiKey:r.options.apiKey,appId:r.options.appId}}function K2(r){return jd.create("missing-app-config-values",{valueName:r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iT="installations",jH="installations-internal",TH=r=>{const e=r.getProvider("app").getImmediate(),t=IH(e),n=Qd(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:n,_delete:()=>Promise.resolve()}},UH=r=>{const e=r.getProvider("app").getImmediate(),t=Qd(e,iT).getImmediate();return{getId:()=>CH(t),getToken:s=>EH(t,s)}};function FH(){fl(new bA(iT,TH,"PUBLIC")),fl(new bA(jH,UH,"PRIVATE"))}FH();Vo(Vj,F5);Vo(Vj,F5,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tx="analytics",kH="firebase_id",QH="origin",LH=60*1e3,RH="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",R5="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bi=new yx("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DH={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},ho=new kd("analytics","Analytics",DH);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OH(r){if(!r.startsWith(R5)){const e=ho.create("invalid-gtag-resource",{gtagURL:r});return bi.warn(e.message),""}return r}function oT(r){return Promise.all(r.map(e=>e.catch(t=>t)))}function MH(r,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(r,e)),t}function PH(r,e){const t=MH("firebase-js-sdk-policy",{createScriptURL:OH}),n=document.createElement("script"),s=`${R5}?l=${r}&id=${e}`;n.src=t?t==null?void 0:t.createScriptURL(s):s,n.async=!0,document.head.appendChild(n)}function HH(r){let e=[];return Array.isArray(window[r])?e=window[r]:window[r]=e,e}async function VH(r,e,t,n,s,o){const l=n[s];try{if(l)await e[l];else{const d=(await oT(t)).find(h=>h.measurementId===s);d&&await e[d.appId]}}catch(c){bi.error(c)}r("config",s,o)}async function KH(r,e,t,n,s){try{let o=[];if(s&&s.send_to){let l=s.send_to;Array.isArray(l)||(l=[l]);const c=await oT(t);for(const d of l){const h=c.find(x=>x.measurementId===d),g=h&&e[h.appId];if(g)o.push(g);else{o=[];break}}}o.length===0&&(o=Object.values(e)),await Promise.all(o),r("event",n,s||{})}catch(o){bi.error(o)}}function zH(r,e,t,n){async function s(o,...l){try{if(o==="event"){const[c,d]=l;await KH(r,e,t,c,d)}else if(o==="config"){const[c,d]=l;await VH(r,e,t,n,c,d)}else if(o==="consent"){const[c,d]=l;r("consent",c,d)}else if(o==="get"){const[c,d,h]=l;r("get",c,d,h)}else if(o==="set"){const[c]=l;r("set",c)}else r(o,...l)}catch(c){bi.error(c)}}return s}function qH(r,e,t,n,s){let o=function(...l){window[n].push(arguments)};return window[s]&&typeof window[s]=="function"&&(o=window[s]),window[s]=zH(o,r,e,t),{gtagCore:o,wrappedGtag:window[s]}}function GH(r){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(R5)&&t.src.includes(r))return t;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $H=30,XH=1e3;class YH{constructor(e={},t=XH){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const AT=new YH;function WH(r){return new Headers({Accept:"application/json","x-goog-api-key":r})}async function JH(r){var l;const{appId:e,apiKey:t}=r,n={method:"GET",headers:WH(t)},s=RH.replace("{app-id}",e),o=await fetch(s,n);if(o.status!==200&&o.status!==304){let c="";try{const d=await o.json();(l=d.error)!=null&&l.message&&(c=d.error.message)}catch{}throw ho.create("config-fetch-failed",{httpStatus:o.status,responseMessage:c})}return o.json()}async function ZH(r,e=AT,t){const{appId:n,apiKey:s,measurementId:o}=r.options;if(!n)throw ho.create("no-app-id");if(!s){if(o)return{measurementId:o,appId:n};throw ho.create("no-api-key")}const l=e.getThrottleMetadata(n)||{backoffCount:0,throttleEndTimeMillis:Date.now()},c=new rV;return setTimeout(async()=>{c.abort()},LH),lT({appId:n,apiKey:s,measurementId:o},l,c,e)}async function lT(r,{throttleEndTimeMillis:e,backoffCount:t},n,s=AT){var c;const{appId:o,measurementId:l}=r;try{await eV(n,e)}catch(d){if(l)return bi.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${d==null?void 0:d.message}]`),{appId:o,measurementId:l};throw d}try{const d=await JH(r);return s.deleteThrottleMetadata(o),d}catch(d){const h=d;if(!tV(h)){if(s.deleteThrottleMetadata(o),l)return bi.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${h==null?void 0:h.message}]`),{appId:o,measurementId:l};throw d}const g=Number((c=h==null?void 0:h.customData)==null?void 0:c.httpStatus)===503?kN(t,s.intervalMillis,$H):kN(t,s.intervalMillis),x={throttleEndTimeMillis:Date.now()+g,backoffCount:t+1};return s.setThrottleMetadata(o,x),bi.debug(`Calling attemptFetch again in ${g} millis`),lT(r,x,n,s)}}function eV(r,e){return new Promise((t,n)=>{const s=Math.max(e-Date.now(),0),o=setTimeout(t,s);r.addEventListener(()=>{clearTimeout(o),n(ho.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function tV(r){if(!(r instanceof NA)||!r.customData)return!1;const e=Number(r.customData.httpStatus);return e===429||e===500||e===503||e===504}class rV{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function nV(r,e,t,n,s){if(s&&s.global){r("event",t,n);return}else{const o=await e,l={...n,send_to:o};r("event",t,l)}}async function sV(r,e,t,n){if(n&&n.global){const s={};for(const o of Object.keys(t))s[`user_properties.${o}`]=t[o];return r("set",s),Promise.resolve()}else{const s=await e;r("config",s,{update:!0,user_properties:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aV(){if(wv())try{await US()}catch(r){return bi.warn(ho.create("indexeddb-unavailable",{errorInfo:r==null?void 0:r.toString()}).message),!1}else return bi.warn(ho.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function iV(r,e,t,n,s,o,l){const c=ZH(r);c.then(B=>{t[B.measurementId]=B.appId,r.options.measurementId&&B.measurementId!==r.options.measurementId&&bi.warn(`The measurement ID in the local Firebase config (${r.options.measurementId}) does not match the measurement ID fetched from the server (${B.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(B=>bi.error(B)),e.push(c);const d=aV().then(B=>{if(B)return n.getId()}),[h,g]=await Promise.all([c,d]);GH(o)||PH(o,h.measurementId),s("js",new Date);const x=(l==null?void 0:l.config)??{};return x[QH]="firebase",x.update=!0,g!=null&&(x[kH]=g),s("config",h.measurementId,x),h.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oV{constructor(e){this.app=e}_delete(){return delete Yh[this.app.options.appId],Promise.resolve()}}let Yh={},FC=[];const kC={};let z2="dataLayer",AV="gtag",QC,D5,LC=!1;function lV(){const r=[];if(IS()&&r.push("This is a browser extension environment."),kL()||r.push("Cookies are not available."),r.length>0){const e=r.map((n,s)=>`(${s+1}) ${n}`).join(" "),t=ho.create("invalid-analytics-context",{errorInfo:e});bi.warn(t.message)}}function cV(r,e,t){lV();const n=r.options.appId;if(!n)throw ho.create("no-app-id");if(!r.options.apiKey)if(r.options.measurementId)bi.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${r.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw ho.create("no-api-key");if(Yh[n]!=null)throw ho.create("already-exists",{id:n});if(!LC){HH(z2);const{wrappedGtag:o,gtagCore:l}=qH(Yh,FC,kC,z2,AV);D5=o,QC=l,LC=!0}return Yh[n]=iV(r,FC,kC,e,QC,z2,t),new oV(r)}function uV(r=RS()){r=ss(r);const e=Qd(r,tx);return e.isInitialized()?e.getImmediate():dV(r)}function dV(r,e={}){const t=Qd(r,tx);if(t.isInitialized()){const s=t.getImmediate();if(yu(e,t.getOptions()))return s;throw ho.create("already-initialized")}return t.initialize({options:e})}function hV(r,e,t){r=ss(r),sV(D5,Yh[r.app.options.appId],e,t).catch(n=>bi.error(n))}function fV(r,e,t,n){r=ss(r),nV(D5,Yh[r.app.options.appId],e,t,n).catch(s=>bi.error(s))}const RC="@firebase/analytics",DC="0.10.19";function gV(){fl(new bA(tx,(e,{options:t})=>{const n=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return cV(n,s,t)},"PUBLIC")),fl(new bA("analytics-internal",r,"PRIVATE")),Vo(RC,DC),Vo(RC,DC,"esm2020");function r(e){try{const t=e.getProvider(tx).getImmediate();return{logEvent:(n,s,o)=>fV(t,n,s,o),setUserProperties:(n,s)=>hV(t,n,s)}}catch(t){throw ho.create("interop-component-reg-failed",{reason:t})}}}gV();const mV={apiKey:"AIzaSyBFr--na-wJGHMdev7vUhPufAJHlyP3GNQ",authDomain:"school-9d3db.firebaseapp.com",projectId:"school-9d3db",storageBucket:"school-9d3db.firebasestorage.app",messagingSenderId:"429673694272",appId:"1:429673694272:web:43390c4fdfa5bce4744ba5",measurementId:"G-8YSDYV9VBN"},O5=LS(mV),md=pD(O5),yr=IP(O5,{localCache:HP({tabManager:qP()})});uV(O5);const pV=()=>{const r=()=>{window.location.reload()},e=()=>{window.open("https://wa.me/972568401548","_blank")},t=navigator.onLine;return i.jsxs("div",{className:"min-h-screen bg-gray-950 flex flex-col items-center justify-center p-4 text-center animate-fade-in relative overflow-hidden",children:[i.jsxs("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden pointer-events-none",children:[i.jsx("div",{className:"absolute top-1/4 left-1/4 w-64 h-64 bg-emerald-900/10 rounded-full blur-3xl"}),i.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-64 h-64 bg-red-900/10 rounded-full blur-3xl"})]}),i.jsxs("div",{className:"relative z-10 max-w-md w-full bg-gray-900 border border-gray-800 rounded-[2.5rem] p-8 shadow-2xl",children:[i.jsx("div",{className:"w-20 h-20 bg-gray-800 rounded-full flex items-center justify-center mx-auto mb-6 border-4 border-gray-700 shadow-inner",children:t?i.jsx(uS,{className:"w-10 h-10 text-yellow-500/80"}):i.jsx(gL,{className:"w-10 h-10 text-red-500/80"})}),i.jsx("h2",{className:"text-2xl md:text-3xl font-black text-white mb-3",children:t?" ":" "}),i.jsx("p",{className:"text-gray-400 text-sm md:text-base leading-relaxed mb-8 font-medium",children:t?"      .      .":"    .       ."}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("button",{onClick:r,className:"w-full bg-emerald-600 hover:bg-emerald-700 text-white py-3.5 rounded-xl font-bold transition-all flex items-center justify-center gap-2 shadow-lg shadow-emerald-900/20",children:[i.jsx(Kg,{className:"w-5 h-5"})," "]}),i.jsxs("div",{className:"relative flex py-2 items-center",children:[i.jsx("div",{className:"flex-grow border-t border-gray-700"}),i.jsx("span",{className:"flex-shrink-0 mx-4 text-gray-500 text-xs font-bold",children:""}),i.jsx("div",{className:"flex-grow border-t border-gray-700"})]}),i.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-4 border border-gray-700/50",children:[i.jsx("p",{className:"text-gray-300 text-xs font-bold mb-3",children:"       :"}),i.jsxs("div",{className:"flex items-center justify-between bg-gray-900 p-3 rounded-lg border border-gray-700",children:[i.jsxs("div",{className:"text-right",children:[i.jsx("p",{className:"text-white font-bold text-sm",children:".   "}),i.jsx("p",{className:"text-emerald-500 text-xs dir-ltr",children:"Admin Support"})]}),i.jsx("button",{onClick:e,className:"bg-[#25D366] hover:bg-[#20bd5a] text-white p-2 rounded-full transition-colors shadow-md",children:i.jsx(yd,{className:"w-5 h-5"})})]})]})]})]}),i.jsxs("p",{className:"mt-8 text-gray-600 text-xs font-mono",children:["Status: ",t?"ONLINE_TIMEOUT":"OFFLINE"," / RETRY_PENDING"]})]})},cT=he.createContext(void 0),xV=({children:r})=>{const[e,t]=he.useState(null),[n,s]=he.useState(!0),[o,l]=he.useState(!1),c=he.useRef(null),d=he.useRef(!1),h=I=>{if(!I||I.isSubscriber!==!0||!I.subscriptionExpiry)return!1;const j=Date.now();let M=0;try{if(I.subscriptionExpiry.seconds)M=I.subscriptionExpiry.seconds*1e3;else if(typeof I.subscriptionExpiry=="string")M=new Date(I.subscriptionExpiry).getTime();else if(I.subscriptionExpiry instanceof Date)M=I.subscriptionExpiry.getTime();else return!1}catch(L){return console.error("Date parse error",L),!1}return!(M<=j)},g=(I,j)=>{c.current&&(c.current(),c.current=null);const M=Da(yr,"users",I);c.current=MP(M,L=>{if(L.exists()){const X=L.data(),V=h(X);t(z=>{if(!z&&!j)return null;const ne=z||j||{};return{...ne,...X,uid:I,role:(j==null?void 0:j.role)||X.role||"student",isSubscriber:V,createdAt:X.createdAt||ne.createdAt}})}else j&&t(X=>({...j,isSubscriber:!1}));s(!1)},L=>{console.error("Error syncing profile:",L),s(!1)})},x=(I,j)=>{localStorage.setItem("isTeacher","true"),localStorage.setItem("teacherName",I),localStorage.setItem("teacherEmail",j);const M=`teacher-${j.split("@")[0]}`;let L="https://img.freepik.com/free-vector/teacher-standing-near-blackboard_23-2147517173.jpg";I.includes("")?L="https://lh3.googleusercontent.com/d/1tbzVNKO3FGH46Pa6MZ58OWD4BXVKdK5P":I.includes("")&&(L="https://lh3.googleusercontent.com/d/1xPDpcaUPz3IH-pqv-Jgplroi6U27BVVj");const X={uid:M,email:j,displayName:I,role:"teacher",avatar:L,gender:"male",isSubscriber:!1,createdAt:{seconds:Date.now()/1e3}};t(X),s(!1),g(M,X)},B=async()=>{try{c.current&&(c.current(),c.current=null),(e==null?void 0:e.role)==="teacher"?(localStorage.removeItem("isTeacher"),localStorage.removeItem("teacherName"),localStorage.removeItem("teacherEmail"),t(null)):(await i9(md),e!=null&&e.uid&&localStorage.removeItem(`etqan_user_profile_${e.uid}`),t(null))}catch(I){console.error("Logout error",I)}},w=async I=>{if(e)try{let j={...I};if(I.firstName!==void 0||I.lastName!==void 0){const L=I.firstName!==void 0?I.firstName:e.firstName||"",X=I.lastName!==void 0?I.lastName:e.lastName||"";j.displayName=`${L} ${X}`.trim()}const M=Da(yr,"users",e.uid);await qx(M,j,{merge:!0}),t(L=>L?{...L,...j}:null)}catch(j){throw console.error("Error updating profile:",j),j}};return he.useEffect(()=>{if(!e||!e.isSubscriber)return;const I=setInterval(()=>{h(e)||t(M=>M?{...M,isSubscriber:!1}:null)},6e4);return()=>clearInterval(I)},[e]),he.useEffect(()=>{const I=setTimeout(()=>{d.current||l(!0)},9e4);let j=null;if(localStorage.getItem("isTeacher")==="true"){const L=localStorage.getItem("teacherName")||"",X=localStorage.getItem("teacherEmail")||"teacher@etqan.edu",V=`teacher-${X.split("@")[0]}`;let z="https://img.freepik.com/free-vector/teacher-standing-near-blackboard_23-2147517173.jpg";L.includes("")?z="https://lh3.googleusercontent.com/d/1tbzVNKO3FGH46Pa6MZ58OWD4BXVKdK5P":L.includes("")&&(z="https://lh3.googleusercontent.com/d/1xPDpcaUPz3IH-pqv-Jgplroi6U27BVVj");const ne={uid:V,email:X,displayName:L,role:"teacher",avatar:z,gender:"male",isSubscriber:!1};t(ne),s(!1),d.current=!0,clearTimeout(I),g(V,ne)}else j=a9(md,async L=>{localStorage.getItem("isTeacher")!=="true"&&(d.current=!0,clearTimeout(I),L?g(L.uid,{uid:L.uid,email:L.email||"",displayName:"User",role:"student",isSubscriber:!1}):(t(null),s(!1),c.current&&(c.current(),c.current=null)))});return()=>{j&&j(),c.current&&c.current(),clearTimeout(I)}},[]),o?i.jsx(pV,{}):i.jsx(cT.Provider,{value:{user:e,loading:n,logout:B,setTeacherSession:x,updateUserProfile:w},children:n?i.jsxs("div",{className:"min-h-screen bg-gray-950 flex flex-col items-center justify-center",children:[i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute inset-0 bg-emerald-500/20 blur-xl rounded-full"}),i.jsx(zr,{className:"w-12 h-12 text-emerald-500 animate-spin relative z-10"})]}),i.jsx("p",{className:"mt-4 text-gray-400 font-bold text-sm animate-pulse",children:" ..."})]}):r})},go=()=>{const r=he.useContext(cT);if(r===void 0)throw new Error("useAuth must be used within an AuthProvider");return r},uT=({className:r})=>i.jsxs("svg",{viewBox:"0 0 200 200",className:r,fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[i.jsx("defs",{children:i.jsx("filter",{id:"shadow",x:"-10%",y:"-10%",width:"120%",height:"120%",children:i.jsx("feDropShadow",{dx:"0",dy:"4",stdDeviation:"4",floodColor:"#000",floodOpacity:"0.25"})})}),i.jsx("path",{d:`M100 20 
           L165 85 
           C175 95 175 110 165 120 
           L135 150 
           L100 115 
           L130 85 
           C135 80 135 75 130 70 
           L100 40 
           L70 70 
           L95 95`,fill:"#F3F4F6",stroke:"#111827",strokeWidth:"6",strokeLinejoin:"round",strokeLinecap:"round"}),i.jsx("path",{d:`M100 180 
           L35 115 
           C25 105 25 90 35 80 
           L65 50 
           L100 85 
           L70 115 
           C65 120 65 125 70 130 
           L100 160 
           L130 130 
           L105 105`,fill:"#10B981",stroke:"#111827",strokeWidth:"6",strokeLinejoin:"round",strokeLinecap:"round"}),i.jsx("path",{d:"M95 95 L70 70",stroke:"#111827",strokeWidth:"6",strokeLinecap:"round"})]}),q2=[{id:"teacher-yazanabokaheal",name:".   "},{id:"teacher-majd",name:".   "}],bV=({onLoginClick:r,onNavigate:e,onLogoutClick:t})=>{var D;const[n,s]=he.useState(!1),[o,l]=he.useState(!1),{user:c}=go(),[d,h]=he.useState(!1),[g,x]=he.useState([]),[B,w]=he.useState(0),[I,j]=he.useState(!1),M=he.useRef(null),[L,X]=he.useState(!1),[V,z]=he.useState(""),[ne,le]=he.useState("teacher-yazanabokaheal"),[R,U]=he.useState(!1),[S,P]=he.useState(!1),[E,F]=he.useState(!1);he.useEffect(()=>{const q=()=>{l(window.scrollY>10)};return window.addEventListener("scroll",q),()=>window.removeEventListener("scroll",q)},[]),he.useEffect(()=>{const q=te=>{M.current&&!M.current.contains(te.target)&&h(!1)};return document.addEventListener("mousedown",q),()=>document.removeEventListener("mousedown",q)},[]);const Q=async(q=!1)=>{if(!c){x([]);return}const te=`etqan_notifications_${c.uid}`,re=365*24*60*60*1e3,fe=Date.now();if(!q){const ge=localStorage.getItem(te);if(ge)try{const{data:Be,timestamp:_e}=JSON.parse(ge);if(fe-_e<re){J(Be);return}}catch(Be){console.error(Be)}}j(!0);try{const Be=ya(bn(yr,"notifications"),Df("createdAt","desc"),Of(10)),Oe=(await yi(Be)).docs.map(He=>({id:He.id,...He.data(),createdAt:He.data().createdAt?{seconds:He.data().createdAt.seconds}:null}));localStorage.setItem(te,JSON.stringify({data:Oe,timestamp:fe})),J(Oe)}catch(ge){console.error("Error fetching notifications:",ge)}finally{j(!1)}},J=q=>{const te=[];let re=0,fe=[];try{const Be=localStorage.getItem(`viewed_notifs_${c==null?void 0:c.uid}`);fe=Be?JSON.parse(Be):[]}catch(Be){console.error("Error parsing viewed notifications",Be)}let ge=0;c!=null&&c.createdAt&&(c.createdAt.seconds?ge=c.createdAt.seconds*1e3:c.createdAt instanceof Date?ge=c.createdAt.getTime():typeof c.createdAt=="string"&&(ge=new Date(c.createdAt).getTime())),q.forEach(Be=>{const _e=Be.createdAt?Be.createdAt.seconds?Be.createdAt.seconds*1e3:new Date(Be.createdAt).getTime():Date.now(),Oe=Be.recipientId===(c==null?void 0:c.uid),He=Be.recipientId==="all",it=ge===0||_e>=ge;if(Oe||He&&it){const me=fe.includes(Be.id),Me=Be.read===!0,H=me||Me;H||re++,te.push({...Be,read:H})}}),x(te),w(re)};he.useEffect(()=>{Q()},[c]);const xe=async()=>{const q=!d;if(h(q),q&&B>0){const te=[...g],re=te.filter(_e=>!_e.read),fe=re.map(_e=>_e.id);if(fe.length===0)return;try{const _e=localStorage.getItem(`viewed_notifs_${c==null?void 0:c.uid}`),Oe=_e?JSON.parse(_e):[],He=new Set([...Oe,...fe]);localStorage.setItem(`viewed_notifs_${c==null?void 0:c.uid}`,JSON.stringify(Array.from(He)));const it=`etqan_notifications_${c==null?void 0:c.uid}`,me=localStorage.getItem(it);if(me){const Me=JSON.parse(me);localStorage.setItem(it,JSON.stringify(Me))}}catch(_e){console.error("Error updating local storage for notifications",_e)}const ge=te.map(_e=>({..._e,read:!0}));x(ge),w(0);const Be=re.filter(_e=>_e.recipientId!=="all");if(Be.length>0)try{const _e=$P(yr);Be.forEach(Oe=>{const He=Da(yr,"notifications",Oe.id);_e.update(He,{read:!0})}),await _e.commit()}catch(_e){console.error("Error batch updating notifications:",_e)}}},ie=async()=>{if(V.trim()){U(!0);try{const q=q2.find(te=>te.id===ne);await vA(bn(yr,"contact_messages"),{studentId:c==null?void 0:c.uid,studentName:(c==null?void 0:c.displayName)||"",studentEmail:c==null?void 0:c.email,message:V,teacherId:ne,teacherName:q==null?void 0:q.name,createdAt:Ki(),read:!1}),await vA(bn(yr,"notifications"),{recipientId:ne,title:`   ${(c==null?void 0:c.displayName)||""}`,message:V.substring(0,100)+(V.length>100?"...":""),type:"message",senderName:c==null?void 0:c.displayName,senderId:c==null?void 0:c.uid,createdAt:Ki(),read:!1}),alert("    !"),z(""),X(!1),P(!1)}catch(q){console.error(q),alert("   ")}finally{U(!1)}}},Z=()=>{F(!0),setTimeout(()=>F(!1),3e3)},Ae=q=>{if(!c){Z(),s(!1);return}e(q),s(!1)},be=q=>{switch(q){case"quiz":return i.jsx(Us,{className:"w-4 h-4 text-yellow-400"});case"file":return i.jsx(ra,{className:"w-4 h-4 text-blue-400"});case"explanation":return i.jsx(lu,{className:"w-4 h-4 text-purple-400"});case"message":return i.jsx(mA,{className:"w-4 h-4 text-emerald-400"});default:return i.jsx(lp,{className:"w-4 h-4 text-gray-400"})}},Ee=q=>{if(!q)return"";const te=q.toDate?q.toDate():new Date(q.seconds*1e3);return isNaN(te.getTime())?"":te.toLocaleString("en-GB",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!1}).replace(",","")},$=q=>"cursor-pointer px-4 py-2 rounded-xl transition-all font-bold text-sm flex items-center gap-2 text-gray-300 hover:text-white hover:bg-gray-800";return i.jsxs(i.Fragment,{children:[i.jsxs("nav",{className:`fixed w-full z-50 transition-all duration-300 ${o?"bg-gray-950 border-b border-white/5 py-3 shadow-xl":"bg-transparent py-5"}`,children:[i.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:i.jsxs("div",{className:"flex justify-between items-center relative",children:[i.jsxs("div",{className:"flex items-center gap-3 cursor-pointer group",onClick:()=>e("HOME"),children:[i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute inset-0 bg-emerald-500/20 rounded-full blur-md opacity-0 group-hover:opacity-100 transition-opacity"}),i.jsx(uT,{className:"w-10 h-10 md:w-12 md:h-12 drop-shadow-xl hover:scale-105 transition-transform"})]}),i.jsx("span",{className:"text-2xl font-black text-white tracking-tight",children:""})]}),i.jsxs("div",{className:"hidden md:flex absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 items-center bg-gray-950/80 backdrop-blur-md p-1.5 rounded-2xl border border-white/5 shadow-2xl",children:[i.jsxs("button",{onClick:()=>e("HOME"),className:$(),children:[i.jsx(zn,{className:"w-4 h-4"})," "]}),i.jsxs("button",{onClick:()=>Ae("QUIZZES"),className:$(),children:[i.jsx(Us,{className:"w-4 h-4"})," "]}),i.jsxs("button",{onClick:()=>Ae("LESSONS"),className:$(),children:[i.jsx(ra,{className:"w-4 h-4"})," "]}),i.jsxs("button",{onClick:()=>Ae("LESSONS_EXPLANATIONS"),className:$(),children:[i.jsx(rf,{className:"w-4 h-4"})," "]}),i.jsxs("button",{onClick:()=>e("VIP_AREA"),className:$(),children:[i.jsx(ns,{className:"w-4 h-4"}),"  "]})]}),i.jsxs("div",{className:"flex items-center gap-2 md:gap-3",children:[c&&i.jsxs("div",{className:"relative",ref:M,children:[i.jsxs("button",{onClick:xe,className:"p-2.5 rounded-xl bg-gray-800 hover:bg-gray-700 text-gray-300 hover:text-white transition-all relative border border-gray-700 flex items-center justify-center group","aria-label":"Notifications",children:[i.jsx(lp,{className:`w-5 h-5 ${B>0?"animate-swing":""}`}),B>0&&i.jsx("span",{className:"absolute -top-1 -right-1 w-4 h-4 bg-red-500 text-white text-[9px] font-bold flex items-center justify-center rounded-full border-2 border-gray-900 animate-pulse",children:B>9?"+9":B})]}),d&&i.jsxs("div",{className:"absolute top-full left-0 md:left-auto md:right-0 mt-3 w-80 bg-gray-900 border border-gray-700 rounded-2xl shadow-2xl overflow-hidden animate-fade-in-up origin-top-right z-[60]",children:[i.jsxs("div",{className:"p-4 border-b border-gray-800 flex justify-between items-center bg-gray-900/50 backdrop-blur-sm",children:[i.jsxs("h3",{className:"font-bold text-white text-sm flex items-center gap-2",children:[i.jsx(lp,{className:"w-4 h-4 text-emerald-400"}),""]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("button",{onClick:q=>{q.stopPropagation(),Q(!0)},className:"p-1.5 hover:bg-gray-800 rounded-full text-gray-400 hover:text-white transition-colors",title:"",children:i.jsx(Kg,{className:`w-3.5 h-3.5 ${I?"animate-spin text-emerald-500":""}`})}),c.role==="student"&&i.jsx("button",{onClick:()=>{h(!1),X(!0)},className:"text-xs bg-emerald-900/30 text-emerald-400 px-2 py-1 rounded-lg hover:bg-emerald-900/50 transition-colors font-bold border border-emerald-500/30",children:i.jsx(mA,{className:"w-3 h-3"})})]})]}),i.jsx("div",{className:"max-h-80 overflow-y-auto custom-scrollbar",children:I&&g.length===0?i.jsx("div",{className:"p-8 text-center flex justify-center",children:i.jsx(zr,{className:"w-6 h-6 animate-spin text-emerald-500"})}):g.length===0?i.jsxs("div",{className:"p-12 text-center text-gray-500 text-sm flex flex-col items-center",children:[i.jsx(lp,{className:"w-10 h-10 mb-3 opacity-20"}),i.jsx("p",{children:"   "}),i.jsx("button",{onClick:()=>Q(!0),className:"mt-2 text-xs text-blue-400 underline",children:""})]}):i.jsx("div",{className:"divide-y divide-gray-800",children:g.map(q=>i.jsxs("div",{className:`p-4 hover:bg-gray-800/50 transition-colors relative ${q.read?"":"bg-emerald-900/10"}`,children:[!q.read&&i.jsx("div",{className:"absolute top-4 right-4 w-2 h-2 bg-emerald-500 rounded-full"}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx("div",{className:"mt-1 shrink-0 bg-gray-800 p-1.5 w-8 h-8 flex items-center justify-center rounded-full border border-gray-700",children:be(q.type)}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h4",{className:`text-sm font-bold mb-1 ${q.read?"text-gray-400":"text-white"}`,children:q.title}),i.jsx("p",{className:"text-xs text-gray-500 leading-relaxed line-clamp-2",children:q.message}),i.jsx("span",{className:"text-[10px] text-gray-600 mt-2 block flex items-center gap-1",children:Ee(q.createdAt)})]})]})]},q.id))})})]})]}),c?i.jsxs("div",{className:"hidden md:flex items-center gap-3",children:[i.jsxs("div",{className:"relative group",children:[i.jsxs("button",{onClick:()=>e("PROFILE"),className:"flex items-center gap-3 bg-gray-800 hover:bg-gray-700 text-white pr-1 pl-4 py-1.5 rounded-full transition-all border border-gray-700 hover:border-gray-600",children:[c.avatar?i.jsx("img",{src:c.avatar,alt:"Avatar",className:"w-8 h-8 rounded-full object-cover border border-gray-600"}):i.jsx("div",{className:"w-8 h-8 bg-emerald-600 rounded-full flex items-center justify-center text-xs font-bold",children:c.displayName.charAt(0)}),i.jsx("div",{className:"text-right",children:i.jsxs("div",{className:"text-sm font-bold max-w-[120px] truncate leading-tight flex items-center gap-1",children:[c.displayName,c.isSubscriber&&i.jsx(ns,{className:"w-3 h-3 text-amber-400 fill-amber-400"})]})})]}),i.jsxs("div",{className:"absolute top-full mt-2 left-1/2 -translate-x-1/2 w-max bg-gray-900 text-emerald-400 text-[10px] font-bold px-3 py-1.5 rounded-lg border border-gray-700 opacity-0 group-hover:opacity-100 transition-all duration-300 pointer-events-none shadow-xl z-50",children:["   ",i.jsx("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 border-4 border-transparent border-b-gray-900"})]})]}),i.jsx("button",{onClick:t,className:"p-2 bg-red-500/10 hover:bg-red-500 text-red-500 hover:text-white rounded-full transition-all border border-red-500/20",title:" ",children:i.jsx(yg,{className:"w-5 h-5"})})]}):i.jsxs("button",{onClick:r,className:"hidden md:flex bg-emerald-600 hover:bg-emerald-700 text-white px-6 py-2.5 rounded-xl font-bold transition-all shadow-lg shadow-emerald-900/20 items-center gap-2",children:[i.jsx(zy,{className:"w-4 h-4"}),""]}),i.jsx("button",{onClick:()=>s(!n),className:"md:hidden p-2.5 text-gray-300 hover:text-white bg-gray-800 rounded-xl hover:bg-gray-700 transition-colors border border-gray-700",children:n?i.jsx(ba,{className:"w-6 h-6"}):i.jsx(uQ,{className:"w-6 h-6"})})]})]})}),n&&i.jsx("div",{className:"md:hidden absolute top-full left-0 w-full bg-gray-950 border-b border-white/5 shadow-2xl animate-fade-in-up h-[calc(100vh-70px)] overflow-y-auto",children:i.jsxs("div",{className:"px-4 py-6 space-y-3",children:[c&&i.jsxs("div",{className:"mb-2",children:[i.jsx("p",{className:"text-[10px] text-emerald-500 font-bold px-4 mb-1",children:"   "}),i.jsx("button",{onClick:()=>{e("PROFILE"),s(!1)},className:"w-full flex items-center justify-between px-4 py-3 rounded-xl text-emerald-400 hover:bg-emerald-900/20 font-bold transition-colors border border-emerald-900/30",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(ok,{className:"w-5 h-5"}),c.displayName,c.isSubscriber&&i.jsx(ns,{className:"w-4 h-4 text-amber-400 fill-amber-400"})]})})]}),i.jsxs("button",{onClick:()=>{e("VIP_AREA"),s(!1)},className:"w-full flex items-center gap-3 px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800 hover:text-white font-bold transition-colors",children:[i.jsx(ns,{className:"w-5 h-5"}),"   (VIP)"]}),i.jsxs("button",{onClick:()=>{e("HOME"),s(!1)},className:"w-full flex items-center gap-3 px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800 hover:text-white font-bold transition-colors",children:[i.jsx(zn,{className:"w-5 h-5"})," "]}),i.jsxs("button",{onClick:()=>{e("TEACHER_CV"),s(!1)},className:"w-full flex items-center gap-3 px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800 hover:text-white font-bold transition-colors",children:[i.jsx(sc,{className:"w-5 h-5"}),"   "]}),i.jsxs("button",{onClick:()=>Ae("QUIZZES"),className:"w-full flex items-center gap-3 px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800 hover:text-white font-bold transition-colors",children:[i.jsx(Us,{className:"w-5 h-5"})," "]}),i.jsxs("button",{onClick:()=>Ae("LESSONS"),className:"w-full flex items-center gap-3 px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800 hover:text-white font-bold transition-colors",children:[i.jsx(ra,{className:"w-5 h-5"})," "]}),i.jsxs("button",{onClick:()=>Ae("LESSONS_EXPLANATIONS"),className:"w-full flex items-center gap-3 px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800 hover:text-white font-bold transition-colors",children:[i.jsx(rf,{className:"w-5 h-5"})," "]}),i.jsxs("button",{onClick:()=>{e("CONTACT_TEACHER"),s(!1)},className:"w-full flex items-center gap-3 px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800 hover:text-white font-bold transition-colors",children:[i.jsx(yd,{className:"w-5 h-5"}),"  "]}),i.jsxs("button",{onClick:()=>{e("PLATFORM_DEFINITION"),s(!1)},className:"w-full flex items-center gap-3 px-4 py-3 rounded-xl text-gray-300 hover:bg-gray-800 hover:text-white font-bold transition-colors",children:[i.jsx(mx,{className:"w-5 h-5"}),"  "]}),i.jsx("div",{className:"border-t border-gray-800 my-2 pt-2",children:c?i.jsxs("button",{onClick:()=>{t(),s(!1)},className:"w-full flex items-center gap-3 px-4 py-3 rounded-xl text-red-400 hover:bg-red-900/20 font-bold transition-colors",children:[i.jsx(yg,{className:"w-5 h-5"}),"  "]}):i.jsxs("button",{onClick:()=>{r(),s(!1)},className:"w-full flex items-center gap-3 px-4 py-3 rounded-xl bg-emerald-600 text-white font-bold justify-center shadow-lg",children:[i.jsx(zy,{className:"w-5 h-5"}),"  "]})})]})})]}),E&&i.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center pointer-events-none px-4",children:i.jsxs("div",{className:"bg-red-900/90 border border-red-800 shadow-xl rounded-xl p-4 flex items-center gap-3 relative w-full max-w-md animate-fade-in-up pointer-events-auto backdrop-blur-md",children:[i.jsx("div",{className:"bg-red-800 p-2 rounded-full shrink-0",children:i.jsx(pg,{className:"w-6 h-6 text-red-200"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h4",{className:"font-bold text-white text-sm",children:"  "}),i.jsx("p",{className:"text-gray-300 text-xs mt-1",children:"        ."})]}),i.jsx("button",{onClick:()=>F(!1),className:"absolute top-2 left-2 text-gray-300 hover:text-white",children:i.jsx(ba,{className:"w-4 h-4"})}),i.jsx("button",{onClick:()=>{F(!1),r()},className:"mr-auto bg-red-600 text-white text-xs font-bold px-3 py-1.5 rounded-lg hover:bg-red-700 transition-colors shrink-0",children:""})]})}),L&&i.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center px-4",children:[i.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm",onClick:()=>{X(!1),P(!1)}}),i.jsxs("div",{className:"bg-gray-900 rounded-3xl w-full max-w-md relative shadow-2xl p-6 animate-fade-in-up border border-white/10",children:[i.jsx("button",{onClick:()=>{X(!1),P(!1)},className:"absolute top-4 right-4 p-2 text-gray-400 hover:text-white",children:i.jsx(ba,{className:"w-5 h-5"})}),S?i.jsxs("div",{className:"text-center py-6 animate-fade-in",children:[i.jsx("div",{className:"w-16 h-16 bg-emerald-900/30 rounded-full flex items-center justify-center mx-auto mb-4 text-emerald-400 border border-emerald-500/20",children:i.jsx(Mo,{className:"w-8 h-8"})}),i.jsx("h3",{className:"text-xl font-black text-white mb-2",children:" "}),i.jsxs("p",{className:"text-gray-400 text-sm mb-8",children:["        ",i.jsx("span",{className:"text-emerald-400 font-bold",children:(D=q2.find(q=>q.id===ne))==null?void 0:D.name}),""]}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx("button",{onClick:ie,disabled:R,className:"flex-1 bg-emerald-600 hover:bg-emerald-700 text-white py-3 rounded-xl font-bold flex items-center justify-center gap-2 transition-all shadow-lg shadow-emerald-900/20",children:R?i.jsx(zr,{className:"w-5 h-5 animate-spin"}):" "}),i.jsx("button",{onClick:()=>P(!1),disabled:R,className:"flex-1 bg-gray-800 hover:bg-gray-700 text-gray-300 py-3 rounded-xl font-bold transition-all border border-gray-700",children:""})]})]}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"text-center mb-6",children:[i.jsx("div",{className:"w-16 h-16 bg-emerald-900/30 rounded-full flex items-center justify-center mx-auto mb-4 text-emerald-400 border border-emerald-500/20",children:i.jsx(mA,{className:"w-8 h-8"})}),i.jsx("h3",{className:"text-xl font-black text-white",children:" "}),i.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"     "})]}),i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:"block text-xs font-bold text-gray-400 mb-2",children:" "}),i.jsx("div",{className:"space-y-2",children:q2.map(q=>i.jsxs("div",{onClick:()=>le(q.id),className:`p-3 rounded-xl border-2 cursor-pointer transition-all flex items-center justify-between ${ne===q.id?"border-emerald-500 bg-emerald-900/20":"border-gray-700 bg-gray-800 hover:bg-gray-750"}`,children:[i.jsx("span",{className:`text-sm font-bold ${ne===q.id?"text-emerald-400":"text-gray-300"}`,children:q.name}),ne===q.id&&i.jsx(rc,{className:"w-4 h-4 text-emerald-500"})]},q.id))})]}),i.jsx("textarea",{value:V,onChange:q=>z(q.target.value),placeholder:"",className:"w-full h-32 bg-gray-800 border border-gray-700 rounded-xl p-4 text-white outline-none focus:border-emerald-500 mb-4 resize-none focus:ring-2 focus:ring-emerald-500/20 transition-all"}),i.jsxs("button",{onClick:()=>{V.trim()&&P(!0)},disabled:!V.trim(),className:"w-full bg-emerald-600 hover:bg-emerald-700 text-white py-3 rounded-xl font-bold flex items-center justify-center gap-2 transition-all disabled:opacity-50 disabled:cursor-not-allowed shadow-lg shadow-emerald-900/30",children:[i.jsx(uu,{className:"w-5 h-5"})," "]})]})]})]})]})};var yV=oS();const wV=({className:r})=>i.jsx("svg",{viewBox:"0 0 24 24",className:r,fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:i.jsx("path",{d:"M19.589 6.686a4.793 4.793 0 0 1-3.77-4.245V2h-3.445v13.672a2.896 2.896 0 0 1-5.201 1.743l-.002-.001.002.001a2.895 2.895 0 0 1 3.183-4.51v-3.5a6.329 6.329 0 0 0-5.394 10.692 6.33 6.33 0 0 0 10.857-4.424V8.687a8.182 8.182 0 0 0 4.773 1.526V6.79a4.831 4.831 0 0 1-1.003-.104z"})}),vV=({onStartQuiz:r,onLoginClick:e,onNavigate:t})=>{const{user:n}=go(),[s,o]=he.useState(!1),[l,c]=he.useState(!1),[d,h]=he.useState(!1),g=window.location.origin;he.useEffect(()=>(l?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[l]);const x=()=>{o(!0),setTimeout(()=>o(!1),3e3)},B=()=>{n?t("QUIZZES"):x()},w=()=>{n?t("LESSONS"):x()},I=()=>{t("LESSONS_EXPLANATIONS")},j=()=>{t("SERVICES")},M=()=>{t("VIP_AREA")},L=()=>{navigator.clipboard.writeText(g),h(!0),setTimeout(()=>h(!1),2e3)};return i.jsxs("section",{className:"relative w-full min-h-screen flex flex-col items-center bg-transparent overflow-hidden animate-fade-in transition-colors duration-300 pt-24 md:pt-32",children:[s&&i.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center pointer-events-none px-4",children:i.jsxs("div",{className:"bg-red-900/90 border border-red-800 shadow-xl rounded-xl p-4 flex items-center gap-3 relative w-full max-w-md animate-fade-in-up pointer-events-auto backdrop-blur-md",children:[i.jsx("div",{className:"bg-red-800 p-2 rounded-full shrink-0",children:i.jsx(pg,{className:"w-6 h-6 text-red-200"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h4",{className:"font-bold text-white text-sm",children:"  "}),i.jsx("p",{className:"text-gray-300 text-xs mt-1",children:"        ."})]}),i.jsx("button",{onClick:()=>o(!1),className:"absolute top-2 left-2 text-gray-300 hover:text-white",children:i.jsx(ba,{className:"w-4 h-4"})}),i.jsx("button",{onClick:()=>{o(!1),e()},className:"mr-auto bg-red-600 text-white text-xs font-bold px-3 py-1.5 rounded-lg hover:bg-red-700 transition-colors shrink-0",children:""})]})}),i.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 w-full relative z-10 flex flex-col items-center text-center",children:[i.jsxs("h1",{className:"text-4xl md:text-6xl lg:text-7xl font-black text-white leading-[1.2] lg:leading-[1.15] mb-6 drop-shadow-lg",children:["  ",i.jsx("br",{}),i.jsxs("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-emerald-400 to-teal-300 inline-block relative pb-2",children:[" ",i.jsx("svg",{className:"absolute w-full h-3 -bottom-1 right-0 text-emerald-900/50 -z-10",viewBox:"0 0 100 10",preserveAspectRatio:"none",children:i.jsx("path",{d:"M0 5 Q 50 10 100 5",stroke:"currentColor",strokeWidth:"8",fill:"none"})})]}),i.jsx("br",{}),"  "]}),i.jsxs("p",{className:"text-lg md:text-xl text-gray-300 leading-relaxed max-w-2xl mx-auto mb-10",children:["      ",i.jsx("span",{className:"text-emerald-400 font-black text-2xl px-1 relative inline-block",children:"   "}),"."]}),i.jsxs("div",{className:"flex flex-col w-full max-w-md gap-3 justify-center",children:[i.jsxs("button",{onClick:B,className:"w-full bg-gradient-to-r from-emerald-500 to-green-600 hover:from-emerald-600 hover:to-green-700 text-white text-base font-bold py-3 px-5 rounded-xl shadow-lg hover:shadow-emerald-900/50 transition-all flex items-center justify-between group transform hover:-translate-y-1 border border-emerald-400/20",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"bg-white/20 p-1.5 rounded-lg",children:i.jsx(Us,{className:"w-5 h-5 text-white"})}),i.jsx("span",{children:" "})]}),i.jsx(el,{className:"w-5 h-5 opacity-70 group-hover:opacity-100 group-hover:-translate-x-1 transition-all"})]}),i.jsxs("button",{onClick:I,className:"w-full bg-gradient-to-r from-emerald-500 to-green-600 hover:from-emerald-600 hover:to-green-700 text-white text-base font-bold py-3 px-5 rounded-xl shadow-lg hover:shadow-emerald-900/50 transition-all flex items-center justify-between group transform hover:-translate-y-1 border border-emerald-400/20",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"bg-white/20 p-1.5 rounded-lg",children:i.jsx(rf,{className:"w-5 h-5 text-white"})}),i.jsx("span",{children:" "})]}),i.jsx(el,{className:"w-5 h-5 opacity-70 group-hover:opacity-100 group-hover:-translate-x-1 transition-all"})]}),i.jsxs("button",{onClick:w,className:"w-full bg-gradient-to-r from-emerald-500 to-green-600 hover:from-emerald-600 hover:to-green-700 text-white text-base font-bold py-3 px-5 rounded-xl shadow-lg hover:shadow-emerald-900/50 transition-all flex items-center justify-between group transform hover:-translate-y-1 border border-emerald-400/20",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"bg-white/20 p-1.5 rounded-lg",children:i.jsx(ra,{className:"w-5 h-5 text-white"})}),i.jsx("span",{children:" "})]}),i.jsx(el,{className:"w-5 h-5 opacity-70 group-hover:opacity-100 group-hover:-translate-x-1 transition-all"})]}),i.jsxs("button",{onClick:j,className:"w-full bg-gradient-to-r from-emerald-500 to-green-600 hover:from-emerald-600 hover:to-green-700 text-white text-base font-bold py-3 px-5 rounded-xl shadow-lg hover:shadow-emerald-900/50 transition-all flex items-center justify-between group transform hover:-translate-y-1 border border-emerald-400/20",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"bg-white/20 p-1.5 rounded-lg",children:i.jsx(pv,{className:"w-5 h-5 text-white"})}),i.jsx("span",{children:""})]}),i.jsx(el,{className:"w-5 h-5 opacity-70 group-hover:opacity-100 group-hover:-translate-x-1 transition-all"})]}),i.jsxs("button",{onClick:M,className:"w-full bg-gradient-to-r from-emerald-500 to-green-600 hover:from-emerald-600 hover:to-green-700 text-white text-base font-bold py-3 px-5 rounded-xl shadow-lg hover:shadow-emerald-900/50 transition-all flex items-center justify-between group transform hover:-translate-y-1 border border-emerald-400/20",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"bg-white/20 p-1.5 rounded-lg",children:i.jsx(ns,{className:"w-5 h-5 text-white"})}),i.jsx("span",{children:" "})]}),i.jsx(el,{className:"w-5 h-5 opacity-70 group-hover:opacity-100 group-hover:-translate-x-1 transition-all"})]}),i.jsx("div",{className:"w-full mt-2",children:n?i.jsxs("button",{onClick:()=>t("PROFILE"),className:"w-full bg-gray-900 border-2 border-emerald-900 text-emerald-400 hover:bg-emerald-900/20 text-base font-bold py-3 px-5 rounded-xl transition-all flex items-center justify-center gap-3 shadow-sm hover:shadow-md",children:[i.jsx(pi,{className:"w-5 h-5"})," "]}):i.jsxs("button",{onClick:e,className:"w-full bg-gradient-to-r from-orange-500 to-red-600 hover:from-orange-600 hover:to-red-700 text-white text-base font-bold py-3 px-5 rounded-xl shadow-lg hover:shadow-orange-500/40 transition-all flex items-center justify-between group transform hover:-translate-y-1 border border-orange-400/20",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"bg-white/20 p-1.5 rounded-lg",children:i.jsx(zy,{className:"w-5 h-5 text-white"})}),i.jsx("span",{children:"  "})]}),i.jsx(el,{className:"w-5 h-5 opacity-70 group-hover:opacity-100 group-hover:-translate-x-1 transition-all"})]})}),i.jsx("div",{className:"relative mt-2 flex justify-center z-50",children:i.jsxs("button",{onClick:()=>c(!0),className:"flex items-center gap-2 text-gray-400 hover:text-white transition-colors text-xs font-bold bg-white/5 px-6 py-3 rounded-full border border-white/10 hover:bg-white/10 hover:border-emerald-500/30 group shadow-lg backdrop-blur-sm",children:[i.jsx("div",{className:"p-1.5 bg-emerald-500/10 rounded-full group-hover:bg-emerald-500/20 transition-colors",children:i.jsx(sc,{className:"w-4 h-4 text-emerald-400 group-hover:text-emerald-300"})}),i.jsx("span",{children:"  "})]})}),l&&yV.createPortal(i.jsx("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center p-4 bg-black/95 backdrop-blur-xl animate-fade-in",onClick:()=>c(!1),children:i.jsxs("div",{className:"bg-gray-950 border-2 border-gray-800 rounded-[2.5rem] shadow-2xl p-8 w-full max-w-md flex flex-col gap-8 animate-fade-in-up relative overflow-hidden",onClick:X=>X.stopPropagation(),children:[i.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-emerald-900/20 rounded-full blur-[80px] pointer-events-none"}),i.jsxs("div",{className:"flex items-center justify-between relative z-10",children:[i.jsxs("div",{children:[i.jsxs("span",{className:"text-2xl font-black text-white flex items-center gap-3",children:[i.jsx("div",{className:"p-2 bg-emerald-500/10 rounded-xl border border-emerald-500/20",children:i.jsx(sc,{className:"w-6 h-6 text-emerald-500"})}),"  "]}),i.jsx("p",{className:"text-gray-400 text-sm mt-2 font-bold pr-1",children:"     "})]}),i.jsx("button",{onClick:()=>c(!1),className:"self-start p-2 rounded-full bg-gray-800 hover:bg-gray-700 text-gray-400 hover:text-white transition-colors border border-gray-700",children:i.jsx(ba,{className:"w-5 h-5"})})]}),i.jsxs("div",{className:"grid grid-cols-3 gap-4 relative z-10",children:[i.jsxs("a",{href:"https://www.facebook.com/yazanabokaheal2?locale=ms_MY",target:"_blank",rel:"noreferrer",className:"flex flex-col items-center gap-3 group",children:[i.jsx("div",{className:"w-20 h-20 rounded-3xl bg-[#1877F2]/10 flex items-center justify-center group-hover:bg-[#1877F2] transition-all shadow-lg group-hover:shadow-[#1877F2]/40 group-hover:-translate-y-1 border border-[#1877F2]/20",children:i.jsx(nf,{className:"w-10 h-10 text-[#1877F2] group-hover:text-white"})}),i.jsx("span",{className:"text-xs font-bold text-gray-400 group-hover:text-white transition-colors",children:""})]}),i.jsxs("a",{href:"#",target:"_blank",rel:"noreferrer",className:"flex flex-col items-center gap-3 group",children:[i.jsx("div",{className:"w-20 h-20 rounded-3xl bg-gradient-to-tr from-yellow-400/10 via-red-500/10 to-purple-500/10 flex items-center justify-center group-hover:from-yellow-400 group-hover:via-red-500 group-hover:to-purple-500 transition-all shadow-lg group-hover:shadow-pink-500/40 group-hover:-translate-y-1 border border-pink-500/20",children:i.jsx(Kk,{className:"w-10 h-10 text-pink-500 group-hover:text-white"})}),i.jsx("span",{className:"text-xs font-bold text-gray-400 group-hover:text-white transition-colors",children:""})]}),i.jsxs("a",{href:"#",target:"_blank",rel:"noreferrer",className:"flex flex-col items-center gap-3 group",children:[i.jsxs("div",{className:"w-20 h-20 rounded-3xl bg-[#00f2ea]/10 flex items-center justify-center group-hover:bg-black transition-all shadow-lg group-hover:shadow-[#00f2ea]/40 group-hover:-translate-y-1 border border-[#00f2ea]/20 relative overflow-hidden",children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#00f2ea] to-[#ff0050] opacity-0 group-hover:opacity-100 transition-opacity"}),i.jsx(wV,{className:"w-10 h-10 text-white relative z-10"})]}),i.jsx("span",{className:"text-xs font-bold text-gray-400 group-hover:text-white transition-colors",children:" "})]})]}),i.jsxs("div",{className:"bg-gray-800 rounded-2xl p-2 pl-2 pr-4 flex items-center border border-gray-700/50 relative z-10",children:[i.jsx("div",{className:"flex-1 text-xs text-gray-400 font-mono truncate dir-ltr opacity-70 tracking-wider",children:g}),i.jsxs("button",{onClick:L,className:`px-5 py-3 rounded-xl font-bold text-xs flex items-center gap-2 transition-all shadow-lg shrink-0 ${d?"bg-emerald-500 text-white":"bg-gray-700 text-white hover:bg-gray-600"}`,children:[d?i.jsx(lS,{className:"w-4 h-4"}):i.jsx(xv,{className:"w-4 h-4"}),d?" ":" "]})]})]})}),document.body)]})]})]})},G2=({className:r})=>i.jsx("svg",{viewBox:"0 0 24 24",className:r,fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:i.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.008-.57-.008-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"})}),$2=({className:r})=>i.jsx("svg",{viewBox:"0 0 24 24",className:r,fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:i.jsx("path",{d:"M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.694 0zM4.98 14.41c6.009-2.607 10.015-4.335 12.019-5.168 2.656-.867 3.084-.386 2.84 1.712-.366 3.157-1.408 8.873-1.93 10.364-.22.628-.648.676-1.308.244-1.68-1.044-3.896-2.532-4.812-3.132-.956-.628-1.144-1.24-.208-2.212 2.168-2.248 4.068-4.064 3.724-4.376-.428-.388-2.648.82-7.008 3.776-.784.532-1.496.524-2.192.316-1.04-.312-2.052-.648-2.828-.904-1.056-.348-1.06-1.056.172-1.576z"})}),BV=({className:r})=>i.jsx("svg",{viewBox:"0 0 24 24",className:r,fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:i.jsx("path",{d:"M12 2C6.48 2 2 6.03 2 11c0 2.87 1.56 5.47 4 7.1V22l3.57-1.96c.78.22 1.6.34 2.43.34 5.52 0 10-4.03 10-9s-4.48-9-10-9zm1.06 12.07l-2.6-2.78-5.07 2.78 5.58-5.93 2.62 2.78 5.05-2.78-5.58 5.93z"})}),Yu=[{id:1,name:" ",text:"      . ",platform:"whatsapp",time:"10:30 "},{id:2,name:" ",text:"     . ",platform:"messenger",time:"11:15 "},{id:3,name:" ",text:"    .",platform:"telegram",time:"09:45 "},{id:4,name:" ",text:" ,.",platform:"whatsapp",time:"02:20 "},{id:5,name:" ",text:"          .",platform:"messenger",time:"04:10 "},{id:6,name:" ",text:"       . ",platform:"telegram",time:"08:00 "},{id:7,name:" ",text:"        . ",platform:"whatsapp",time:"01:30 "},{id:8,name:" ",text:"       .",platform:"messenger",time:"06:45 "},{id:9,name:" ",text:"      .",platform:"telegram",time:"03:15 "},{id:10,name:" ",text:"      ! ",platform:"whatsapp",time:"12:00 "},{id:11,name:" ",text:"   .  . ",platform:"messenger",time:"07:30 "},{id:12,name:"  ",text:"        .",platform:"telegram",time:"10:10 "},{id:13,name:" ",text:"      .",platform:"whatsapp",time:"05:50 "},{id:14,name:" ",text:"     . ",platform:"messenger",time:"09:20 "},{id:15,name:" ",text:"      . ",platform:"telegram",time:"08:45 "}],NV=({onNavigate:r})=>{const[e,t]=he.useState(0),[n,s]=he.useState(!0);he.useEffect(()=>{const d=setInterval(()=>{s(!1),setTimeout(()=>{t(h=>(h+1)%Yu.length),s(!0)},500)},7e3);return()=>clearInterval(d)},[]);const o=d=>{switch(d){case"whatsapp":return i.jsx(G2,{className:"w-5 h-5 text-white"});case"messenger":return i.jsx(BV,{className:"w-5 h-5 text-white"});case"telegram":return i.jsx($2,{className:"w-5 h-5 text-white"});default:return null}},l=d=>{switch(d){case"whatsapp":return"bg-green-500";case"messenger":return"bg-blue-600";case"telegram":return"bg-sky-500";default:return"bg-gray-500"}},c=d=>i.jsxs("div",{className:"bg-gray-900 md:bg-white/5 md:backdrop-blur-md rounded-3xl p-6 shadow-sm md:shadow-lg border border-gray-800 md:border-white/5 relative h-full flex flex-col hover:border-white/20 hover:bg-gray-800 md:hover:bg-white/10 transition-all",children:[i.jsx("div",{className:"absolute -bottom-2 right-8 w-4 h-4 bg-gray-900 md:bg-white/5 border-b border-r border-gray-800 md:border-white/5 transform rotate-45"}),i.jsxs("div",{className:"flex justify-between items-start mb-4",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-12 h-12 rounded-full bg-emerald-900/50 flex items-center justify-center text-emerald-300 font-bold text-lg border border-emerald-500/20",children:d.name.charAt(0)}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-bold text-white",children:d.name}),i.jsx("span",{className:"text-xs text-gray-500 font-medium",children:d.time})]})]}),i.jsx("div",{className:`w-8 h-8 rounded-full ${l(d.platform)} flex items-center justify-center shadow-md ring-2 ring-black/20`,children:o(d.platform)})]}),i.jsxs("p",{className:"text-gray-300 text-base leading-relaxed font-medium",children:['"',d.text,'"']})]});return i.jsx("section",{className:"py-20 relative overflow-hidden",children:i.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:[i.jsxs("div",{className:"text-center mb-16",children:[i.jsx("h2",{className:"text-4xl font-black text-white mb-4 drop-shadow-md",children:" "}),i.jsx("div",{className:"w-24 h-1.5 bg-emerald-500 mx-auto rounded-full shadow-[0_0_10px_rgba(16,185,129,0.5)]"}),i.jsxs("p",{className:"mt-8 text-lg md:text-xl text-gray-300 max-w-4xl mx-auto leading-relaxed text-center px-4 font-medium",style:{lineHeight:"1.8"},children:["  ",i.jsx("span",{className:"text-emerald-400 font-bold",children:"  "}),"                .       ",i.jsx("span",{className:"text-emerald-400 font-bold",children:" "}),"       ",i.jsx("span",{className:"text-emerald-400 font-bold",children:" "}),"   .      ",i.jsx("span",{className:"text-emerald-400 font-bold",children:" "}),"      ."]}),i.jsx("div",{className:"mt-10 flex justify-center animate-fade-in-up delay-200",children:i.jsxs("div",{className:"inline-flex items-center gap-2 bg-emerald-900/20 border border-emerald-500/30 px-5 py-2.5 rounded-full shadow-lg backdrop-blur-sm",children:[i.jsx(ol,{className:"w-5 h-5 text-yellow-500 fill-yellow-500"}),i.jsx("span",{className:"text-emerald-300 font-bold text-sm",children:"   "})]})})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-12",children:[i.jsxs("div",{className:"bg-gray-900 md:bg-white/5 md:backdrop-blur-xl p-6 rounded-[2.5rem] border border-gray-800 md:border-white/10 hover:border-emerald-500/50 transition-all group flex flex-col h-full shadow-lg md:shadow-2xl",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-6 mb-4",children:[i.jsx("div",{className:"w-64 h-64 rounded-3xl shadow-2xl overflow-hidden shrink-0 border-4 border-gray-800 md:border-white/10 group-hover:border-emerald-500/30 group-hover:scale-105 transition-all",children:i.jsx("img",{src:"https://lh3.googleusercontent.com/d/1tbzVNKO3FGH46Pa6MZ58OWD4BXVKdK5P",alt:".   ",className:"w-full h-full object-cover"})}),i.jsxs("div",{className:"text-center sm:text-right flex-1",children:[i.jsx("h3",{className:"text-2xl font-black text-emerald-400 mb-2 inline-block border-b-2 border-emerald-500/30 pb-1 shadow-[0_2px_10px_-2px_rgba(16,185,129,0.2)]",children:".   "}),i.jsx("p",{className:"text-gray-200 font-bold text-base mb-3 drop-shadow-sm",children:"  "}),i.jsxs("div",{className:"flex items-center justify-center sm:justify-start gap-2 text-gray-400 text-xs font-medium bg-black/30 px-3 py-1.5 rounded-full inline-flex shadow-inner border border-white/5",children:[i.jsx(qy,{className:"w-3.5 h-3.5 text-emerald-500"}),"   - "]})]})]}),i.jsxs("div",{className:"mt-auto pt-4 border-t border-white/10",children:[i.jsx("p",{className:"text-xs font-bold text-gray-500 mb-3 text-center sm:text-right",children:" "}),i.jsxs("div",{className:"flex gap-3 justify-center sm:justify-start",children:[i.jsx("a",{href:"https://www.facebook.com/yazanabokaheal2?locale=ms_MY",target:"_blank",rel:"noopener noreferrer",className:"w-12 h-12 rounded-full bg-[#1877F2] text-white flex items-center justify-center shadow-lg hover:scale-110 transition-transform border border-white/10",children:i.jsx(nf,{className:"w-6 h-6"})}),i.jsx("a",{href:"https://wa.me/972568401548",target:"_blank",rel:"noopener noreferrer",className:"w-12 h-12 rounded-full bg-[#25D366] text-white flex items-center justify-center shadow-lg hover:scale-110 transition-transform border border-white/10",children:i.jsx(G2,{className:"w-6 h-6"})}),i.jsx("a",{href:"https://t.me/yazan1342",target:"_blank",rel:"noopener noreferrer",className:"w-12 h-12 rounded-full bg-[#0088cc] text-white flex items-center justify-center shadow-lg hover:scale-110 transition-transform border border-white/10",children:i.jsx($2,{className:"w-6 h-6"})})]})]})]}),i.jsxs("div",{className:"bg-gray-900 md:bg-white/5 md:backdrop-blur-xl p-6 rounded-[2.5rem] border border-gray-800 md:border-white/10 hover:border-blue-500/50 transition-all group flex flex-col h-full shadow-lg md:shadow-2xl",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-6 mb-4",children:[i.jsx("div",{className:"w-64 h-64 rounded-3xl shadow-2xl overflow-hidden shrink-0 border-4 border-gray-800 md:border-white/10 group-hover:border-blue-500/30 group-hover:scale-105 transition-all",children:i.jsx("img",{src:"https://lh3.googleusercontent.com/d/1xPDpcaUPz3IH-pqv-Jgplroi6U27BVVj",alt:".   ",className:"w-full h-full object-cover"})}),i.jsxs("div",{className:"text-center sm:text-right flex-1",children:[i.jsx("h3",{className:"text-2xl font-black text-emerald-400 mb-2 inline-block border-b-2 border-emerald-500/30 pb-1 shadow-[0_2px_10px_-2px_rgba(16,185,129,0.2)]",children:".   "}),i.jsx("p",{className:"text-gray-200 font-bold text-base mb-3 drop-shadow-sm",children:"  "}),i.jsxs("div",{className:"flex items-center justify-center sm:justify-start gap-2 text-gray-400 text-xs font-medium bg-black/30 px-3 py-1.5 rounded-full inline-flex shadow-inner border border-white/5",children:[i.jsx(qy,{className:"w-3.5 h-3.5 text-blue-500"}),"   - "]})]})]}),i.jsxs("div",{className:"mt-auto pt-4 border-t border-white/10",children:[i.jsx("p",{className:"text-xs font-bold text-gray-500 mb-3 text-center sm:text-right",children:" "}),i.jsxs("div",{className:"flex gap-3 justify-center sm:justify-start",children:[i.jsx("a",{href:"#",className:"w-12 h-12 rounded-full bg-[#1877F2] text-white flex items-center justify-center shadow-lg hover:scale-110 transition-transform border border-white/10",children:i.jsx(nf,{className:"w-6 h-6"})}),i.jsx("a",{href:"#",className:"w-12 h-12 rounded-full bg-[#25D366] text-white flex items-center justify-center shadow-lg hover:scale-110 transition-transform border border-white/10",children:i.jsx(G2,{className:"w-6 h-6"})}),i.jsx("a",{href:"#",className:"w-12 h-12 rounded-full bg-[#0088cc] text-white flex items-center justify-center shadow-lg hover:scale-110 transition-transform border border-white/10",children:i.jsx($2,{className:"w-6 h-6"})})]})]})]})]}),i.jsx("div",{className:"text-center mb-12",children:i.jsxs("button",{onClick:()=>r("TEACHER_CV"),className:"inline-flex items-center gap-3 bg-gradient-to-r from-emerald-600 to-teal-600 text-white text-xl font-bold px-10 py-5 rounded-full shadow-lg hover:shadow-[0_0_20px_rgba(16,185,129,0.4)] transition-all transform hover:-translate-y-1 border border-emerald-500/50",children:[i.jsx(Au,{className:"w-6 h-6"}),"  ",i.jsx(gv,{className:"w-6 h-6"})]})}),i.jsxs("div",{className:"mb-0 pt-10 border-t border-white/10",children:[i.jsxs("div",{className:"text-center mb-10",children:[i.jsxs("h2",{className:"text-3xl font-black text-white mb-4",children:["  ",i.jsx("span",{className:"text-emerald-400",children:""}),""]}),i.jsx("p",{className:"text-gray-400",children:"          "})]}),i.jsxs("div",{className:`transform transition-all duration-700 ease-out ${n?"opacity-100 translate-y-0":"opacity-0 translate-y-4"}`,children:[i.jsxs("div",{className:"block md:hidden space-y-4",children:[c(Yu[e]),c(Yu[(e+1)%Yu.length])]}),i.jsx("div",{className:"hidden md:grid md:grid-cols-3 gap-6",children:[0,1,2].map(d=>{const h=(e+d)%Yu.length;return i.jsx("div",{children:c(Yu[h])},Yu[h].id)})})]})]})]})})},OC=({options:r,value:e,onChange:t,placeholder:n,disabled:s})=>{const[o,l]=he.useState(!1),c=he.useRef(null);he.useEffect(()=>{const h=g=>{c.current&&!c.current.contains(g.target)&&l(!1)};return document.addEventListener("mousedown",h),()=>document.removeEventListener("mousedown",h)},[]);const d=r.find(h=>h.value===e&&!h.isHeader);return i.jsxs("div",{className:`relative ${o?"z-[100]":"z-0"}`,ref:c,children:[i.jsxs("button",{type:"button",onClick:()=>!s&&l(!o),className:`w-full px-3 py-2.5 rounded-lg border flex justify-between items-center outline-none transition-all font-bold text-sm
            ${s?"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 text-gray-500 cursor-not-allowed":o?"bg-white dark:bg-gray-800 border-emerald-500 ring-1 ring-emerald-500/20 text-gray-800 dark:text-white shadow-sm":"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 hover:border-emerald-500 text-gray-800 dark:text-white"}
         `,children:[i.jsx("span",{className:`truncate ${d?"":"text-gray-500"}`,children:d?d.label:n}),i.jsx(al,{className:`w-4 h-4 text-gray-400 transition-transform duration-300 ${o?"rotate-180 text-emerald-500":""}`})]}),o&&i.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-700 rounded-lg shadow-xl max-h-48 overflow-y-auto custom-scrollbar animate-fade-in p-1 z-[100]",children:r.map((h,g)=>{if(h.isHeader)return i.jsx("div",{className:"px-3 py-1.5 text-[10px] font-black text-gray-500 uppercase tracking-wider mt-1 first:mt-0 bg-gray-100 dark:bg-gray-800 rounded-md mb-1",children:h.label},g);const x=h.value===e;return i.jsxs("div",{onClick:()=>{t(h.value),l(!1)},className:`px-3 py-2 rounded-md font-bold text-xs cursor-pointer transition-colors flex justify-between items-center mb-1 group
                      ${x?"bg-emerald-50 dark:bg-emerald-900/20 text-emerald-600 dark:text-emerald-400":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800"}
                   `,children:[h.label,x&&i.jsx(rc,{className:"w-3 h-3"})]},g)})})]})},_V=({isOpen:r,onClose:e})=>{const[t,n]=he.useState("ROLE_SELECTION"),[s,o]=he.useState(!1),[l,c]=he.useState(null),[d,h]=he.useState(null),{setTeacherSession:g}=go(),[x,B]=he.useState(""),[w,I]=he.useState(""),[j,M]=he.useState(""),[L,X]=he.useState(""),[V,z]=he.useState(""),[ne,le]=he.useState(""),[R,U]=he.useState(""),[S,P]=he.useState(""),[E,F]=he.useState(""),[Q,J]=he.useState("male"),[xe,ie]=he.useState(""),[Z,Ae]=he.useState(!1),[be,Ee]=he.useState(!1),[$,D]=he.useState("");if(!r)return null;const q=()=>{n("ROLE_SELECTION"),c(null),h(null),B(""),I(""),M(""),X(""),z(""),le(""),U(""),P(""),F(""),J("male"),D(""),ie(""),Ae(!1),Ee(!1),o(!1)},te=()=>{q(),e()},re=H=>{H.preventDefault(),c(null),o(!0),setTimeout(()=>{x==="2001"?(g(".   ","yazanabokaheal@gmail.com"),h("   !  ..."),setTimeout(()=>window.location.reload(),1e3)):x==="2003"?(g(".   ","majd@etqan.edu"),h("    !  ..."),setTimeout(()=>window.location.reload(),1e3)):(c("   "),o(!1))},100)},fe=async H=>{H.preventDefault(),c(null),o(!0);try{await r9(md,w.trim(),j),h("   !   ..."),setTimeout(()=>{window.location.reload()},1e3)}catch(Ke){console.error(Ke),c("      "),o(!1)}},ge=async H=>{if(H.preventDefault(),!Z){c("     ");return}c(null),o(!0);try{const rt=(await t9(md,S.trim(),E)).user,pt="",Pe=R==="university"&&xe?xe:"";await qx(Da(yr,"users",rt.uid),{firstName:L,lastName:V,age:ne,grade:R,gender:Q,school:Pe,avatar:pt,profileBackground:"https://lh3.googleusercontent.com/d/16IHotAb2_MEMsfpUxEIx8CBx94kLVYCs",email:S.trim(),role:"student",totalXP:0,quizzesCompleted:0,createdAt:new Date,acceptedPrivacy:!0,acceptedPrivacyDate:new Date}),h("   !  ..."),setTimeout(()=>{window.location.reload()},1e3)}catch(Ke){console.error(Ke),Ke.code==="auth/email-already-in-use"?c("   "):Ke.code==="auth/weak-password"?c("   "):c("    .    ."),o(!1)}},Be=async H=>{H.preventDefault(),c(null),o(!0);try{await e9(md,$.trim()),h("   !")}catch(Ke){console.error(Ke),Ke.code==="auth/user-not-found"?c("    "):Ke.code==="auth/invalid-email"?c("    "):Ke.code==="auth/too-many-requests"?c("           ."):c("          .")}finally{o(!1)}},_e=()=>{switch(t){case"TEACHER_LOGIN":return"    ...";case"STUDENT_LOGIN":return"  ...";case"STUDENT_SIGNUP":return"   ...";case"FORGOT_PASSWORD":return"   ...";default:return" ..."}},Oe=()=>i.jsxs("div",{className:"flex flex-col gap-4",children:[i.jsx("h3",{className:"text-xl font-bold text-center mb-6 text-gray-800 dark:text-white",children:"   "}),i.jsxs("button",{onClick:()=>n("STUDENT_LOGIN"),className:"group flex items-center p-4 border-2 border-gray-100 dark:border-gray-700 rounded-2xl hover:border-emerald-500 hover:bg-emerald-50 dark:hover:bg-emerald-900/20 transition-all",children:[i.jsx("div",{className:"bg-emerald-100 dark:bg-emerald-900 p-3 rounded-full ml-4 group-hover:bg-emerald-200 dark:group-hover:bg-emerald-800 transition-colors",children:i.jsx(pi,{className:"w-8 h-8 text-emerald-600 dark:text-emerald-400"})}),i.jsxs("div",{className:"text-right flex-1",children:[i.jsx("div",{className:"font-bold text-lg text-gray-900 dark:text-white",children:" "}),i.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"    "})]}),i.jsx(_2,{className:"w-5 h-5 text-gray-300 group-hover:text-emerald-500"})]}),i.jsxs("button",{onClick:()=>n("TEACHER_LOGIN"),className:"group flex items-center p-4 border-2 border-gray-100 dark:border-gray-700 rounded-2xl hover:border-blue-500 hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-all",children:[i.jsx("div",{className:"bg-blue-100 dark:bg-blue-900 p-3 rounded-full ml-4 group-hover:bg-blue-200 dark:group-hover:bg-blue-800 transition-colors",children:i.jsx(Ko,{className:"w-8 h-8 text-blue-600 dark:text-blue-400"})}),i.jsxs("div",{className:"text-right flex-1",children:[i.jsx("div",{className:"font-bold text-lg text-gray-900 dark:text-white",children:" "}),i.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"   "})]}),i.jsx(_2,{className:"w-5 h-5 text-gray-300 group-hover:text-blue-500"})]})]}),He=()=>i.jsxs("form",{onSubmit:re,className:"flex flex-col gap-4",children:[i.jsxs("div",{className:"text-center mb-6",children:[i.jsx("div",{className:"bg-blue-100 dark:bg-blue-900 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx(Ro,{className:"w-8 h-8 text-blue-600 dark:text-blue-400"})}),i.jsx("h3",{className:"text-xl font-bold text-gray-800 dark:text-white",children:" "}),i.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm mt-1",children:"     "})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:" "}),i.jsx("input",{type:"password",value:x,onChange:H=>B(H.target.value),className:"w-full px-4 py-3 rounded-xl border border-gray-200 dark:border-gray-700 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 dark:focus:ring-blue-900 outline-none transition-all text-center text-lg tracking-widest bg-white dark:bg-gray-800 text-black dark:text-white placeholder-gray-500",placeholder:"",required:!0})]}),i.jsx("button",{type:"submit",className:"mt-4 w-full bg-blue-600 text-white py-3 rounded-xl font-bold hover:bg-blue-700 transition-colors shadow-lg shadow-blue-200 dark:shadow-none",children:""})]}),it=()=>i.jsxs("form",{onSubmit:fe,className:"flex flex-col gap-4",children:[i.jsxs("div",{className:"text-center mb-6",children:[i.jsx("h3",{className:"text-xl font-bold text-gray-800 dark:text-white",children:"  "}),i.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm mt-1",children:" !   "})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:" "}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:"email",value:w,onChange:H=>I(H.target.value),className:"w-full px-4 py-3 pr-10 rounded-xl border border-gray-200 dark:border-gray-700 focus:border-emerald-500 focus:ring-2 focus:ring-emerald-200 dark:focus:ring-emerald-900 outline-none transition-all bg-white dark:bg-gray-800 text-black dark:text-white placeholder-gray-500",placeholder:"student@example.com",required:!0}),i.jsx(mA,{className:"w-5 h-5 text-gray-400 absolute top-3.5 right-3"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:" "}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:"password",value:j,onChange:H=>M(H.target.value),className:"w-full px-4 py-3 pr-10 rounded-xl border border-gray-200 dark:border-gray-700 focus:border-emerald-500 focus:ring-2 focus:ring-emerald-200 dark:focus:ring-emerald-900 outline-none transition-all bg-white dark:bg-gray-800 text-black dark:text-white placeholder-gray-500",placeholder:"",required:!0}),i.jsx(Ro,{className:"w-5 h-5 text-gray-400 absolute top-3.5 right-3"})]}),i.jsx("div",{className:"text-left",children:i.jsx("button",{type:"button",onClick:()=>n("FORGOT_PASSWORD"),className:"text-xs text-emerald-600 dark:text-emerald-400 font-bold hover:underline",children:"  "})})]}),i.jsx("button",{type:"submit",disabled:s,className:"mt-4 w-full bg-emerald-600 text-white py-3 rounded-xl font-bold hover:bg-emerald-700 transition-colors shadow-lg shadow-emerald-200 dark:shadow-none flex items-center justify-center gap-2",children:" "}),i.jsx("div",{className:"mt-4 text-center",children:i.jsxs("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:["   "," ",i.jsx("button",{type:"button",onClick:()=>n("STUDENT_SIGNUP"),className:"text-emerald-600 dark:text-emerald-400 font-bold hover:underline",children:"  "})]})})]}),me=()=>{const H=[{label:" ",value:"school_header",isHeader:!0},...[5,6,7,8,9,10,11,12].map(rt=>({label:` ${rt}`,value:rt.toString()})),{label:" ",value:"uni_header",isHeader:!0},{label:"  ",value:"English Major - QOU"},{label:" ",value:"university"}],Ke=[{label:"",value:"male"},{label:"",value:"female"}];return i.jsxs("form",{onSubmit:ge,className:"flex flex-col gap-3",children:[i.jsxs("div",{className:"text-center mb-4",children:[i.jsx("h3",{className:"text-xl font-bold text-gray-800 dark:text-white",children:"   "}),i.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm mt-1",children:"   "})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx("label",{className:"text-xs font-bold text-gray-500 dark:text-gray-400",children:" "}),i.jsx("input",{type:"text",value:L,onChange:rt=>X(rt.target.value),className:"w-full px-3 py-2 rounded-lg border border-gray-200 dark:border-gray-700 focus:border-emerald-500 outline-none bg-white dark:bg-gray-800 text-black dark:text-white placeholder-gray-500 text-sm",required:!0})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("label",{className:"text-xs font-bold text-gray-500 dark:text-gray-400",children:" "}),i.jsx("input",{type:"text",value:V,onChange:rt=>z(rt.target.value),className:"w-full px-3 py-2 rounded-lg border border-gray-200 dark:border-gray-700 focus:border-emerald-500 outline-none bg-white dark:bg-gray-800 text-black dark:text-white placeholder-gray-500 text-sm",required:!0})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx("label",{className:"text-xs font-bold text-gray-500 dark:text-gray-400",children:""}),i.jsx("input",{type:"number",value:ne,onChange:rt=>le(rt.target.value),className:"w-full px-3 py-2 rounded-lg border border-gray-200 dark:border-gray-700 focus:border-emerald-500 outline-none bg-white dark:bg-gray-800 text-black dark:text-white placeholder-gray-500 text-sm",required:!0})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("label",{className:"text-xs font-bold text-gray-500 dark:text-gray-400",children:""}),i.jsx(OC,{options:Ke,value:Q,onChange:rt=>J(rt),placeholder:" "})]})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("label",{className:"text-xs font-bold text-gray-500 dark:text-gray-400 block mb-1",children:" "}),i.jsx(OC,{options:H,value:R,onChange:rt=>U(rt),placeholder:"  / "})]}),R==="university"&&i.jsxs("div",{className:"space-y-1 animate-fade-in",children:[i.jsx("label",{className:"text-xs font-bold text-blue-400 block mb-1",children:"  / "}),i.jsx("input",{type:"text",value:xe,onChange:rt=>ie(rt.target.value),placeholder:":   - ",className:"w-full px-3 py-2 rounded-lg border border-blue-500/50 focus:border-blue-500 outline-none bg-blue-50 dark:bg-blue-900/10 text-black dark:text-white placeholder-gray-500 text-sm",required:!0})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("label",{className:"text-xs font-bold text-gray-500 dark:text-gray-400",children:" "}),i.jsx("input",{type:"email",value:S,onChange:rt=>P(rt.target.value),className:"w-full px-3 py-2 rounded-lg border border-gray-200 dark:border-gray-700 focus:border-emerald-500 outline-none bg-white dark:bg-gray-800 text-black dark:text-white placeholder-gray-500 text-sm",required:!0})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("label",{className:"text-xs font-bold text-gray-500 dark:text-gray-400",children:" "}),i.jsx("input",{type:"password",value:E,onChange:rt=>F(rt.target.value),className:"w-full px-3 py-2 rounded-lg border border-gray-200 dark:border-gray-700 focus:border-emerald-500 outline-none bg-white dark:bg-gray-800 text-black dark:text-white placeholder-gray-500 text-sm",required:!0,minLength:6})]}),i.jsxs("div",{className:"flex items-center gap-2 px-1 mt-2",children:[i.jsx("input",{id:"privacy-policy",type:"checkbox",checked:Z,onChange:rt=>Ae(rt.target.checked),className:"w-4 h-4 text-emerald-600 bg-gray-100 border-gray-300 rounded focus:ring-emerald-500 dark:focus:ring-emerald-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600 cursor-pointer"}),i.jsxs("label",{htmlFor:"privacy-policy",className:"text-xs font-bold text-gray-500 dark:text-gray-400 select-none",children:["  ",i.jsx("span",{onClick:rt=>{rt.preventDefault(),Ee(!0)},className:"text-emerald-500 dark:text-emerald-400 hover:underline cursor-pointer",children:"   "})]})]}),i.jsx("button",{type:"submit",disabled:s||!Z,className:`mt-2 w-full text-white py-3 rounded-xl font-bold transition-all shadow-lg dark:shadow-none flex items-center justify-center gap-2 ${Z?"bg-emerald-600 hover:bg-emerald-700 shadow-emerald-200":"bg-gray-400 cursor-not-allowed opacity-50"}`,children:" "}),i.jsx("div",{className:"text-center mt-2",children:i.jsx("button",{type:"button",onClick:()=>n("STUDENT_LOGIN"),className:"text-sm text-gray-500 dark:text-gray-400 hover:text-emerald-600 transition-colors",children:"    "})})]})},Me=()=>i.jsxs("form",{onSubmit:Be,className:"flex flex-col gap-4",children:[i.jsxs("div",{className:"text-center mb-6",children:[i.jsx("h3",{className:"text-xl font-bold text-gray-800 dark:text-white",children:"  "}),i.jsxs("p",{className:"text-gray-500 dark:text-gray-400 text-sm mt-1",children:["     ",i.jsx("strong",{children:""}),"  "]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:" "}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:"email",value:$,onChange:H=>D(H.target.value),className:"w-full px-4 py-3 pr-10 rounded-xl border border-gray-200 dark:border-gray-700 focus:border-emerald-500 focus:ring-2 focus:ring-emerald-200 dark:focus:ring-emerald-900 outline-none transition-all bg-white dark:bg-gray-800 text-black dark:text-white placeholder-gray-500",placeholder:"student@example.com",required:!0}),i.jsx(mA,{className:"w-5 h-5 text-gray-400 absolute top-3.5 right-3"})]})]}),i.jsx("button",{type:"submit",disabled:s,className:"mt-4 w-full bg-emerald-600 text-white py-3 rounded-xl font-bold hover:bg-emerald-700 transition-colors shadow-lg shadow-emerald-200 dark:shadow-none flex items-center justify-center gap-2",children:"  "}),i.jsx("div",{className:"text-center mt-4",children:i.jsxs("button",{type:"button",onClick:()=>n("STUDENT_LOGIN"),className:"text-sm text-gray-500 dark:text-gray-400 hover:text-emerald-600 transition-colors flex items-center justify-center gap-1 mx-auto",children:[i.jsx(gv,{className:"w-4 h-4"}),"  "]})})]});return i.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center px-4",children:[i.jsx("div",{className:"absolute inset-0 bg-black/70 backdrop-blur-sm transition-opacity duration-300",onClick:te}),i.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-3xl w-full max-w-md relative shadow-2xl overflow-visible animate-fade-in-up p-6 min-h-[400px] flex flex-col border border-gray-100 dark:border-gray-800",children:[s&&!d&&i.jsxs("div",{className:"absolute inset-0 bg-gray-950/95 backdrop-blur-xl z-50 flex flex-col items-center justify-center animate-fade-in rounded-3xl border border-white/10 transition-all duration-500",children:[i.jsxs("div",{className:"relative mb-8",children:[i.jsx("div",{className:"absolute inset-0 bg-emerald-500/20 blur-2xl rounded-full animate-pulse"}),i.jsxs("div",{className:"relative w-24 h-24",children:[i.jsx("div",{className:"absolute inset-0 border-t-4 border-emerald-500 border-solid rounded-full animate-spin"}),i.jsx("div",{className:"absolute inset-2 border-r-4 border-blue-500 border-solid rounded-full animate-spin-reverse"}),i.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:i.jsx(pi,{className:"w-8 h-8 text-white/80"})})]})]}),i.jsx("h4",{className:"text-xl font-black text-white mb-2 tracking-tight animate-pulse",children:_e()}),i.jsxs("p",{className:"text-gray-400 text-sm font-medium flex items-center gap-2",children:[i.jsx(zr,{className:"w-3 h-3 animate-spin"}),"    ..."]})]}),i.jsx("button",{onClick:te,disabled:s,className:"absolute top-4 left-4 p-2 text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-full transition-colors z-10 disabled:opacity-50",children:i.jsx(ba,{className:"w-5 h-5"})}),t!=="ROLE_SELECTION"&&!d&&t!=="FORGOT_PASSWORD"&&i.jsxs("button",{onClick:()=>n("ROLE_SELECTION"),disabled:s,className:"absolute top-4 right-4 p-2 text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-full transition-colors z-10 flex items-center gap-1 disabled:opacity-50",children:[i.jsx(_2,{className:"w-5 h-5"}),i.jsx("span",{className:"text-xs font-bold",children:""})]}),i.jsx("div",{className:"mt-6 flex-1 flex flex-col justify-center",children:d?i.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center gap-4 animate-fade-in",children:[i.jsx("div",{className:"w-20 h-20 bg-green-100 dark:bg-green-900 rounded-full flex items-center justify-center mb-2 animate-[bounce_1s_infinite]",children:i.jsx(rc,{className:"w-10 h-10 text-green-600 dark:text-green-400"})}),i.jsx("h3",{className:"text-2xl font-bold text-gray-800 dark:text-white leading-relaxed px-4 whitespace-pre-line",children:d}),t==="FORGOT_PASSWORD"&&i.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-900 rounded-xl p-4 mx-4 text-sm text-yellow-800 dark:text-yellow-200 text-right shadow-sm mt-4",children:[i.jsxs("p",{className:"font-bold flex items-center gap-2 mb-2 text-yellow-900 dark:text-yellow-100",children:[i.jsx(pg,{className:"w-5 h-5"}),"  :"]}),i.jsxs("p",{className:"leading-relaxed",children:["         ",i.jsx("strong",{children:"    (Spam)"}),"  (Junk)."]})]}),t==="FORGOT_PASSWORD"&&i.jsx("button",{onClick:()=>{n("STUDENT_LOGIN"),h(null)},className:"mt-8 bg-emerald-600 text-white px-10 py-3 rounded-xl font-bold hover:bg-emerald-700 transition-colors shadow-lg shadow-emerald-200 dark:shadow-none transform hover:scale-105 duration-200",children:"  "})]}):i.jsxs(i.Fragment,{children:[t==="ROLE_SELECTION"&&Oe(),t==="TEACHER_LOGIN"&&He(),t==="STUDENT_LOGIN"&&it(),t==="STUDENT_SIGNUP"&&me(),t==="FORGOT_PASSWORD"&&Me(),l&&i.jsxs("div",{className:"mt-4 p-3 bg-red-50 dark:bg-red-900/20 border border-red-100 dark:border-red-900 rounded-lg flex items-start gap-2 text-red-600 dark:text-red-400 text-sm animate-fade-in",children:[i.jsx(pg,{className:"w-5 h-5 shrink-0 mt-0.5"}),i.jsx("span",{className:"font-medium",children:l})]})]})}),be&&i.jsxs("div",{className:"absolute inset-0 bg-gray-900 z-[150] rounded-3xl overflow-hidden flex flex-col animate-fade-in-up",children:[i.jsxs("div",{className:"bg-gray-800 p-4 flex justify-between items-center border-b border-gray-700",children:[i.jsxs("h3",{className:"text-white font-bold flex items-center gap-2",children:[i.jsx(zg,{className:"w-5 h-5 text-emerald-500"})," "]}),i.jsx("button",{onClick:()=>Ee(!1),className:"text-gray-400 hover:text-white",children:i.jsx(ba,{className:"w-5 h-5"})})]}),i.jsxs("div",{className:"flex-1 overflow-y-auto p-6 text-gray-300 text-sm leading-relaxed space-y-4 custom-scrollbar text-right",children:[i.jsxs("div",{className:"bg-emerald-900/20 p-4 rounded-xl border border-emerald-500/20 mb-4",children:[i.jsx("p",{className:"font-bold text-white mb-1",children:"    !"}),i.jsx("p",{className:"text-xs",children:"       ."})]}),i.jsxs("ul",{className:"space-y-4 list-disc list-inside",children:[i.jsxs("li",{children:[i.jsx("strong",{className:"text-white",children:" :"}),"                ."]}),i.jsxs("li",{children:[i.jsx("strong",{className:"text-white",children:" :"}),"                ."]}),i.jsxs("li",{children:[i.jsx("strong",{className:"text-white",children:" :"}),"            .        ."]}),i.jsxs("li",{children:[i.jsx("strong",{className:"text-white",children:" :"}),"             ( )."]})]}),i.jsx("div",{className:"mt-6 pt-4 border-t border-gray-700 text-center",children:i.jsx("button",{onClick:()=>Ee(!1),className:"bg-emerald-600 text-white px-6 py-2 rounded-lg font-bold hover:bg-emerald-700 transition-colors w-full",children:" "})})]})]})]})]})},CV=()=>{const{user:r}=go(),[e,t]=he.useState(null),[n,s]=he.useState(!1),[o,l]=he.useState(null),[c,d]=he.useState("MCQ"),[h,g]=he.useState("MCQ"),[x,B]=he.useState({title:"",subject:"English",grade:"",semester:"First",category:"Language",description:"",duration:"30",questionDuration:"",isPremium:!1,keepOrder:!1}),[w,I]=he.useState([]),[j,M]=he.useState(null),[L,X]=he.useState(!1),[V,z]=he.useState(""),[ne,le]=he.useState({question:"",options:["","","",""],correctAnswer:0,correctAnswerText:"",explanation:"",passageContent:"",generalInstruction:"",passageFontSize:"md"}),[R,U]=he.useState(""),[S,P]=he.useState(!1),[E,F]=he.useState([]),[Q,J]=he.useState(!1),[xe,ie]=he.useState(""),Z=(me,Me)=>{le(H=>({...H,[me]:Me}))},Ae=(me,Me)=>{const H=[...ne.options];H[me]=Me,le(Ke=>({...Ke,options:H}))},be=(me=!1,Me=!1)=>{le(H=>({question:"",options:["","","",""],correctAnswer:0,correctAnswerText:"",explanation:"",passageContent:Me?H.passageContent:"",generalInstruction:Me?H.generalInstruction:"",passageFontSize:Me?H.passageFontSize:"md"})),U(""),M(null),z(""),X(!1),me&&(d("MCQ"),g("MCQ"))},Ee=()=>{if(!V.trim())return;const me=V.split(`
`).map(st=>st.trim()).filter(st=>st);if(me.length<2){alert("  .      .");return}let Me="",H=["","","",""],Ke="";const rt=me.findIndex(st=>st.match(/^(explanation|answer note|reason||||)[:\-\s]/i));if(rt>-1){if(Ke=me[rt].replace(/^(explanation|answer note|reason||||)[:\-\s]*/i,"").trim(),rt<me.length-1){const st=me.slice(rt+1).join(" ");Ke+=" "+st}me.splice(rt,me.length-rt)}const pt=/^([a-d]|[1-4]|||||A-D)[\.\)\-]\s*(.*)/i,Pe=me.map((st,dt)=>st.match(pt)?dt:-1).filter(st=>st!==-1);if(Pe.length>=2){const st=Pe[0];Me=me.slice(0,st).join(`
`),Pe.slice(0,4).forEach((dt,Mt)=>{const St=me[dt].match(pt);St&&(H[Mt]=St[2].trim())})}else{Me=me[0];for(let st=0;st<4;st++)me[st+1]&&(H[st]=me[st+1])}le(st=>({...st,question:Me,options:H,explanation:Ke})),X(!1)},$=()=>{if(!ne.question.trim()){alert("   ");return}const me=c==="TF"||c==="READING"&&h==="TF";if((c==="MCQ"||c==="READING"&&h==="MCQ")&&ne.options.some(rt=>!rt.trim())){alert("   ");return}if(c==="READING"&&!ne.passageContent.trim()){alert("   ");return}if(c==="REORDER"&&!R.trim()){alert("    ");return}if(c==="REWRITE"&&!ne.correctAnswerText.trim()){alert("   ");return}let H=[];if(me)H=["",""];else if(c==="REORDER"){if(H=R.split(" ").filter(rt=>rt.trim().length>0),H.length<2){alert("       ");return}}else H=ne.options;const Ke={id:j||Date.now(),question:ne.question,options:H,correctAnswer:ne.correctAnswer,correctAnswerText:ne.correctAnswerText,explanation:ne.explanation||"",type:c};c==="READING"&&(Ke.passageContent=ne.passageContent,Ke.generalInstruction=ne.generalInstruction,Ke.passageFontSize=ne.passageFontSize),j?(I(w.map(rt=>rt.id===j?Ke:rt)),M(null),be(!1)):(I([...w,Ke]),be(!1,c==="READING"))},D=me=>{const Me=w.find(H=>H.id===me);if(Me){if(M(me),d(Me.type||"MCQ"),Me.type==="READING"&&(Me.options.length===2&&Me.options.includes("")&&Me.options.includes("")?g("TF"):g("MCQ")),Me.type==="REORDER")U(Me.options.join(" ")),le({question:Me.question,options:["","","",""],correctAnswer:Me.correctAnswer,correctAnswerText:"",explanation:Me.explanation||"",passageContent:Me.passageContent||"",generalInstruction:Me.generalInstruction||"",passageFontSize:Me.passageFontSize||"md"});else{const H=Me.type==="TF"||Me.type==="READING"&&Me.options.length===2&&Me.options.includes("");le({question:Me.question,options:H?["","","",""]:Me.options.length>=4?Me.options:[...Me.options,...Array(4-Me.options.length).fill("")],correctAnswer:Me.correctAnswer,correctAnswerText:Me.correctAnswerText||"",explanation:Me.explanation||"",passageContent:Me.passageContent||"",generalInstruction:Me.generalInstruction||"",passageFontSize:Me.passageFontSize||"md"}),U("")}window.scrollTo({top:0,behavior:"smooth"})}},q=()=>{be(!1)},te=me=>{window.confirm("      ")&&(I(w.filter(Me=>Me.id!==me)),j===me&&be(!1))},re=async()=>{if(!x.title||!x.grade){alert("    /");return}if(w.length===0){alert("     ");return}s(!0);try{const me={title:x.title,subject:x.subject,grade:x.grade,semester:x.semester,category:x.category,questions:w,createdBy:(r==null?void 0:r.uid)||"teacher",teacherName:(r==null?void 0:r.displayName)||"",description:x.description||"",duration:parseInt(x.duration)||30,questionDuration:x.questionDuration?parseInt(x.questionDuration):null,isPremium:x.isPremium||!1,keepOrder:x.keepOrder||!1};if(o){const Me=Da(yr,"quizzes",o);await _f(Me,{...me,updatedAt:Ki()}),alert("    !")}else await vA(bn(yr,"quizzes"),{...me,createdAt:Ki()}),alert("    !");B({title:"",subject:"English",grade:"",semester:"First",category:"Language",description:"",duration:"30",questionDuration:"",isPremium:!1,keepOrder:!1}),I([]),l(null),be(!0)}catch(me){console.error("Error saving quiz:",me),alert("   ")}finally{s(!1)}},fe=()=>{window.confirm("        .")&&(B({title:"",subject:"English",grade:"",semester:"First",category:"Language",description:"",duration:"30",questionDuration:"",isPremium:!1,keepOrder:!1}),I([]),l(null),be(!0))},ge=async()=>{J(!0);try{const me="etqan_teacher_import_list",H=Date.now(),Ke=localStorage.getItem(me);if(Ke){const{data:st,timestamp:dt}=JSON.parse(Ke);if(H-dt<3e5){F(st),J(!1);return}}const rt=ya(bn(yr,"quizzes"),Df("createdAt","desc"),Of(50)),Pe=(await yi(rt)).docs.map(st=>({id:st.id,...st.data()}));F(Pe),localStorage.setItem(me,JSON.stringify({data:Pe,timestamp:H}))}catch(me){console.error(me)}J(!1)},Be=()=>{ge(),P(!0)},_e=me=>{if(w.length>0&&!window.confirm("         ."))return;l(me.id||null);const Me=me.grade==="English Major - QOU"||me.grade.includes("University");t(Me?"university":"school"),B({title:me.title,subject:me.subject,grade:me.grade,semester:me.semester||"First",category:me.category||"Language",description:me.description||"",duration:me.duration?me.duration.toString():"30",questionDuration:me.questionDuration?me.questionDuration.toString():"",isPremium:me.isPremium||!1,keepOrder:me.keepOrder||!1}),I(me.questions),P(!1),be(!0),window.scrollTo({top:0,behavior:"smooth"})},Oe=E.filter(me=>(me.title?me.title.toLowerCase().includes(xe.toLowerCase()):!1)||(me.grade?me.grade.includes(xe):!1)),He=[{value:"sm",label:""},{value:"md",label:""},{value:"lg",label:""},{value:"xl",label:" "}];if(!e&&!o)return i.jsx("div",{className:"min-h-screen bg-gray-950 pb-20 animate-fade-in transition-colors duration-300 text-gray-100 flex items-center justify-center",children:i.jsxs("div",{className:"max-w-4xl w-full px-4",children:[i.jsxs("div",{className:"text-center mb-10",children:[i.jsx("h2",{className:"text-3xl font-black text-white mb-3",children:"  "}),i.jsx("p",{className:"text-gray-400",children:"    "})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("button",{onClick:()=>t("school"),className:"bg-gray-900 p-10 rounded-[2.5rem] border border-gray-700 hover:border-emerald-500 hover:bg-gray-800 transition-all group shadow-2xl flex flex-col items-center gap-6",children:[i.jsx("div",{className:"w-24 h-24 rounded-full bg-emerald-900/20 flex items-center justify-center group-hover:scale-110 transition-transform border border-emerald-500/20",children:i.jsx(xA,{className:"w-12 h-12 text-emerald-400"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-2xl font-bold text-white mb-1",children:" "}),i.jsx("p",{className:"text-gray-400 text-sm",children:"  (5 - 12)"})]})]}),i.jsxs("button",{onClick:()=>t("university"),className:"bg-gray-900 p-10 rounded-[2.5rem] border border-gray-700 hover:border-blue-500 hover:bg-gray-800 transition-all group shadow-2xl flex flex-col items-center gap-6",children:[i.jsx("div",{className:"w-24 h-24 rounded-full bg-blue-900/20 flex items-center justify-center group-hover:scale-110 transition-transform border border-blue-500/20",children:i.jsx(ni,{className:"w-12 h-12 text-blue-400"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-2xl font-bold text-white mb-1",children:" "}),i.jsx("p",{className:"text-gray-400 text-sm",children:"  "})]})]})]})]})});const it=c==="MCQ"||c==="READING"&&h==="MCQ";return i.jsxs("div",{className:"min-h-screen bg-gray-950 pb-20 animate-fade-in transition-colors duration-300 text-gray-100",children:[i.jsx("div",{className:"bg-gray-950 pt-10 pb-28 px-4 border-b border-white/5 shadow-sm relative overflow-hidden",children:i.jsx("div",{className:"max-w-6xl mx-auto relative z-10",children:i.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-6",children:[i.jsxs("div",{className:"flex items-center gap-6",children:[i.jsx("div",{className:"p-4 bg-blue-900/30 rounded-3xl shadow-inner border border-blue-800",children:i.jsx(_N,{className:"w-10 h-10 text-blue-400"})}),i.jsxs("div",{className:"text-center md:text-right",children:[i.jsx("h1",{className:"text-3xl md:text-5xl font-black tracking-tight text-white mb-2",children:" "}),i.jsxs("p",{className:"text-blue-400 font-bold text-lg flex items-center gap-2 justify-center md:justify-start",children:[e==="university"?i.jsx(ni,{className:"w-5 h-5"}):i.jsx(xA,{className:"w-5 h-5"})," ",e==="university"?" ":" "]})]})]}),i.jsxs("div",{className:"flex gap-3",children:[i.jsxs("button",{onClick:()=>{t(null),l(null),be(!0)},className:"bg-gray-800 text-gray-300 px-4 py-3 rounded-xl font-bold flex items-center gap-2 hover:bg-gray-700 transition-colors",children:[i.jsx(nc,{className:"w-5 h-5"})," "]}),i.jsxs("button",{onClick:Be,className:"bg-emerald-600 text-white px-6 py-3 rounded-xl font-bold flex items-center gap-2 hover:bg-emerald-700 transition-colors shadow-lg",children:[i.jsx(bg,{className:"w-5 h-5"})," "]})]})]})})}),i.jsx("div",{className:"max-w-6xl mx-auto px-4 -mt-16 relative z-20",children:i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[i.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[i.jsxs("div",{className:`bg-gray-900 rounded-[2rem] shadow-xl border p-6 md:p-8 transition-all ${o?"border-blue-500 ring-2 ring-blue-900":"border-gray-700"}`,children:[i.jsxs("div",{className:"flex justify-between items-start mb-8 border-b border-gray-700 pb-4",children:[i.jsxs("h3",{className:"text-xl font-black text-white flex items-center gap-3",children:[i.jsx("div",{className:"bg-blue-900/30 p-2 rounded-lg",children:i.jsx(Us,{className:"w-5 h-5 text-blue-400"})}),o?"  ":"  "]}),o&&i.jsxs("div",{className:"flex gap-2",children:[i.jsx("span",{className:"bg-blue-900 text-blue-300 px-3 py-1 rounded-full text-xs font-bold animate-pulse",children:" "}),i.jsx("button",{onClick:fe,className:"text-red-500 hover:bg-red-900/20 px-2 rounded",children:i.jsx(ba,{className:"w-4 h-4"})})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"col-span-2",children:[i.jsx("label",{className:"block text-sm font-bold text-gray-300 mb-2",children:" "}),i.jsx("input",{type:"text",value:x.title,onChange:me=>B({...x,title:me.target.value}),placeholder:":    - ",className:"w-full px-5 py-4 rounded-2xl bg-gray-800 border border-gray-700 focus:border-blue-500 focus:ring-4 focus:ring-blue-900/30 transition-all outline-none font-bold text-white placeholder-gray-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-gray-300 mb-2",children:" "}),i.jsxs("div",{className:"relative",children:[i.jsx(px,{className:"w-5 h-5 text-gray-400 absolute top-4 right-4 pointer-events-none"}),e==="university"?i.jsx("input",{type:"text",value:x.subject,onChange:me=>B({...x,subject:me.target.value}),placeholder:"  ...",className:"w-full px-5 py-4 rounded-2xl bg-gray-800 border border-gray-700 focus:border-blue-500 outline-none font-bold text-white"}):i.jsxs("select",{value:x.subject,onChange:me=>B({...x,subject:me.target.value}),className:"w-full px-5 py-4 pr-12 rounded-2xl bg-gray-800 border border-gray-700 focus:border-blue-500 focus:ring-4 focus:ring-blue-900/30 outline-none transition-all font-bold text-white appearance-none cursor-pointer",children:[i.jsx("option",{value:"English",children:"English"}),i.jsx("option",{value:"Science",children:""}),i.jsx("option",{value:"Math",children:""})]})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-gray-300 mb-2",children:e==="university"?" ":" "}),i.jsxs("div",{className:"relative",children:[i.jsx(Ko,{className:"w-5 h-5 text-gray-400 absolute top-4 right-4 pointer-events-none"}),i.jsxs("select",{value:x.grade,onChange:me=>B({...x,grade:me.target.value}),className:"w-full px-5 py-4 pr-12 rounded-2xl bg-gray-800 border border-gray-700 focus:border-blue-500 focus:ring-4 focus:ring-blue-900/30 outline-none transition-all font-bold text-white appearance-none cursor-pointer",children:[i.jsx("option",{value:"",className:"text-gray-400",children:"--  --"}),e==="school"?i.jsx("optgroup",{label:" ",children:[5,6,7,8,9,10,11,12].map(me=>i.jsxs("option",{value:me.toString(),children:[" ",me]},me))}):i.jsx("optgroup",{label:" ",children:i.jsx("option",{value:"English Major - QOU",children:"   -   "})})]}),i.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400",children:i.jsx(al,{className:"w-5 h-5"})})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-gray-300 mb-2",children:" "}),i.jsxs("div",{className:"relative",children:[i.jsx(gg,{className:"w-5 h-5 text-gray-400 absolute top-4 right-4 pointer-events-none"}),i.jsxs("select",{value:x.semester,onChange:me=>B({...x,semester:me.target.value}),className:"w-full px-5 py-4 pr-12 rounded-2xl bg-gray-800 border border-gray-700 focus:border-blue-500 focus:ring-4 focus:ring-blue-900/30 outline-none transition-all font-bold text-white appearance-none cursor-pointer",children:[i.jsx("option",{value:"First",children:"  "}),i.jsx("option",{value:"Second",children:"  "})]}),i.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400",children:i.jsx(al,{className:"w-5 h-5"})})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-gray-300 mb-2",children:"  /  (Category)"}),i.jsxs("div",{className:"relative",children:[i.jsx(mS,{className:"w-5 h-5 text-gray-400 absolute top-4 right-4 pointer-events-none"}),i.jsxs("select",{value:x.category,onChange:me=>B({...x,category:me.target.value}),className:"w-full px-5 py-4 pr-12 rounded-2xl bg-gray-800 border border-gray-700 focus:border-blue-500 focus:ring-4 focus:ring-blue-900/30 outline-none transition-all font-bold text-white appearance-none cursor-pointer",children:[i.jsx("option",{value:"Language",children:"Language ()"}),i.jsx("option",{value:"Reading",children:"Reading ()"}),i.jsx("option",{value:"Writing",children:"Writing ()"}),i.jsx("option",{value:"Vocabulary",children:"Vocabulary ()"}),i.jsx("option",{value:"General",children:"  (General Quiz)"})]}),i.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400",children:i.jsx(al,{className:"w-5 h-5"})})]})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-bold text-gray-300 mb-2 flex items-center gap-2",children:[i.jsx(xg,{className:"w-4 h-4 text-blue-600"}),"  ()"]}),i.jsx("input",{type:"number",min:"1",value:x.duration,onChange:me=>B({...x,duration:me.target.value}),placeholder:": 30",className:"w-full px-5 py-4 rounded-2xl bg-gray-800 border border-gray-700 focus:border-blue-500 focus:ring-4 focus:ring-blue-900/30 transition-all outline-none font-bold text-white"})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-bold text-gray-300 mb-2 flex items-center gap-2",children:[i.jsx(xS,{className:"w-4 h-4 text-blue-600"}),"   ()"]}),i.jsx("input",{type:"number",min:"5",value:x.questionDuration,onChange:me=>B({...x,questionDuration:me.target.value}),placeholder:"   ",className:"w-full px-5 py-4 rounded-2xl bg-gray-800 border border-gray-700 focus:border-blue-500 focus:ring-4 focus:ring-blue-900/30 transition-all outline-none font-bold text-white"}),i.jsx("p",{className:"text-[10px] text-gray-500 mt-1 mr-1",children:":         ."})]}),i.jsx("div",{className:"col-span-1",children:i.jsxs("label",{className:`flex items-center gap-3 p-4 rounded-2xl border cursor-pointer transition-all ${x.keepOrder?"bg-indigo-900/20 border-indigo-500/50":"bg-gray-800 border-gray-700 hover:bg-gray-750"}`,children:[i.jsx("div",{className:`w-12 h-6 rounded-full relative transition-colors ${x.keepOrder?"bg-indigo-500":"bg-gray-600"}`,children:i.jsx("div",{className:`absolute top-1 w-4 h-4 rounded-full bg-white transition-all shadow-md ${x.keepOrder?"right-1":"right-7"}`})}),i.jsx("input",{type:"checkbox",className:"hidden",checked:x.keepOrder,onChange:me=>B({...x,keepOrder:me.target.checked})}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(CN,{className:"w-5 h-5 text-indigo-400"}),i.jsx("span",{className:"font-bold text-white text-sm",children:"  ( )"})]}),i.jsx("p",{className:"text-[10px] text-gray-400 mt-1",children:"     ."})]})]})}),i.jsx("div",{className:"col-span-1",children:i.jsxs("label",{className:"flex items-center gap-3 p-4 rounded-2xl bg-amber-900/10 border border-amber-500/20 cursor-pointer hover:bg-amber-900/20 transition-colors",children:[i.jsx("div",{className:`w-12 h-6 rounded-full relative transition-colors ${x.isPremium?"bg-amber-500":"bg-gray-600"}`,children:i.jsx("div",{className:`absolute top-1 w-4 h-4 rounded-full bg-white transition-all shadow-md ${x.isPremium?"right-1":"right-7"}`})}),i.jsx("input",{type:"checkbox",className:"hidden",checked:x.isPremium,onChange:me=>B({...x,isPremium:me.target.checked})}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ns,{className:"w-5 h-5 text-amber-400 fill-amber-400"}),i.jsx("span",{className:"font-bold text-white text-sm",children:"  (Premium)"})]}),i.jsx("p",{className:"text-[10px] text-gray-400 mt-1",children:"  ."})]})]})})]}),i.jsxs("div",{className:"mt-6",children:[i.jsx("label",{className:"block text-sm font-bold text-gray-300 mb-2",children:"  ()"}),i.jsx("textarea",{value:x.description,onChange:me=>B({...x,description:me.target.value}),className:"w-full px-5 py-4 rounded-2xl bg-gray-800 border border-gray-700 focus:border-blue-500 focus:ring-4 focus:ring-blue-900/30 outline-none transition-all font-medium text-white h-24 resize-none placeholder-gray-500",placeholder:"    ..."})]})]}),i.jsxs("div",{className:"bg-gray-900 rounded-[2rem] shadow-xl border border-gray-700 p-6 md:p-8",children:[i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-8 border-b border-gray-700 pb-4",children:[i.jsxs("h3",{className:"text-xl font-black text-white flex items-center gap-3",children:[i.jsx("div",{className:"bg-blue-900/30 p-2 rounded-lg",children:i.jsx(NN,{className:"w-5 h-5 text-blue-400"})}),j?" ":" "]}),i.jsxs("div",{className:"flex flex-wrap gap-2 bg-gray-800 p-1.5 rounded-xl self-start",children:[i.jsx("button",{onClick:()=>d("MCQ"),className:`px-4 py-2 rounded-lg text-sm font-bold transition-all ${c==="MCQ"?"bg-gray-700 text-blue-400 shadow-sm":"text-gray-400 hover:text-white"}`,children:""}),i.jsx("button",{onClick:()=>d("TF"),className:`px-4 py-2 rounded-lg text-sm font-bold transition-all ${c==="TF"?"bg-gray-700 text-blue-400 shadow-sm":"text-gray-400 hover:text-white"}`,children:"/"}),i.jsxs("button",{onClick:()=>d("READING"),className:`px-4 py-2 rounded-lg text-sm font-bold transition-all flex items-center gap-2 ${c==="READING"?"bg-gray-700 text-blue-400 shadow-sm":"text-gray-400 hover:text-white"}`,children:[i.jsx(ra,{className:"w-4 h-4"}),""]}),i.jsxs("button",{onClick:()=>d("REORDER"),className:`px-4 py-2 rounded-lg text-sm font-bold transition-all flex items-center gap-2 ${c==="REORDER"?"bg-gray-700 text-blue-400 shadow-sm":"text-gray-400 hover:text-white"}`,children:[i.jsx(hS,{className:"w-4 h-4"}),""]}),i.jsxs("button",{onClick:()=>d("REWRITE"),className:`px-4 py-2 rounded-lg text-sm font-bold transition-all flex items-center gap-2 ${c==="REWRITE"?"bg-gray-700 text-blue-400 shadow-sm":"text-gray-400 hover:text-white"}`,children:[i.jsx(fS,{className:"w-4 h-4"})," "]})]})]}),!j&&i.jsx("div",{className:"mb-8",children:L?i.jsxs("div",{className:"bg-gray-800/50 p-4 rounded-xl border border-emerald-500/30 animate-fade-in relative",children:[i.jsx("button",{onClick:()=>X(!1),className:"absolute top-2 left-2 text-gray-500 hover:text-white p-1",children:i.jsx(ba,{className:"w-4 h-4"})}),i.jsxs("h4",{className:"text-emerald-400 font-bold text-sm mb-2 flex items-center gap-2",children:[i.jsx(dk,{className:"w-4 h-4"}),"  "]}),i.jsx("p",{className:"text-gray-400 text-xs mb-3",children:'   .               ":"  "Explanation:"     .'}),i.jsx("textarea",{value:V,onChange:me=>z(me.target.value),className:"w-full h-32 bg-gray-900 border border-gray-700 rounded-xl p-3 text-sm text-white focus:border-emerald-500 outline-none resize-none mb-3"}),i.jsx("div",{className:"flex gap-2 justify-end",children:i.jsxs("button",{onClick:Ee,className:"bg-emerald-600 text-white px-4 py-2 rounded-lg text-xs font-bold hover:bg-emerald-700 flex items-center gap-1",children:[i.jsx(jN,{className:"w-3 h-3"}),"  "]})})]}):i.jsxs("button",{onClick:()=>X(!0),className:"text-xs font-bold text-emerald-400 hover:text-emerald-300 flex items-center gap-1.5 bg-emerald-900/10 px-4 py-2 rounded-lg border border-emerald-500/20 transition-colors w-fit",children:[i.jsx(jN,{className:"w-4 h-4"}),"    ( )"]})}),i.jsxs("div",{className:"space-y-6",children:[c==="READING"&&i.jsxs("div",{className:"space-y-4 bg-blue-900/20 p-5 rounded-2xl border border-blue-800 mb-6",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("h4",{className:"font-bold text-blue-300 flex items-center gap-2",children:[i.jsx(pS,{className:"w-5 h-5"})," "]}),i.jsxs("button",{type:"button",onClick:()=>B(me=>({...me,keepOrder:!me.keepOrder})),className:`text-[10px] font-bold px-3 py-1.5 rounded-lg border transition-colors flex items-center gap-1 ${x.keepOrder?"bg-indigo-600 text-white border-indigo-500":"bg-gray-800 text-gray-400 border-gray-600 hover:text-white"}`,children:[i.jsx(CN,{className:"w-3 h-3"}),x.keepOrder?"  ()":"  "]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-bold text-blue-300 mb-1",children:"  (General Instruction)"}),i.jsx("input",{type:"text",value:ne.generalInstruction,onChange:me=>Z("generalInstruction",me.target.value),placeholder:": Read the following text then answer the question",className:"w-full px-4 py-3 rounded-xl border border-blue-700 focus:border-blue-500 outline-none bg-gray-800 text-sm font-medium"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-bold text-blue-300 mb-1",children:"  (Passage)"}),i.jsx("textarea",{value:ne.passageContent,onChange:me=>Z("passageContent",me.target.value),placeholder:"   ... ( Enter   )",className:"w-full px-4 py-3 rounded-xl border border-blue-700 focus:border-blue-500 outline-none bg-gray-800 text-sm font-medium h-40 resize-y whitespace-pre-wrap",style:{direction:"ltr",textAlign:"left"}}),i.jsx("p",{className:"text-[10px] text-blue-500 mt-1",children:"* :        ."})]}),i.jsxs("div",{className:"flex flex-wrap gap-4 justify-between items-end",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"block text-xs font-bold text-blue-300 mb-2 flex items-center gap-2",children:[i.jsx(sL,{className:"w-4 h-4"}),"  "]}),i.jsx("div",{className:"flex gap-2",children:He.map(me=>i.jsx("button",{onClick:()=>Z("passageFontSize",me.value),className:`px-3 py-1.5 rounded-lg text-xs font-bold transition-all border ${ne.passageFontSize===me.value?"bg-blue-600 text-white border-blue-600":"bg-gray-800 text-gray-300 border-gray-600 hover:border-blue-400"}`,children:me.label},me.value))})]}),i.jsxs("div",{className:"bg-gray-800 p-1.5 rounded-xl border border-blue-700/50 flex gap-2",children:[i.jsxs("button",{onClick:()=>g("MCQ"),className:`px-3 py-1.5 rounded-lg text-xs font-bold transition-all flex items-center gap-1 ${h==="MCQ"?"bg-blue-600 text-white":"text-gray-400 hover:text-white"}`,children:[i.jsx(dS,{className:"w-3 h-3"}),""]}),i.jsxs("button",{onClick:()=>g("TF"),className:`px-3 py-1.5 rounded-lg text-xs font-bold transition-all flex items-center gap-1 ${h==="TF"?"bg-blue-600 text-white":"text-gray-400 hover:text-white"}`,children:[i.jsx(JQ,{className:"w-3 h-3"}),"/"]})]})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-gray-300 mb-2",children:c==="READING"?"  ":c==="REORDER"?"/ ":c==="REWRITE"?"  /  ":" "}),i.jsxs("div",{className:"relative",children:[i.jsx(Mo,{className:"w-5 h-5 text-gray-400 absolute top-4 right-4"}),i.jsx("input",{type:"text",value:ne.question,onChange:me=>Z("question",me.target.value),placeholder:c==="REORDER"?": Rearrange the following sentence":"   ...",className:"w-full px-5 py-4 pr-12 rounded-2xl border-2 border-gray-600 focus:border-blue-500 focus:ring-4 focus:ring-blue-900/30 outline-none font-bold text-lg text-white bg-gray-800 placeholder-gray-400 transition-all"})]})]}),it?i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:ne.options.map((me,Me)=>i.jsxs("div",{className:`relative group transition-all duration-300 ${ne.correctAnswer===Me?"scale-[1.02]":""}`,children:[i.jsxs("label",{className:"flex items-center justify-between mb-2 px-1",children:[i.jsxs("span",{className:`text-xs font-bold ${ne.correctAnswer===Me?"text-blue-400":"text-gray-400"}`,children:[" ",Me+1]}),i.jsx("button",{onClick:()=>Z("correctAnswer",Me),className:`text-[10px] px-2 py-1 rounded-md transition-colors font-bold ${ne.correctAnswer===Me?"bg-blue-900/30 text-blue-300":"bg-gray-700 text-gray-500 hover:bg-gray-600"}`,children:ne.correctAnswer===Me?" ":" "})]}),i.jsx("input",{type:"text",value:me,onChange:H=>Ae(Me,H.target.value),placeholder:`  ${Me+1}`,className:`w-full px-4 py-3 rounded-xl border-2 outline-none transition-all font-medium ${Me===ne.correctAnswer?"border-blue-500 bg-blue-900/20 text-white shadow-sm ring-2 ring-blue-900/30":"border-gray-600 bg-gray-700 focus:border-blue-400 text-gray-200"}`})]},Me))}):c==="REORDER"?i.jsxs("div",{className:"space-y-4",children:[i.jsx("label",{className:"block text-sm font-bold text-gray-300 mb-1",children:"  (   )"}),i.jsx("input",{type:"text",dir:"ltr",value:R,onChange:me=>U(me.target.value),placeholder:"e.g. The sun rises in the east",className:"w-full px-5 py-4 rounded-2xl border-2 border-emerald-800 focus:border-emerald-500 outline-none text-lg font-medium text-white bg-emerald-900/10 text-left"}),R&&i.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:R.split(" ").filter(me=>me.trim()).map((me,Me)=>i.jsx("span",{className:"bg-gray-700 px-3 py-1 rounded-lg text-sm font-bold text-gray-300",children:me},Me))}),i.jsx("p",{className:"text-xs text-gray-500",children:"      ."})]}):c==="REWRITE"?i.jsxs("div",{className:"space-y-4",children:[i.jsx("label",{className:"block text-sm font-bold text-gray-300 mb-1",children:"  (Model Answer)"}),i.jsx("textarea",{dir:"ltr",value:ne.correctAnswerText,onChange:me=>Z("correctAnswerText",me.target.value),placeholder:"         (    )...",className:"w-full px-5 py-4 rounded-2xl border-2 border-blue-800 focus:border-blue-500 outline-none text-lg font-medium text-white bg-blue-900/10 text-left h-24 resize-none"}),i.jsxs("div",{className:"flex items-center gap-2 text-amber-400 bg-amber-900/20 p-3 rounded-xl border border-amber-900/30",children:[i.jsx(xx,{className:"w-5 h-5 shrink-0"}),i.jsx("p",{className:"text-xs font-bold",children:":      (A/a)   ."})]})]}):i.jsxs("div",{className:"flex gap-4",children:[i.jsxs("button",{onClick:()=>Z("correctAnswer",0),className:`flex-1 py-4 rounded-2xl border-2 transition-all font-black text-lg flex items-center justify-center gap-2 ${ne.correctAnswer===0?"border-blue-500 bg-blue-900/30 text-blue-400 shadow-md":"border-gray-600 bg-gray-700 text-gray-400 hover:border-gray-300"}`,children:[ne.correctAnswer===0&&i.jsx(ts,{className:"w-6 h-6"})," (True)"]}),i.jsxs("button",{onClick:()=>Z("correctAnswer",1),className:`flex-1 py-4 rounded-2xl border-2 transition-all font-black text-lg flex items-center justify-center gap-2 ${ne.correctAnswer===1?"border-red-500 bg-red-900/30 text-red-400 shadow-md":"border-gray-600 bg-gray-700 text-gray-400 hover:border-gray-300"}`,children:[ne.correctAnswer===1&&i.jsx(ts,{className:"w-6 h-6"})," (False)"]})]}),i.jsxs("div",{className:"bg-yellow-900/10 p-4 rounded-2xl border border-yellow-900/30",children:[i.jsxs("label",{className:"block text-sm font-bold text-yellow-500 mb-2 flex items-center gap-2",children:[i.jsx("div",{className:"w-2 h-2 bg-yellow-400 rounded-full"}),"  ()"]}),i.jsx("textarea",{value:ne.explanation,onChange:me=>Z("explanation",me.target.value),placeholder:"        ...",className:"w-full px-4 py-3 rounded-xl border border-yellow-800/50 focus:border-yellow-400 focus:ring-2 focus:ring-yellow-900/30 outline-none text-gray-200 bg-gray-800 h-20 resize-none placeholder-gray-400 text-sm",dir:"auto"})]}),i.jsxs("div",{className:"flex gap-3",children:[j&&i.jsxs("button",{onClick:q,className:"flex-1 bg-gray-700 text-gray-300 py-4 rounded-2xl font-bold hover:bg-gray-600 transition-all flex items-center justify-center gap-2",children:[i.jsx(nc,{className:"w-5 h-5"})," "]}),i.jsx("button",{onClick:$,className:`flex-1 bg-gray-800 text-white py-4 rounded-2xl font-bold hover:bg-gray-900 transition-all shadow-none flex items-center justify-center gap-2 transform hover:-translate-y-1 border border-gray-700 ${j?"bg-blue-600 hover:bg-blue-700 border-blue-600":""}`,children:j?i.jsxs(i.Fragment,{children:[i.jsx(cu,{className:"w-5 h-5"})," "]}):i.jsxs(i.Fragment,{children:[i.jsx(NN,{className:"w-5 h-5"}),"  "]})})]})]})]})]}),i.jsx("div",{className:"lg:col-span-1",children:i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-gray-900 rounded-[2rem] shadow-xl border border-gray-700 p-6",children:[i.jsxs("h3",{className:"text-lg font-black text-white mb-6 flex items-center gap-2",children:[i.jsx(cu,{className:"w-5 h-5 text-blue-400"})," "]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"p-5 bg-gray-800 rounded-2xl border border-gray-600 flex flex-col gap-3",children:[i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-gray-400 font-medium",children:" "}),i.jsx("span",{className:"font-black text-white bg-gray-600 px-3 py-0.5 rounded-md shadow-sm",children:w.length})]}),i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-gray-400 font-medium",children:" "}),i.jsx("span",{className:"text-blue-400 font-bold bg-blue-900/30 px-2 py-0.5 rounded-md",children:x.category})]}),i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-gray-400 font-medium",children:" "}),i.jsxs("span",{className:"font-bold text-white",children:[x.duration," "]})]}),i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-gray-400 font-medium",children:""}),i.jsx("span",{className:"font-bold text-white",children:x.semester==="First"?"":""})]}),i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-gray-400 font-medium",children:" "}),o?i.jsx("span",{className:"text-emerald-400 font-bold bg-emerald-900/30 px-2 py-0.5 rounded-md",children:""}):i.jsx("span",{className:"text-blue-400 font-bold bg-blue-900/30 px-2 py-0.5 rounded-md",children:""})]})]}),i.jsxs("button",{onClick:re,disabled:n||w.length===0,className:`w-full py-4 rounded-2xl font-black text-white shadow-lg transition-all flex items-center justify-center gap-2 transform ${n||w.length===0?"bg-gray-600 cursor-not-allowed shadow-none":"bg-blue-600 hover:bg-blue-700 shadow-none hover:-translate-y-1"}`,children:[n?i.jsx(zr,{className:"w-5 h-5 animate-spin"}):o?i.jsx(Kg,{className:"w-5 h-5"}):i.jsx(ts,{className:"w-5 h-5"}),n?" ...":o?" ":"  "]})]})]}),w.length>0&&i.jsxs("div",{className:"bg-gray-900 rounded-[2rem] shadow-xl border border-gray-700 p-6 animate-fade-in-up",children:[i.jsxs("h3",{className:"text-lg font-bold text-white mb-4 flex items-center gap-2",children:[i.jsx("span",{className:"bg-blue-900/30 p-1.5 rounded-lg",children:i.jsx(_N,{className:"w-4 h-4 text-blue-400"})}),"  (",w.length,")"]}),i.jsx("div",{className:"space-y-3 max-h-[calc(100vh-400px)] overflow-y-auto pr-2 custom-scrollbar",children:w.map((me,Me)=>i.jsxs("div",{className:`p-3 rounded-xl border transition-all group relative ${j===me.id?"bg-blue-900/20 border-blue-500 ring-1 ring-blue-500":"bg-gray-700/50 border-gray-600 hover:border-blue-300"}`,children:[i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("span",{className:"bg-gray-600 text-gray-300 font-bold w-6 h-6 flex items-center justify-center rounded-lg text-xs shrink-0 shadow-sm",children:Me+1}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"font-bold text-gray-200 text-sm line-clamp-2 mb-1.5",children:me.question}),i.jsx("div",{className:"flex items-center gap-2",children:i.jsx("span",{className:"text-[10px] bg-gray-600 text-gray-300 px-2 py-0.5 rounded border border-gray-500",children:me.type==="REORDER"?"":me.type==="TF"||me.type==="READING"&&me.options.length===2&&me.options.includes("")?"/":me.type==="REWRITE"?" ":me.passageContent?" ()":""})})]})]}),i.jsxs("div",{className:"flex items-center gap-2 mt-3 pt-3 border-t border-gray-600/50 justify-end",children:[i.jsxs("button",{onClick:()=>D(me.id),className:"flex items-center gap-1 text-xs font-bold text-blue-400 hover:bg-blue-900/30 px-2 py-1.5 rounded-lg transition-colors",children:[i.jsx(Xy,{className:"w-3.5 h-3.5"}),""]}),i.jsx("div",{className:"w-px h-3 bg-gray-600"}),i.jsxs("button",{onClick:()=>te(me.id),className:"flex items-center gap-1 text-xs font-bold text-red-500 hover:bg-red-900/30 px-2 py-1.5 rounded-lg transition-colors",children:[i.jsx(Al,{className:"w-3.5 h-3.5"}),""]})]}),me.explanation&&i.jsxs("div",{className:"mt-2 bg-yellow-900/10 p-2 rounded-lg border border-yellow-900/20 text-xs text-yellow-500/80 line-clamp-1",children:[": ",me.explanation]})]},me.id))})]})]})})]})}),S&&i.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center px-4 bg-black/60 backdrop-blur-sm",children:i.jsxs("div",{className:"bg-gray-900 rounded-3xl w-full max-w-3xl max-h-[85vh] flex flex-col shadow-2xl animate-fade-in-up overflow-hidden",children:[i.jsxs("div",{className:"bg-gray-800 border-b border-gray-700 p-6 flex justify-between items-center shrink-0",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"bg-emerald-900/30 p-2 rounded-xl",children:i.jsx(bg,{className:"w-6 h-6 text-emerald-400"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-black text-white",children:" "}),i.jsx("p",{className:"text-sm text-gray-400",children:"    "})]})]}),i.jsx("button",{onClick:()=>P(!1),className:"p-2 hover:bg-gray-700 rounded-full transition-colors text-gray-400",children:i.jsx(ba,{className:"w-6 h-6"})})]}),i.jsx("div",{className:"p-4 bg-gray-800 border-b border-gray-700",children:i.jsxs("div",{className:"relative",children:[i.jsx(zi,{className:"w-5 h-5 text-gray-400 absolute top-3.5 right-4 pointer-events-none"}),i.jsx("input",{type:"text",placeholder:"   ...",value:xe,onChange:me=>ie(me.target.value),className:"w-full px-12 py-3 rounded-xl border border-gray-700 focus:border-emerald-500 outline-none bg-gray-700 font-bold text-white transition-all"})]})}),i.jsx("div",{className:"flex-1 overflow-y-auto p-4 bg-gray-900 custom-scrollbar",children:Q?i.jsx("div",{className:"flex justify-center py-10",children:i.jsx(zr,{className:"w-8 h-8 animate-spin text-emerald-600"})}):Oe.length===0?i.jsx("div",{className:"text-center py-10 text-gray-400",children:"   "}):i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Oe.map(me=>i.jsxs("div",{onClick:()=>_e(me),className:"bg-gray-800 p-4 rounded-2xl border border-gray-700 cursor-pointer hover:border-emerald-500 hover:shadow-lg transition-all group",children:[i.jsxs("div",{className:"flex justify-between items-start mb-2",children:[i.jsx("span",{className:"bg-blue-900/30 text-blue-300 text-[10px] font-bold px-2 py-0.5 rounded-md",children:me.subject}),i.jsx("span",{className:"text-xs text-gray-400",children:me.grade})]}),i.jsx("h4",{className:"font-bold text-white mb-2 line-clamp-1 group-hover:text-emerald-400 transition-colors",children:me.title}),i.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-400",children:[i.jsx(Mo,{className:"w-3 h-3"}),me.questions.length," "]})]},me.id))})})]})})]})},j0=[{minLevel:1,title:" ",color:"bg-gray-100 text-gray-600 border-gray-200",icon:bv},{minLevel:5,title:" ",color:"bg-emerald-100 text-emerald-700 border-emerald-200",icon:Us},{minLevel:10,title:" ",color:"bg-blue-100 text-blue-700 border-blue-200",icon:zi},{minLevel:15,title:" ",color:"bg-indigo-100 text-indigo-700 border-indigo-200",icon:Au},{minLevel:20,title:" ",color:"bg-purple-100 text-purple-700 border-purple-200",icon:Ef},{minLevel:30,title:" ",color:"bg-amber-100 text-amber-700 border-amber-200",icon:ns}],EV=[{id:"first_step",title:" ",desc:"   ",icon:bv,color:"text-emerald-500",bg:"bg-emerald-500/10",condition:r=>r.quizzesCompleted>=1},{id:"perfect_score",title:" ",desc:"  100%   ",icon:ol,color:"text-yellow-500",bg:"bg-yellow-500/10",condition:r=>r.hasPerfectScore},{id:"dedicated",title:" ",desc:" 5  ",icon:Us,color:"text-blue-500",bg:"bg-blue-500/10",condition:r=>r.quizzesCompleted>=5},{id:"high_level",title:" ",desc:"  5",icon:Ef,color:"text-orange-500",bg:"bg-orange-500/10",condition:r=>r.level>=5},{id:"expert",title:" ",desc:" 10 ",icon:sf,color:"text-purple-500",bg:"bg-purple-500/10",condition:r=>r.quizzesCompleted>=10},{id:"scholar",title:" ",desc:" 1000   (XP)",icon:zi,color:"text-cyan-500",bg:"bg-cyan-500/10",condition:r=>r.totalXP>=1e3},{id:"sharpshooter",title:"",desc:"    3 ",icon:qg,color:"text-red-500",bg:"bg-red-500/10",condition:r=>r.perfectScoresCount>=3},{id:"veteran",title:"",desc:" 20 ",icon:zg,color:"text-indigo-500",bg:"bg-indigo-500/10",condition:r=>r.quizzesCompleted>=20},{id:"rocket",title:"",desc:"  15",icon:gS,color:"text-pink-500",bg:"bg-pink-500/10",condition:r=>r.level>=15},{id:"master",title:"",desc:"  30",icon:ns,color:"text-amber-500",bg:"bg-amber-500/10",condition:r=>r.level>=30}],SV=[{url:"https://lh3.googleusercontent.com/d/1ufUwP7M3wdxWBW60s2xdpZC6W7jfpXv4",minLevel:1},{url:"https://lh3.googleusercontent.com/d/1AqS4xhkK53MwCO-LFRdmtYBQsYSH6vz1",minLevel:1},{url:"https://lh3.googleusercontent.com/d/198SBde0OI07puyVx53mi9MpZ7F-iKltI",minLevel:1},{url:"https://lh3.googleusercontent.com/d/1E--pczIn4ZCSWpWYhKZutLX8lfhtmCrp",minLevel:5},{url:"https://lh3.googleusercontent.com/d/1ep_ggXFs0rCkGJ212WkY5DuRbLNkyLyr",minLevel:10},{url:"https://lh3.googleusercontent.com/d/1siamCZMGjbXH6L9bop_dN1UPSSwfyIwc",minLevel:15},{url:"https://lh3.googleusercontent.com/d/1seg3JDYcNsDBtTY4gU9N5empajSAT_-E",minLevel:1},{url:"https://lh3.googleusercontent.com/d/1QnacjkYXRr-N4yhmt44LubRxbRnzNgqH",minLevel:1},{url:"https://lh3.googleusercontent.com/d/1h5uzg3mZaeaozqEkzwItA14xqDq7kbMb",minLevel:10},{url:"https://lh3.googleusercontent.com/d/1qKn7YfQr7VaDPXB8EjUvlCW-qt3v5E0u",minLevel:15}],X2=[{id:"nature_1",url:"https://lh3.googleusercontent.com/d/16IHotAb2_MEMsfpUxEIx8CBx94kLVYCs",name:" ",minLevel:1},{id:"nature_2",url:"https://lh3.googleusercontent.com/d/1tBjHedpcXQiEjXro--zG3iWDokgrDbgZ",name:" ",minLevel:5},{id:"nature_3",url:"https://lh3.googleusercontent.com/d/1Chp7z63_XfLlt4ZC0MRmKwNsSTlCWwOa",name:" ",minLevel:10},{id:"nature_4",url:"https://lh3.googleusercontent.com/d/12RHK_FCMJt8D24AB3UV7nHxbD50EF4MX",name:" ",minLevel:15},{id:"nature_5",url:"https://lh3.googleusercontent.com/d/1We4c8009ObQB9ZDrpQ8ssUuos4V_4b9w",name:" ",minLevel:20}],MC=({options:r,value:e,onChange:t,placeholder:n,disabled:s})=>{const[o,l]=he.useState(!1),c=he.useRef(null);he.useEffect(()=>{const h=g=>{c.current&&!c.current.contains(g.target)&&l(!1)};return document.addEventListener("mousedown",h),()=>document.removeEventListener("mousedown",h)},[]);const d=r.find(h=>h.value===e&&!h.isHeader);return i.jsxs("div",{className:`relative ${o?"z-[9999]":"z-20"}`,ref:c,children:[i.jsxs("button",{type:"button",onClick:()=>!s&&l(!o),className:`w-full px-4 py-3 rounded-xl border flex justify-between items-center outline-none transition-all font-bold text-sm
            ${s?"bg-gray-950 border-gray-800 text-gray-600 cursor-not-allowed":o?"bg-gray-950 border-blue-500 ring-2 ring-blue-900 text-white shadow-lg":"bg-gray-950 border-gray-800 hover:border-blue-900 text-white shadow-inner"}
         `,children:[i.jsx("span",{className:`truncate ${d?"":"text-gray-600"}`,children:d?d.label:n}),i.jsx(al,{className:`w-4 h-4 text-gray-400 transition-transform duration-300 ${o?"rotate-180 text-blue-500":""}`})]}),o&&i.jsx("div",{className:"absolute top-full left-0 right-0 mt-2 bg-gray-900 border border-gray-700 rounded-xl shadow-xl max-h-52 overflow-y-auto custom-scrollbar animate-fade-in p-2 z-[9999]",children:r.map((h,g)=>{if(h.isHeader)return i.jsx("div",{className:"px-4 py-2 text-[10px] font-black text-gray-500 uppercase tracking-wider mt-2 first:mt-0 bg-gray-800/50 rounded-lg mb-1",children:h.label},g);const x=h.value===e;return i.jsxs("div",{onClick:()=>{t(h.value),l(!1)},className:`px-4 py-2.5 rounded-lg font-bold text-xs cursor-pointer transition-colors flex justify-between items-center mb-1 group
                      ${x?"bg-blue-900/30 text-blue-400":"text-gray-300 hover:bg-gray-800"}
                   `,children:[h.label,x&&i.jsx(rc,{className:"w-3 h-3"})]},g)})})]})},IV=({onNavigate:r})=>{const{user:e,updateUserProfile:t}=go(),[n,s]=he.useState(!1),[o,l]=he.useState(null),[c,d]=he.useState(!1),[h,g]=he.useState(!1),[x,B]=he.useState(!1),[w,I]=he.useState(null),[j,M]=he.useState((e==null?void 0:e.avatar)||""),[L,X]=he.useState((e==null?void 0:e.profileBackground)||X2[0].url),[V,z]=he.useState([]),[ne,le]=he.useState(!0),[R,U]=he.useState(0),[S,P]=he.useState(1),[E,F]=he.useState(j0[0]),[Q,J]=he.useState({quizzesCompleted:0,hasPerfectScore:!1,level:1,totalXP:0,perfectScoresCount:0}),[xe,ie]=he.useState([]),[Z,Ae]=he.useState(""),[be,Ee]=he.useState(!1),[$,D]=he.useState("50"),[q,te]=he.useState(null),[re,fe]=he.useState(!1),[ge,Be]=he.useState(""),[_e,Oe]=he.useState(!1),[He,it]=he.useState({firstName:(e==null?void 0:e.firstName)||"",lastName:(e==null?void 0:e.lastName)||"",age:(e==null?void 0:e.age)||"",grade:(e==null?void 0:e.grade)||"",phone:(e==null?void 0:e.phone)||"",address:(e==null?void 0:e.address)||"",school:(e==null?void 0:e.school)||"",gender:(e==null?void 0:e.gender)||"male",universityName:""});he.useEffect(()=>{e&&(it(De=>({...De,firstName:e.firstName||De.firstName,lastName:e.lastName||De.lastName,gender:e.gender||De.gender,grade:e.grade||De.grade,school:e.school||De.school})),e.avatar&&M(e.avatar),e.profileBackground&&X(e.profileBackground))},[e]);const me=async(De=!1)=>{if(!e||e.role==="teacher")return;const ft=`etqan_quiz_history_${e.uid}`,ct=365*24*60*60*1e3,yt=Date.now();if(De)localStorage.removeItem(ft);else{const qt=localStorage.getItem(ft);if(qt)try{const{history:xt,totalXP:Ar,rankLevel:Rt,stats:Pt,timestamp:Ir}=JSON.parse(qt);if(yt-Ir<ct){z(xt),U(Ar),P(Rt),F(j0.find(Tt=>Rt>=Tt.minLevel)||j0[0]),J(Pt),le(!1);return}}catch(xt){console.error(xt)}}le(!0);try{const qt=ya(bn(yr,"quiz_results"),wa("userId","==",e.uid)),xt=await yi(qt),Ar=[];let Rt=0,Pt=!1,Ir=0;xt.forEach(jn=>{const An=jn.data();Ar.push({id:jn.id,...jn.data(),createdAt:jn.data().createdAt?{seconds:jn.data().createdAt.seconds}:null});let Ft=10+An.percentage*2;An.passed&&(Ft+=50),An.percentage===100&&(Ft+=100,Pt=!0,Ir++),Rt+=Math.round(Ft)}),Ar.sort((jn,An)=>{const Ft=jn.createdAt?jn.createdAt.seconds:0;return(An.createdAt?An.createdAt.seconds:0)-Ft});const Tt=Ar.slice(0,10);let Nt=Rt;e.totalXP!==void 0&&e.totalXP>Nt&&(Nt=e.totalXP);const fr=Math.floor(Nt/500)+1;z(Tt),U(Nt),P(fr);const In=[...j0].reverse().find(jn=>fr>=jn.minLevel)||j0[0];F(In);const Dn={quizzesCompleted:Ar.length,hasPerfectScore:Pt,level:fr,totalXP:Nt,perfectScoresCount:Ir};J(Dn),localStorage.setItem(ft,JSON.stringify({history:Tt,totalXP:Nt,rankLevel:fr,stats:Dn,timestamp:yt}))}catch(qt){console.error(qt)}finally{le(!1)}};he.useEffect(()=>{e&&(e.role==="teacher"?(async()=>{Ee(!0);const ft="etqan_all_students_teacher",ct=1440*60*1e3,yt=localStorage.getItem(ft),qt=Date.now();if(yt)try{const{data:xt,timestamp:Ar}=JSON.parse(yt);if(qt-Ar<ct){ie(xt),Ee(!1);return}}catch(xt){console.error(xt)}try{const xt=ya(bn(yr,"users"),wa("role","==","student")),Rt=(await yi(xt)).docs.map(Pt=>({id:Pt.id,...Pt.data()}));ie(Rt),localStorage.setItem(ft,JSON.stringify({data:Rt,timestamp:qt}))}catch(xt){console.error(xt)}finally{Ee(!1)}})():me())},[e]);const Me=async De=>{De.preventDefault(),s(!0),l(null);try{let ft={...He};He.grade==="university"&&He.universityName&&(ft.school=He.universityName),delete ft.universityName,await t(ft),l("   !"),setTimeout(()=>l(null),3e3)}catch(ft){console.error(ft),alert("   ")}finally{s(!1)}},H=async()=>{s(!0);try{await t({avatar:j}),d(!1)}catch(De){console.error(De)}finally{s(!1)}},Ke=async()=>{s(!0);try{await t({profileBackground:L}),g(!1)}catch(De){console.error(De)}finally{s(!1)}},rt=async(De,ft)=>{if(!De)return;const ct=parseInt($);if(isNaN(ct)||ct<=0){alert("    ");return}if(window.confirm(`     ${ct} XP  ${ft}`)){s(!0),te(null);try{const yt=Da(yr,"users",De);await _f(yt,{totalXP:Tw(ct)});const qt=xe.map(Ar=>Ar.id===De?{...Ar,totalXP:(Ar.totalXP||0)+ct}:Ar);ie(qt),localStorage.setItem("etqan_all_students_teacher",JSON.stringify({data:qt,timestamp:Date.now()})),te(`  ${ct} XP  ${ft} !`),setTimeout(()=>te(null),3e3)}catch(yt){console.error(yt),alert("    ")}finally{s(!1)}}},pt=async()=>{if(!ge.trim()){alert("   ");return}Oe(!0);try{await vA(bn(yr,"announcements"),{title:ge,teacherName:(e==null?void 0:e.displayName)||"",teacherId:e==null?void 0:e.uid,createdAt:Ki()}),await vA(bn(yr,"notifications"),{recipientId:"all",title:"  ",message:ge,type:"info",createdAt:Ki(),read:!1}),alert("   "),Be(""),fe(!1)}catch(De){console.error(De),alert("   ")}finally{Oe(!1)}},Pe=xe.filter(De=>{const ft=(De.displayName||"").toLowerCase(),ct=(De.email||"").toLowerCase(),yt=Z.toLowerCase();return ft.includes(yt)||ct.includes(yt)}),st=De=>De?De.startsWith("http")?{backgroundImage:`url(${De})`,backgroundSize:"cover",backgroundPosition:"center"}:{}:{backgroundImage:`url(${X2[0].url})`,backgroundSize:"cover",backgroundPosition:"center"},dt=De=>!De||De.startsWith("http")?"bg-no-repeat bg-center":De,Mt=De=>De<=3?"text-gray-400":De<=6?"text-emerald-400 font-bold":De<=9?"text-blue-400 font-bold":De<=12?"text-cyan-400 font-black":De<=15?"text-transparent bg-clip-text bg-gradient-to-r from-indigo-400 to-purple-400 font-black":De<=20?"text-transparent bg-clip-text bg-gradient-to-r from-purple-400 to-pink-500 font-black drop-shadow-sm":De<=25?"text-transparent bg-clip-text bg-gradient-to-r from-amber-300 to-orange-500 font-black drop-shadow-md":"text-transparent bg-clip-text bg-gradient-to-r from-red-500 via-orange-500 to-yellow-500 font-black animate-pulse drop-shadow-lg",St=De=>De>=30?"border-red-600 ring-2 ring-red-600/50 shadow-[0_0_20px_rgba(220,38,38,0.5)]":De>=20?"border-orange-700 ring-2 ring-orange-700/30":De>=15?"border-yellow-400 ring-2 ring-yellow-400/30":De>=10?"border-blue-800 ring-2 ring-blue-800/30":De>=5?"border-emerald-500 ring-2 ring-emerald-500/30":"border-gray-500",Yt=V.slice(0,10).map(De=>De.percentage);Yt.length>0&&Math.max(...Yt);const cr=Yt.length>0?Math.round(Yt.reduce((De,ft)=>De+ft,0)/Yt.length):0,ar=Math.min(100,Math.max(0,(R-(S-1)*500)/500*100)),ur="w-full px-4 py-3 rounded-xl bg-gray-950 border border-gray-800 focus:border-blue-500 focus:ring-2 focus:ring-blue-900 outline-none font-bold text-white transition-all placeholder-gray-600 shadow-inner text-sm",dr=[{label:" ",value:"school_header",isHeader:!0},...[5,6,7,8,9,10,11,12].map(De=>({label:` ${De}`,value:De.toString()})),{label:" ",value:"uni_header",isHeader:!0},{label:"  ",value:"English Major - QOU"},{label:" ",value:"university"}],jt=[{label:"",value:"male"},{label:"",value:"female"}],Bt=(De=>De>=85?{label:" ",color:"text-emerald-400",bg:"bg-emerald-900/20",border:"border-emerald-500/20"}:De>=75?{label:"  ",color:"text-blue-400",bg:"bg-blue-900/20",border:"border-blue-500/20"}:De>=65?{label:" ",color:"text-indigo-400",bg:"bg-indigo-900/20",border:"border-indigo-500/20"}:De>=50?{label:"",color:"text-yellow-400",bg:"bg-yellow-900/20",border:"border-yellow-500/20"}:{label:"",color:"text-red-400",bg:"bg-red-900/20",border:"border-red-500/20"})(cr);return(e==null?void 0:e.role)==="teacher"?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-8 md:py-12 animate-fade-in-up pb-32",children:[i.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-6 mb-12 p-2",children:[i.jsxs("div",{className:"relative group",children:[i.jsx("div",{className:"w-28 h-28 rounded-full overflow-hidden border-4 border-gray-800 shadow-2xl bg-gray-700",children:e.avatar?i.jsx("img",{src:e.avatar,alt:"Avatar",className:"w-full h-full object-cover"}):i.jsx(pi,{className:"w-full h-full p-4 text-gray-400"})}),i.jsx("div",{className:"absolute bottom-0 right-0 bg-emerald-500 text-white p-1.5 rounded-full border-4 border-gray-900 shadow-sm",children:i.jsx(ts,{className:"w-4 h-4"})})]}),i.jsxs("div",{className:"text-center md:text-right space-y-2",children:[i.jsxs("h1",{className:"text-3xl md:text-4xl font-black text-white",children:[" ",e.displayName]}),i.jsxs("p",{className:"text-gray-400 font-medium text-lg flex items-center justify-center md:justify-start gap-2",children:[i.jsx(mA,{className:"w-4 h-4 text-blue-500"}),e.email]}),i.jsxs("span",{className:"inline-flex items-center gap-1.5 px-3 py-1 rounded-full bg-blue-900/30 text-blue-300 text-xs font-bold border border-blue-800",children:[i.jsx(Ko,{className:"w-3.5 h-3.5"})," "]})]})]}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-8 gap-4 mb-12",children:[i.jsxs("button",{onClick:()=>r&&r("TEACHER_DASHBOARD"),className:"group bg-gray-900 p-5 rounded-3xl shadow-sm border border-gray-700 hover:border-blue-500 transition-all hover:-translate-y-1 flex flex-col items-center text-center gap-3",children:[i.jsx("div",{className:"w-12 h-12 rounded-2xl bg-blue-900/20 text-blue-400 flex items-center justify-center group-hover:bg-blue-600 group-hover:text-white transition-colors",children:i.jsx(Sk,{className:"w-6 h-6"})}),i.jsx("span",{className:"font-bold text-gray-200 text-sm",children:" "})]}),i.jsxs("button",{onClick:()=>r&&r("QUESTION_BANK"),className:"group bg-gray-900 p-5 rounded-3xl shadow-sm border border-gray-700 hover:border-purple-500 transition-all hover:-translate-y-1 flex flex-col items-center text-center gap-3",children:[i.jsx("div",{className:"w-12 h-12 rounded-2xl bg-purple-900/20 text-purple-400 flex items-center justify-center group-hover:bg-purple-600 group-hover:text-white transition-colors",children:i.jsx(il,{className:"w-6 h-6"})}),i.jsx("span",{className:"font-bold text-gray-200 text-sm",children:" "})]}),i.jsxs("button",{onClick:()=>r&&r("TEACHER_UPLOAD_FILES"),className:"group bg-gray-900 p-5 rounded-3xl shadow-sm border border-gray-700 hover:border-emerald-500 transition-all hover:-translate-y-1 flex flex-col items-center text-center gap-3",children:[i.jsx("div",{className:"w-12 h-12 rounded-2xl bg-emerald-900/20 text-emerald-400 flex items-center justify-center group-hover:bg-emerald-600 group-hover:text-white transition-colors",children:i.jsx(Vy,{className:"w-6 h-6"})}),i.jsx("span",{className:"font-bold text-gray-200 text-sm",children:" "})]}),i.jsxs("button",{onClick:()=>r&&r("TEACHER_EXPLANATIONS"),className:"group bg-gray-900 p-5 rounded-3xl shadow-sm border border-gray-700 hover:border-orange-500 transition-all hover:-translate-y-1 flex flex-col items-center text-center gap-3",children:[i.jsx("div",{className:"w-12 h-12 rounded-2xl bg-orange-900/20 text-orange-400 flex items-center justify-center group-hover:bg-orange-600 group-hover:text-white transition-colors",children:i.jsx(lu,{className:"w-6 h-6"})}),i.jsx("span",{className:"font-bold text-gray-200 text-sm",children:" "})]}),i.jsxs("button",{onClick:()=>fe(!0),className:"group bg-gray-900 p-5 rounded-3xl shadow-sm border border-gray-700 hover:border-red-500 transition-all hover:-translate-y-1 flex flex-col items-center text-center gap-3",children:[i.jsx("div",{className:"w-12 h-12 rounded-2xl bg-red-900/20 text-red-400 flex items-center justify-center group-hover:bg-red-600 group-hover:text-white transition-colors",children:i.jsx(EN,{className:"w-6 h-6"})}),i.jsx("span",{className:"font-bold text-gray-200 text-sm",children:" "})]}),i.jsxs("button",{onClick:()=>r&&r("TEACHER_REVIEWS"),className:"group bg-gray-900 p-5 rounded-3xl shadow-sm border border-gray-700 hover:border-yellow-500 transition-all hover:-translate-y-1 flex flex-col items-center text-center gap-3",children:[i.jsx("div",{className:"w-12 h-12 rounded-2xl bg-yellow-900/20 text-yellow-400 flex items-center justify-center group-hover:bg-yellow-600 group-hover:text-white transition-colors",children:i.jsx(wg,{className:"w-6 h-6"})}),i.jsx("span",{className:"font-bold text-gray-200 text-sm",children:""})]}),i.jsxs("button",{onClick:()=>r&&r("TEACHER_CORRESPONDENCE"),className:"group bg-gray-900 p-5 rounded-3xl shadow-sm border border-gray-700 hover:border-cyan-500 transition-all hover:-translate-y-1 flex flex-col items-center text-center gap-3",children:[i.jsx("div",{className:"w-12 h-12 rounded-2xl bg-cyan-900/20 text-cyan-400 flex items-center justify-center group-hover:bg-cyan-600 group-hover:text-white transition-colors",children:i.jsx(uu,{className:"w-6 h-6"})}),i.jsx("span",{className:"font-bold text-gray-200 text-sm",children:""})]}),i.jsxs("button",{onClick:()=>r&&r("SUBSCRIPTION_MANAGEMENT"),className:"group bg-gray-900 p-5 rounded-3xl shadow-sm border border-gray-700 hover:border-amber-500 transition-all hover:-translate-y-1 flex flex-col items-center text-center gap-3",children:[i.jsx("div",{className:"w-12 h-12 rounded-2xl bg-amber-900/20 text-amber-400 flex items-center justify-center group-hover:bg-amber-600 group-hover:text-white transition-colors",children:i.jsx(B1,{className:"w-6 h-6"})}),i.jsx("span",{className:"font-bold text-gray-200 text-sm",children:" "})]})]}),i.jsxs("div",{className:"bg-gray-900 rounded-[2.5rem] shadow-sm border border-gray-700 overflow-hidden",children:[i.jsxs("div",{className:"p-8 border-b border-gray-700 bg-gray-800/50 flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsxs("h2",{className:"text-xl font-black text-white flex items-center gap-2",children:[i.jsx(sf,{className:"w-6 h-6 text-yellow-500"}),"   (XP)"]}),i.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"      "})]}),q&&i.jsxs("div",{className:"bg-green-900/20 border border-green-500/30 text-green-400 px-4 py-2 rounded-xl text-sm font-bold animate-fade-in flex items-center gap-2",children:[i.jsx(ts,{className:"w-4 h-4"})," ",q]})]}),i.jsxs("div",{className:"p-8",children:[i.jsxs("div",{className:"relative mb-6",children:[i.jsx(zi,{className:"absolute top-3.5 right-4 w-5 h-5 text-gray-400"}),i.jsx("input",{type:"text",placeholder:"   ...",value:Z,onChange:De=>Ae(De.target.value),className:"w-full px-12 py-3 rounded-xl bg-gray-900 border border-gray-700 focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 outline-none font-bold text-white transition-all"})]}),i.jsx("div",{className:"space-y-3 max-h-[400px] overflow-y-auto custom-scrollbar p-1",children:be?i.jsx("div",{className:"flex justify-center py-8",children:i.jsx(zr,{className:"w-8 h-8 animate-spin text-blue-500"})}):Z===""?i.jsx("div",{className:"text-center py-8 text-gray-400 text-sm",children:"    ..."}):Pe.length===0?i.jsx("div",{className:"text-center py-8 text-gray-400 text-sm",children:"    "}):Pe.map(De=>i.jsxs("div",{className:"flex items-center justify-between bg-gray-900/50 p-4 rounded-2xl border border-gray-700 hover:border-blue-700 transition-all",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-700 flex items-center justify-center overflow-hidden",children:De.avatar?i.jsx("img",{src:De.avatar,alt:"Avatar",className:"w-full h-full object-cover"}):i.jsx(pi,{className:"w-5 h-5 text-gray-400"})}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-bold text-white text-sm",children:De.displayName}),i.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-400",children:[i.jsxs("span",{className:"bg-yellow-500/10 text-yellow-400 px-1.5 rounded font-bold flex items-center gap-0.5",children:[i.jsx(N1,{className:"w-3 h-3"})," ",De.totalXP||0]}),i.jsxs("span",{children:[" ",De.email]})]})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("select",{className:"bg-gray-800 border border-gray-700 text-gray-300 text-xs font-bold rounded-lg px-2 py-2 outline-none",value:$,onChange:ft=>D(ft.target.value),children:[i.jsx("option",{value:"10",children:"+10 XP"}),i.jsx("option",{value:"50",children:"+50 XP"}),i.jsx("option",{value:"100",children:"+100 XP"}),i.jsx("option",{value:"200",children:"+200 XP"}),i.jsx("option",{value:"500",children:"+500 XP"})]}),i.jsx("button",{onClick:()=>rt(De.id,De.displayName),className:"bg-blue-600 hover:bg-blue-700 text-white p-2 rounded-lg transition-colors shadow-lg shadow-blue-500/30",title:" ",children:i.jsx(uu,{className:"w-4 h-4"})})]})]},De.id))})]})]})]}),re&&i.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center px-4 bg-black/60 backdrop-blur-sm",children:i.jsxs("div",{className:"bg-gray-900 rounded-3xl w-full max-w-md shadow-2xl animate-fade-in-up overflow-hidden border border-gray-700",children:[i.jsxs("div",{className:"bg-gray-800 border-b border-gray-700 p-6 flex justify-between items-center",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"bg-orange-900/30 p-2 rounded-xl",children:i.jsx(EN,{className:"w-6 h-6 text-orange-400"})}),i.jsx("h2",{className:"text-xl font-black text-white",children:"  "})]}),i.jsx("button",{onClick:()=>fe(!1),className:"p-2 hover:bg-gray-700 rounded-full text-gray-400",children:i.jsx(ba,{className:"w-5 h-5"})})]}),i.jsxs("div",{className:"p-6",children:[i.jsx("label",{className:"block text-sm font-bold text-gray-300 mb-2",children:" "}),i.jsx("input",{type:"text",value:ge,onChange:De=>Be(De.target.value),placeholder:":      ",className:"w-full px-4 py-3 rounded-xl border border-gray-600 bg-gray-800 text-white focus:border-orange-500 outline-none mb-6"}),i.jsxs("button",{onClick:pt,disabled:_e,className:"w-full bg-orange-600 hover:bg-orange-700 text-white py-3 rounded-xl font-bold flex items-center justify-center gap-2 transition-colors",children:[_e?i.jsx(zr,{className:"w-5 h-5 animate-spin"}):i.jsx(cu,{className:"w-5 h-5"}),"   "]})]})]})})]}):i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"max-w-7xl mx-auto px-4 py-8 md:py-12 animate-fade-in-up relative z-20 pb-40",children:i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[i.jsx("div",{className:"lg:col-span-7 lg:order-1 space-y-8",children:i.jsxs("div",{className:"bg-gray-900 rounded-[3rem] shadow-xl border border-gray-700 relative group z-20",children:[i.jsxs("div",{className:`relative w-full h-48 md:h-64 transition-all duration-500 rounded-t-[3rem] overflow-hidden ${dt(e==null?void 0:e.profileBackground)}`,style:st(e==null?void 0:e.profileBackground),children:[i.jsxs("button",{onClick:()=>g(!0),className:"absolute top-4 left-4 bg-black/30 hover:bg-black/50 text-white backdrop-blur-md px-4 py-2 rounded-full text-xs md:text-sm font-bold flex items-center gap-2 transition-all border border-white/20 z-20",children:[i.jsx($y,{className:"w-4 h-4"}),"  "]}),i.jsxs("div",{className:`absolute top-4 right-4 px-4 py-1.5 rounded-full text-xs font-black flex items-center gap-2 backdrop-blur-md shadow-lg border-2 z-10 ${E.color}`,children:[i.jsx(E.icon,{className:"w-4 h-4"})," ",E.title]})]}),i.jsx("div",{className:"absolute top-28 left-1/2 -translate-x-1/2 md:left-auto md:translate-x-0 md:top-40 md:right-12 z-20",children:i.jsxs("div",{className:"relative group cursor-pointer",onClick:()=>d(!0),children:[i.jsx("div",{className:`w-32 h-32 md:w-44 md:h-44 rounded-full border-[4px] md:border-[6px] overflow-hidden bg-gray-700 relative z-10 flex items-center justify-center transition-all duration-300 shadow-xl ${St(S)}`,children:e!=null&&e.avatar?i.jsx("img",{src:e.avatar,alt:"Avatar",className:"w-full h-full object-cover rounded-full"}):i.jsx(pi,{className:"w-16 h-16 text-gray-500"})}),i.jsx("div",{className:"absolute bottom-2 right-2 bg-emerald-500 text-white p-2 rounded-full border-4 border-gray-800 shadow-sm z-20 hover:bg-emerald-600 transition-colors",children:i.jsx(yQ,{className:"w-4 h-4"})})]})}),i.jsxs("div",{className:"pt-20 md:pt-24 px-5 md:px-8 pb-8",children:[i.jsxs("div",{className:"flex flex-col items-center md:items-start text-center md:text-right",children:[i.jsxs("div",{className:"flex items-center justify-center md:justify-start gap-2 mb-1 w-full",children:[i.jsx("h2",{className:"text-3xl font-black text-white",children:e==null?void 0:e.displayName}),(e==null?void 0:e.isSubscriber)&&i.jsx(ns,{className:"w-6 h-6 text-amber-400 fill-amber-400 animate-pulse"})]}),i.jsxs("div",{className:"flex items-center gap-2 mb-4 bg-gray-800/50 px-3 py-1.5 rounded-lg border border-gray-700/50 hover:bg-gray-800 transition-colors group cursor-pointer w-fit mx-auto md:mx-0",title:" ",onClick:()=>{navigator.clipboard.writeText((e==null?void 0:e.uid)||""),B(!0),setTimeout(()=>B(!1),2e3)},children:[i.jsx(xv,{className:"w-3.5 h-3.5 text-gray-500 group-hover:text-emerald-400 transition-colors"}),i.jsxs("span",{className:"text-[10px] font-mono text-gray-500 group-hover:text-gray-300 transition-colors tracking-wider",children:["ID: ",e==null?void 0:e.uid.substring(0,8).toUpperCase(),"..."]})]}),i.jsxs("div",{className:"flex items-center justify-center md:justify-start gap-2 text-sm font-medium mb-6 w-full",children:[i.jsx("span",{className:"text-gray-400",children:e==null?void 0:e.email}),i.jsx("span",{className:"text-gray-300",children:""}),i.jsxs("span",{className:`flex items-center gap-1 ${Mt(S)}`,children:[i.jsx(sf,{className:"w-3 h-3"}),"  ",S]})]})]}),i.jsxs("form",{onSubmit:Me,className:"space-y-6 border-t border-gray-700 pt-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[i.jsx("div",{className:"md:col-span-2",children:i.jsxs("h3",{className:"text-lg font-bold text-white flex items-center gap-2 mb-4",children:[i.jsx(pi,{className:"w-5 h-5 text-blue-500"}),"  "]})}),i.jsxs("div",{children:[i.jsx("label",{className:"text-xs font-bold text-gray-500 mb-1 block",children:" "}),i.jsx("input",{type:"text",value:He.firstName,onChange:De=>it({...He,firstName:De.target.value}),className:ur})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-xs font-bold text-gray-500 mb-1 block",children:" "}),i.jsx("input",{type:"text",value:He.lastName,onChange:De=>it({...He,lastName:De.target.value}),className:ur})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-xs font-bold text-gray-500 mb-1 block",children:""}),i.jsx(MC,{options:jt,value:He.gender,onChange:De=>!(e!=null&&e.genderChanged)&&it({...He,gender:De}),placeholder:" ",disabled:e==null?void 0:e.genderChanged}),(e==null?void 0:e.genderChanged)&&i.jsxs("p",{className:"text-[10px] text-red-400 mt-1 mr-1 flex items-center gap-1",children:[i.jsx(Ro,{className:"w-3 h-3"}),"        "]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-xs font-bold text-gray-500 mb-1 block",children:" "}),i.jsx("input",{type:"text",value:He.phone,onChange:De=>it({...He,phone:De.target.value}),className:ur})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{className:"text-xs font-bold text-gray-500 mb-1 block",children:""}),i.jsx("input",{type:"text",value:He.address,onChange:De=>it({...He,address:De.target.value}),className:ur})]}),i.jsx("div",{className:"md:col-span-2 mt-2",children:i.jsxs("h3",{className:"text-lg font-bold text-white flex items-center gap-2 mb-4",children:[i.jsx(Ko,{className:"w-5 h-5 text-emerald-500"}),"  "]})}),i.jsxs("div",{children:[i.jsx("label",{className:"text-xs font-bold text-gray-500 mb-1 block",children:""}),i.jsx("input",{type:"text",value:He.school,onChange:De=>it({...He,school:De.target.value}),className:ur})]}),i.jsxs("div",{className:"relative",children:[i.jsx("label",{className:"text-xs font-bold text-gray-500 mb-1 block",children:" "}),i.jsx(MC,{options:dr,value:He.grade,onChange:De=>it({...He,grade:De}),placeholder:" "})]}),He.grade==="university"&&i.jsxs("div",{className:"md:col-span-2 animate-fade-in",children:[i.jsx("label",{className:"text-xs font-bold text-blue-400 mb-1 block",children:"  / "}),i.jsx("input",{type:"text",value:He.universityName||He.school,onChange:De=>it({...He,universityName:De.target.value}),placeholder:"   ...",className:`${ur} border-blue-500 bg-blue-900/10`})]})]}),i.jsxs("div",{className:"flex items-center justify-end pt-4 gap-4",children:[o&&i.jsxs("span",{className:"text-green-600 font-bold text-sm animate-fade-in flex items-center gap-1",children:[i.jsx(ts,{className:"w-4 h-4"})," ",o]}),i.jsxs("button",{type:"submit",disabled:n,className:"bg-emerald-600 text-white px-8 py-3 rounded-xl font-bold hover:bg-emerald-700 transition-colors shadow-lg shadow-emerald-900/20 flex items-center gap-2",children:[n?i.jsx(zr,{className:"w-5 h-5 animate-spin"}):i.jsx(cu,{className:"w-5 h-5"}),"  "]})]})]})]})]})}),i.jsxs("div",{className:"lg:col-span-5 lg:order-2 space-y-6 mt-8 lg:mt-0",children:[i.jsxs("div",{className:"bg-gradient-to-br from-indigo-700 via-purple-700 to-fuchsia-700 rounded-3xl md:rounded-[2.5rem] shadow-2xl p-3 md:p-6 text-white relative overflow-hidden border-2 md:border-4 border-gray-800 ring-2 md:ring-4 ring-gray-900",children:[i.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-white opacity-10 rounded-full -translate-y-1/2 translate-x-1/2 blur-3xl"}),i.jsx("div",{className:"absolute bottom-0 left-0 w-48 h-48 bg-indigo-500 opacity-20 rounded-full translate-y-1/2 -translate-x-1/2 blur-3xl"}),i.jsx("div",{className:"flex items-center justify-between mb-2 md:mb-6 relative z-10",children:i.jsxs("div",{className:"flex items-center gap-3 md:gap-4",children:[i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute inset-0 bg-yellow-400 blur-md opacity-50 rounded-full"}),i.jsx("div",{className:"p-2 md:p-3 bg-gradient-to-br from-yellow-300 to-orange-500 rounded-2xl shadow-lg relative border border-white/30",children:i.jsx(E.icon,{className:"w-6 h-6 md:w-8 md:h-8 text-white"})})]}),i.jsxs("div",{children:[i.jsxs("h3",{className:"text-lg md:text-3xl font-black tracking-tight",children:[" ",S]}),i.jsxs("p",{className:"text-indigo-100 text-[10px] md:text-xs font-bold flex items-center gap-1.5 mt-1 bg-black/20 px-3 py-0.5 rounded-full w-fit",children:[i.jsx(N1,{className:"w-3 h-3 text-orange-400 fill-orange-400"})," ",R," XP"]})]})]})}),i.jsxs("div",{className:"relative mb-6 md:mb-8",children:[i.jsxs("div",{className:"flex justify-between text-[10px] md:text-xs font-bold text-indigo-200 mb-1 px-1",children:[i.jsx("span",{children:E.title}),i.jsxs("span",{children:["  ",S+1]})]}),i.jsx("div",{className:"w-full bg-black/30 h-3 md:h-3.5 rounded-full relative overflow-hidden backdrop-blur-sm border border-white/10",children:i.jsx("div",{className:"bg-gradient-to-r from-yellow-400 via-orange-400 to-pink-500 h-full rounded-full transition-all duration-1000 ease-out relative shadow-[0_0_10px_rgba(251,191,36,0.5)]",style:{width:`${ar}%`},children:i.jsx("div",{className:"absolute inset-0 bg-white/30 w-full h-full animate-[pulse_2s_cubic-bezier(0.4,0,0.6,1)_infinite]"})})})]}),i.jsxs("div",{className:"bg-black/20 rounded-2xl p-3 md:p-5 backdrop-blur-md border border-white/10",children:[i.jsxs("h4",{className:"text-xs md:text-sm font-bold text-indigo-100 mb-2 flex items-center gap-2",children:[i.jsx(ns,{className:"w-3 h-3 md:w-4 md:h-4 text-yellow-300"}),"  "]}),i.jsx("div",{className:"text-base md:text-xl font-black text-white tracking-wide mb-1",children:E.title}),i.jsx("div",{className:"text-[10px] md:text-xs text-indigo-200",children:"     !"})]})]}),i.jsxs("div",{className:"bg-gray-900 rounded-3xl shadow-sm border border-gray-700 p-4 md:p-5",children:[i.jsxs("h3",{className:"text-lg font-bold text-white mb-4 flex items-center gap-2 border-b border-gray-700 pb-3",children:[i.jsx("div",{className:"p-2 bg-yellow-900/30 rounded-lg",children:i.jsx(Gy,{className:"w-5 h-5 text-yellow-400"})})," "]}),i.jsx("div",{className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 gap-2",children:EV.map((De,ft)=>{const ct=De.condition(Q);return i.jsxs("button",{onClick:()=>I({badge:De,isUnlocked:ct}),className:`relative p-2 rounded-xl border flex flex-col items-center text-center transition-all hover:scale-105 active:scale-95 ${ct?"bg-gray-700/50 border-gray-600 shadow-sm hover:shadow-md cursor-pointer":"bg-gray-800/50 border-gray-700 opacity-60 grayscale hover:opacity-100 cursor-pointer"}`,children:[i.jsx("div",{className:`w-8 h-8 md:w-9 md:h-9 rounded-full flex items-center justify-center mb-1 ${ct?De.bg:"bg-gray-700"}`,children:i.jsx(De.icon,{className:`w-4 h-4 md:w-5 md:h-5 ${ct?De.color:"text-gray-400"}`})}),i.jsx("h4",{className:"font-bold text-[9px] text-gray-300 leading-tight line-clamp-1",children:De.title}),!ct&&i.jsx("div",{className:"absolute top-1 right-1",children:i.jsx(Ro,{className:"w-2.5 h-2.5 text-gray-500"})})]},ft)})}),w&&i.jsxs("div",{className:"mt-4 bg-gray-800/80 rounded-2xl p-4 border border-gray-700 animate-fade-in flex items-start gap-4 relative",children:[i.jsx("button",{onClick:()=>I(null),className:"absolute top-3 left-3 text-gray-500 hover:text-white transition-colors",children:i.jsx(ba,{className:"w-4 h-4"})}),i.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center shrink-0 ${w.isUnlocked?w.badge.bg:"bg-gray-700"}`,children:i.jsx(w.badge.icon,{className:`w-6 h-6 ${w.isUnlocked?w.badge.color:"text-gray-400"}`})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h4",{className:"text-sm font-bold text-white mb-1",children:w.badge.title}),i.jsxs("div",{className:"text-xs mb-1",children:[i.jsx("span",{className:`font-bold ${w.isUnlocked?"text-emerald-400":"text-gray-400"}`,children:w.isUnlocked?" : ":": "}),i.jsx("span",{className:"text-gray-300",children:w.badge.desc})]}),!w.isUnlocked&&i.jsxs("div",{className:"mt-2 flex items-center gap-1 text-[10px] text-gray-500",children:[i.jsx(Ro,{className:"w-3 h-3"}),i.jsx("span",{children:"    "})]}),w.isUnlocked&&i.jsxs("div",{className:"mt-2 flex items-center gap-1 text-[10px] text-emerald-500",children:[i.jsx(ts,{className:"w-3 h-3"}),i.jsx("span",{children:" "})]})]})]})]}),i.jsxs("div",{className:"bg-gray-900 rounded-3xl shadow-sm border border-gray-700 p-4 hover:shadow-md transition-shadow",children:[i.jsxs("h3",{className:"text-lg font-bold text-white mb-3 flex items-center gap-2",children:[i.jsx("div",{className:"p-2 bg-emerald-900/30 rounded-lg",children:i.jsx(bS,{className:"w-5 h-5 text-emerald-400"})}),"   "]}),ne?i.jsx("div",{className:"h-16 flex items-center justify-center",children:i.jsx(zr,{className:"w-5 h-5 animate-spin text-emerald-500"})}):i.jsx("div",{children:i.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[i.jsxs("div",{className:"bg-gray-800/50 p-2 rounded-2xl border border-gray-700 flex flex-col items-center justify-center h-16",children:[i.jsx("span",{className:"text-gray-400 text-[9px] font-bold mb-1",children:" "}),i.jsxs("span",{className:`text-xl md:text-2xl font-black ${cr>=85?"text-emerald-400":"text-white"}`,children:[cr,"%"]})]}),i.jsxs("div",{className:`p-2 rounded-2xl border ${Bt.bg} ${Bt.border} flex flex-col items-center justify-center h-16`,children:[i.jsx("span",{className:"text-gray-400 text-[9px] font-bold mb-1",children:" "}),i.jsx("span",{className:`text-base md:text-lg font-black ${Bt.color}`,children:Bt.label})]})]})})]}),i.jsxs("div",{className:"bg-gray-900 rounded-3xl shadow-sm border border-gray-700 p-5",children:[i.jsx("div",{className:"flex justify-between items-center mb-4",children:i.jsxs("h3",{className:"text-lg font-bold text-white flex items-center gap-2",children:[i.jsx("div",{className:"p-2 bg-blue-900/30 rounded-lg",children:i.jsx(Mk,{className:"w-5 h-5 text-blue-400"})}),"  "]})}),V.length===0?i.jsxs("div",{className:"text-center py-6 text-gray-500 text-sm",children:[i.jsx(Ck,{className:"w-8 h-8 mx-auto mb-2 opacity-20"}),i.jsx("p",{children:"    "})]}):i.jsx("div",{className:"space-y-3 max-h-60 overflow-y-auto custom-scrollbar pr-1",children:V.map((De,ft)=>{const yt=(De.createdAt?De.createdAt.seconds?new Date(De.createdAt.seconds*1e3):new Date(De.createdAt):new Date).toLocaleDateString("ar-EG");return i.jsxs("div",{className:"flex items-center justify-between p-3 rounded-xl bg-gray-800/50 border border-gray-700 hover:bg-gray-800 transition-colors",children:[i.jsxs("div",{className:"flex items-center gap-3 overflow-hidden",children:[i.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center shrink-0 border-l-4 ${De.passed?"bg-emerald-900/20 text-emerald-400 border-emerald-500":"bg-red-900/20 text-red-400 border-red-500"}`,children:De.passed?i.jsx(ts,{className:"w-4 h-4"}):i.jsx(cS,{className:"w-4 h-4"})}),i.jsxs("div",{className:"min-w-0",children:[i.jsx("h4",{className:"font-bold text-white text-xs truncate mb-0.5",children:De.quizTitle}),i.jsxs("div",{className:"flex items-center gap-2 text-[10px] text-gray-400",children:[i.jsx("span",{className:"bg-gray-700 px-1.5 py-0.5 rounded text-[9px]",children:De.subject}),i.jsx("span",{className:"w-1 h-1 bg-gray-600 rounded-full"}),i.jsx("span",{className:"dir-ltr font-mono",children:yt})]})]})]}),i.jsxs("div",{className:`font-black text-sm ${De.percentage>=80?"text-emerald-400":De.percentage>=50?"text-yellow-400":"text-red-400"}`,children:[De.percentage,"%"]})]},ft)})})]})]})]})}),x&&i.jsx("div",{className:"fixed bottom-8 left-1/2 -translate-x-1/2 z-50 animate-slide-up-fade",children:i.jsxs("div",{className:"bg-gray-800/90 backdrop-blur-md border border-gray-700 text-white px-6 py-3 rounded-full shadow-2xl flex items-center gap-3",children:[i.jsx("div",{className:"bg-emerald-500/20 p-1 rounded-full",children:i.jsx(ts,{className:"w-4 h-4 text-emerald-400"})}),i.jsx("span",{className:"font-bold text-sm",children:"    "})]})}),c&&i.jsx("div",{className:"fixed inset-0 z-[200] flex items-start justify-center p-4 pt-10 md:pt-16 bg-black/80 backdrop-blur-sm animate-fade-in",children:i.jsxs("div",{className:"bg-gray-900 rounded-3xl w-full max-w-sm max-h-[85vh] flex flex-col shadow-2xl border border-gray-700 overflow-hidden relative",children:[i.jsxs("div",{className:"p-4 border-b border-gray-800 flex justify-between items-center shrink-0",children:[i.jsxs("h3",{className:"text-lg font-bold text-white flex items-center gap-2",children:[i.jsx(pi,{className:"w-5 h-5 text-purple-500"}),"  "]}),i.jsx("button",{onClick:()=>d(!1),className:"p-1.5 hover:bg-gray-800 rounded-full transition-colors",children:i.jsx(ba,{className:"w-5 h-5 text-gray-500"})})]}),i.jsx("div",{className:"flex-1 overflow-y-auto p-4 custom-scrollbar",children:i.jsx("div",{className:"grid grid-cols-3 gap-3",children:SV.map((De,ft)=>{const ct=S<De.minLevel;return i.jsxs("button",{onClick:()=>!ct&&M(De.url),disabled:ct,className:`relative aspect-square rounded-xl overflow-hidden border-2 transition-all bg-gray-800 ${j===De.url?"border-emerald-500 shadow-md ring-2 ring-emerald-900/30":"border-transparent hover:border-gray-600"} ${ct?"opacity-60 grayscale":"hover:scale-105 active:scale-95"}`,children:[i.jsx("img",{src:De.url,alt:`Avatar ${ft}`,className:"w-full h-full object-cover"}),ct&&i.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-black/50 text-white backdrop-blur-[1px]",children:[i.jsx(Ro,{className:"w-4 h-4 mb-0.5"}),i.jsxs("span",{className:"text-[10px] font-bold",children:[" ",De.minLevel]})]}),!ct&&j===De.url&&i.jsx("div",{className:"absolute top-1 right-1 bg-emerald-500 text-white rounded-full p-0.5 shadow-sm",children:i.jsx(ts,{className:"w-3 h-3"})})]},ft)})})}),i.jsx("div",{className:"p-4 border-t border-gray-800 shrink-0",children:i.jsxs("button",{onClick:H,disabled:n,className:"w-full bg-emerald-600 text-white py-3 rounded-xl font-bold hover:bg-emerald-700 transition-all shadow-lg shadow-emerald-200 dark:shadow-none flex items-center justify-center gap-2",children:[n?i.jsx(zr,{className:"w-5 h-5 animate-spin"}):i.jsx(cu,{className:"w-5 h-5"}),"  "]})})]})}),h&&i.jsx("div",{className:"fixed inset-0 z-[200] flex items-start justify-center p-4 pt-10 md:pt-16 bg-black/80 backdrop-blur-sm animate-fade-in",children:i.jsxs("div",{className:"bg-gray-900 rounded-3xl w-full max-w-2xl max-h-[85vh] flex flex-col shadow-2xl border border-gray-700 overflow-hidden relative",children:[i.jsxs("div",{className:"p-5 border-b border-gray-800 flex justify-between items-center shrink-0",children:[i.jsxs("h3",{className:"text-xl font-bold text-white flex items-center gap-2",children:[i.jsx($y,{className:"w-6 h-6 text-emerald-500"}),"  "]}),i.jsx("button",{onClick:()=>g(!1),className:"p-2 hover:bg-gray-800 rounded-full transition-colors",children:i.jsx(ba,{className:"w-6 h-6 text-gray-500"})})]}),i.jsx("div",{className:"flex-1 overflow-y-auto p-5 custom-scrollbar",children:i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:X2.map((De,ft)=>{const ct=S<De.minLevel,yt=L===De.url;return i.jsxs("button",{onClick:()=>!ct&&X(De.url),disabled:ct,className:`relative h-28 rounded-2xl overflow-hidden border-4 transition-all duration-300 group ${yt?"border-emerald-500 scale-[1.02] shadow-md":"border-transparent"} ${ct?"opacity-60 cursor-not-allowed grayscale":"hover:scale-[1.02] cursor-pointer"}`,children:[i.jsx("div",{className:"absolute inset-0 bg-cover bg-center",style:{backgroundImage:`url(${De.url})`}}),i.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:ct?i.jsxs("div",{className:"bg-black/60 px-3 py-1.5 rounded-lg backdrop-blur-sm flex items-center gap-1.5",children:[i.jsx(Ro,{className:"w-4 h-4 text-white"}),i.jsxs("span",{className:"text-xs text-white font-bold",children:[" ",De.minLevel]})]}):yt&&i.jsx(ts,{className:"w-8 h-8 text-white drop-shadow-md"})}),i.jsx("div",{className:"absolute bottom-0 w-full bg-gradient-to-t from-black/80 to-transparent p-2 text-center",children:i.jsx("span",{className:"text-xs font-bold text-white drop-shadow-md",children:De.name})})]},ft)})})}),i.jsxs("div",{className:"p-5 border-t border-gray-800 shrink-0 flex justify-end gap-3",children:[i.jsx("button",{onClick:()=>g(!1),className:"px-6 py-2.5 rounded-xl font-bold text-gray-500 hover:bg-gray-800 transition-colors",children:""}),i.jsx("button",{onClick:Ke,disabled:n,className:"bg-emerald-600 text-white px-8 py-2.5 rounded-xl font-bold hover:bg-emerald-700 transition-all shadow-lg shadow-emerald-200 dark:shadow-none flex items-center gap-2",children:n?i.jsx(zr,{className:"w-5 h-5 animate-spin"}):" "})]})]})})]})},jV=[{id:"All",label:" (All)"},{id:"General",label:"  (General Quiz)"},{id:"Reading",label:"Reading ()"},{id:"Language",label:"Language ()"},{id:"Vocabulary",label:"Vocabulary ()"},{id:"Writing",label:"Writing ()"}],PC={General:1,Reading:2,Language:3,Vocabulary:4,Writing:5},Y2=({options:r,value:e,onChange:t,placeholder:n,disabled:s})=>{const[o,l]=he.useState(!1),c=he.useRef(null);he.useEffect(()=>{const h=g=>{c.current&&!c.current.contains(g.target)&&l(!1)};return document.addEventListener("mousedown",h),()=>document.removeEventListener("mousedown",h)},[]);const d=r.find(h=>h.value===e&&!h.isHeader);return i.jsxs("div",{className:`relative ${o?"z-50":"z-0"}`,ref:c,children:[i.jsxs("button",{type:"button",onClick:()=>!s&&l(!o),className:`w-full px-5 py-4 rounded-2xl font-bold text-right border-2 flex justify-between items-center outline-none transition-all
            ${s?"bg-gray-800 border-gray-700 text-gray-400 cursor-not-allowed":o?"bg-gray-800 border-emerald-500 ring-4 ring-emerald-900/20 text-white shadow-lg":"bg-gray-800 border-transparent hover:border-emerald-700 text-white shadow-sm"}
         `,children:[i.jsx("span",{className:`truncate ${d?"":"text-gray-500"}`,children:d?d.label:n}),i.jsx(al,{className:`w-5 h-5 text-gray-400 transition-transform duration-300 ${o?"rotate-180 text-emerald-500":""}`})]}),o&&i.jsxs("div",{className:"absolute top-full left-0 right-0 mt-2 bg-gray-800 border border-gray-700 rounded-2xl shadow-xl max-h-72 overflow-y-auto custom-scrollbar animate-fade-in p-2 z-50",children:[r.map((h,g)=>{if(h.isHeader)return i.jsx("div",{className:"px-4 py-2 text-xs font-black text-gray-500 uppercase tracking-wider mt-2 first:mt-0 bg-gray-700/50 rounded-lg mb-1",children:h.label},g);const x=h.value===e;return i.jsxs("div",{onClick:()=>{t(h.value),l(!1)},className:`px-4 py-3 rounded-xl font-bold text-sm cursor-pointer transition-colors flex justify-between items-center mb-1 group
                      ${x?"bg-emerald-900/30 text-emerald-400":"text-gray-300 hover:bg-gray-700"}
                   `,children:[h.label,x&&i.jsx(rc,{className:"w-4 h-4"})]},g)}),r.length===0&&i.jsx("div",{className:"p-4 text-center text-gray-400 text-sm",children:"   "})]})]})},TV=(r="General")=>{switch(r){case"Language":return{label:"",bg:"bg-indigo-500/10",border:"border-indigo-500/20",text:"text-indigo-400",hoverBorder:"group-hover:border-indigo-500/50",buttonHover:"group-hover:bg-indigo-600 group-hover:border-indigo-500 group-hover:text-white",icon:il};case"Reading":return{label:"",bg:"bg-emerald-500/10",border:"border-emerald-500/20",text:"text-emerald-400",hoverBorder:"group-hover:border-emerald-500/50",buttonHover:"group-hover:bg-emerald-600 group-hover:border-emerald-500 group-hover:text-white",icon:ra};case"Writing":return{label:"",bg:"bg-orange-500/10",border:"border-orange-500/20",text:"text-orange-400",hoverBorder:"group-hover:border-orange-500/50",buttonHover:"group-hover:bg-orange-600 group-hover:border-orange-500 group-hover:text-white",icon:px};case"Vocabulary":return{label:"",bg:"bg-purple-500/10",border:"border-purple-500/20",text:"text-purple-400",hoverBorder:"group-hover:border-purple-500/50",buttonHover:"group-hover:bg-purple-600 group-hover:border-purple-500 group-hover:text-white",icon:Vg};case"General":default:return{label:"",bg:"bg-gray-700/30",border:"border-gray-700",text:"text-gray-400",hoverBorder:"group-hover:border-gray-500",buttonHover:"group-hover:bg-gray-700 group-hover:border-gray-500 group-hover:text-white",icon:Us}}},UV=({onBack:r,onNavigate:e})=>{const{user:t}=go(),[n,s]=he.useState("SELECTION"),[o,l]=he.useState(null),[c,d]=he.useState(""),[h,g]=he.useState(""),[x,B]=he.useState("First"),[w,I]=he.useState("All"),[j,M]=he.useState([]),[L,X]=he.useState(!1),[V,z]=he.useState(null),[ne,le]=he.useState(0),[R,U]=he.useState({}),[S,P]=he.useState(1800),[E,F]=he.useState(null),[Q,J]=he.useState(!1),[xe,ie]=he.useState(0),[Z,Ae]=he.useState({}),[be,Ee]=he.useState(!1),[$,D]=he.useState(null),[q,te]=he.useState(!1),[re,fe]=he.useState(!1),[ge,Be]=he.useState(!1),[_e,Oe]=he.useState(0),[He,it]=he.useState(!1),[me,Me]=he.useState(!1),[H,Ke]=he.useState(null),[rt,pt]=he.useState(0),[Pe,st]=he.useState(""),[dt,Mt]=he.useState(!1),[St,Yt]=he.useState(!1),[,cr]=he.useState(0);he.useEffect(()=>{const et=setInterval(()=>cr(gt=>gt+1),5e3);return()=>clearInterval(et)},[]);const ar=()=>{if(!(t!=null&&t.isSubscriber)||!t.subscriptionExpiry)return!1;const et=t.subscriptionExpiry.seconds?t.subscriptionExpiry.seconds*1e3:new Date(t.subscriptionExpiry).getTime();return Date.now()<et};he.useEffect(()=>{window.scrollTo(0,0)},[n,o]),he.useEffect(()=>{h?ur():M([])},[h,t==null?void 0:t.isSubscriber]),he.useEffect(()=>{let et;return n==="ACTIVE"&&S>0&&(et=setInterval(()=>{P(gt=>gt<=1?(yt(),0):gt-1)},1e3)),()=>clearInterval(et)},[n,S]),he.useEffect(()=>{let et;return n==="ACTIVE"&&(V!=null&&V.questionDuration)&&E!==null&&(E>0?et=setInterval(()=>{F(gt=>gt!==null&&gt>0?gt-1:0)},1e3):E===0&&ct()),()=>clearInterval(et)},[n,V,E]),he.useEffect(()=>{V!=null&&V.questionDuration?F(V.questionDuration):F(null)},[ne,V]),he.useEffect(()=>{if(n!=="ACTIVE")return;const et=()=>{Oe(at=>{const wt=at+1;return wt===1?fe(!0):wt>=2&&(fe(!1),Be(!0)),wt})},gt=()=>{document.hidden&&et()},Gt=at=>{(at.key==="PrintScreen"||at.ctrlKey&&at.key==="p"||at.metaKey&&at.shiftKey)&&(at.preventDefault(),et())},_t=at=>at.preventDefault();return document.addEventListener("visibilitychange",gt),document.addEventListener("keydown",Gt),document.addEventListener("contextmenu",_t),document.addEventListener("copy",_t),document.addEventListener("paste",_t),document.addEventListener("cut",_t),document.addEventListener("selectstart",_t),()=>{document.removeEventListener("visibilitychange",gt),document.removeEventListener("keydown",Gt),document.removeEventListener("contextmenu",_t),document.removeEventListener("copy",_t),document.removeEventListener("paste",_t),document.removeEventListener("cut",_t),document.removeEventListener("selectstart",_t)}},[n]);const ur=async()=>{X(!0);try{const et=ya(bn(yr,"quizzes"),wa("grade","==",h)),gt=await Pj(et),Gt=[];gt.forEach(_t=>{Gt.push({id:_t.id,..._t.data()})}),M(Gt)}catch(et){console.error("Error fetching quizzes:",et)}finally{X(!1)}},dr=Array.from(new Set(j.map(et=>et.subject))),jt=j.filter(et=>{const gt=c?et.subject===c:!0,Gt=w&&w!=="All"?et.category===w:!0,at=(et.semester||"First")===x;return gt&&Gt&&at}),hr=et=>{const gt=ar();if(et.isPremium&&!gt){it(!0);return}D(et),Ee(!0)},Bt=et=>{if(!et.questions||et.questions.length===0){alert("      ");return}let gt=[...et.questions];et.keepOrder||gt.sort(()=>Math.random()-.5),gt=gt.map(wt=>{if(wt.type==="MCQ"||wt.type==="TF"||wt.type==="READING"){const Dt=wt.options.map((bt,wr)=>({opt:bt,originalIndex:wr}));Dt.sort(()=>Math.random()-.5);const kt=Dt.map(bt=>bt.opt),ir=Dt.findIndex(bt=>bt.originalIndex===wt.correctAnswer);return{...wt,options:kt,correctAnswer:ir}}return wt});const Gt={...et,questions:gt},_t={};gt.forEach((wt,Dt)=>{if(wt.type==="REORDER"){const kt=wt.options.map((ir,bt)=>bt);for(let ir=kt.length-1;ir>0;ir--){const bt=Math.floor(Math.random()*(ir+1));[kt[ir],kt[bt]]=[kt[bt],kt[ir]]}_t[Dt]=kt}}),Ae(_t),z(Gt),le(0),U({});const at=et.duration?et.duration*60:1800;P(at),ie(0),Oe(0),Be(!1),pt(0),st(""),Yt(!1),Ee(!1),D(null),s("ACTIVE")},De=()=>{$&&Bt($)},ft=et=>{U(gt=>({...gt,[ne]:et}))},ct=()=>{V&&(F(null),ne<V.questions.length-1?le(et=>et+1):yt())},yt=async()=>{var _t;if(!V||!t){s("RESULT");return}J(!0);const et=Ar(),gt=Math.round(et/V.questions.length*100);let Gt=et*30;ie(Gt);try{if(t.role==="teacher"){console.log("Teacher simulation: skipping database save."),s("RESULT"),J(!1);return}const at=((_t=md.currentUser)==null?void 0:_t.uid)||t.uid;try{await vA(bn(yr,"quiz_results"),{userId:at,userName:t.displayName,quizId:V.id||"unknown",quizTitle:V.title,subject:V.subject,score:et,totalQuestions:V.questions.length,percentage:gt,passed:gt>=50,earnedXP:Gt,createdAt:Ki()})}catch(kt){console.error("Critical: Error saving quiz_results record:",kt)}try{const kt=Da(yr,"users",at);await qx(kt,{totalXP:Tw(Gt),quizzesCompleted:Tw(1),lastQuizDate:Ki(),role:"student",email:t.email,displayName:t.displayName},{merge:!0})}catch(kt){console.error("Error updating user XP/Stats:",kt)}const wt=`etqan_user_profile_${at}`,Dt=localStorage.getItem(wt);if(Dt)try{const{data:kt,timestamp:ir}=JSON.parse(Dt),bt={...kt,totalXP:(kt.totalXP||0)+Gt,quizzesCompleted:(kt.quizzesCompleted||0)+1};localStorage.setItem(wt,JSON.stringify({data:bt,timestamp:ir}))}catch{}localStorage.removeItem(`etqan_quiz_history_${at}`)}catch(at){console.error("General error in handleSubmitQuiz:",at)}finally{J(!1),s("RESULT")}},qt=async()=>{var et;if(rt!==0&&!(!V||!t)){Mt(!0);try{const gt=(V==null?void 0:V.id)||"unknown",Gt=(V==null?void 0:V.title)||"";await vA(bn(yr,"reviews"),{type:"quiz",targetId:gt,targetTitle:Gt,teacherId:(V==null?void 0:V.createdBy)||"teacher",teacherName:(V==null?void 0:V.teacherName)||"",rating:rt,comment:Pe,studentId:((et=md.currentUser)==null?void 0:et.uid)||t.uid,studentName:t.displayName,createdAt:Ki()}),Yt(!0)}catch(gt){console.error("Error saving review:",gt),alert("     (   Firestore)")}finally{Mt(!1)}}},xt=et=>{const gt=Math.floor(et/60),Gt=et%60;return`${gt}:${Gt<10?"0":""}${Gt}`},Ar=()=>{if(!V)return 0;let et=0;return V.questions.forEach((gt,Gt)=>{if(gt.type==="REORDER"){const _t=R[Gt];if(_t&&_t.length===gt.options.length){let at=!0;for(let wt=0;wt<gt.options.length;wt++)if(_t[wt]!==wt){at=!1;break}at&&et++}}else if(gt.type==="REWRITE"){const _t=R[Gt];_t&&_t.trim()===(gt.correctAnswerText||"").trim()&&et++}else R[Gt]===gt.correctAnswer&&et++}),et},Rt=()=>{te(!0)},Pt=()=>{te(!1),s("SELECTION")},Ir=()=>{Be(!1),s("SELECTION")},Tt=et=>{Ke(et),Me(!0)},Nt=()=>{if(Me(!1),H==="REVIEW")s("REVIEW");else if(H==="RETAKE"){const et=j.find(gt=>gt.id===(V==null?void 0:V.id));et?Bt(et):s("SELECTION")}else H==="LIST"?s("SELECTION"):H==="HOME"&&r();Ke(null)},fr=(et,gt)=>{const Gt=R[ne]||[];ft(gt?[...Gt,et]:Gt.filter(_t=>_t!==et))},In=({title:et,message:gt,onConfirm:Gt,onCancel:_t,icon:at=Mo,confirmText:wt="",cancelText:Dt="",confirmColor:kt="emerald",isStatic:ir=!1})=>i.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center px-4",children:[i.jsx("div",{className:"absolute inset-0 bg-black/90 backdrop-blur-md",onClick:Dt?_t:void 0}),i.jsxs("div",{className:`bg-gray-900 rounded-[2.5rem] p-8 max-sm w-full relative z-10 text-center border border-white/10 shadow-2xl shadow-black/50 ${ir?"":"animate-fade-in-up"}`,children:[i.jsx("div",{className:`w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-6 shadow-lg border-4 border-gray-800 ${kt==="red"?"bg-red-500/20":"bg-emerald-500/20"}`,children:i.jsx(at,{className:`w-10 h-10 ${kt==="red"?"text-red-500":"text-emerald-500"}`})}),i.jsx("h3",{className:"text-2xl font-black text-white mb-3",children:et}),i.jsx("p",{className:"text-gray-400 mb-8 text-base font-medium leading-relaxed",children:gt}),i.jsxs("div",{className:"flex gap-4 justify-center",children:[i.jsx("button",{onClick:Gt,className:`flex-1 py-3.5 rounded-xl font-bold text-white transition-all shadow-lg ${kt==="red"?"bg-gradient-to-r from-red-600 to-pink-600 shadow-red-900/30":"bg-gradient-to-r from-emerald-500 to-teal-600 shadow-emerald-900/30"} ${ir?"":"transform hover:scale-105 active:scale-95"} ${Dt?"":"max-w-[200px]"}`,children:wt}),Dt&&i.jsx("button",{onClick:_t,className:"flex-1 bg-gray-800 text-gray-300 py-3.5 rounded-xl font-bold hover:bg-gray-700 transition-colors border border-gray-700",children:Dt})]})]})]}),Dn=()=>{if(!o)return i.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8 animate-fade-in relative z-10",children:[i.jsxs("div",{className:"text-center mb-10",children:[i.jsx("h2",{className:"text-3xl font-black text-white mb-3",children:"  "}),i.jsx("p",{className:"text-gray-400",children:"      "})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("button",{onClick:()=>l("school"),className:"bg-gray-900 p-10 rounded-[2.5rem] border border-gray-700 hover:border-emerald-500 hover:bg-gray-800 transition-all group shadow-2xl flex flex-col items-center gap-6",children:[i.jsx("div",{className:"w-24 h-24 rounded-full bg-emerald-900/20 flex items-center justify-center group-hover:scale-110 transition-transform border border-emerald-500/20",children:i.jsx(xA,{className:"w-12 h-12 text-emerald-400"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-2xl font-bold text-white mb-1",children:" "}),i.jsx("p",{className:"text-gray-400 text-sm",children:"  (5 - 12)"})]})]}),i.jsxs("button",{onClick:()=>l("university"),className:"bg-gray-900 p-10 rounded-[2.5rem] border border-gray-700 hover:border-blue-500 hover:bg-gray-800 transition-all group shadow-2xl flex flex-col items-center gap-6",children:[i.jsx("div",{className:"w-24 h-24 rounded-full bg-blue-900/20 flex items-center justify-center group-hover:scale-110 transition-transform border border-blue-500/20",children:i.jsx(ni,{className:"w-12 h-12 text-blue-400"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-2xl font-bold text-white mb-1",children:" "}),i.jsx("p",{className:"text-gray-400 text-sm",children:"  "})]})]})]})]});let et=[],gt=[];o==="school"?(et=[{label:" ",value:"school_header",isHeader:!0},...[5,6,7,8,9,10,11,12].map(at=>({label:` ${at}`,value:at.toString()}))],gt=[{label:"  ",value:""},...dr.map(at=>({label:String(at),value:String(at)}))]):(et=[{label:"   -   ",value:"English Major - QOU"}],gt=[{label:"  ",value:""},...dr.map(at=>({label:String(at),value:String(at)}))]);const Gt=[...jt].sort((at,wt)=>{const Dt=at.category||"General",kt=wt.category||"General",ir=PC[Dt]||99,bt=PC[kt]||99;if(ir!==bt)return ir-bt;const wr=at.title.match(/(\d+)/),On=wt.title.match(/(\d+)/);return wr&&On?parseInt(wr[0])-parseInt(On[0]):at.title.localeCompare(wt.title,"ar")});let _t="";return i.jsxs("div",{className:"max-w-5xl mx-auto px-4 py-8 animate-fade-in relative z-10",children:[i.jsx("style",{children:`
        .custom-scrollbar::-webkit-scrollbar {
          width: 6px;
        }
        .custom-scrollbar::-webkit-scrollbar-track {
          background: transparent;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb {
          background-color: rgba(156, 163, 175, 0.5);
          border-radius: 20px;
        }
      `}),i.jsxs("div",{className:"mb-8 flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl md:text-3xl font-black text-white mb-2",children:" "}),i.jsx("p",{className:"text-gray-400 text-sm md:text-base",children:o==="school"?"   ":"   "})]}),i.jsxs("button",{onClick:()=>{l(null),g(""),d("")},className:"text-xs font-bold text-gray-500 hover:text-white flex items-center gap-1 bg-gray-800 px-3 py-1.5 rounded-lg border border-gray-700 transition-colors",children:[i.jsx(nc,{className:"w-3 h-3"}),"  "]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6 mb-6",children:[i.jsxs("div",{className:"lg:col-span-7 bg-gray-900 p-5 rounded-3xl shadow-sm border border-gray-700 relative z-30",children:[i.jsxs("label",{className:"block text-base font-bold text-gray-200 mb-4 flex items-center gap-2",children:[i.jsx("div",{className:`p-2 rounded-lg ${o==="university"?"bg-blue-900/30":"bg-emerald-900/30"}`,children:o==="university"?i.jsx(ni,{className:"w-5 h-5 text-blue-400"}):i.jsx(Ko,{className:"w-5 h-5 text-emerald-400"})}),o==="university"?" ":" "]}),i.jsx(Y2,{options:et,value:h,onChange:at=>{g(at),d(""),I("All")},placeholder:o==="university"?"--   --":"--    --"})]}),i.jsxs("div",{className:"lg:col-span-5 bg-gray-900 p-5 rounded-3xl shadow-sm border border-gray-700 relative z-20",children:[i.jsxs("label",{className:"block text-base font-bold text-gray-200 mb-4 flex items-center gap-2",children:[i.jsx("div",{className:"p-2 bg-emerald-900/30 rounded-lg",children:i.jsx(Us,{className:"w-5 h-5 text-emerald-400"})}),o==="university"?" / ":" "]}),i.jsx(Y2,{options:gt,value:c,onChange:d,placeholder:h?" ":o==="university"?"   ":"   ",disabled:!h})]})]}),h&&i.jsx("div",{className:"mb-10 animate-fade-in relative z-10",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"bg-gray-900 p-5 rounded-3xl shadow-sm border border-gray-700",children:[i.jsxs("label",{className:"block text-base font-bold text-gray-200 mb-4 flex items-center gap-2",children:[i.jsx("div",{className:"p-2 bg-emerald-900/30 rounded-lg",children:i.jsx(mS,{className:"w-5 h-5 text-emerald-400"})}),"  ()"]}),i.jsx(Y2,{options:jV.map(at=>({label:at.label,value:at.id})),value:w,onChange:I,placeholder:"  "})]}),i.jsxs("div",{className:"bg-gray-900 p-5 rounded-3xl shadow-sm border border-gray-700",children:[i.jsxs("label",{className:"block text-base font-bold text-gray-200 mb-4 flex items-center gap-2",children:[i.jsx("div",{className:"p-2 bg-emerald-900/30 rounded-lg",children:i.jsx(gg,{className:"w-5 h-5 text-emerald-400"})})," "]}),i.jsxs("div",{className:"flex bg-gray-800 p-1.5 rounded-2xl border border-gray-700",children:[i.jsx("button",{onClick:()=>B("First"),className:`flex-1 py-3 rounded-xl font-bold transition-all text-sm ${x==="First"?"bg-emerald-600 text-white shadow-lg":"text-gray-400 hover:text-white"}`,children:" "}),i.jsx("button",{onClick:()=>B("Second"),className:`flex-1 py-3 rounded-xl font-bold transition-all text-sm ${x==="Second"?"bg-emerald-600 text-white shadow-lg":"text-gray-400 hover:text-white"}`,children:" "})]})]})]})}),h&&i.jsxs("div",{className:"space-y-8 animate-fade-in-up relative z-0",children:[i.jsxs("h3",{className:"text-lg font-bold text-gray-100 border-r-4 border-emerald-500 pr-3 flex items-center gap-2",children:[i.jsx(dS,{className:"w-5 h-5"}),"  - ",x==="First"?" ":" "]}),L?i.jsx("div",{className:"flex justify-center py-12",children:i.jsx(zr,{className:"w-8 h-8 animate-spin text-emerald-400"})}):j.length===0?i.jsxs("div",{className:"bg-gray-900 p-8 rounded-2xl shadow-sm text-center border border-dashed border-gray-700",children:[i.jsx("div",{className:"w-16 h-16 bg-gray-800 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx(zi,{className:"w-8 h-8 text-gray-500"})}),i.jsx("p",{className:"text-gray-400 font-medium",children:"    "})]}):jt.length===0?i.jsxs("div",{className:"bg-gray-900 p-8 rounded-2xl shadow-sm text-center border border-dashed border-gray-700",children:[i.jsx("div",{className:"w-16 h-16 bg-gray-800 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx(zi,{className:"w-8 h-8 text-gray-500"})}),i.jsx("p",{className:"text-gray-400 font-medium",children:"     "})]}):i.jsx("div",{className:"flex flex-col gap-10",children:Gt.map((at,wt)=>{const Dt=ar(),kt=at.isPremium&&!Dt,ir=TV(at.category),bt=at.category!==_t;return bt&&(_t=at.category||"General"),i.jsxs(fv.Fragment,{children:[bt&&i.jsxs("div",{className:"w-full flex items-center gap-4 animate-fade-in",children:[i.jsx("div",{className:`p-2 rounded-xl ${ir.bg} ${ir.text}`,children:i.jsx(ir.icon,{className:"w-5 h-5"})}),i.jsx("h4",{className:`text-lg font-black ${ir.text}`,children:ir.label}),i.jsx("div",{className:"flex-1 h-px bg-gradient-to-l from-transparent via-gray-700 to-gray-800"})]}),i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-3 md:gap-6",children:i.jsxs("div",{className:`bg-gray-900 rounded-2xl md:rounded-3xl p-3 md:p-5 border md:border-2 transition-all duration-300 group relative overflow-hidden flex flex-col gap-2 md:gap-4 ${kt?"border-gray-800 opacity-90":`${ir.border} ${ir.hoverBorder} hover:-translate-y-1 hover:shadow-xl`}`,children:[at.isPremium&&i.jsxs("div",{className:"absolute top-0 left-0 bg-amber-500 text-gray-900 text-[8px] md:text-[10px] font-black px-2 md:px-3 py-0.5 md:py-1 rounded-br-lg md:rounded-br-xl z-20 flex items-center gap-1",children:[i.jsx(ns,{className:"w-2.5 h-2.5 md:w-3 md:h-3 fill-gray-900"}),"PREMIUM"]}),i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{className:`flex items-center gap-1 md:gap-2 px-2 md:px-3 py-1 md:py-1.5 rounded-full ${ir.bg} ${ir.text}`,children:[i.jsx(ir.icon,{className:"w-3 h-3 md:w-4 md:h-4"}),i.jsx("span",{className:"text-[10px] md:text-xs font-bold",children:ir.label})]}),i.jsxs("div",{className:"flex items-center gap-1 md:gap-1.5 text-gray-500 text-[9px] md:text-xs bg-gray-950 px-1.5 md:px-2 py-0.5 md:py-1 rounded-lg border border-gray-800",children:[i.jsx(xg,{className:"w-2.5 h-2.5 md:w-3 md:h-3"}),i.jsxs("span",{className:"font-mono font-bold pt-0.5",children:[at.duration||30," "]})]})]}),i.jsxs("div",{className:"flex-1 flex flex-col justify-center",children:[i.jsx("h3",{className:`text-sm md:text-lg font-black text-white leading-tight mb-1 md:mb-2 line-clamp-2 ${kt?"text-gray-400":""}`,children:at.title}),i.jsxs("div",{className:"flex flex-wrap gap-2 md:gap-3 text-[9px] md:text-xs text-gray-400 font-medium",children:[i.jsxs("div",{className:"flex items-center gap-0.5 md:gap-1",children:[i.jsx(yv,{className:"w-2.5 h-2.5 md:w-3.5 md:h-3.5"}),i.jsx("span",{className:"truncate max-w-[60px] md:max-w-none",children:at.grade==="English Major - QOU"?"":` ${at.grade}`})]}),i.jsxs("div",{className:"flex items-center gap-0.5 md:gap-1",children:[i.jsx(Mo,{className:"w-2.5 h-2.5 md:w-3.5 md:h-3.5"}),i.jsxs("span",{children:[at.questions.length," "]})]})]})]}),i.jsx("button",{onClick:()=>hr(at),className:`w-full py-2 md:py-3 rounded-lg md:rounded-xl font-bold text-xs md:text-sm flex items-center justify-center gap-1 md:gap-2 transition-all shadow-md md:shadow-lg ${kt?"bg-gray-800 text-gray-500 cursor-not-allowed border border-gray-700":`bg-gray-800 text-white border border-gray-700 ${ir.buttonHover}`}`,children:kt?i.jsxs(i.Fragment,{children:[i.jsx(Ro,{className:"w-3 h-3 md:w-4 md:h-4"})," "]}):i.jsxs(i.Fragment,{children:[" ",i.jsx(an,{className:"w-3 h-3 md:w-4 md:h-4"})]})})]},at.id)})]},at.id)})})]}),be&&i.jsx(In,{title:"  ",message:`   ${$==null?void 0:$.title} `,onConfirm:De,onCancel:()=>Ee(!1),confirmText:" ",cancelText:"",icon:Mo}),He&&i.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center px-4",children:[i.jsx("div",{className:"absolute inset-0 bg-black/90 backdrop-blur-md",onClick:()=>it(!1)}),i.jsxs("div",{className:"bg-gray-900 rounded-[2.5rem] p-8 max-sm w-full relative z-10 text-center border border-amber-500/30 shadow-2xl shadow-amber-900/20 animate-fade-in-up",children:[i.jsx("div",{className:"w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-6 shadow-lg border-4 border-gray-800 bg-amber-500/20",children:i.jsx(ns,{className:"w-10 h-10 text-amber-500 fill-amber-400"})}),i.jsx("h3",{className:"text-2xl font-black text-white mb-3",children:" "}),i.jsx("p",{className:"text-gray-400 mb-8 text-base font-medium leading-relaxed",children:"       .    ."}),i.jsx("button",{onClick:()=>{it(!1),o&&localStorage.setItem("etqan_service_intent",o),e("SERVICES")},className:"w-full py-3.5 rounded-xl font-bold text-white transition-all shadow-lg bg-gradient-to-r from-amber-500 to-orange-500 hover:from-amber-600 hover:to-orange-600 border border-amber-500",children:" "})]})]})]})},jn=()=>{if(!V||!V.questions||!V.questions[ne])return i.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gray-900 gap-4",children:[i.jsx("div",{className:"text-red-500 font-bold text-lg",children:"    "}),i.jsx("button",{onClick:()=>s("SELECTION"),className:"text-blue-400 underline",children:" "})]});const et=V.questions[ne],gt=et.type==="REORDER",Gt=et.type==="REWRITE";let _t=!1;if(gt){const bt=R[ne];_t=bt!==void 0&&bt.length===et.options.length}else if(Gt){const bt=R[ne];_t=bt!==void 0&&bt.trim().length>0}else _t=R[ne]!==void 0;const at=ne===V.questions.length-1,wt=V.subject.toLowerCase().includes("english")||V.subject.includes("")||V.subject.includes(""),Dt=wt?"ltr":"rtl",kt=wt?"text-left":"text-right",ir={sm:"text-sm leading-relaxed",md:"text-base leading-relaxed",lg:"text-xl leading-loose",xl:"text-2xl leading-loose"}[et.passageFontSize||"md"];return i.jsxs("div",{className:"fixed inset-0 z-[9999] bg-gray-950 overflow-y-auto select-none",onContextMenu:bt=>bt.preventDefault(),style:{WebkitUserSelect:"none",MozUserSelect:"none",msUserSelect:"none",userSelect:"none",WebkitTouchCallout:"none"},children:[i.jsxs("div",{className:"fixed inset-0 z-0 pointer-events-none",children:[i.jsx("img",{src:"https://lh3.googleusercontent.com/d/1e-JYkv-JKpi3PBXLAB5qy2E5UG4klP6j",alt:"Active Quiz Background",className:"w-full h-full object-cover opacity-20"}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-gray-950/90 via-gray-900/40 to-gray-950/90"}),i.jsx("div",{className:"absolute inset-0 shadow-[inset_0_0_150px_rgba(0,0,0,0.9)]"})]}),ge&&i.jsx(In,{title:"   ",message:"      .   .",onConfirm:Ir,cancelText:null,confirmText:"",icon:LQ,confirmColor:"red",isStatic:!0}),re&&!ge&&i.jsx(In,{title:" !",message:"     .   .",onConfirm:()=>fe(!1),cancelText:null,confirmText:"",icon:xx,confirmColor:"red",isStatic:!0}),q&&i.jsx(In,{title:" ",message:"       .",onConfirm:Pt,onCancel:()=>te(!1),confirmText:" ",cancelText:"",icon:yg,confirmColor:"red",isStatic:!0}),i.jsxs("div",{className:"bg-gray-950/80 backdrop-blur-md border-b border-gray-700 sticky top-0 z-50 shadow-sm relative",children:[i.jsxs("div",{className:"max-w-4xl mx-auto px-3 h-16 flex justify-between items-center",children:[i.jsxs("button",{onClick:Rt,className:"flex items-center gap-2 text-red-500 hover:bg-red-900/20 px-3 py-1.5 rounded-lg transition-colors font-bold text-sm",children:[i.jsx(yg,{className:"w-4 h-4"}),i.jsx("span",{className:"hidden sm:inline",children:""})]}),i.jsx("div",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 flex flex-col items-center gap-1",children:i.jsxs("div",{className:`flex items-center gap-2 px-4 py-1.5 rounded-full font-mono font-bold text-base shadow-inner border border-gray-600 ${S<300?"bg-red-900/50 text-red-200 animate-pulse":"bg-gray-700 text-emerald-400"}`,children:[i.jsx(xg,{className:"w-4 h-4"}),xt(S)]})}),i.jsxs("div",{className:"text-xs font-bold text-gray-400",children:[ne+1," / ",V.questions.length]})]}),i.jsx("div",{className:"w-full bg-gray-700 h-1",children:i.jsx("div",{className:"bg-emerald-500 h-full transition-all duration-500 ease-out",style:{width:`${(ne+1)/V.questions.length*100}%`}})})]}),E!==null&&V.questionDuration&&i.jsxs("div",{className:"max-w-3xl mx-auto px-4 mt-4 relative z-10",children:[i.jsx("div",{className:"w-full h-2 bg-gray-700 rounded-full overflow-hidden",children:i.jsx("div",{className:`h-full transition-all duration-1000 linear ${E<10?"bg-red-500":"bg-blue-500"}`,style:{width:`${E/V.questionDuration*100}%`}})}),i.jsxs("div",{className:"text-center mt-1 text-xs font-bold text-gray-500",children:[" : ",E," "]})]}),i.jsxs("div",{className:"max-w-3xl mx-auto px-4 py-8 relative z-10",children:[i.jsxs("div",{className:"bg-gray-900 rounded-3xl shadow-sm border border-gray-700 overflow-hidden animate-fade-in-up",dir:Dt,children:[i.jsxs("div",{className:"bg-gray-800/50 border-b border-gray-700 p-4 flex items-center justify-between",children:[i.jsx("h2",{className:"font-bold text-gray-200 text-sm md:text-base",children:V.title}),i.jsx("div",{className:"bg-gray-700 p-1.5 rounded-lg shadow-sm",children:gt?i.jsx(hS,{className:"w-4 h-4 text-emerald-500"}):Gt?i.jsx(fS,{className:"w-4 h-4 text-blue-500"}):i.jsx(Ro,{className:"w-4 h-4 text-gray-300"})})]}),i.jsxs("div",{className:"p-6 md:p-8",children:[et.passageContent&&i.jsxs("div",{className:"mb-8 select-none",onCopy:bt=>bt.preventDefault(),children:[et.generalInstruction&&i.jsx("div",{className:`text-gray-400 font-bold mb-3 text-sm bg-gray-800/50 px-4 py-2.5 rounded-xl border-l-4 border-emerald-500 ${kt}`,children:et.generalInstruction}),i.jsx("div",{className:`bg-blue-900/20 p-5 rounded-2xl border border-blue-800 ${kt} select-none`,children:i.jsx("div",{className:`text-gray-200 whitespace-pre-wrap font-medium ${ir}`,children:et.passageContent})})]}),i.jsx("h3",{className:`text-lg md:text-2xl font-black text-white leading-relaxed mb-8 select-none ${kt}`,onCopy:bt=>bt.preventDefault(),children:et.question}),gt?i.jsxs("div",{className:"space-y-6",dir:"ltr",children:[i.jsxs("div",{className:"min-h-[120px] p-4 bg-gray-950/50 rounded-2xl border-2 border-dashed border-gray-600 flex flex-wrap gap-2 items-start content-start transition-all",children:[(R[ne]||[]).map((bt,wr)=>i.jsx("button",{onClick:()=>fr(bt,!1),className:"bg-emerald-600 text-white px-4 py-2 rounded-xl font-bold shadow-md hover:bg-red-500 transition-colors animate-fade-in select-none",children:et.options[bt]},`ans-${wr}`)),(!R[ne]||R[ne].length===0)&&i.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400 text-sm font-medium italic select-none",children:"      "})]}),i.jsx("div",{className:"flex flex-wrap gap-3 justify-center bg-gray-900 p-4 rounded-2xl border border-gray-700",children:(Z[ne]||[]).filter(bt=>!(R[ne]||[]).includes(bt)).map((bt,wr)=>i.jsx("button",{onClick:()=>fr(bt,!0),className:"bg-gray-800 border-2 border-gray-700 text-gray-200 px-4 py-2 rounded-xl font-bold shadow-sm hover:border-emerald-500 hover:text-emerald-400 transition-all transform hover:scale-105 active:scale-95 select-none",children:et.options[bt]},`bank-${wr}`))}),i.jsx("div",{className:"flex justify-end",children:i.jsxs("button",{onClick:()=>ft([]),className:"text-xs font-bold text-gray-400 hover:text-red-500 flex items-center gap-1",children:[i.jsx(nc,{className:"w-3 h-3"})," "]})})]}):Gt?i.jsxs("div",{className:"space-y-4",children:[i.jsx("label",{className:"block text-sm font-bold text-gray-400 mb-2",children:"  :"}),i.jsx("textarea",{dir:"ltr",value:R[ne]||"",onChange:bt=>ft(bt.target.value),className:"w-full h-32 p-5 rounded-2xl bg-gray-950 border-2 border-gray-700 focus:border-blue-500 text-white font-medium text-lg outline-none transition-all resize-none shadow-inner",placeholder:"Type your answer here..."}),i.jsx("p",{className:"text-[10px] text-gray-500 font-bold",children:"*         (Capital/Small)."})]}):i.jsx("div",{className:"space-y-3",children:et.options.map((bt,wr)=>i.jsxs("button",{onClick:()=>ft(wr),className:`w-full ${kt} p-4 rounded-xl border-2 transition-all flex items-center justify-between group hover:scale-[1.01] active:scale-[0.99] duration-200 outline-none select-none ${R[ne]===wr?"border-emerald-500 bg-emerald-900/30 shadow-md outline-none":"border-gray-700 bg-gray-900 hover:bg-gray-800 hover:border-gray-600 shadow-sm"}`,children:[i.jsx("span",{className:`text-base font-bold ${R[ne]===wr?"text-emerald-300":"text-gray-300"}`,children:bt}),i.jsx("div",{className:`w-6 h-6 rounded-full border-2 flex items-center justify-center shrink-0 ml-2 transition-colors ${R[ne]===wr?"border-emerald-600 bg-emerald-600":"border-gray-600 group-hover:border-emerald-400"}`,children:R[ne]===wr&&i.jsx("div",{className:"w-2.5 h-2.5 bg-white rounded-full"})})]},wr))})]})]}),i.jsx("div",{className:"mt-8 flex justify-end",children:i.jsx("button",{onClick:ct,disabled:!_t||Q,className:`w-full sm:w-auto px-10 py-4 rounded-2xl font-bold text-lg flex items-center justify-center gap-2 shadow-xl transition-all ${!_t||Q?"bg-gray-700 text-gray-500 cursor-not-allowed shadow-none":"bg-emerald-600 text-white hover:bg-emerald-700 hover:shadow-emerald-500/20 active:scale-95"}`,children:Q?i.jsxs(i.Fragment,{children:["  ",i.jsx(zr,{className:"w-5 h-5 animate-spin"})]}):i.jsxs(i.Fragment,{children:[at?" ":" ",Dt==="rtl"?i.jsx(gv,{className:"w-5 h-5"}):i.jsx(an,{className:"w-5 h-5"})]})})})]})]})},An=()=>{if(!V)return null;const et=Ar(),gt=V.questions.length,Gt=Math.round(et/gt*100);let _t="text-red-500",at=cS,wt=" ";Gt>=90?(_t="text-emerald-500",at=ns,wt="!"):Gt>=75?(_t="text-blue-500",at=Au,wt="!"):Gt>=50&&(_t="text-yellow-500",at=rc,wt=" ");const Dt=at;return i.jsxs("div",{className:"min-h-screen bg-gray-950 flex flex-col items-center justify-center p-4 animate-fade-in overflow-y-auto",children:[i.jsxs("div",{className:"w-full max-w-sm bg-gray-900 rounded-[2.5rem] border border-gray-800 p-8 relative overflow-hidden text-center shadow-2xl",children:[i.jsxs("div",{className:"flex flex-col items-center mb-6",children:[i.jsx(Dt,{className:`w-16 h-16 ${_t} mb-3 drop-shadow-md`}),i.jsx("h2",{className:"text-2xl font-black text-white mb-1",children:wt}),i.jsx("p",{className:"text-gray-400 font-medium text-sm mb-3",children:V.title}),i.jsxs("div",{className:"inline-flex items-center gap-1 bg-gray-800 px-3 py-1 rounded-full border border-gray-700",children:[i.jsx(N1,{className:"w-3.5 h-3.5 text-yellow-400 fill-yellow-400"}),i.jsxs("span",{className:"font-bold text-white text-xs",children:["+",xe," XP"]})]})]}),i.jsxs("div",{className:"bg-gray-800/50 rounded-2xl p-6 text-center mb-6 border border-gray-800",children:[i.jsx("div",{className:"text-xs text-gray-500 font-bold uppercase tracking-wider mb-2",children:" "}),i.jsxs("span",{className:`text-6xl font-black ${_t}`,children:[Gt,"%"]}),i.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-700/50 flex items-center justify-center gap-2 text-gray-400 text-sm font-bold",children:[i.jsx("span",{children:"  :"}),i.jsxs("span",{className:`text-white bg-gray-700 px-3 py-1 rounded-lg ${_t}`,children:[et," / ",gt]})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("button",{onClick:()=>Tt("REVIEW"),className:"w-full py-3.5 bg-orange-500 text-white font-black text-sm rounded-xl hover:bg-orange-600 transition-all flex items-center justify-center gap-2 active:scale-95 shadow-lg shadow-orange-900/20",children:[i.jsx(Ky,{className:"w-4 h-4"}),"  "]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("button",{onClick:()=>Tt("HOME"),className:"py-3.5 bg-emerald-600 text-white font-bold rounded-xl hover:bg-emerald-700 transition-colors flex items-center justify-center gap-2 text-xs shadow-lg shadow-emerald-900/20",children:[i.jsx(zn,{className:"w-4 h-4"})," "]}),i.jsxs("button",{onClick:()=>Tt("RETAKE"),className:"py-3.5 bg-emerald-600 text-white font-bold rounded-xl hover:bg-emerald-700 transition-colors flex items-center justify-center gap-2 text-xs shadow-lg shadow-emerald-900/20",children:[i.jsx(Kg,{className:"w-4 h-4"}),"  "]})]})]})]}),i.jsx("div",{className:"w-full max-w-sm bg-gray-900 rounded-[2rem] border border-gray-800 p-6 text-center relative mt-4",children:St?i.jsxs("div",{className:"py-4",children:[i.jsxs("div",{className:"flex items-center justify-center gap-2 text-green-400 mb-1",children:[i.jsx(rc,{className:"w-5 h-5"}),i.jsx("h3",{className:"font-bold text-sm",children:" !"})]}),i.jsx("p",{className:"text-gray-500 text-xs",children:"   ."})]}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3 text-white",children:[i.jsx(wg,{className:"w-4 h-4 text-yellow-400"}),i.jsx("h3",{className:"font-bold text-sm",children:"  "})]}),i.jsx("div",{className:"flex justify-center gap-1.5 mb-3 flex-wrap",children:[1,2,3,4,5,6,7,8,9,10].map(kt=>i.jsx("button",{onClick:()=>pt(kt),className:`w-8 h-8 rounded-lg text-sm font-bold transition-all ${rt===kt?"bg-yellow-500 text-gray-900 scale-110":"bg-gray-800 text-gray-400 hover:bg-gray-700"}`,children:kt},kt))}),i.jsx("textarea",{value:Pe,onChange:kt=>st(kt.target.value),placeholder:"  ()...",className:"w-full bg-gray-800 border border-gray-700 rounded-xl p-3 text-xs text-white outline-none focus:border-yellow-500 mb-3 min-h-[60px] resize-none"}),i.jsxs("button",{onClick:qt,disabled:dt||rt===0,className:`w-full py-2.5 rounded-xl font-bold text-xs flex items-center justify-center gap-2 transition-all ${rt===0?"bg-gray-800 text-gray-600 cursor-not-allowed":"bg-yellow-600 text-white hover:bg-yellow-700"}`,children:[dt?i.jsx(zr,{className:"w-3 h-3 animate-spin"}):i.jsx(uu,{className:"w-3 h-3"}),""]})]})})]})},Ft=()=>i.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8 animate-fade-in text-gray-100",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[i.jsx(Ky,{className:"w-5 h-5 text-emerald-400"})," "]}),i.jsxs("button",{onClick:()=>s("RESULT"),className:"bg-emerald-600 hover:bg-emerald-700 text-white px-8 py-3 rounded-xl font-bold transition-all shadow-lg border border-emerald-500 flex items-center gap-2 text-lg transform hover:-translate-y-1",children:[i.jsx(an,{className:"w-6 h-6"})," "]})]}),i.jsx("div",{className:"space-y-6",children:V==null?void 0:V.questions.map((et,gt)=>{const Gt=et.type==="REORDER",_t=et.type==="REWRITE";let at=!1,wt=null;if(Gt){const Dt=R[gt];Dt?(wt=Dt.map(kt=>et.options[kt]).join(" "),at=Dt.length===et.options.length&&Dt.every((kt,ir)=>kt===ir)):(wt="  ",at=!1)}else if(_t){const Dt=R[gt];at=(Dt==null?void 0:Dt.trim())===(et.correctAnswerText||"").trim(),wt=Dt||"  "}else{const Dt=R[gt];at=Dt===et.correctAnswer,wt=Dt!==void 0?et.options[Dt]:"  "}return i.jsxs("div",{className:`bg-gray-900 rounded-2xl shadow-sm border p-5 ${at?"border-gray-700":"border-red-900/50"}`,children:[i.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[i.jsx("span",{className:`w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold shrink-0 mt-0.5 ${at?"bg-emerald-900 text-emerald-300":"bg-red-900 text-red-300"}`,children:gt+1}),i.jsx("h3",{className:"text-base font-bold text-white leading-relaxed select-none",onCopy:Dt=>Dt.preventDefault(),children:et.question})]}),i.jsxs("div",{className:`p-3 rounded-xl border text-sm ${at?"bg-emerald-900/20 border-emerald-500":"bg-red-900/20 border-red-500"}`,children:[i.jsx("span",{className:"block text-xs font-bold opacity-70 mb-1",children:":"}),i.jsx("span",{className:"font-bold",children:wt})]}),!at&&i.jsxs("div",{className:"mt-2 p-3 rounded-xl border bg-gray-800 border-gray-700 text-sm",children:[i.jsx("span",{className:"block text-xs font-bold opacity-70 mb-1",children:" :"}),i.jsx("span",{className:"font-bold text-emerald-400 select-none",onCopy:Dt=>Dt.preventDefault(),children:Gt?et.options.join(" "):_t?et.correctAnswerText:et.options[et.correctAnswer]})]}),et.explanation&&i.jsxs("div",{className:"mt-3 p-3 bg-yellow-900/20 border border-yellow-800 rounded-xl text-sm text-yellow-200 animate-fade-in select-none",onCopy:Dt=>Dt.preventDefault(),children:[i.jsxs("span",{className:"font-bold block mb-1 flex items-center gap-1",children:[i.jsx(Mo,{className:"w-3 h-3"}),":"]}),i.jsx("p",{className:"leading-relaxed opacity-90",dir:"auto",children:et.explanation})]})]},et.id)})})]});return i.jsxs("div",{className:"min-h-screen bg-gray-950 pb-20 text-gray-100",children:[n==="SELECTION"&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"fixed inset-0 z-0 pointer-events-none",children:[i.jsx("img",{src:"https://lh3.googleusercontent.com/d/1NKy8h05zQTNaEJ9C35Rzwys5QXFUxFHD",alt:"Background",className:"w-full h-full object-cover opacity-25"}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-gray-950/80 via-gray-900/20 to-gray-950"}),i.jsx("div",{className:"absolute inset-0 shadow-[inset_0_0_150px_rgba(0,0,0,0.9)]"})]}),i.jsx("div",{className:"max-w-7xl mx-auto px-4 pt-2 pb-2 relative z-30",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("button",{onClick:r,className:"p-2 bg-gray-900/50 hover:bg-gray-800 rounded-xl transition-all text-gray-400 hover:text-white border border-white/10 shadow-lg backdrop-blur-sm group",children:i.jsx(an,{className:"w-4 h-4 group-hover:-translate-x-1 transition-transform"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-lg font-black text-white tracking-tight mb-0.5 hidden md:block",children:" "}),i.jsxs("div",{className:"flex items-center gap-1.5 text-[10px] md:text-xs font-medium text-gray-500",children:[i.jsxs("span",{onClick:r,className:"hover:text-emerald-400 cursor-pointer transition-colors flex items-center gap-1",children:[i.jsx(zn,{className:"w-3 h-3"})," "]}),i.jsx("span",{className:"text-gray-700",children:"/"}),i.jsxs("span",{className:"text-emerald-500 flex items-center gap-1",children:[i.jsx(Us,{className:"w-3 h-3"}),""]})]})]})]})}),Dn()]}),n==="ACTIVE"&&jn(),n==="RESULT"&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"fixed top-0 left-0 w-full h-28 z-[60] bg-transparent cursor-default"}),An()]}),n==="REVIEW"&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"fixed top-0 left-0 w-full h-28 z-[60] bg-transparent cursor-default"}),Ft()]}),me&&i.jsx(In,{title:"  ",message:H==="REVIEW"?"   ":H==="RETAKE"?"     ":H==="LIST"?"    ":"    ",onConfirm:Nt,onCancel:()=>Me(!1),confirmText:"",cancelText:"",icon:pQ})]})},Xx=()=>{const r=he.useRef(null);return he.useEffect(()=>{const e=r.current;if(!e)return;const t=e.getContext("2d");if(!t)return;let n,s=window.innerWidth,o=window.innerHeight;const l=s<768?75:200,c=.1,d=["255, 255, 255","50, 150, 255","255, 80, 80","80, 255, 120","255, 215, 0"];e.width=s,e.height=o;const h=[];for(let B=0;B<l;B++)h.push({x:Math.random()*s,y:Math.random()*o,z:Math.random()*s,size:Math.random()*2,color:d[Math.floor(Math.random()*d.length)],alpha:Math.random()});const g=()=>{s=window.innerWidth,o=window.innerHeight,e.width=s,e.height=o};window.addEventListener("resize",g);const x=()=>{t.clearRect(0,0,s,o),h.forEach(B=>{Math.random()>.99&&(B.alpha=Math.random()),B.y-=c*(B.size*.5),B.y<0&&(B.y=o,B.x=Math.random()*s),t.beginPath(),t.fillStyle=`rgba(${B.color}, ${B.alpha})`,t.arc(B.x,B.y,B.size,0,Math.PI*2),t.fill()}),n=requestAnimationFrame(x)};return x(),()=>{window.removeEventListener("resize",g),cancelAnimationFrame(n)}},[]),i.jsx("canvas",{ref:r,className:"fixed inset-0 pointer-events-none z-0",style:{opacity:1}})},FV=({className:r})=>i.jsx("svg",{viewBox:"0 0 24 24",className:r,fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:i.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.008-.57-.008-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"})}),kV=({className:r})=>i.jsx("svg",{viewBox:"0 0 24 24",className:r,fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:i.jsx("path",{d:"M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.694 0zM4.98 14.41c6.009-2.607 10.015-4.335 12.019-5.168 2.656-.867 3.084-.386 2.84 1.712-.366 3.157-1.408 8.873-1.93 10.364-.22.628-.648.676-1.308.244-1.68-1.044-3.896-2.532-4.812-3.132-.956-.628-1.144-1.24-.208-2.212 2.168-2.248 4.068-4.064 3.724-4.376-.428-.388-2.648.82-7.008 3.776-.784.532-1.496.524-2.192.316-1.04-.312-2.052-.648-2.828-.904-1.056-.348-1.06-1.056.172-1.576z"})}),QV=({onBack:r})=>{const e=[{name:".   ",image:"https://lh3.googleusercontent.com/d/1tbzVNKO3FGH46Pa6MZ58OWD4BXVKdK5P",title:"  ",workplace:"  ",location:" ",color:"emerald",education:"     -   ",rating:"",bio:"        .              .",skills:["  ","  ","  "],social:{facebook:"https://www.facebook.com/yazanabokaheal2?locale=ms_MY",whatsapp:"https://wa.me/972568401548",telegram:"https://t.me/yazan1342"}},{name:".   ",image:"https://lh3.googleusercontent.com/d/1xPDpcaUPz3IH-pqv-Jgplroi6U27BVVj",title:"  ",workplace:"  ",location:" ",color:"blue",education:"   -   ",rating:"",bio:"       .                .",skills:["  ",""],social:{facebook:"#",whatsapp:"#",telegram:"#"}}];return i.jsxs("div",{className:"min-h-screen bg-gray-950 animate-fade-in transition-colors duration-300 text-gray-100 relative overflow-hidden",children:[i.jsxs("div",{className:"absolute inset-0 z-0 pointer-events-none",children:[i.jsx(Xx,{}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-gray-950/90 via-gray-900/60 to-gray-950"}),i.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[url('https://www.transparenttextures.com/patterns/stardust.png')] opacity-20"})]}),i.jsx("div",{className:"max-w-6xl mx-auto px-4 pt-2 pb-2 relative z-30",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("button",{onClick:r,className:"p-2 bg-gray-900/50 hover:bg-emerald-900/30 rounded-xl transition-all text-gray-400 hover:text-white border border-gray-700 hover:border-emerald-500/30 shadow-lg backdrop-blur-sm group",children:i.jsx(an,{className:"w-4 h-4 group-hover:-translate-x-1 transition-transform"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-lg font-black text-white tracking-tight mb-0.5",children:" "}),i.jsxs("div",{className:"flex items-center gap-1.5 text-[10px] md:text-xs font-medium text-gray-400",children:[i.jsxs("span",{onClick:r,className:"hover:text-emerald-400 cursor-pointer transition-colors flex items-center gap-1",children:[i.jsx(zn,{className:"w-3 h-3"})," "]}),i.jsx("span",{className:"text-gray-600",children:"/"}),i.jsxs("span",{className:"text-emerald-500 flex items-center gap-1",children:[i.jsx(sc,{className:"w-3 h-3"})," "]})]})]})]})}),i.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-8 relative z-10",children:[i.jsxs("div",{className:"text-center mb-16",children:[i.jsx("div",{className:"inline-flex items-center justify-center p-3 bg-emerald-500/10 rounded-full mb-4 border border-emerald-500/20 backdrop-blur-md",children:i.jsx(ol,{className:"w-6 h-6 text-emerald-400 fill-emerald-400 animate-pulse"})}),i.jsx("p",{className:"text-xl text-gray-400 max-w-2xl mx-auto",children:"          "})]}),i.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:e.map((t,n)=>i.jsxs("div",{className:"bg-gray-900/60 backdrop-blur-xl rounded-[2.5rem] shadow-2xl border border-gray-700/50 flex flex-col hover:border-emerald-500/30 transition-all duration-300 p-8 group relative overflow-hidden",children:[i.jsx("div",{className:`absolute top-0 left-0 w-full h-1.5 bg-gradient-to-r from-transparent via-${t.color}-500 to-transparent opacity-80`}),i.jsxs("div",{className:"flex justify-center mb-8 relative",children:[i.jsxs("div",{className:`w-40 h-40 rounded-full p-1.5 bg-gradient-to-br from-${t.color}-500/20 to-gray-800 shadow-2xl relative z-10 border border-${t.color}-500/30`,children:[i.jsx("img",{src:t.image,alt:t.name,className:"w-full h-full rounded-full object-cover border-4 border-gray-900"}),i.jsx("div",{className:"absolute bottom-2 right-2 bg-emerald-500 text-white p-1.5 rounded-full border-4 border-gray-900 shadow-sm",children:i.jsx(ts,{className:"w-4 h-4"})})]}),i.jsx("div",{className:`absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-48 h-48 bg-${t.color}-500/10 rounded-full blur-3xl animate-pulse`})]}),i.jsxs("div",{className:"text-center mb-8",children:[i.jsx("h2",{className:"text-3xl font-black text-white mb-2 tracking-tight",children:t.name}),i.jsx("p",{className:`text-${t.color}-400 font-bold text-lg mb-5`,children:t.title}),i.jsxs("div",{className:"flex flex-wrap justify-center gap-3 text-gray-300 text-sm font-medium",children:[i.jsxs("div",{className:"flex items-center gap-1.5 bg-gray-800/80 px-3 py-1.5 rounded-full border border-gray-700 shadow-sm",children:[i.jsx(pv,{className:"w-3.5 h-3.5 text-emerald-400"}),t.workplace]}),i.jsxs("div",{className:"flex items-center gap-1.5 bg-gray-800/80 px-3 py-1.5 rounded-full border border-gray-700 shadow-sm",children:[i.jsx(qy,{className:"w-3.5 h-3.5 text-red-400"}),t.location]})]})]}),i.jsxs("div",{className:"flex-1 space-y-6",children:[i.jsxs("div",{className:"bg-gray-800/40 p-5 rounded-2xl border border-gray-700/50 relative hover:bg-gray-800/60 transition-colors",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsxs("div",{className:"flex items-center gap-2 text-white font-bold",children:[i.jsx("div",{className:`p-1.5 rounded-lg bg-${t.color}-500/20 text-${t.color}-400`,children:i.jsx(Ko,{className:"w-5 h-5"})}),i.jsx("h3",{children:" "})]}),t.rating&&i.jsxs("span",{className:"text-[10px] font-black bg-amber-500/20 text-amber-400 px-2 py-0.5 rounded border border-amber-500/30 flex items-center gap-1",children:[i.jsx(ol,{className:"w-3 h-3 fill-amber-400"}),t.rating]})]}),i.jsx("p",{className:"text-gray-300 text-sm leading-relaxed font-medium pr-2 border-r-2 border-gray-700 mr-1",children:t.education})]}),i.jsxs("div",{className:"text-center px-2",children:[i.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3",children:[i.jsx(ol,{className:"w-4 h-4 text-emerald-500 fill-emerald-500"}),i.jsx("h3",{className:"font-bold text-gray-200",children:" "})]}),i.jsx("p",{className:"text-gray-400 leading-relaxed text-sm",children:t.bio})]}),i.jsx("div",{children:i.jsx("div",{className:"flex flex-wrap justify-center gap-2",children:t.skills.map((s,o)=>i.jsxs("span",{className:`bg-${t.color}-900/20 text-${t.color}-300 px-3 py-1.5 rounded-lg text-xs font-bold border border-${t.color}-500/20 flex items-center gap-1.5`,children:[i.jsx(Au,{className:"w-3 h-3"}),s]},o))})})]}),i.jsx("div",{className:"pt-8 mt-4 border-t border-gray-800/50",children:i.jsxs("div",{className:"flex justify-center gap-4",children:[i.jsx("a",{href:t.social.facebook,target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 rounded-xl bg-[#1877F2]/10 text-[#1877F2] flex items-center justify-center hover:bg-[#1877F2] hover:text-white transition-all border border-[#1877F2]/20 hover:-translate-y-1 shadow-lg",children:i.jsx(nf,{className:"w-5 h-5"})}),i.jsx("a",{href:t.social.whatsapp,target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 rounded-xl bg-[#25D366]/10 text-[#25D366] flex items-center justify-center hover:bg-[#25D366] hover:text-white transition-all border border-[#25D366]/20 hover:-translate-y-1 shadow-lg",children:i.jsx(FV,{className:"w-5 h-5"})}),i.jsx("a",{href:t.social.telegram,target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 rounded-xl bg-[#0088cc]/10 text-[#0088cc] flex items-center justify-center hover:bg-[#0088cc] hover:text-white transition-all border border-[#0088cc]/20 hover:-translate-y-1 shadow-lg",children:i.jsx(kV,{className:"w-5 h-5"})})]})})]},n))})]})]})},LV=({onBack:r})=>i.jsxs("div",{className:"min-h-screen bg-gray-950 animate-fade-in transition-colors duration-300 text-gray-100",children:[i.jsx("div",{className:"max-w-7xl mx-auto px-4 pt-2 pb-2 relative z-30",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("button",{onClick:r,className:"p-2 bg-gray-900/50 hover:bg-gray-800 rounded-xl transition-all text-gray-400 hover:text-white border border-white/10 shadow-lg backdrop-blur-sm group",children:i.jsx(an,{className:"w-4 h-4 group-hover:-translate-x-1 transition-transform"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-lg font-black text-white tracking-tight mb-0.5",children:" "}),i.jsxs("div",{className:"flex items-center gap-1.5 text-[10px] md:text-xs font-medium text-gray-500",children:[i.jsxs("span",{onClick:r,className:"hover:text-emerald-400 cursor-pointer transition-colors flex items-center gap-1",children:[i.jsx(zn,{className:"w-3 h-3"})," "]}),i.jsx("span",{className:"text-gray-700",children:"/"}),i.jsxs("span",{className:"text-emerald-500 flex items-center gap-1",children:[i.jsx(mx,{className:"w-3 h-3"})," "]})]})]})]})}),i.jsx("div",{className:"relative bg-emerald-900/20 py-20 overflow-hidden border-b border-white/5 -mt-16 pt-32",children:i.jsxs("div",{className:"max-w-7xl mx-auto px-4 relative z-10 text-center",children:[i.jsx("span",{className:"bg-emerald-500/20 text-emerald-300 border border-emerald-500/30 px-4 py-1 rounded-full text-sm font-medium mb-6 inline-block backdrop-blur-sm",children:"    "}),i.jsxs("h1",{className:"text-4xl md:text-6xl font-black text-white mb-6 leading-tight",children:["   ",i.jsx("br",{}),"   "]}),i.jsx("p",{className:"text-gray-300 text-xl max-w-2xl mx-auto leading-relaxed",children:"                    ."})]})}),i.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-16",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-20",children:[i.jsxs("div",{className:"bg-gray-900 p-8 rounded-3xl shadow-sm border border-white/5 hover:shadow-lg transition-all hover:bg-gray-800",children:[i.jsx("div",{className:"w-16 h-16 bg-blue-900/30 rounded-2xl flex items-center justify-center mb-6 border border-blue-500/20",children:i.jsx(Ky,{className:"w-8 h-8 text-blue-400"})}),i.jsx("h2",{className:"text-2xl font-black text-white mb-4",children:""}),i.jsx("p",{className:"text-gray-400 leading-relaxed text-lg",children:"                   ."})]}),i.jsxs("div",{className:"bg-gray-900 p-8 rounded-3xl shadow-sm border border-white/5 hover:shadow-lg transition-all hover:bg-gray-800",children:[i.jsx("div",{className:"w-16 h-16 bg-emerald-900/30 rounded-2xl flex items-center justify-center mb-6 border border-emerald-500/20",children:i.jsx(qg,{className:"w-8 h-8 text-emerald-400"})}),i.jsx("h2",{className:"text-2xl font-black text-white mb-4",children:""}),i.jsx("p",{className:"text-gray-400 leading-relaxed text-lg",children:"                  ."})]})]}),i.jsxs("div",{className:"mb-20",children:[i.jsxs("div",{className:"text-center mb-12",children:[i.jsx("h2",{className:"text-3xl font-black text-white mb-4",children:"   "}),i.jsx("div",{className:"w-24 h-1.5 bg-emerald-500 mx-auto rounded-full"})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[{icon:zg,title:" ",desc:"       ."},{icon:uS,title:" ",desc:"           ."},{icon:Yp,title:" ",desc:"         ."},{icon:sc,title:" ",desc:"          ."}].map((e,t)=>i.jsxs("div",{className:"bg-gray-900 p-6 rounded-2xl border border-white/5 text-center hover:border-emerald-500/30 transition-all group hover:-translate-y-1",children:[i.jsx("div",{className:"w-14 h-14 bg-gray-800 rounded-full flex items-center justify-center mx-auto mb-4 group-hover:bg-emerald-900/30 transition-colors border border-white/5",children:i.jsx(e.icon,{className:"w-7 h-7 text-gray-300 group-hover:text-emerald-400"})}),i.jsx("h3",{className:"font-bold text-white text-lg mb-2",children:e.title}),i.jsx("p",{className:"text-gray-400 text-sm leading-relaxed",children:e.desc})]},t))})]})]})]}),HC=({options:r,value:e,onChange:t,placeholder:n,disabled:s})=>{const[o,l]=he.useState(!1),c=he.useRef(null);he.useEffect(()=>{const h=g=>{c.current&&!c.current.contains(g.target)&&l(!1)};return document.addEventListener("mousedown",h),()=>document.removeEventListener("mousedown",h)},[]);const d=r.find(h=>h.value===e&&!h.isHeader);return i.jsxs("div",{className:`relative ${o?"z-50":"z-0"}`,ref:c,children:[i.jsxs("button",{type:"button",onClick:()=>!s&&l(!o),className:`w-full px-3 py-3 rounded-xl font-bold text-right border-2 flex justify-between items-center outline-none transition-all text-xs md:text-sm
            ${s?"bg-gray-800 border-gray-700 text-gray-400 cursor-not-allowed":o?"bg-gray-800 border-emerald-500 ring-4 ring-emerald-900/20 text-white shadow-lg":"bg-gray-700 border-transparent hover:border-emerald-700 text-white shadow-sm"}
         `,children:[i.jsx("span",{className:`truncate ${d?"":"text-gray-500"}`,children:d?d.label:n}),i.jsx(al,{className:`w-4 h-4 text-gray-400 transition-transform duration-300 ${o?"rotate-180 text-emerald-500":""}`})]}),o&&i.jsxs("div",{className:"absolute top-full left-0 right-0 mt-2 bg-gray-800 border border-gray-700 rounded-2xl shadow-xl max-h-72 overflow-y-auto custom-scrollbar animate-fade-in p-2 z-50",children:[r.map((h,g)=>{if(h.isHeader)return i.jsx("div",{className:"px-4 py-2 text-[10px] font-black text-gray-500 uppercase tracking-wider mt-2 first:mt-0 bg-gray-700/50 rounded-lg mb-1",children:h.label},g);const x=h.value===e;return i.jsxs("div",{onClick:()=>{t(h.value),l(!1)},className:`px-4 py-3 rounded-xl font-bold text-sm cursor-pointer transition-colors flex justify-between items-center mb-1 group
                      ${x?"bg-emerald-900/30 text-emerald-400":"text-gray-300 hover:bg-gray-700"}
                   `,children:[h.label,x&&i.jsx(rc,{className:"w-4 h-4"})]},g)}),r.length===0&&i.jsx("div",{className:"p-4 text-center text-gray-400 text-sm",children:"   "})]})]})},RV=({onBack:r})=>{const[e,t]=he.useState(null),[n,s]=he.useState(""),[o,l]=he.useState(""),[c,d]=he.useState("SELECTION"),[h,g]=he.useState(["handouts"]),[x,B]=he.useState([]),[w,I]=he.useState(!1);he.useEffect(()=>{c==="CONTENT"&&o&&n&&j()},[c,o,n]);const j=async()=>{I(!0);const R=`etqan_materials_${o}_${n}`,U=365*24*60*60*1e3,S=localStorage.getItem(R);if(S)try{const{data:P,timestamp:E}=JSON.parse(S);if(Date.now()-E<U){B(P),I(!1);return}}catch(P){console.error("Cache parsing error",P)}try{const P=ya(bn(yr,"study_materials"),wa("grade","==",o),wa("subject","==",n)),E=await yi(P),F=[];E.forEach(Q=>{F.push({id:Q.id,...Q.data()})}),F.sort((Q,J)=>{var Z,Ae;const xe=((Z=Q.createdAt)==null?void 0:Z.seconds)||0;return(((Ae=J.createdAt)==null?void 0:Ae.seconds)||0)-xe}),B(F),localStorage.setItem(R,JSON.stringify({data:F,timestamp:Date.now()}))}catch(P){console.error("Error fetching materials:",P)}finally{I(!1)}},M=()=>{n&&o&&d("CONTENT")},L=R=>{g(U=>U.includes(R)?U.filter(S=>S!==R):[...U,R])},X=()=>{const R=x.filter(P=>P.category==="handouts"),U=x.filter(P=>P.category==="worksheets"),S=x.filter(P=>P.category==="exams");return[{id:"handouts",title:" ",files:R},{id:"worksheets",title:" ",files:U},{id:"exams",title:" ",files:S}]},V=R=>R?(R.toDate?R.toDate():new Date(R.seconds*1e3)).toLocaleDateString("ar-EG"):"",z=X(),ne=()=>{if(!e)return i.jsxs("div",{className:"max-w-3xl mx-auto px-4 py-8 animate-fade-in relative z-20",children:[i.jsxs("div",{className:"text-center mb-10",children:[i.jsx("h2",{className:"text-3xl font-black text-white mb-3",children:"  "}),i.jsx("p",{className:"text-gray-400",children:"    "})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("button",{onClick:()=>t("school"),className:"bg-gray-900 p-8 rounded-3xl border border-gray-700 hover:border-emerald-500 hover:bg-gray-800 transition-all group shadow-xl flex flex-col items-center gap-4",children:[i.jsx("div",{className:"w-20 h-20 rounded-full bg-emerald-900/20 flex items-center justify-center group-hover:scale-110 transition-transform",children:i.jsx(xA,{className:"w-10 h-10 text-emerald-400"})}),i.jsx("h3",{className:"text-2xl font-bold text-white",children:" "}),i.jsx("p",{className:"text-gray-400 text-sm",children:"     "})]}),i.jsxs("button",{onClick:()=>t("university"),className:"bg-gray-900 p-8 rounded-3xl border border-gray-700 hover:border-blue-500 hover:bg-gray-800 transition-all group shadow-xl flex flex-col items-center gap-4",children:[i.jsx("div",{className:"w-20 h-20 rounded-full bg-blue-900/20 flex items-center justify-center group-hover:scale-110 transition-transform",children:i.jsx(ni,{className:"w-10 h-10 text-blue-400"})}),i.jsx("h3",{className:"text-2xl font-bold text-white",children:" "}),i.jsx("p",{className:"text-gray-400 text-sm",children:"  (  )"})]})]})]});let R=[];e==="school"?R=[{label:" ",value:"school_header",isHeader:!0},...[5,6,7,8,9,10,11,12].map(S=>({label:` ${S}`,value:S.toString()}))]:R=[{label:"   -   ",value:"English Major - QOU"}];const U=[{label:"  (English)",value:"English"}];return i.jsxs("div",{className:"w-full animate-fade-in pb-20 bg-gray-950 min-h-screen text-gray-100",children:[i.jsx("style",{children:`
        .custom-scrollbar::-webkit-scrollbar {
          width: 6px;
        }
        .custom-scrollbar::-webkit-scrollbar-track {
          background: transparent;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb {
          background-color: rgba(156, 163, 175, 0.5);
          border-radius: 20px;
        }
      `}),i.jsx("div",{className:"max-w-7xl mx-auto px-4 pt-2 pb-2 relative z-20",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("button",{onClick:r,className:"p-2 bg-gray-900/50 hover:bg-gray-800 rounded-xl transition-all text-gray-400 hover:text-white border border-white/10 shadow-lg backdrop-blur-sm group",children:i.jsx(an,{className:"w-4 h-4 group-hover:-translate-x-1 transition-transform"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-lg font-black text-white hidden md:block leading-none mb-1",children:" "}),i.jsxs("div",{className:"flex items-center gap-1.5 text-[10px] md:text-xs font-bold text-gray-500",children:[i.jsxs("span",{onClick:r,className:"hover:text-emerald-400 cursor-pointer transition-colors flex items-center gap-1",children:[i.jsx(zn,{className:"w-3 h-3"})," "]}),i.jsx("span",{className:"text-gray-700",children:"/"}),i.jsxs("span",{className:"text-emerald-500 flex items-center gap-1",children:[i.jsx(rd,{className:"w-3 h-3"}),""]})]})]})]})}),i.jsxs("div",{className:"relative pt-32 pb-48 px-4 overflow-hidden rounded-b-[3rem] shadow-2xl shadow-gray-900/50 mb-16 border-b border-white/5 -mt-16",children:[i.jsxs("div",{className:"absolute inset-0 z-0",children:[i.jsx("img",{src:"https://lh3.googleusercontent.com/d/1gSDH-0a3cWa8m8APr5qXGkKxINXZcSid",alt:"Background",className:"w-full h-full object-cover object-center scale-105 opacity-50"}),i.jsx("div",{className:"absolute inset-0 bg-emerald-900/80 mix-blend-multiply"}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-gray-950 via-transparent to-gray-950/90"})]}),i.jsxs("div",{className:"max-w-4xl mx-auto text-center relative z-10",children:[i.jsx("div",{className:"inline-flex items-center justify-center p-4 bg-white/10 backdrop-blur-md rounded-2xl mb-4 border border-white/20 shadow-inner ring-1 ring-white/30 animate-fade-in-up",children:i.jsx(rd,{className:"w-8 h-8 text-white drop-shadow-md"})}),i.jsx("h2",{className:"text-4xl md:text-6xl font-black text-white mb-4 tracking-tight drop-shadow-2xl animate-fade-in-up delay-100",children:"  "}),i.jsx("p",{className:"text-white/95 text-lg md:text-xl max-w-2xl mx-auto font-medium leading-relaxed drop-shadow-lg mb-6 animate-fade-in-up delay-200",children:"         PDF."})]})]}),i.jsx("div",{className:"max-w-3xl mx-auto px-4 -mt-32 relative z-20 animate-fade-in-up delay-300",children:i.jsxs("div",{className:"bg-gray-900 rounded-[2rem] shadow-2xl border border-white/5 p-6 md:p-6 backdrop-blur-xl mb-6",children:[i.jsxs("button",{onClick:()=>{t(null),l(""),s("")},className:"text-xs font-bold text-gray-500 hover:text-white flex items-center gap-1 bg-gray-800 px-3 py-1.5 rounded-lg border border-gray-700 transition-colors mb-4 w-fit",children:[i.jsx(nc,{className:"w-3 h-3"}),"  "]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[i.jsxs("div",{className:"group relative z-20",children:[i.jsxs("label",{className:"block text-xs font-bold text-gray-300 mb-2 flex items-center gap-2 group-hover:text-emerald-400 transition-colors",children:[i.jsx("div",{className:"p-1.5 bg-emerald-900/20 rounded-lg group-hover:bg-emerald-900/40 transition-colors",children:i.jsx(Us,{className:"w-3.5 h-3.5 text-emerald-400"})}),e==="university"?" / ":" "]}),i.jsx(HC,{options:U,value:n,onChange:s,placeholder:" "})]}),i.jsxs("div",{className:"group relative z-10",children:[i.jsxs("label",{className:"block text-xs font-bold text-gray-300 mb-2 flex items-center gap-2 group-hover:text-teal-400 transition-colors",children:[i.jsx("div",{className:"p-1.5 bg-teal-900/20 rounded-lg group-hover:bg-teal-900/40 transition-colors",children:e==="university"?i.jsx(ni,{className:"w-3.5 h-3.5 text-teal-400"}):i.jsx(Ko,{className:"w-3.5 h-3.5 text-teal-400"})}),e==="university"?"":" "]}),i.jsx(HC,{options:R,value:o,onChange:l,placeholder:e==="university"?" ":" "})]})]}),i.jsxs("button",{onClick:M,disabled:!n||!o,className:`w-full py-3.5 rounded-xl font-bold text-lg flex items-center justify-center gap-2 transition-all shadow-lg ${!n||!o?"bg-gray-700 text-gray-500 cursor-not-allowed shadow-none":"bg-gradient-to-r from-emerald-600 to-teal-600 text-white hover:from-emerald-700 hover:to-teal-700 hover:shadow-emerald-900/50 hover:-translate-y-1"}`,children:[i.jsx(zi,{className:"w-5 h-5"})," "]})]})})]})},le=()=>i.jsxs("div",{className:"max-w-2xl mx-auto px-4 py-4 animate-fade-in-up min-h-screen",children:[i.jsx("div",{className:"max-w-7xl mx-auto px-4 pt-2 pb-2 relative z-20",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("button",{onClick:()=>d("SELECTION"),className:"p-2 bg-gray-900/50 hover:bg-gray-800 rounded-xl transition-all text-gray-400 hover:text-white border border-white/10 shadow-lg backdrop-blur-sm group",children:i.jsx(an,{className:"w-4 h-4 group-hover:-translate-x-1 transition-transform"})}),i.jsxs("div",{children:[i.jsxs("h1",{className:"text-lg font-black text-white tracking-tight mb-0.5",children:[" ",n]}),i.jsxs("div",{className:"flex items-center gap-1.5 text-[10px] md:text-xs font-bold text-gray-500",children:[i.jsxs("span",{onClick:()=>d("SELECTION"),className:"hover:text-emerald-400 cursor-pointer transition-colors flex items-center gap-1",children:[i.jsx(rd,{className:"w-3 h-3"})," "]}),i.jsx("span",{className:"text-gray-700",children:"/"}),i.jsxs("span",{className:"text-emerald-500 flex items-center gap-1",children:[i.jsx(ra,{className:"w-3 h-3"}),""]})]})]})]})}),i.jsxs("div",{className:"text-center mb-8 bg-gray-900 p-6 rounded-3xl shadow-sm border border-white/5 relative overflow-hidden mt-4",children:[i.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-emerald-500 to-teal-500"}),i.jsx("div",{className:"w-16 h-16 bg-emerald-900/20 rounded-2xl flex items-center justify-center mx-auto mb-4",children:i.jsx(ra,{className:"w-8 h-8 text-emerald-400"})}),i.jsxs("h2",{className:"text-2xl font-black text-white mb-2",children:[" ",n]}),i.jsxs("p",{className:"text-gray-400 font-medium text-sm md:text-base",children:["        ",i.jsx("span",{className:"font-bold text-emerald-400",children:o==="English Major - QOU"?"  ":` ${o}`})]})]}),w?i.jsxs("div",{className:"flex flex-col items-center justify-center py-20 gap-4",children:[i.jsx(zr,{className:"w-10 h-10 animate-spin text-emerald-400"}),i.jsx("p",{className:"text-gray-400 font-bold",children:"  ..."})]}):i.jsx("div",{className:"space-y-4",children:z.map(R=>{const U=h.includes(R.id);return i.jsxs("div",{className:"bg-gray-900 rounded-2xl border border-gray-700 overflow-hidden shadow-sm hover:shadow-md transition-shadow",children:[i.jsxs("button",{onClick:()=>L(R.id),className:`w-full flex items-center justify-between p-5 transition-colors ${U?"bg-gray-700/30":"hover:bg-gray-700/30"}`,children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:`p-2.5 rounded-xl ${U?"bg-emerald-900/30 text-emerald-400":"bg-gray-700 text-gray-400"}`,children:i.jsx(rd,{className:"w-6 h-6"})}),i.jsxs("div",{className:"text-right",children:[i.jsx("span",{className:"font-bold text-base text-white block",children:R.title}),i.jsxs("span",{className:"text-xs text-gray-400 font-medium",children:[R.files.length," "]})]})]}),i.jsx("div",{className:`transition-transform duration-300 ${U?"rotate-180":""}`,children:i.jsx(al,{className:"w-5 h-5 text-gray-400"})})]}),U&&i.jsx("div",{className:"bg-gray-900 border-t border-gray-700",children:R.files.length===0?i.jsxs("div",{className:"p-8 text-center flex flex-col items-center justify-center text-gray-400",children:[i.jsx(rd,{className:"w-10 h-10 mb-2 opacity-20"}),i.jsx("p",{className:"text-sm font-medium",children:"       "})]}):i.jsx("div",{className:"divide-y divide-gray-700/50",children:R.files.map((S,P)=>i.jsxs("div",{onClick:()=>S.url&&window.open(S.url,"_blank"),className:"flex items-center justify-between p-4 hover:bg-emerald-900/10 transition-colors group cursor-pointer",children:[i.jsxs("div",{className:"flex items-center gap-4 min-w-0 flex-1",children:[i.jsx("div",{className:"w-10 h-10 rounded-lg bg-red-900/20 flex items-center justify-center shrink-0 text-red-500",children:i.jsx(ra,{className:"w-5 h-5"})}),i.jsxs("div",{className:"flex flex-col min-w-0 flex-1",children:[i.jsx("span",{className:"text-sm font-bold text-gray-200 group-hover:text-emerald-300 transition-colors whitespace-normal break-words",children:S.title}),i.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500 mt-1",children:[i.jsx("span",{children:V(S.createdAt)}),i.jsx("span",{children:""}),i.jsx("span",{children:S.size||"PDF"})]})]})]}),i.jsx("div",{className:"p-2 text-gray-500 group-hover:text-emerald-400 transition-colors",children:i.jsx(bg,{className:"w-5 h-5"})})]},P))})})]},R.id)})})]});return i.jsx(i.Fragment,{children:c==="SELECTION"?ne():le()})},DV=({className:r})=>i.jsx("svg",{viewBox:"0 0 24 24",className:r,fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:i.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.008-.57-.008-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"})}),OV=({className:r})=>i.jsx("svg",{viewBox:"0 0 24 24",className:r,fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:i.jsx("path",{d:"M9.101 23.691v-7.98H6.627v-3.667h2.474v-1.58c0-4.085 1.848-5.978 5.858-5.978.401 0 .955.042 1.468.103a8.68 8.68 0 0 1 1.141.195v3.325a8.623 8.623 0 0 0-.653-.036c-2.148 0-2.797 1.651-2.797 2.895v1.076h3.441l-1.347 3.667h-2.094v8.382a12.975 12.975 0 0 0 1.579-.098 12.9 12.9 0 0 0 4.199-1.528 12.906 12.906 0 0 0 3.334-2.715 12.825 12.825 0 0 0 2.193-3.525A12.972 12.972 0 0 0 24 12.074a12.972 12.972 0 0 0-1.405-6.075 12.906 12.906 0 0 0-3.831-4.421A12.975 12.975 0 0 0 12.074 0a12.972 12.972 0 0 0-6.075 1.405A12.906 12.906 0 0 0 1.579 5.236 12.972 12.972 0 0 0 0 12.074a12.972 12.972 0 0 0 1.405 6.075 12.906 12.906 0 0 0 3.831 4.421 12.975 12.975 0 0 0 3.865 1.121z"})}),MV=({className:r})=>i.jsx("svg",{viewBox:"0 0 24 24",className:r,fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:i.jsx("path",{d:"M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.694 0zM4.98 14.41c6.009-2.607 10.015-4.335 12.019-5.168 2.656-.867 3.084-.386 2.84 1.712-.366 3.157-1.408 8.873-1.93 10.364-.22.628-.648.676-1.308.244-1.68-1.044-3.896-2.532-4.812-3.132-.956-.628-1.144-1.24-.208-2.212 2.168-2.248 4.068-4.064 3.724-4.376-.428-.388-2.648.82-7.008 3.776-.784.532-1.496.524-2.192.316-1.04-.312-2.052-.648-2.828-.904-1.056-.348-1.06-1.056.172-1.576z"})}),PV=({onBack:r})=>{const e=[{name:".   ",role:"  -  ",image:"https://lh3.googleusercontent.com/d/1tbzVNKO3FGH46Pa6MZ58OWD4BXVKdK5P",whatsapp:"https://wa.me/972568401548",facebook:"https://www.facebook.com/yazanabokaheal2?locale=ms_MY",telegram:"https://t.me/yazan1342",theme:"emerald",glowColor:"rgba(16,185,129,0.6)",borderColor:"border-emerald-500/50",textColor:"text-emerald-400"},{name:".   ",role:"  -  ",image:"https://lh3.googleusercontent.com/d/1xPDpcaUPz3IH-pqv-Jgplroi6U27BVVj",whatsapp:"#",facebook:"#",telegram:"#",theme:"blue",glowColor:"rgba(59,130,246,0.6)",borderColor:"border-blue-500/50",textColor:"text-blue-400"}];return i.jsxs("div",{className:"min-h-screen bg-gray-950 animate-fade-in transition-colors duration-300 text-gray-100",children:[i.jsx("div",{className:"max-w-4xl mx-auto px-4 pt-2 pb-2",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("button",{onClick:r,className:"p-2 bg-gray-900/50 hover:bg-gray-800 rounded-xl transition-all text-gray-400 hover:text-white border border-white/10 shadow-lg backdrop-blur-sm group",children:i.jsx(an,{className:"w-4 h-4 group-hover:-translate-x-1 transition-transform"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-lg font-black text-white tracking-tight mb-0.5",children:"  "}),i.jsxs("div",{className:"flex items-center gap-1.5 text-[10px] md:text-xs font-medium text-gray-500",children:[i.jsxs("span",{onClick:r,className:"hover:text-emerald-400 cursor-pointer transition-colors flex items-center gap-1",children:[i.jsx(zn,{className:"w-3 h-3"})," "]}),i.jsx("span",{className:"text-gray-700",children:"/"}),i.jsxs("span",{className:"text-emerald-500 flex items-center gap-1",children:[i.jsx(yd,{className:"w-3 h-3"})," "]})]})]})]})}),i.jsxs("div",{className:"max-w-5xl mx-auto px-4 py-8",children:[i.jsxs("div",{className:"text-center mb-10",children:[i.jsx("div",{className:"inline-flex items-center justify-center p-3 bg-gray-900 rounded-2xl mb-4 border border-gray-800 shadow-xl",children:i.jsx(Ko,{className:"w-8 h-8 text-white"})}),i.jsx("h2",{className:"text-3xl font-black text-white mb-2",children:"  "}),i.jsx("p",{className:"text-gray-400 text-sm",children:"    "})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-16",children:e.map((t,n)=>i.jsxs("div",{className:`bg-gray-950 rounded-[2.5rem] p-8 text-center relative overflow-hidden group border-2 ${t.borderColor} transition-all duration-500 hover:-translate-y-2`,style:{boxShadow:`0 0 60px -10px ${t.glowColor}, inset 0 0 20px -15px ${t.glowColor}`},children:[i.jsx("div",{className:"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/stardust.png')] opacity-10"}),i.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[150%] h-[150%] opacity-20 pointer-events-none",style:{background:`radial-gradient(circle, ${t.glowColor} 0%, transparent 70%)`}}),i.jsxs("div",{className:"relative z-10",children:[i.jsx("div",{className:`w-36 h-36 bg-gray-800 rounded-full flex items-center justify-center mx-auto mb-6 shadow-2xl border-4 ${t.borderColor} overflow-hidden p-1 group-hover:scale-105 transition-transform duration-500`,children:i.jsx("img",{src:t.image,alt:t.name,className:"w-full h-full rounded-full object-cover"})}),i.jsx("h2",{className:"text-2xl md:text-3xl font-black text-white mb-3",children:t.name}),i.jsxs("div",{className:`flex items-center justify-center gap-2 mb-8 ${t.textColor} font-bold text-sm bg-gray-900/80 px-5 py-2 rounded-full w-fit mx-auto border border-white/10 backdrop-blur-sm shadow-lg`,children:[i.jsx(yv,{className:"w-4 h-4"}),i.jsx("span",{children:t.role})]}),i.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[i.jsxs("button",{onClick:()=>window.open(t.whatsapp,"_blank"),className:"flex flex-col items-center justify-center gap-2 bg-[#25D366]/10 hover:bg-[#25D366] text-[#25D366] hover:text-white py-4 rounded-2xl font-bold transition-all border border-[#25D366]/20 group/btn shadow-lg",children:[i.jsx(DV,{className:"w-6 h-6 group-hover/btn:scale-110 transition-transform"}),i.jsx("span",{className:"text-[10px]",children:""})]}),i.jsxs("button",{onClick:()=>window.open(t.facebook,"_blank"),className:"flex flex-col items-center justify-center gap-2 bg-[#1877F2]/10 hover:bg-[#1877F2] text-[#1877F2] hover:text-white py-4 rounded-2xl font-bold transition-all border border-[#1877F2]/20 group/btn shadow-lg",children:[i.jsx(OV,{className:"w-6 h-6 group-hover/btn:scale-110 transition-transform"}),i.jsx("span",{className:"text-[10px]",children:""})]}),i.jsxs("button",{onClick:()=>window.open(t.telegram,"_blank"),className:"flex flex-col items-center justify-center gap-2 bg-[#0088cc]/10 hover:bg-[#0088cc] text-[#0088cc] hover:text-white py-4 rounded-2xl font-bold transition-all border border-[#0088cc]/20 group/btn shadow-lg",children:[i.jsx(MV,{className:"w-6 h-6 group-hover/btn:scale-110 transition-transform"}),i.jsx("span",{className:"text-[10px]",children:""})]})]})]})]},n))}),i.jsx("div",{className:"text-center py-8 border-t border-white/5",children:i.jsxs("p",{className:"text-gray-500 text-sm font-medium animate-pulse flex items-center justify-center gap-2",children:[i.jsx(Mo,{className:"w-4 h-4"}),"    (  ) ..."]})}),i.jsxs("div",{className:"mt-8 grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"bg-gray-900 p-6 rounded-3xl border border-gray-800 hover:border-emerald-500/30 transition-colors",children:[i.jsx(Mo,{className:"w-8 h-8 text-blue-500 mb-4"}),i.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:" "}),i.jsx("p",{className:"text-gray-400 text-sm leading-relaxed",children:"              ."})]}),i.jsxs("div",{className:"bg-gray-900 p-6 rounded-3xl border border-gray-800 hover:border-emerald-500/30 transition-colors",children:[i.jsx(jk,{className:"w-8 h-8 text-purple-500 mb-4"}),i.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:" "}),i.jsx("p",{className:"text-gray-400 text-sm leading-relaxed",children:'   " "         .'})]})]})]})]})},VC=[{minLevel:1,title:" ",icon:bv,color:"text-gray-400",border:"border-gray-400",gradient:"from-gray-500 to-gray-700"},{minLevel:5,title:" ",icon:Us,color:"text-emerald-400",border:"border-emerald-400",gradient:"from-emerald-500 to-teal-600"},{minLevel:10,title:"",icon:zi,color:"text-blue-400",border:"border-blue-400",gradient:"from-blue-500 to-indigo-600"},{minLevel:15,title:" ",icon:Au,color:"text-indigo-400",border:"border-indigo-400",gradient:"from-indigo-500 to-purple-600"},{minLevel:20,title:"",icon:Ef,color:"text-purple-400",border:"border-purple-400",gradient:"from-purple-500 to-fuchsia-600"},{minLevel:30,title:"",icon:ns,color:"text-amber-400",border:"border-amber-400",gradient:"from-amber-400 to-orange-600"}],HV=({onLoginClick:r})=>{const[e,t]=he.useState([]),[n,s]=he.useState(!0),[o,l]=he.useState(null);he.useEffect(()=>{(async()=>{s(!0);const x="etqan_leaderboard_cache_v3",B=365*24*60*60*1e3,w=localStorage.getItem(x),I=Date.now();let j=[],M=!1;if(w)try{const L=JSON.parse(w);I-L.timestamp<B&&(j=L.data,M=!0)}catch(L){console.error("Cache parse error",L)}if(M)t(j);else try{const L=ya(bn(yr,"users"),Df("totalXP","desc"),Of(10)),V=(await yi(L)).docs.map(z=>({...z.data(),uid:z.id}));t(V),localStorage.setItem(x,JSON.stringify({timestamp:I,data:V}))}catch(L){console.error("Error fetching leaderboard:",L)}s(!1)})()},[]);const c=g=>{switch(g){case 0:return i.jsx(ns,{className:"w-5 h-5 md:w-6 md:h-6 text-yellow-400 fill-yellow-400"});case 1:return i.jsx(Gy,{className:"w-5 h-5 md:w-6 md:h-6 text-gray-300 fill-gray-300"});case 2:return i.jsx(Gy,{className:"w-5 h-5 md:w-6 md:h-6 text-amber-600 fill-amber-600"});default:return i.jsx(sf,{className:"w-4 h-4 md:w-5 md:h-5 text-emerald-600/50"})}},d=g=>{const x=Math.floor((g||0)/500)+1;return[...VC].reverse().find(B=>x>=B.minLevel)||VC[0]},h=g=>{const x=Math.floor((g||0)/500)+1;return x>=30?"border-red-600 ring-2 ring-red-600/50 shadow-[0_0_15px_rgba(220,38,38,0.5)]":x>=20?"border-orange-700 ring-1 ring-orange-700/30":x>=15?"border-yellow-400 ring-1 ring-yellow-400/30":x>=10?"border-blue-800 ring-1 ring-blue-800/30":x>=5?"border-emerald-500 ring-1 ring-emerald-500/30":"border-gray-600"};return i.jsxs("section",{className:"py-12 md:py-20 relative overflow-hidden bg-gray-950",id:"achievements",children:[i.jsxs("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden pointer-events-none",children:[i.jsx("div",{className:"absolute top-1/4 -right-20 w-72 h-72 bg-emerald-900/10 rounded-full blur-[80px]"}),i.jsx("div",{className:"absolute bottom-1/4 -left-20 w-72 h-72 bg-blue-900/10 rounded-full blur-[80px]"})]}),i.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:[i.jsxs("div",{className:"text-center mb-8 md:mb-12",children:[i.jsxs("h2",{className:"text-3xl md:text-5xl font-black mb-3 drop-shadow-lg flex items-center justify-center gap-2",children:[i.jsx(sf,{className:"w-8 h-8 md:w-10 md:h-10 text-yellow-500"}),i.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-emerald-400 to-teal-300",children:" "})]}),i.jsx("p",{className:"text-gray-400 text-sm md:text-lg",children:"    ( 10)"})]}),i.jsx("div",{className:"flex justify-center",children:i.jsx("div",{className:"w-full max-w-3xl",children:i.jsxs("div",{className:"bg-gray-900/50 backdrop-blur-sm rounded-[2rem] border border-white/10 p-4 md:p-8 shadow-2xl relative",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6 px-2",children:[i.jsxs("h3",{className:"text-lg md:text-xl font-bold text-white flex items-center gap-2",children:[i.jsx(N1,{className:"w-5 h-5 text-orange-500"})," "]}),i.jsxs("div",{className:"flex items-center gap-1.5 text-[10px] md:text-xs font-medium bg-gray-800 text-gray-400 px-3 py-1.5 rounded-full border border-gray-700",children:[i.jsx(mx,{className:"w-3 h-3 md:w-3.5 md:h-3.5 text-blue-400"}),"   "]})]}),n?i.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[i.jsx(zr,{className:"w-8 h-8 animate-spin text-emerald-500 mb-2"}),i.jsx("p",{className:"text-gray-500 text-xs font-bold",children:"  ..."})]}):e.length===0?i.jsx("div",{className:"text-center py-12 text-gray-500 text-sm",children:i.jsx("p",{children:"      !"})}):i.jsx("div",{className:"space-y-2 md:space-y-3",children:e.map((g,x)=>i.jsxs("div",{onClick:()=>l(g),className:`relative flex items-center justify-between p-3 md:p-4 rounded-2xl border transition-all active:scale-98 cursor-pointer
                                        ${x===0?"bg-gradient-to-r from-yellow-900/20 to-gray-900 border-yellow-500/30 shadow-lg shadow-yellow-900/10":x===1?"bg-gray-800/60 border-gray-600/50":x===2?"bg-gray-800/40 border-amber-800/40":"bg-gray-900 border-gray-800 hover:bg-gray-800"}`,children:[i.jsxs("div",{className:"flex items-center gap-3 md:gap-4 overflow-hidden",children:[i.jsx("div",{className:`flex items-center justify-center w-6 md:w-8 font-black text-base md:text-lg ${x<3?"text-white":"text-gray-600"}`,children:x<3?c(x):x+1}),i.jsx("div",{className:`w-10 h-10 md:w-12 md:h-12 rounded-full overflow-hidden shrink-0 border-2 transition-all duration-300 ${h(g.totalXP||0)}`,children:g.avatar?i.jsx("img",{src:g.avatar,alt:g.displayName,className:"w-full h-full object-cover"}):i.jsx(pi,{className:"w-full h-full p-2 text-gray-400 bg-gray-800"})}),i.jsxs("div",{className:"min-w-0",children:[i.jsx("h4",{className:"font-bold text-white text-sm md:text-base truncate",children:g.displayName}),i.jsxs("div",{className:"flex items-center gap-1 text-[10px] md:text-xs text-gray-400 truncate",children:[i.jsx(Ko,{className:"w-3 h-3"}),g.school||" "]})]})]}),i.jsxs("div",{className:"shrink-0 flex items-center gap-1 md:gap-2 bg-black/30 px-2 md:px-3 py-1 rounded-lg border border-white/5",children:[i.jsx("span",{className:"font-black text-emerald-400 text-sm md:text-base",children:g.totalXP||0}),i.jsx("span",{className:"text-[10px] text-gray-500 font-bold",children:"XP"})]}),x===0&&i.jsx("div",{className:"absolute -top-1 -right-1 pointer-events-none",children:i.jsxs("span",{className:"flex h-3 w-3",children:[i.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-yellow-400 opacity-75"}),i.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-yellow-500"})]})})]},x))})]})})})]}),o&&i.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center px-4 bg-black/80 backdrop-blur-md animate-fade-in",children:i.jsxs("div",{className:"bg-gray-900 w-full max-w-sm rounded-[2.5rem] overflow-hidden border border-gray-700 shadow-2xl relative animate-fade-in-up",children:[i.jsx("button",{onClick:()=>l(null),className:"absolute top-4 right-4 p-2 bg-black/20 hover:bg-black/40 text-white rounded-full transition-colors z-20",children:i.jsx(ba,{className:"w-5 h-5"})}),i.jsx("div",{className:`h-32 bg-gradient-to-br ${d(o.totalXP||0).gradient} relative`,children:i.jsx("div",{className:"absolute inset-0 opacity-20 bg-[url('https://www.transparenttextures.com/patterns/cubes.png')]"})}),i.jsxs("div",{className:"px-6 pb-8 -mt-16 text-center relative z-10",children:[i.jsx("div",{className:`w-32 h-32 mx-auto rounded-full border-[6px] overflow-hidden shadow-xl mb-4 bg-gray-800 ${h(o.totalXP||0)}`,children:o.avatar?i.jsx("img",{src:o.avatar,alt:o.displayName,className:"w-full h-full object-cover"}):i.jsx(pi,{className:"w-full h-full p-6 text-gray-500"})}),i.jsx("h2",{className:"text-2xl font-black text-white mb-1",children:o.displayName}),i.jsxs("div",{className:"flex items-center justify-center gap-2 text-gray-400 text-sm mb-4",children:[i.jsx(yv,{className:"w-3 h-3"}),o.school||" "]}),i.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-1.5 rounded-full bg-gray-800 border border-gray-700 mb-6 shadow-sm",children:[fv.createElement(d(o.totalXP||0).icon,{className:`w-4 h-4 ${d(o.totalXP||0).color}`}),i.jsx("span",{className:`text-sm font-bold ${d(o.totalXP||0).color}`,children:d(o.totalXP||0).title})]}),i.jsxs("div",{className:"bg-gray-800/50 p-4 rounded-2xl border border-gray-700/50 mb-6 relative",children:[i.jsx(NQ,{className:"w-6 h-6 text-gray-600 absolute -top-3 right-4 bg-gray-900 px-1"}),i.jsx("p",{className:"text-gray-300 text-sm font-medium leading-relaxed italic",children:'"        .           ."'})]}),i.jsx("div",{className:"pt-4 border-t border-gray-800",children:i.jsxs("div",{className:"flex justify-between items-center px-4",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-xl md:text-2xl text-emerald-500",style:{fontFamily:"'Great Vibes', cursive"},children:"Yazan Abu Kahil"}),i.jsx("div",{className:"text-[9px] text-gray-600 mt-1 font-bold",children:".   "})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-xl md:text-2xl text-blue-500",style:{fontFamily:"'Great Vibes', cursive"},children:"Majd Al-Din"}),i.jsx("div",{className:"text-[9px] text-gray-600 mt-1 font-bold",children:".   "})]})]})})]})]})})]})},VV=()=>{const r=[{id:1,label:" ",value:"+500",icon:sc,gradient:"from-blue-400 via-indigo-400 to-cyan-400",shadow:"hover:shadow-blue-500/20",border:"group-hover:border-blue-500/50",bgIcon:"bg-blue-500/10 text-blue-400"},{id:2,label:" ",value:"+50",icon:Us,gradient:"from-emerald-400 via-green-400 to-teal-400",shadow:"hover:shadow-emerald-500/20",border:"group-hover:border-emerald-500/50",bgIcon:"bg-emerald-500/10 text-emerald-400"},{id:3,label:" ",value:"+20",icon:ra,gradient:"from-amber-400 via-orange-400 to-yellow-400",shadow:"hover:shadow-amber-500/20",border:"group-hover:border-amber-500/50",bgIcon:"bg-amber-500/10 text-amber-400"},{id:4,label:" ",value:"+30",icon:lu,gradient:"from-purple-400 via-fuchsia-400 to-pink-400",shadow:"hover:shadow-purple-500/20",border:"group-hover:border-purple-500/50",bgIcon:"bg-purple-500/10 text-purple-400"}];return i.jsxs("section",{className:"py-20 bg-gray-950 relative overflow-hidden border-t border-white/5",children:[i.jsxs("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-full h-full pointer-events-none overflow-hidden",children:[i.jsx("div",{className:"absolute top-[20%] left-[20%] w-72 h-72 bg-emerald-500/10 rounded-full blur-[100px] animate-pulse"}),i.jsx("div",{className:"absolute bottom-[20%] right-[20%] w-72 h-72 bg-blue-500/10 rounded-full blur-[100px] animate-pulse delay-1000"})]}),i.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:[i.jsxs("div",{className:"flex flex-col items-center justify-center mb-16 text-center",children:[i.jsxs("div",{className:"relative mb-6",children:[i.jsx("div",{className:"absolute inset-0 bg-emerald-500/20 rounded-full animate-ping duration-[3s]"}),i.jsx("div",{className:"relative p-4 bg-gray-900 rounded-full border border-emerald-500/30 shadow-[0_0_30px_rgba(16,185,129,0.3)]",children:i.jsx(FF,{className:"w-10 h-10 text-emerald-400 animate-pulse"})})]}),i.jsxs("h2",{className:"text-4xl md:text-5xl font-black text-white tracking-tight mb-6",children:[" ",i.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-emerald-400 to-teal-300",children:""})]})]}),i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 md:gap-8",children:r.map((e,t)=>i.jsx("div",{className:"group relative",style:{animationDelay:`${t*100}ms`},children:i.jsxs("div",{className:`
                  relative h-full bg-gray-900/40 backdrop-blur-xl rounded-[2rem] p-6 
                  border border-white/5 ${e.border} transition-all duration-500 
                  hover:-translate-y-2 hover:shadow-2xl ${e.shadow}
                  flex flex-col items-center justify-center text-center overflow-hidden
              `,children:[i.jsx("div",{className:`absolute inset-0 opacity-0 group-hover:opacity-20 transition-opacity duration-500 bg-gradient-to-br ${e.gradient}`}),i.jsx("div",{className:`mb-4 p-4 rounded-2xl ${e.bgIcon} border border-white/5 group-hover:scale-110 transition-transform duration-300 relative z-10 shadow-lg`,children:i.jsx(e.icon,{className:"w-8 h-8",strokeWidth:1.5})}),i.jsx("div",{className:`text-3xl md:text-5xl font-black mb-2 text-transparent bg-clip-text bg-gradient-to-br ${e.gradient} tracking-tight drop-shadow-sm relative z-10`,children:e.value}),i.jsx("div",{className:"text-gray-400 text-xs md:text-sm font-bold relative z-10 group-hover:text-white transition-colors",children:e.label}),i.jsx("div",{className:"absolute -top-10 -right-10 w-20 h-20 bg-white/5 rounded-full blur-2xl group-hover:bg-white/10 transition-colors"})]})},e.id))})]})]})},KV=({onBack:r})=>{const[e,t]=he.useState([]),[n,s]=he.useState(!0),[o,l]=he.useState(null),[c,d]=he.useState(""),[h,g]=he.useState(null),[x,B]=he.useState(null),[w,I]=he.useState(!1),[j,M]=he.useState(null),[L,X]=he.useState(!1),V=he.useRef(!0);he.useEffect(()=>(V.current=!0,z(),()=>{V.current=!1}),[]);const z=async()=>{s(!0),l(null);const Z="etqan_question_bank_v1";try{const be=localStorage.getItem(Z);if(be){const Ee=JSON.parse(be);if(Ee&&Array.isArray(Ee)){V.current&&(t(Ee),s(!1));return}}}catch(be){console.error("Cache parsing error",be)}const Ae=setTimeout(()=>{V.current&&n&&(s(!1),l("   .      ."))},15e3);try{const be=ya(bn(yr,"quizzes"),Df("createdAt","desc"),Of(50)),$=(await yi(be)).docs.map(D=>({id:D.id,...D.data()}));V.current&&(t($),localStorage.setItem(Z,JSON.stringify($)),l(null))}catch(be){console.error("Error fetching quizzes:",be),V.current&&l("    . "+be.message)}finally{clearTimeout(Ae),V.current&&s(!1)}},ne=Z=>{B({category:"Language",...Z})},le=Z=>{localStorage.setItem("etqan_question_bank_v1",JSON.stringify(Z))},R=(Z,Ae)=>{Z.stopPropagation(),Ae.id&&M({id:Ae.id,title:Ae.title})},U=async()=>{if(j){X(!0);try{await um(Da(yr,"quizzes",j.id));const Z=e.filter(Ae=>Ae.id!==j.id);t(Z),le(Z),M(null)}catch(Z){console.error("Error deleting quiz:",Z),alert("   : "+Z.message)}finally{X(!1)}}},S=(Z,Ae)=>{x&&B({...x,[Z]:Ae})},P=(Z,Ae,be)=>{if(!x)return;const Ee=[...x.questions];Ee[Z]={...Ee[Z],[Ae]:be},B({...x,questions:Ee})},E=(Z,Ae,be)=>{if(!x)return;const Ee=[...x.questions],$=[...Ee[Z].options];$[Ae]=be,Ee[Z]={...Ee[Z],options:$},B({...x,questions:Ee})},F=Z=>{if(x&&window.confirm("      ")){const Ae=x.questions.filter((be,Ee)=>Ee!==Z);B({...x,questions:Ae})}},Q=async()=>{if(!(!x||!x.id)){if(x.questions.length===0){alert("     !");return}I(!0);try{const Z=Da(yr,"quizzes",x.id);await _f(Z,{title:x.title,subject:x.subject,grade:x.grade,category:x.category,questions:x.questions});const Ae=e.map(be=>be.id===x.id?x:be);t(Ae),le(Ae),B(null),alert("   ")}catch(Z){console.error("Error updating quiz:",Z),alert("   ")}finally{I(!1)}}},J=e.filter(Z=>{const Ae=(Z.title?Z.title.toLowerCase().includes(c.toLowerCase()):!1)||Z.teacherName&&Z.teacherName.toLowerCase().includes(c.toLowerCase()),be=Z.grade==="English Major - QOU"||Z.grade&&Z.grade.includes("University");let Ee=!1;return h==="university"?Ee=be:Ee=!be,Ae&&Ee}),xe=Z=>{if(!Z)return"";try{return(Z.toDate?Z.toDate():new Date(Z.seconds*1e3)).toLocaleDateString("ar-EG")}catch{return""}},ie="w-full p-3 rounded-xl border-2 border-gray-600 focus:border-blue-400 outline-none font-bold text-white bg-gray-700 shadow-sm transition-colors placeholder-gray-400";return h?i.jsxs("div",{className:"min-h-screen bg-gray-950 pb-20 animate-fade-in relative transition-colors duration-300 text-gray-100",children:[i.jsx("style",{children:`
        .custom-scrollbar {
          scrollbar-width: thin;
          scrollbar-color: #475569 transparent;
        }
        .custom-scrollbar::-webkit-scrollbar {
          width: 6px;
          height: 6px;
        }
        .custom-scrollbar::-webkit-scrollbar-track {
          background: transparent;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb {
          background: #475569;
          border-radius: 10px;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb:hover {
          background: #94a3b8;
        }
      `}),i.jsx("div",{className:"max-w-7xl mx-auto px-4 pt-2 pb-2 relative z-30",children:i.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center gap-4 mb-6",children:[i.jsx("button",{onClick:r,className:"p-2 bg-gray-900/50 hover:bg-gray-800 rounded-xl transition-all text-gray-400 hover:text-white border border-white/10 shadow-lg group backdrop-blur-sm",children:i.jsx(an,{className:"w-4 h-4 group-hover:-translate-x-1 transition-transform"})}),i.jsx("div",{className:"flex-1 w-full",children:i.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-end justify-between gap-6",children:[i.jsxs("div",{children:[i.jsxs("h1",{className:"text-lg font-black text-white tracking-tight mb-0.5 flex items-center gap-2",children:[" ",i.jsx("span",{className:`text-xs px-2 py-0.5 rounded-lg border ${h==="school"?"bg-emerald-900/30 text-emerald-400 border-emerald-500/30":"bg-blue-900/30 text-blue-400 border-blue-500/30"}`,children:h==="school"?"":""})]}),i.jsxs("div",{className:"flex items-center gap-1.5 text-[10px] md:text-xs font-medium text-gray-500",children:[i.jsxs("span",{onClick:r,className:"hover:text-emerald-400 cursor-pointer transition-colors flex items-center gap-1",children:[i.jsx(zn,{className:"w-3 h-3"})," "]}),i.jsx("span",{className:"text-gray-700",children:"/"}),i.jsxs("span",{className:"text-emerald-500 flex items-center gap-1",children:[i.jsx(il,{className:"w-3 h-3"})," "]})]})]}),i.jsxs("div",{className:"flex flex-col md:flex-row gap-3 w-full md:w-auto",children:[i.jsxs("div",{className:"w-full md:w-auto bg-gray-800 p-2 rounded-2xl shadow-lg border border-gray-600 flex items-center gap-2",children:[i.jsx(zi,{className:"w-5 h-5 text-gray-300 mr-2"}),i.jsx("input",{type:"text",placeholder:"  ...",value:c,onChange:Z=>d(Z.target.value),className:"w-full md:w-64 outline-none text-sm font-bold text-gray-200 placeholder-gray-500 bg-transparent"})]}),i.jsxs("button",{onClick:()=>{g(null),d("")},className:"bg-gray-800 text-gray-300 px-3 py-2 rounded-xl text-xs font-bold flex items-center justify-center gap-1 hover:bg-gray-700 transition-colors border border-gray-700",children:[i.jsx(nc,{className:"w-3 h-3"})," "]})]})]})})]})}),i.jsx("div",{className:"max-w-7xl mx-auto px-4 py-4 relative z-20",children:n?i.jsxs("div",{className:"flex flex-col justify-center items-center py-20 gap-4",children:[i.jsx(zr,{className:"w-10 h-10 animate-spin text-blue-400"}),i.jsx("p",{className:"text-gray-400 font-bold text-sm",children:"  ..."})]}):o?i.jsxs("div",{className:"flex flex-col items-center justify-center py-20 bg-gray-900 rounded-3xl border border-red-500/20 p-8 text-center",children:[i.jsx(pg,{className:"w-12 h-12 text-red-500 mb-4"}),i.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"  "}),i.jsx("p",{className:"text-gray-400 mb-6",children:o}),i.jsxs("button",{onClick:z,className:"bg-red-600 hover:bg-red-700 text-white px-6 py-2 rounded-xl font-bold flex items-center gap-2 transition-colors",children:[i.jsx(nc,{className:"w-4 h-4"})," "]})]}):J.length===0?i.jsxs("div",{className:"bg-gray-800 rounded-3xl shadow-sm border border-white/5 p-12 text-center",children:[i.jsx("div",{className:"w-20 h-20 bg-gray-700 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx(il,{className:"w-8 h-8 text-gray-500"})}),i.jsx("h3",{className:"text-xl font-bold text-white",children:"  "}),i.jsx("p",{className:"text-gray-400 mt-1",children:c?"       .":`      ${h==="school"?"":""} .`}),i.jsx("button",{onClick:z,className:"mt-4 text-xs text-blue-400 underline hover:text-blue-300",children:" "})]}):i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:J.map(Z=>i.jsxs("div",{className:"bg-gray-900 rounded-3xl shadow-sm hover:shadow-xl transition-all duration-300 border border-white/5 overflow-hidden group flex flex-col",children:[i.jsxs("div",{className:"p-6 flex-1",children:[i.jsxs("div",{className:"flex justify-between items-start mb-4",children:[i.jsx("span",{className:`px-3 py-1 rounded-lg text-xs font-bold ${h==="school"?"bg-emerald-900/30 text-emerald-300":"bg-blue-900/30 text-blue-300"}`,children:Z.subject}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{onClick:()=>ne(Z),className:"bg-emerald-900/20 text-emerald-400 p-1.5 rounded-lg hover:bg-emerald-900/40 transition-colors",title:" ",children:i.jsx(Xy,{className:"w-4 h-4"})}),i.jsx("button",{onClick:Ae=>R(Ae,Z),className:"bg-red-900/20 text-red-400 p-1.5 rounded-lg hover:bg-red-900/40 transition-colors",title:" ",children:i.jsx(Al,{className:"w-4 h-4"})})]})]}),i.jsxs("h3",{className:"text-xl font-black text-white mb-2 line-clamp-2 group-hover:text-blue-400 transition-colors flex items-center gap-2",children:[Z.title,Z.isPremium&&i.jsx("div",{className:"bg-amber-500/10 border border-amber-500/30 p-1 rounded-full",title:" ",children:i.jsx(ns,{className:"w-4 h-4 text-amber-500 fill-amber-500"})})]}),Z.category&&i.jsx("span",{className:"inline-block mb-4 bg-amber-900/20 text-amber-400 text-[10px] font-bold px-2 py-1 rounded-md border border-amber-800/50",children:Z.category}),i.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-400 mb-6",children:[i.jsx("span",{className:"bg-gray-700 px-2 py-0.5 rounded border border-gray-600 font-bold",children:Z.grade==="English Major - QOU"?"":` ${Z.grade}`}),i.jsx("span",{className:"text-gray-600",children:"|"}),i.jsxs("span",{className:"bg-gray-700/50 text-gray-400 px-2 py-0.5 rounded-lg text-xs font-bold flex items-center gap-1",children:[i.jsx(mg,{className:"w-3 h-3"}),xe(Z.createdAt)]})]})]}),i.jsxs("div",{className:"bg-gray-900/50 p-4 border-t border-white/5 flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-8 h-8 bg-gray-700 rounded-full border border-gray-600 flex items-center justify-center shadow-sm text-gray-300",children:i.jsx(pi,{className:"w-4 h-4"})}),i.jsx("p",{className:"text-sm font-bold text-gray-300",children:Z.teacherName||""})]}),i.jsxs("span",{className:"flex items-center gap-1 text-xs font-bold text-gray-400 bg-gray-700 px-2 py-1 rounded-md border border-gray-600",children:[i.jsx(Mo,{className:"w-3 h-3"}),Z.questions.length," "]})]})]},Z.id))})}),x&&i.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center px-4 bg-black/60 backdrop-blur-sm",children:i.jsxs("div",{className:"bg-gray-900 rounded-3xl w-full max-w-4xl max-h-[90vh] flex flex-col shadow-2xl animate-fade-in-up overflow-hidden border border-gray-700",children:[i.jsxs("div",{className:"bg-gray-800 border-b border-gray-700 p-6 flex justify-between items-center shrink-0 sticky top-0 z-10",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"bg-emerald-900/30 p-2 rounded-xl",children:i.jsx(Xy,{className:"w-6 h-6 text-emerald-400"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-black text-white",children:" "}),i.jsx("p",{className:"text-sm text-gray-400",children:"     "})]})]}),i.jsx("button",{onClick:()=>B(null),className:"p-2 hover:bg-gray-700 rounded-full transition-colors text-gray-400",children:i.jsx(ba,{className:"w-6 h-6"})})]}),i.jsxs("div",{className:"flex-1 overflow-y-auto p-6 bg-gray-900 custom-scrollbar",children:[i.jsxs("div",{className:"bg-gray-800 p-6 rounded-2xl shadow-sm border border-gray-700 mb-8",children:[i.jsxs("h3",{className:"font-bold text-white mb-4 flex items-center gap-2",children:[i.jsx(il,{className:"w-5 h-5 text-blue-400"})," "]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{className:"block text-xs font-bold text-gray-400 mb-1",children:" "}),i.jsx("input",{type:"text",value:x.title,onChange:Z=>S("title",Z.target.value),className:ie})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-bold text-gray-400 mb-1",children:""}),i.jsx("input",{type:"text",value:x.subject,onChange:Z=>S("subject",Z.target.value),className:ie})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-bold text-gray-400 mb-1",children:h==="university"?"":""}),h==="school"?i.jsx("select",{value:x.grade,onChange:Z=>S("grade",Z.target.value),className:ie,children:[5,6,7,8,9,10,11,12].map(Z=>i.jsxs("option",{value:Z,children:[" ",Z]},Z))}):i.jsx("input",{type:"text",value:x.grade,onChange:Z=>S("grade",Z.target.value),className:ie,disabled:!0})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{className:"block text-xs font-bold text-gray-400 mb-1",children:"  (Category)"}),i.jsxs("select",{value:x.category||"Language",onChange:Z=>S("category",Z.target.value),className:ie,children:[i.jsx("option",{value:"Language",children:"Language ()"}),i.jsx("option",{value:"Reading",children:"Reading ()"}),i.jsx("option",{value:"Writing",children:"Writing ()"}),i.jsx("option",{value:"Vocabulary",children:"Vocabulary ()"})]})]})]})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("h3",{className:"font-bold text-white flex items-center justify-between",children:[i.jsxs("span",{className:"flex items-center gap-2",children:[i.jsx(Mo,{className:"w-5 h-5 text-blue-400"})," (",x.questions.length,")"]}),i.jsx("span",{className:"text-xs bg-yellow-900/30 text-yellow-300 px-2 py-1 rounded-lg",children:"*        "})]}),x.questions.map((Z,Ae)=>i.jsxs("div",{className:"bg-gray-800 p-6 rounded-2xl shadow-sm border border-gray-700 relative group",children:[i.jsx("button",{onClick:()=>F(Ae),className:"absolute top-4 left-4 p-2 text-gray-400 hover:bg-red-900/20 hover:text-red-400 rounded-lg transition-colors",title:" ",children:i.jsx(Al,{className:"w-5 h-5"})}),i.jsxs("div",{className:"mb-6",children:[i.jsxs("label",{className:"block text-xs font-bold text-gray-400 mb-1.5",children:["  ",Ae+1]}),i.jsx("input",{type:"text",dir:"ltr",value:Z.question,onChange:be=>P(Ae,"question",be.target.value),className:"w-full p-3 rounded-xl border-2 border-gray-600 focus:border-emerald-500 outline-none font-bold text-white bg-gray-700 shadow-sm text-lg transition-colors placeholder-gray-400 text-left"})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:Z.options.map((be,Ee)=>i.jsxs("div",{className:"relative",children:[i.jsxs("label",{className:"flex items-center justify-between text-xs font-bold text-gray-400 mb-1 px-1",children:[i.jsxs("span",{children:[" ",Ee+1]}),i.jsxs("button",{onClick:()=>P(Ae,"correctAnswer",Ee),className:`flex items-center gap-1 px-2 py-0.5 rounded cursor-pointer transition-colors ${Z.correctAnswer===Ee?"bg-emerald-900/30 text-emerald-400":"bg-gray-700 text-gray-500 hover:bg-gray-600"}`,children:[Z.correctAnswer===Ee?i.jsx(ts,{className:"w-3 h-3"}):i.jsx("div",{className:"w-3 h-3 border border-gray-400 rounded-full"}),Z.correctAnswer===Ee?" ":" "]})]}),i.jsx("input",{type:"text",dir:"ltr",value:be,onChange:$=>E(Ae,Ee,$.target.value),className:`w-full p-3 rounded-xl border-2 outline-none font-bold transition-colors shadow-sm text-left ${Z.correctAnswer===Ee?"border-emerald-500 bg-emerald-900/20 text-emerald-300":"border-gray-600 focus:border-blue-400 text-white bg-gray-700"}`})]},Ee))}),i.jsxs("div",{className:"bg-yellow-900/20 p-4 rounded-xl border border-yellow-800",children:[i.jsx("label",{className:"block text-xs font-bold text-yellow-200 mb-1",children:" "}),i.jsx("textarea",{value:Z.explanation||"",onChange:be=>P(Ae,"explanation",be.target.value),className:"w-full p-3 rounded-lg border border-yellow-700 focus:border-yellow-500 outline-none text-gray-200 bg-gray-800 text-sm h-20 resize-none shadow-sm custom-scrollbar text-left",placeholder:"  ...",dir:"ltr"})]})]},Ae))]})]}),i.jsxs("div",{className:"p-6 bg-gray-800 border-t border-gray-700 flex justify-end gap-3 shrink-0 sticky bottom-0 z-10",children:[i.jsx("button",{onClick:()=>B(null),className:"px-6 py-3 rounded-xl font-bold text-gray-300 bg-gray-700 hover:bg-gray-600 transition-colors",children:""}),i.jsxs("button",{onClick:Q,disabled:w,className:"px-8 py-3 rounded-xl font-bold text-white bg-emerald-600 hover:bg-emerald-700 transition-colors flex items-center gap-2 shadow-lg shadow-none",children:[w?i.jsx(zr,{className:"w-5 h-5 animate-spin"}):i.jsx(cu,{className:"w-5 h-5"})," "]})]})]})}),j&&i.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center px-4 bg-black/60 backdrop-blur-sm animate-fade-in",children:i.jsxs("div",{className:"bg-gray-900 rounded-3xl p-8 max-w-sm w-full border border-gray-700 shadow-2xl text-center",children:[i.jsx("div",{className:"w-20 h-20 bg-red-900/20 rounded-full flex items-center justify-center mx-auto mb-6 border border-red-500/20",children:i.jsx(Al,{className:"w-10 h-10 text-red-500"})}),i.jsx("h3",{className:"text-xl font-black text-white mb-2",children:" "}),i.jsxs("p",{className:"text-gray-400 mb-6 text-sm leading-relaxed",children:["      ",i.jsx("br",{}),i.jsxs("span",{className:"text-white font-bold",children:['"',j.title,'"']}),"",i.jsx("br",{}),"     ."]}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx("button",{onClick:U,disabled:L,className:"flex-1 bg-red-600 hover:bg-red-700 text-white py-3 rounded-xl font-bold transition-colors flex items-center justify-center gap-2 shadow-lg shadow-red-900/20",children:L?i.jsx(zr,{className:"w-5 h-5 animate-spin"}):" "}),i.jsx("button",{onClick:()=>M(null),disabled:L,className:"flex-1 bg-gray-800 hover:bg-gray-700 text-gray-300 py-3 rounded-xl font-bold transition-colors border border-gray-700",children:""})]})]})})]}):i.jsx("div",{className:"min-h-screen bg-gray-950 pb-20 animate-fade-in transition-colors duration-300 text-gray-100 flex items-center justify-center",children:i.jsxs("div",{className:"max-w-4xl w-full px-4",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[i.jsx("button",{onClick:r,className:"p-2 bg-gray-900/50 hover:bg-gray-800 rounded-xl transition-all text-gray-400 hover:text-white border border-white/10 shadow-lg group backdrop-blur-sm",children:i.jsx(an,{className:"w-4 h-4 group-hover:-translate-x-1 transition-transform"})}),i.jsx("span",{className:"text-gray-400 text-sm font-bold",children:""})]}),i.jsxs("div",{className:"text-center mb-10",children:[i.jsx("h2",{className:"text-3xl font-black text-white mb-3",children:" "}),i.jsx("p",{className:"text-gray-400",children:"     "})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("button",{onClick:()=>g("school"),className:"bg-gray-900 p-10 rounded-[2.5rem] border border-gray-700 hover:border-emerald-500 hover:bg-gray-800 transition-all group shadow-2xl flex flex-col items-center gap-6",children:[i.jsx("div",{className:"w-24 h-24 rounded-full bg-emerald-900/20 flex items-center justify-center group-hover:scale-110 transition-transform border border-emerald-500/20",children:i.jsx(xA,{className:"w-12 h-12 text-emerald-400"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-2xl font-bold text-white mb-1",children:""}),i.jsx("p",{className:"text-gray-400 text-sm",children:"  (5 - 12)"})]})]}),i.jsxs("button",{onClick:()=>g("university"),className:"bg-gray-900 p-10 rounded-[2.5rem] border border-gray-700 hover:border-blue-500 hover:bg-gray-800 transition-all group shadow-2xl flex flex-col items-center gap-6",children:[i.jsx("div",{className:"w-24 h-24 rounded-full bg-blue-900/20 flex items-center justify-center group-hover:scale-110 transition-transform border border-blue-500/20",children:i.jsx(ni,{className:"w-12 h-12 text-blue-400"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-2xl font-bold text-white mb-1",children:""}),i.jsx("p",{className:"text-gray-400 text-sm",children:"  "})]})]})]})]})})},zV=[{id:"grammar",title:" (Grammar)",icon:il,desc:"   ",color:"bg-blue-900/20 text-blue-400"},{id:"reading",title:" (Reading)",icon:Us,desc:"    ",color:"bg-emerald-900/20 text-emerald-400"},{id:"vocabulary",title:" (Vocabulary)",icon:Vg,desc:"   ",color:"bg-purple-900/20 text-purple-400"},{id:"writing",title:" (Writing)",icon:px,desc:"   ",color:"bg-orange-900/20 text-orange-400"}],qV=[{id:"English",title:" ",icon:Vg,color:"text-purple-400",bg:"bg-purple-900/20"}],GV=({onBack:r,onNavigate:e})=>{const{user:t}=go(),[n,s]=he.useState("INTRO"),[o,l]=he.useState(null),[c,d]=he.useState(""),[h,g]=he.useState(""),[x,B]=he.useState(null),[w,I]=he.useState("First"),[j,M]=he.useState([]),[L,X]=he.useState(!1),[V,z]=he.useState(null),[ne,le]=he.useState(0),[R,U]=he.useState(""),[S,P]=he.useState(!1),[E,F]=he.useState(!1),[Q,J]=he.useState(!1),[,xe]=he.useState(0);he.useEffect(()=>{const H=setInterval(()=>xe(Ke=>Ke+1),5e3);return()=>clearInterval(H)},[]),he.useEffect(()=>{window.history.replaceState({view:"LESSONS_EXPLANATIONS",subView:"INTRO"},"","");const H=Ke=>{Ke.state&&Ke.state.subView?s(Ke.state.subView):n==="INTRO"?r&&r():s("INTRO")};return window.addEventListener("popstate",H),()=>window.removeEventListener("popstate",H)},[]);const ie=H=>{window.history.pushState({view:"LESSONS_EXPLANATIONS",subView:H},"",""),s(H)},Z=()=>{window.history.back()},Ae=()=>{if(!(t!=null&&t.isSubscriber)||!t.subscriptionExpiry)return!1;const H=t.subscriptionExpiry.seconds?t.subscriptionExpiry.seconds*1e3:new Date(t.subscriptionExpiry).getTime();return Date.now()<H};he.useEffect(()=>{if(n==="DETAILS"){const H=Ke=>(Ke.preventDefault(),!1);return document.addEventListener("contextmenu",H),document.addEventListener("selectstart",H),document.addEventListener("copy",H),document.addEventListener("cut",H),()=>{document.removeEventListener("contextmenu",H),document.removeEventListener("selectstart",H),document.removeEventListener("copy",H),document.removeEventListener("cut",H)}}},[n]),he.useEffect(()=>{window.scrollTo(0,0)},[n]);const be=()=>ie("LEVELS"),Ee=H=>{l(H),ie("SUBJECTS")},$=H=>{d(H),ie("GRADES")},D=H=>{g(H),ie("CATEGORIES")},q=H=>{B(H),ie("TOPICS")},te=H=>{if(H.isPremium&&!Ae()){J(!0);return}z(H),le(0),U(""),F(!1),ie("DETAILS")};he.useEffect(()=>{n==="TOPICS"&&h&&x&&c&&re()},[n,h,x,c,w,t==null?void 0:t.isSubscriber]);const re=async()=>{X(!0);try{const H=ya(bn(yr,"explanations"),wa("subject","==",c),wa("grade","==",h),wa("category","==",x==null?void 0:x.id)),Ke=await Pj(H),rt=[];Ke.forEach(Pe=>{rt.push({id:Pe.id,...Pe.data()})});const pt=rt.filter(Pe=>(Pe.semester||"First")===w);pt.sort((Pe,st)=>{var St,Yt;const dt=((St=Pe.createdAt)==null?void 0:St.seconds)||0;return(((Yt=st.createdAt)==null?void 0:Yt.seconds)||0)-dt}),M(pt)}catch(H){console.error("Error fetching explanations:",H)}finally{X(!1)}},fe=async()=>{if(ne!==0&&!(!V||!t)){P(!0);try{await vA(bn(yr,"reviews"),{type:"explanation",targetId:V.id,targetTitle:V.title,teacherId:V.teacherName||"",teacherName:V.teacherName||"",rating:ne,comment:R,studentId:t.uid,studentName:t.displayName,createdAt:Ki()}),F(!0)}catch(H){console.error("Error saving review:",H),alert("    ")}finally{P(!1)}}},ge=H=>H?(H.toDate?H.toDate():new Date(H.seconds*1e3)).toLocaleDateString("ar-EG"):"",Be=()=>i.jsxs("div",{className:"min-h-screen bg-gray-950 animate-fade-in flex flex-col relative overflow-hidden",children:[i.jsxs("div",{className:"absolute inset-0 z-0",children:[i.jsx("video",{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,preload:"auto",poster:"https://images.unsplash.com/photo-1497633762265-9d179a990aa6?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80",className:"w-full h-full object-cover",children:i.jsx("source",{src:"https://drive.google.com/uc?export=download&id=1wHw0wEWltdWfMqblwZLRgLKZ_ah3lCKm",type:"video/mp4"})}),i.jsx("div",{className:"absolute inset-0 bg-gray-950/70"}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-gray-950 via-transparent to-gray-950/80"})]}),i.jsxs("div",{className:"relative z-10 flex flex-col items-center justify-center flex-1 px-6 text-center pt-10",children:[i.jsx("span",{className:"inline-block px-6 py-2 rounded-full bg-white/10 backdrop-blur-md text-emerald-300 font-bold text-sm mb-6 border border-white/20 shadow-lg animate-fade-in-up",children:"  "}),i.jsxs("h1",{className:"text-5xl md:text-7xl font-black text-white mb-6 leading-tight drop-shadow-2xl animate-fade-in-up delay-100",children:[" ",i.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-emerald-400 to-teal-400",children:" "})]}),i.jsx("p",{className:"text-gray-200 text-lg md:text-2xl max-w-2xl mx-auto mb-12 leading-relaxed font-medium drop-shadow-md animate-fade-in-up delay-200",children:"         ."}),i.jsxs("button",{onClick:be,className:"w-full md:w-auto bg-white text-gray-900 text-xl font-black px-12 py-5 rounded-2xl hover:scale-105 hover:bg-emerald-50 transition-all shadow-[0_0_30px_rgba(255,255,255,0.3)] flex items-center justify-center gap-3 animate-fade-in-up delay-300",children:[" ",i.jsx(an,{className:"w-6 h-6"})]})]}),i.jsx("div",{className:"p-6 text-center relative z-10",children:i.jsxs("button",{onClick:r,className:"text-white/70 font-bold hover:text-white transition-colors flex items-center justify-center gap-2 mx-auto",children:[i.jsx(zn,{className:"w-4 h-4"})," "]})})]}),_e=()=>i.jsxs("div",{className:"min-h-screen bg-gray-950 animate-fade-in-up text-gray-100",children:[i.jsx("div",{className:"max-w-7xl mx-auto px-4 pt-2 pb-2 relative z-30",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("button",{onClick:Z,className:"p-2 bg-gray-900/50 hover:bg-gray-800 rounded-xl transition-all text-gray-400 hover:text-white border border-white/10 shadow-lg backdrop-blur-sm group",children:i.jsx(an,{className:"w-4 h-4 group-hover:-translate-x-1 transition-transform"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-lg font-black text-white tracking-tight mb-0.5",children:" "}),i.jsxs("div",{className:"flex items-center gap-1.5 text-[10px] md:text-xs font-medium text-gray-500",children:[i.jsxs("span",{onClick:r,className:"hover:text-emerald-400 cursor-pointer transition-colors flex items-center gap-1",children:[i.jsx(zn,{className:"w-3 h-3"})," "]}),i.jsx("span",{className:"text-gray-700",children:"/"}),i.jsxs("span",{className:"text-emerald-500 flex items-center gap-1",children:[i.jsx(Us,{className:"w-3 h-3"}),""]})]})]})]})}),i.jsx("div",{className:"max-w-4xl mx-auto px-4 py-8",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("button",{onClick:()=>Ee("school"),className:"bg-gray-900 p-8 rounded-3xl border border-gray-700 hover:border-emerald-500 hover:bg-gray-800 transition-all group shadow-xl flex flex-col items-center gap-4",children:[i.jsx("div",{className:"w-24 h-24 rounded-full bg-emerald-900/20 flex items-center justify-center group-hover:scale-110 transition-transform",children:i.jsx(xA,{className:"w-12 h-12 text-emerald-400"})}),i.jsx("h3",{className:"text-2xl font-bold text-white",children:" "}),i.jsx("p",{className:"text-gray-400 text-sm",children:"     "})]}),i.jsxs("button",{onClick:()=>Ee("university"),className:"bg-gray-900 p-8 rounded-3xl border border-gray-700 hover:border-blue-500 hover:bg-gray-800 transition-all group shadow-xl flex flex-col items-center gap-4",children:[i.jsx("div",{className:"w-24 h-24 rounded-full bg-blue-900/20 flex items-center justify-center group-hover:scale-110 transition-transform",children:i.jsx(ni,{className:"w-12 h-12 text-blue-400"})}),i.jsx("h3",{className:"text-2xl font-bold text-white",children:" "}),i.jsx("p",{className:"text-gray-400 text-sm",children:"  (  )"})]})]})})]}),Oe=()=>i.jsxs("div",{className:"min-h-screen bg-gray-950 animate-fade-in-up text-gray-100",children:[i.jsx("div",{className:"max-w-7xl mx-auto px-4 pt-2 pb-2 relative z-30",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("button",{onClick:Z,className:"p-2 bg-gray-900/50 hover:bg-gray-800 rounded-xl transition-all text-gray-400 hover:text-white border border-white/10 shadow-lg backdrop-blur-sm group",children:i.jsx(an,{className:"w-4 h-4 group-hover:-translate-x-1 transition-transform"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-lg font-black text-white tracking-tight mb-0.5",children:" "}),i.jsxs("div",{className:"flex items-center gap-1.5 text-[10px] md:text-xs font-medium text-gray-500",children:[i.jsxs("span",{onClick:r,className:"hover:text-emerald-400 cursor-pointer transition-colors flex items-center gap-1",children:[i.jsx(zn,{className:"w-3 h-3"})," "]}),i.jsx("span",{className:"text-gray-700",children:"/"}),i.jsxs("span",{className:"text-emerald-500 flex items-center gap-1",children:[i.jsx(Us,{className:"w-3 h-3"}),""]})]})]})]})}),i.jsx("div",{className:"max-w-4xl mx-auto px-4 py-8",children:i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:qV.map(H=>i.jsxs("button",{onClick:()=>$(H.id),className:"bg-gray-900 p-8 rounded-[2.5rem] shadow-sm border border-gray-700 hover:border-emerald-500 hover:shadow-xl hover:-translate-y-2 transition-all group flex flex-col items-center gap-4",children:[i.jsx("div",{className:`w-20 h-20 rounded-3xl flex items-center justify-center ${H.bg} ${H.color} group-hover:scale-110 transition-transform`,children:i.jsx(H.icon,{className:"w-10 h-10"})}),i.jsx("span",{className:"font-black text-xl text-gray-200 group-hover:text-white",children:H.title})]},H.id))})})]}),He=()=>{const H={5:"border-emerald-500/30 hover:border-emerald-500 hover:shadow-emerald-900/20 group-hover:text-emerald-400",6:"border-cyan-500/30 hover:border-cyan-500 hover:shadow-cyan-900/20 group-hover:text-cyan-400",7:"border-sky-500/30 hover:border-sky-500 hover:shadow-sky-900/20 group-hover:text-sky-400",8:"border-blue-500/30 hover:border-blue-500 hover:shadow-blue-900/20 group-hover:text-blue-400",9:"border-indigo-500/30 hover:border-indigo-500 hover:shadow-indigo-900/20 group-hover:text-indigo-400",10:"border-violet-500/30 hover:border-violet-500 hover:shadow-violet-900/20 group-hover:text-violet-400",11:"border-purple-500/30 hover:border-purple-500 hover:shadow-purple-900/20 group-hover:text-purple-400",12:"border-pink-500/30 hover:border-pink-500 hover:shadow-pink-900/20 group-hover:text-pink-400"},Ke={5:"bg-emerald-900/20 text-emerald-400 group-hover:bg-emerald-500 group-hover:text-white",6:"bg-cyan-900/20 text-cyan-400 group-hover:bg-cyan-500 group-hover:text-white",7:"bg-sky-900/20 text-sky-400 group-hover:bg-sky-500 group-hover:text-white",8:"bg-blue-900/20 text-blue-400 group-hover:bg-blue-500 group-hover:text-white",9:"bg-indigo-900/20 text-indigo-400 group-hover:bg-indigo-500 group-hover:text-white",10:"bg-violet-900/20 text-violet-400 group-hover:bg-violet-500 group-hover:text-white",11:"bg-purple-900/20 text-purple-400 group-hover:bg-purple-500 group-hover:text-white",12:"bg-pink-900/20 text-pink-400 group-hover:bg-pink-500 group-hover:text-white"};return i.jsxs("div",{className:"min-h-screen bg-gray-950 animate-fade-in-up text-gray-100",children:[i.jsx("div",{className:"max-w-7xl mx-auto px-4 pt-2 pb-2 relative z-30",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("button",{onClick:Z,className:"p-2 bg-gray-900/50 hover:bg-gray-800 rounded-xl transition-all text-gray-400 hover:text-white border border-white/10 shadow-lg backdrop-blur-sm group",children:i.jsx(an,{className:"w-4 h-4 group-hover:-translate-x-1 transition-transform"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-lg font-black text-white tracking-tight mb-0.5",children:o==="university"?" ":" "}),i.jsxs("div",{className:"flex items-center gap-1.5 text-[10px] md:text-xs font-medium text-gray-500",children:[i.jsxs("span",{onClick:r,className:"hover:text-emerald-400 cursor-pointer transition-colors flex items-center gap-1",children:[i.jsx(zn,{className:"w-3 h-3"})," "]}),i.jsx("span",{className:"text-gray-700",children:"/"}),i.jsxs("span",{className:"text-emerald-500 flex items-center gap-1",children:[i.jsx(Ko,{className:"w-3 h-3"}),""]})]})]})]})}),i.jsx("div",{className:"max-w-4xl mx-auto px-4 py-8",children:o==="school"?i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:[5,6,7,8,9,10,11,12].map(rt=>{const pt=rt.toString(),Pe=H[pt],st=Ke[pt];return i.jsxs("button",{onClick:()=>D(rt.toString()),className:`bg-gray-900 p-5 rounded-2xl shadow-sm border transition-all group flex flex-col items-center gap-3 hover:-translate-y-1 hover:shadow-lg ${Pe}`,children:[i.jsx("div",{className:`w-14 h-14 rounded-full flex items-center justify-center transition-colors ${st}`,children:i.jsx("span",{className:"font-black text-xl",children:rt})}),i.jsxs("span",{className:"font-black text-gray-300 transition-colors text-base group-hover:text-white",children:[" ",rt]})]},rt)})}):i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:i.jsxs("button",{onClick:()=>D("English Major - QOU"),className:"bg-gray-900 p-8 rounded-2xl shadow-sm border border-blue-500/30 hover:border-blue-500 transition-all group flex flex-col items-center gap-4 hover:-translate-y-1 hover:shadow-xl hover:shadow-blue-900/20",children:[i.jsx("div",{className:"w-20 h-20 rounded-full bg-blue-900/20 flex items-center justify-center transition-colors group-hover:bg-blue-600 group-hover:text-white text-blue-400",children:i.jsx(ni,{className:"w-10 h-10"})}),i.jsx("span",{className:"font-black text-gray-200 transition-colors text-lg group-hover:text-white",children:"   -   "})]})})})]})},it=()=>i.jsxs("div",{className:"min-h-screen bg-gray-950 animate-fade-in-up text-gray-100",children:[i.jsx("div",{className:"max-w-7xl mx-auto px-4 pt-2 pb-2 relative z-30",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("button",{onClick:Z,className:"p-2 bg-gray-900/50 hover:bg-gray-800 rounded-xl transition-all text-gray-400 hover:text-white border border-white/10 shadow-lg backdrop-blur-sm group",children:i.jsx(an,{className:"w-4 h-4 group-hover:-translate-x-1 transition-transform"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-lg font-black text-white tracking-tight mb-0.5",children:"  "}),i.jsxs("div",{className:"flex items-center gap-1.5 text-[10px] md:text-xs font-medium text-gray-500",children:[i.jsxs("span",{onClick:r,className:"hover:text-emerald-400 cursor-pointer transition-colors flex items-center gap-1",children:[i.jsx(zn,{className:"w-3 h-3"})," "]}),i.jsx("span",{className:"text-gray-700",children:"/"}),i.jsxs("span",{className:"text-emerald-500 flex items-center gap-1",children:[i.jsx(il,{className:"w-3 h-3"}),o==="university"?"":""]})]})]})]})}),i.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[i.jsxs("div",{className:"bg-gray-900 p-2 rounded-2xl mb-8 flex border border-gray-700 max-w-sm mx-auto",children:[i.jsxs("button",{onClick:()=>I("First"),className:`flex-1 py-3 rounded-xl font-bold transition-all text-sm flex items-center justify-center gap-2 ${w==="First"?"bg-emerald-600 text-white shadow-lg":"text-gray-400 hover:text-white hover:bg-gray-800"}`,children:[i.jsx(gg,{className:"w-4 h-4"}),"  "]}),i.jsxs("button",{onClick:()=>I("Second"),className:`flex-1 py-3 rounded-xl font-bold transition-all text-sm flex items-center justify-center gap-2 ${w==="Second"?"bg-emerald-600 text-white shadow-lg":"text-gray-400 hover:text-white hover:bg-gray-800"}`,children:[i.jsx(gg,{className:"w-4 h-4"}),"  "]})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:zV.map(H=>i.jsx("button",{onClick:()=>q(H),className:"bg-gray-900 rounded-3xl p-5 shadow-sm border border-gray-700 hover:shadow-xl hover:border-emerald-800 transition-all group text-right relative overflow-hidden",children:i.jsxs("div",{className:"flex items-start gap-4 relative z-10",children:[i.jsx("div",{className:`w-14 h-14 rounded-2xl flex items-center justify-center shrink-0 ${H.color} group-hover:scale-110 transition-transform`,children:i.jsx(H.icon,{className:"w-7 h-7"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"text-lg font-black text-white mb-1",children:H.title}),i.jsx("p",{className:"text-gray-400 text-xs font-medium",children:H.desc})]}),i.jsx("div",{className:"absolute top-1/2 -left-4 -translate-y-1/2 bg-gray-700 p-2 rounded-full opacity-0 group-hover:opacity-100 group-hover:translate-x-2 transition-all",children:i.jsx(el,{className:"w-5 h-5 text-gray-400"})})]})},H.id))})]})]}),me=()=>i.jsxs("div",{className:"min-h-screen bg-gray-950 animate-fade-in-up text-gray-100",children:[i.jsx("div",{className:"max-w-7xl mx-auto px-4 pt-2 pb-2 relative z-30",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("button",{onClick:Z,className:"p-2 bg-gray-900/50 hover:bg-gray-800 rounded-xl transition-all text-gray-400 hover:text-white border border-white/10 shadow-lg backdrop-blur-sm group",children:i.jsx(an,{className:"w-4 h-4 group-hover:-translate-x-1 transition-transform"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-lg font-black text-white tracking-tight mb-0.5",children:x==null?void 0:x.title}),i.jsxs("div",{className:"flex items-center gap-1.5 text-[10px] md:text-xs font-medium text-gray-500",children:[i.jsxs("span",{onClick:r,className:"hover:text-emerald-400 cursor-pointer transition-colors flex items-center gap-1",children:[i.jsx(zn,{className:"w-3 h-3"})," "]}),i.jsx("span",{className:"text-gray-700",children:"/"}),i.jsxs("span",{className:"text-emerald-500 flex items-center gap-1",children:[i.jsx(il,{className:"w-3 h-3"})," - ",w==="First"?" 1":" 2"]})]})]})]})}),i.jsx("div",{className:"max-w-3xl mx-auto px-4 py-8",children:L?i.jsx("div",{className:"flex justify-center py-12",children:i.jsx(zr,{className:"w-8 h-8 animate-spin text-emerald-400"})}):j.length===0?i.jsx("div",{className:"flex flex-col items-center justify-center text-center",children:i.jsxs("div",{className:"bg-gray-900 p-8 rounded-3xl shadow-sm border border-gray-700 max-w-md w-full",children:[i.jsx("h3",{className:"text-2xl font-black text-white mb-3",children:"   "}),i.jsxs("p",{className:"text-gray-400 font-medium leading-relaxed mb-6",children:["      ",i.jsx("span",{className:"text-emerald-600 font-bold",children:x==null?void 0:x.title}),"  ",i.jsx("span",{className:"text-emerald-600 font-bold",children:w==="First"?"":""}),"  ."]}),i.jsxs("div",{className:"flex items-center justify-center gap-2 text-xs font-bold text-gray-400 bg-gray-700 py-2 px-4 rounded-full",children:[i.jsx(rf,{className:"w-4 h-4"}),"     "]})]})}):i.jsx("div",{className:"grid grid-cols-1 gap-4",children:j.map(H=>{const Ke=Ae(),rt=H.isPremium&&!Ke,pt=rt?"border-amber-900/50":H.isPremium?"border-amber-600":"border-gray-700";return i.jsxs("button",{onClick:()=>te(H),className:`bg-gray-900 p-5 rounded-2xl shadow-sm border ${pt} hover:shadow-md transition-all group text-right flex items-center justify-between relative overflow-hidden`,children:[H.isPremium&&i.jsxs("div",{className:"absolute top-0 left-0 bg-amber-500/20 border-b border-r border-amber-500/30 text-amber-400 text-[9px] font-bold px-2 py-0.5 rounded-br-lg z-10 flex items-center gap-1",children:[i.jsx(ns,{className:"w-3 h-3 fill-amber-400"}),"PREMIUM"]}),i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsx("div",{className:`p-3 rounded-xl transition-colors ${rt?"bg-gray-800":"bg-gray-700 group-hover:bg-emerald-900/20"}`,children:rt?i.jsx(Ro,{className:"w-6 h-6 text-gray-500"}):i.jsx(ra,{className:"w-6 h-6 text-gray-500 group-hover:text-emerald-400"})}),i.jsxs("div",{children:[i.jsx("h3",{className:`text-lg font-bold mb-1 transition-colors ${rt?"text-gray-500":"text-white group-hover:text-emerald-400"}`,children:H.title}),i.jsxs("div",{className:"flex items-center gap-3 text-xs text-gray-500 font-medium",children:[i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(mg,{className:"w-3 h-3"}),ge(H.createdAt)]}),i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(pi,{className:"w-3 h-3"}),H.teacherName]})]})]})]}),i.jsx("div",{className:`transition-transform duration-300 ${rt?"":"group-hover:-translate-x-1"}`,children:rt?i.jsx(Ro,{className:"w-5 h-5 text-gray-600"}):i.jsx(el,{className:"w-5 h-5 text-gray-300 group-hover:text-emerald-500"})})]},H.id)})})})]}),Me=()=>V?i.jsxs("div",{className:"min-h-screen bg-gray-950 animate-fade-in-up text-gray-100 pb-20",children:[i.jsx("div",{className:"max-w-7xl mx-auto px-4 pt-2 pb-2 relative z-30",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("button",{onClick:Z,className:"p-2 bg-gray-900/50 hover:bg-gray-800 rounded-xl transition-all text-gray-400 hover:text-white border border-white/10 shadow-lg backdrop-blur-sm group",children:i.jsx(an,{className:"w-4 h-4 group-hover:-translate-x-1 transition-transform"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-lg font-black text-white tracking-tight mb-0.5 truncate max-w-md",children:V.title}),i.jsxs("div",{className:"flex items-center gap-1.5 text-[10px] md:text-xs font-medium text-gray-500",children:[i.jsxs("span",{onClick:Z,className:"hover:text-emerald-400 cursor-pointer transition-colors flex items-center gap-1",children:[i.jsx(il,{className:"w-3 h-3"})," ",x==null?void 0:x.title]}),i.jsx("span",{className:"text-gray-700",children:"/"}),i.jsxs("span",{className:"text-emerald-500 flex items-center gap-1",children:[i.jsx(ra,{className:"w-3 h-3"}),""]})]})]}),V.isPremium&&i.jsxs("div",{className:"mr-auto hidden sm:flex items-center gap-1.5 bg-gradient-to-r from-amber-500/10 to-yellow-500/10 border border-amber-500/30 px-3 py-1 rounded-lg text-amber-400 text-xs font-black shadow-[0_0_10px_rgba(245,158,11,0.1)]",children:[i.jsx(ns,{className:"w-3.5 h-3.5 fill-amber-400 animate-pulse"}),i.jsx("span",{children:"  (Premium)"})]})]})}),i.jsxs("div",{className:"max-w-5xl mx-auto px-4 py-8",children:[i.jsxs("div",{className:`bg-gray-900 rounded-3xl shadow-2xl overflow-hidden mb-8 relative transition-all ${V.isPremium?"border-2 border-amber-500/20 shadow-amber-900/10":"border border-gray-700"}`,children:[V.isPremium&&i.jsx("div",{className:"absolute top-0 left-0 w-full h-1.5 bg-gradient-to-r from-amber-600 via-yellow-400 to-amber-600 shadow-[0_0_15px_rgba(245,158,11,0.5)]"}),i.jsxs("div",{className:"p-6 md:p-10 pt-10 select-none",onCopy:H=>H.preventDefault(),children:[i.jsxs("div",{className:"flex flex-wrap items-center gap-3 mb-8 text-sm text-gray-400 border-b border-gray-800 pb-6",children:[i.jsx("span",{className:"bg-gray-800 px-3 py-1.5 rounded-lg font-bold border border-gray-700 text-gray-300",children:h==="English Major - QOU"?"":` ${h}`}),i.jsx(el,{className:"w-4 h-4 opacity-50"}),i.jsx("span",{className:"bg-gray-800 px-3 py-1.5 rounded-lg font-bold border border-gray-700 text-gray-300",children:x==null?void 0:x.title})]}),i.jsx("h1",{className:"text-3xl md:text-4xl font-black text-white mb-8 leading-relaxed tracking-tight drop-shadow-sm",dir:"auto",children:V.title}),i.jsx("div",{className:"prose dark:prose-invert max-w-none text-gray-200 whitespace-pre-wrap leading-loose text-lg font-medium selection:bg-emerald-500/30",dir:"auto",dangerouslySetInnerHTML:{__html:V.content}})]}),i.jsxs("div",{className:"bg-gray-950/30 p-6 border-t border-gray-800 flex flex-wrap justify-between items-center text-sm text-gray-400 gap-4",children:[i.jsxs("div",{className:"flex items-center gap-3 bg-gray-900/50 px-4 py-2 rounded-full border border-gray-800 shadow-sm",children:[i.jsx("div",{className:"p-1.5 bg-gray-800 rounded-full",children:i.jsx(pi,{className:"w-4 h-4 text-emerald-400"})}),i.jsxs("span",{children:[": ",i.jsx("span",{className:"font-bold text-white",children:V.teacherName})]})]}),i.jsxs("div",{className:"flex items-center gap-2 opacity-80",children:[i.jsx(mg,{className:"w-4 h-4"}),i.jsx("span",{className:"font-mono dir-ltr",children:ge(V.createdAt)})]})]})]}),t&&i.jsxs("div",{className:"bg-gray-900 rounded-[2.5rem] shadow-xl border border-gray-700 p-8 text-center relative overflow-hidden",children:[i.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-blue-500/20 via-blue-500/50 to-blue-500/20"}),E?i.jsxs("div",{className:"py-12 animate-fade-in",children:[i.jsx("div",{className:"w-20 h-20 bg-green-500/10 rounded-full flex items-center justify-center mx-auto mb-6 border border-green-500/20 shadow-lg shadow-green-900/20",children:i.jsx(rc,{className:"w-10 h-10 text-green-400"})}),i.jsx("h3",{className:"text-2xl font-black text-white mb-2",children:" !"}),i.jsx("p",{className:"text-gray-400 font-medium",children:"     ."})]}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex items-center justify-center gap-3 mb-6",children:[i.jsx("div",{className:"p-3 bg-blue-500/10 rounded-2xl border border-blue-500/20",children:i.jsx(wg,{className:"w-6 h-6 text-blue-400"})}),i.jsx("h3",{className:"font-bold text-xl text-white",children:"    "})]}),i.jsx("p",{className:"text-gray-400 text-sm mb-6 font-medium",children:"     ()"}),i.jsx("div",{className:"flex justify-center gap-2 mb-6 flex-wrap",children:[1,2,3,4,5,6,7,8,9,10].map(H=>i.jsx("button",{onClick:()=>le(H),className:`w-10 h-10 rounded-xl text-sm font-bold transition-all shadow-sm ${ne===H?"bg-blue-600 text-white scale-110 shadow-blue-900/50 shadow-lg":"bg-gray-800 text-gray-400 hover:bg-gray-700 border border-gray-700"}`,children:H},H))}),i.jsx("div",{className:"relative mb-6",children:i.jsx("textarea",{value:R,onChange:H=>U(H.target.value),placeholder:"  ...",className:"w-full bg-gray-950 border border-gray-700 rounded-2xl p-4 text-sm text-white outline-none focus:border-blue-500 focus:ring-1 focus:ring-blue-500/50 min-h-[100px] resize-none transition-all placeholder-gray-600"})}),i.jsxs("button",{onClick:fe,disabled:S||ne===0,className:`w-full py-4 rounded-2xl font-bold text-base flex items-center justify-center gap-3 transition-all shadow-lg ${ne===0?"bg-gray-800 text-gray-500 cursor-not-allowed shadow-none":"bg-blue-600 text-white hover:bg-blue-500 hover:shadow-blue-500/20 hover:-translate-y-1"}`,children:[S?i.jsx(zr,{className:"w-5 h-5 animate-spin"}):i.jsx(uu,{className:"w-5 h-5"})," "]})]})]})]})]}):null;return i.jsxs(i.Fragment,{children:[n==="INTRO"&&Be(),n==="LEVELS"&&_e(),n==="SUBJECTS"&&Oe(),n==="GRADES"&&He(),n==="CATEGORIES"&&it(),n==="TOPICS"&&me(),n==="DETAILS"&&Me(),Q&&i.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center px-4",children:[i.jsx("div",{className:"absolute inset-0 bg-black/90 backdrop-blur-md",onClick:()=>J(!1)}),i.jsxs("div",{className:"bg-gray-900 rounded-[2.5rem] p-8 max-w-sm w-full relative z-10 text-center border border-amber-500/30 shadow-2xl shadow-amber-900/20 animate-fade-in-up",children:[i.jsx("div",{className:"w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-6 shadow-lg border-4 border-gray-800 bg-amber-500/20",children:i.jsx(ns,{className:"w-10 h-10 text-amber-500 fill-amber-500"})}),i.jsx("h3",{className:"text-2xl font-black text-white mb-3",children:" "}),i.jsx("p",{className:"text-gray-400 mb-8 text-base font-medium leading-relaxed",children:"        (Premium).    ."}),i.jsxs("button",{onClick:()=>{J(!1),e("SERVICES")},className:"w-full py-3.5 rounded-xl font-bold text-white transition-all shadow-lg bg-gradient-to-r from-amber-500 to-orange-500 hover:from-amber-600 hover:to-orange-600 border border-amber-500 flex items-center justify-center gap-2",children:[i.jsx(ns,{className:"w-5 h-5 fill-white"})," "]})]})]})]})},KC=[{id:"grammar",title:" (Grammar)",icon:il},{id:"reading",title:" (Reading)",icon:Us},{id:"vocabulary",title:" (Vocabulary)",icon:Vg},{id:"writing",title:" (Writing)",icon:px}],$V=[{id:"English",title:"  (English)",icon:Vg}],XV=({value:r,onChange:e})=>{const t=he.useRef(null),[n,s]=he.useState("#000000");he.useEffect(()=>{t.current&&r!==t.current.innerHTML&&r===""&&(t.current.innerHTML="")},[r]);const o=(c,d="")=>{var h;document.execCommand(c,!1,d),t.current&&e(t.current.innerHTML),(h=t.current)==null||h.focus()},l=()=>{t.current&&e(t.current.innerHTML)};return i.jsxs("div",{className:"border-2 border-gray-700 rounded-xl overflow-hidden bg-gray-800 flex flex-col h-96",children:[i.jsxs("div",{className:"bg-gray-900 border-b border-gray-700 p-2 flex flex-wrap items-center gap-2",children:[i.jsx("button",{type:"button",onClick:()=>o("bold"),className:"p-2 hover:bg-gray-700 rounded text-gray-300 hover:text-white",title:"",children:i.jsx(PF,{className:"w-4 h-4"})}),i.jsx("button",{type:"button",onClick:()=>o("underline"),className:"p-2 hover:bg-gray-700 rounded text-gray-300 hover:text-white",title:"",children:i.jsx(iL,{className:"w-4 h-4"})}),i.jsx("div",{className:"w-px h-6 bg-gray-700 mx-1"}),i.jsxs("select",{onChange:c=>o("fontSize",c.target.value),className:"bg-gray-800 text-white text-xs p-1.5 rounded border border-gray-600 outline-none",defaultValue:"3",title:" ",children:[i.jsx("option",{value:"1",children:" "}),i.jsx("option",{value:"2",children:""}),i.jsx("option",{value:"3",children:""}),i.jsx("option",{value:"4",children:""}),i.jsx("option",{value:"5",children:""}),i.jsx("option",{value:"6",children:" "}),i.jsx("option",{value:"7",children:""})]}),i.jsxs("div",{className:"flex items-center gap-1 bg-gray-800 rounded border border-gray-600 px-1",children:[i.jsx($y,{className:"w-4 h-4 text-gray-400"}),i.jsx("input",{type:"color",value:n,onChange:c=>{s(c.target.value),o("foreColor",c.target.value)},className:"w-6 h-6 bg-transparent border-none outline-none cursor-pointer",title:" "})]}),i.jsx("div",{className:"w-px h-6 bg-gray-700 mx-1"}),i.jsx("button",{type:"button",onClick:()=>o("justifyLeft"),className:"p-2 hover:bg-gray-700 rounded text-gray-300 hover:text-white",title:"  (English)",children:i.jsx(pS,{className:"w-4 h-4"})}),i.jsx("button",{type:"button",onClick:()=>o("justifyCenter"),className:"p-2 hover:bg-gray-700 rounded text-gray-300 hover:text-white",title:"",children:i.jsx(qQ,{className:"w-4 h-4"})}),i.jsx("button",{type:"button",onClick:()=>o("justifyRight"),className:"p-2 hover:bg-gray-700 rounded text-gray-300 hover:text-white",title:"  ()",children:i.jsx($Q,{className:"w-4 h-4"})})]}),i.jsx("div",{ref:t,contentEditable:!0,onInput:l,className:"flex-1 p-4 outline-none text-white overflow-y-auto text-right",style:{direction:"rtl",minHeight:"200px"},dir:"auto"})]})},YV=({onBack:r,onNavigate:e})=>{const{user:t}=go(),[n,s]=he.useState(null),[o,l]=he.useState(""),[c,d]=he.useState(""),[h,g]=he.useState("First"),[x,B]=he.useState(""),[w,I]=he.useState(""),[j,M]=he.useState(""),[L,X]=he.useState(!1),[V,z]=he.useState(!1),[ne,le]=he.useState(!1),[R,U]=he.useState(""),[S,P]=he.useState([]),[E,F]=he.useState(!1),[Q,J]=he.useState(!1),[xe,ie]=he.useState(null),[Z,Ae]=he.useState(!1),be=async()=>{if(!o||!c||!x||!w||!j){alert("    ");return}z(!0);try{await vA(bn(yr,"explanations"),{subject:o,grade:c,semester:h,category:x,title:w,content:j,teacherName:(t==null?void 0:t.displayName)||"",teacherId:t==null?void 0:t.uid,isPremium:L,createdAt:Ki()}),le(!0),setTimeout(()=>{le(!1),I(""),M(""),X(!1)},2e3)}catch(re){console.error("Error saving explanation:",re),alert("   ")}finally{z(!1)}},Ee=async()=>{if(R.trim()&&t!=null&&t.uid){F(!0),J(!0),P([]);try{const re=ya(bn(yr,"explanations"),wa("title",">=",R),wa("title","<=",R+"")),fe=await yi(re),ge=[];fe.forEach(Be=>{const _e=Be.data();_e.teacherId===t.uid&&ge.push({id:Be.id,..._e})}),P(ge)}catch(re){console.error("Error searching explanations:",re)}finally{F(!1)}}},$=async()=>{if(xe){Ae(!0);try{await um(Da(yr,"explanations",xe)),P(re=>re.filter(fe=>fe.id!==xe)),ie(null)}catch(re){console.error(re),alert("   ")}finally{Ae(!1)}}},D=()=>{r?r():e("HOME")},q=re=>re?(re.toDate?re.toDate():new Date(re.seconds*1e3)).toLocaleDateString("ar-EG"):"",te=re=>{const fe=KC.find(ge=>ge.id===re);return fe?fe.title:re};return n?i.jsxs("div",{className:"min-h-screen bg-gray-950 animate-fade-in transition-colors duration-300 text-gray-100",children:[i.jsx("div",{className:"max-w-4xl mx-auto px-4 pt-2 pb-2 relative z-30",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("button",{onClick:D,className:"p-2 bg-gray-900/50 hover:bg-gray-800 rounded-xl transition-all text-gray-400 hover:text-white border border-white/10 shadow-lg backdrop-blur-sm group",children:i.jsx(an,{className:"w-4 h-4 group-hover:-translate-x-1 transition-transform"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-lg font-black text-white tracking-tight mb-0.5",children:"  "}),i.jsxs("div",{className:"flex items-center gap-1.5 text-[10px] md:text-xs font-medium text-gray-500",children:[i.jsxs("span",{onClick:D,className:"hover:text-emerald-400 cursor-pointer transition-colors flex items-center gap-1",children:[i.jsx(zn,{className:"w-3 h-3"})," "]}),i.jsx("span",{className:"text-gray-700",children:"/"}),i.jsxs("span",{className:"text-emerald-500 flex items-center gap-1",children:[i.jsx(lu,{className:"w-3 h-3"})," "]})]})]})]})}),i.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-4",children:[i.jsxs("div",{className:"bg-gray-900 rounded-3xl shadow-sm border border-white/5 p-6 md:p-8 mb-12",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsxs("h2",{className:"text-xl font-black text-white flex items-center gap-2",children:[i.jsx(lu,{className:"w-6 h-6 text-purple-500"}),"  "]}),i.jsxs("button",{onClick:()=>{s(null),I(""),M("")},className:"bg-gray-800 text-gray-300 px-3 py-1.5 rounded-lg text-xs font-bold flex items-center gap-1 hover:bg-gray-700 transition-colors",children:[i.jsx(nc,{className:"w-3 h-3"})," "]})]}),ne?i.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center animate-fade-in",children:[i.jsx("div",{className:"w-20 h-20 bg-green-900 rounded-full flex items-center justify-center mb-4 border border-green-500/20",children:i.jsx(ts,{className:"w-10 h-10 text-green-400"})}),i.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"  !"}),i.jsx("p",{className:"text-gray-400 mb-6",children:"      ."}),i.jsx("button",{onClick:()=>le(!1),className:"bg-gray-800 text-gray-300 px-6 py-2 rounded-xl font-bold hover:bg-gray-700 transition-colors border border-white/5",children:"  "})]}):i.jsxs("div",{className:"space-y-8",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-gray-300 mb-3",children:"1.   "}),n==="university"?i.jsx("input",{type:"text",value:o,onChange:re=>l(re.target.value),placeholder:"  (: Writing 1)...",className:"w-full px-4 py-3 rounded-xl border-2 border-gray-700 bg-gray-800 focus:border-purple-500 outline-none font-bold text-white"}):i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:$V.map(re=>i.jsxs("button",{onClick:()=>l(re.id),className:`flex flex-col items-center justify-center gap-2 p-4 rounded-xl border-2 transition-all ${o===re.id?"bg-purple-600 text-white border-purple-600 shadow-lg":"bg-gray-800 text-gray-300 border-gray-700 hover:border-purple-500/50"}`,children:[i.jsx(re.icon,{className:"w-6 h-6"}),i.jsx("span",{children:re.title})]},re.id))})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-bold text-gray-300 mb-3",children:["2. ",n==="university"?" ":"  "]}),n==="school"?i.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[5,6,7,8,9,10,11,12].map(re=>i.jsxs("button",{onClick:()=>d(re.toString()),className:`py-3 rounded-xl font-bold transition-all border-2 ${c===re.toString()?"bg-purple-600 text-white border-purple-600 shadow-lg":"bg-gray-800 text-gray-300 border-gray-700 hover:border-purple-500/50"}`,children:[" ",re]},re))}):i.jsx("div",{className:"grid grid-cols-1 gap-3",children:i.jsx("button",{onClick:()=>d("English Major - QOU"),className:`py-3 rounded-xl font-bold transition-all border-2 ${c==="English Major - QOU"?"bg-purple-600 text-white border-purple-600 shadow-lg":"bg-gray-800 text-gray-300 border-gray-700 hover:border-purple-500/50"}`,children:"   -   "})})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-gray-300 mb-2",children:" "}),i.jsxs("div",{className:"relative",children:[i.jsx(gg,{className:"w-5 h-5 text-gray-400 absolute top-4 right-4 pointer-events-none"}),i.jsxs("select",{value:h,onChange:re=>g(re.target.value),className:"w-full px-5 py-4 pr-12 rounded-2xl bg-gray-800 border border-gray-700 focus:border-purple-500 focus:ring-4 focus:ring-purple-900/30 outline-none transition-all font-bold text-white appearance-none cursor-pointer",children:[i.jsx("option",{value:"First",children:"  "}),i.jsx("option",{value:"Second",children:"  "})]}),i.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400",children:i.jsx(al,{className:"w-5 h-5"})})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-gray-300 mb-3",children:"3.   ()"}),i.jsx("div",{className:"grid grid-cols-2 gap-4",children:KC.map(re=>i.jsxs("button",{onClick:()=>B(re.id),className:`flex items-center gap-3 p-4 rounded-xl border-2 transition-all text-right ${x===re.id?"bg-purple-900/20 border-purple-500 text-purple-300":"bg-gray-800 border-gray-700 text-gray-300 hover:border-purple-500/50"}`,children:[i.jsx("div",{className:`p-2 rounded-lg ${x===re.id?"bg-purple-800":"bg-gray-700"}`,children:i.jsx(re.icon,{className:"w-5 h-5"})}),i.jsx("span",{className:"font-bold",children:re.title})]},re.id))})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-gray-300 mb-2",children:"  / "}),i.jsx("input",{type:"text",value:w,onChange:re=>I(re.target.value),placeholder:":   Present Simple",className:"w-full px-4 py-3 rounded-xl border-2 border-gray-700 focus:border-purple-500 outline-none font-bold text-white bg-gray-800 transition-all"})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-bold text-gray-300 mb-2 flex justify-between",children:[i.jsx("span",{children:"  ( )"}),i.jsx("span",{className:"text-xs text-gray-500 font-normal",children:"     "})]}),i.jsx(XV,{value:j,onChange:M})]}),i.jsx("div",{children:i.jsxs("label",{className:"flex items-center gap-3 p-4 rounded-xl bg-amber-900/10 border border-amber-500/20 cursor-pointer hover:bg-amber-900/20 transition-colors",children:[i.jsx("div",{className:`w-12 h-6 rounded-full relative transition-colors ${L?"bg-amber-500":"bg-gray-600"}`,children:i.jsx("div",{className:`absolute top-1 w-4 h-4 rounded-full bg-white transition-all shadow-md ${L?"right-1":"right-7"}`})}),i.jsx("input",{type:"checkbox",className:"hidden",checked:L,onChange:re=>X(re.target.checked)}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ns,{className:"w-5 h-5 text-amber-400 fill-amber-400"}),i.jsx("span",{className:"font-bold text-white",children:"  (Premium)"})]}),i.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"       ."})]})]})})]}),i.jsx("div",{className:"pt-4 border-t border-white/5 flex justify-end",children:i.jsxs("button",{onClick:be,disabled:V,className:"bg-purple-600 hover:bg-purple-700 text-white px-8 py-3 rounded-xl font-bold shadow-lg transition-all flex items-center gap-2 transform hover:-translate-y-1",children:[V?i.jsx(zr,{className:"w-5 h-5 animate-spin"}):i.jsx(cu,{className:"w-5 h-5"}),"  "]})})]})]}),i.jsxs("div",{className:"bg-gray-900 rounded-3xl shadow-sm border border-white/5 p-6 md:p-8",children:[i.jsxs("h3",{className:"text-xl font-black text-white mb-6 flex items-center gap-2",children:[i.jsx(Al,{className:"w-6 h-6 text-red-500"}),"  ()"]}),i.jsxs("div",{className:"mb-6",children:[i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:"text",placeholder:"    ...",value:R,onChange:re=>U(re.target.value),onKeyDown:re=>re.key==="Enter"&&Ee(),className:"w-full px-5 py-3 pl-12 rounded-xl bg-gray-800 border border-gray-700 focus:border-red-500 outline-none text-white font-bold"}),i.jsx("button",{onClick:Ee,className:"absolute left-2 top-1/2 -translate-y-1/2 bg-gray-700 hover:bg-gray-600 p-2 rounded-lg text-gray-300 transition-colors",children:E?i.jsx(zr,{className:"w-4 h-4 animate-spin"}):i.jsx(zi,{className:"w-4 h-4"})})]}),i.jsx("p",{className:"text-xs text-gray-500 mt-2 mr-1",children:"      .        ."})]}),S.length>0?i.jsx("div",{className:"space-y-3 animate-fade-in",children:S.map(re=>i.jsxs("div",{className:"bg-gray-800 p-4 rounded-xl border border-gray-700 flex items-center justify-between group hover:border-red-500/50 transition-all",children:[i.jsxs("div",{className:"flex items-center gap-4 overflow-hidden",children:[i.jsx("div",{className:"w-10 h-10 rounded-lg bg-purple-900/20 flex items-center justify-center text-purple-400 shrink-0",children:i.jsx(ra,{className:"w-5 h-5"})}),i.jsxs("div",{className:"min-w-0",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[i.jsx("h4",{className:"font-bold text-white truncate",children:re.title}),re.isPremium&&i.jsx("span",{className:"text-[9px] bg-amber-900/40 text-amber-300 px-1.5 py-0.5 rounded border border-amber-800/50",children:"VIP"})]}),i.jsxs("div",{className:"flex items-center gap-3 text-xs text-gray-400",children:[i.jsx("span",{className:"bg-gray-700 px-1.5 py-0.5 rounded",children:re.subject||"English"}),i.jsx("span",{className:"bg-gray-700 px-1.5 py-0.5 rounded",children:te(re.category)}),i.jsx("span",{children:re.grade==="English Major - QOU"?"":` ${re.grade}`}),i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(mg,{className:"w-3 h-3"})," ",q(re.createdAt)]})]})]})]}),i.jsx("button",{onClick:()=>re.id&&ie(re.id),className:"p-2 bg-red-900/20 text-red-400 rounded-lg hover:bg-red-600 hover:text-white transition-colors",title:" ",children:i.jsx(Al,{className:"w-4 h-4"})})]},re.id))}):Q&&!E&&i.jsxs("div",{className:"text-center py-8 text-gray-500 border-2 border-dashed border-gray-800 rounded-xl",children:[i.jsx(lu,{className:"w-12 h-12 mx-auto mb-2 opacity-20"}),i.jsx("p",{children:"      "})]})]})]}),xe&&i.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center px-4 bg-black/60 backdrop-blur-sm animate-fade-in",children:i.jsxs("div",{className:"bg-gray-900 rounded-3xl p-8 max-w-sm w-full border border-gray-700 shadow-2xl text-center transform scale-100",children:[i.jsx("div",{className:"w-16 h-16 bg-red-900/20 rounded-full flex items-center justify-center mx-auto mb-6 border border-red-500/20",children:i.jsx(xx,{className:"w-8 h-8 text-red-500"})}),i.jsx("h3",{className:"text-xl font-black text-white mb-2",children:" "}),i.jsx("p",{className:"text-gray-400 mb-8 text-sm",children:"            ."}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx("button",{onClick:$,disabled:Z,className:"flex-1 bg-red-600 hover:bg-red-700 text-white py-3 rounded-xl font-bold transition-colors flex items-center justify-center gap-2",children:Z?i.jsx(zr,{className:"w-4 h-4 animate-spin"}):" "}),i.jsx("button",{onClick:()=>ie(null),disabled:Z,className:"flex-1 bg-gray-800 hover:bg-gray-700 text-gray-300 py-3 rounded-xl font-bold transition-colors",children:""})]})]})})]}):i.jsx("div",{className:"min-h-screen bg-gray-950 pb-20 animate-fade-in transition-colors duration-300 text-gray-100 flex items-center justify-center",children:i.jsxs("div",{className:"max-w-4xl w-full px-4",children:[i.jsxs("div",{className:"text-center mb-10",children:[i.jsx("h2",{className:"text-3xl font-black text-white mb-3",children:"  "}),i.jsx("p",{className:"text-gray-400",children:"    "})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("button",{onClick:()=>s("school"),className:"bg-gray-900 p-10 rounded-[2.5rem] border border-gray-700 hover:border-emerald-500 hover:bg-gray-800 transition-all group shadow-2xl flex flex-col items-center gap-6",children:[i.jsx("div",{className:"w-24 h-24 rounded-full bg-emerald-900/20 flex items-center justify-center group-hover:scale-110 transition-transform border border-emerald-500/20",children:i.jsx(xA,{className:"w-12 h-12 text-emerald-400"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-2xl font-bold text-white mb-1",children:" "}),i.jsx("p",{className:"text-gray-400 text-sm",children:"  (5 - 12)"})]})]}),i.jsxs("button",{onClick:()=>s("university"),className:"bg-gray-900 p-10 rounded-[2.5rem] border border-gray-700 hover:border-blue-500 hover:bg-gray-800 transition-all group shadow-2xl flex flex-col items-center gap-6",children:[i.jsx("div",{className:"w-24 h-24 rounded-full bg-blue-900/20 flex items-center justify-center group-hover:scale-110 transition-transform border border-blue-500/20",children:i.jsx(ni,{className:"w-12 h-12 text-blue-400"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-2xl font-bold text-white mb-1",children:" "}),i.jsx("p",{className:"text-gray-400 text-sm",children:"  "})]})]})]})]})})},WV=[{id:"handouts",title:" ",icon:ra,color:"text-blue-400",bg:"bg-blue-900/20"},{id:"worksheets",title:" ",icon:rd,color:"text-emerald-400",bg:"bg-emerald-900/20"},{id:"exams",title:"  ",icon:Us,color:"text-purple-400",bg:"bg-purple-900/20"}],JV=[{id:"English",title:"  (English)"},{id:"Math",title:""},{id:"Science",title:""}],ZV=({onBack:r,onNavigate:e})=>{const{user:t}=go(),[n,s]=he.useState(null),[o,l]=he.useState(""),[c,d]=he.useState(""),[h,g]=he.useState(""),[x,B]=he.useState(""),[w,I]=he.useState(""),[j,M]=he.useState(!1),[L,X]=he.useState(!1),[V,z]=he.useState(""),[ne,le]=he.useState([]),[R,U]=he.useState(!1),[S,P]=he.useState(!1),[E,F]=he.useState(null),[Q,J]=he.useState(!1),xe=async()=>{if(!o||!c||!h||!x||!w){alert("    ");return}if(!w.startsWith("http")){alert("        http  https");return}M(!0);try{await vA(bn(yr,"study_materials"),{grade:o,subject:c,category:h,title:x,url:w,size:"Drive Link",teacherName:(t==null?void 0:t.displayName)||"",teacherId:t==null?void 0:t.uid,createdAt:Ki()}),X(!0),setTimeout(()=>{X(!1),B(""),I("")},2e3)}catch($){console.error("Error saving file:",$),alert("   ")}finally{M(!1)}},ie=async()=>{if(V.trim()&&t!=null&&t.uid){U(!0),P(!0),le([]);try{const $=ya(bn(yr,"study_materials"),wa("title",">=",V),wa("title","<=",V+"")),D=await yi($),q=[];D.forEach(te=>{const re=te.data();re.teacherId===t.uid&&q.push({id:te.id,...re})}),le(q)}catch($){console.error("Error searching files:",$)}finally{U(!1)}}},Z=async()=>{if(E){J(!0);try{await um(Da(yr,"study_materials",E)),le($=>$.filter(D=>D.id!==E)),F(null)}catch($){console.error($),alert("   ")}finally{J(!1)}}},Ae=()=>{r?r():e("PROFILE")},be=$=>$?($.toDate?$.toDate():new Date($.seconds*1e3)).toLocaleDateString("ar-EG"):"",Ee=()=>{l(""),d(""),g(""),B(""),I("")};return n?i.jsxs("div",{className:"min-h-screen bg-gray-950 animate-fade-in transition-colors duration-300 text-gray-100",children:[i.jsx("div",{className:"max-w-4xl mx-auto px-4 pt-2 pb-2 relative z-30",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("button",{onClick:Ae,className:"p-2 bg-gray-900/50 hover:bg-gray-800 rounded-xl transition-all text-gray-400 hover:text-white border border-white/10 shadow-lg backdrop-blur-sm group",children:i.jsx(an,{className:"w-4 h-4 group-hover:-translate-x-1 transition-transform"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-lg font-black text-white tracking-tight mb-0.5",children:"  "}),i.jsxs("div",{className:"flex items-center gap-1.5 text-[10px] md:text-xs font-medium text-gray-500",children:[i.jsxs("span",{onClick:Ae,className:"hover:text-emerald-400 cursor-pointer transition-colors flex items-center gap-1",children:[i.jsx(zn,{className:"w-3 h-3"})," "]}),i.jsx("span",{className:"text-gray-700",children:"/"}),i.jsxs("span",{className:"text-emerald-500 flex items-center gap-1",children:[i.jsx(Vy,{className:"w-3 h-3"})," "]})]})]})]})}),i.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-4",children:[i.jsxs("div",{className:"bg-gray-900 rounded-3xl shadow-sm border border-white/5 p-6 md:p-8 mb-12",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsxs("h2",{className:"text-xl font-black text-white flex items-center gap-2",children:[i.jsx(Vy,{className:"w-6 h-6 text-blue-500"}),"  "]}),i.jsxs("button",{onClick:()=>{s(null),Ee()},className:"bg-gray-800 text-gray-300 px-3 py-1.5 rounded-lg text-xs font-bold flex items-center gap-1 hover:bg-gray-700 transition-colors",children:[i.jsx(nc,{className:"w-3 h-3"})," "]})]}),L?i.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center animate-fade-in",children:[i.jsx("div",{className:"w-20 h-20 bg-green-900 rounded-full flex items-center justify-center mb-4 border border-green-500/20",children:i.jsx(ts,{className:"w-10 h-10 text-green-400"})}),i.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:"  !"}),i.jsx("p",{className:"text-gray-400 mb-6",children:"       ."}),i.jsx("button",{onClick:()=>X(!1),className:"bg-gray-800 text-gray-300 px-6 py-2 rounded-xl font-bold hover:bg-gray-700 transition-colors border border-white/5",children:"  "})]}):i.jsxs("div",{className:"space-y-8",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-bold text-gray-300 mb-3 flex items-center gap-2",children:[i.jsx(Ko,{className:"w-4 h-4 text-blue-500"}),n==="university"?"":" "]}),i.jsxs("select",{value:o,onChange:$=>l($.target.value),className:"w-full px-4 py-3 rounded-xl border-2 border-gray-700 bg-gray-800 focus:border-blue-500 outline-none font-bold text-white appearance-none cursor-pointer",children:[i.jsx("option",{value:"",children:""}),n==="school"?[5,6,7,8,9,10,11,12].map($=>i.jsxs("option",{value:$.toString(),children:[" ",$]},$)):i.jsx("option",{value:"English Major - QOU",children:"  "})]})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-bold text-gray-300 mb-3 flex items-center gap-2",children:[i.jsx(Us,{className:"w-4 h-4 text-blue-500"}),""]}),n==="university"?i.jsx("input",{type:"text",value:c,onChange:$=>d($.target.value),placeholder:" ...",className:"w-full px-4 py-3 rounded-xl border-2 border-gray-700 bg-gray-800 focus:border-blue-500 outline-none font-bold text-white"}):i.jsxs("select",{value:c,onChange:$=>d($.target.value),className:"w-full px-4 py-3 rounded-xl border-2 border-gray-700 bg-gray-800 focus:border-blue-500 outline-none font-bold text-white appearance-none cursor-pointer",children:[i.jsx("option",{value:"",children:" "}),JV.map($=>i.jsx("option",{value:$.id,children:$.title},$.id))]})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-gray-300 mb-3",children:"  ()"}),i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:WV.map($=>i.jsxs("button",{onClick:()=>g($.id),className:`flex flex-col items-center justify-center gap-2 p-4 rounded-xl border-2 transition-all text-center h-full ${h===$.id?"bg-blue-900/30 border-blue-500 text-blue-300 ring-1 ring-blue-500":"bg-gray-800 border-gray-700 text-gray-300 hover:border-blue-500/50"}`,children:[i.jsx("div",{className:`p-2 rounded-lg ${$.bg}`,children:i.jsx($.icon,{className:`w-6 h-6 ${$.color}`})}),i.jsx("span",{className:"font-bold text-sm",children:$.title})]},$.id))})]}),i.jsxs("div",{className:"space-y-4 pt-4 border-t border-white/5",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-gray-300 mb-2",children:" "}),i.jsx("input",{type:"text",value:x,onChange:$=>B($.target.value),placeholder:":    -  ",className:"w-full px-4 py-3 rounded-xl border-2 border-gray-700 focus:border-blue-500 outline-none font-bold text-white bg-gray-800 transition-all"})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-bold text-gray-300 mb-2 flex items-center gap-2",children:[i.jsx(Wk,{className:"w-4 h-4 text-blue-500"}),"  (Google Drive Link)"]}),i.jsx("input",{type:"url",value:w,onChange:$=>I($.target.value),placeholder:"https://drive.google.com/file/d/...",className:"w-full px-4 py-3 rounded-xl border-2 border-gray-700 focus:border-blue-500 outline-none font-medium text-blue-400 bg-gray-800 transition-all text-left",dir:"ltr"}),i.jsx("p",{className:"text-xs text-gray-500 mt-2",children:'    " " (Anyone with the link)    .'})]})]}),i.jsx("div",{className:"pt-4 flex justify-end",children:i.jsxs("button",{onClick:xe,disabled:j,className:"w-full md:w-auto bg-blue-600 hover:bg-blue-700 text-white px-10 py-3 rounded-xl font-bold shadow-lg transition-all flex items-center justify-center gap-2 transform hover:-translate-y-1",children:[j?i.jsx(zr,{className:"w-5 h-5 animate-spin"}):i.jsx(cu,{className:"w-5 h-5"}),"  "]})})]})]}),i.jsxs("div",{className:"bg-gray-900 rounded-3xl shadow-sm border border-white/5 p-6 md:p-8",children:[i.jsxs("h3",{className:"text-xl font-black text-white mb-6 flex items-center gap-2",children:[i.jsx(Al,{className:"w-6 h-6 text-red-500"}),"  ()"]}),i.jsxs("div",{className:"mb-6",children:[i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:"text",placeholder:"    ...",value:V,onChange:$=>z($.target.value),onKeyDown:$=>$.key==="Enter"&&ie(),className:"w-full px-5 py-3 pl-12 rounded-xl bg-gray-800 border border-gray-700 focus:border-red-500 outline-none text-white font-bold"}),i.jsx("button",{onClick:ie,className:"absolute left-2 top-1/2 -translate-y-1/2 bg-gray-700 hover:bg-gray-600 p-2 rounded-lg text-gray-300 transition-colors",children:R?i.jsx(zr,{className:"w-4 h-4 animate-spin"}):i.jsx(zi,{className:"w-4 h-4"})})]}),i.jsx("p",{className:"text-xs text-gray-500 mt-2 mr-1",children:"      .        ."})]}),ne.length>0?i.jsx("div",{className:"space-y-3 animate-fade-in",children:ne.map($=>i.jsxs("div",{className:"bg-gray-800 p-4 rounded-xl border border-gray-700 flex items-center justify-between group hover:border-red-500/50 transition-all",children:[i.jsxs("div",{className:"flex items-center gap-4 overflow-hidden",children:[i.jsx("div",{className:"w-10 h-10 rounded-lg bg-blue-900/20 flex items-center justify-center text-blue-400 shrink-0",children:i.jsx(ra,{className:"w-5 h-5"})}),i.jsxs("div",{className:"min-w-0",children:[i.jsx("h4",{className:"font-bold text-white truncate mb-1",children:$.title}),i.jsxs("div",{className:"flex items-center gap-3 text-xs text-gray-400",children:[i.jsx("span",{className:"bg-gray-700 px-1.5 py-0.5 rounded",children:$.subject}),i.jsx("span",{children:$.grade==="English Major - QOU"?"":` ${$.grade}`}),i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(mg,{className:"w-3 h-3"})," ",be($.createdAt)]})]})]})]}),i.jsx("button",{onClick:()=>$.id&&F($.id),className:"p-2 bg-red-900/20 text-red-400 rounded-lg hover:bg-red-600 hover:text-white transition-colors",title:" ",children:i.jsx(Al,{className:"w-4 h-4"})})]},$.id))}):S&&!R&&i.jsxs("div",{className:"text-center py-8 text-gray-500 border-2 border-dashed border-gray-800 rounded-xl",children:[i.jsx(ra,{className:"w-12 h-12 mx-auto mb-2 opacity-20"}),i.jsx("p",{children:"      "})]})]})]}),E&&i.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center px-4 bg-black/60 backdrop-blur-sm animate-fade-in",children:i.jsxs("div",{className:"bg-gray-900 rounded-3xl p-8 max-w-sm w-full border border-gray-700 shadow-2xl text-center transform scale-100",children:[i.jsx("div",{className:"w-16 h-16 bg-red-900/20 rounded-full flex items-center justify-center mx-auto mb-6 border border-red-500/20",children:i.jsx(xx,{className:"w-8 h-8 text-red-500"})}),i.jsx("h3",{className:"text-xl font-black text-white mb-2",children:" "}),i.jsx("p",{className:"text-gray-400 mb-8 text-sm",children:"            ."}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx("button",{onClick:Z,disabled:Q,className:"flex-1 bg-red-600 hover:bg-red-700 text-white py-3 rounded-xl font-bold transition-colors flex items-center justify-center gap-2",children:Q?i.jsx(zr,{className:"w-4 h-4 animate-spin"}):" "}),i.jsx("button",{onClick:()=>F(null),disabled:Q,className:"flex-1 bg-gray-800 hover:bg-gray-700 text-gray-300 py-3 rounded-xl font-bold transition-colors",children:""})]})]})})]}):i.jsx("div",{className:"min-h-screen bg-gray-950 pb-20 animate-fade-in transition-colors duration-300 text-gray-100 flex items-center justify-center",children:i.jsxs("div",{className:"max-w-4xl w-full px-4",children:[i.jsxs("div",{className:"text-center mb-10",children:[i.jsx("h2",{className:"text-3xl font-black text-white mb-3",children:"  "}),i.jsx("p",{className:"text-gray-400",children:"    "})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("button",{onClick:()=>s("school"),className:"bg-gray-900 p-10 rounded-[2.5rem] border border-gray-700 hover:border-emerald-500 hover:bg-gray-800 transition-all group shadow-2xl flex flex-col items-center gap-6",children:[i.jsx("div",{className:"w-24 h-24 rounded-full bg-emerald-900/20 flex items-center justify-center group-hover:scale-110 transition-transform border border-emerald-500/20",children:i.jsx(xA,{className:"w-12 h-12 text-emerald-400"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-2xl font-bold text-white mb-1",children:" "}),i.jsx("p",{className:"text-gray-400 text-sm",children:"  (5 - 12)"})]})]}),i.jsxs("button",{onClick:()=>s("university"),className:"bg-gray-900 p-10 rounded-[2.5rem] border border-gray-700 hover:border-blue-500 hover:bg-gray-800 transition-all group shadow-2xl flex flex-col items-center gap-6",children:[i.jsx("div",{className:"w-24 h-24 rounded-full bg-blue-900/20 flex items-center justify-center group-hover:scale-110 transition-transform border border-blue-500/20",children:i.jsx(ni,{className:"w-12 h-12 text-blue-400"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-2xl font-bold text-white mb-1",children:" "}),i.jsx("p",{className:"text-gray-400 text-sm",children:"  "})]})]})]})]})})},W2=({title:r,subtitle:e,description:t,icon:n,secondaryIcon:s,buttonText:o,onClick:l,theme:c,direction:d,isLast:h=!1})=>{const x={emerald:{gradient:"from-emerald-500/20 to-teal-500/20",border:"border-emerald-500/20",text:"text-emerald-400",bgIcon:"bg-emerald-500/10",button:"bg-gradient-to-r from-emerald-600 to-teal-600 shadow-emerald-500/20",glow:"bg-emerald-500/30",divider:"from-transparent via-emerald-500 to-transparent"},violet:{gradient:"from-violet-500/20 to-purple-500/20",border:"border-violet-500/20",text:"text-violet-400",bgIcon:"bg-violet-500/10",button:"bg-gradient-to-r from-violet-600 to-purple-600 shadow-violet-500/20",glow:"bg-violet-500/30",divider:"from-transparent via-violet-500 to-transparent"},sky:{gradient:"from-sky-500/20 to-blue-500/20",border:"border-sky-500/20",text:"text-sky-400",bgIcon:"bg-sky-500/10",button:"bg-gradient-to-r from-sky-600 to-blue-600 shadow-sky-500/20",glow:"bg-sky-500/30",divider:"from-transparent via-sky-500 to-transparent"}}[c],B=d==="rtl"?"md:flex-row":"md:flex-row-reverse",w=d==="rtl"?"md:text-right":"md:text-left";return i.jsxs("div",{className:"relative py-16 md:py-28 overflow-hidden group",children:[i.jsx("div",{className:"max-w-7xl mx-auto px-4 md:px-12 relative z-10",children:i.jsxs("div",{className:`flex flex-col items-center gap-10 md:gap-20 ${B}`,children:[i.jsxs("div",{className:"w-full md:w-1/2 flex justify-center relative",children:[i.jsx("div",{className:`absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-48 h-48 md:w-96 md:h-96 rounded-full blur-[60px] md:blur-[100px] opacity-40 animate-pulse ${x.glow}`}),i.jsxs("div",{className:`relative w-72 h-72 md:w-full md:max-w-md md:aspect-square rounded-[2.5rem] md:rounded-[3rem] border ${x.border} bg-gray-900/60 backdrop-blur-xl shadow-2xl flex items-center justify-center overflow-hidden group-hover:scale-[1.02] transition-transform duration-700`,children:[i.jsx("div",{className:"absolute inset-0 opacity-10 bg-[url('https://www.transparenttextures.com/patterns/cubes.png')]"}),i.jsxs("div",{className:"relative z-10 flex flex-col items-center gap-6",children:[i.jsx("div",{className:`p-6 md:p-8 rounded-3xl ${x.bgIcon} border ${x.border} shadow-[0_0_50px_rgba(0,0,0,0.5)] backdrop-blur-sm transform rotate-3 group-hover:rotate-0 transition-all duration-500`,children:i.jsx(n,{className:`w-20 h-20 md:w-32 md:h-32 ${x.text} drop-shadow-lg`,strokeWidth:1.5})}),i.jsx("div",{className:`absolute -bottom-10 -right-10 md:-bottom-12 md:-right-12 p-4 md:p-5 rounded-2xl bg-gray-800/80 border ${x.border} shadow-xl backdrop-blur-md transform -rotate-6 group-hover:rotate-0 transition-all duration-700 delay-100`,children:i.jsx(s,{className:`w-8 h-8 md:w-10 md:h-10 ${x.text}`})})]})]})]}),i.jsxs("div",{className:`w-full md:w-1/2 text-center ${w} space-y-6 md:space-y-8`,children:[i.jsxs("div",{className:"space-y-3 md:space-y-4",children:[i.jsxs("div",{className:`inline-flex items-center gap-2 px-3 py-1 md:px-4 md:py-1.5 rounded-full bg-gray-900/50 border ${x.border} ${x.text} text-xs md:text-sm font-bold shadow-sm backdrop-blur-md`,children:[i.jsx(s,{className:"w-3.5 h-3.5 md:w-4 md:h-4"}),i.jsx("span",{children:e})]}),i.jsx("h2",{className:"text-3xl md:text-5xl lg:text-6xl font-black text-white leading-tight drop-shadow-xl",children:r})]}),i.jsx("p",{className:"text-base md:text-xl text-gray-300 leading-relaxed md:leading-loose font-medium opacity-90 max-w-xl mx-auto md:mx-0",children:t}),i.jsx("div",{className:"pt-2 md:pt-4",children:i.jsxs("button",{onClick:l,className:`w-full md:w-auto inline-flex justify-center items-center gap-3 ${x.button} text-white text-base md:text-lg font-bold px-8 py-4 rounded-2xl shadow-lg hover:shadow-2xl transition-all transform hover:-translate-y-1 active:scale-95 border-t border-white/10`,children:[o,i.jsx(an,{className:`w-5 h-5 ${d==="rtl"?"rotate-180":""}`})]})})]})]})}),!h&&i.jsxs("div",{className:"absolute bottom-0 left-0 w-full flex justify-center items-center",children:[i.jsx("div",{className:`w-full h-px bg-gradient-to-r ${x.divider} opacity-30`}),i.jsx("div",{className:`absolute w-3/4 h-1 bg-gradient-to-r ${x.divider} blur-sm opacity-50`}),i.jsx("div",{className:"absolute w-1/2 h-0.5 bg-gradient-to-r from-transparent via-emerald-500 to-transparent shadow-[0_0_20px_rgba(16,185,129,0.8)] opacity-80"})]})]})},eK=({onNavigate:r})=>i.jsxs("div",{className:"bg-gray-950 relative z-10",children:[i.jsx(W2,{theme:"emerald",direction:"rtl",title:" ..  ",subtitle:"  ",description:"       !              .           .",icon:mv,secondaryIcon:ts,buttonText:"  ",onClick:()=>r("QUIZZES")}),i.jsx(W2,{theme:"violet",direction:"ltr",title:"   ",subtitle:" ",description:"         .                     .",icon:rf,secondaryIcon:nk,buttonText:" ",onClick:()=>r("LESSONS_EXPLANATIONS")}),i.jsx(W2,{theme:"sky",direction:"rtl",title:"  ",subtitle:"   ",description:"    .               .            .",icon:rd,secondaryIcon:gk,buttonText:" ",onClick:()=>r("LESSONS"),isLast:!0})]}),tK=()=>i.jsx("section",{className:"relative w-full overflow-hidden bg-gray-950",children:i.jsxs("div",{className:"w-full h-[650px] md:h-[900px] relative group",children:[i.jsxs("div",{className:"absolute inset-0 z-0",children:[i.jsx("img",{src:"https://lh3.googleusercontent.com/d/11PvY6sdTvurXqkNuWjoEpYTcM8FUHOB0",alt:".    -  ",className:"w-full h-full object-cover object-top transition-transform duration-1000 group-hover:scale-105"}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-gray-950 via-gray-900/40 to-transparent"}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-950/90 via-transparent to-gray-950/90"})]}),i.jsx("div",{className:"absolute bottom-0 left-0 w-full p-8 md:p-24 flex flex-col items-center text-center z-20",children:i.jsxs("div",{className:"max-w-5xl mx-auto transform translate-y-0 transition-all duration-700",children:[i.jsxs("div",{className:"mb-8",children:[i.jsx("h2",{className:"text-5xl md:text-8xl font-black text-white mb-6 drop-shadow-2xl tracking-tight",children:".   "}),i.jsx("div",{className:"h-2 w-40 bg-emerald-500 rounded-full mx-auto mb-8 shadow-[0_0_20px_rgba(16,185,129,0.6)]"}),i.jsx("p",{className:"text-2xl md:text-4xl text-emerald-400 font-bold drop-shadow-lg tracking-wide",children:"   "})]}),i.jsx("div",{className:"relative",children:i.jsx("p",{className:"text-gray-200 text-xl md:text-3xl leading-loose font-medium relative z-10 px-4 max-w-4xl mx-auto drop-shadow-md",children:"          .              ."})})]})})]})}),rK=({onLoginClick:r})=>i.jsxs("section",{className:"py-32 relative overflow-hidden",children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-gray-950 via-emerald-950/40 to-gray-950"}),i.jsx("div",{className:"absolute inset-0 opacity-10 bg-[url('https://www.transparenttextures.com/patterns/stardust.png')]"}),i.jsx("div",{className:"absolute top-0 left-0 w-full h-px bg-gradient-to-r from-transparent via-emerald-500/50 to-transparent"}),i.jsxs("div",{className:"max-w-5xl mx-auto px-6 relative z-10 text-center",children:[i.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-1.5 rounded-full bg-emerald-500/10 border border-emerald-500/20 text-emerald-400 text-sm font-bold mb-8 animate-pulse",children:[i.jsx(_1,{className:"w-4 h-4"}),i.jsx("span",{children:"  "})]}),i.jsxs("h2",{className:"text-5xl md:text-7xl font-black text-white mb-8 leading-tight tracking-tight drop-shadow-2xl",children:["  ",i.jsx("br",{}),i.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-emerald-400 to-cyan-400",children:" "})]}),i.jsx("p",{className:"text-xl text-gray-300 max-w-2xl mx-auto mb-12 leading-relaxed font-medium",children:"      .         ."}),i.jsx("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4",children:i.jsxs("button",{onClick:r,className:"w-full sm:w-auto bg-white text-emerald-950 px-10 py-5 rounded-2xl font-black text-xl hover:bg-emerald-50 transition-all shadow-[0_0_40px_rgba(255,255,255,0.2)] hover:shadow-[0_0_60px_rgba(16,185,129,0.4)] transform hover:-translate-y-1 flex items-center justify-center gap-3",children:["  ",i.jsx(an,{className:"w-6 h-6"})]})})]})]}),nK=()=>i.jsxs("section",{className:"relative w-full min-h-[800px] flex items-center bg-gray-950 overflow-hidden",children:[i.jsxs("div",{className:"absolute inset-0 z-0",children:[i.jsx("img",{src:"https://lh3.googleusercontent.com/d/1ZcMqKedYcXUq7RPYqUGCRr2RsEA6F6JN",alt:"  ",className:"w-full h-full object-cover object-center opacity-30"}),i.jsx("div",{className:"absolute top-0 left-0 w-full h-64 bg-gradient-to-b from-gray-950 via-gray-950/80 to-transparent"}),i.jsx("div",{className:"absolute bottom-0 left-0 w-full h-64 bg-gradient-to-t from-gray-950 via-gray-950/80 to-transparent"}),i.jsx("div",{className:"absolute inset-0 bg-gray-950/50"}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-950/80 via-transparent to-gray-950/80"})]}),i.jsx("div",{className:"relative z-10 w-full py-24 px-6 md:px-12 flex flex-col justify-center h-full",children:i.jsxs("div",{className:"max-w-4xl mx-auto text-center transform translate-y-0 transition-all duration-700 animate-fade-in-up",children:[i.jsx("h2",{className:"text-4xl md:text-7xl font-black text-white mb-8 drop-shadow-2xl tracking-tight",children:" "}),i.jsx("div",{className:"h-1.5 w-32 bg-emerald-500 rounded-full mx-auto mb-12 shadow-[0_0_20px_rgba(16,185,129,0.6)]"}),i.jsxs("div",{className:"space-y-8 text-gray-100 font-medium leading-relaxed drop-shadow-lg",children:[i.jsx("p",{className:"text-2xl md:text-4xl font-black text-emerald-400 mb-6",children:" :   "}),i.jsx("p",{className:"text-lg md:text-2xl opacity-95 leading-loose",children:"            .                    ."}),i.jsx("p",{className:"text-lg md:text-2xl opacity-95 leading-loose",children:"                         .        ."}),i.jsx("p",{className:"text-lg md:text-2xl opacity-95 leading-loose",children:"                                      ."})]})]})})]}),sK=({onBack:r})=>{const e=[{icon:mv,title:" ",desc:"              ."},{icon:OQ,title:" 24/7",desc:"                 ."},{icon:Ef,title:"  (XP)",desc:"  !    (XP)         ."},{icon:ra,title:" ",desc:"           ."}];return i.jsxs("div",{className:"min-h-screen bg-gray-950 relative overflow-hidden text-gray-100",children:[i.jsxs("div",{className:"absolute inset-0 z-0",children:[i.jsx(Xx,{}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-gray-950/90 via-gray-900/60 to-gray-950 pointer-events-none"}),i.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[url('https://www.transparenttextures.com/patterns/stardust.png')] opacity-20"})]}),i.jsxs("div",{className:"relative z-10 flex flex-col min-h-screen",children:[i.jsx("div",{className:"max-w-7xl mx-auto px-4 pt-2 pb-2 relative z-30",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("button",{onClick:r,className:"p-2 bg-gray-900/50 hover:bg-gray-800 rounded-xl transition-all text-gray-400 hover:text-white border border-white/10 shadow-lg backdrop-blur-sm group",children:i.jsx(an,{className:"w-4 h-4 group-hover:-translate-x-1 transition-transform"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-lg font-black text-white tracking-tight mb-0.5",children:" "}),i.jsxs("div",{className:"flex items-center gap-1.5 text-[10px] md:text-xs font-medium text-gray-500",children:[i.jsxs("span",{onClick:r,className:"hover:text-emerald-400 cursor-pointer transition-colors flex items-center gap-1",children:[i.jsx(zn,{className:"w-3 h-3"})," "]}),i.jsx("span",{className:"text-gray-700",children:"/"}),i.jsxs("span",{className:"text-emerald-500 flex items-center gap-1",children:[i.jsx(mx,{className:"w-3 h-3"}),"  "]})]})]})]})}),i.jsxs("div",{className:"max-w-3xl mx-auto px-4 py-12 pb-20",children:[i.jsxs("div",{className:"text-center mb-16 animate-fade-in-up",children:[i.jsxs("div",{className:"inline-flex items-center justify-center p-5 bg-emerald-500/10 backdrop-blur-xl rounded-full mb-8 border border-emerald-500/30 shadow-[0_0_40px_rgba(16,185,129,0.3)] relative group",children:[i.jsx("div",{className:"absolute inset-0 bg-emerald-500/20 rounded-full blur-xl group-hover:blur-2xl transition-all"}),i.jsx(ol,{className:"w-12 h-12 text-emerald-400 fill-emerald-400 animate-pulse relative z-10"})]}),i.jsxs("h1",{className:"text-5xl md:text-6xl font-black text-white mb-6 leading-tight drop-shadow-2xl",children:["   ",i.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-emerald-400 to-cyan-300",children:""}),""]}),i.jsx("p",{className:"text-xl text-gray-200 leading-relaxed max-w-2xl mx-auto font-medium drop-shadow-md",children:"                     ."})]}),i.jsxs("div",{className:"bg-white/5 backdrop-blur-md rounded-[2.5rem] p-8 md:p-10 shadow-2xl border border-white/10 mb-16 relative overflow-hidden group hover:bg-white/10 transition-all duration-500",children:[i.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-blue-600/20 rounded-full blur-[80px] -mr-16 -mt-16 pointer-events-none"}),i.jsx("div",{className:"absolute bottom-0 left-0 w-64 h-64 bg-purple-600/20 rounded-full blur-[80px] -ml-16 -mb-16 pointer-events-none"}),i.jsxs("h2",{className:"text-3xl font-black text-white mb-8 flex items-center gap-3 relative z-10",children:[i.jsx("div",{className:"p-2 bg-blue-500/20 rounded-xl border border-blue-500/30",children:i.jsx(qg,{className:"w-8 h-8 text-blue-400"})})," "]}),i.jsxs("div",{className:"space-y-6 text-gray-200 font-medium leading-loose text-lg relative z-10",children:[i.jsx("p",{children:'  ""         .                    .'}),i.jsxs("p",{children:["       ",i.jsx("span",{className:"text-white font-bold border-b-2 border-emerald-500 shadow-[0_4px_20px_-5px_rgba(16,185,129,0.5)]",children:"  "}),".                ."]})]})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-16",children:e.map((t,n)=>i.jsxs("div",{className:"bg-gray-900/40 backdrop-blur-md p-6 rounded-3xl border border-white/10 flex flex-col gap-4 hover:border-emerald-500/40 hover:bg-gray-900/60 transition-all group hover:-translate-y-2 shadow-lg",children:[i.jsx("div",{className:"bg-gray-800/50 p-4 rounded-2xl w-fit group-hover:bg-emerald-900/30 transition-colors border border-white/5 group-hover:border-emerald-500/20",children:i.jsx(t.icon,{className:"w-8 h-8 text-gray-300 group-hover:text-emerald-400 transition-colors"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-bold text-white mb-2 group-hover:text-emerald-300 transition-colors",children:t.title}),i.jsx("p",{className:"text-gray-400 text-sm leading-relaxed group-hover:text-gray-300",children:t.desc})]})]},n))}),i.jsxs("div",{className:"bg-gradient-to-br from-emerald-900/40 to-gray-900/40 backdrop-blur-md rounded-[2.5rem] p-8 md:p-10 border border-emerald-500/20 text-center shadow-2xl relative overflow-hidden",children:[i.jsx("div",{className:"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/carbon-fibre.png')] opacity-10"}),i.jsx("h2",{className:"text-3xl font-black text-white mb-8 relative z-10",children:"  "}),i.jsxs("div",{className:"flex flex-col gap-4 relative z-10",children:[i.jsxs("div",{className:"bg-gray-950/40 p-5 rounded-2xl flex items-center gap-4 border border-white/10 hover:border-emerald-500/30 transition-colors",children:[i.jsx("div",{className:"bg-emerald-500/20 p-2 rounded-full shrink-0",children:i.jsx(ts,{className:"w-6 h-6 text-emerald-400"})}),i.jsx("span",{className:"text-gray-200 font-bold text-right text-lg",children:"      ."})]}),i.jsxs("div",{className:"bg-gray-950/40 p-5 rounded-2xl flex items-center gap-4 border border-white/10 hover:border-emerald-500/30 transition-colors",children:[i.jsx("div",{className:"bg-emerald-500/20 p-2 rounded-full shrink-0",children:i.jsx(ts,{className:"w-6 h-6 text-emerald-400"})}),i.jsx("span",{className:"text-gray-200 font-bold text-right text-lg",children:" ."})]}),i.jsxs("div",{className:"bg-gray-950/40 p-5 rounded-2xl flex items-center gap-4 border border-white/10 hover:border-emerald-500/30 transition-colors",children:[i.jsx("div",{className:"bg-emerald-500/20 p-2 rounded-full shrink-0",children:i.jsx(ts,{className:"w-6 h-6 text-emerald-400"})}),i.jsx("span",{className:"text-gray-200 font-bold text-right text-lg",children:"       ."})]})]})]}),i.jsx("div",{className:"mt-16 text-center",children:i.jsxs("p",{className:"text-gray-400 text-sm font-medium bg-gray-900/50 inline-block px-6 py-3 rounded-full border border-white/5 backdrop-blur-sm",children:["  ",i.jsx("span",{className:"text-emerald-400 font-black",children:"   "})]})})]})]})]})},aK=({onNavigate:r})=>i.jsxs("div",{className:"relative w-full py-20 overflow-hidden bg-gray-950 border-t border-white/5 border-b border-white/5",children:[i.jsx("div",{className:"absolute inset-0 z-0 opacity-100",children:i.jsx(Xx,{})}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-950 via-transparent to-gray-950 z-0 pointer-events-none"}),i.jsxs("div",{className:"relative z-10 max-w-5xl mx-auto px-6 text-center",children:[i.jsx("div",{className:"inline-flex items-center justify-center p-4 bg-white/5 rounded-full mb-6 shadow-[0_0_30px_rgba(255,255,255,0.1)] border border-white/10 animate-pulse",children:i.jsx(ol,{className:"w-8 h-8 text-emerald-400 fill-emerald-400"})}),i.jsxs("h2",{className:"text-4xl md:text-6xl font-black text-white mb-6 drop-shadow-2xl leading-tight",children:["   ",i.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-emerald-400 to-teal-300",children:""}),""]}),i.jsx("p",{className:"text-gray-300 text-xl md:text-2xl max-w-3xl mx-auto mb-10 leading-relaxed font-medium drop-shadow-md",children:"                ."}),i.jsxs("button",{onClick:r,className:"inline-flex items-center gap-3 bg-emerald-600 hover:bg-emerald-500 text-white text-lg font-bold px-10 py-4 rounded-2xl shadow-lg hover:shadow-[0_0_25px_rgba(16,185,129,0.5)] transition-all transform hover:-translate-y-1 border-b-4 border-emerald-800 hover:border-emerald-700 active:border-b-0 active:translate-y-1",children:[i.jsx("span",{children:" "}),i.jsx(an,{className:"w-5 h-5"})]})]})]}),iK=({onBack:r,onNavigate:e})=>{const{user:t}=go(),[n,s]=he.useState("INBOX"),[o,l]=he.useState([]),[c,d]=he.useState(""),[h,g]=he.useState(""),[x,B]=he.useState(""),[w,I]=he.useState(!1),[j,M]=he.useState(!1),[L,X]=he.useState(""),[V,z]=he.useState([]),[ne,le]=he.useState(!1);he.useEffect(()=>{n==="COMPOSE"?R():U()},[n,t]);const R=async()=>{M(!0);try{const J=ya(bn(yr,"users"),wa("role","==","student")),ie=(await yi(J)).docs.map(Z=>({id:Z.id,...Z.data()}));l(ie)}catch(J){console.error("Error fetching students",J)}finally{M(!1)}},U=async(J=!1)=>{if(!t)return;const xe=`etqan_inbox_${t.uid}`,ie=365*24*60*60*1e3,Z=Date.now();if(!J){const Ae=localStorage.getItem(xe);if(Ae)try{const{data:be,timestamp:Ee}=JSON.parse(Ae);if(Z-Ee<ie){z(be);return}}catch(be){console.error(be)}}le(!0);try{const Ae=ya(bn(yr,"contact_messages"),wa("teacherId","==",t.uid)),Ee=(await yi(Ae)).docs.map($=>({id:$.id,...$.data(),createdAt:$.data().createdAt?{seconds:$.data().createdAt.seconds}:null}));Ee.sort(($,D)=>{var re,fe;const q=((re=$.createdAt)==null?void 0:re.seconds)||0;return(((fe=D.createdAt)==null?void 0:fe.seconds)||0)-q}),z(Ee),localStorage.setItem(xe,JSON.stringify({timestamp:Z,data:Ee}))}catch(Ae){console.error("Error fetching inbox",Ae)}finally{le(!1)}},S=async()=>{if(!h||!x){alert("    ");return}if(!c){alert("  ");return}I(!0);try{await vA(bn(yr,"notifications"),{recipientId:c,title:h,message:x,type:"message",senderName:(t==null?void 0:t.displayName)||"",senderId:t==null?void 0:t.uid,createdAt:Ki(),read:!1}),alert("   !"),g(""),B(""),d(""),X("")}catch(J){console.error("Error sending message",J),alert("   ")}finally{I(!1)}},P=async J=>{if(window.confirm("      "))try{await um(Da(yr,"contact_messages",J));const xe=V.filter(Ae=>Ae.id!==J);z(xe);const ie=`etqan_inbox_${t==null?void 0:t.uid}`,Z=localStorage.getItem(ie);if(Z){const Ae=JSON.parse(Z);Ae.data=xe,localStorage.setItem(ie,JSON.stringify(Ae))}}catch(xe){console.error(xe)}},E=async J=>{try{await _f(Da(yr,"contact_messages",J),{read:!0});const xe=V.map(Ae=>Ae.id===J?{...Ae,read:!0}:Ae);z(xe);const ie=`etqan_inbox_${t==null?void 0:t.uid}`,Z=localStorage.getItem(ie);if(Z){const Ae=JSON.parse(Z);Ae.data=xe,localStorage.setItem(ie,JSON.stringify(Ae))}}catch(xe){console.error(xe)}},F=o.filter(J=>{const xe=J.displayName?J.displayName.toLowerCase():"",ie=J.email?J.email.toLowerCase():"",Z=L.toLowerCase();return xe.includes(Z)||ie.includes(Z)}),Q=J=>J?(J.toDate?J.toDate():new Date(J.seconds*1e3)).toLocaleString("en-GB",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!1}).replace(",",""):"";return i.jsxs("div",{className:"min-h-screen bg-gray-950 animate-fade-in transition-colors duration-300 text-gray-100",children:[i.jsx("div",{className:"max-w-5xl mx-auto px-4 pt-2 pb-2 relative z-30",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("button",{onClick:()=>e("PROFILE"),className:"p-2 bg-gray-900/50 hover:bg-gray-800 rounded-xl transition-all text-gray-400 hover:text-white border border-white/10 shadow-lg backdrop-blur-sm group",children:i.jsx(an,{className:"w-4 h-4 group-hover:-translate-x-1 transition-transform"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-lg font-black text-white tracking-tight mb-0.5",children:""}),i.jsxs("div",{className:"flex items-center gap-1.5 text-[10px] md:text-xs font-medium text-gray-500",children:[i.jsxs("span",{onClick:()=>e("PROFILE"),className:"hover:text-emerald-400 cursor-pointer transition-colors flex items-center gap-1",children:[i.jsx(zn,{className:"w-3 h-3"})," "]}),i.jsx("span",{className:"text-gray-700",children:"/"}),i.jsxs("span",{className:"text-emerald-500 flex items-center gap-1",children:[i.jsx(mA,{className:"w-3 h-3"})," "]})]})]})]})}),i.jsx("div",{className:"max-w-5xl mx-auto px-4 py-4",children:i.jsxs("div",{className:"bg-gray-900 rounded-3xl shadow-xl border border-gray-700 overflow-hidden min-h-[600px] flex flex-col md:flex-row",children:[i.jsxs("div",{className:"w-full md:w-64 bg-gray-800/50 border-l border-gray-700 p-4 flex flex-col gap-2",children:[i.jsxs("button",{onClick:()=>s("INBOX"),className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl font-bold transition-all ${n==="INBOX"?"bg-emerald-600 text-white shadow-lg":"text-gray-400 hover:bg-gray-800 hover:text-white"}`,children:[i.jsx(mA,{className:"w-5 h-5"})," ",V.some(J=>!J.read)&&i.jsx("span",{className:"w-2 h-2 bg-red-500 rounded-full"})]}),i.jsxs("button",{onClick:()=>s("COMPOSE"),className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl font-bold transition-all ${n==="COMPOSE"?"bg-emerald-600 text-white shadow-lg":"text-gray-400 hover:bg-gray-800 hover:text-white"}`,children:[i.jsx(uu,{className:"w-5 h-5"})," "]})]}),i.jsx("div",{className:"flex-1 p-6 md:p-8 overflow-y-auto",children:n==="COMPOSE"?i.jsxs("div",{className:"max-w-2xl mx-auto",children:[i.jsxs("h2",{className:"text-2xl font-black text-white mb-6 flex items-center gap-2",children:[i.jsx(uu,{className:"w-6 h-6 text-emerald-400"}),"  "]}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-gray-400 mb-2",children:":"}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("div",{className:"flex gap-4",children:i.jsxs("label",{className:`flex items-center gap-2 cursor-pointer bg-gray-800 px-4 py-3 rounded-xl border transition-colors flex-1 ${c==="all"?"border-emerald-500 bg-emerald-900/20":"border-gray-700 hover:border-emerald-500"}`,children:[i.jsx("input",{type:"radio",name:"recipient",checked:c==="all",onChange:()=>d("all"),className:"w-4 h-4 accent-emerald-500"}),i.jsx("span",{className:"font-bold text-sm text-white",children:" "}),i.jsx(sc,{className:"w-4 h-4 text-emerald-400 mr-auto"})]})}),i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:i.jsx(zi,{className:"h-4 w-4 text-gray-500"})}),i.jsx("input",{type:"text",placeholder:"    ...",value:L,onChange:J=>{X(J.target.value),c==="all"&&d("")},className:"block w-full pr-10 pl-3 py-3 border border-gray-700 rounded-xl leading-5 bg-gray-800 text-gray-300 placeholder-gray-500 focus:outline-none focus:bg-gray-900 focus:border-emerald-500 transition duration-150 ease-in-out sm:text-sm font-bold"})]}),L&&i.jsx("div",{className:"max-h-40 overflow-y-auto bg-gray-800 border border-gray-700 rounded-xl custom-scrollbar",children:F.map(J=>i.jsxs("div",{onClick:()=>{d(J.id),X(J.displayName)},className:`p-3 cursor-pointer flex items-center gap-3 hover:bg-gray-700 transition-colors ${c===J.id?"bg-emerald-900/20":""}`,children:[i.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-600 flex items-center justify-center",children:J.avatar?i.jsx("img",{src:J.avatar,className:"w-full h-full rounded-full object-cover"}):i.jsx(pi,{className:"w-4 h-4"})}),i.jsxs("div",{children:[i.jsx("div",{className:"text-sm font-bold text-white",children:J.displayName}),i.jsx("div",{className:"text-xs text-gray-400",children:J.email})]}),c===J.id&&i.jsx(ts,{className:"w-4 h-4 text-emerald-500 mr-auto"})]},J.id))})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-gray-400 mb-2",children:" "}),i.jsx("input",{type:"text",value:h,onChange:J=>g(J.target.value),className:"w-full px-4 py-3 rounded-xl border border-gray-700 bg-gray-800 text-white focus:border-emerald-500 outline-none font-bold",placeholder:":    "})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-bold text-gray-400 mb-2",children:" "}),i.jsx("textarea",{value:x,onChange:J=>B(J.target.value),className:"w-full h-32 px-4 py-3 rounded-xl border border-gray-700 bg-gray-800 text-white focus:border-emerald-500 outline-none resize-none leading-relaxed",placeholder:"  ..."})]}),i.jsxs("button",{onClick:S,disabled:w,className:"w-full bg-emerald-600 hover:bg-emerald-700 text-white py-3 rounded-xl font-bold shadow-lg transition-all flex items-center justify-center gap-2",children:[w?i.jsx(zr,{className:"w-5 h-5 animate-spin"}):i.jsx(uu,{className:"w-5 h-5"})," "]})]})]}):i.jsxs("div",{className:"h-full flex flex-col",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsxs("h2",{className:"text-2xl font-black text-white flex items-center gap-2",children:[i.jsx(mA,{className:"w-6 h-6 text-emerald-400"})," "]}),i.jsx("button",{onClick:()=>U(!0),className:"p-2 hover:bg-gray-800 rounded-full transition-colors",title:" ( )",children:i.jsx(Kg,{className:"w-5 h-5 text-gray-400"})})]}),ne?i.jsx("div",{className:"flex-1 flex items-center justify-center",children:i.jsx(zr,{className:"w-8 h-8 animate-spin text-emerald-500"})}):V.length===0?i.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-gray-500",children:[i.jsx(mA,{className:"w-16 h-16 mb-4 opacity-20"}),i.jsx("p",{children:"   "})]}):i.jsx("div",{className:"space-y-4 flex-1 overflow-y-auto custom-scrollbar pr-2",children:V.map(J=>i.jsxs("div",{className:`bg-gray-800 p-5 rounded-2xl border transition-all hover:border-emerald-500/30 relative overflow-hidden ${J.read?"border-gray-700":"border-emerald-500/50 bg-emerald-900/5"}`,children:[i.jsxs("div",{className:"flex flex-row items-start gap-4 relative z-10",children:[i.jsx("div",{className:`w-10 h-10 rounded-full shrink-0 flex items-center justify-center text-base font-bold shadow-md border-2 ${J.read?"bg-gray-700 border-gray-600 text-gray-400":"bg-emerald-600 border-emerald-500 text-white"}`,children:J.studentName?J.studentName.charAt(0).toUpperCase():i.jsx(pi,{className:"w-5 h-5"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex justify-between items-center mb-2",children:[i.jsxs("div",{children:[i.jsx("h4",{className:`font-bold text-base leading-tight ${J.read?"text-gray-300":"text-white"}`,children:J.studentName||""}),i.jsx("p",{className:"text-xs text-gray-500 font-mono mt-0.5",children:J.studentEmail})]}),i.jsxs("div",{className:"flex items-center gap-2 bg-gray-900/50 px-3 py-1 rounded-full border border-gray-700/50",children:[i.jsx(xg,{className:"w-3 h-3 text-gray-500"}),i.jsx("span",{className:"text-[10px] font-bold text-gray-400 dir-ltr",children:Q(J.createdAt)})]})]}),i.jsx("div",{className:"p-3 bg-gray-900/50 rounded-xl border border-gray-700/30 text-sm text-gray-300 leading-relaxed whitespace-pre-wrap",children:J.message}),i.jsxs("div",{className:"flex justify-end gap-3 mt-3",children:[!J.read&&i.jsxs("button",{onClick:()=>E(J.id),className:"flex items-center gap-1.5 px-3 py-1.5 rounded-lg bg-emerald-500/10 text-emerald-400 hover:bg-emerald-500/20 text-xs font-bold transition-colors",children:[i.jsx(ts,{className:"w-3.5 h-3.5"})," "]}),i.jsxs("button",{onClick:()=>P(J.id),className:"flex items-center gap-1.5 px-3 py-1.5 rounded-lg bg-red-500/10 text-red-400 hover:bg-red-500/20 text-xs font-bold transition-colors",children:[i.jsx(Al,{className:"w-3.5 h-3.5"}),""]})]})]}),i.jsx("div",{className:"flex flex-col items-center justify-center gap-1 self-center opacity-30",children:i.jsx("div",{className:"w-8 h-10 border-2 border-gray-500 rounded-lg flex items-center justify-center",children:i.jsx(mA,{className:"w-4 h-4 text-gray-500"})})})]}),!J.read&&i.jsx("div",{className:"absolute top-0 right-0 w-1.5 h-full bg-emerald-500"})]},J.id))})]})})]})})]})},oK=({onBack:r,onNavigate:e})=>{const[t,n]=he.useState([]),[s,o]=he.useState(!0),[l,c]=he.useState("ALL");he.useEffect(()=>{d()},[]);const d=async()=>{o(!0);const B="etqan_teacher_reviews_v1",w=365*24*60*60*1e3,I=Date.now(),j=localStorage.getItem(B);if(j)try{const{data:M,timestamp:L}=JSON.parse(j);if(I-L<w){n(M),o(!1);return}}catch(M){console.error("Cache parsing error",M)}try{const M=ya(bn(yr,"reviews"),Df("createdAt","desc"),Of(50)),X=(await yi(M)).docs.map(V=>({id:V.id,...V.data(),createdAt:V.data().createdAt?{seconds:V.data().createdAt.seconds}:null}));n(X),localStorage.setItem(B,JSON.stringify({timestamp:I,data:X}))}catch(M){console.error("Error fetching reviews:",M)}finally{o(!1)}},h=t.filter(B=>l==="ALL"?!0:l==="QUIZ"?B.type==="quiz":l==="EXPLANATION"?B.type==="explanation":!0),g=B=>B?(B.toDate?B.toDate():new Date(B.seconds*1e3)).toLocaleDateString("ar-EG"):"",x=t.length>0?(t.reduce((B,w)=>B+w.rating,0)/t.length).toFixed(1):"0.0";return i.jsxs("div",{className:"min-h-screen bg-gray-950 animate-fade-in transition-colors duration-300 text-gray-100",children:[i.jsx("div",{className:"max-w-5xl mx-auto px-4 pt-2 pb-2 relative z-30",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("button",{onClick:()=>e("PROFILE"),className:"p-2 bg-gray-900/50 hover:bg-gray-800 rounded-xl transition-all text-gray-400 hover:text-white border border-white/10 shadow-lg backdrop-blur-sm group",children:i.jsx(an,{className:"w-4 h-4 group-hover:-translate-x-1 transition-transform"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-lg font-black text-white tracking-tight mb-0.5",children:" "}),i.jsxs("div",{className:"flex items-center gap-1.5 text-[10px] md:text-xs font-medium text-gray-500",children:[i.jsxs("span",{onClick:()=>e("PROFILE"),className:"hover:text-emerald-400 cursor-pointer transition-colors flex items-center gap-1",children:[i.jsx(zn,{className:"w-3 h-3"})," "]}),i.jsx("span",{className:"text-gray-700",children:"/"}),i.jsxs("span",{className:"text-emerald-500 flex items-center gap-1",children:[i.jsx(wg,{className:"w-3 h-3"})," "]})]})]})]})}),i.jsxs("div",{className:"max-w-5xl mx-auto px-4 py-4",children:[i.jsxs("div",{className:"bg-gray-900 rounded-3xl shadow-xl border border-gray-700 p-8 mb-8 flex flex-col md:flex-row items-center justify-between gap-6",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"w-16 h-16 bg-yellow-900/20 rounded-2xl flex items-center justify-center border border-yellow-500/20 text-yellow-400",children:i.jsx(ol,{className:"w-8 h-8 fill-yellow-400"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-3xl font-black text-white",children:x}),i.jsx("p",{className:"text-gray-400 text-sm font-bold",children:"  "})]})]}),i.jsx("div",{className:"flex items-center gap-4",children:i.jsxs("div",{className:"text-center px-6 py-3 bg-gray-800 rounded-xl border border-gray-700",children:[i.jsx("span",{className:"block text-2xl font-bold text-white",children:t.length}),i.jsx("span",{className:"text-xs text-gray-400",children:" "})]})})]}),i.jsxs("div",{className:"flex gap-2 mb-6 overflow-x-auto pb-2",children:[i.jsx("button",{onClick:()=>c("ALL"),className:`px-4 py-2 rounded-full text-sm font-bold transition-all whitespace-nowrap ${l==="ALL"?"bg-white text-gray-900":"bg-gray-800 text-gray-400 hover:bg-gray-700"}`,children:""}),i.jsx("button",{onClick:()=>c("QUIZ"),className:`px-4 py-2 rounded-full text-sm font-bold transition-all whitespace-nowrap ${l==="QUIZ"?"bg-blue-500 text-white":"bg-gray-800 text-gray-400 hover:bg-gray-700"}`,children:" "}),i.jsx("button",{onClick:()=>c("EXPLANATION"),className:`px-4 py-2 rounded-full text-sm font-bold transition-all whitespace-nowrap ${l==="EXPLANATION"?"bg-purple-500 text-white":"bg-gray-800 text-gray-400 hover:bg-gray-700"}`,children:" "})]}),i.jsx("div",{className:"bg-gray-900 rounded-3xl border border-gray-700 min-h-[400px] p-6 relative",children:s?i.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:i.jsx(zr,{className:"w-10 h-10 animate-spin text-emerald-500"})}):h.length===0?i.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center text-gray-500",children:[i.jsx(wg,{className:"w-16 h-16 mb-4 opacity-20"}),i.jsx("p",{className:"text-lg font-bold",children:"     "})]}):i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:h.map(B=>i.jsxs("div",{className:"bg-gray-800 p-5 rounded-2xl border border-gray-700 hover:border-gray-600 transition-all",children:[i.jsxs("div",{className:"flex justify-between items-start mb-3",children:[i.jsxs("div",{children:[i.jsxs("h4",{className:"font-bold text-white text-lg flex items-center gap-2",children:[B.studentName,i.jsx("span",{className:"text-xs font-normal text-gray-500 bg-gray-900 px-2 py-0.5 rounded-md border border-gray-700",children:g(B.createdAt)})]}),i.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[[...Array(5)].map((w,I)=>i.jsx(ol,{className:`w-3 h-3 ${I<Math.round(B.rating/2)?"text-yellow-400 fill-yellow-400":"text-gray-600"}`},I)),i.jsxs("span",{className:"text-xs text-yellow-500 font-bold mr-1",children:["(",B.rating,"/10)"]})]})]}),i.jsx("span",{className:`px-2 py-1 rounded-lg text-[10px] font-bold ${B.type==="quiz"?"bg-blue-900/30 text-blue-300 border border-blue-900":"bg-purple-900/30 text-purple-300 border border-purple-900"}`,children:B.type==="quiz"?"":""})]}),i.jsxs("div",{className:"mb-3",children:[i.jsx("span",{className:"text-xs text-gray-500 block mb-1",children:" :"}),i.jsx("p",{className:"text-emerald-400 font-bold text-sm line-clamp-1",children:B.targetTitle})]}),B.comment?i.jsx("div",{className:"bg-gray-900/50 p-3 rounded-xl border border-gray-700/50",children:i.jsxs("p",{className:"text-gray-300 text-sm leading-relaxed",children:['"',B.comment,'"']})}):i.jsx("p",{className:"text-gray-600 text-xs italic",children:"   "})]},B.id))})})]})]})},AK=({onNavigate:r})=>i.jsxs("section",{className:"py-24 relative overflow-hidden bg-gray-950 border-t border-white/5",children:[i.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[i.jsx("div",{className:"absolute top-0 left-1/4 w-96 h-96 bg-emerald-900/10 rounded-full blur-[100px]"}),i.jsx("div",{className:"absolute bottom-0 right-1/4 w-96 h-96 bg-blue-900/10 rounded-full blur-[100px]"})]}),i.jsxs("div",{className:"max-w-5xl mx-auto px-6 relative z-10 text-center",children:[i.jsx("div",{className:"inline-flex items-center justify-center p-4 bg-gradient-to-br from-gray-800 to-gray-900 rounded-3xl mb-8 border border-white/10 shadow-2xl transform rotate-3 hover:rotate-0 transition-transform duration-500",children:i.jsx(yd,{className:"w-10 h-10 text-emerald-400"})}),i.jsx("h2",{className:"text-4xl md:text-6xl font-black text-white mb-6 leading-tight tracking-tight",children:"   "}),i.jsx("p",{className:"text-xl text-gray-400 mb-10 max-w-2xl mx-auto leading-relaxed font-medium",children:"       .         ."}),i.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-8",children:[i.jsxs("div",{className:"flex items-center -space-x-4 space-x-reverse",children:[i.jsx("div",{className:"w-14 h-14 rounded-full border-4 border-gray-950 overflow-hidden bg-gray-800 shadow-lg relative z-20",children:i.jsx("img",{src:"https://lh3.googleusercontent.com/d/1tbzVNKO3FGH46Pa6MZ58OWD4BXVKdK5P",alt:"Teacher",className:"w-full h-full object-cover"})}),i.jsx("div",{className:"w-14 h-14 rounded-full border-4 border-gray-950 overflow-hidden bg-gray-800 shadow-lg relative z-10",children:i.jsx("img",{src:"https://lh3.googleusercontent.com/d/1xPDpcaUPz3IH-pqv-Jgplroi6U27BVVj",alt:"Teacher",className:"w-full h-full object-cover"})}),i.jsx("div",{className:"w-14 h-14 rounded-full border-4 border-gray-950 bg-gray-800 flex items-center justify-center text-xs font-bold text-gray-400 shadow-lg relative z-0",children:"+2"})]}),i.jsxs("button",{onClick:()=>r("CONTACT_TEACHER"),className:"group relative bg-white text-gray-900 px-8 py-4 rounded-2xl font-black text-lg hover:bg-emerald-50 transition-all shadow-[0_0_30px_rgba(255,255,255,0.1)] hover:shadow-[0_0_40px_rgba(16,185,129,0.3)] flex items-center gap-3 transform hover:-translate-y-1",children:["  ",i.jsx(an,{className:"w-5 h-5 group-hover:-translate-x-1 transition-transform text-emerald-600"})]})]})]})]}),J2=()=>i.jsxs("div",{className:"relative w-full h-16 flex items-center justify-center my-8 overflow-hidden",children:[i.jsx("div",{className:"absolute w-full h-px bg-gray-800/50"}),i.jsx("div",{className:"absolute w-3/4 h-px bg-gradient-to-r from-transparent via-emerald-500 to-transparent shadow-[0_0_20px_rgba(16,185,129,1)]"}),i.jsx("div",{className:"relative bg-gray-950 p-2 rounded-full border border-emerald-500/30 shadow-[0_0_15px_rgba(16,185,129,0.4)]",children:i.jsx("div",{className:"w-2 h-2 bg-emerald-400 rounded-full animate-pulse"})})]}),lK=()=>{const r=[{icon:oQ,title:" ",desc:"     .",color:"text-blue-400",bg:"bg-blue-900/20"},{icon:mv,title:" ",desc:"     .",color:"text-purple-400",bg:"bg-purple-900/20"},{icon:Ef,title:" ",desc:"    .",color:"text-yellow-400",bg:"bg-yellow-900/20"},{icon:sf,title:" ",desc:"      .",color:"text-emerald-400",bg:"bg-emerald-900/20"}];return i.jsxs("div",{className:"py-12 px-4 relative",children:[i.jsxs("div",{className:"text-center mb-12",children:[i.jsx("h2",{className:"text-3xl font-black text-white mb-3",children:" "}),i.jsx("p",{className:"text-gray-400 text-sm",children:"    "})]}),i.jsxs("div",{className:"relative max-w-2xl mx-auto",children:[i.jsx("div",{className:"absolute right-8 md:right-1/2 top-0 bottom-0 w-1 bg-gradient-to-b from-emerald-500/10 via-emerald-500 to-emerald-500/10 rounded-full"}),i.jsx("div",{className:"space-y-12",children:r.map((e,t)=>i.jsxs("div",{className:"relative flex items-center gap-6 group",children:[i.jsx("div",{className:`relative z-10 w-16 h-16 rounded-2xl flex items-center justify-center shrink-0 border-4 border-gray-950 shadow-xl ${e.bg} transition-transform group-hover:scale-110 duration-300`,children:i.jsx(e.icon,{className:`w-8 h-8 ${e.color}`})}),i.jsxs("div",{className:"flex-1 bg-gray-900/60 backdrop-blur-sm p-5 rounded-2xl border border-white/5 shadow-lg group-hover:border-emerald-500/30 transition-all group-hover:-translate-x-2",children:[i.jsx("h3",{className:"text-lg font-bold text-white mb-1",children:e.title}),i.jsx("p",{className:"text-gray-400 text-sm leading-relaxed",children:e.desc})]})]},t))})]})]})},cK=()=>i.jsxs("div",{className:"py-12 px-4",children:[i.jsxs("div",{className:"text-center mb-12",children:[i.jsx("h2",{className:"text-3xl font-black text-white mb-3",children:" "}),i.jsx("p",{className:"text-gray-400 text-sm",children:"    "})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 max-w-4xl mx-auto",children:[i.jsxs("div",{className:"bg-gradient-to-br from-gray-900 to-gray-800 p-6 rounded-[2rem] border border-white/5 relative overflow-hidden group",children:[i.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-emerald-500 to-transparent"}),i.jsxs("div",{className:"relative z-10",children:[i.jsx("div",{className:"w-12 h-12 bg-emerald-900/30 rounded-xl flex items-center justify-center mb-4 text-emerald-400 group-hover:scale-110 transition-transform",children:i.jsx(gS,{className:"w-6 h-6"})}),i.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:" "}),i.jsx("p",{className:"text-gray-400 text-sm",children:"         ."})]}),i.jsx("div",{className:"absolute -bottom-10 -right-10 w-32 h-32 bg-emerald-500/10 rounded-full blur-3xl group-hover:bg-emerald-500/20 transition-colors"})]}),i.jsxs("div",{className:"bg-gradient-to-br from-gray-900 to-gray-800 p-6 rounded-[2rem] border border-white/5 relative overflow-hidden group",children:[i.jsx("div",{className:"absolute top-0 right-0 w-full h-1 bg-gradient-to-l from-blue-500 to-transparent"}),i.jsxs("div",{className:"relative z-10",children:[i.jsx("div",{className:"w-12 h-12 bg-blue-900/30 rounded-xl flex items-center justify-center mb-4 text-blue-400 group-hover:scale-110 transition-transform",children:i.jsx(zg,{className:"w-6 h-6"})}),i.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:" "}),i.jsx("p",{className:"text-gray-400 text-sm",children:"         ."})]}),i.jsx("div",{className:"absolute -bottom-10 -left-10 w-32 h-32 bg-blue-500/10 rounded-full blur-3xl group-hover:bg-blue-500/20 transition-colors"})]}),i.jsxs("div",{className:"md:col-span-2 bg-gradient-to-r from-gray-900 via-gray-800 to-gray-900 p-6 rounded-[2rem] border border-white/5 relative overflow-hidden group text-center md:text-right flex flex-col md:flex-row items-center gap-6",children:[i.jsx("div",{className:"w-16 h-16 bg-yellow-900/30 rounded-full flex items-center justify-center text-yellow-400 shrink-0 border border-yellow-500/20 shadow-lg shadow-yellow-900/20 animate-pulse",children:i.jsx(qg,{className:"w-8 h-8"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"  "}),i.jsx("p",{className:"text-gray-400 text-sm",children:"          ."})]})]})]})]}),uK=()=>{const[r,e]=he.useState(null),t=[{q:"   ",a:"            ."},{q:"    ",a:'   "  "       .'},{q:"    ",a:"!        ."},{q:"  ",a:"           100%."}];return i.jsxs("div",{className:"py-12 px-4 mb-12",children:[i.jsxs("div",{className:"text-center mb-12",children:[i.jsx("h2",{className:"text-3xl font-black text-white mb-3",children:" "}),i.jsx("p",{className:"text-gray-400 text-sm",children:"    "})]}),i.jsx("div",{className:"max-w-2xl mx-auto space-y-3",children:t.map((n,s)=>i.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-2xl overflow-hidden transition-all duration-300",children:[i.jsxs("button",{onClick:()=>e(r===s?null:s),className:"w-full p-5 flex items-center justify-between text-right bg-gray-900 hover:bg-gray-800/50 transition-colors",children:[i.jsxs("span",{className:"font-bold text-white text-sm md:text-base flex items-center gap-3",children:[i.jsx(Mo,{className:"w-5 h-5 text-emerald-500"}),n.q]}),i.jsx(al,{className:`w-5 h-5 text-gray-500 transition-transform duration-300 ${r===s?"rotate-180 text-emerald-400":""}`})]}),i.jsx("div",{className:`overflow-hidden transition-all duration-300 ease-in-out ${r===s?"max-h-40 opacity-100":"max-h-0 opacity-0"}`,children:i.jsx("div",{className:"p-5 pt-0 text-gray-400 text-sm leading-relaxed border-t border-gray-800/50",children:n.a})})]},s))})]})},dK=()=>i.jsxs("div",{className:"relative z-10 w-full bg-transparent",children:[i.jsx(J2,{}),i.jsx(lK,{}),i.jsx(J2,{}),i.jsx(cK,{}),i.jsx(J2,{}),i.jsx(uK,{})]}),zC=({className:r})=>i.jsx("svg",{viewBox:"0 0 24 24",className:r,fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:i.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.008-.57-.008-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"})}),hK=({className:r})=>i.jsx("svg",{viewBox:"0 0 24 24",className:r,fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:i.jsx("path",{d:"M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.694 0zM4.98 14.41c6.009-2.607 10.015-4.335 12.019-5.168 2.656-.867 3.084-.386 2.84 1.712-.366 3.157-1.408 8.873-1.93 10.364-.22.628-.648.676-1.308.244-1.68-1.044-3.896-2.532-4.812-3.132-.956-.628-1.144-1.24-.208-2.212 2.168-2.248 4.068-4.064 3.724-4.376-.428-.388-2.648.82-7.008 3.776-.784.532-1.496.524-2.192.316-1.04-.312-2.052-.648-2.828-.904-1.056-.348-1.06-1.056.172-1.576z"})}),fK=({onNavigate:r})=>{const[e,t]=he.useState(!1),[n,s]=he.useState(!1),o=window.location.origin,l="   -   ",c=()=>{const B=`https://t.me/share/url?url=${encodeURIComponent(o)}&text=${encodeURIComponent(l)}`;window.open(B,"_blank"),t(!1)},d=()=>{const B=`https://wa.me/?text=${encodeURIComponent(l+" "+o)}`;window.open(B,"_blank"),t(!1)},h=()=>{const B=`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(o)}`;window.open(B,"_blank"),t(!1)},g=()=>{navigator.clipboard.writeText(o),s(!0),setTimeout(()=>s(!1),2e3)},x=async()=>{if(navigator.share)try{await navigator.share({title:" ",text:l,url:o}),t(!1)}catch(B){console.log("Error sharing",B)}else g()};return i.jsxs("footer",{className:"relative bg-gray-950 border-t border-white/5 py-4 md:py-6",children:[i.jsxs("div",{className:"w-full px-6 flex flex-col md:flex-row items-center justify-between gap-4 md:gap-8",children:[i.jsxs("div",{className:"flex items-center gap-3 shrink-0",children:[i.jsx("div",{className:"w-10 h-10 md:w-12 md:h-12 bg-gray-900 rounded-xl flex items-center justify-center border border-emerald-500/30 overflow-hidden shadow-md shadow-emerald-900/20",children:i.jsx(uT,{className:"w-full h-full p-1"})}),i.jsxs("div",{className:"text-right",children:[i.jsx("span",{className:"text-lg font-bold text-white tracking-tight block leading-none",children:""}),i.jsx("span",{className:"text-[10px] text-gray-500",children:" "})]})]}),i.jsxs("div",{className:"flex flex-wrap justify-center gap-4 md:gap-6",children:[i.jsxs("button",{onClick:()=>r&&r("HOME"),className:"text-xs font-bold text-gray-400 hover:text-emerald-400 transition-colors flex items-center gap-1.5",children:[i.jsx(zn,{className:"w-3 h-3"})," "]}),i.jsxs("button",{onClick:()=>r&&r("QUIZZES"),className:"text-xs font-bold text-gray-400 hover:text-emerald-400 transition-colors flex items-center gap-1.5",children:[i.jsx(Us,{className:"w-3 h-3"})," "]}),i.jsxs("button",{onClick:()=>r&&r("LESSONS"),className:"text-xs font-bold text-gray-400 hover:text-emerald-400 transition-colors flex items-center gap-1.5",children:[i.jsx(ra,{className:"w-3 h-3"})," "]}),i.jsxs("button",{onClick:()=>r&&r("LESSONS_EXPLANATIONS"),className:"text-xs font-bold text-gray-400 hover:text-emerald-400 transition-colors flex items-center gap-1.5",children:[i.jsx(lu,{className:"w-3 h-3"})," "]}),i.jsxs("button",{onClick:()=>r&&r("CONTACT_TEACHER"),className:"text-xs font-bold text-gray-400 hover:text-emerald-400 transition-colors flex items-center gap-1.5",children:[i.jsx(yd,{className:"w-3 h-3"}),"  "]})]}),i.jsxs("div",{className:"flex items-center gap-3 shrink-0",children:[i.jsx("div",{className:"h-4 w-px bg-gray-800 mx-1 hidden md:block"}),i.jsx("a",{href:"https://www.facebook.com/yazanabokaheal2?locale=ms_MY",target:"_blank",rel:"noopener noreferrer",className:"text-gray-500 hover:text-[#1877F2] transition-colors",children:i.jsx(nf,{className:"w-4 h-4"})}),i.jsx("a",{href:"https://wa.me/972568401548",target:"_blank",rel:"noopener noreferrer",className:"text-gray-500 hover:text-[#25D366] transition-colors",children:i.jsx(zC,{className:"w-4 h-4"})}),i.jsxs("button",{onClick:()=>t(!0),className:"flex items-center gap-2 bg-emerald-600/10 text-emerald-500 px-3 py-1.5 rounded-lg hover:bg-emerald-600/20 transition-colors text-[10px] font-bold border border-emerald-500/20 ml-2",children:[i.jsx(SN,{className:"w-3 h-3"}),""]})]})]}),i.jsx("div",{className:"text-center mt-4 border-t border-gray-900 pt-2",children:i.jsxs("p",{className:"text-[9px] text-gray-600 font-mono dir-ltr",children:[" ",new Date().getFullYear()," Etqan. By Mr. Yazan Abu Kahil"]})}),e&&i.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm animate-fade-in",onClick:()=>t(!1),children:i.jsxs("div",{className:"w-full max-w-xs bg-gray-900 border border-gray-700 rounded-2xl shadow-2xl p-4 flex flex-col gap-4 animate-fade-in-up relative",onClick:B=>B.stopPropagation(),children:[i.jsxs("div",{className:"flex items-center justify-between border-b border-gray-800 pb-2",children:[i.jsxs("span",{className:"text-white font-bold text-sm flex items-center gap-2",children:[i.jsx(SN,{className:"w-4 h-4 text-emerald-500"})," "]}),i.jsx("button",{onClick:()=>t(!1),className:"text-gray-500 hover:text-white transition-colors",children:i.jsx(ba,{className:"w-4 h-4"})})]}),i.jsxs("div",{className:"grid grid-cols-4 gap-2",children:[i.jsxs("button",{onClick:d,className:"flex flex-col items-center gap-1 group",children:[i.jsx("div",{className:"w-10 h-10 rounded-xl bg-[#25D366]/10 flex items-center justify-center group-hover:bg-[#25D366] transition-all border border-[#25D366]/20",children:i.jsx(zC,{className:"w-5 h-5 text-[#25D366] group-hover:text-white"})}),i.jsx("span",{className:"text-[9px] text-gray-400",children:""})]}),i.jsxs("button",{onClick:c,className:"flex flex-col items-center gap-1 group",children:[i.jsx("div",{className:"w-10 h-10 rounded-xl bg-[#0088cc]/10 flex items-center justify-center group-hover:bg-[#0088cc] transition-all border border-[#0088cc]/20",children:i.jsx(hK,{className:"w-5 h-5 text-[#0088cc] group-hover:text-white"})}),i.jsx("span",{className:"text-[9px] text-gray-400",children:""})]}),i.jsxs("button",{onClick:h,className:"flex flex-col items-center gap-1 group",children:[i.jsx("div",{className:"w-10 h-10 rounded-xl bg-[#1877F2]/10 flex items-center justify-center group-hover:bg-[#1877F2] transition-all border border-[#1877F2]/20",children:i.jsx(nf,{className:"w-5 h-5 text-[#1877F2] group-hover:text-white"})}),i.jsx("span",{className:"text-[9px] text-gray-400",children:""})]}),i.jsxs("button",{onClick:x,className:"flex flex-col items-center gap-1 group",children:[i.jsx("div",{className:"w-10 h-10 rounded-xl bg-gray-800 flex items-center justify-center group-hover:bg-gray-700 transition-all border border-gray-700",children:i.jsx(vk,{className:"w-5 h-5 text-gray-300 group-hover:text-white"})}),i.jsx("span",{className:"text-[9px] text-gray-400",children:""})]})]}),i.jsxs("div",{className:"bg-gray-800 rounded-lg p-2 flex items-center border border-gray-700",children:[i.jsx("div",{className:"flex-1 px-2 text-[10px] text-gray-400 font-mono truncate dir-ltr",children:o}),i.jsx("button",{onClick:g,className:`p-1.5 rounded-md transition-all ${n?"bg-emerald-500 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:n?i.jsx(lS,{className:"w-3 h-3"}):i.jsx(xv,{className:"w-3 h-3"})})]})]})})]})},gK=({onBack:r})=>{const[e,t]=he.useState(null);he.useEffect(()=>{const c=localStorage.getItem("etqan_service_intent");(c==="school"||c==="university")&&(t(c),localStorage.removeItem("etqan_service_intent"))},[]);const n=c=>{let d="";c?d=`    : ${c}`:d=`    ${e==="university"?"   (30 )":"   (20 )"}  .`,window.open(`https://wa.me/972568401548?text=${encodeURIComponent(d)}`,"_blank")},s=()=>{e?t(null):r()},o=e==="university"?{title:" ",subtitle:"",price:"30",description:null,color:"blue",gradient:"from-blue-500 to-indigo-600",border:"border-blue-500/30",shadow:"shadow-blue-500/20",features:[{icon:ni,text:"  ",sub:null},{icon:Xk,text:"      ",sub:null}]}:{title:" ",subtitle:"",price:"20",description:"            .",color:"amber",gradient:"from-amber-500 to-orange-600",border:"border-amber-500/30",shadow:"shadow-amber-500/20",features:[{icon:ts,text:"  ",sub:"    "},{icon:rf,text:"  ",sub:"   "},{icon:Dk,text:"   ",sub:"  "}]},l=[{title:" ",fullTitle:"  ",desc:"       ( ).",icon:Ko,gradient:"from-emerald-600 to-teal-600",shadow:"shadow-emerald-500/20",border:"border-emerald-500/20"},{title:" ",fullTitle:"  ",desc:"     .",icon:ck,gradient:"from-violet-600 to-purple-600",shadow:"shadow-purple-500/20",border:"border-purple-500/20"},{title:" ",fullTitle:"  ",desc:"   (Presentation)  .",icon:lu,gradient:"from-orange-500 to-amber-500",shadow:"shadow-orange-500/20",border:"border-orange-500/20"},{title:" ",fullTitle:"  ",desc:"       ELT   ( ).",icon:pv,gradient:"from-pink-600 to-rose-600",shadow:"shadow-pink-500/20",border:"border-pink-500/20"}];return e?i.jsxs("div",{className:"min-h-screen bg-gray-950 animate-fade-in flex flex-col transition-colors duration-300 text-gray-100",children:[i.jsxs("div",{className:"relative overflow-hidden pt-28 pb-8",children:[i.jsx("div",{className:"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/cubes.png')] opacity-10"}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-gray-900 via-gray-950/80 to-gray-950 pointer-events-none"}),i.jsx("div",{className:"max-w-7xl mx-auto px-4 relative z-30 mb-6",children:i.jsxs("div",{className:"flex items-center justify-start gap-4",children:[i.jsx("button",{onClick:s,className:"p-2 bg-gray-900/50 hover:bg-gray-800 rounded-xl transition-all text-gray-300 hover:text-white border border-white/10 shadow-lg backdrop-blur-sm group",children:i.jsx(an,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-xl font-black text-white leading-none mb-1",children:" "}),i.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-gray-400",children:[i.jsxs("span",{onClick:r,className:"hover:text-white cursor-pointer transition-colors flex items-center gap-1",children:[i.jsx(zn,{className:"w-3.5 h-3.5"})," "]}),i.jsx("span",{className:"text-gray-600",children:"/"}),i.jsxs("span",{onClick:()=>t(null),className:"hover:text-white cursor-pointer transition-colors flex items-center gap-1",children:[e==="university"?i.jsx(ni,{className:"w-3.5 h-3.5"}):i.jsx(xA,{className:"w-3.5 h-3.5"}),e==="university"?"":""]})]})]})]})}),i.jsxs("div",{className:"relative z-10 max-w-4xl mx-auto text-center px-4",children:[i.jsxs("div",{className:`inline-flex items-center gap-2 bg-${o.color}-500/10 border border-${o.color}-500/30 text-${o.color}-400 px-4 py-1.5 rounded-full text-xs font-bold mb-4 animate-fade-in-up shadow-lg`,children:[i.jsx(_1,{className:"w-3.5 h-3.5"}),i.jsx("span",{children:"  "})]}),i.jsxs("h1",{className:"text-3xl md:text-5xl font-black text-white mb-2 drop-shadow-2xl tracking-tight leading-tight",children:[o.title," ",i.jsx("span",{className:`text-transparent bg-clip-text bg-gradient-to-r ${o.gradient}`,children:o.subtitle})]}),o.description&&i.jsx("p",{className:"text-gray-400 text-sm md:text-base max-w-2xl mx-auto leading-relaxed",children:o.description})]})]}),i.jsx("div",{className:"max-w-md mx-auto px-4 relative z-10 w-full -mt-4",children:i.jsxs("div",{className:`bg-gray-900 rounded-[2.5rem] p-1 border-2 ${o.border} ${o.shadow} relative overflow-hidden group`,children:[i.jsx("div",{className:`absolute top-0 left-0 w-full h-full bg-gradient-to-b from-${o.color}-900/10 to-transparent pointer-events-none`}),i.jsxs("div",{className:`bg-gray-900/90 backdrop-blur-xl rounded-[2.3rem] ${e==="university"?"p-4":"p-5 md:p-6"} relative h-full flex flex-col`,children:[i.jsxs("div",{className:`text-center ${e==="university"?"mb-4":"mb-6"}`,children:[i.jsx("div",{className:`w-12 h-12 bg-gradient-to-br ${o.gradient} rounded-full flex items-center justify-center mx-auto mb-2 shadow-2xl animate-pulse-slow`,children:i.jsx(ns,{className:"w-6 h-6 text-white fill-white"})}),i.jsx("h2",{className:"text-lg font-black text-white mb-2",children:" Premium"}),i.jsxs("div",{className:`inline-block bg-${o.color}-500/10 border border-${o.color}-500/30 rounded-xl px-4 py-1`,children:[i.jsxs("div",{className:`flex items-baseline justify-center gap-1 text-${o.color}-400`,children:[i.jsx("span",{className:"text-xl font-black",children:o.price}),i.jsx("span",{className:"text-[10px] font-bold",children:""})]}),i.jsx("span",{className:`text-[8px] text-${o.color}-500/70 font-bold block`,children:" / "})]})]}),i.jsx("div",{className:`space-y-2 ${e==="university"?"mb-4":"mb-8"} flex-1`,children:o.features.map((c,d)=>i.jsxs("div",{className:"flex items-center gap-3 bg-gray-800/50 p-2.5 rounded-xl border border-gray-700/50",children:[i.jsx("div",{className:`bg-${o.color}-500/20 p-1.5 rounded-lg text-${o.color}-400`,children:i.jsx(c.icon,{className:"w-4 h-4"})}),i.jsxs("div",{className:"text-right",children:[i.jsx("h4",{className:"font-bold text-white text-xs",children:c.text}),c.sub&&i.jsx("p",{className:"text-gray-400 text-[9px]",children:c.sub})]})]},d))}),i.jsxs("button",{onClick:()=>n(),className:`w-full py-3 rounded-xl font-black text-sm text-white shadow-xl flex items-center justify-center gap-2 transition-all transform hover:-translate-y-1 active:scale-95 bg-gradient-to-r ${o.gradient} hover:shadow-${o.color}-900/30 mb-3`,children:[i.jsx(yd,{className:"w-4 h-4"}),"   "]}),i.jsxs("div",{className:"pt-2 border-t border-gray-800 text-center",children:[i.jsxs("p",{className:"text-[9px] text-gray-400 font-bold mb-2 flex items-center justify-center gap-1",children:[i.jsx(B1,{className:"w-2.5 h-2.5"}),"  :"]}),i.jsxs("div",{className:"flex flex-wrap justify-center gap-2 text-[9px] font-bold text-gray-300",children:[i.jsxs("div",{className:"bg-gray-800 px-2 py-1 rounded-lg border border-gray-700 flex items-center gap-1",children:[i.jsx(dL,{className:"w-2.5 h-2.5 text-blue-400"})," PalPay"]}),i.jsxs("div",{className:"bg-gray-800 px-2 py-1 rounded-lg border border-gray-700 flex items-center gap-1",children:[i.jsx(Ef,{className:"w-2.5 h-2.5 text-yellow-400"})," Reflect"]}),i.jsxs("div",{className:"bg-gray-800 px-2 py-1 rounded-lg border border-gray-700 flex items-center gap-1",children:[i.jsx(mK,{className:"w-2.5 h-2.5 text-green-400"})," Jawwal Pay"]}),i.jsxs("div",{className:"bg-gray-800 px-2 py-1 rounded-lg border border-gray-700 flex items-center gap-1",children:[i.jsx(ni,{className:"w-2.5 h-2.5 text-purple-400"}),"  "]})]})]})]})]})}),e==="university"&&i.jsxs("div",{className:"max-w-4xl mx-auto px-4 pb-20 relative z-10 w-full mt-12",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsx("h2",{className:"text-2xl font-black text-white mb-2",children:"  "}),i.jsx("p",{className:"text-gray-400 text-sm",children:"     "})]}),i.jsx("div",{className:"grid grid-cols-2 gap-3 md:gap-4",children:l.map((c,d)=>i.jsxs("div",{className:`bg-gray-900 rounded-3xl p-4 md:p-6 relative overflow-hidden group hover:-translate-y-1 transition-all duration-300 border ${c.border} flex flex-col items-center text-center`,children:[i.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${c.gradient} opacity-5 group-hover:opacity-10 transition-opacity`}),i.jsx("div",{className:`w-14 h-14 rounded-2xl bg-gradient-to-br ${c.gradient} flex items-center justify-center mb-4 shadow-lg ${c.shadow} group-hover:scale-110 transition-transform duration-300`,children:i.jsx(c.icon,{className:"w-7 h-7 text-white"})}),i.jsx("h3",{className:"text-sm md:text-lg font-black text-white mb-2 leading-tight",children:c.title}),i.jsx("p",{className:"text-gray-400 text-[10px] md:text-xs leading-relaxed mb-4 line-clamp-3",children:c.desc}),i.jsxs("button",{onClick:()=>n(c.fullTitle),className:"mt-auto bg-gray-800 hover:bg-gray-700 text-white text-[10px] md:text-xs font-bold py-2 px-4 rounded-xl transition-colors flex items-center gap-1.5 border border-gray-700 hover:border-gray-600 w-full justify-center",children:[i.jsx(yd,{className:"w-3 h-3"})," "]})]},d))})]})]}):i.jsxs("div",{className:"min-h-screen bg-gray-950 animate-fade-in flex flex-col transition-colors duration-300 text-gray-100 pt-28",children:[i.jsx("div",{className:"max-w-4xl mx-auto px-4 pb-2 w-full",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("button",{onClick:r,className:"p-2 bg-gray-900/50 hover:bg-gray-800 rounded-xl transition-all text-gray-400 hover:text-white border border-white/10 shadow-lg backdrop-blur-sm",children:i.jsx(an,{className:"w-5 h-5"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-xl font-black text-white leading-none mb-1",children:""}),i.jsxs("div",{className:"flex items-center gap-1.5 text-xs font-bold text-gray-500",children:[i.jsx(zn,{className:"w-3.5 h-3.5"}),i.jsx("span",{children:""}),i.jsx("span",{children:"/"}),i.jsx("span",{children:" "})]})]})]})}),i.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center p-4 pb-20",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-1.5 rounded-full bg-emerald-500/10 border border-emerald-500/20 text-emerald-400 text-sm font-bold mb-4 animate-pulse",children:[i.jsx(_1,{className:"w-4 h-4"}),i.jsx("span",{children:"  "})]}),i.jsx("h2",{className:"text-3xl font-black text-white",children:"  "})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 w-full max-w-2xl",children:[i.jsxs("button",{onClick:()=>t("school"),className:"group relative bg-gray-900 rounded-[2rem] p-6 border-2 border-gray-800 hover:border-emerald-500 transition-all duration-300 hover:shadow-[0_0_40px_rgba(16,185,129,0.15)] flex flex-col items-center text-center overflow-hidden",children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-emerald-900/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"}),i.jsx("div",{className:"w-20 h-20 bg-emerald-900/20 rounded-full flex items-center justify-center mb-4 group-hover:scale-110 transition-transform border border-emerald-500/20",children:i.jsx(xA,{className:"w-8 h-8 text-emerald-400"})}),i.jsx("h3",{className:"text-xl font-black text-white mb-1",children:" "}),i.jsx("p",{className:"text-gray-400 text-xs font-medium mb-4",children:"  (5 - 12)"}),i.jsx("span",{className:"mt-auto bg-gray-800 text-white px-5 py-2 rounded-xl font-bold text-xs group-hover:bg-emerald-600 transition-colors",children:" "})]}),i.jsxs("button",{onClick:()=>t("university"),className:"group relative bg-gray-900 rounded-[2rem] p-6 border-2 border-gray-800 hover:border-blue-500 transition-all duration-300 hover:shadow-[0_0_40px_rgba(59,130,246,0.15)] flex flex-col items-center text-center overflow-hidden",children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-blue-900/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"}),i.jsx("div",{className:"w-20 h-20 bg-blue-900/20 rounded-full flex items-center justify-center mb-4 group-hover:scale-110 transition-transform border border-blue-500/20",children:i.jsx(ni,{className:"w-8 h-8 text-blue-400"})}),i.jsx("h3",{className:"text-xl font-black text-white mb-1",children:" "}),i.jsx("p",{className:"text-gray-400 text-xs font-medium mb-4",children:"  "}),i.jsx("span",{className:"mt-auto bg-gray-800 text-white px-5 py-2 rounded-xl font-bold text-xs group-hover:bg-blue-600 transition-colors",children:"  "})]})]})]})]})},mK=({className:r})=>i.jsxs("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:r,children:[i.jsx("rect",{x:"5",y:"2",width:"14",height:"20",rx:"2",ry:"2"}),i.jsx("line",{x1:"12",y1:"18",x2:"12.01",y2:"18"})]}),Z2="etqan_active_subs_v3_strict",pK=1440*60*1e3,xK=({expiryDate:r})=>{const[e,t]=he.useState(""),[n,s]=he.useState(!1);return he.useEffect(()=>{const o=()=>{let d=0;if(!r)return 0;r.seconds?d=r.seconds*1e3:r instanceof Date?d=r.getTime():d=new Date(r).getTime();const h=Date.now(),g=d-h;return g<=0?(s(!0),0):g},l=()=>{const d=o();if(d<=0){t("");return}const h=Math.floor(d/(1e3*60*60*24)),g=Math.floor(d%(1e3*60*60*24)/(1e3*60*60)),x=Math.floor(d%(1e3*60*60)/(1e3*60));h>0?t(`${h}   ${g} `):t(`${g}:${x.toString().padStart(2,"0")}`)};l();const c=setInterval(l,6e4);return()=>clearInterval(c)},[r]),i.jsx("span",{className:`font-mono font-bold text-[10px] ${n?"text-red-400":"text-emerald-400"}`,children:e})},bK=({onBack:r})=>{const{user:e}=go(),[t,n]=he.useState([]),[s,o]=he.useState([]),[l,c]=he.useState(""),[d,h]=he.useState(!1),[g,x]=he.useState(null),[B,w]=he.useState(null);he.useEffect(()=>{(async()=>{const ne=localStorage.getItem(Z2),le=Date.now();if(ne)try{const{data:R,timestamp:U}=JSON.parse(ne);le-U<pK&&o(R)}catch(R){console.error("Cache parse error",R)}try{const R=ya(bn(yr,"subscriptions"),Df("expiryDate","desc")),U=await yi(R),S=[];U.forEach(P=>{S.push({id:P.id,...P.data()})}),o(S),localStorage.setItem(Z2,JSON.stringify({data:S,timestamp:le}))}catch(R){console.error("Error fetching subscription collection:",R)}})()},[]);const I=async()=>{if(!l.trim())return;h(!0),n([]);const z=l.trim();let ne=[];try{const le=Da(yr,"users",z);try{const R=await OP(le);R.exists()&&ne.push({id:R.id,...R.data()})}catch{}if(ne.length===0){const R=[ya(bn(yr,"users"),wa("email","==",z)),ya(bn(yr,"users"),wa("displayName",">=",z),wa("displayName","<=",z+""),Of(5))];(await Promise.all(R.map(S=>yi(S)))).forEach(S=>{S.forEach(P=>{const E=P.data();ne.find(F=>F.id===P.id)||ne.push({id:P.id,...E})})})}n(ne)}catch(le){console.error("Error searching user",le),alert("   ")}finally{h(!1)}},j=(z,ne,le,R)=>{w({isOpen:!0,studentId:z,isCurrentlyActive:ne,studentName:le,studentData:R})},M=async()=>{if(!B)return;const{studentId:z,isCurrentlyActive:ne,studentName:le,studentData:R}=B;w(null),x(z);try{const U=Da(yr,"users",z),S=Da(yr,"subscriptions",z),P=!ne,E=30,F=P?new Date(Date.now()+E*24*60*60*1e3):null,Q=F?{seconds:Math.floor(F.getTime()/1e3)}:null;if(P){const xe={studentId:z,displayName:R.displayName||le,email:R.email||"",avatar:R.avatar||"",grade:R.grade||"",isActive:!0,startDate:Ki(),expiryDate:F};await qx(S,xe),await _f(U,{isSubscriber:!0,subscriptionExpiry:F}),o(ie=>[{...xe,id:z,expiryDate:Q},...ie.filter(Ae=>Ae.id!==z)])}else await um(S),await _f(U,{isSubscriber:!1,subscriptionExpiry:null}),o(xe=>xe.filter(ie=>ie.id!==z));n(xe=>xe.map(ie=>ie.id===z?{...ie,isSubscriber:P,subscriptionExpiry:Q}:ie));const J=P?[{...R,id:z,expiryDate:Q},...s]:s.filter(xe=>xe.id!==z);localStorage.setItem(Z2,JSON.stringify({data:J,timestamp:Date.now()}))}catch(U){console.error("Error updating subscription",U),alert("    ")}finally{x(null)}},L=()=>{n([]),c("")},X=z=>{if(!z)return"-";let ne;return z.seconds?ne=new Date(z.seconds*1e3):ne=new Date(z),ne.toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"}).replace(",","")},V=z=>z==="English Major - QOU"||z&&z.includes("University");return i.jsxs("div",{className:"min-h-screen bg-gray-950 animate-fade-in transition-colors duration-300 text-gray-100",children:[i.jsx("div",{className:"max-w-6xl mx-auto px-4 pt-2 pb-2 relative z-30",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("button",{onClick:r,className:"p-2 bg-gray-900/50 hover:bg-gray-800 rounded-xl transition-all text-gray-400 hover:text-white border border-gray-800 shadow-lg group backdrop-blur-sm",children:i.jsx(an,{className:"w-4 h-4 group-hover:-translate-x-1 transition-transform"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-lg font-black text-white tracking-tight mb-0.5",children:" "}),i.jsxs("div",{className:"flex items-center gap-1.5 text-[10px] md:text-xs font-medium text-gray-500",children:[i.jsxs("span",{onClick:r,className:"hover:text-emerald-400 cursor-pointer transition-colors flex items-center gap-1",children:[i.jsx(zn,{className:"w-3 h-3"})," "]}),i.jsx("span",{className:"text-gray-700",children:"/"}),i.jsxs("span",{className:"text-emerald-500 flex items-center gap-1",children:[i.jsx(B1,{className:"w-3 h-3"}),"  "]})]})]})]})}),i.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-4 space-y-8",children:[i.jsxs("div",{className:"bg-gray-900 rounded-[2.5rem] shadow-xl border border-gray-700 p-6 md:p-8 animate-fade-in-up",children:[i.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-6 mb-8 border-b border-gray-700 pb-6",children:[i.jsxs("div",{children:[i.jsxs("h2",{className:"text-2xl font-black text-white flex items-center gap-2 mb-2",children:[i.jsx(B1,{className:"w-8 h-8 text-amber-500"}),"  "]}),i.jsx("p",{className:"text-gray-400 text-sm",children:"        "})]}),i.jsxs("div",{className:"flex gap-2 w-full md:w-auto",children:[i.jsxs("div",{className:"relative w-full md:w-80",children:[i.jsx("input",{type:"text",placeholder:"    ID...",value:l,onChange:z=>c(z.target.value),onKeyDown:z=>z.key==="Enter"&&I(),className:"w-full px-5 py-3 rounded-xl bg-gray-800 border border-gray-700 focus:border-amber-500 outline-none text-white font-bold transition-all text-sm pr-10"}),l&&i.jsx("button",{onClick:L,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-white",children:i.jsx(ba,{className:"w-4 h-4"})})]}),i.jsx("button",{onClick:I,disabled:d,className:"bg-amber-600 hover:bg-amber-700 text-white px-4 rounded-xl flex items-center justify-center transition-colors shadow-lg disabled:opacity-50",children:d?i.jsx(zr,{className:"w-5 h-5 animate-spin"}):i.jsx(zi,{className:"w-5 h-5"})})]})]}),i.jsx("div",{className:"overflow-x-auto min-h-[100px]",children:t.length===0?i.jsxs("div",{className:"flex flex-col items-center justify-center h-32 text-gray-500 bg-gray-800/20 rounded-3xl border border-dashed border-gray-800",children:[i.jsx(zi,{className:"w-10 h-10 mb-3 opacity-20"}),i.jsx("p",{className:"font-bold text-sm",children:"   .   ."})]}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsxs("span",{className:"text-sm font-bold text-gray-400",children:["  (",t.length,")"]}),i.jsxs("button",{onClick:L,className:"text-[10px] text-red-400 hover:text-red-300 flex items-center gap-1 bg-red-900/10 px-3 py-1.5 rounded-lg border border-red-900/30 transition-colors",children:[i.jsx(Al,{className:"w-3 h-3"}),"  "]})]}),i.jsxs("table",{className:"w-full text-right border-collapse",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"border-b border-gray-700 text-gray-400 text-[10px] uppercase tracking-wider font-bold",children:[i.jsx("th",{className:"pb-3 pr-4",children:""}),i.jsx("th",{className:"pb-3",children:" "}),i.jsx("th",{className:"pb-3",children:" (ID)"}),i.jsx("th",{className:"pb-3",children:" "}),i.jsx("th",{className:"pb-3 pl-4 text-left",children:""})]})}),i.jsx("tbody",{className:"divide-y divide-gray-800",children:t.map(z=>i.jsxs("tr",{className:"group hover:bg-gray-800/50 transition-colors",children:[i.jsx("td",{className:"py-3 pr-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-700 flex items-center justify-center overflow-hidden border border-gray-600 shrink-0",children:z.avatar?i.jsx("img",{src:z.avatar,className:"w-full h-full object-cover",alt:"avatar"}):i.jsx(sc,{className:"w-4 h-4 text-gray-400"})}),i.jsxs("div",{children:[i.jsx("div",{className:"font-bold text-white text-xs",children:z.displayName}),i.jsx("div",{className:"text-[10px] text-gray-500",children:z.email})]})]})}),i.jsx("td",{className:"py-3",children:V(z.grade)?i.jsxs("span",{className:"inline-flex items-center gap-1 bg-blue-900/30 text-blue-400 px-2 py-0.5 rounded-full text-[10px] font-bold border border-blue-500/20",children:[i.jsx(ni,{className:"w-3 h-3"})," "]}):i.jsxs("span",{className:"inline-flex items-center gap-1 bg-emerald-900/30 text-emerald-400 px-2 py-0.5 rounded-full text-[10px] font-bold border border-emerald-500/20",children:[i.jsx(xA,{className:"w-3 h-3"})," "]})}),i.jsx("td",{className:"py-3 font-mono text-[10px] text-amber-200/70 select-all",children:z.id}),i.jsx("td",{className:"py-3",children:z.isSubscriber?i.jsxs("span",{className:"inline-flex items-center gap-1 bg-green-900/30 text-green-400 px-2 py-0.5 rounded-full text-[10px] font-bold border border-green-500/20",children:[i.jsx(ts,{className:"w-3 h-3"})," "]}):i.jsx("span",{className:"inline-flex items-center gap-1 bg-gray-700/50 text-gray-400 px-2 py-0.5 rounded-full text-[10px] font-bold border border-gray-600",children:" "})}),i.jsx("td",{className:"py-3 pl-4 text-left",children:i.jsx("button",{onClick:()=>j(z.id,z.isSubscriber,z.displayName,z),disabled:g===z.id,className:`px-3 py-1.5 rounded-lg text-[10px] font-bold transition-all flex items-center justify-center gap-1 ml-auto w-28 ${g===z.id?"bg-gray-700 cursor-not-allowed text-gray-400":z.isSubscriber?"bg-red-900/20 text-red-400 hover:bg-red-900/40 border border-red-900/30":"bg-amber-600 text-white hover:bg-amber-700 shadow-md hover:shadow-amber-900/20"}`,children:g===z.id?i.jsx(zr,{className:"w-3 h-3 animate-spin"}):z.isSubscriber?i.jsxs(i.Fragment,{children:[i.jsx(Ap,{className:"w-3 h-3"})," "]}):i.jsxs(i.Fragment,{children:[i.jsx(IN,{className:"w-3 h-3"})," 30 "]})})})]},z.id))})]})]})})]}),i.jsxs("div",{className:"bg-gray-900 rounded-[2.5rem] shadow-xl border border-emerald-500/20 p-6 md:p-8 animate-fade-in-up",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-6 border-b border-gray-800 pb-4",children:[i.jsx("div",{className:"p-2 bg-emerald-500/10 rounded-xl border border-emerald-500/20",children:i.jsx(zg,{className:"w-6 h-6 text-emerald-500"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-black text-white",children:"  "}),i.jsxs("p",{className:"text-xs text-gray-400",children:["     (Real-time DB) - : ",s.length]})]})]}),s.length===0?i.jsxs("div",{className:"text-center py-10 text-gray-500",children:[i.jsx(Ap,{className:"w-12 h-12 mx-auto mb-3 opacity-20"}),i.jsx("p",{children:"      "})]}):i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:s.map(z=>i.jsxs("div",{className:"bg-gray-800/50 rounded-2xl p-4 border border-emerald-500/10 hover:border-emerald-500/30 transition-all flex items-center justify-between group",children:[i.jsxs("div",{className:"flex items-center gap-3 overflow-hidden",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-700 flex items-center justify-center overflow-hidden border border-gray-600 shrink-0",children:z.avatar?i.jsx("img",{src:z.avatar,className:"w-full h-full object-cover",alt:"avatar"}):i.jsx(sc,{className:"w-5 h-5 text-gray-400"})}),i.jsxs("div",{className:"min-w-0",children:[i.jsxs("h4",{className:"font-bold text-white text-xs truncate flex items-center gap-1",children:[z.displayName,V(z.grade)&&i.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-blue-500",title:" "})]}),i.jsxs("div",{className:"flex items-center gap-1 text-[9px] text-gray-400 font-mono mt-0.5",children:[i.jsx(xg,{className:"w-2.5 h-2.5 text-emerald-500"}),": ",X(z.expiryDate||z.subscriptionExpiry)]}),i.jsxs("div",{className:"flex items-center gap-1 text-[9px] mt-0.5 bg-gray-900/50 w-fit px-1.5 py-0.5 rounded border border-gray-700",children:[i.jsx(xS,{className:"w-2.5 h-2.5 text-emerald-400"}),i.jsx(xK,{expiryDate:z.expiryDate||z.subscriptionExpiry})]})]})]}),i.jsx("button",{onClick:()=>j(z.id,!0,z.displayName,z),disabled:g===z.id,className:"bg-red-500/10 hover:bg-red-500/20 text-red-400 p-2 rounded-lg transition-colors disabled:opacity-50",title:" ",children:g===z.id?i.jsx(zr,{className:"w-4 h-4 animate-spin"}):i.jsx(Ap,{className:"w-4 h-4"})})]},z.id))})]})]}),B&&i.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center px-4 bg-black/80 backdrop-blur-sm animate-fade-in",children:i.jsxs("div",{className:"bg-gray-900 rounded-[2.5rem] p-8 max-w-sm w-full border border-gray-700 shadow-2xl relative text-center animate-fade-in-up",children:[i.jsx("div",{className:`w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-6 shadow-lg border-4 border-gray-800 ${B.isCurrentlyActive?"bg-red-500/20 text-red-500":"bg-green-500/20 text-green-500"}`,children:B.isCurrentlyActive?i.jsx(Ap,{className:"w-10 h-10"}):i.jsx(IN,{className:"w-10 h-10"})}),i.jsx("h3",{className:"text-2xl font-black text-white mb-3",children:B.isCurrentlyActive?" ":" "}),i.jsx("p",{className:"text-gray-400 mb-8 text-base font-medium leading-relaxed",children:B.isCurrentlyActive?i.jsxs(i.Fragment,{children:["       ",i.jsx("span",{className:"text-white font-bold",children:B.studentName}),"         ."]}):i.jsxs(i.Fragment,{children:["     ",i.jsx("span",{className:"text-white font-bold",children:B.studentName}),"  30      ."]})}),i.jsxs("div",{className:"flex gap-4 justify-center",children:[i.jsx("button",{onClick:M,className:`flex-1 py-3.5 rounded-xl font-bold text-white transition-all shadow-lg transform hover:scale-105 active:scale-95 ${B.isCurrentlyActive?"bg-gradient-to-r from-red-600 to-pink-600 shadow-red-900/30":"bg-gradient-to-r from-emerald-600 to-teal-600 shadow-emerald-900/30"}`,children:B.isCurrentlyActive?" ":" "}),i.jsx("button",{onClick:()=>w(null),className:"flex-1 bg-gray-800 text-gray-300 py-3.5 rounded-xl font-bold hover:bg-gray-700 transition-colors border border-gray-700",children:""})]})]})})]})};/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Fw=function(r,e){return Fw=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])},Fw(r,e)};function _A(r,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Fw(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var kw=function(){return kw=Object.assign||function(e){for(var t,n=1,s=arguments.length;n<s;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},kw.apply(this,arguments)};function mi(r,e,t,n){function s(o){return o instanceof t?o:new t(function(l){l(o)})}return new(t||(t=Promise))(function(o,l){function c(g){try{h(n.next(g))}catch(x){l(x)}}function d(g){try{h(n.throw(g))}catch(x){l(x)}}function h(g){g.done?o(g.value):s(g.value).then(c,d)}h((n=n.apply(r,[])).next())})}function Ja(r,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,s,o,l;return l={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function c(h){return function(g){return d([h,g])}}function d(h){if(n)throw new TypeError("Generator is already executing.");for(;t;)try{if(n=1,s&&(o=h[0]&2?s.return:h[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,h[1])).done)return o;switch(s=0,o&&(h=[h[0]&2,o.value]),h[0]){case 0:case 1:o=h;break;case 4:return t.label++,{value:h[1],done:!1};case 5:t.label++,s=h[1],h=[0];continue;case 7:h=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(h[0]===6||h[0]===2)){t=0;continue}if(h[0]===3&&(!o||h[1]>o[0]&&h[1]<o[3])){t.label=h[1];break}if(h[0]===6&&t.label<o[1]){t.label=o[1],o=h;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(h);break}o[2]&&t.ops.pop(),t.trys.pop();continue}h=e.call(r,t)}catch(g){h=[6,g],s=0}finally{n=o=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}}function xp(r,e,t){if(arguments.length===2)for(var n=0,s=e.length,o;n<s;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return r.concat(o||e)}var lc=(function(){function r(e,t,n,s){this.left=e,this.top=t,this.width=n,this.height=s}return r.prototype.add=function(e,t,n,s){return new r(this.left+e,this.top+t,this.width+n,this.height+s)},r.fromClientRect=function(e,t){return new r(t.left+e.windowBounds.left,t.top+e.windowBounds.top,t.width,t.height)},r.fromDOMRectList=function(e,t){var n=Array.from(t).find(function(s){return s.width!==0});return n?new r(n.left+e.windowBounds.left,n.top+e.windowBounds.top,n.width,n.height):r.EMPTY},r.EMPTY=new r(0,0,0,0),r})(),Yx=function(r,e){return lc.fromClientRect(r,e.getBoundingClientRect())},yK=function(r){var e=r.body,t=r.documentElement;if(!e||!t)throw new Error("Unable to get document size");var n=Math.max(Math.max(e.scrollWidth,t.scrollWidth),Math.max(e.offsetWidth,t.offsetWidth),Math.max(e.clientWidth,t.clientWidth)),s=Math.max(Math.max(e.scrollHeight,t.scrollHeight),Math.max(e.offsetHeight,t.offsetHeight),Math.max(e.clientHeight,t.clientHeight));return new lc(0,0,n,s)},Wx=function(r){for(var e=[],t=0,n=r.length;t<n;){var s=r.charCodeAt(t++);if(s>=55296&&s<=56319&&t<n){var o=r.charCodeAt(t++);(o&64512)===56320?e.push(((s&1023)<<10)+(o&1023)+65536):(e.push(s),t--)}else e.push(s)}return e},Es=function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,r);var t=r.length;if(!t)return"";for(var n=[],s=-1,o="";++s<t;){var l=r[s];l<=65535?n.push(l):(l-=65536,n.push((l>>10)+55296,l%1024+56320)),(s+1===t||n.length>16384)&&(o+=String.fromCharCode.apply(String,n),n.length=0)}return o},qC="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",wK=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var bp=0;bp<qC.length;bp++)wK[qC.charCodeAt(bp)]=bp;var GC="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",K0=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var yp=0;yp<GC.length;yp++)K0[GC.charCodeAt(yp)]=yp;var vK=function(r){var e=r.length*.75,t=r.length,n,s=0,o,l,c,d;r[r.length-1]==="="&&(e--,r[r.length-2]==="="&&e--);var h=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),g=Array.isArray(h)?h:new Uint8Array(h);for(n=0;n<t;n+=4)o=K0[r.charCodeAt(n)],l=K0[r.charCodeAt(n+1)],c=K0[r.charCodeAt(n+2)],d=K0[r.charCodeAt(n+3)],g[s++]=o<<2|l>>4,g[s++]=(l&15)<<4|c>>2,g[s++]=(c&3)<<6|d&63;return h},BK=function(r){for(var e=r.length,t=[],n=0;n<e;n+=2)t.push(r[n+1]<<8|r[n]);return t},NK=function(r){for(var e=r.length,t=[],n=0;n<e;n+=4)t.push(r[n+3]<<24|r[n+2]<<16|r[n+1]<<8|r[n]);return t},pd=5,M5=11,ey=2,_K=M5-pd,dT=65536>>pd,CK=1<<pd,ty=CK-1,EK=1024>>pd,SK=dT+EK,IK=SK,jK=32,TK=IK+jK,UK=65536>>M5,FK=1<<_K,kK=FK-1,$C=function(r,e,t){return r.slice?r.slice(e,t):new Uint16Array(Array.prototype.slice.call(r,e,t))},QK=function(r,e,t){return r.slice?r.slice(e,t):new Uint32Array(Array.prototype.slice.call(r,e,t))},LK=function(r,e){var t=vK(r),n=Array.isArray(t)?NK(t):new Uint32Array(t),s=Array.isArray(t)?BK(t):new Uint16Array(t),o=24,l=$C(s,o/2,n[4]/2),c=n[5]===2?$C(s,(o+n[4])/2):QK(n,Math.ceil((o+n[4])/4));return new RK(n[0],n[1],n[2],n[3],l,c)},RK=(function(){function r(e,t,n,s,o,l){this.initialValue=e,this.errorValue=t,this.highStart=n,this.highValueIndex=s,this.index=o,this.data=l}return r.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=this.index[e>>pd],t=(t<<ey)+(e&ty),this.data[t];if(e<=65535)return t=this.index[dT+(e-55296>>pd)],t=(t<<ey)+(e&ty),this.data[t];if(e<this.highStart)return t=TK-UK+(e>>M5),t=this.index[t],t+=e>>pd&kK,t=this.index[t],t=(t<<ey)+(e&ty),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},r})(),XC="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",DK=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var wp=0;wp<XC.length;wp++)DK[XC.charCodeAt(wp)]=wp;var OK="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",YC=50,MK=1,hT=2,fT=3,PK=4,HK=5,WC=7,gT=8,JC=9,su=10,Qw=11,ZC=12,Lw=13,VK=14,z0=15,Rw=16,vp=17,T0=18,KK=19,e3=20,Dw=21,U0=22,ry=23,_h=24,oo=25,q0=26,G0=27,Ch=28,zK=29,od=30,qK=31,Bp=32,Np=33,Ow=34,Mw=35,Pw=36,Dg=37,Hw=38,h1=39,f1=40,ny=41,mT=42,GK=43,$K=[9001,65288],pT="!",Mr="",_p="",Vw=LK(OK),ql=[od,Pw],Kw=[MK,hT,fT,HK],xT=[su,gT],t3=[G0,q0],XK=Kw.concat(xT),r3=[Hw,h1,f1,Ow,Mw],YK=[z0,Lw],WK=function(r,e){e===void 0&&(e="strict");var t=[],n=[],s=[];return r.forEach(function(o,l){var c=Vw.get(o);if(c>YC?(s.push(!0),c-=YC):s.push(!1),["normal","auto","loose"].indexOf(e)!==-1&&[8208,8211,12316,12448].indexOf(o)!==-1)return n.push(l),t.push(Rw);if(c===PK||c===Qw){if(l===0)return n.push(l),t.push(od);var d=t[l-1];return XK.indexOf(d)===-1?(n.push(n[l-1]),t.push(d)):(n.push(l),t.push(od))}if(n.push(l),c===qK)return t.push(e==="strict"?Dw:Dg);if(c===mT||c===zK)return t.push(od);if(c===GK)return o>=131072&&o<=196605||o>=196608&&o<=262141?t.push(Dg):t.push(od);t.push(c)}),[n,t,s]},sy=function(r,e,t,n){var s=n[t];if(Array.isArray(r)?r.indexOf(s)!==-1:r===s)for(var o=t;o<=n.length;){o++;var l=n[o];if(l===e)return!0;if(l!==su)break}if(s===su)for(var o=t;o>0;){o--;var c=n[o];if(Array.isArray(r)?r.indexOf(c)!==-1:r===c)for(var d=t;d<=n.length;){d++;var l=n[d];if(l===e)return!0;if(l!==su)break}if(c!==su)break}return!1},n3=function(r,e){for(var t=r;t>=0;){var n=e[t];if(n===su)t--;else return n}return 0},JK=function(r,e,t,n,s){if(t[n]===0)return Mr;var o=n-1;if(Array.isArray(s)&&s[o]===!0)return Mr;var l=o-1,c=o+1,d=e[o],h=l>=0?e[l]:0,g=e[c];if(d===hT&&g===fT)return Mr;if(Kw.indexOf(d)!==-1)return pT;if(Kw.indexOf(g)!==-1||xT.indexOf(g)!==-1)return Mr;if(n3(o,e)===gT)return _p;if(Vw.get(r[o])===Qw||(d===Bp||d===Np)&&Vw.get(r[c])===Qw||d===WC||g===WC||d===JC||[su,Lw,z0].indexOf(d)===-1&&g===JC||[vp,T0,KK,_h,Ch].indexOf(g)!==-1||n3(o,e)===U0||sy(ry,U0,o,e)||sy([vp,T0],Dw,o,e)||sy(ZC,ZC,o,e))return Mr;if(d===su)return _p;if(d===ry||g===ry)return Mr;if(g===Rw||d===Rw)return _p;if([Lw,z0,Dw].indexOf(g)!==-1||d===VK||h===Pw&&YK.indexOf(d)!==-1||d===Ch&&g===Pw||g===e3||ql.indexOf(g)!==-1&&d===oo||ql.indexOf(d)!==-1&&g===oo||d===G0&&[Dg,Bp,Np].indexOf(g)!==-1||[Dg,Bp,Np].indexOf(d)!==-1&&g===q0||ql.indexOf(d)!==-1&&t3.indexOf(g)!==-1||t3.indexOf(d)!==-1&&ql.indexOf(g)!==-1||[G0,q0].indexOf(d)!==-1&&(g===oo||[U0,z0].indexOf(g)!==-1&&e[c+1]===oo)||[U0,z0].indexOf(d)!==-1&&g===oo||d===oo&&[oo,Ch,_h].indexOf(g)!==-1)return Mr;if([oo,Ch,_h,vp,T0].indexOf(g)!==-1)for(var x=o;x>=0;){var B=e[x];if(B===oo)return Mr;if([Ch,_h].indexOf(B)!==-1)x--;else break}if([G0,q0].indexOf(g)!==-1)for(var x=[vp,T0].indexOf(d)!==-1?l:o;x>=0;){var B=e[x];if(B===oo)return Mr;if([Ch,_h].indexOf(B)!==-1)x--;else break}if(Hw===d&&[Hw,h1,Ow,Mw].indexOf(g)!==-1||[h1,Ow].indexOf(d)!==-1&&[h1,f1].indexOf(g)!==-1||[f1,Mw].indexOf(d)!==-1&&g===f1||r3.indexOf(d)!==-1&&[e3,q0].indexOf(g)!==-1||r3.indexOf(g)!==-1&&d===G0||ql.indexOf(d)!==-1&&ql.indexOf(g)!==-1||d===_h&&ql.indexOf(g)!==-1||ql.concat(oo).indexOf(d)!==-1&&g===U0&&$K.indexOf(r[c])===-1||ql.concat(oo).indexOf(g)!==-1&&d===T0)return Mr;if(d===ny&&g===ny){for(var w=t[o],I=1;w>0&&(w--,e[w]===ny);)I++;if(I%2!==0)return Mr}return d===Bp&&g===Np?Mr:_p},ZK=function(r,e){e||(e={lineBreak:"normal",wordBreak:"normal"});var t=WK(r,e.lineBreak),n=t[0],s=t[1],o=t[2];(e.wordBreak==="break-all"||e.wordBreak==="break-word")&&(s=s.map(function(c){return[oo,od,mT].indexOf(c)!==-1?Dg:c}));var l=e.wordBreak==="keep-all"?o.map(function(c,d){return c&&r[d]>=19968&&r[d]<=40959}):void 0;return[n,s,l]},ez=(function(){function r(e,t,n,s){this.codePoints=e,this.required=t===pT,this.start=n,this.end=s}return r.prototype.slice=function(){return Es.apply(void 0,this.codePoints.slice(this.start,this.end))},r})(),tz=function(r,e){var t=Wx(r),n=ZK(t,e),s=n[0],o=n[1],l=n[2],c=t.length,d=0,h=0;return{next:function(){if(h>=c)return{done:!0,value:null};for(var g=Mr;h<c&&(g=JK(t,o,s,++h,l))===Mr;);if(g!==Mr||h===c){var x=new ez(t,g,d,h);return d=h,{value:x,done:!1}}return{done:!0,value:null}}}},rz=1,nz=2,hm=4,s3=8,rx=10,a3=47,Ag=92,sz=9,az=32,Cp=34,F0=61,iz=35,oz=36,Az=37,Ep=39,Sp=40,k0=41,lz=95,Pi=45,cz=33,uz=60,dz=62,hz=64,fz=91,gz=93,mz=61,pz=123,Ip=63,xz=125,i3=124,bz=126,yz=128,o3=65533,ay=42,ud=43,wz=44,vz=58,Bz=59,Og=46,Nz=0,_z=8,Cz=11,Ez=14,Sz=31,Iz=127,YA=-1,bT=48,yT=97,wT=101,jz=102,Tz=117,Uz=122,vT=65,BT=69,NT=70,Fz=85,kz=90,ti=function(r){return r>=bT&&r<=57},Qz=function(r){return r>=55296&&r<=57343},Eh=function(r){return ti(r)||r>=vT&&r<=NT||r>=yT&&r<=jz},Lz=function(r){return r>=yT&&r<=Uz},Rz=function(r){return r>=vT&&r<=kz},Dz=function(r){return Lz(r)||Rz(r)},Oz=function(r){return r>=yz},jp=function(r){return r===rx||r===sz||r===az},nx=function(r){return Dz(r)||Oz(r)||r===lz},A3=function(r){return nx(r)||ti(r)||r===Pi},Mz=function(r){return r>=Nz&&r<=_z||r===Cz||r>=Ez&&r<=Sz||r===Iz},Wc=function(r,e){return r!==Ag?!1:e!==rx},Tp=function(r,e,t){return r===Pi?nx(e)||Wc(e,t):nx(r)?!0:!!(r===Ag&&Wc(r,e))},iy=function(r,e,t){return r===ud||r===Pi?ti(e)?!0:e===Og&&ti(t):ti(r===Og?e:r)},Pz=function(r){var e=0,t=1;(r[e]===ud||r[e]===Pi)&&(r[e]===Pi&&(t=-1),e++);for(var n=[];ti(r[e]);)n.push(r[e++]);var s=n.length?parseInt(Es.apply(void 0,n),10):0;r[e]===Og&&e++;for(var o=[];ti(r[e]);)o.push(r[e++]);var l=o.length,c=l?parseInt(Es.apply(void 0,o),10):0;(r[e]===BT||r[e]===wT)&&e++;var d=1;(r[e]===ud||r[e]===Pi)&&(r[e]===Pi&&(d=-1),e++);for(var h=[];ti(r[e]);)h.push(r[e++]);var g=h.length?parseInt(Es.apply(void 0,h),10):0;return t*(s+c*Math.pow(10,-l))*Math.pow(10,d*g)},Hz={type:2},Vz={type:3},Kz={type:4},zz={type:13},qz={type:8},Gz={type:21},$z={type:9},Xz={type:10},Yz={type:11},Wz={type:12},Jz={type:14},Up={type:23},Zz={type:1},eq={type:25},tq={type:24},rq={type:26},nq={type:27},sq={type:28},aq={type:29},iq={type:31},zw={type:32},_T=(function(){function r(){this._value=[]}return r.prototype.write=function(e){this._value=this._value.concat(Wx(e))},r.prototype.read=function(){for(var e=[],t=this.consumeToken();t!==zw;)e.push(t),t=this.consumeToken();return e},r.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case Cp:return this.consumeStringToken(Cp);case iz:var t=this.peekCodePoint(0),n=this.peekCodePoint(1),s=this.peekCodePoint(2);if(A3(t)||Wc(n,s)){var o=Tp(t,n,s)?nz:rz,l=this.consumeName();return{type:5,value:l,flags:o}}break;case oz:if(this.peekCodePoint(0)===F0)return this.consumeCodePoint(),zz;break;case Ep:return this.consumeStringToken(Ep);case Sp:return Hz;case k0:return Vz;case ay:if(this.peekCodePoint(0)===F0)return this.consumeCodePoint(),Jz;break;case ud:if(iy(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case wz:return Kz;case Pi:var c=e,d=this.peekCodePoint(0),h=this.peekCodePoint(1);if(iy(c,d,h))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(Tp(c,d,h))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(d===Pi&&h===dz)return this.consumeCodePoint(),this.consumeCodePoint(),tq;break;case Og:if(iy(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case a3:if(this.peekCodePoint(0)===ay)for(this.consumeCodePoint();;){var g=this.consumeCodePoint();if(g===ay&&(g=this.consumeCodePoint(),g===a3))return this.consumeToken();if(g===YA)return this.consumeToken()}break;case vz:return rq;case Bz:return nq;case uz:if(this.peekCodePoint(0)===cz&&this.peekCodePoint(1)===Pi&&this.peekCodePoint(2)===Pi)return this.consumeCodePoint(),this.consumeCodePoint(),eq;break;case hz:var x=this.peekCodePoint(0),B=this.peekCodePoint(1),w=this.peekCodePoint(2);if(Tp(x,B,w)){var l=this.consumeName();return{type:7,value:l}}break;case fz:return sq;case Ag:if(Wc(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case gz:return aq;case mz:if(this.peekCodePoint(0)===F0)return this.consumeCodePoint(),qz;break;case pz:return Yz;case xz:return Wz;case Tz:case Fz:var I=this.peekCodePoint(0),j=this.peekCodePoint(1);return I===ud&&(Eh(j)||j===Ip)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case i3:if(this.peekCodePoint(0)===F0)return this.consumeCodePoint(),$z;if(this.peekCodePoint(0)===i3)return this.consumeCodePoint(),Gz;break;case bz:if(this.peekCodePoint(0)===F0)return this.consumeCodePoint(),Xz;break;case YA:return zw}return jp(e)?(this.consumeWhiteSpace(),iq):ti(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):nx(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:Es(e)}},r.prototype.consumeCodePoint=function(){var e=this._value.shift();return typeof e>"u"?-1:e},r.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},r.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},r.prototype.consumeUnicodeRangeToken=function(){for(var e=[],t=this.consumeCodePoint();Eh(t)&&e.length<6;)e.push(t),t=this.consumeCodePoint();for(var n=!1;t===Ip&&e.length<6;)e.push(t),t=this.consumeCodePoint(),n=!0;if(n){var s=parseInt(Es.apply(void 0,e.map(function(d){return d===Ip?bT:d})),16),o=parseInt(Es.apply(void 0,e.map(function(d){return d===Ip?NT:d})),16);return{type:30,start:s,end:o}}var l=parseInt(Es.apply(void 0,e),16);if(this.peekCodePoint(0)===Pi&&Eh(this.peekCodePoint(1))){this.consumeCodePoint(),t=this.consumeCodePoint();for(var c=[];Eh(t)&&c.length<6;)c.push(t),t=this.consumeCodePoint();var o=parseInt(Es.apply(void 0,c),16);return{type:30,start:l,end:o}}else return{type:30,start:l,end:l}},r.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return e.toLowerCase()==="url"&&this.peekCodePoint(0)===Sp?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===Sp?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},r.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===YA)return{type:22,value:""};var t=this.peekCodePoint(0);if(t===Ep||t===Cp){var n=this.consumeStringToken(this.consumeCodePoint());return n.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===YA||this.peekCodePoint(0)===k0)?(this.consumeCodePoint(),{type:22,value:n.value}):(this.consumeBadUrlRemnants(),Up)}for(;;){var s=this.consumeCodePoint();if(s===YA||s===k0)return{type:22,value:Es.apply(void 0,e)};if(jp(s))return this.consumeWhiteSpace(),this.peekCodePoint(0)===YA||this.peekCodePoint(0)===k0?(this.consumeCodePoint(),{type:22,value:Es.apply(void 0,e)}):(this.consumeBadUrlRemnants(),Up);if(s===Cp||s===Ep||s===Sp||Mz(s))return this.consumeBadUrlRemnants(),Up;if(s===Ag)if(Wc(s,this.peekCodePoint(0)))e.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),Up;else e.push(s)}},r.prototype.consumeWhiteSpace=function(){for(;jp(this.peekCodePoint(0));)this.consumeCodePoint()},r.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===k0||e===YA)return;Wc(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},r.prototype.consumeStringSlice=function(e){for(var t=5e4,n="";e>0;){var s=Math.min(t,e);n+=Es.apply(void 0,this._value.splice(0,s)),e-=s}return this._value.shift(),n},r.prototype.consumeStringToken=function(e){var t="",n=0;do{var s=this._value[n];if(s===YA||s===void 0||s===e)return t+=this.consumeStringSlice(n),{type:0,value:t};if(s===rx)return this._value.splice(0,n),Zz;if(s===Ag){var o=this._value[n+1];o!==YA&&o!==void 0&&(o===rx?(t+=this.consumeStringSlice(n),n=-1,this._value.shift()):Wc(s,o)&&(t+=this.consumeStringSlice(n),t+=Es(this.consumeEscapedCodePoint()),n=-1))}n++}while(!0)},r.prototype.consumeNumber=function(){var e=[],t=hm,n=this.peekCodePoint(0);for((n===ud||n===Pi)&&e.push(this.consumeCodePoint());ti(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0);var s=this.peekCodePoint(1);if(n===Og&&ti(s))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=s3;ti(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0),s=this.peekCodePoint(1);var o=this.peekCodePoint(2);if((n===BT||n===wT)&&((s===ud||s===Pi)&&ti(o)||ti(s)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=s3;ti(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[Pz(e),t]},r.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),t=e[0],n=e[1],s=this.peekCodePoint(0),o=this.peekCodePoint(1),l=this.peekCodePoint(2);if(Tp(s,o,l)){var c=this.consumeName();return{type:15,number:t,flags:n,unit:c}}return s===Az?(this.consumeCodePoint(),{type:16,number:t,flags:n}):{type:17,number:t,flags:n}},r.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(Eh(e)){for(var t=Es(e);Eh(this.peekCodePoint(0))&&t.length<6;)t+=Es(this.consumeCodePoint());jp(this.peekCodePoint(0))&&this.consumeCodePoint();var n=parseInt(t,16);return n===0||Qz(n)||n>1114111?o3:n}return e===YA?o3:e},r.prototype.consumeName=function(){for(var e="";;){var t=this.consumeCodePoint();if(A3(t))e+=Es(t);else if(Wc(t,this.peekCodePoint(0)))e+=Es(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(t),e}},r})(),CT=(function(){function r(e){this._tokens=e}return r.create=function(e){var t=new _T;return t.write(e),new r(t.read())},r.parseValue=function(e){return r.create(e).parseComponentValue()},r.parseValues=function(e){return r.create(e).parseComponentValues()},r.prototype.parseComponentValue=function(){for(var e=this.consumeToken();e.type===31;)e=this.consumeToken();if(e.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var t=this.consumeComponentValue();do e=this.consumeToken();while(e.type===31);if(e.type===32)return t;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},r.prototype.parseComponentValues=function(){for(var e=[];;){var t=this.consumeComponentValue();if(t.type===32)return e;e.push(t),e.push()}},r.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},r.prototype.consumeSimpleBlock=function(e){for(var t={type:e,values:[]},n=this.consumeToken();;){if(n.type===32||Aq(n,e))return t;this.reconsumeToken(n),t.values.push(this.consumeComponentValue()),n=this.consumeToken()}},r.prototype.consumeFunction=function(e){for(var t={name:e.value,values:[],type:18};;){var n=this.consumeToken();if(n.type===32||n.type===3)return t;this.reconsumeToken(n),t.values.push(this.consumeComponentValue())}},r.prototype.consumeToken=function(){var e=this._tokens.shift();return typeof e>"u"?zw:e},r.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},r})(),fm=function(r){return r.type===15},Mf=function(r){return r.type===17},Sn=function(r){return r.type===20},oq=function(r){return r.type===0},qw=function(r,e){return Sn(r)&&r.value===e},ET=function(r){return r.type!==31},Cf=function(r){return r.type!==31&&r.type!==4},pl=function(r){var e=[],t=[];return r.forEach(function(n){if(n.type===4){if(t.length===0)throw new Error("Error parsing function args, zero tokens for arg");e.push(t),t=[];return}n.type!==31&&t.push(n)}),t.length&&e.push(t),e},Aq=function(r,e){return e===11&&r.type===12||e===28&&r.type===29?!0:e===2&&r.type===3},_u=function(r){return r.type===17||r.type===15},Ps=function(r){return r.type===16||_u(r)},ST=function(r){return r.length>1?[r[0],r[1]]:[r[0]]},Ra={type:17,number:0,flags:hm},P5={type:16,number:50,flags:hm},au={type:16,number:100,flags:hm},$0=function(r,e,t){var n=r[0],s=r[1];return[Ln(n,e),Ln(typeof s<"u"?s:n,t)]},Ln=function(r,e){if(r.type===16)return r.number/100*e;if(fm(r))switch(r.unit){case"rem":case"em":return 16*r.number;case"px":default:return r.number}return r.number},IT="deg",jT="grad",TT="rad",UT="turn",Jx={name:"angle",parse:function(r,e){if(e.type===15)switch(e.unit){case IT:return Math.PI*e.number/180;case jT:return Math.PI/200*e.number;case TT:return e.number;case UT:return Math.PI*2*e.number}throw new Error("Unsupported angle type")}},FT=function(r){return r.type===15&&(r.unit===IT||r.unit===jT||r.unit===TT||r.unit===UT)},kT=function(r){var e=r.filter(Sn).map(function(t){return t.value}).join(" ");switch(e){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Ra,Ra];case"to top":case"bottom":return Po(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Ra,au];case"to right":case"left":return Po(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[au,au];case"to bottom":case"top":return Po(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[au,Ra];case"to left":case"right":return Po(270)}return 0},Po=function(r){return Math.PI*r/180},xu={name:"color",parse:function(r,e){if(e.type===18){var t=lq[e.name];if(typeof t>"u")throw new Error('Attempting to parse an unsupported color function "'+e.name+'"');return t(r,e.values)}if(e.type===5){if(e.value.length===3){var n=e.value.substring(0,1),s=e.value.substring(1,2),o=e.value.substring(2,3);return iu(parseInt(n+n,16),parseInt(s+s,16),parseInt(o+o,16),1)}if(e.value.length===4){var n=e.value.substring(0,1),s=e.value.substring(1,2),o=e.value.substring(2,3),l=e.value.substring(3,4);return iu(parseInt(n+n,16),parseInt(s+s,16),parseInt(o+o,16),parseInt(l+l,16)/255)}if(e.value.length===6){var n=e.value.substring(0,2),s=e.value.substring(2,4),o=e.value.substring(4,6);return iu(parseInt(n,16),parseInt(s,16),parseInt(o,16),1)}if(e.value.length===8){var n=e.value.substring(0,2),s=e.value.substring(2,4),o=e.value.substring(4,6),l=e.value.substring(6,8);return iu(parseInt(n,16),parseInt(s,16),parseInt(o,16),parseInt(l,16)/255)}}if(e.type===20){var c=tc[e.value.toUpperCase()];if(typeof c<"u")return c}return tc.TRANSPARENT}},bu=function(r){return(255&r)===0},ma=function(r){var e=255&r,t=255&r>>8,n=255&r>>16,s=255&r>>24;return e<255?"rgba("+s+","+n+","+t+","+e/255+")":"rgb("+s+","+n+","+t+")"},iu=function(r,e,t,n){return(r<<24|e<<16|t<<8|Math.round(n*255)<<0)>>>0},l3=function(r,e){if(r.type===17)return r.number;if(r.type===16){var t=e===3?1:255;return e===3?r.number/100*t:Math.round(r.number/100*t)}return 0},c3=function(r,e){var t=e.filter(Cf);if(t.length===3){var n=t.map(l3),s=n[0],o=n[1],l=n[2];return iu(s,o,l,1)}if(t.length===4){var c=t.map(l3),s=c[0],o=c[1],l=c[2],d=c[3];return iu(s,o,l,d)}return 0};function oy(r,e,t){return t<0&&(t+=1),t>=1&&(t-=1),t<1/6?(e-r)*t*6+r:t<1/2?e:t<2/3?(e-r)*6*(2/3-t)+r:r}var u3=function(r,e){var t=e.filter(Cf),n=t[0],s=t[1],o=t[2],l=t[3],c=(n.type===17?Po(n.number):Jx.parse(r,n))/(Math.PI*2),d=Ps(s)?s.number/100:0,h=Ps(o)?o.number/100:0,g=typeof l<"u"&&Ps(l)?Ln(l,1):1;if(d===0)return iu(h*255,h*255,h*255,1);var x=h<=.5?h*(d+1):h+d-h*d,B=h*2-x,w=oy(B,x,c+1/3),I=oy(B,x,c),j=oy(B,x,c-1/3);return iu(w*255,I*255,j*255,g)},lq={hsl:u3,hsla:u3,rgb:c3,rgba:c3},lg=function(r,e){return xu.parse(r,CT.create(e).parseComponentValue())},tc={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},cq={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(r,e){return e.map(function(t){if(Sn(t))switch(t.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},uq={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Zx=function(r,e){var t=xu.parse(r,e[0]),n=e[1];return n&&Ps(n)?{color:t,stop:n}:{color:t,stop:null}},d3=function(r,e){var t=r[0],n=r[r.length-1];t.stop===null&&(t.stop=Ra),n.stop===null&&(n.stop=au);for(var s=[],o=0,l=0;l<r.length;l++){var c=r[l].stop;if(c!==null){var d=Ln(c,e);d>o?s.push(d):s.push(o),o=d}else s.push(null)}for(var h=null,l=0;l<s.length;l++){var g=s[l];if(g===null)h===null&&(h=l);else if(h!==null){for(var x=l-h,B=s[h-1],w=(g-B)/(x+1),I=1;I<=x;I++)s[h+I-1]=w*I;h=null}}return r.map(function(j,M){var L=j.color;return{color:L,stop:Math.max(Math.min(1,s[M]/e),0)}})},dq=function(r,e,t){var n=e/2,s=t/2,o=Ln(r[0],e)-n,l=s-Ln(r[1],t);return(Math.atan2(l,o)+Math.PI*2)%(Math.PI*2)},hq=function(r,e,t){var n=typeof r=="number"?r:dq(r,e,t),s=Math.abs(e*Math.sin(n))+Math.abs(t*Math.cos(n)),o=e/2,l=t/2,c=s/2,d=Math.sin(n-Math.PI/2)*c,h=Math.cos(n-Math.PI/2)*c;return[s,o-h,o+h,l-d,l+d]},fA=function(r,e){return Math.sqrt(r*r+e*e)},h3=function(r,e,t,n,s){var o=[[0,0],[0,e],[r,0],[r,e]];return o.reduce(function(l,c){var d=c[0],h=c[1],g=fA(t-d,n-h);return(s?g<l.optimumDistance:g>l.optimumDistance)?{optimumCorner:c,optimumDistance:g}:l},{optimumDistance:s?1/0:-1/0,optimumCorner:null}).optimumCorner},fq=function(r,e,t,n,s){var o=0,l=0;switch(r.size){case 0:r.shape===0?o=l=Math.min(Math.abs(e),Math.abs(e-n),Math.abs(t),Math.abs(t-s)):r.shape===1&&(o=Math.min(Math.abs(e),Math.abs(e-n)),l=Math.min(Math.abs(t),Math.abs(t-s)));break;case 2:if(r.shape===0)o=l=Math.min(fA(e,t),fA(e,t-s),fA(e-n,t),fA(e-n,t-s));else if(r.shape===1){var c=Math.min(Math.abs(t),Math.abs(t-s))/Math.min(Math.abs(e),Math.abs(e-n)),d=h3(n,s,e,t,!0),h=d[0],g=d[1];o=fA(h-e,(g-t)/c),l=c*o}break;case 1:r.shape===0?o=l=Math.max(Math.abs(e),Math.abs(e-n),Math.abs(t),Math.abs(t-s)):r.shape===1&&(o=Math.max(Math.abs(e),Math.abs(e-n)),l=Math.max(Math.abs(t),Math.abs(t-s)));break;case 3:if(r.shape===0)o=l=Math.max(fA(e,t),fA(e,t-s),fA(e-n,t),fA(e-n,t-s));else if(r.shape===1){var c=Math.max(Math.abs(t),Math.abs(t-s))/Math.max(Math.abs(e),Math.abs(e-n)),x=h3(n,s,e,t,!1),h=x[0],g=x[1];o=fA(h-e,(g-t)/c),l=c*o}break}return Array.isArray(r.size)&&(o=Ln(r.size[0],n),l=r.size.length===2?Ln(r.size[1],s):o),[o,l]},gq=function(r,e){var t=Po(180),n=[];return pl(e).forEach(function(s,o){if(o===0){var l=s[0];if(l.type===20&&l.value==="to"){t=kT(s);return}else if(FT(l)){t=Jx.parse(r,l);return}}var c=Zx(r,s);n.push(c)}),{angle:t,stops:n,type:1}},Fp=function(r,e){var t=Po(180),n=[];return pl(e).forEach(function(s,o){if(o===0){var l=s[0];if(l.type===20&&["top","left","right","bottom"].indexOf(l.value)!==-1){t=kT(s);return}else if(FT(l)){t=(Jx.parse(r,l)+Po(270))%Po(360);return}}var c=Zx(r,s);n.push(c)}),{angle:t,stops:n,type:1}},mq=function(r,e){var t=Po(180),n=[],s=1,o=0,l=3,c=[];return pl(e).forEach(function(d,h){var g=d[0];if(h===0){if(Sn(g)&&g.value==="linear"){s=1;return}else if(Sn(g)&&g.value==="radial"){s=2;return}}if(g.type===18){if(g.name==="from"){var x=xu.parse(r,g.values[0]);n.push({stop:Ra,color:x})}else if(g.name==="to"){var x=xu.parse(r,g.values[0]);n.push({stop:au,color:x})}else if(g.name==="color-stop"){var B=g.values.filter(Cf);if(B.length===2){var x=xu.parse(r,B[1]),w=B[0];Mf(w)&&n.push({stop:{type:16,number:w.number*100,flags:w.flags},color:x})}}}}),s===1?{angle:(t+Po(180))%Po(360),stops:n,type:s}:{size:l,shape:o,stops:n,position:c,type:s}},QT="closest-side",LT="farthest-side",RT="closest-corner",DT="farthest-corner",OT="circle",MT="ellipse",PT="cover",HT="contain",pq=function(r,e){var t=0,n=3,s=[],o=[];return pl(e).forEach(function(l,c){var d=!0;if(c===0){var h=!1;d=l.reduce(function(x,B){if(h)if(Sn(B))switch(B.value){case"center":return o.push(P5),x;case"top":case"left":return o.push(Ra),x;case"right":case"bottom":return o.push(au),x}else(Ps(B)||_u(B))&&o.push(B);else if(Sn(B))switch(B.value){case OT:return t=0,!1;case MT:return t=1,!1;case"at":return h=!0,!1;case QT:return n=0,!1;case PT:case LT:return n=1,!1;case HT:case RT:return n=2,!1;case DT:return n=3,!1}else if(_u(B)||Ps(B))return Array.isArray(n)||(n=[]),n.push(B),!1;return x},d)}if(d){var g=Zx(r,l);s.push(g)}}),{size:n,shape:t,stops:s,position:o,type:2}},kp=function(r,e){var t=0,n=3,s=[],o=[];return pl(e).forEach(function(l,c){var d=!0;if(c===0?d=l.reduce(function(g,x){if(Sn(x))switch(x.value){case"center":return o.push(P5),!1;case"top":case"left":return o.push(Ra),!1;case"right":case"bottom":return o.push(au),!1}else if(Ps(x)||_u(x))return o.push(x),!1;return g},d):c===1&&(d=l.reduce(function(g,x){if(Sn(x))switch(x.value){case OT:return t=0,!1;case MT:return t=1,!1;case HT:case QT:return n=0,!1;case LT:return n=1,!1;case RT:return n=2,!1;case PT:case DT:return n=3,!1}else if(_u(x)||Ps(x))return Array.isArray(n)||(n=[]),n.push(x),!1;return g},d)),d){var h=Zx(r,l);s.push(h)}}),{size:n,shape:t,stops:s,position:o,type:2}},xq=function(r){return r.type===1},bq=function(r){return r.type===2},H5={name:"image",parse:function(r,e){if(e.type===22){var t={url:e.value,type:0};return r.cache.addImage(e.value),t}if(e.type===18){var n=VT[e.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported image function "'+e.name+'"');return n(r,e.values)}throw new Error("Unsupported image type "+e.type)}};function yq(r){return!(r.type===20&&r.value==="none")&&(r.type!==18||!!VT[r.name])}var VT={"linear-gradient":gq,"-moz-linear-gradient":Fp,"-ms-linear-gradient":Fp,"-o-linear-gradient":Fp,"-webkit-linear-gradient":Fp,"radial-gradient":pq,"-moz-radial-gradient":kp,"-ms-radial-gradient":kp,"-o-radial-gradient":kp,"-webkit-radial-gradient":kp,"-webkit-gradient":mq},wq={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(r,e){if(e.length===0)return[];var t=e[0];return t.type===20&&t.value==="none"?[]:e.filter(function(n){return Cf(n)&&yq(n)}).map(function(n){return H5.parse(r,n)})}},vq={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(r,e){return e.map(function(t){if(Sn(t))switch(t.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},Bq={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(r,e){return pl(e).map(function(t){return t.filter(Ps)}).map(ST)}},Nq={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(r,e){return pl(e).map(function(t){return t.filter(Sn).map(function(n){return n.value}).join(" ")}).map(_q)}},_q=function(r){switch(r){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},Wh;(function(r){r.AUTO="auto",r.CONTAIN="contain",r.COVER="cover"})(Wh||(Wh={}));var Cq={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(r,e){return pl(e).map(function(t){return t.filter(Eq)})}},Eq=function(r){return Sn(r)||Ps(r)},eb=function(r){return{name:"border-"+r+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},Sq=eb("top"),Iq=eb("right"),jq=eb("bottom"),Tq=eb("left"),tb=function(r){return{name:"border-radius-"+r,initialValue:"0 0",prefix:!1,type:1,parse:function(e,t){return ST(t.filter(Ps))}}},Uq=tb("top-left"),Fq=tb("top-right"),kq=tb("bottom-right"),Qq=tb("bottom-left"),rb=function(r){return{name:"border-"+r+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,t){switch(t){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},Lq=rb("top"),Rq=rb("right"),Dq=rb("bottom"),Oq=rb("left"),nb=function(r){return{name:"border-"+r+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return fm(t)?t.number:0}}},Mq=nb("top"),Pq=nb("right"),Hq=nb("bottom"),Vq=nb("left"),Kq={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},zq={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(r,e){switch(e){case"rtl":return 1;case"ltr":default:return 0}}},qq={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(r,e){return e.filter(Sn).reduce(function(t,n){return t|Gq(n.value)},0)}},Gq=function(r){switch(r){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},$q={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(r,e){switch(e){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},Xq={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(r,e){return e.type===20&&e.value==="normal"?0:e.type===17||e.type===15?e.number:0}},sx;(function(r){r.NORMAL="normal",r.STRICT="strict"})(sx||(sx={}));var Yq={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(r,e){switch(e){case"strict":return sx.STRICT;case"normal":default:return sx.NORMAL}}},Wq={name:"line-height",initialValue:"normal",prefix:!1,type:4},f3=function(r,e){return Sn(r)&&r.value==="normal"?1.2*e:r.type===17?e*r.number:Ps(r)?Ln(r,e):e},Jq={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(r,e){return e.type===20&&e.value==="none"?null:H5.parse(r,e)}},Zq={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(r,e){switch(e){case"inside":return 0;case"outside":default:return 1}}},Gw={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(r,e){switch(e){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},sb=function(r){return{name:"margin-"+r,initialValue:"0",prefix:!1,type:4}},eG=sb("top"),tG=sb("right"),rG=sb("bottom"),nG=sb("left"),sG={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(r,e){return e.filter(Sn).map(function(t){switch(t.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},aG={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(r,e){switch(e){case"break-word":return"break-word";case"normal":default:return"normal"}}},ab=function(r){return{name:"padding-"+r,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},iG=ab("top"),oG=ab("right"),AG=ab("bottom"),lG=ab("left"),cG={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(r,e){switch(e){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},uG={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(r,e){switch(e){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},dG={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(r,e){return e.length===1&&qw(e[0],"none")?[]:pl(e).map(function(t){for(var n={color:tc.TRANSPARENT,offsetX:Ra,offsetY:Ra,blur:Ra},s=0,o=0;o<t.length;o++){var l=t[o];_u(l)?(s===0?n.offsetX=l:s===1?n.offsetY=l:n.blur=l,s++):n.color=xu.parse(r,l)}return n})}},hG={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(r,e){switch(e){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},fG={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(r,e){if(e.type===20&&e.value==="none")return null;if(e.type===18){var t=pG[e.name];if(typeof t>"u")throw new Error('Attempting to parse an unsupported transform function "'+e.name+'"');return t(e.values)}return null}},gG=function(r){var e=r.filter(function(t){return t.type===17}).map(function(t){return t.number});return e.length===6?e:null},mG=function(r){var e=r.filter(function(d){return d.type===17}).map(function(d){return d.number}),t=e[0],n=e[1];e[2],e[3];var s=e[4],o=e[5];e[6],e[7],e[8],e[9],e[10],e[11];var l=e[12],c=e[13];return e[14],e[15],e.length===16?[t,n,s,o,l,c]:null},pG={matrix:gG,matrix3d:mG},g3={type:16,number:50,flags:hm},xG=[g3,g3],bG={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(r,e){var t=e.filter(Ps);return t.length!==2?xG:[t[0],t[1]]}},yG={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(r,e){switch(e){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},cg;(function(r){r.NORMAL="normal",r.BREAK_ALL="break-all",r.KEEP_ALL="keep-all"})(cg||(cg={}));var wG={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(r,e){switch(e){case"break-all":return cg.BREAK_ALL;case"keep-all":return cg.KEEP_ALL;case"normal":default:return cg.NORMAL}}},vG={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(r,e){if(e.type===20)return{auto:!0,order:0};if(Mf(e))return{auto:!1,order:e.number};throw new Error("Invalid z-index number parsed")}},KT={name:"time",parse:function(r,e){if(e.type===15)switch(e.unit.toLowerCase()){case"s":return 1e3*e.number;case"ms":return e.number}throw new Error("Unsupported time type")}},BG={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(r,e){return Mf(e)?e.number:1}},NG={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},_G={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(r,e){return e.filter(Sn).map(function(t){switch(t.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(t){return t!==0})}},CG={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(r,e){var t=[],n=[];return e.forEach(function(s){switch(s.type){case 20:case 0:t.push(s.value);break;case 17:t.push(s.number.toString());break;case 4:n.push(t.join(" ")),t.length=0;break}}),t.length&&n.push(t.join(" ")),n.map(function(s){return s.indexOf(" ")===-1?s:"'"+s+"'"})}},EG={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},SG={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(r,e){if(Mf(e))return e.number;if(Sn(e))switch(e.value){case"bold":return 700;case"normal":default:return 400}return 400}},IG={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(r,e){return e.filter(Sn).map(function(t){return t.value})}},jG={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(r,e){switch(e){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},ea=function(r,e){return(r&e)!==0},TG={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(r,e){if(e.length===0)return[];var t=e[0];return t.type===20&&t.value==="none"?[]:e}},UG={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(r,e){if(e.length===0)return null;var t=e[0];if(t.type===20&&t.value==="none")return null;for(var n=[],s=e.filter(ET),o=0;o<s.length;o++){var l=s[o],c=s[o+1];if(l.type===20){var d=c&&Mf(c)?c.number:1;n.push({counter:l.value,increment:d})}}return n}},FG={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(r,e){if(e.length===0)return[];for(var t=[],n=e.filter(ET),s=0;s<n.length;s++){var o=n[s],l=n[s+1];if(Sn(o)&&o.value!=="none"){var c=l&&Mf(l)?l.number:0;t.push({counter:o.value,reset:c})}}return t}},kG={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(r,e){return e.filter(fm).map(function(t){return KT.parse(r,t)})}},QG={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(r,e){if(e.length===0)return null;var t=e[0];if(t.type===20&&t.value==="none")return null;var n=[],s=e.filter(oq);if(s.length%2!==0)return null;for(var o=0;o<s.length;o+=2){var l=s[o].value,c=s[o+1].value;n.push({open:l,close:c})}return n}},m3=function(r,e,t){if(!r)return"";var n=r[Math.min(e,r.length-1)];return n?t?n.open:n.close:""},LG={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(r,e){return e.length===1&&qw(e[0],"none")?[]:pl(e).map(function(t){for(var n={color:255,offsetX:Ra,offsetY:Ra,blur:Ra,spread:Ra,inset:!1},s=0,o=0;o<t.length;o++){var l=t[o];qw(l,"inset")?n.inset=!0:_u(l)?(s===0?n.offsetX=l:s===1?n.offsetY=l:s===2?n.blur=l:n.spread=l,s++):n.color=xu.parse(r,l)}return n})}},RG={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(r,e){var t=[0,1,2],n=[];return e.filter(Sn).forEach(function(s){switch(s.value){case"stroke":n.push(1);break;case"fill":n.push(0);break;case"markers":n.push(2);break}}),t.forEach(function(s){n.indexOf(s)===-1&&n.push(s)}),n}},DG={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},OG={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(r,e){return fm(e)?e.number:0}},MG=(function(){function r(e,t){var n,s;this.animationDuration=It(e,kG,t.animationDuration),this.backgroundClip=It(e,cq,t.backgroundClip),this.backgroundColor=It(e,uq,t.backgroundColor),this.backgroundImage=It(e,wq,t.backgroundImage),this.backgroundOrigin=It(e,vq,t.backgroundOrigin),this.backgroundPosition=It(e,Bq,t.backgroundPosition),this.backgroundRepeat=It(e,Nq,t.backgroundRepeat),this.backgroundSize=It(e,Cq,t.backgroundSize),this.borderTopColor=It(e,Sq,t.borderTopColor),this.borderRightColor=It(e,Iq,t.borderRightColor),this.borderBottomColor=It(e,jq,t.borderBottomColor),this.borderLeftColor=It(e,Tq,t.borderLeftColor),this.borderTopLeftRadius=It(e,Uq,t.borderTopLeftRadius),this.borderTopRightRadius=It(e,Fq,t.borderTopRightRadius),this.borderBottomRightRadius=It(e,kq,t.borderBottomRightRadius),this.borderBottomLeftRadius=It(e,Qq,t.borderBottomLeftRadius),this.borderTopStyle=It(e,Lq,t.borderTopStyle),this.borderRightStyle=It(e,Rq,t.borderRightStyle),this.borderBottomStyle=It(e,Dq,t.borderBottomStyle),this.borderLeftStyle=It(e,Oq,t.borderLeftStyle),this.borderTopWidth=It(e,Mq,t.borderTopWidth),this.borderRightWidth=It(e,Pq,t.borderRightWidth),this.borderBottomWidth=It(e,Hq,t.borderBottomWidth),this.borderLeftWidth=It(e,Vq,t.borderLeftWidth),this.boxShadow=It(e,LG,t.boxShadow),this.color=It(e,Kq,t.color),this.direction=It(e,zq,t.direction),this.display=It(e,qq,t.display),this.float=It(e,$q,t.cssFloat),this.fontFamily=It(e,CG,t.fontFamily),this.fontSize=It(e,EG,t.fontSize),this.fontStyle=It(e,jG,t.fontStyle),this.fontVariant=It(e,IG,t.fontVariant),this.fontWeight=It(e,SG,t.fontWeight),this.letterSpacing=It(e,Xq,t.letterSpacing),this.lineBreak=It(e,Yq,t.lineBreak),this.lineHeight=It(e,Wq,t.lineHeight),this.listStyleImage=It(e,Jq,t.listStyleImage),this.listStylePosition=It(e,Zq,t.listStylePosition),this.listStyleType=It(e,Gw,t.listStyleType),this.marginTop=It(e,eG,t.marginTop),this.marginRight=It(e,tG,t.marginRight),this.marginBottom=It(e,rG,t.marginBottom),this.marginLeft=It(e,nG,t.marginLeft),this.opacity=It(e,BG,t.opacity);var o=It(e,sG,t.overflow);this.overflowX=o[0],this.overflowY=o[o.length>1?1:0],this.overflowWrap=It(e,aG,t.overflowWrap),this.paddingTop=It(e,iG,t.paddingTop),this.paddingRight=It(e,oG,t.paddingRight),this.paddingBottom=It(e,AG,t.paddingBottom),this.paddingLeft=It(e,lG,t.paddingLeft),this.paintOrder=It(e,RG,t.paintOrder),this.position=It(e,uG,t.position),this.textAlign=It(e,cG,t.textAlign),this.textDecorationColor=It(e,NG,(n=t.textDecorationColor)!==null&&n!==void 0?n:t.color),this.textDecorationLine=It(e,_G,(s=t.textDecorationLine)!==null&&s!==void 0?s:t.textDecoration),this.textShadow=It(e,dG,t.textShadow),this.textTransform=It(e,hG,t.textTransform),this.transform=It(e,fG,t.transform),this.transformOrigin=It(e,bG,t.transformOrigin),this.visibility=It(e,yG,t.visibility),this.webkitTextStrokeColor=It(e,DG,t.webkitTextStrokeColor),this.webkitTextStrokeWidth=It(e,OG,t.webkitTextStrokeWidth),this.wordBreak=It(e,wG,t.wordBreak),this.zIndex=It(e,vG,t.zIndex)}return r.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},r.prototype.isTransparent=function(){return bu(this.backgroundColor)},r.prototype.isTransformed=function(){return this.transform!==null},r.prototype.isPositioned=function(){return this.position!==0},r.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},r.prototype.isFloating=function(){return this.float!==0},r.prototype.isInlineLevel=function(){return ea(this.display,4)||ea(this.display,33554432)||ea(this.display,268435456)||ea(this.display,536870912)||ea(this.display,67108864)||ea(this.display,134217728)},r})(),PG=(function(){function r(e,t){this.content=It(e,TG,t.content),this.quotes=It(e,QG,t.quotes)}return r})(),p3=(function(){function r(e,t){this.counterIncrement=It(e,UG,t.counterIncrement),this.counterReset=It(e,FG,t.counterReset)}return r})(),It=function(r,e,t){var n=new _T,s=t!==null&&typeof t<"u"?t.toString():e.initialValue;n.write(s);var o=new CT(n.read());switch(e.type){case 2:var l=o.parseComponentValue();return e.parse(r,Sn(l)?l.value:e.initialValue);case 0:return e.parse(r,o.parseComponentValue());case 1:return e.parse(r,o.parseComponentValues());case 4:return o.parseComponentValue();case 3:switch(e.format){case"angle":return Jx.parse(r,o.parseComponentValue());case"color":return xu.parse(r,o.parseComponentValue());case"image":return H5.parse(r,o.parseComponentValue());case"length":var c=o.parseComponentValue();return _u(c)?c:Ra;case"length-percentage":var d=o.parseComponentValue();return Ps(d)?d:Ra;case"time":return KT.parse(r,o.parseComponentValue())}break}},HG="data-html2canvas-debug",VG=function(r){var e=r.getAttribute(HG);switch(e){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},$w=function(r,e){var t=VG(r);return t===1||e===t},xl=(function(){function r(e,t){if(this.context=e,this.textNodes=[],this.elements=[],this.flags=0,$w(t,3))debugger;this.styles=new MG(e,window.getComputedStyle(t,null)),Ww(t)&&(this.styles.animationDuration.some(function(n){return n>0})&&(t.style.animationDuration="0s"),this.styles.transform!==null&&(t.style.transform="none")),this.bounds=Yx(this.context,t),$w(t,4)&&(this.flags|=16)}return r})(),KG="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",x3="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",X0=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Qp=0;Qp<x3.length;Qp++)X0[x3.charCodeAt(Qp)]=Qp;var zG=function(r){var e=r.length*.75,t=r.length,n,s=0,o,l,c,d;r[r.length-1]==="="&&(e--,r[r.length-2]==="="&&e--);var h=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),g=Array.isArray(h)?h:new Uint8Array(h);for(n=0;n<t;n+=4)o=X0[r.charCodeAt(n)],l=X0[r.charCodeAt(n+1)],c=X0[r.charCodeAt(n+2)],d=X0[r.charCodeAt(n+3)],g[s++]=o<<2|l>>4,g[s++]=(l&15)<<4|c>>2,g[s++]=(c&3)<<6|d&63;return h},qG=function(r){for(var e=r.length,t=[],n=0;n<e;n+=2)t.push(r[n+1]<<8|r[n]);return t},GG=function(r){for(var e=r.length,t=[],n=0;n<e;n+=4)t.push(r[n+3]<<24|r[n+2]<<16|r[n+1]<<8|r[n]);return t},xd=5,V5=11,Ay=2,$G=V5-xd,zT=65536>>xd,XG=1<<xd,ly=XG-1,YG=1024>>xd,WG=zT+YG,JG=WG,ZG=32,e$=JG+ZG,t$=65536>>V5,r$=1<<$G,n$=r$-1,b3=function(r,e,t){return r.slice?r.slice(e,t):new Uint16Array(Array.prototype.slice.call(r,e,t))},s$=function(r,e,t){return r.slice?r.slice(e,t):new Uint32Array(Array.prototype.slice.call(r,e,t))},a$=function(r,e){var t=zG(r),n=Array.isArray(t)?GG(t):new Uint32Array(t),s=Array.isArray(t)?qG(t):new Uint16Array(t),o=24,l=b3(s,o/2,n[4]/2),c=n[5]===2?b3(s,(o+n[4])/2):s$(n,Math.ceil((o+n[4])/4));return new i$(n[0],n[1],n[2],n[3],l,c)},i$=(function(){function r(e,t,n,s,o,l){this.initialValue=e,this.errorValue=t,this.highStart=n,this.highValueIndex=s,this.index=o,this.data=l}return r.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=this.index[e>>xd],t=(t<<Ay)+(e&ly),this.data[t];if(e<=65535)return t=this.index[zT+(e-55296>>xd)],t=(t<<Ay)+(e&ly),this.data[t];if(e<this.highStart)return t=e$-t$+(e>>V5),t=this.index[t],t+=e>>xd&n$,t=this.index[t],t=(t<<Ay)+(e&ly),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},r})(),y3="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o$=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Lp=0;Lp<y3.length;Lp++)o$[y3.charCodeAt(Lp)]=Lp;var A$=1,cy=2,uy=3,w3=4,v3=5,l$=7,B3=8,dy=9,hy=10,N3=11,_3=12,C3=13,E3=14,fy=15,c$=function(r){for(var e=[],t=0,n=r.length;t<n;){var s=r.charCodeAt(t++);if(s>=55296&&s<=56319&&t<n){var o=r.charCodeAt(t++);(o&64512)===56320?e.push(((s&1023)<<10)+(o&1023)+65536):(e.push(s),t--)}else e.push(s)}return e},u$=function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,r);var t=r.length;if(!t)return"";for(var n=[],s=-1,o="";++s<t;){var l=r[s];l<=65535?n.push(l):(l-=65536,n.push((l>>10)+55296,l%1024+56320)),(s+1===t||n.length>16384)&&(o+=String.fromCharCode.apply(String,n),n.length=0)}return o},d$=a$(KG),Qo="",gy="",h$=function(r){return d$.get(r)},f$=function(r,e,t){var n=t-2,s=e[n],o=e[t-1],l=e[t];if(o===cy&&l===uy)return Qo;if(o===cy||o===uy||o===w3||l===cy||l===uy||l===w3)return gy;if(o===B3&&[B3,dy,N3,_3].indexOf(l)!==-1||(o===N3||o===dy)&&(l===dy||l===hy)||(o===_3||o===hy)&&l===hy||l===C3||l===v3||l===l$||o===A$)return Qo;if(o===C3&&l===E3){for(;s===v3;)s=e[--n];if(s===E3)return Qo}if(o===fy&&l===fy){for(var c=0;s===fy;)c++,s=e[--n];if(c%2===0)return Qo}return gy},g$=function(r){var e=c$(r),t=e.length,n=0,s=0,o=e.map(h$);return{next:function(){if(n>=t)return{done:!0,value:null};for(var l=Qo;n<t&&(l=f$(e,o,++n))===Qo;);if(l!==Qo||n===t){var c=u$.apply(null,e.slice(s,n));return s=n,{value:c,done:!1}}return{done:!0,value:null}}}},m$=function(r){for(var e=g$(r),t=[],n;!(n=e.next()).done;)n.value&&t.push(n.value.slice());return t},p$=function(r){var e=123;if(r.createRange){var t=r.createRange();if(t.getBoundingClientRect){var n=r.createElement("boundtest");n.style.height=e+"px",n.style.display="block",r.body.appendChild(n),t.selectNode(n);var s=t.getBoundingClientRect(),o=Math.round(s.height);if(r.body.removeChild(n),o===e)return!0}}return!1},x$=function(r){var e=r.createElement("boundtest");e.style.width="50px",e.style.display="block",e.style.fontSize="12px",e.style.letterSpacing="0px",e.style.wordSpacing="0px",r.body.appendChild(e);var t=r.createRange();e.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var n=e.firstChild,s=Wx(n.data).map(function(d){return Es(d)}),o=0,l={},c=s.every(function(d,h){t.setStart(n,o),t.setEnd(n,o+d.length);var g=t.getBoundingClientRect();o+=d.length;var x=g.x>l.x||g.y>l.y;return l=g,h===0?!0:x});return r.body.removeChild(e),c},b$=function(){return typeof new Image().crossOrigin<"u"},y$=function(){return typeof new XMLHttpRequest().responseType=="string"},w$=function(r){var e=new Image,t=r.createElement("canvas"),n=t.getContext("2d");if(!n)return!1;e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{n.drawImage(e,0,0),t.toDataURL()}catch{return!1}return!0},S3=function(r){return r[0]===0&&r[1]===255&&r[2]===0&&r[3]===255},v$=function(r){var e=r.createElement("canvas"),t=100;e.width=t,e.height=t;var n=e.getContext("2d");if(!n)return Promise.reject(!1);n.fillStyle="rgb(0, 255, 0)",n.fillRect(0,0,t,t);var s=new Image,o=e.toDataURL();s.src=o;var l=Xw(t,t,0,0,s);return n.fillStyle="red",n.fillRect(0,0,t,t),I3(l).then(function(c){n.drawImage(c,0,0);var d=n.getImageData(0,0,t,t).data;n.fillStyle="red",n.fillRect(0,0,t,t);var h=r.createElement("div");return h.style.backgroundImage="url("+o+")",h.style.height=t+"px",S3(d)?I3(Xw(t,t,0,0,h)):Promise.reject(!1)}).then(function(c){return n.drawImage(c,0,0),S3(n.getImageData(0,0,t,t).data)}).catch(function(){return!1})},Xw=function(r,e,t,n,s){var o="http://www.w3.org/2000/svg",l=document.createElementNS(o,"svg"),c=document.createElementNS(o,"foreignObject");return l.setAttributeNS(null,"width",r.toString()),l.setAttributeNS(null,"height",e.toString()),c.setAttributeNS(null,"width","100%"),c.setAttributeNS(null,"height","100%"),c.setAttributeNS(null,"x",t.toString()),c.setAttributeNS(null,"y",n.toString()),c.setAttributeNS(null,"externalResourcesRequired","true"),l.appendChild(c),c.appendChild(s),l},I3=function(r){return new Promise(function(e,t){var n=new Image;n.onload=function(){return e(n)},n.onerror=t,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(r))})},Qa={get SUPPORT_RANGE_BOUNDS(){var r=p$(document);return Object.defineProperty(Qa,"SUPPORT_RANGE_BOUNDS",{value:r}),r},get SUPPORT_WORD_BREAKING(){var r=Qa.SUPPORT_RANGE_BOUNDS&&x$(document);return Object.defineProperty(Qa,"SUPPORT_WORD_BREAKING",{value:r}),r},get SUPPORT_SVG_DRAWING(){var r=w$(document);return Object.defineProperty(Qa,"SUPPORT_SVG_DRAWING",{value:r}),r},get SUPPORT_FOREIGNOBJECT_DRAWING(){var r=typeof Array.from=="function"&&typeof window.fetch=="function"?v$(document):Promise.resolve(!1);return Object.defineProperty(Qa,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:r}),r},get SUPPORT_CORS_IMAGES(){var r=b$();return Object.defineProperty(Qa,"SUPPORT_CORS_IMAGES",{value:r}),r},get SUPPORT_RESPONSE_TYPE(){var r=y$();return Object.defineProperty(Qa,"SUPPORT_RESPONSE_TYPE",{value:r}),r},get SUPPORT_CORS_XHR(){var r="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Qa,"SUPPORT_CORS_XHR",{value:r}),r},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var r=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(Qa,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:r}),r}},ug=(function(){function r(e,t){this.text=e,this.bounds=t}return r})(),B$=function(r,e,t,n){var s=C$(e,t),o=[],l=0;return s.forEach(function(c){if(t.textDecorationLine.length||c.trim().length>0)if(Qa.SUPPORT_RANGE_BOUNDS){var d=j3(n,l,c.length).getClientRects();if(d.length>1){var h=K5(c),g=0;h.forEach(function(B){o.push(new ug(B,lc.fromDOMRectList(r,j3(n,g+l,B.length).getClientRects()))),g+=B.length})}else o.push(new ug(c,lc.fromDOMRectList(r,d)))}else{var x=n.splitText(c.length);o.push(new ug(c,N$(r,n))),n=x}else Qa.SUPPORT_RANGE_BOUNDS||(n=n.splitText(c.length));l+=c.length}),o},N$=function(r,e){var t=e.ownerDocument;if(t){var n=t.createElement("html2canvaswrapper");n.appendChild(e.cloneNode(!0));var s=e.parentNode;if(s){s.replaceChild(n,e);var o=Yx(r,n);return n.firstChild&&s.replaceChild(n.firstChild,n),o}}return lc.EMPTY},j3=function(r,e,t){var n=r.ownerDocument;if(!n)throw new Error("Node has no owner document");var s=n.createRange();return s.setStart(r,e),s.setEnd(r,e+t),s},K5=function(r){if(Qa.SUPPORT_NATIVE_TEXT_SEGMENTATION){var e=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(e.segment(r)).map(function(t){return t.segment})}return m$(r)},_$=function(r,e){if(Qa.SUPPORT_NATIVE_TEXT_SEGMENTATION){var t=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(t.segment(r)).map(function(n){return n.segment})}return S$(r,e)},C$=function(r,e){return e.letterSpacing!==0?K5(r):_$(r,e)},E$=[32,160,4961,65792,65793,4153,4241],S$=function(r,e){for(var t=tz(r,{lineBreak:e.lineBreak,wordBreak:e.overflowWrap==="break-word"?"break-word":e.wordBreak}),n=[],s,o=function(){if(s.value){var l=s.value.slice(),c=Wx(l),d="";c.forEach(function(h){E$.indexOf(h)===-1?d+=Es(h):(d.length&&n.push(d),n.push(Es(h)),d="")}),d.length&&n.push(d)}};!(s=t.next()).done;)o();return n},I$=(function(){function r(e,t,n){this.text=j$(t.data,n.textTransform),this.textBounds=B$(e,this.text,n,t)}return r})(),j$=function(r,e){switch(e){case 1:return r.toLowerCase();case 3:return r.replace(T$,U$);case 2:return r.toUpperCase();default:return r}},T$=/(^|\s|:|-|\(|\))([a-z])/g,U$=function(r,e,t){return r.length>0?e+t.toUpperCase():r},qT=(function(r){_A(e,r);function e(t,n){var s=r.call(this,t,n)||this;return s.src=n.currentSrc||n.src,s.intrinsicWidth=n.naturalWidth,s.intrinsicHeight=n.naturalHeight,s.context.cache.addImage(s.src),s}return e})(xl),GT=(function(r){_A(e,r);function e(t,n){var s=r.call(this,t,n)||this;return s.canvas=n,s.intrinsicWidth=n.width,s.intrinsicHeight=n.height,s}return e})(xl),$T=(function(r){_A(e,r);function e(t,n){var s=r.call(this,t,n)||this,o=new XMLSerializer,l=Yx(t,n);return n.setAttribute("width",l.width+"px"),n.setAttribute("height",l.height+"px"),s.svg="data:image/svg+xml,"+encodeURIComponent(o.serializeToString(n)),s.intrinsicWidth=n.width.baseVal.value,s.intrinsicHeight=n.height.baseVal.value,s.context.cache.addImage(s.svg),s}return e})(xl),XT=(function(r){_A(e,r);function e(t,n){var s=r.call(this,t,n)||this;return s.value=n.value,s}return e})(xl),Yw=(function(r){_A(e,r);function e(t,n){var s=r.call(this,t,n)||this;return s.start=n.start,s.reversed=typeof n.reversed=="boolean"&&n.reversed===!0,s}return e})(xl),F$=[{type:15,flags:0,unit:"px",number:3}],k$=[{type:16,flags:0,number:50}],Q$=function(r){return r.width>r.height?new lc(r.left+(r.width-r.height)/2,r.top,r.height,r.height):r.width<r.height?new lc(r.left,r.top+(r.height-r.width)/2,r.width,r.width):r},L$=function(r){var e=r.type===R$?new Array(r.value.length+1).join(""):r.value;return e.length===0?r.placeholder||"":e},ax="checkbox",ix="radio",R$="password",T3=707406591,z5=(function(r){_A(e,r);function e(t,n){var s=r.call(this,t,n)||this;switch(s.type=n.type.toLowerCase(),s.checked=n.checked,s.value=L$(n),(s.type===ax||s.type===ix)&&(s.styles.backgroundColor=3739148031,s.styles.borderTopColor=s.styles.borderRightColor=s.styles.borderBottomColor=s.styles.borderLeftColor=2779096575,s.styles.borderTopWidth=s.styles.borderRightWidth=s.styles.borderBottomWidth=s.styles.borderLeftWidth=1,s.styles.borderTopStyle=s.styles.borderRightStyle=s.styles.borderBottomStyle=s.styles.borderLeftStyle=1,s.styles.backgroundClip=[0],s.styles.backgroundOrigin=[0],s.bounds=Q$(s.bounds)),s.type){case ax:s.styles.borderTopRightRadius=s.styles.borderTopLeftRadius=s.styles.borderBottomRightRadius=s.styles.borderBottomLeftRadius=F$;break;case ix:s.styles.borderTopRightRadius=s.styles.borderTopLeftRadius=s.styles.borderBottomRightRadius=s.styles.borderBottomLeftRadius=k$;break}return s}return e})(xl),YT=(function(r){_A(e,r);function e(t,n){var s=r.call(this,t,n)||this,o=n.options[n.selectedIndex||0];return s.value=o&&o.text||"",s}return e})(xl),WT=(function(r){_A(e,r);function e(t,n){var s=r.call(this,t,n)||this;return s.value=n.value,s}return e})(xl),JT=(function(r){_A(e,r);function e(t,n){var s=r.call(this,t,n)||this;s.src=n.src,s.width=parseInt(n.width,10)||0,s.height=parseInt(n.height,10)||0,s.backgroundColor=s.styles.backgroundColor;try{if(n.contentWindow&&n.contentWindow.document&&n.contentWindow.document.documentElement){s.tree=e8(t,n.contentWindow.document.documentElement);var o=n.contentWindow.document.documentElement?lg(t,getComputedStyle(n.contentWindow.document.documentElement).backgroundColor):tc.TRANSPARENT,l=n.contentWindow.document.body?lg(t,getComputedStyle(n.contentWindow.document.body).backgroundColor):tc.TRANSPARENT;s.backgroundColor=bu(o)?bu(l)?s.styles.backgroundColor:l:o}}catch{}return s}return e})(xl),D$=["OL","UL","MENU"],g1=function(r,e,t,n){for(var s=e.firstChild,o=void 0;s;s=o)if(o=s.nextSibling,t8(s)&&s.data.trim().length>0)t.textNodes.push(new I$(r,s,t.styles));else if(Kh(s))if(a8(s)&&s.assignedNodes)s.assignedNodes().forEach(function(c){return g1(r,c,t,n)});else{var l=ZT(r,s);l.styles.isVisible()&&(O$(s,l,n)?l.flags|=4:M$(l.styles)&&(l.flags|=2),D$.indexOf(s.tagName)!==-1&&(l.flags|=8),t.elements.push(l),s.slot,s.shadowRoot?g1(r,s.shadowRoot,l,n):!ox(s)&&!r8(s)&&!Ax(s)&&g1(r,s,l,n))}},ZT=function(r,e){return Jw(e)?new qT(r,e):n8(e)?new GT(r,e):r8(e)?new $T(r,e):P$(e)?new XT(r,e):H$(e)?new Yw(r,e):V$(e)?new z5(r,e):Ax(e)?new YT(r,e):ox(e)?new WT(r,e):s8(e)?new JT(r,e):new xl(r,e)},e8=function(r,e){var t=ZT(r,e);return t.flags|=4,g1(r,e,t,t),t},O$=function(r,e,t){return e.styles.isPositionedWithZIndex()||e.styles.opacity<1||e.styles.isTransformed()||q5(r)&&t.styles.isTransparent()},M$=function(r){return r.isPositioned()||r.isFloating()},t8=function(r){return r.nodeType===Node.TEXT_NODE},Kh=function(r){return r.nodeType===Node.ELEMENT_NODE},Ww=function(r){return Kh(r)&&typeof r.style<"u"&&!m1(r)},m1=function(r){return typeof r.className=="object"},P$=function(r){return r.tagName==="LI"},H$=function(r){return r.tagName==="OL"},V$=function(r){return r.tagName==="INPUT"},K$=function(r){return r.tagName==="HTML"},r8=function(r){return r.tagName==="svg"},q5=function(r){return r.tagName==="BODY"},n8=function(r){return r.tagName==="CANVAS"},U3=function(r){return r.tagName==="VIDEO"},Jw=function(r){return r.tagName==="IMG"},s8=function(r){return r.tagName==="IFRAME"},F3=function(r){return r.tagName==="STYLE"},z$=function(r){return r.tagName==="SCRIPT"},ox=function(r){return r.tagName==="TEXTAREA"},Ax=function(r){return r.tagName==="SELECT"},a8=function(r){return r.tagName==="SLOT"},k3=function(r){return r.tagName.indexOf("-")>0},q$=(function(){function r(){this.counters={}}return r.prototype.getCounterValue=function(e){var t=this.counters[e];return t&&t.length?t[t.length-1]:1},r.prototype.getCounterValues=function(e){var t=this.counters[e];return t||[]},r.prototype.pop=function(e){var t=this;e.forEach(function(n){return t.counters[n].pop()})},r.prototype.parse=function(e){var t=this,n=e.counterIncrement,s=e.counterReset,o=!0;n!==null&&n.forEach(function(c){var d=t.counters[c.counter];d&&c.increment!==0&&(o=!1,d.length||d.push(1),d[Math.max(0,d.length-1)]+=c.increment)});var l=[];return o&&s.forEach(function(c){var d=t.counters[c.counter];l.push(c.counter),d||(d=t.counters[c.counter]=[]),d.push(c.reset)}),l},r})(),Q3={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},L3={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},G$={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},$$={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Sh=function(r,e,t,n,s,o){return r<e||r>t?Mg(r,s,o.length>0):n.integers.reduce(function(l,c,d){for(;r>=c;)r-=c,l+=n.values[d];return l},"")+o},i8=function(r,e,t,n){var s="";do t||r--,s=n(r)+s,r/=e;while(r*e>=e);return s},Cs=function(r,e,t,n,s){var o=t-e+1;return(r<0?"-":"")+(i8(Math.abs(r),o,n,function(l){return Es(Math.floor(l%o)+e)})+s)},Wu=function(r,e,t){t===void 0&&(t=". ");var n=e.length;return i8(Math.abs(r),n,!1,function(s){return e[Math.floor(s%n)]})+t},Oh=1,Xc=2,Yc=4,Y0=8,Gl=function(r,e,t,n,s,o){if(r<-9999||r>9999)return Mg(r,4,s.length>0);var l=Math.abs(r),c=s;if(l===0)return e[0]+c;for(var d=0;l>0&&d<=4;d++){var h=l%10;h===0&&ea(o,Oh)&&c!==""?c=e[h]+c:h>1||h===1&&d===0||h===1&&d===1&&ea(o,Xc)||h===1&&d===1&&ea(o,Yc)&&r>100||h===1&&d>1&&ea(o,Y0)?c=e[h]+(d>0?t[d-1]:"")+c:h===1&&d>0&&(c=t[d-1]+c),l=Math.floor(l/10)}return(r<0?n:"")+c},R3="",D3="",O3="",my="",Mg=function(r,e,t){var n=t?". ":"",s=t?"":"",o=t?", ":"",l=t?" ":"";switch(e){case 0:return""+l;case 1:return""+l;case 2:return""+l;case 5:var c=Cs(r,48,57,!0,n);return c.length<4?"0"+c:c;case 4:return Wu(r,"",s);case 6:return Sh(r,1,3999,Q3,3,n).toLowerCase();case 7:return Sh(r,1,3999,Q3,3,n);case 8:return Cs(r,945,969,!1,n);case 9:return Cs(r,97,122,!1,n);case 10:return Cs(r,65,90,!1,n);case 11:return Cs(r,1632,1641,!0,n);case 12:case 49:return Sh(r,1,9999,L3,3,n);case 35:return Sh(r,1,9999,L3,3,n).toLowerCase();case 13:return Cs(r,2534,2543,!0,n);case 14:case 30:return Cs(r,6112,6121,!0,n);case 15:return Wu(r,"",s);case 16:return Wu(r,"",s);case 17:case 48:return Gl(r,"",R3,"",s,Xc|Yc|Y0);case 47:return Gl(r,"",D3,"",s,Oh|Xc|Yc|Y0);case 42:return Gl(r,"",R3,"",s,Xc|Yc|Y0);case 41:return Gl(r,"",D3,"",s,Oh|Xc|Yc|Y0);case 26:return Gl(r,"","",O3,s,0);case 25:return Gl(r,"","",O3,s,Oh|Xc|Yc);case 31:return Gl(r,"","",my,o,Oh|Xc|Yc);case 33:return Gl(r,"","",my,o,0);case 32:return Gl(r,"","",my,o,Oh|Xc|Yc);case 18:return Cs(r,2406,2415,!0,n);case 20:return Sh(r,1,19999,$$,3,n);case 21:return Cs(r,2790,2799,!0,n);case 22:return Cs(r,2662,2671,!0,n);case 22:return Sh(r,1,10999,G$,3,n);case 23:return Wu(r,"");case 24:return Wu(r,"");case 27:return Cs(r,3302,3311,!0,n);case 28:return Wu(r,"",s);case 29:return Wu(r,"",s);case 34:return Cs(r,3792,3801,!0,n);case 37:return Cs(r,6160,6169,!0,n);case 38:return Cs(r,4160,4169,!0,n);case 39:return Cs(r,2918,2927,!0,n);case 40:return Cs(r,1776,1785,!0,n);case 43:return Cs(r,3046,3055,!0,n);case 44:return Cs(r,3174,3183,!0,n);case 45:return Cs(r,3664,3673,!0,n);case 46:return Cs(r,3872,3881,!0,n);case 3:default:return Cs(r,48,57,!0,n)}},o8="data-html2canvas-ignore",M3=(function(){function r(e,t,n){if(this.context=e,this.options=n,this.scrolledElements=[],this.referenceElement=t,this.counters=new q$,this.quoteDepth=0,!t.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(t.ownerDocument.documentElement,!1)}return r.prototype.toIFrame=function(e,t){var n=this,s=X$(e,t);if(!s.contentWindow)return Promise.reject("Unable to find iframe window");var o=e.defaultView.pageXOffset,l=e.defaultView.pageYOffset,c=s.contentWindow,d=c.document,h=J$(s).then(function(){return mi(n,void 0,void 0,function(){var g,x;return Ja(this,function(B){switch(B.label){case 0:return this.scrolledElements.forEach(rX),c&&(c.scrollTo(t.left,t.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(c.scrollY!==t.top||c.scrollX!==t.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(c.scrollX-t.left,c.scrollY-t.top,0,0))),g=this.options.onclone,x=this.clonedReferenceElement,typeof x>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:d.fonts&&d.fonts.ready?[4,d.fonts.ready]:[3,2];case 1:B.sent(),B.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,W$(d)]:[3,4];case 3:B.sent(),B.label=4;case 4:return typeof g=="function"?[2,Promise.resolve().then(function(){return g(d,x)}).then(function(){return s})]:[2,s]}})})});return d.open(),d.write(eX(document.doctype)+"<html></html>"),tX(this.referenceElement.ownerDocument,o,l),d.replaceChild(d.adoptNode(this.documentElement),d.documentElement),d.close(),h},r.prototype.createElementClone=function(e){if($w(e,2))debugger;if(n8(e))return this.createCanvasClone(e);if(U3(e))return this.createVideoClone(e);if(F3(e))return this.createStyleClone(e);var t=e.cloneNode(!1);return Jw(t)&&(Jw(e)&&e.currentSrc&&e.currentSrc!==e.src&&(t.src=e.currentSrc,t.srcset=""),t.loading==="lazy"&&(t.loading="eager")),k3(t)?this.createCustomElementClone(t):t},r.prototype.createCustomElementClone=function(e){var t=document.createElement("html2canvascustomelement");return py(e.style,t),t},r.prototype.createStyleClone=function(e){try{var t=e.sheet;if(t&&t.cssRules){var n=[].slice.call(t.cssRules,0).reduce(function(o,l){return l&&typeof l.cssText=="string"?o+l.cssText:o},""),s=e.cloneNode(!1);return s.textContent=n,s}}catch(o){if(this.context.logger.error("Unable to access cssRules property",o),o.name!=="SecurityError")throw o}return e.cloneNode(!1)},r.prototype.createCanvasClone=function(e){var t;if(this.options.inlineImages&&e.ownerDocument){var n=e.ownerDocument.createElement("img");try{return n.src=e.toDataURL(),n}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var s=e.cloneNode(!1);try{s.width=e.width,s.height=e.height;var o=e.getContext("2d"),l=s.getContext("2d");if(l)if(!this.options.allowTaint&&o)l.putImageData(o.getImageData(0,0,e.width,e.height),0,0);else{var c=(t=e.getContext("webgl2"))!==null&&t!==void 0?t:e.getContext("webgl");if(c){var d=c.getContextAttributes();(d==null?void 0:d.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}l.drawImage(e,0,0)}return s}catch{this.context.logger.info("Unable to clone canvas as it is tainted",e)}return s},r.prototype.createVideoClone=function(e){var t=e.ownerDocument.createElement("canvas");t.width=e.offsetWidth,t.height=e.offsetHeight;var n=t.getContext("2d");try{return n&&(n.drawImage(e,0,0,t.width,t.height),this.options.allowTaint||n.getImageData(0,0,t.width,t.height)),t}catch{this.context.logger.info("Unable to clone video as it is tainted",e)}var s=e.ownerDocument.createElement("canvas");return s.width=e.offsetWidth,s.height=e.offsetHeight,s},r.prototype.appendChildNode=function(e,t,n){(!Kh(t)||!z$(t)&&!t.hasAttribute(o8)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(t)))&&(!this.options.copyStyles||!Kh(t)||!F3(t))&&e.appendChild(this.cloneNode(t,n))},r.prototype.cloneChildNodes=function(e,t,n){for(var s=this,o=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;o;o=o.nextSibling)if(Kh(o)&&a8(o)&&typeof o.assignedNodes=="function"){var l=o.assignedNodes();l.length&&l.forEach(function(c){return s.appendChildNode(t,c,n)})}else this.appendChildNode(t,o,n)},r.prototype.cloneNode=function(e,t){if(t8(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var n=e.ownerDocument.defaultView;if(n&&Kh(e)&&(Ww(e)||m1(e))){var s=this.createElementClone(e);s.style.transitionProperty="none";var o=n.getComputedStyle(e),l=n.getComputedStyle(e,":before"),c=n.getComputedStyle(e,":after");this.referenceElement===e&&Ww(s)&&(this.clonedReferenceElement=s),q5(s)&&aX(s);var d=this.counters.parse(new p3(this.context,o)),h=this.resolvePseudoContent(e,s,l,dg.BEFORE);k3(e)&&(t=!0),U3(e)||this.cloneChildNodes(e,s,t),h&&s.insertBefore(h,s.firstChild);var g=this.resolvePseudoContent(e,s,c,dg.AFTER);return g&&s.appendChild(g),this.counters.pop(d),(o&&(this.options.copyStyles||m1(e))&&!s8(e)||t)&&py(o,s),(e.scrollTop!==0||e.scrollLeft!==0)&&this.scrolledElements.push([s,e.scrollLeft,e.scrollTop]),(ox(e)||Ax(e))&&(ox(s)||Ax(s))&&(s.value=e.value),s}return e.cloneNode(!1)},r.prototype.resolvePseudoContent=function(e,t,n,s){var o=this;if(n){var l=n.content,c=t.ownerDocument;if(!(!c||!l||l==="none"||l==="-moz-alt-content"||n.display==="none")){this.counters.parse(new p3(this.context,n));var d=new PG(this.context,n),h=c.createElement("html2canvaspseudoelement");py(n,h),d.content.forEach(function(x){if(x.type===0)h.appendChild(c.createTextNode(x.value));else if(x.type===22){var B=c.createElement("img");B.src=x.value,B.style.opacity="1",h.appendChild(B)}else if(x.type===18){if(x.name==="attr"){var w=x.values.filter(Sn);w.length&&h.appendChild(c.createTextNode(e.getAttribute(w[0].value)||""))}else if(x.name==="counter"){var I=x.values.filter(Cf),j=I[0],M=I[1];if(j&&Sn(j)){var L=o.counters.getCounterValue(j.value),X=M&&Sn(M)?Gw.parse(o.context,M.value):3;h.appendChild(c.createTextNode(Mg(L,X,!1)))}}else if(x.name==="counters"){var V=x.values.filter(Cf),j=V[0],z=V[1],M=V[2];if(j&&Sn(j)){var ne=o.counters.getCounterValues(j.value),le=M&&Sn(M)?Gw.parse(o.context,M.value):3,R=z&&z.type===0?z.value:"",U=ne.map(function(E){return Mg(E,le,!1)}).join(R);h.appendChild(c.createTextNode(U))}}}else if(x.type===20)switch(x.value){case"open-quote":h.appendChild(c.createTextNode(m3(d.quotes,o.quoteDepth++,!0)));break;case"close-quote":h.appendChild(c.createTextNode(m3(d.quotes,--o.quoteDepth,!1)));break;default:h.appendChild(c.createTextNode(x.value))}}),h.className=Zw+" "+ev;var g=s===dg.BEFORE?" "+Zw:" "+ev;return m1(t)?t.className.baseValue+=g:t.className+=g,h}}},r.destroy=function(e){return e.parentNode?(e.parentNode.removeChild(e),!0):!1},r})(),dg;(function(r){r[r.BEFORE=0]="BEFORE",r[r.AFTER=1]="AFTER"})(dg||(dg={}));var X$=function(r,e){var t=r.createElement("iframe");return t.className="html2canvas-container",t.style.visibility="hidden",t.style.position="fixed",t.style.left="-10000px",t.style.top="0px",t.style.border="0",t.width=e.width.toString(),t.height=e.height.toString(),t.scrolling="no",t.setAttribute(o8,"true"),r.body.appendChild(t),t},Y$=function(r){return new Promise(function(e){if(r.complete){e();return}if(!r.src){e();return}r.onload=e,r.onerror=e})},W$=function(r){return Promise.all([].slice.call(r.images,0).map(Y$))},J$=function(r){return new Promise(function(e,t){var n=r.contentWindow;if(!n)return t("No window assigned for iframe");var s=n.document;n.onload=r.onload=function(){n.onload=r.onload=null;var o=setInterval(function(){s.body.childNodes.length>0&&s.readyState==="complete"&&(clearInterval(o),e(r))},50)}})},Z$=["all","d","content"],py=function(r,e){for(var t=r.length-1;t>=0;t--){var n=r.item(t);Z$.indexOf(n)===-1&&e.style.setProperty(n,r.getPropertyValue(n))}return e},eX=function(r){var e="";return r&&(e+="<!DOCTYPE ",r.name&&(e+=r.name),r.internalSubset&&(e+=r.internalSubset),r.publicId&&(e+='"'+r.publicId+'"'),r.systemId&&(e+='"'+r.systemId+'"'),e+=">"),e},tX=function(r,e,t){r&&r.defaultView&&(e!==r.defaultView.pageXOffset||t!==r.defaultView.pageYOffset)&&r.defaultView.scrollTo(e,t)},rX=function(r){var e=r[0],t=r[1],n=r[2];e.scrollLeft=t,e.scrollTop=n},nX=":before",sX=":after",Zw="___html2canvas___pseudoelement_before",ev="___html2canvas___pseudoelement_after",P3=`{
    content: "" !important;
    display: none !important;
}`,aX=function(r){iX(r,"."+Zw+nX+P3+`
         .`+ev+sX+P3)},iX=function(r,e){var t=r.ownerDocument;if(t){var n=t.createElement("style");n.textContent=e,r.appendChild(n)}},A8=(function(){function r(){}return r.getOrigin=function(e){var t=r._link;return t?(t.href=e,t.href=t.href,t.protocol+t.hostname+t.port):"about:blank"},r.isSameOrigin=function(e){return r.getOrigin(e)===r._origin},r.setContext=function(e){r._link=e.document.createElement("a"),r._origin=r.getOrigin(e.location.href)},r._origin="about:blank",r})(),oX=(function(){function r(e,t){this.context=e,this._options=t,this._cache={}}return r.prototype.addImage=function(e){var t=Promise.resolve();return this.has(e)||(by(e)||uX(e))&&(this._cache[e]=this.loadImage(e)).catch(function(){}),t},r.prototype.match=function(e){return this._cache[e]},r.prototype.loadImage=function(e){return mi(this,void 0,void 0,function(){var t,n,s,o,l=this;return Ja(this,function(c){switch(c.label){case 0:return t=A8.isSameOrigin(e),n=!xy(e)&&this._options.useCORS===!0&&Qa.SUPPORT_CORS_IMAGES&&!t,s=!xy(e)&&!t&&!by(e)&&typeof this._options.proxy=="string"&&Qa.SUPPORT_CORS_XHR&&!n,!t&&this._options.allowTaint===!1&&!xy(e)&&!by(e)&&!s&&!n?[2]:(o=e,s?[4,this.proxy(o)]:[3,2]);case 1:o=c.sent(),c.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise(function(d,h){var g=new Image;g.onload=function(){return d(g)},g.onerror=h,(dX(o)||n)&&(g.crossOrigin="anonymous"),g.src=o,g.complete===!0&&setTimeout(function(){return d(g)},500),l._options.imageTimeout>0&&setTimeout(function(){return h("Timed out ("+l._options.imageTimeout+"ms) loading image")},l._options.imageTimeout)})];case 3:return[2,c.sent()]}})})},r.prototype.has=function(e){return typeof this._cache[e]<"u"},r.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},r.prototype.proxy=function(e){var t=this,n=this._options.proxy;if(!n)throw new Error("No proxy defined");var s=e.substring(0,256);return new Promise(function(o,l){var c=Qa.SUPPORT_RESPONSE_TYPE?"blob":"text",d=new XMLHttpRequest;d.onload=function(){if(d.status===200)if(c==="text")o(d.response);else{var x=new FileReader;x.addEventListener("load",function(){return o(x.result)},!1),x.addEventListener("error",function(B){return l(B)},!1),x.readAsDataURL(d.response)}else l("Failed to proxy resource "+s+" with status code "+d.status)},d.onerror=l;var h=n.indexOf("?")>-1?"&":"?";if(d.open("GET",""+n+h+"url="+encodeURIComponent(e)+"&responseType="+c),c!=="text"&&d instanceof XMLHttpRequest&&(d.responseType=c),t._options.imageTimeout){var g=t._options.imageTimeout;d.timeout=g,d.ontimeout=function(){return l("Timed out ("+g+"ms) proxying "+s)}}d.send()})},r})(),AX=/^data:image\/svg\+xml/i,lX=/^data:image\/.*;base64,/i,cX=/^data:image\/.*/i,uX=function(r){return Qa.SUPPORT_SVG_DRAWING||!hX(r)},xy=function(r){return cX.test(r)},dX=function(r){return lX.test(r)},by=function(r){return r.substr(0,4)==="blob"},hX=function(r){return r.substr(-3).toLowerCase()==="svg"||AX.test(r)},vt=(function(){function r(e,t){this.type=0,this.x=e,this.y=t}return r.prototype.add=function(e,t){return new r(this.x+e,this.y+t)},r})(),Ih=function(r,e,t){return new vt(r.x+(e.x-r.x)*t,r.y+(e.y-r.y)*t)},Rp=(function(){function r(e,t,n,s){this.type=1,this.start=e,this.startControl=t,this.endControl=n,this.end=s}return r.prototype.subdivide=function(e,t){var n=Ih(this.start,this.startControl,e),s=Ih(this.startControl,this.endControl,e),o=Ih(this.endControl,this.end,e),l=Ih(n,s,e),c=Ih(s,o,e),d=Ih(l,c,e);return t?new r(this.start,n,l,d):new r(d,c,o,this.end)},r.prototype.add=function(e,t){return new r(this.start.add(e,t),this.startControl.add(e,t),this.endControl.add(e,t),this.end.add(e,t))},r.prototype.reverse=function(){return new r(this.end,this.endControl,this.startControl,this.start)},r})(),Lo=function(r){return r.type===1},fX=(function(){function r(e){var t=e.styles,n=e.bounds,s=$0(t.borderTopLeftRadius,n.width,n.height),o=s[0],l=s[1],c=$0(t.borderTopRightRadius,n.width,n.height),d=c[0],h=c[1],g=$0(t.borderBottomRightRadius,n.width,n.height),x=g[0],B=g[1],w=$0(t.borderBottomLeftRadius,n.width,n.height),I=w[0],j=w[1],M=[];M.push((o+d)/n.width),M.push((I+x)/n.width),M.push((l+j)/n.height),M.push((h+B)/n.height);var L=Math.max.apply(Math,M);L>1&&(o/=L,l/=L,d/=L,h/=L,x/=L,B/=L,I/=L,j/=L);var X=n.width-d,V=n.height-B,z=n.width-x,ne=n.height-j,le=t.borderTopWidth,R=t.borderRightWidth,U=t.borderBottomWidth,S=t.borderLeftWidth,P=Ln(t.paddingTop,e.bounds.width),E=Ln(t.paddingRight,e.bounds.width),F=Ln(t.paddingBottom,e.bounds.width),Q=Ln(t.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=o>0||l>0?Zn(n.left+S/3,n.top+le/3,o-S/3,l-le/3,cn.TOP_LEFT):new vt(n.left+S/3,n.top+le/3),this.topRightBorderDoubleOuterBox=o>0||l>0?Zn(n.left+X,n.top+le/3,d-R/3,h-le/3,cn.TOP_RIGHT):new vt(n.left+n.width-R/3,n.top+le/3),this.bottomRightBorderDoubleOuterBox=x>0||B>0?Zn(n.left+z,n.top+V,x-R/3,B-U/3,cn.BOTTOM_RIGHT):new vt(n.left+n.width-R/3,n.top+n.height-U/3),this.bottomLeftBorderDoubleOuterBox=I>0||j>0?Zn(n.left+S/3,n.top+ne,I-S/3,j-U/3,cn.BOTTOM_LEFT):new vt(n.left+S/3,n.top+n.height-U/3),this.topLeftBorderDoubleInnerBox=o>0||l>0?Zn(n.left+S*2/3,n.top+le*2/3,o-S*2/3,l-le*2/3,cn.TOP_LEFT):new vt(n.left+S*2/3,n.top+le*2/3),this.topRightBorderDoubleInnerBox=o>0||l>0?Zn(n.left+X,n.top+le*2/3,d-R*2/3,h-le*2/3,cn.TOP_RIGHT):new vt(n.left+n.width-R*2/3,n.top+le*2/3),this.bottomRightBorderDoubleInnerBox=x>0||B>0?Zn(n.left+z,n.top+V,x-R*2/3,B-U*2/3,cn.BOTTOM_RIGHT):new vt(n.left+n.width-R*2/3,n.top+n.height-U*2/3),this.bottomLeftBorderDoubleInnerBox=I>0||j>0?Zn(n.left+S*2/3,n.top+ne,I-S*2/3,j-U*2/3,cn.BOTTOM_LEFT):new vt(n.left+S*2/3,n.top+n.height-U*2/3),this.topLeftBorderStroke=o>0||l>0?Zn(n.left+S/2,n.top+le/2,o-S/2,l-le/2,cn.TOP_LEFT):new vt(n.left+S/2,n.top+le/2),this.topRightBorderStroke=o>0||l>0?Zn(n.left+X,n.top+le/2,d-R/2,h-le/2,cn.TOP_RIGHT):new vt(n.left+n.width-R/2,n.top+le/2),this.bottomRightBorderStroke=x>0||B>0?Zn(n.left+z,n.top+V,x-R/2,B-U/2,cn.BOTTOM_RIGHT):new vt(n.left+n.width-R/2,n.top+n.height-U/2),this.bottomLeftBorderStroke=I>0||j>0?Zn(n.left+S/2,n.top+ne,I-S/2,j-U/2,cn.BOTTOM_LEFT):new vt(n.left+S/2,n.top+n.height-U/2),this.topLeftBorderBox=o>0||l>0?Zn(n.left,n.top,o,l,cn.TOP_LEFT):new vt(n.left,n.top),this.topRightBorderBox=d>0||h>0?Zn(n.left+X,n.top,d,h,cn.TOP_RIGHT):new vt(n.left+n.width,n.top),this.bottomRightBorderBox=x>0||B>0?Zn(n.left+z,n.top+V,x,B,cn.BOTTOM_RIGHT):new vt(n.left+n.width,n.top+n.height),this.bottomLeftBorderBox=I>0||j>0?Zn(n.left,n.top+ne,I,j,cn.BOTTOM_LEFT):new vt(n.left,n.top+n.height),this.topLeftPaddingBox=o>0||l>0?Zn(n.left+S,n.top+le,Math.max(0,o-S),Math.max(0,l-le),cn.TOP_LEFT):new vt(n.left+S,n.top+le),this.topRightPaddingBox=d>0||h>0?Zn(n.left+Math.min(X,n.width-R),n.top+le,X>n.width+R?0:Math.max(0,d-R),Math.max(0,h-le),cn.TOP_RIGHT):new vt(n.left+n.width-R,n.top+le),this.bottomRightPaddingBox=x>0||B>0?Zn(n.left+Math.min(z,n.width-S),n.top+Math.min(V,n.height-U),Math.max(0,x-R),Math.max(0,B-U),cn.BOTTOM_RIGHT):new vt(n.left+n.width-R,n.top+n.height-U),this.bottomLeftPaddingBox=I>0||j>0?Zn(n.left+S,n.top+Math.min(ne,n.height-U),Math.max(0,I-S),Math.max(0,j-U),cn.BOTTOM_LEFT):new vt(n.left+S,n.top+n.height-U),this.topLeftContentBox=o>0||l>0?Zn(n.left+S+Q,n.top+le+P,Math.max(0,o-(S+Q)),Math.max(0,l-(le+P)),cn.TOP_LEFT):new vt(n.left+S+Q,n.top+le+P),this.topRightContentBox=d>0||h>0?Zn(n.left+Math.min(X,n.width+S+Q),n.top+le+P,X>n.width+S+Q?0:d-S+Q,h-(le+P),cn.TOP_RIGHT):new vt(n.left+n.width-(R+E),n.top+le+P),this.bottomRightContentBox=x>0||B>0?Zn(n.left+Math.min(z,n.width-(S+Q)),n.top+Math.min(V,n.height+le+P),Math.max(0,x-(R+E)),B-(U+F),cn.BOTTOM_RIGHT):new vt(n.left+n.width-(R+E),n.top+n.height-(U+F)),this.bottomLeftContentBox=I>0||j>0?Zn(n.left+S+Q,n.top+ne,Math.max(0,I-(S+Q)),j-(U+F),cn.BOTTOM_LEFT):new vt(n.left+S+Q,n.top+n.height-(U+F))}return r})(),cn;(function(r){r[r.TOP_LEFT=0]="TOP_LEFT",r[r.TOP_RIGHT=1]="TOP_RIGHT",r[r.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",r[r.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(cn||(cn={}));var Zn=function(r,e,t,n,s){var o=4*((Math.sqrt(2)-1)/3),l=t*o,c=n*o,d=r+t,h=e+n;switch(s){case cn.TOP_LEFT:return new Rp(new vt(r,h),new vt(r,h-c),new vt(d-l,e),new vt(d,e));case cn.TOP_RIGHT:return new Rp(new vt(r,e),new vt(r+l,e),new vt(d,h-c),new vt(d,h));case cn.BOTTOM_RIGHT:return new Rp(new vt(d,e),new vt(d,e+c),new vt(r+l,h),new vt(r,h));case cn.BOTTOM_LEFT:default:return new Rp(new vt(d,h),new vt(d-l,h),new vt(r,e+c),new vt(r,e))}},lx=function(r){return[r.topLeftBorderBox,r.topRightBorderBox,r.bottomRightBorderBox,r.bottomLeftBorderBox]},gX=function(r){return[r.topLeftContentBox,r.topRightContentBox,r.bottomRightContentBox,r.bottomLeftContentBox]},cx=function(r){return[r.topLeftPaddingBox,r.topRightPaddingBox,r.bottomRightPaddingBox,r.bottomLeftPaddingBox]},mX=(function(){function r(e,t,n){this.offsetX=e,this.offsetY=t,this.matrix=n,this.type=0,this.target=6}return r})(),Dp=(function(){function r(e,t){this.path=e,this.target=t,this.type=1}return r})(),pX=(function(){function r(e){this.opacity=e,this.type=2,this.target=6}return r})(),xX=function(r){return r.type===0},l8=function(r){return r.type===1},bX=function(r){return r.type===2},H3=function(r,e){return r.length===e.length?r.some(function(t,n){return t===e[n]}):!1},yX=function(r,e,t,n,s){return r.map(function(o,l){switch(l){case 0:return o.add(e,t);case 1:return o.add(e+n,t);case 2:return o.add(e+n,t+s);case 3:return o.add(e,t+s)}return o})},c8=(function(){function r(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return r})(),u8=(function(){function r(e,t){if(this.container=e,this.parent=t,this.effects=[],this.curves=new fX(this.container),this.container.styles.opacity<1&&this.effects.push(new pX(this.container.styles.opacity)),this.container.styles.transform!==null){var n=this.container.bounds.left+this.container.styles.transformOrigin[0].number,s=this.container.bounds.top+this.container.styles.transformOrigin[1].number,o=this.container.styles.transform;this.effects.push(new mX(n,s,o))}if(this.container.styles.overflowX!==0){var l=lx(this.curves),c=cx(this.curves);H3(l,c)?this.effects.push(new Dp(l,6)):(this.effects.push(new Dp(l,2)),this.effects.push(new Dp(c,4)))}}return r.prototype.getEffects=function(e){for(var t=[2,3].indexOf(this.container.styles.position)===-1,n=this.parent,s=this.effects.slice(0);n;){var o=n.effects.filter(function(d){return!l8(d)});if(t||n.container.styles.position!==0||!n.parent){if(s.unshift.apply(s,o),t=[2,3].indexOf(n.container.styles.position)===-1,n.container.styles.overflowX!==0){var l=lx(n.curves),c=cx(n.curves);H3(l,c)||s.unshift(new Dp(c,6))}}else s.unshift.apply(s,o);n=n.parent}return s.filter(function(d){return ea(d.target,e)})},r})(),tv=function(r,e,t,n){r.container.elements.forEach(function(s){var o=ea(s.flags,4),l=ea(s.flags,2),c=new u8(s,r);ea(s.styles.display,2048)&&n.push(c);var d=ea(s.flags,8)?[]:n;if(o||l){var h=o||s.styles.isPositioned()?t:e,g=new c8(c);if(s.styles.isPositioned()||s.styles.opacity<1||s.styles.isTransformed()){var x=s.styles.zIndex.order;if(x<0){var B=0;h.negativeZIndex.some(function(I,j){return x>I.element.container.styles.zIndex.order?(B=j,!1):B>0}),h.negativeZIndex.splice(B,0,g)}else if(x>0){var w=0;h.positiveZIndex.some(function(I,j){return x>=I.element.container.styles.zIndex.order?(w=j+1,!1):w>0}),h.positiveZIndex.splice(w,0,g)}else h.zeroOrAutoZIndexOrTransformedOrOpacity.push(g)}else s.styles.isFloating()?h.nonPositionedFloats.push(g):h.nonPositionedInlineLevel.push(g);tv(c,g,o?g:t,d)}else s.styles.isInlineLevel()?e.inlineLevel.push(c):e.nonInlineLevel.push(c),tv(c,e,t,d);ea(s.flags,8)&&d8(s,d)})},d8=function(r,e){for(var t=r instanceof Yw?r.start:1,n=r instanceof Yw?r.reversed:!1,s=0;s<e.length;s++){var o=e[s];o.container instanceof XT&&typeof o.container.value=="number"&&o.container.value!==0&&(t=o.container.value),o.listValue=Mg(t,o.container.styles.listStyleType,!0),t+=n?-1:1}},wX=function(r){var e=new u8(r,null),t=new c8(e),n=[];return tv(e,t,t,n),d8(e.container,n),t},V3=function(r,e){switch(e){case 0:return Ho(r.topLeftBorderBox,r.topLeftPaddingBox,r.topRightBorderBox,r.topRightPaddingBox);case 1:return Ho(r.topRightBorderBox,r.topRightPaddingBox,r.bottomRightBorderBox,r.bottomRightPaddingBox);case 2:return Ho(r.bottomRightBorderBox,r.bottomRightPaddingBox,r.bottomLeftBorderBox,r.bottomLeftPaddingBox);case 3:default:return Ho(r.bottomLeftBorderBox,r.bottomLeftPaddingBox,r.topLeftBorderBox,r.topLeftPaddingBox)}},vX=function(r,e){switch(e){case 0:return Ho(r.topLeftBorderBox,r.topLeftBorderDoubleOuterBox,r.topRightBorderBox,r.topRightBorderDoubleOuterBox);case 1:return Ho(r.topRightBorderBox,r.topRightBorderDoubleOuterBox,r.bottomRightBorderBox,r.bottomRightBorderDoubleOuterBox);case 2:return Ho(r.bottomRightBorderBox,r.bottomRightBorderDoubleOuterBox,r.bottomLeftBorderBox,r.bottomLeftBorderDoubleOuterBox);case 3:default:return Ho(r.bottomLeftBorderBox,r.bottomLeftBorderDoubleOuterBox,r.topLeftBorderBox,r.topLeftBorderDoubleOuterBox)}},BX=function(r,e){switch(e){case 0:return Ho(r.topLeftBorderDoubleInnerBox,r.topLeftPaddingBox,r.topRightBorderDoubleInnerBox,r.topRightPaddingBox);case 1:return Ho(r.topRightBorderDoubleInnerBox,r.topRightPaddingBox,r.bottomRightBorderDoubleInnerBox,r.bottomRightPaddingBox);case 2:return Ho(r.bottomRightBorderDoubleInnerBox,r.bottomRightPaddingBox,r.bottomLeftBorderDoubleInnerBox,r.bottomLeftPaddingBox);case 3:default:return Ho(r.bottomLeftBorderDoubleInnerBox,r.bottomLeftPaddingBox,r.topLeftBorderDoubleInnerBox,r.topLeftPaddingBox)}},NX=function(r,e){switch(e){case 0:return Op(r.topLeftBorderStroke,r.topRightBorderStroke);case 1:return Op(r.topRightBorderStroke,r.bottomRightBorderStroke);case 2:return Op(r.bottomRightBorderStroke,r.bottomLeftBorderStroke);case 3:default:return Op(r.bottomLeftBorderStroke,r.topLeftBorderStroke)}},Op=function(r,e){var t=[];return Lo(r)?t.push(r.subdivide(.5,!1)):t.push(r),Lo(e)?t.push(e.subdivide(.5,!0)):t.push(e),t},Ho=function(r,e,t,n){var s=[];return Lo(r)?s.push(r.subdivide(.5,!1)):s.push(r),Lo(t)?s.push(t.subdivide(.5,!0)):s.push(t),Lo(n)?s.push(n.subdivide(.5,!0).reverse()):s.push(n),Lo(e)?s.push(e.subdivide(.5,!1).reverse()):s.push(e),s},h8=function(r){var e=r.bounds,t=r.styles;return e.add(t.borderLeftWidth,t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth),-(t.borderTopWidth+t.borderBottomWidth))},ux=function(r){var e=r.styles,t=r.bounds,n=Ln(e.paddingLeft,t.width),s=Ln(e.paddingRight,t.width),o=Ln(e.paddingTop,t.width),l=Ln(e.paddingBottom,t.width);return t.add(n+e.borderLeftWidth,o+e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth+n+s),-(e.borderTopWidth+e.borderBottomWidth+o+l))},_X=function(r,e){return r===0?e.bounds:r===2?ux(e):h8(e)},CX=function(r,e){return r===0?e.bounds:r===2?ux(e):h8(e)},yy=function(r,e,t){var n=_X(Mh(r.styles.backgroundOrigin,e),r),s=CX(Mh(r.styles.backgroundClip,e),r),o=EX(Mh(r.styles.backgroundSize,e),t,n),l=o[0],c=o[1],d=$0(Mh(r.styles.backgroundPosition,e),n.width-l,n.height-c),h=SX(Mh(r.styles.backgroundRepeat,e),d,o,n,s),g=Math.round(n.left+d[0]),x=Math.round(n.top+d[1]);return[h,g,x,l,c]},jh=function(r){return Sn(r)&&r.value===Wh.AUTO},Mp=function(r){return typeof r=="number"},EX=function(r,e,t){var n=e[0],s=e[1],o=e[2],l=r[0],c=r[1];if(!l)return[0,0];if(Ps(l)&&c&&Ps(c))return[Ln(l,t.width),Ln(c,t.height)];var d=Mp(o);if(Sn(l)&&(l.value===Wh.CONTAIN||l.value===Wh.COVER)){if(Mp(o)){var h=t.width/t.height;return h<o!=(l.value===Wh.COVER)?[t.width,t.width/o]:[t.height*o,t.height]}return[t.width,t.height]}var g=Mp(n),x=Mp(s),B=g||x;if(jh(l)&&(!c||jh(c))){if(g&&x)return[n,s];if(!d&&!B)return[t.width,t.height];if(B&&d){var w=g?n:s*o,I=x?s:n/o;return[w,I]}var j=g?n:t.width,M=x?s:t.height;return[j,M]}if(d){var L=0,X=0;return Ps(l)?L=Ln(l,t.width):Ps(c)&&(X=Ln(c,t.height)),jh(l)?L=X*o:(!c||jh(c))&&(X=L/o),[L,X]}var V=null,z=null;if(Ps(l)?V=Ln(l,t.width):c&&Ps(c)&&(z=Ln(c,t.height)),V!==null&&(!c||jh(c))&&(z=g&&x?V/n*s:t.height),z!==null&&jh(l)&&(V=g&&x?z/s*n:t.width),V!==null&&z!==null)return[V,z];throw new Error("Unable to calculate background-size for element")},Mh=function(r,e){var t=r[e];return typeof t>"u"?r[0]:t},SX=function(r,e,t,n,s){var o=e[0],l=e[1],c=t[0],d=t[1];switch(r){case 2:return[new vt(Math.round(n.left),Math.round(n.top+l)),new vt(Math.round(n.left+n.width),Math.round(n.top+l)),new vt(Math.round(n.left+n.width),Math.round(d+n.top+l)),new vt(Math.round(n.left),Math.round(d+n.top+l))];case 3:return[new vt(Math.round(n.left+o),Math.round(n.top)),new vt(Math.round(n.left+o+c),Math.round(n.top)),new vt(Math.round(n.left+o+c),Math.round(n.height+n.top)),new vt(Math.round(n.left+o),Math.round(n.height+n.top))];case 1:return[new vt(Math.round(n.left+o),Math.round(n.top+l)),new vt(Math.round(n.left+o+c),Math.round(n.top+l)),new vt(Math.round(n.left+o+c),Math.round(n.top+l+d)),new vt(Math.round(n.left+o),Math.round(n.top+l+d))];default:return[new vt(Math.round(s.left),Math.round(s.top)),new vt(Math.round(s.left+s.width),Math.round(s.top)),new vt(Math.round(s.left+s.width),Math.round(s.height+s.top)),new vt(Math.round(s.left),Math.round(s.height+s.top))]}},IX="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",K3="Hidden Text",jX=(function(){function r(e){this._data={},this._document=e}return r.prototype.parseMetrics=function(e,t){var n=this._document.createElement("div"),s=this._document.createElement("img"),o=this._document.createElement("span"),l=this._document.body;n.style.visibility="hidden",n.style.fontFamily=e,n.style.fontSize=t,n.style.margin="0",n.style.padding="0",n.style.whiteSpace="nowrap",l.appendChild(n),s.src=IX,s.width=1,s.height=1,s.style.margin="0",s.style.padding="0",s.style.verticalAlign="baseline",o.style.fontFamily=e,o.style.fontSize=t,o.style.margin="0",o.style.padding="0",o.appendChild(this._document.createTextNode(K3)),n.appendChild(o),n.appendChild(s);var c=s.offsetTop-o.offsetTop+2;n.removeChild(o),n.appendChild(this._document.createTextNode(K3)),n.style.lineHeight="normal",s.style.verticalAlign="super";var d=s.offsetTop-n.offsetTop+2;return l.removeChild(n),{baseline:c,middle:d}},r.prototype.getMetrics=function(e,t){var n=e+" "+t;return typeof this._data[n]>"u"&&(this._data[n]=this.parseMetrics(e,t)),this._data[n]},r})(),f8=(function(){function r(e,t){this.context=e,this.options=t}return r})(),TX=1e4,UX=(function(r){_A(e,r);function e(t,n){var s=r.call(this,t,n)||this;return s._activeEffects=[],s.canvas=n.canvas?n.canvas:document.createElement("canvas"),s.ctx=s.canvas.getContext("2d"),n.canvas||(s.canvas.width=Math.floor(n.width*n.scale),s.canvas.height=Math.floor(n.height*n.scale),s.canvas.style.width=n.width+"px",s.canvas.style.height=n.height+"px"),s.fontMetrics=new jX(document),s.ctx.scale(s.options.scale,s.options.scale),s.ctx.translate(-n.x,-n.y),s.ctx.textBaseline="bottom",s._activeEffects=[],s.context.logger.debug("Canvas renderer initialized ("+n.width+"x"+n.height+") with scale "+n.scale),s}return e.prototype.applyEffects=function(t){for(var n=this;this._activeEffects.length;)this.popEffect();t.forEach(function(s){return n.applyEffect(s)})},e.prototype.applyEffect=function(t){this.ctx.save(),bX(t)&&(this.ctx.globalAlpha=t.opacity),xX(t)&&(this.ctx.translate(t.offsetX,t.offsetY),this.ctx.transform(t.matrix[0],t.matrix[1],t.matrix[2],t.matrix[3],t.matrix[4],t.matrix[5]),this.ctx.translate(-t.offsetX,-t.offsetY)),l8(t)&&(this.path(t.path),this.ctx.clip()),this._activeEffects.push(t)},e.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},e.prototype.renderStack=function(t){return mi(this,void 0,void 0,function(){var n;return Ja(this,function(s){switch(s.label){case 0:return n=t.element.container.styles,n.isVisible()?[4,this.renderStackContent(t)]:[3,2];case 1:s.sent(),s.label=2;case 2:return[2]}})})},e.prototype.renderNode=function(t){return mi(this,void 0,void 0,function(){return Ja(this,function(n){switch(n.label){case 0:if(ea(t.container.flags,16))debugger;return t.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(t)]:[3,3];case 1:return n.sent(),[4,this.renderNodeContent(t)];case 2:n.sent(),n.label=3;case 3:return[2]}})})},e.prototype.renderTextWithLetterSpacing=function(t,n,s){var o=this;if(n===0)this.ctx.fillText(t.text,t.bounds.left,t.bounds.top+s);else{var l=K5(t.text);l.reduce(function(c,d){return o.ctx.fillText(d,c,t.bounds.top+s),c+o.ctx.measureText(d).width},t.bounds.left)}},e.prototype.createFontStyle=function(t){var n=t.fontVariant.filter(function(l){return l==="normal"||l==="small-caps"}).join(""),s=RX(t.fontFamily).join(", "),o=fm(t.fontSize)?""+t.fontSize.number+t.fontSize.unit:t.fontSize.number+"px";return[[t.fontStyle,n,t.fontWeight,o,s].join(" "),s,o]},e.prototype.renderTextNode=function(t,n){return mi(this,void 0,void 0,function(){var s,o,l,c,d,h,g,x,B=this;return Ja(this,function(w){return s=this.createFontStyle(n),o=s[0],l=s[1],c=s[2],this.ctx.font=o,this.ctx.direction=n.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",d=this.fontMetrics.getMetrics(l,c),h=d.baseline,g=d.middle,x=n.paintOrder,t.textBounds.forEach(function(I){x.forEach(function(j){switch(j){case 0:B.ctx.fillStyle=ma(n.color),B.renderTextWithLetterSpacing(I,n.letterSpacing,h);var M=n.textShadow;M.length&&I.text.trim().length&&(M.slice(0).reverse().forEach(function(L){B.ctx.shadowColor=ma(L.color),B.ctx.shadowOffsetX=L.offsetX.number*B.options.scale,B.ctx.shadowOffsetY=L.offsetY.number*B.options.scale,B.ctx.shadowBlur=L.blur.number,B.renderTextWithLetterSpacing(I,n.letterSpacing,h)}),B.ctx.shadowColor="",B.ctx.shadowOffsetX=0,B.ctx.shadowOffsetY=0,B.ctx.shadowBlur=0),n.textDecorationLine.length&&(B.ctx.fillStyle=ma(n.textDecorationColor||n.color),n.textDecorationLine.forEach(function(L){switch(L){case 1:B.ctx.fillRect(I.bounds.left,Math.round(I.bounds.top+h),I.bounds.width,1);break;case 2:B.ctx.fillRect(I.bounds.left,Math.round(I.bounds.top),I.bounds.width,1);break;case 3:B.ctx.fillRect(I.bounds.left,Math.ceil(I.bounds.top+g),I.bounds.width,1);break}}));break;case 1:n.webkitTextStrokeWidth&&I.text.trim().length&&(B.ctx.strokeStyle=ma(n.webkitTextStrokeColor),B.ctx.lineWidth=n.webkitTextStrokeWidth,B.ctx.lineJoin=window.chrome?"miter":"round",B.ctx.strokeText(I.text,I.bounds.left,I.bounds.top+h)),B.ctx.strokeStyle="",B.ctx.lineWidth=0,B.ctx.lineJoin="miter";break}})}),[2]})})},e.prototype.renderReplacedElement=function(t,n,s){if(s&&t.intrinsicWidth>0&&t.intrinsicHeight>0){var o=ux(t),l=cx(n);this.path(l),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(s,0,0,t.intrinsicWidth,t.intrinsicHeight,o.left,o.top,o.width,o.height),this.ctx.restore()}},e.prototype.renderNodeContent=function(t){return mi(this,void 0,void 0,function(){var n,s,o,l,c,d,X,X,h,g,x,B,z,w,I,ne,j,M,L,X,V,z,ne;return Ja(this,function(le){switch(le.label){case 0:this.applyEffects(t.getEffects(4)),n=t.container,s=t.curves,o=n.styles,l=0,c=n.textNodes,le.label=1;case 1:return l<c.length?(d=c[l],[4,this.renderTextNode(d,o)]):[3,4];case 2:le.sent(),le.label=3;case 3:return l++,[3,1];case 4:if(!(n instanceof qT))return[3,8];le.label=5;case 5:return le.trys.push([5,7,,8]),[4,this.context.cache.match(n.src)];case 6:return X=le.sent(),this.renderReplacedElement(n,s,X),[3,8];case 7:return le.sent(),this.context.logger.error("Error loading image "+n.src),[3,8];case 8:if(n instanceof GT&&this.renderReplacedElement(n,s,n.canvas),!(n instanceof $T))return[3,12];le.label=9;case 9:return le.trys.push([9,11,,12]),[4,this.context.cache.match(n.svg)];case 10:return X=le.sent(),this.renderReplacedElement(n,s,X),[3,12];case 11:return le.sent(),this.context.logger.error("Error loading svg "+n.svg.substring(0,255)),[3,12];case 12:return n instanceof JT&&n.tree?(h=new e(this.context,{scale:this.options.scale,backgroundColor:n.backgroundColor,x:0,y:0,width:n.width,height:n.height}),[4,h.render(n.tree)]):[3,14];case 13:g=le.sent(),n.width&&n.height&&this.ctx.drawImage(g,0,0,n.width,n.height,n.bounds.left,n.bounds.top,n.bounds.width,n.bounds.height),le.label=14;case 14:if(n instanceof z5&&(x=Math.min(n.bounds.width,n.bounds.height),n.type===ax?n.checked&&(this.ctx.save(),this.path([new vt(n.bounds.left+x*.39363,n.bounds.top+x*.79),new vt(n.bounds.left+x*.16,n.bounds.top+x*.5549),new vt(n.bounds.left+x*.27347,n.bounds.top+x*.44071),new vt(n.bounds.left+x*.39694,n.bounds.top+x*.5649),new vt(n.bounds.left+x*.72983,n.bounds.top+x*.23),new vt(n.bounds.left+x*.84,n.bounds.top+x*.34085),new vt(n.bounds.left+x*.39363,n.bounds.top+x*.79)]),this.ctx.fillStyle=ma(T3),this.ctx.fill(),this.ctx.restore()):n.type===ix&&n.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(n.bounds.left+x/2,n.bounds.top+x/2,x/4,0,Math.PI*2,!0),this.ctx.fillStyle=ma(T3),this.ctx.fill(),this.ctx.restore())),FX(n)&&n.value.length){switch(B=this.createFontStyle(o),z=B[0],w=B[1],I=this.fontMetrics.getMetrics(z,w).baseline,this.ctx.font=z,this.ctx.fillStyle=ma(o.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=QX(n.styles.textAlign),ne=ux(n),j=0,n.styles.textAlign){case 1:j+=ne.width/2;break;case 2:j+=ne.width;break}M=ne.add(j,0,0,-ne.height/2+1),this.ctx.save(),this.path([new vt(ne.left,ne.top),new vt(ne.left+ne.width,ne.top),new vt(ne.left+ne.width,ne.top+ne.height),new vt(ne.left,ne.top+ne.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new ug(n.value,M),o.letterSpacing,I),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!ea(n.styles.display,2048))return[3,20];if(n.styles.listStyleImage===null)return[3,19];if(L=n.styles.listStyleImage,L.type!==0)return[3,18];X=void 0,V=L.url,le.label=15;case 15:return le.trys.push([15,17,,18]),[4,this.context.cache.match(V)];case 16:return X=le.sent(),this.ctx.drawImage(X,n.bounds.left-(X.width+10),n.bounds.top),[3,18];case 17:return le.sent(),this.context.logger.error("Error loading list-style-image "+V),[3,18];case 18:return[3,20];case 19:t.listValue&&n.styles.listStyleType!==-1&&(z=this.createFontStyle(o)[0],this.ctx.font=z,this.ctx.fillStyle=ma(o.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",ne=new lc(n.bounds.left,n.bounds.top+Ln(n.styles.paddingTop,n.bounds.width),n.bounds.width,f3(o.lineHeight,o.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new ug(t.listValue,ne),o.letterSpacing,f3(o.lineHeight,o.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),le.label=20;case 20:return[2]}})})},e.prototype.renderStackContent=function(t){return mi(this,void 0,void 0,function(){var n,s,L,o,l,L,c,d,L,h,g,L,x,B,L,w,I,L,j,M,L;return Ja(this,function(X){switch(X.label){case 0:if(ea(t.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(t.element)];case 1:X.sent(),n=0,s=t.negativeZIndex,X.label=2;case 2:return n<s.length?(L=s[n],[4,this.renderStack(L)]):[3,5];case 3:X.sent(),X.label=4;case 4:return n++,[3,2];case 5:return[4,this.renderNodeContent(t.element)];case 6:X.sent(),o=0,l=t.nonInlineLevel,X.label=7;case 7:return o<l.length?(L=l[o],[4,this.renderNode(L)]):[3,10];case 8:X.sent(),X.label=9;case 9:return o++,[3,7];case 10:c=0,d=t.nonPositionedFloats,X.label=11;case 11:return c<d.length?(L=d[c],[4,this.renderStack(L)]):[3,14];case 12:X.sent(),X.label=13;case 13:return c++,[3,11];case 14:h=0,g=t.nonPositionedInlineLevel,X.label=15;case 15:return h<g.length?(L=g[h],[4,this.renderStack(L)]):[3,18];case 16:X.sent(),X.label=17;case 17:return h++,[3,15];case 18:x=0,B=t.inlineLevel,X.label=19;case 19:return x<B.length?(L=B[x],[4,this.renderNode(L)]):[3,22];case 20:X.sent(),X.label=21;case 21:return x++,[3,19];case 22:w=0,I=t.zeroOrAutoZIndexOrTransformedOrOpacity,X.label=23;case 23:return w<I.length?(L=I[w],[4,this.renderStack(L)]):[3,26];case 24:X.sent(),X.label=25;case 25:return w++,[3,23];case 26:j=0,M=t.positiveZIndex,X.label=27;case 27:return j<M.length?(L=M[j],[4,this.renderStack(L)]):[3,30];case 28:X.sent(),X.label=29;case 29:return j++,[3,27];case 30:return[2]}})})},e.prototype.mask=function(t){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(t.slice(0).reverse()),this.ctx.closePath()},e.prototype.path=function(t){this.ctx.beginPath(),this.formatPath(t),this.ctx.closePath()},e.prototype.formatPath=function(t){var n=this;t.forEach(function(s,o){var l=Lo(s)?s.start:s;o===0?n.ctx.moveTo(l.x,l.y):n.ctx.lineTo(l.x,l.y),Lo(s)&&n.ctx.bezierCurveTo(s.startControl.x,s.startControl.y,s.endControl.x,s.endControl.y,s.end.x,s.end.y)})},e.prototype.renderRepeat=function(t,n,s,o){this.path(t),this.ctx.fillStyle=n,this.ctx.translate(s,o),this.ctx.fill(),this.ctx.translate(-s,-o)},e.prototype.resizeImage=function(t,n,s){var o;if(t.width===n&&t.height===s)return t;var l=(o=this.canvas.ownerDocument)!==null&&o!==void 0?o:document,c=l.createElement("canvas");c.width=Math.max(1,n),c.height=Math.max(1,s);var d=c.getContext("2d");return d.drawImage(t,0,0,t.width,t.height,0,0,n,s),c},e.prototype.renderBackgroundImage=function(t){return mi(this,void 0,void 0,function(){var n,s,o,l,c,d;return Ja(this,function(h){switch(h.label){case 0:n=t.styles.backgroundImage.length-1,s=function(g){var x,B,w,P,ie,Z,Q,J,U,I,P,ie,Z,Q,J,j,M,L,X,V,z,ne,le,R,U,S,P,E,F,Q,J,xe,ie,Z,Ae,be,Ee,$,D,q,te,re;return Ja(this,function(fe){switch(fe.label){case 0:if(g.type!==0)return[3,5];x=void 0,B=g.url,fe.label=1;case 1:return fe.trys.push([1,3,,4]),[4,o.context.cache.match(B)];case 2:return x=fe.sent(),[3,4];case 3:return fe.sent(),o.context.logger.error("Error loading background-image "+B),[3,4];case 4:return x&&(w=yy(t,n,[x.width,x.height,x.width/x.height]),P=w[0],ie=w[1],Z=w[2],Q=w[3],J=w[4],U=o.ctx.createPattern(o.resizeImage(x,Q,J),"repeat"),o.renderRepeat(P,U,ie,Z)),[3,6];case 5:xq(g)?(I=yy(t,n,[null,null,null]),P=I[0],ie=I[1],Z=I[2],Q=I[3],J=I[4],j=hq(g.angle,Q,J),M=j[0],L=j[1],X=j[2],V=j[3],z=j[4],ne=document.createElement("canvas"),ne.width=Q,ne.height=J,le=ne.getContext("2d"),R=le.createLinearGradient(L,V,X,z),d3(g.stops,M).forEach(function(ge){return R.addColorStop(ge.stop,ma(ge.color))}),le.fillStyle=R,le.fillRect(0,0,Q,J),Q>0&&J>0&&(U=o.ctx.createPattern(ne,"repeat"),o.renderRepeat(P,U,ie,Z))):bq(g)&&(S=yy(t,n,[null,null,null]),P=S[0],E=S[1],F=S[2],Q=S[3],J=S[4],xe=g.position.length===0?[P5]:g.position,ie=Ln(xe[0],Q),Z=Ln(xe[xe.length-1],J),Ae=fq(g,ie,Z,Q,J),be=Ae[0],Ee=Ae[1],be>0&&Ee>0&&($=o.ctx.createRadialGradient(E+ie,F+Z,0,E+ie,F+Z,be),d3(g.stops,be*2).forEach(function(ge){return $.addColorStop(ge.stop,ma(ge.color))}),o.path(P),o.ctx.fillStyle=$,be!==Ee?(D=t.bounds.left+.5*t.bounds.width,q=t.bounds.top+.5*t.bounds.height,te=Ee/be,re=1/te,o.ctx.save(),o.ctx.translate(D,q),o.ctx.transform(1,0,0,te,0,0),o.ctx.translate(-D,-q),o.ctx.fillRect(E,re*(F-q)+q,Q,J*re),o.ctx.restore()):o.ctx.fill())),fe.label=6;case 6:return n--,[2]}})},o=this,l=0,c=t.styles.backgroundImage.slice(0).reverse(),h.label=1;case 1:return l<c.length?(d=c[l],[5,s(d)]):[3,4];case 2:h.sent(),h.label=3;case 3:return l++,[3,1];case 4:return[2]}})})},e.prototype.renderSolidBorder=function(t,n,s){return mi(this,void 0,void 0,function(){return Ja(this,function(o){return this.path(V3(s,n)),this.ctx.fillStyle=ma(t),this.ctx.fill(),[2]})})},e.prototype.renderDoubleBorder=function(t,n,s,o){return mi(this,void 0,void 0,function(){var l,c;return Ja(this,function(d){switch(d.label){case 0:return n<3?[4,this.renderSolidBorder(t,s,o)]:[3,2];case 1:return d.sent(),[2];case 2:return l=vX(o,s),this.path(l),this.ctx.fillStyle=ma(t),this.ctx.fill(),c=BX(o,s),this.path(c),this.ctx.fill(),[2]}})})},e.prototype.renderNodeBackgroundAndBorders=function(t){return mi(this,void 0,void 0,function(){var n,s,o,l,c,d,h,g,x=this;return Ja(this,function(B){switch(B.label){case 0:return this.applyEffects(t.getEffects(2)),n=t.container.styles,s=!bu(n.backgroundColor)||n.backgroundImage.length,o=[{style:n.borderTopStyle,color:n.borderTopColor,width:n.borderTopWidth},{style:n.borderRightStyle,color:n.borderRightColor,width:n.borderRightWidth},{style:n.borderBottomStyle,color:n.borderBottomColor,width:n.borderBottomWidth},{style:n.borderLeftStyle,color:n.borderLeftColor,width:n.borderLeftWidth}],l=kX(Mh(n.backgroundClip,0),t.curves),s||n.boxShadow.length?(this.ctx.save(),this.path(l),this.ctx.clip(),bu(n.backgroundColor)||(this.ctx.fillStyle=ma(n.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(t.container)]):[3,2];case 1:B.sent(),this.ctx.restore(),n.boxShadow.slice(0).reverse().forEach(function(w){x.ctx.save();var I=lx(t.curves),j=w.inset?0:TX,M=yX(I,-j+(w.inset?1:-1)*w.spread.number,(w.inset?1:-1)*w.spread.number,w.spread.number*(w.inset?-2:2),w.spread.number*(w.inset?-2:2));w.inset?(x.path(I),x.ctx.clip(),x.mask(M)):(x.mask(I),x.ctx.clip(),x.path(M)),x.ctx.shadowOffsetX=w.offsetX.number+j,x.ctx.shadowOffsetY=w.offsetY.number,x.ctx.shadowColor=ma(w.color),x.ctx.shadowBlur=w.blur.number,x.ctx.fillStyle=w.inset?ma(w.color):"rgba(0,0,0,1)",x.ctx.fill(),x.ctx.restore()}),B.label=2;case 2:c=0,d=0,h=o,B.label=3;case 3:return d<h.length?(g=h[d],g.style!==0&&!bu(g.color)&&g.width>0?g.style!==2?[3,5]:[4,this.renderDashedDottedBorder(g.color,g.width,c,t.curves,2)]:[3,11]):[3,13];case 4:return B.sent(),[3,11];case 5:return g.style!==3?[3,7]:[4,this.renderDashedDottedBorder(g.color,g.width,c,t.curves,3)];case 6:return B.sent(),[3,11];case 7:return g.style!==4?[3,9]:[4,this.renderDoubleBorder(g.color,g.width,c,t.curves)];case 8:return B.sent(),[3,11];case 9:return[4,this.renderSolidBorder(g.color,c,t.curves)];case 10:B.sent(),B.label=11;case 11:c++,B.label=12;case 12:return d++,[3,3];case 13:return[2]}})})},e.prototype.renderDashedDottedBorder=function(t,n,s,o,l){return mi(this,void 0,void 0,function(){var c,d,h,g,x,B,w,I,j,M,L,X,V,z,ne,le,ne,le;return Ja(this,function(R){return this.ctx.save(),c=NX(o,s),d=V3(o,s),l===2&&(this.path(d),this.ctx.clip()),Lo(d[0])?(h=d[0].start.x,g=d[0].start.y):(h=d[0].x,g=d[0].y),Lo(d[1])?(x=d[1].end.x,B=d[1].end.y):(x=d[1].x,B=d[1].y),s===0||s===2?w=Math.abs(h-x):w=Math.abs(g-B),this.ctx.beginPath(),l===3?this.formatPath(c):this.formatPath(d.slice(0,2)),I=n<3?n*3:n*2,j=n<3?n*2:n,l===3&&(I=n,j=n),M=!0,w<=I*2?M=!1:w<=I*2+j?(L=w/(2*I+j),I*=L,j*=L):(X=Math.floor((w+j)/(I+j)),V=(w-X*I)/(X-1),z=(w-(X+1)*I)/X,j=z<=0||Math.abs(j-V)<Math.abs(j-z)?V:z),M&&(l===3?this.ctx.setLineDash([0,I+j]):this.ctx.setLineDash([I,j])),l===3?(this.ctx.lineCap="round",this.ctx.lineWidth=n):this.ctx.lineWidth=n*2+1.1,this.ctx.strokeStyle=ma(t),this.ctx.stroke(),this.ctx.setLineDash([]),l===2&&(Lo(d[0])&&(ne=d[3],le=d[0],this.ctx.beginPath(),this.formatPath([new vt(ne.end.x,ne.end.y),new vt(le.start.x,le.start.y)]),this.ctx.stroke()),Lo(d[1])&&(ne=d[1],le=d[2],this.ctx.beginPath(),this.formatPath([new vt(ne.end.x,ne.end.y),new vt(le.start.x,le.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},e.prototype.render=function(t){return mi(this,void 0,void 0,function(){var n;return Ja(this,function(s){switch(s.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=ma(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),n=wX(t),[4,this.renderStack(n)];case 1:return s.sent(),this.applyEffects([]),[2,this.canvas]}})})},e})(f8),FX=function(r){return r instanceof WT||r instanceof YT?!0:r instanceof z5&&r.type!==ix&&r.type!==ax},kX=function(r,e){switch(r){case 0:return lx(e);case 2:return gX(e);case 1:default:return cx(e)}},QX=function(r){switch(r){case 1:return"center";case 2:return"right";case 0:default:return"left"}},LX=["-apple-system","system-ui"],RX=function(r){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?r.filter(function(e){return LX.indexOf(e)===-1}):r},DX=(function(r){_A(e,r);function e(t,n){var s=r.call(this,t,n)||this;return s.canvas=n.canvas?n.canvas:document.createElement("canvas"),s.ctx=s.canvas.getContext("2d"),s.options=n,s.canvas.width=Math.floor(n.width*n.scale),s.canvas.height=Math.floor(n.height*n.scale),s.canvas.style.width=n.width+"px",s.canvas.style.height=n.height+"px",s.ctx.scale(s.options.scale,s.options.scale),s.ctx.translate(-n.x,-n.y),s.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+n.width+"x"+n.height+" at "+n.x+","+n.y+") with scale "+n.scale),s}return e.prototype.render=function(t){return mi(this,void 0,void 0,function(){var n,s;return Ja(this,function(o){switch(o.label){case 0:return n=Xw(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,t),[4,OX(n)];case 1:return s=o.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=ma(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(s,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},e})(f8),OX=function(r){return new Promise(function(e,t){var n=new Image;n.onload=function(){e(n)},n.onerror=t,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(r))})},MX=(function(){function r(e){var t=e.id,n=e.enabled;this.id=t,this.enabled=n,this.start=Date.now()}return r.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,xp([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},r.prototype.getTime=function(){return Date.now()-this.start},r.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,xp([this.id,this.getTime()+"ms"],e))},r.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,xp([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},r.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,xp([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},r.instances={},r})(),PX=(function(){function r(e,t){var n;this.windowBounds=t,this.instanceName="#"+r.instanceCount++,this.logger=new MX({id:this.instanceName,enabled:e.logging}),this.cache=(n=e.cache)!==null&&n!==void 0?n:new oX(this,e)}return r.instanceCount=1,r})(),g8=function(r,e){return e===void 0&&(e={}),HX(r,e)};typeof window<"u"&&A8.setContext(window);var HX=function(r,e){return mi(void 0,void 0,void 0,function(){var t,n,s,o,l,c,d,h,g,x,B,w,I,j,M,L,X,V,z,ne,R,le,R,U,S,P,E,F,Q,J,xe,ie,Z,Ae,be,Ee,$,D,q,te;return Ja(this,function(re){switch(re.label){case 0:if(!r||typeof r!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(t=r.ownerDocument,!t)throw new Error("Element is not attached to a Document");if(n=t.defaultView,!n)throw new Error("Document is not attached to a Window");return s={allowTaint:(U=e.allowTaint)!==null&&U!==void 0?U:!1,imageTimeout:(S=e.imageTimeout)!==null&&S!==void 0?S:15e3,proxy:e.proxy,useCORS:(P=e.useCORS)!==null&&P!==void 0?P:!1},o=kw({logging:(E=e.logging)!==null&&E!==void 0?E:!0,cache:e.cache},s),l={windowWidth:(F=e.windowWidth)!==null&&F!==void 0?F:n.innerWidth,windowHeight:(Q=e.windowHeight)!==null&&Q!==void 0?Q:n.innerHeight,scrollX:(J=e.scrollX)!==null&&J!==void 0?J:n.pageXOffset,scrollY:(xe=e.scrollY)!==null&&xe!==void 0?xe:n.pageYOffset},c=new lc(l.scrollX,l.scrollY,l.windowWidth,l.windowHeight),d=new PX(o,c),h=(ie=e.foreignObjectRendering)!==null&&ie!==void 0?ie:!1,g={allowTaint:(Z=e.allowTaint)!==null&&Z!==void 0?Z:!1,onclone:e.onclone,ignoreElements:e.ignoreElements,inlineImages:h,copyStyles:h},d.logger.debug("Starting document clone with size "+c.width+"x"+c.height+" scrolled to "+-c.left+","+-c.top),x=new M3(d,r,g),B=x.clonedReferenceElement,B?[4,x.toIFrame(t,c)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return w=re.sent(),I=q5(B)||K$(B)?yK(B.ownerDocument):Yx(d,B),j=I.width,M=I.height,L=I.left,X=I.top,V=VX(d,B,e.backgroundColor),z={canvas:e.canvas,backgroundColor:V,scale:(be=(Ae=e.scale)!==null&&Ae!==void 0?Ae:n.devicePixelRatio)!==null&&be!==void 0?be:1,x:((Ee=e.x)!==null&&Ee!==void 0?Ee:0)+L,y:(($=e.y)!==null&&$!==void 0?$:0)+X,width:(D=e.width)!==null&&D!==void 0?D:Math.ceil(j),height:(q=e.height)!==null&&q!==void 0?q:Math.ceil(M)},h?(d.logger.debug("Document cloned, using foreign object rendering"),R=new DX(d,z),[4,R.render(B)]):[3,3];case 2:return ne=re.sent(),[3,5];case 3:return d.logger.debug("Document cloned, element located at "+L+","+X+" with size "+j+"x"+M+" using computed rendering"),d.logger.debug("Starting DOM parsing"),le=e8(d,B),V===le.styles.backgroundColor&&(le.styles.backgroundColor=tc.TRANSPARENT),d.logger.debug("Starting renderer for element at "+z.x+","+z.y+" with size "+z.width+"x"+z.height),R=new UX(d,z),[4,R.render(le)];case 4:ne=re.sent(),re.label=5;case 5:return(!((te=e.removeContainer)!==null&&te!==void 0)||te)&&(M3.destroy(w)||d.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),d.logger.debug("Finished rendering"),[2,ne]}})})},VX=function(r,e,t){var n=e.ownerDocument,s=n.documentElement?lg(r,getComputedStyle(n.documentElement).backgroundColor):tc.TRANSPARENT,o=n.body?lg(r,getComputedStyle(n.body).backgroundColor):tc.TRANSPARENT,l=typeof t=="string"?lg(r,t):t===null?tc.TRANSPARENT:4294967295;return e===n.documentElement?bu(s)?bu(o)?l:o:s:l};const KX=Object.freeze(Object.defineProperty({__proto__:null,default:g8},Symbol.toStringTag,{value:"Module"})),zX="modulepreload",qX=function(r,e){return new URL(r,e).href},z3={},wy=function(e,t,n){let s=Promise.resolve();if(t&&t.length>0){let l=function(g){return Promise.all(g.map(x=>Promise.resolve(x).then(B=>({status:"fulfilled",value:B}),B=>({status:"rejected",reason:B}))))};const c=document.getElementsByTagName("link"),d=document.querySelector("meta[property=csp-nonce]"),h=(d==null?void 0:d.nonce)||(d==null?void 0:d.getAttribute("nonce"));s=l(t.map(g=>{if(g=qX(g,n),g in z3)return;z3[g]=!0;const x=g.endsWith(".css"),B=x?'[rel="stylesheet"]':"";if(!!n)for(let j=c.length-1;j>=0;j--){const M=c[j];if(M.href===g&&(!x||M.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${g}"]${B}`))return;const I=document.createElement("link");if(I.rel=x?"stylesheet":zX,x||(I.as="script"),I.crossOrigin="",I.href=g,h&&I.setAttribute("nonce",h),document.head.appendChild(I),x)return new Promise((j,M)=>{I.addEventListener("load",j),I.addEventListener("error",()=>M(new Error(`Unable to preload CSS for ${g}`)))})}))}function o(l){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=l,window.dispatchEvent(c),!c.defaultPrevented)throw l}return s.then(l=>{for(const c of l||[])c.status==="rejected"&&o(c.reason);return e().catch(o)})};function mn(r){"@babel/helpers - typeof";return mn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mn(r)}var BA=Uint8Array,co=Uint16Array,G5=Int32Array,$5=new BA([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),X5=new BA([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),q3=new BA([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),m8=function(r,e){for(var t=new co(31),n=0;n<31;++n)t[n]=e+=1<<r[n-1];for(var s=new G5(t[30]),n=1;n<30;++n)for(var o=t[n];o<t[n+1];++o)s[o]=o-t[n]<<5|n;return{b:t,r:s}},p8=m8($5,2),GX=p8.b,rv=p8.r;GX[28]=258,rv[258]=28;var $X=m8(X5,0),G3=$X.r,nv=new co(32768);for(var qn=0;qn<32768;++qn){var Gc=(qn&43690)>>1|(qn&21845)<<1;Gc=(Gc&52428)>>2|(Gc&13107)<<2,Gc=(Gc&61680)>>4|(Gc&3855)<<4,nv[qn]=((Gc&65280)>>8|(Gc&255)<<8)>>1}var hg=(function(r,e,t){for(var n=r.length,s=0,o=new co(e);s<n;++s)r[s]&&++o[r[s]-1];var l=new co(e);for(s=1;s<e;++s)l[s]=l[s-1]+o[s-1]<<1;var c;if(t){c=new co(1<<e);var d=15-e;for(s=0;s<n;++s)if(r[s])for(var h=s<<4|r[s],g=e-r[s],x=l[r[s]-1]++<<g,B=x|(1<<g)-1;x<=B;++x)c[nv[x]>>d]=h}else for(c=new co(n),s=0;s<n;++s)r[s]&&(c[s]=nv[l[r[s]-1]++]>>15-r[s]);return c}),Ud=new BA(288);for(var qn=0;qn<144;++qn)Ud[qn]=8;for(var qn=144;qn<256;++qn)Ud[qn]=9;for(var qn=256;qn<280;++qn)Ud[qn]=7;for(var qn=280;qn<288;++qn)Ud[qn]=8;var dx=new BA(32);for(var qn=0;qn<32;++qn)dx[qn]=5;var XX=hg(Ud,9,0),YX=hg(dx,5,0),x8=function(r){return(r+7)/8|0},WX=function(r,e,t){return(t==null||t>r.length)&&(t=r.length),new BA(r.subarray(e,t))},$l=function(r,e,t){t<<=e&7;var n=e/8|0;r[n]|=t,r[n+1]|=t>>8},Q0=function(r,e,t){t<<=e&7;var n=e/8|0;r[n]|=t,r[n+1]|=t>>8,r[n+2]|=t>>16},vy=function(r,e){for(var t=[],n=0;n<r.length;++n)r[n]&&t.push({s:n,f:r[n]});var s=t.length,o=t.slice();if(!s)return{t:y8,l:0};if(s==1){var l=new BA(t[0].s+1);return l[t[0].s]=1,{t:l,l:1}}t.sort(function(ne,le){return ne.f-le.f}),t.push({s:-1,f:25001});var c=t[0],d=t[1],h=0,g=1,x=2;for(t[0]={s:-1,f:c.f+d.f,l:c,r:d};g!=s-1;)c=t[t[h].f<t[x].f?h++:x++],d=t[h!=g&&t[h].f<t[x].f?h++:x++],t[g++]={s:-1,f:c.f+d.f,l:c,r:d};for(var B=o[0].s,n=1;n<s;++n)o[n].s>B&&(B=o[n].s);var w=new co(B+1),I=sv(t[g-1],w,0);if(I>e){var n=0,j=0,M=I-e,L=1<<M;for(o.sort(function(le,R){return w[R.s]-w[le.s]||le.f-R.f});n<s;++n){var X=o[n].s;if(w[X]>e)j+=L-(1<<I-w[X]),w[X]=e;else break}for(j>>=M;j>0;){var V=o[n].s;w[V]<e?j-=1<<e-w[V]++-1:++n}for(;n>=0&&j;--n){var z=o[n].s;w[z]==e&&(--w[z],++j)}I=e}return{t:new BA(w),l:I}},sv=function(r,e,t){return r.s==-1?Math.max(sv(r.l,e,t+1),sv(r.r,e,t+1)):e[r.s]=t},$3=function(r){for(var e=r.length;e&&!r[--e];);for(var t=new co(++e),n=0,s=r[0],o=1,l=function(d){t[n++]=d},c=1;c<=e;++c)if(r[c]==s&&c!=e)++o;else{if(!s&&o>2){for(;o>138;o-=138)l(32754);o>2&&(l(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(l(s),--o;o>6;o-=6)l(8304);o>2&&(l(o-3<<5|8208),o=0)}for(;o--;)l(s);o=1,s=r[c]}return{c:t.subarray(0,n),n:e}},L0=function(r,e){for(var t=0,n=0;n<e.length;++n)t+=r[n]*e[n];return t},b8=function(r,e,t){var n=t.length,s=x8(e+2);r[s]=n&255,r[s+1]=n>>8,r[s+2]=r[s]^255,r[s+3]=r[s+1]^255;for(var o=0;o<n;++o)r[s+o+4]=t[o];return(s+4+n)*8},X3=function(r,e,t,n,s,o,l,c,d,h,g){$l(e,g++,t),++s[256];for(var x=vy(s,15),B=x.t,w=x.l,I=vy(o,15),j=I.t,M=I.l,L=$3(B),X=L.c,V=L.n,z=$3(j),ne=z.c,le=z.n,R=new co(19),U=0;U<X.length;++U)++R[X[U]&31];for(var U=0;U<ne.length;++U)++R[ne[U]&31];for(var S=vy(R,7),P=S.t,E=S.l,F=19;F>4&&!P[q3[F-1]];--F);var Q=h+5<<3,J=L0(s,Ud)+L0(o,dx)+l,xe=L0(s,B)+L0(o,j)+l+14+3*F+L0(R,P)+2*R[16]+3*R[17]+7*R[18];if(d>=0&&Q<=J&&Q<=xe)return b8(e,g,r.subarray(d,d+h));var ie,Z,Ae,be;if($l(e,g,1+(xe<J)),g+=2,xe<J){ie=hg(B,w,0),Z=B,Ae=hg(j,M,0),be=j;var Ee=hg(P,E,0);$l(e,g,V-257),$l(e,g+5,le-1),$l(e,g+10,F-4),g+=14;for(var U=0;U<F;++U)$l(e,g+3*U,P[q3[U]]);g+=3*F;for(var $=[X,ne],D=0;D<2;++D)for(var q=$[D],U=0;U<q.length;++U){var te=q[U]&31;$l(e,g,Ee[te]),g+=P[te],te>15&&($l(e,g,q[U]>>5&127),g+=q[U]>>12)}}else ie=XX,Z=Ud,Ae=YX,be=dx;for(var U=0;U<c;++U){var re=n[U];if(re>255){var te=re>>18&31;Q0(e,g,ie[te+257]),g+=Z[te+257],te>7&&($l(e,g,re>>23&31),g+=$5[te]);var fe=re&31;Q0(e,g,Ae[fe]),g+=be[fe],fe>3&&(Q0(e,g,re>>5&8191),g+=X5[fe])}else Q0(e,g,ie[re]),g+=Z[re]}return Q0(e,g,ie[256]),g+Z[256]},JX=new G5([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),y8=new BA(0),ZX=function(r,e,t,n,s,o){var l=o.z||r.length,c=new BA(n+l+5*(1+Math.ceil(l/7e3))+s),d=c.subarray(n,c.length-s),h=o.l,g=(o.r||0)&7;if(e){g&&(d[0]=o.r>>3);for(var x=JX[e-1],B=x>>13,w=x&8191,I=(1<<t)-1,j=o.p||new co(32768),M=o.h||new co(I+1),L=Math.ceil(t/3),X=2*L,V=function(Me){return(r[Me]^r[Me+1]<<L^r[Me+2]<<X)&I},z=new G5(25e3),ne=new co(288),le=new co(32),R=0,U=0,S=o.i||0,P=0,E=o.w||0,F=0;S+2<l;++S){var Q=V(S),J=S&32767,xe=M[Q];if(j[J]=xe,M[Q]=J,E<=S){var ie=l-S;if((R>7e3||P>24576)&&(ie>423||!h)){g=X3(r,d,0,z,ne,le,U,P,F,S-F,g),P=R=U=0,F=S;for(var Z=0;Z<286;++Z)ne[Z]=0;for(var Z=0;Z<30;++Z)le[Z]=0}var Ae=2,be=0,Ee=w,$=J-xe&32767;if(ie>2&&Q==V(S-$))for(var D=Math.min(B,ie)-1,q=Math.min(32767,S),te=Math.min(258,ie);$<=q&&--Ee&&J!=xe;){if(r[S+Ae]==r[S+Ae-$]){for(var re=0;re<te&&r[S+re]==r[S+re-$];++re);if(re>Ae){if(Ae=re,be=$,re>D)break;for(var fe=Math.min($,re-2),ge=0,Z=0;Z<fe;++Z){var Be=S-$+Z&32767,_e=j[Be],Oe=Be-_e&32767;Oe>ge&&(ge=Oe,xe=Be)}}}J=xe,xe=j[J],$+=J-xe&32767}if(be){z[P++]=268435456|rv[Ae]<<18|G3[be];var He=rv[Ae]&31,it=G3[be]&31;U+=$5[He]+X5[it],++ne[257+He],++le[it],E=S+Ae,++R}else z[P++]=r[S],++ne[r[S]]}}for(S=Math.max(S,E);S<l;++S)z[P++]=r[S],++ne[r[S]];g=X3(r,d,h,z,ne,le,U,P,F,S-F,g),h||(o.r=g&7|d[g/8|0]<<3,g-=7,o.h=M,o.p=j,o.i=S,o.w=E)}else{for(var S=o.w||0;S<l+h;S+=65535){var me=S+65535;me>=l&&(d[g/8|0]=h,me=l),g=b8(d,g+1,r.subarray(S,me))}o.i=l}return WX(c,0,n+x8(g)+s)},w8=function(){var r=1,e=0;return{p:function(t){for(var n=r,s=e,o=t.length|0,l=0;l!=o;){for(var c=Math.min(l+2655,o);l<c;++l)s+=n+=t[l];n=(n&65535)+15*(n>>16),s=(s&65535)+15*(s>>16)}r=n,e=s},d:function(){return r%=65521,e%=65521,(r&255)<<24|(r&65280)<<8|(e&255)<<8|e>>8}}},eY=function(r,e,t,n,s){if(!s&&(s={l:1},e.dictionary)){var o=e.dictionary.subarray(-32768),l=new BA(o.length+r.length);l.set(o),l.set(r,o.length),r=l,s.w=o.length}return ZX(r,e.level==null?6:e.level,e.mem==null?s.l?Math.ceil(Math.max(8,Math.min(13,Math.log(r.length)))*1.5):20:12+e.mem,t,n,s)},v8=function(r,e,t){for(;t;++e)r[e]=t,t>>>=8},tY=function(r,e){var t=e.level,n=t==0?0:t<6?1:t==9?3:2;if(r[0]=120,r[1]=n<<6|(e.dictionary&&32),r[1]|=31-(r[0]<<8|r[1])%31,e.dictionary){var s=w8();s.p(e.dictionary),v8(r,2,s.d())}};function av(r,e){e||(e={});var t=w8();t.p(r);var n=eY(r,e,e.dictionary?6:2,4);return tY(n,e),v8(n,n.length-4,t.d()),n}var rY=typeof TextDecoder<"u"&&new TextDecoder,nY=0;try{rY.decode(y8,{stream:!0}),nY=1}catch{}function sY(r){if(Array.isArray(r))return r}function aY(r,e){var t=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(t!=null){var n,s,o,l,c=[],d=!0,h=!1;try{if(o=(t=t.call(r)).next,e!==0)for(;!(d=(n=o.call(t)).done)&&(c.push(n.value),c.length!==e);d=!0);}catch(g){h=!0,s=g}finally{try{if(!d&&t.return!=null&&(l=t.return(),Object(l)!==l))return}finally{if(h)throw s}}return c}}function Y3(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=Array(e);t<e;t++)n[t]=r[t];return n}function iY(r,e){if(r){if(typeof r=="string")return Y3(r,e);var t={}.toString.call(r).slice(8,-1);return t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set"?Array.from(r):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Y3(r,e):void 0}}function oY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function W3(r,e){return sY(r)||aY(r,e)||iY(r,e)||oY()}function J3(r,e="utf8"){return new TextDecoder(e).decode(r)}const AY=new TextEncoder;function lY(r){return AY.encode(r)}const cY=1024*8,uY=(()=>{const r=new Uint8Array(4),e=new Uint32Array(r.buffer);return!((e[0]=1)&r[0])})(),By={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class Y5{constructor(e=cY,t={}){gn(this,"buffer");gn(this,"byteLength");gn(this,"byteOffset");gn(this,"length");gn(this,"offset");gn(this,"lastWrittenByte");gn(this,"littleEndian");gn(this,"_data");gn(this,"_mark");gn(this,"_marks");let n=!1;typeof e=="number"?e=new ArrayBuffer(e):(n=!0,this.lastWrittenByte=e.byteLength);const s=t.offset?t.offset>>>0:0,o=e.byteLength-s;let l=s;(ArrayBuffer.isView(e)||e instanceof Y5)&&(e.byteLength!==e.buffer.byteLength&&(l=e.byteOffset+s),e=e.buffer),n?this.lastWrittenByte=o:this.lastWrittenByte=0,this.buffer=e,this.length=o,this.byteLength=o,this.byteOffset=l,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,l,o),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const n=(this.offset+e)*2,s=new Uint8Array(n);s.set(new Uint8Array(this.buffer)),this.buffer=s.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,t){const n=By[t].BYTES_PER_ELEMENT*e,s=this.byteOffset+this.offset,o=this.buffer.slice(s,s+n);if(this.littleEndian===uY&&t!=="uint8"&&t!=="int8"){const c=new Uint8Array(this.buffer.slice(s,s+n));c.reverse();const d=new By[t](c.buffer);return this.offset+=n,d.reverse(),d}const l=new By[t](o);return this.offset+=n,l}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let t="";for(let n=0;n<e;n++)t+=this.readChar();return t}readUtf8(e=1){return J3(this.readBytes(e))}decodeText(e=1,t="utf8"){return J3(this.readBytes(e),t)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let t=0;t<e.length;t++)this._data.setUint8(this.offset++,e[t]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let t=0;t<e.length;t++)this.writeUint8(e.charCodeAt(t));return this}writeUtf8(e){return this.writeBytes(lY(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Pf(r){let e=r.length;for(;--e>=0;)r[e]=0}const dY=3,hY=258,B8=29,fY=256,gY=fY+1+B8,N8=30,mY=512,pY=new Array((gY+2)*2);Pf(pY);const xY=new Array(N8*2);Pf(xY);const bY=new Array(mY);Pf(bY);const yY=new Array(hY-dY+1);Pf(yY);const wY=new Array(B8);Pf(wY);const vY=new Array(N8);Pf(vY);const BY=(r,e,t,n)=>{let s=r&65535|0,o=r>>>16&65535|0,l=0;for(;t!==0;){l=t>2e3?2e3:t,t-=l;do s=s+e[n++]|0,o=o+s|0;while(--l);s%=65521,o%=65521}return s|o<<16|0};var iv=BY;const NY=()=>{let r,e=[];for(var t=0;t<256;t++){r=t;for(var n=0;n<8;n++)r=r&1?3988292384^r>>>1:r>>>1;e[t]=r}return e},_Y=new Uint32Array(NY()),CY=(r,e,t,n)=>{const s=_Y,o=n+t;r^=-1;for(let l=n;l<o;l++)r=r>>>8^s[(r^e[l])&255];return r^-1};var WA=CY,ov={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},_8={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const EY=(r,e)=>Object.prototype.hasOwnProperty.call(r,e);var SY=function(r){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const t=e.shift();if(t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(const n in t)EY(t,n)&&(r[n]=t[n])}}return r},IY=r=>{let e=0;for(let n=0,s=r.length;n<s;n++)e+=r[n].length;const t=new Uint8Array(e);for(let n=0,s=0,o=r.length;n<o;n++){let l=r[n];t.set(l,s),s+=l.length}return t},C8={assign:SY,flattenChunks:IY};let E8=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{E8=!1}const Pg=new Uint8Array(256);for(let r=0;r<256;r++)Pg[r]=r>=252?6:r>=248?5:r>=240?4:r>=224?3:r>=192?2:1;Pg[254]=Pg[254]=1;var jY=r=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(r);let e,t,n,s,o,l=r.length,c=0;for(s=0;s<l;s++)t=r.charCodeAt(s),(t&64512)===55296&&s+1<l&&(n=r.charCodeAt(s+1),(n&64512)===56320&&(t=65536+(t-55296<<10)+(n-56320),s++)),c+=t<128?1:t<2048?2:t<65536?3:4;for(e=new Uint8Array(c),o=0,s=0;o<c;s++)t=r.charCodeAt(s),(t&64512)===55296&&s+1<l&&(n=r.charCodeAt(s+1),(n&64512)===56320&&(t=65536+(t-55296<<10)+(n-56320),s++)),t<128?e[o++]=t:t<2048?(e[o++]=192|t>>>6,e[o++]=128|t&63):t<65536?(e[o++]=224|t>>>12,e[o++]=128|t>>>6&63,e[o++]=128|t&63):(e[o++]=240|t>>>18,e[o++]=128|t>>>12&63,e[o++]=128|t>>>6&63,e[o++]=128|t&63);return e};const TY=(r,e)=>{if(e<65534&&r.subarray&&E8)return String.fromCharCode.apply(null,r.length===e?r:r.subarray(0,e));let t="";for(let n=0;n<e;n++)t+=String.fromCharCode(r[n]);return t};var UY=(r,e)=>{const t=e||r.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(r.subarray(0,e));let n,s;const o=new Array(t*2);for(s=0,n=0;n<t;){let l=r[n++];if(l<128){o[s++]=l;continue}let c=Pg[l];if(c>4){o[s++]=65533,n+=c-1;continue}for(l&=c===2?31:c===3?15:7;c>1&&n<t;)l=l<<6|r[n++]&63,c--;if(c>1){o[s++]=65533;continue}l<65536?o[s++]=l:(l-=65536,o[s++]=55296|l>>10&1023,o[s++]=56320|l&1023)}return TY(o,s)},FY=(r,e)=>{e=e||r.length,e>r.length&&(e=r.length);let t=e-1;for(;t>=0&&(r[t]&192)===128;)t--;return t<0||t===0?e:t+Pg[r[t]]>e?t:e},Av={string2buf:jY,buf2string:UY,utf8border:FY};function kY(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var QY=kY;const Pp=16209,LY=16191;var RY=function(e,t){let n,s,o,l,c,d,h,g,x,B,w,I,j,M,L,X,V,z,ne,le,R,U,S,P;const E=e.state;n=e.next_in,S=e.input,s=n+(e.avail_in-5),o=e.next_out,P=e.output,l=o-(t-e.avail_out),c=o+(e.avail_out-257),d=E.dmax,h=E.wsize,g=E.whave,x=E.wnext,B=E.window,w=E.hold,I=E.bits,j=E.lencode,M=E.distcode,L=(1<<E.lenbits)-1,X=(1<<E.distbits)-1;e:do{I<15&&(w+=S[n++]<<I,I+=8,w+=S[n++]<<I,I+=8),V=j[w&L];t:for(;;){if(z=V>>>24,w>>>=z,I-=z,z=V>>>16&255,z===0)P[o++]=V&65535;else if(z&16){ne=V&65535,z&=15,z&&(I<z&&(w+=S[n++]<<I,I+=8),ne+=w&(1<<z)-1,w>>>=z,I-=z),I<15&&(w+=S[n++]<<I,I+=8,w+=S[n++]<<I,I+=8),V=M[w&X];r:for(;;){if(z=V>>>24,w>>>=z,I-=z,z=V>>>16&255,z&16){if(le=V&65535,z&=15,I<z&&(w+=S[n++]<<I,I+=8,I<z&&(w+=S[n++]<<I,I+=8)),le+=w&(1<<z)-1,le>d){e.msg="invalid distance too far back",E.mode=Pp;break e}if(w>>>=z,I-=z,z=o-l,le>z){if(z=le-z,z>g&&E.sane){e.msg="invalid distance too far back",E.mode=Pp;break e}if(R=0,U=B,x===0){if(R+=h-z,z<ne){ne-=z;do P[o++]=B[R++];while(--z);R=o-le,U=P}}else if(x<z){if(R+=h+x-z,z-=x,z<ne){ne-=z;do P[o++]=B[R++];while(--z);if(R=0,x<ne){z=x,ne-=z;do P[o++]=B[R++];while(--z);R=o-le,U=P}}}else if(R+=x-z,z<ne){ne-=z;do P[o++]=B[R++];while(--z);R=o-le,U=P}for(;ne>2;)P[o++]=U[R++],P[o++]=U[R++],P[o++]=U[R++],ne-=3;ne&&(P[o++]=U[R++],ne>1&&(P[o++]=U[R++]))}else{R=o-le;do P[o++]=P[R++],P[o++]=P[R++],P[o++]=P[R++],ne-=3;while(ne>2);ne&&(P[o++]=P[R++],ne>1&&(P[o++]=P[R++]))}}else if((z&64)===0){V=M[(V&65535)+(w&(1<<z)-1)];continue r}else{e.msg="invalid distance code",E.mode=Pp;break e}break}}else if((z&64)===0){V=j[(V&65535)+(w&(1<<z)-1)];continue t}else if(z&32){E.mode=LY;break e}else{e.msg="invalid literal/length code",E.mode=Pp;break e}break}}while(n<s&&o<c);ne=I>>3,n-=ne,I-=ne<<3,w&=(1<<I)-1,e.next_in=n,e.next_out=o,e.avail_in=n<s?5+(s-n):5-(n-s),e.avail_out=o<c?257+(c-o):257-(o-c),E.hold=w,E.bits=I};const Th=15,Z3=852,eE=592,tE=0,Ny=1,rE=2,DY=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),OY=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),MY=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),PY=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),HY=(r,e,t,n,s,o,l,c)=>{const d=c.bits;let h=0,g=0,x=0,B=0,w=0,I=0,j=0,M=0,L=0,X=0,V,z,ne,le,R,U=null,S;const P=new Uint16Array(Th+1),E=new Uint16Array(Th+1);let F=null,Q,J,xe;for(h=0;h<=Th;h++)P[h]=0;for(g=0;g<n;g++)P[e[t+g]]++;for(w=d,B=Th;B>=1&&P[B]===0;B--);if(w>B&&(w=B),B===0)return s[o++]=1<<24|64<<16|0,s[o++]=1<<24|64<<16|0,c.bits=1,0;for(x=1;x<B&&P[x]===0;x++);for(w<x&&(w=x),M=1,h=1;h<=Th;h++)if(M<<=1,M-=P[h],M<0)return-1;if(M>0&&(r===tE||B!==1))return-1;for(E[1]=0,h=1;h<Th;h++)E[h+1]=E[h]+P[h];for(g=0;g<n;g++)e[t+g]!==0&&(l[E[e[t+g]]++]=g);if(r===tE?(U=F=l,S=20):r===Ny?(U=DY,F=OY,S=257):(U=MY,F=PY,S=0),X=0,g=0,h=x,R=o,I=w,j=0,ne=-1,L=1<<w,le=L-1,r===Ny&&L>Z3||r===rE&&L>eE)return 1;for(;;){Q=h-j,l[g]+1<S?(J=0,xe=l[g]):l[g]>=S?(J=F[l[g]-S],xe=U[l[g]-S]):(J=96,xe=0),V=1<<h-j,z=1<<I,x=z;do z-=V,s[R+(X>>j)+z]=Q<<24|J<<16|xe|0;while(z!==0);for(V=1<<h-1;X&V;)V>>=1;if(V!==0?(X&=V-1,X+=V):X=0,g++,--P[h]===0){if(h===B)break;h=e[t+l[g]]}if(h>w&&(X&le)!==ne){for(j===0&&(j=w),R+=x,I=h-j,M=1<<I;I+j<B&&(M-=P[I+j],!(M<=0));)I++,M<<=1;if(L+=1<<I,r===Ny&&L>Z3||r===rE&&L>eE)return 1;ne=X&le,s[ne]=w<<24|I<<16|R-o|0}}return X!==0&&(s[R+X]=h-j<<24|64<<16|0),c.bits=w,0};var fg=HY;const VY=0,S8=1,I8=2,{Z_FINISH:nE,Z_BLOCK:KY,Z_TREES:Hp,Z_OK:Fd,Z_STREAM_END:zY,Z_NEED_DICT:qY,Z_STREAM_ERROR:zo,Z_DATA_ERROR:j8,Z_MEM_ERROR:T8,Z_BUF_ERROR:GY,Z_DEFLATED:sE}=_8,ib=16180,aE=16181,iE=16182,oE=16183,AE=16184,lE=16185,cE=16186,uE=16187,dE=16188,hE=16189,hx=16190,Xl=16191,_y=16192,fE=16193,Cy=16194,gE=16195,mE=16196,pE=16197,xE=16198,Vp=16199,Kp=16200,bE=16201,yE=16202,wE=16203,vE=16204,BE=16205,Ey=16206,NE=16207,_E=16208,es=16209,U8=16210,F8=16211,$Y=852,XY=592,YY=15,WY=YY,CE=r=>(r>>>24&255)+(r>>>8&65280)+((r&65280)<<8)+((r&255)<<24);function JY(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Rd=r=>{if(!r)return 1;const e=r.state;return!e||e.strm!==r||e.mode<ib||e.mode>F8?1:0},k8=r=>{if(Rd(r))return zo;const e=r.state;return r.total_in=r.total_out=e.total=0,r.msg="",e.wrap&&(r.adler=e.wrap&1),e.mode=ib,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array($Y),e.distcode=e.distdyn=new Int32Array(XY),e.sane=1,e.back=-1,Fd},Q8=r=>{if(Rd(r))return zo;const e=r.state;return e.wsize=0,e.whave=0,e.wnext=0,k8(r)},L8=(r,e)=>{let t;if(Rd(r))return zo;const n=r.state;return e<0?(t=0,e=-e):(t=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?zo:(n.window!==null&&n.wbits!==e&&(n.window=null),n.wrap=t,n.wbits=e,Q8(r))},R8=(r,e)=>{if(!r)return zo;const t=new JY;r.state=t,t.strm=r,t.window=null,t.mode=ib;const n=L8(r,e);return n!==Fd&&(r.state=null),n},ZY=r=>R8(r,WY);let EE=!0,Sy,Iy;const eW=r=>{if(EE){Sy=new Int32Array(512),Iy=new Int32Array(32);let e=0;for(;e<144;)r.lens[e++]=8;for(;e<256;)r.lens[e++]=9;for(;e<280;)r.lens[e++]=7;for(;e<288;)r.lens[e++]=8;for(fg(S8,r.lens,0,288,Sy,0,r.work,{bits:9}),e=0;e<32;)r.lens[e++]=5;fg(I8,r.lens,0,32,Iy,0,r.work,{bits:5}),EE=!1}r.lencode=Sy,r.lenbits=9,r.distcode=Iy,r.distbits=5},D8=(r,e,t,n)=>{let s;const o=r.state;return o.window===null&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),n>=o.wsize?(o.window.set(e.subarray(t-o.wsize,t),0),o.wnext=0,o.whave=o.wsize):(s=o.wsize-o.wnext,s>n&&(s=n),o.window.set(e.subarray(t-n,t-n+s),o.wnext),n-=s,n?(o.window.set(e.subarray(t-n,t),0),o.wnext=n,o.whave=o.wsize):(o.wnext+=s,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=s))),0},tW=(r,e)=>{let t,n,s,o,l,c,d,h,g,x,B,w,I,j,M=0,L,X,V,z,ne,le,R,U;const S=new Uint8Array(4);let P,E;const F=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Rd(r)||!r.output||!r.input&&r.avail_in!==0)return zo;t=r.state,t.mode===Xl&&(t.mode=_y),l=r.next_out,s=r.output,d=r.avail_out,o=r.next_in,n=r.input,c=r.avail_in,h=t.hold,g=t.bits,x=c,B=d,U=Fd;e:for(;;)switch(t.mode){case ib:if(t.wrap===0){t.mode=_y;break}for(;g<16;){if(c===0)break e;c--,h+=n[o++]<<g,g+=8}if(t.wrap&2&&h===35615){t.wbits===0&&(t.wbits=15),t.check=0,S[0]=h&255,S[1]=h>>>8&255,t.check=WA(t.check,S,2,0),h=0,g=0,t.mode=aE;break}if(t.head&&(t.head.done=!1),!(t.wrap&1)||(((h&255)<<8)+(h>>8))%31){r.msg="incorrect header check",t.mode=es;break}if((h&15)!==sE){r.msg="unknown compression method",t.mode=es;break}if(h>>>=4,g-=4,R=(h&15)+8,t.wbits===0&&(t.wbits=R),R>15||R>t.wbits){r.msg="invalid window size",t.mode=es;break}t.dmax=1<<t.wbits,t.flags=0,r.adler=t.check=1,t.mode=h&512?hE:Xl,h=0,g=0;break;case aE:for(;g<16;){if(c===0)break e;c--,h+=n[o++]<<g,g+=8}if(t.flags=h,(t.flags&255)!==sE){r.msg="unknown compression method",t.mode=es;break}if(t.flags&57344){r.msg="unknown header flags set",t.mode=es;break}t.head&&(t.head.text=h>>8&1),t.flags&512&&t.wrap&4&&(S[0]=h&255,S[1]=h>>>8&255,t.check=WA(t.check,S,2,0)),h=0,g=0,t.mode=iE;case iE:for(;g<32;){if(c===0)break e;c--,h+=n[o++]<<g,g+=8}t.head&&(t.head.time=h),t.flags&512&&t.wrap&4&&(S[0]=h&255,S[1]=h>>>8&255,S[2]=h>>>16&255,S[3]=h>>>24&255,t.check=WA(t.check,S,4,0)),h=0,g=0,t.mode=oE;case oE:for(;g<16;){if(c===0)break e;c--,h+=n[o++]<<g,g+=8}t.head&&(t.head.xflags=h&255,t.head.os=h>>8),t.flags&512&&t.wrap&4&&(S[0]=h&255,S[1]=h>>>8&255,t.check=WA(t.check,S,2,0)),h=0,g=0,t.mode=AE;case AE:if(t.flags&1024){for(;g<16;){if(c===0)break e;c--,h+=n[o++]<<g,g+=8}t.length=h,t.head&&(t.head.extra_len=h),t.flags&512&&t.wrap&4&&(S[0]=h&255,S[1]=h>>>8&255,t.check=WA(t.check,S,2,0)),h=0,g=0}else t.head&&(t.head.extra=null);t.mode=lE;case lE:if(t.flags&1024&&(w=t.length,w>c&&(w=c),w&&(t.head&&(R=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(n.subarray(o,o+w),R)),t.flags&512&&t.wrap&4&&(t.check=WA(t.check,n,w,o)),c-=w,o+=w,t.length-=w),t.length))break e;t.length=0,t.mode=cE;case cE:if(t.flags&2048){if(c===0)break e;w=0;do R=n[o+w++],t.head&&R&&t.length<65536&&(t.head.name+=String.fromCharCode(R));while(R&&w<c);if(t.flags&512&&t.wrap&4&&(t.check=WA(t.check,n,w,o)),c-=w,o+=w,R)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=uE;case uE:if(t.flags&4096){if(c===0)break e;w=0;do R=n[o+w++],t.head&&R&&t.length<65536&&(t.head.comment+=String.fromCharCode(R));while(R&&w<c);if(t.flags&512&&t.wrap&4&&(t.check=WA(t.check,n,w,o)),c-=w,o+=w,R)break e}else t.head&&(t.head.comment=null);t.mode=dE;case dE:if(t.flags&512){for(;g<16;){if(c===0)break e;c--,h+=n[o++]<<g,g+=8}if(t.wrap&4&&h!==(t.check&65535)){r.msg="header crc mismatch",t.mode=es;break}h=0,g=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),r.adler=t.check=0,t.mode=Xl;break;case hE:for(;g<32;){if(c===0)break e;c--,h+=n[o++]<<g,g+=8}r.adler=t.check=CE(h),h=0,g=0,t.mode=hx;case hx:if(t.havedict===0)return r.next_out=l,r.avail_out=d,r.next_in=o,r.avail_in=c,t.hold=h,t.bits=g,qY;r.adler=t.check=1,t.mode=Xl;case Xl:if(e===KY||e===Hp)break e;case _y:if(t.last){h>>>=g&7,g-=g&7,t.mode=Ey;break}for(;g<3;){if(c===0)break e;c--,h+=n[o++]<<g,g+=8}switch(t.last=h&1,h>>>=1,g-=1,h&3){case 0:t.mode=fE;break;case 1:if(eW(t),t.mode=Vp,e===Hp){h>>>=2,g-=2;break e}break;case 2:t.mode=mE;break;case 3:r.msg="invalid block type",t.mode=es}h>>>=2,g-=2;break;case fE:for(h>>>=g&7,g-=g&7;g<32;){if(c===0)break e;c--,h+=n[o++]<<g,g+=8}if((h&65535)!==(h>>>16^65535)){r.msg="invalid stored block lengths",t.mode=es;break}if(t.length=h&65535,h=0,g=0,t.mode=Cy,e===Hp)break e;case Cy:t.mode=gE;case gE:if(w=t.length,w){if(w>c&&(w=c),w>d&&(w=d),w===0)break e;s.set(n.subarray(o,o+w),l),c-=w,o+=w,d-=w,l+=w,t.length-=w;break}t.mode=Xl;break;case mE:for(;g<14;){if(c===0)break e;c--,h+=n[o++]<<g,g+=8}if(t.nlen=(h&31)+257,h>>>=5,g-=5,t.ndist=(h&31)+1,h>>>=5,g-=5,t.ncode=(h&15)+4,h>>>=4,g-=4,t.nlen>286||t.ndist>30){r.msg="too many length or distance symbols",t.mode=es;break}t.have=0,t.mode=pE;case pE:for(;t.have<t.ncode;){for(;g<3;){if(c===0)break e;c--,h+=n[o++]<<g,g+=8}t.lens[F[t.have++]]=h&7,h>>>=3,g-=3}for(;t.have<19;)t.lens[F[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,P={bits:t.lenbits},U=fg(VY,t.lens,0,19,t.lencode,0,t.work,P),t.lenbits=P.bits,U){r.msg="invalid code lengths set",t.mode=es;break}t.have=0,t.mode=xE;case xE:for(;t.have<t.nlen+t.ndist;){for(;M=t.lencode[h&(1<<t.lenbits)-1],L=M>>>24,X=M>>>16&255,V=M&65535,!(L<=g);){if(c===0)break e;c--,h+=n[o++]<<g,g+=8}if(V<16)h>>>=L,g-=L,t.lens[t.have++]=V;else{if(V===16){for(E=L+2;g<E;){if(c===0)break e;c--,h+=n[o++]<<g,g+=8}if(h>>>=L,g-=L,t.have===0){r.msg="invalid bit length repeat",t.mode=es;break}R=t.lens[t.have-1],w=3+(h&3),h>>>=2,g-=2}else if(V===17){for(E=L+3;g<E;){if(c===0)break e;c--,h+=n[o++]<<g,g+=8}h>>>=L,g-=L,R=0,w=3+(h&7),h>>>=3,g-=3}else{for(E=L+7;g<E;){if(c===0)break e;c--,h+=n[o++]<<g,g+=8}h>>>=L,g-=L,R=0,w=11+(h&127),h>>>=7,g-=7}if(t.have+w>t.nlen+t.ndist){r.msg="invalid bit length repeat",t.mode=es;break}for(;w--;)t.lens[t.have++]=R}}if(t.mode===es)break;if(t.lens[256]===0){r.msg="invalid code -- missing end-of-block",t.mode=es;break}if(t.lenbits=9,P={bits:t.lenbits},U=fg(S8,t.lens,0,t.nlen,t.lencode,0,t.work,P),t.lenbits=P.bits,U){r.msg="invalid literal/lengths set",t.mode=es;break}if(t.distbits=6,t.distcode=t.distdyn,P={bits:t.distbits},U=fg(I8,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,P),t.distbits=P.bits,U){r.msg="invalid distances set",t.mode=es;break}if(t.mode=Vp,e===Hp)break e;case Vp:t.mode=Kp;case Kp:if(c>=6&&d>=258){r.next_out=l,r.avail_out=d,r.next_in=o,r.avail_in=c,t.hold=h,t.bits=g,RY(r,B),l=r.next_out,s=r.output,d=r.avail_out,o=r.next_in,n=r.input,c=r.avail_in,h=t.hold,g=t.bits,t.mode===Xl&&(t.back=-1);break}for(t.back=0;M=t.lencode[h&(1<<t.lenbits)-1],L=M>>>24,X=M>>>16&255,V=M&65535,!(L<=g);){if(c===0)break e;c--,h+=n[o++]<<g,g+=8}if(X&&(X&240)===0){for(z=L,ne=X,le=V;M=t.lencode[le+((h&(1<<z+ne)-1)>>z)],L=M>>>24,X=M>>>16&255,V=M&65535,!(z+L<=g);){if(c===0)break e;c--,h+=n[o++]<<g,g+=8}h>>>=z,g-=z,t.back+=z}if(h>>>=L,g-=L,t.back+=L,t.length=V,X===0){t.mode=BE;break}if(X&32){t.back=-1,t.mode=Xl;break}if(X&64){r.msg="invalid literal/length code",t.mode=es;break}t.extra=X&15,t.mode=bE;case bE:if(t.extra){for(E=t.extra;g<E;){if(c===0)break e;c--,h+=n[o++]<<g,g+=8}t.length+=h&(1<<t.extra)-1,h>>>=t.extra,g-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=yE;case yE:for(;M=t.distcode[h&(1<<t.distbits)-1],L=M>>>24,X=M>>>16&255,V=M&65535,!(L<=g);){if(c===0)break e;c--,h+=n[o++]<<g,g+=8}if((X&240)===0){for(z=L,ne=X,le=V;M=t.distcode[le+((h&(1<<z+ne)-1)>>z)],L=M>>>24,X=M>>>16&255,V=M&65535,!(z+L<=g);){if(c===0)break e;c--,h+=n[o++]<<g,g+=8}h>>>=z,g-=z,t.back+=z}if(h>>>=L,g-=L,t.back+=L,X&64){r.msg="invalid distance code",t.mode=es;break}t.offset=V,t.extra=X&15,t.mode=wE;case wE:if(t.extra){for(E=t.extra;g<E;){if(c===0)break e;c--,h+=n[o++]<<g,g+=8}t.offset+=h&(1<<t.extra)-1,h>>>=t.extra,g-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){r.msg="invalid distance too far back",t.mode=es;break}t.mode=vE;case vE:if(d===0)break e;if(w=B-d,t.offset>w){if(w=t.offset-w,w>t.whave&&t.sane){r.msg="invalid distance too far back",t.mode=es;break}w>t.wnext?(w-=t.wnext,I=t.wsize-w):I=t.wnext-w,w>t.length&&(w=t.length),j=t.window}else j=s,I=l-t.offset,w=t.length;w>d&&(w=d),d-=w,t.length-=w;do s[l++]=j[I++];while(--w);t.length===0&&(t.mode=Kp);break;case BE:if(d===0)break e;s[l++]=t.length,d--,t.mode=Kp;break;case Ey:if(t.wrap){for(;g<32;){if(c===0)break e;c--,h|=n[o++]<<g,g+=8}if(B-=d,r.total_out+=B,t.total+=B,t.wrap&4&&B&&(r.adler=t.check=t.flags?WA(t.check,s,B,l-B):iv(t.check,s,B,l-B)),B=d,t.wrap&4&&(t.flags?h:CE(h))!==t.check){r.msg="incorrect data check",t.mode=es;break}h=0,g=0}t.mode=NE;case NE:if(t.wrap&&t.flags){for(;g<32;){if(c===0)break e;c--,h+=n[o++]<<g,g+=8}if(t.wrap&4&&h!==(t.total&4294967295)){r.msg="incorrect length check",t.mode=es;break}h=0,g=0}t.mode=_E;case _E:U=zY;break e;case es:U=j8;break e;case U8:return T8;case F8:default:return zo}return r.next_out=l,r.avail_out=d,r.next_in=o,r.avail_in=c,t.hold=h,t.bits=g,(t.wsize||B!==r.avail_out&&t.mode<es&&(t.mode<Ey||e!==nE))&&D8(r,r.output,r.next_out,B-r.avail_out),x-=r.avail_in,B-=r.avail_out,r.total_in+=x,r.total_out+=B,t.total+=B,t.wrap&4&&B&&(r.adler=t.check=t.flags?WA(t.check,s,B,r.next_out-B):iv(t.check,s,B,r.next_out-B)),r.data_type=t.bits+(t.last?64:0)+(t.mode===Xl?128:0)+(t.mode===Vp||t.mode===Cy?256:0),(x===0&&B===0||e===nE)&&U===Fd&&(U=GY),U},rW=r=>{if(Rd(r))return zo;let e=r.state;return e.window&&(e.window=null),r.state=null,Fd},nW=(r,e)=>{if(Rd(r))return zo;const t=r.state;return(t.wrap&2)===0?zo:(t.head=e,e.done=!1,Fd)},sW=(r,e)=>{const t=e.length;let n,s,o;return Rd(r)||(n=r.state,n.wrap!==0&&n.mode!==hx)?zo:n.mode===hx&&(s=1,s=iv(s,e,t,0),s!==n.check)?j8:(o=D8(r,e,t,t),o?(n.mode=U8,T8):(n.havedict=1,Fd))};var aW=Q8,iW=L8,oW=k8,AW=ZY,lW=R8,cW=tW,uW=rW,dW=nW,hW=sW,fW="pako inflate (from Nodeca project)",Yl={inflateReset:aW,inflateReset2:iW,inflateResetKeep:oW,inflateInit:AW,inflateInit2:lW,inflate:cW,inflateEnd:uW,inflateGetHeader:dW,inflateSetDictionary:hW,inflateInfo:fW};function gW(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var mW=gW;const O8=Object.prototype.toString,{Z_NO_FLUSH:pW,Z_FINISH:xW,Z_OK:Hg,Z_STREAM_END:jy,Z_NEED_DICT:Ty,Z_STREAM_ERROR:bW,Z_DATA_ERROR:SE,Z_MEM_ERROR:yW}=_8;function gm(r){this.options=C8.assign({chunkSize:1024*64,windowBits:15,to:""},r||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(r&&r.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new QY,this.strm.avail_out=0;let t=Yl.inflateInit2(this.strm,e.windowBits);if(t!==Hg)throw new Error(ov[t]);if(this.header=new mW,Yl.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=Av.string2buf(e.dictionary):O8.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(t=Yl.inflateSetDictionary(this.strm,e.dictionary),t!==Hg)))throw new Error(ov[t])}gm.prototype.push=function(r,e){const t=this.strm,n=this.options.chunkSize,s=this.options.dictionary;let o,l,c;if(this.ended)return!1;for(e===~~e?l=e:l=e===!0?xW:pW,O8.call(r)==="[object ArrayBuffer]"?t.input=new Uint8Array(r):t.input=r,t.next_in=0,t.avail_in=t.input.length;;){for(t.avail_out===0&&(t.output=new Uint8Array(n),t.next_out=0,t.avail_out=n),o=Yl.inflate(t,l),o===Ty&&s&&(o=Yl.inflateSetDictionary(t,s),o===Hg?o=Yl.inflate(t,l):o===SE&&(o=Ty));t.avail_in>0&&o===jy&&t.state.wrap>0&&r[t.next_in]!==0;)Yl.inflateReset(t),o=Yl.inflate(t,l);switch(o){case bW:case SE:case Ty:case yW:return this.onEnd(o),this.ended=!0,!1}if(c=t.avail_out,t.next_out&&(t.avail_out===0||o===jy))if(this.options.to==="string"){let d=Av.utf8border(t.output,t.next_out),h=t.next_out-d,g=Av.buf2string(t.output,d);t.next_out=h,t.avail_out=n-h,h&&t.output.set(t.output.subarray(d,d+h),0),this.onData(g)}else this.onData(t.output.length===t.next_out?t.output:t.output.subarray(0,t.next_out));if(!(o===Hg&&c===0)){if(o===jy)return o=Yl.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(t.avail_in===0)break}}return!0};gm.prototype.onData=function(r){this.chunks.push(r)};gm.prototype.onEnd=function(r){r===Hg&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=C8.flattenChunks(this.chunks)),this.chunks=[],this.err=r,this.msg=this.strm.msg};function wW(r,e){const t=new gm(e);if(t.push(r),t.err)throw t.msg||ov[t.err];return t.result}var vW=gm,BW=wW,NW={Inflate:vW,inflate:BW};const{Inflate:_W,inflate:CW}=NW;var IE=_W,EW=CW;const M8=[];for(let r=0;r<256;r++){let e=r;for(let t=0;t<8;t++)e&1?e=3988292384^e>>>1:e=e>>>1;M8[r]=e}const jE=4294967295;function SW(r,e,t){let n=r;for(let s=0;s<t;s++)n=M8[(n^e[s])&255]^n>>>8;return n}function IW(r,e){return(SW(jE,r,e)^jE)>>>0}function TE(r,e,t){const n=r.readUint32(),s=IW(new Uint8Array(r.buffer,r.byteOffset+r.offset-e-4,e),e);if(s!==n)throw new Error(`CRC mismatch for chunk ${t}. Expected ${n}, found ${s}`)}function P8(r,e,t){for(let n=0;n<t;n++)e[n]=r[n]}function H8(r,e,t,n){let s=0;for(;s<n;s++)e[s]=r[s];for(;s<t;s++)e[s]=r[s]+e[s-n]&255}function V8(r,e,t,n){let s=0;if(t.length===0)for(;s<n;s++)e[s]=r[s];else for(;s<n;s++)e[s]=r[s]+t[s]&255}function K8(r,e,t,n,s){let o=0;if(t.length===0){for(;o<s;o++)e[o]=r[o];for(;o<n;o++)e[o]=r[o]+(e[o-s]>>1)&255}else{for(;o<s;o++)e[o]=r[o]+(t[o]>>1)&255;for(;o<n;o++)e[o]=r[o]+(e[o-s]+t[o]>>1)&255}}function z8(r,e,t,n,s){let o=0;if(t.length===0){for(;o<s;o++)e[o]=r[o];for(;o<n;o++)e[o]=r[o]+e[o-s]&255}else{for(;o<s;o++)e[o]=r[o]+t[o]&255;for(;o<n;o++)e[o]=r[o]+jW(e[o-s],t[o],t[o-s])&255}}function jW(r,e,t){const n=r+e-t,s=Math.abs(n-r),o=Math.abs(n-e),l=Math.abs(n-t);return s<=o&&s<=l?r:o<=l?e:t}function TW(r,e,t,n,s,o){switch(r){case 0:P8(e,t,s);break;case 1:H8(e,t,s,o);break;case 2:V8(e,t,n,s);break;case 3:K8(e,t,n,s,o);break;case 4:z8(e,t,n,s,o);break;default:throw new Error(`Unsupported filter: ${r}`)}}const UW=new Uint16Array([255]),FW=new Uint8Array(UW.buffer),kW=FW[0]===255;function QW(r){const{data:e,width:t,height:n,channels:s,depth:o}=r,l=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],c=Math.ceil(o/8)*s,d=new Uint8Array(n*t*c);let h=0;for(let g=0;g<7;g++){const x=l[g],B=Math.ceil((t-x.x)/x.xStep),w=Math.ceil((n-x.y)/x.yStep);if(B<=0||w<=0)continue;const I=B*c,j=new Uint8Array(I);for(let M=0;M<w;M++){const L=e[h++],X=e.subarray(h,h+I);h+=I;const V=new Uint8Array(I);TW(L,X,V,j,I,c),j.set(V);for(let z=0;z<B;z++){const ne=x.x+z*x.xStep,le=x.y+M*x.yStep;if(!(ne>=t||le>=n))for(let R=0;R<c;R++)d[(le*t+ne)*c+R]=V[z*c+R]}}}if(o===16){const g=new Uint16Array(d.buffer);if(kW)for(let x=0;x<g.length;x++)g[x]=LW(g[x]);return g}else return d}function LW(r){return(r&255)<<8|r>>8&255}const RW=new Uint16Array([255]),DW=new Uint8Array(RW.buffer),OW=DW[0]===255,MW=new Uint8Array(0);function UE(r){const{data:e,width:t,height:n,channels:s,depth:o}=r,l=Math.ceil(o/8)*s,c=Math.ceil(o/8*s*t),d=new Uint8Array(n*c);let h=MW,g=0,x,B;for(let w=0;w<n;w++){switch(x=e.subarray(g+1,g+1+c),B=d.subarray(w*c,(w+1)*c),e[g]){case 0:P8(x,B,c);break;case 1:H8(x,B,c,l);break;case 2:V8(x,B,h,c);break;case 3:K8(x,B,h,c,l);break;case 4:z8(x,B,h,c,l);break;default:throw new Error(`Unsupported filter: ${e[g]}`)}h=B,g+=c+1}if(o===16){const w=new Uint16Array(d.buffer);if(OW)for(let I=0;I<w.length;I++)w[I]=PW(w[I]);return w}else return d}function PW(r){return(r&255)<<8|r>>8&255}const p1=Uint8Array.of(137,80,78,71,13,10,26,10);function FE(r){if(!HW(r.readBytes(p1.length)))throw new Error("wrong PNG signature")}function HW(r){if(r.length<p1.length)return!1;for(let e=0;e<p1.length;e++)if(r[e]!==p1[e])return!1;return!0}const VW="tEXt",KW=0,q8=new TextDecoder("latin1");function zW(r){if(GW(r),r.length===0||r.length>79)throw new Error("keyword length must be between 1 and 79")}const qW=/^[\u0000-\u00FF]*$/;function GW(r){if(!qW.test(r))throw new Error("invalid latin1 text")}function $W(r,e,t){const n=G8(e);r[n]=XW(e,t-n.length-1)}function G8(r){for(r.mark();r.readByte()!==KW;);const e=r.offset;r.reset();const t=q8.decode(r.readBytes(e-r.offset-1));return r.skip(1),zW(t),t}function XW(r,e){return q8.decode(r.readBytes(e))}const io={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},Uy={UNKNOWN:-1,DEFLATE:0},kE={UNKNOWN:-1,ADAPTIVE:0},Fy={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},zp={NONE:0,BACKGROUND:1,PREVIOUS:2},ky={SOURCE:0,OVER:1};class YW extends Y5{constructor(t,n={}){super(t);gn(this,"_checkCrc");gn(this,"_inflator");gn(this,"_png");gn(this,"_apng");gn(this,"_end");gn(this,"_hasPalette");gn(this,"_palette");gn(this,"_hasTransparency");gn(this,"_transparency");gn(this,"_compressionMethod");gn(this,"_filterMethod");gn(this,"_interlaceMethod");gn(this,"_colorType");gn(this,"_isAnimated");gn(this,"_numberOfFrames");gn(this,"_numberOfPlays");gn(this,"_frames");gn(this,"_writingDataChunks");const{checkCrc:s=!1}=n;this._checkCrc=s,this._inflator=new IE,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=Uy.UNKNOWN,this._filterMethod=kE.UNKNOWN,this._interlaceMethod=Fy.UNKNOWN,this._colorType=io.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(FE(this);!this._end;){const t=this.readUint32(),n=this.readChars(4);this.decodeChunk(t,n)}return this.decodeImage(),this._png}decodeApng(){for(FE(this);!this._end;){const t=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(t,n)}return this.decodeApngImage(),this._apng}decodeChunk(t,n){const s=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(t);break;case"IDAT":this.decodeIDAT(t);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(t);break;case"iCCP":this.decodeiCCP(t);break;case VW:$W(this._png.text,this,t);break;case"pHYs":this.decodepHYs();break;default:this.skip(t);break}if(this.offset-s!==t)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?TE(this,t+4,n):this.skip(4)}decodeApngChunk(t,n){const s=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(t);break;default:this.decodeChunk(t,n),this.offset=s+t;break}if(this.offset-s!==t)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?TE(this,t+4,n):this.skip(4)}decodeIHDR(){const t=this._png;t.width=this.readUint32(),t.height=this.readUint32(),t.depth=WW(this.readUint8());const n=this.readUint8();this._colorType=n;let s;switch(n){case io.GREYSCALE:s=1;break;case io.TRUECOLOUR:s=3;break;case io.INDEXED_COLOUR:s=1;break;case io.GREYSCALE_ALPHA:s=2;break;case io.TRUECOLOUR_ALPHA:s=4;break;case io.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=s,this._compressionMethod=this.readUint8(),this._compressionMethod!==Uy.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const t={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(t)}decodePLTE(t){if(t%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${t}`);const n=t/3;this._hasPalette=!0;const s=[];this._palette=s;for(let o=0;o<n;o++)s.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(t){this._writingDataChunks=!0;const n=t,s=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,s,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodeFDAT(t){this._writingDataChunks=!0;let n=t,s=this.offset+this.byteOffset;if(s+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,s,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodetRNS(t){switch(this._colorType){case io.GREYSCALE:case io.TRUECOLOUR:{if(t%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${t}`);if(t/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${t/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(t/2);for(let n=0;n<t/2;n++)this._transparency[n]=this.readUint16();break}case io.INDEXED_COLOUR:{if(t>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${t} vs ${this._palette.length})`);let n=0;for(;n<t;n++){const s=this.readByte();this._palette[n].push(s)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case io.UNKNOWN:case io.GREYSCALE_ALPHA:case io.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(t){const n=G8(this),s=this.readUint8();if(s!==Uy.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${s}`);const o=this.readBytes(t-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:EW(o)}}decodepHYs(){const t=this.readUint32(),n=this.readUint32(),s=this.readByte();this._png.resolution={x:t,y:n,unit:s}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let t=0;t<this._numberOfFrames;t++){const n={sequenceNumber:this._frames[t].sequenceNumber,delayNumber:this._frames[t].delayNumber,delayDenominator:this._frames[t].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},s=this._frames.at(t);if(s){if(s.data=UE({data:s.data,width:s.width,height:s.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),t===0||s.xOffset===0&&s.yOffset===0&&s.width===this._png.width&&s.height===this._png.height)n.data=s.data;else{const o=this._apng.frames.at(t-1);this.disposeFrame(s,o,n),this.addFrameDataToCanvas(n,s)}this._apng.frames.push(n)}}return this._apng}disposeFrame(t,n,s){switch(t.disposeOp){case zp.NONE:break;case zp.BACKGROUND:for(let o=0;o<this._png.height;o++)for(let l=0;l<this._png.width;l++){const c=(o*t.width+l)*this._png.channels;for(let d=0;d<this._png.channels;d++)s.data[c+d]=0}break;case zp.PREVIOUS:s.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(t,n){const s=1<<this._png.depth,o=(l,c)=>{const d=((l+n.yOffset)*this._png.width+n.xOffset+c)*this._png.channels,h=(l*n.width+c)*this._png.channels;return{index:d,frameIndex:h}};switch(n.blendOp){case ky.SOURCE:for(let l=0;l<n.height;l++)for(let c=0;c<n.width;c++){const{index:d,frameIndex:h}=o(l,c);for(let g=0;g<this._png.channels;g++)t.data[d+g]=n.data[h+g]}break;case ky.OVER:for(let l=0;l<n.height;l++)for(let c=0;c<n.width;c++){const{index:d,frameIndex:h}=o(l,c);for(let g=0;g<this._png.channels;g++){const x=n.data[h+this._png.channels-1]/s,B=g%(this._png.channels-1)===0?1:n.data[h+g],w=Math.floor(x*B+(1-x)*t.data[d+g]);t.data[d+g]+=w}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var n;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const t=this._isAnimated?((n=this._frames)==null?void 0:n.at(0)).data:this._inflator.result;if(this._filterMethod!==kE.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===Fy.NO_INTERLACE)this._png.data=UE({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===Fy.ADAM7)this._png.data=QW({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const t=this._inflator.result,n=this._frames.at(-1);n?n.data=t:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:zp.NONE,blendOp:ky.SOURCE,data:t}),this._inflator=new IE,this._writingDataChunks=!1}}function WW(r){if(r!==1&&r!==2&&r!==4&&r!==8&&r!==16)throw new Error(`invalid bit depth: ${r}`);return r}var QE;(function(r){r[r.UNKNOWN=0]="UNKNOWN",r[r.METRE=1]="METRE"})(QE||(QE={}));function JW(r,e){return new YW(r,e).decode()}var xr=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function Qy(){xr.console&&typeof xr.console.log=="function"&&xr.console.log.apply(xr.console,arguments)}var Qn={log:Qy,warn:function(r){xr.console&&(typeof xr.console.warn=="function"?xr.console.warn.apply(xr.console,arguments):Qy.call(null,arguments))},error:function(r){xr.console&&(typeof xr.console.error=="function"?xr.console.error.apply(xr.console,arguments):Qy(r))}};function Ly(r,e,t){var n=new XMLHttpRequest;n.open("GET",r),n.responseType="blob",n.onload=function(){td(n.response,e,t)},n.onerror=function(){Qn.error("could not download file")},n.send()}function LE(r){var e=new XMLHttpRequest;e.open("HEAD",r,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function qp(r){try{r.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),r.dispatchEvent(e)}}var td=xr.saveAs||((typeof window>"u"?"undefined":mn(window))!=="object"||window!==xr?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(r,e,t){var n=xr.URL||xr.webkitURL,s=document.createElement("a");e=e||r.name||"download",s.download=e,s.rel="noopener",typeof r=="string"?(s.href=r,s.origin!==location.origin?LE(s.href)?Ly(r,e,t):qp(s,s.target="_blank"):qp(s)):(s.href=n.createObjectURL(r),setTimeout(function(){n.revokeObjectURL(s.href)},4e4),setTimeout(function(){qp(s)},0))}:"msSaveOrOpenBlob"in navigator?function(r,e,t){if(e=e||r.name||"download",typeof r=="string")if(LE(r))Ly(r,e,t);else{var n=document.createElement("a");n.href=r,n.target="_blank",setTimeout(function(){qp(n)})}else navigator.msSaveOrOpenBlob((function(s,o){return o===void 0?o={autoBom:!1}:mn(o)!=="object"&&(Qn.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type)?new Blob(["\uFEFF",s],{type:s.type}):s})(r,t),e)}:function(r,e,t,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof r=="string")return Ly(r,e,t);var s=r.type==="application/octet-stream",o=/constructor/i.test(xr.HTMLElement)||xr.safari,l=/CriOS\/[\d]+/.test(navigator.userAgent);if((l||s&&o)&&(typeof FileReader>"u"?"undefined":mn(FileReader))==="object"){var c=new FileReader;c.onloadend=function(){var g=c.result;g=l?g:g.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=g:location=g,n=null},c.readAsDataURL(r)}else{var d=xr.URL||xr.webkitURL,h=d.createObjectURL(r);n?n.location=h:location.href=h,n=null,setTimeout(function(){d.revokeObjectURL(h)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function $8(r){var e;r=r||"",this.ok=!1,r.charAt(0)=="#"&&(r=r.substr(1,6)),r={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[r=(r=r.replace(/ /g,"")).toLowerCase()]||r;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(c){return[parseInt(c[1]),parseInt(c[2]),parseInt(c[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(c){return[parseInt(c[1],16),parseInt(c[2],16),parseInt(c[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(c){return[parseInt(c[1]+c[1],16),parseInt(c[2]+c[2],16),parseInt(c[3]+c[3],16)]}}],n=0;n<t.length;n++){var s=t[n].re,o=t[n].process,l=s.exec(r);l&&(e=o(l),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var c=this.r.toString(16),d=this.g.toString(16),h=this.b.toString(16);return c.length==1&&(c="0"+c),d.length==1&&(d="0"+d),h.length==1&&(h="0"+h),"#"+c+d+h}}var x1=xr.atob.bind(xr),RE=xr.btoa.bind(xr);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Ry(r,e){var t=r[0],n=r[1],s=r[2],o=r[3];t=$a(t,n,s,o,e[0],7,-680876936),o=$a(o,t,n,s,e[1],12,-389564586),s=$a(s,o,t,n,e[2],17,606105819),n=$a(n,s,o,t,e[3],22,-1044525330),t=$a(t,n,s,o,e[4],7,-176418897),o=$a(o,t,n,s,e[5],12,1200080426),s=$a(s,o,t,n,e[6],17,-1473231341),n=$a(n,s,o,t,e[7],22,-45705983),t=$a(t,n,s,o,e[8],7,1770035416),o=$a(o,t,n,s,e[9],12,-1958414417),s=$a(s,o,t,n,e[10],17,-42063),n=$a(n,s,o,t,e[11],22,-1990404162),t=$a(t,n,s,o,e[12],7,1804603682),o=$a(o,t,n,s,e[13],12,-40341101),s=$a(s,o,t,n,e[14],17,-1502002290),t=Xa(t,n=$a(n,s,o,t,e[15],22,1236535329),s,o,e[1],5,-165796510),o=Xa(o,t,n,s,e[6],9,-1069501632),s=Xa(s,o,t,n,e[11],14,643717713),n=Xa(n,s,o,t,e[0],20,-373897302),t=Xa(t,n,s,o,e[5],5,-701558691),o=Xa(o,t,n,s,e[10],9,38016083),s=Xa(s,o,t,n,e[15],14,-660478335),n=Xa(n,s,o,t,e[4],20,-405537848),t=Xa(t,n,s,o,e[9],5,568446438),o=Xa(o,t,n,s,e[14],9,-1019803690),s=Xa(s,o,t,n,e[3],14,-187363961),n=Xa(n,s,o,t,e[8],20,1163531501),t=Xa(t,n,s,o,e[13],5,-1444681467),o=Xa(o,t,n,s,e[2],9,-51403784),s=Xa(s,o,t,n,e[7],14,1735328473),t=Ya(t,n=Xa(n,s,o,t,e[12],20,-1926607734),s,o,e[5],4,-378558),o=Ya(o,t,n,s,e[8],11,-2022574463),s=Ya(s,o,t,n,e[11],16,1839030562),n=Ya(n,s,o,t,e[14],23,-35309556),t=Ya(t,n,s,o,e[1],4,-1530992060),o=Ya(o,t,n,s,e[4],11,1272893353),s=Ya(s,o,t,n,e[7],16,-155497632),n=Ya(n,s,o,t,e[10],23,-1094730640),t=Ya(t,n,s,o,e[13],4,681279174),o=Ya(o,t,n,s,e[0],11,-358537222),s=Ya(s,o,t,n,e[3],16,-722521979),n=Ya(n,s,o,t,e[6],23,76029189),t=Ya(t,n,s,o,e[9],4,-640364487),o=Ya(o,t,n,s,e[12],11,-421815835),s=Ya(s,o,t,n,e[15],16,530742520),t=Wa(t,n=Ya(n,s,o,t,e[2],23,-995338651),s,o,e[0],6,-198630844),o=Wa(o,t,n,s,e[7],10,1126891415),s=Wa(s,o,t,n,e[14],15,-1416354905),n=Wa(n,s,o,t,e[5],21,-57434055),t=Wa(t,n,s,o,e[12],6,1700485571),o=Wa(o,t,n,s,e[3],10,-1894986606),s=Wa(s,o,t,n,e[10],15,-1051523),n=Wa(n,s,o,t,e[1],21,-2054922799),t=Wa(t,n,s,o,e[8],6,1873313359),o=Wa(o,t,n,s,e[15],10,-30611744),s=Wa(s,o,t,n,e[6],15,-1560198380),n=Wa(n,s,o,t,e[13],21,1309151649),t=Wa(t,n,s,o,e[4],6,-145523070),o=Wa(o,t,n,s,e[11],10,-1120210379),s=Wa(s,o,t,n,e[2],15,718787259),n=Wa(n,s,o,t,e[9],21,-343485551),r[0]=ou(t,r[0]),r[1]=ou(n,r[1]),r[2]=ou(s,r[2]),r[3]=ou(o,r[3])}function ob(r,e,t,n,s,o){return e=ou(ou(e,r),ou(n,o)),ou(e<<s|e>>>32-s,t)}function $a(r,e,t,n,s,o,l){return ob(e&t|~e&n,r,e,s,o,l)}function Xa(r,e,t,n,s,o,l){return ob(e&n|t&~n,r,e,s,o,l)}function Ya(r,e,t,n,s,o,l){return ob(e^t^n,r,e,s,o,l)}function Wa(r,e,t,n,s,o,l){return ob(t^(e|~n),r,e,s,o,l)}function X8(r){var e,t=r.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=r.length;e+=64)Ry(n,ZW(r.substring(e-64,e)));r=r.substring(e-64);var s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<r.length;e++)s[e>>2]|=r.charCodeAt(e)<<(e%4<<3);if(s[e>>2]|=128<<(e%4<<3),e>55)for(Ry(n,s),e=0;e<16;e++)s[e]=0;return s[14]=8*t,Ry(n,s),n}function ZW(r){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=r.charCodeAt(e)+(r.charCodeAt(e+1)<<8)+(r.charCodeAt(e+2)<<16)+(r.charCodeAt(e+3)<<24);return t}var DE="0123456789abcdef".split("");function eJ(r){for(var e="",t=0;t<4;t++)e+=DE[r>>8*t+4&15]+DE[r>>8*t&15];return e}function tJ(r){return String.fromCharCode(255&r,(65280&r)>>8,(16711680&r)>>16,(4278190080&r)>>24)}function lv(r){return X8(r).map(tJ).join("")}var rJ=(function(r){for(var e=0;e<r.length;e++)r[e]=eJ(r[e]);return r.join("")})(X8("hello"))!="5d41402abc4b2a76b9719d911017c592";function ou(r,e){if(rJ){var t=(65535&r)+(65535&e);return(r>>16)+(e>>16)+(t>>16)<<16|65535&t}return r+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function cv(r,e){var t,n,s,o;if(r!==t){for(var l=(s=r,o=1+(256/r.length|0),new Array(o+1).join(s)),c=[],d=0;d<256;d++)c[d]=d;var h=0;for(d=0;d<256;d++){var g=c[d];h=(h+g+l.charCodeAt(d))%256,c[d]=c[h],c[h]=g}t=r,n=c}else c=n;var x=e.length,B=0,w=0,I="";for(d=0;d<x;d++)w=(w+(g=c[B=(B+1)%256]))%256,c[B]=c[w],c[w]=g,l=c[(c[B]+c[w])%256],I+=String.fromCharCode(e.charCodeAt(d)^l);return I}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var OE={print:4,modify:8,copy:16,"annot-forms":32};function Ph(r,e,t,n){this.v=1,this.r=2;var s=192;r.forEach(function(c){if(OE.perm!==void 0)throw new Error("Invalid permission: "+c);s+=OE[c]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var o=(e+this.padding).substr(0,32),l=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(o,l),this.P=-(1+(255^s)),this.encryptionKey=lv(o+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=cv(this.encryptionKey,this.padding)}function Hh(r){if(/[^\u0000-\u00ff]/.test(r))throw new Error("Invalid PDF Name Object: "+r+", Only accept ASCII characters.");for(var e="",t=r.length,n=0;n<t;n++){var s=r.charCodeAt(n);e+=s<33||s===35||s===37||s===40||s===41||s===47||s===60||s===62||s===91||s===93||s===123||s===125||s>126?"#"+("0"+s.toString(16)).slice(-2):r[n]}return e}function ME(r){if(mn(r)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,n,s){if(s=s||!1,typeof t!="string"||typeof n!="function"||typeof s!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var o=Math.random().toString(35);return e[t][o]=[n,!!s],o},this.unsubscribe=function(t){for(var n in e)if(e[n][t])return delete e[n][t],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var n=Array.prototype.slice.call(arguments,1),s=[];for(var o in e[t]){var l=e[t][o];try{l[0].apply(r,n)}catch(c){xr.console&&Qn.error("jsPDF PubSub Error",c.message,c)}l[1]&&s.push(o)}s.length&&s.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function fx(r){if(!(this instanceof fx))return new fx(r);var e="opacity,stroke-opacity".split(",");for(var t in r)r.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=r[t]);this.id="",this.objectNumber=-1}function Y8(r,e){this.gState=r,this.matrix=e,this.id="",this.objectNumber=-1}function Ad(r,e,t,n,s){if(!(this instanceof Ad))return new Ad(r,e,t,n,s);this.type=r==="axial"?2:3,this.coords=e,this.colors=t,Y8.call(this,n,s)}function zh(r,e,t,n,s){if(!(this instanceof zh))return new zh(r,e,t,n,s);this.boundingBox=r,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,Y8.call(this,n,s)}function Jt(r){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],s=arguments[2],o=arguments[3],l=[],c=1,d=16,h="S",g=null;mn(r=r||{})==="object"&&(t=r.orientation,n=r.unit||n,s=r.format||s,o=r.compress||r.compressPdf||o,(g=r.encryption||null)!==null&&(g.userPassword=g.userPassword||"",g.ownerPassword=g.ownerPassword||"",g.userPermissions=g.userPermissions||[]),c=typeof r.userUnit=="number"?Math.abs(r.userUnit):1,r.precision!==void 0&&(e=r.precision),r.floatPrecision!==void 0&&(d=r.floatPrecision),h=r.defaultPathOperation||"S"),l=r.filters||(o===!0?["FlateEncode"]:l),n=n||"mm",t=(""+(t||"P")).toLowerCase();var x=r.putOnlyUsedFonts||!1,B={},w={internal:{},__private__:{}};w.__private__.PubSub=ME;var I="1.3",j=w.__private__.getPdfVersion=function(){return I};w.__private__.setPdfVersion=function(N){I=N};var M={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};w.__private__.getPageFormats=function(){return M};var L=w.__private__.getPageFormat=function(N){return M[N]};s=s||"a4";var X="compat",V="advanced",z=X;function ne(){this.saveGraphicsState(),H(new Ft(hr,0,0,-hr,0,ci()*hr).toString()+" cm"),this.setFontSize(this.getFontSize()/hr),h="n",z=V}function le(){this.restoreGraphicsState(),h="S",z=X}var R=w.__private__.combineFontStyleAndFontWeight=function(N,K){if(N=="bold"&&K=="normal"||N=="bold"&&K==400||N=="normal"&&K=="italic"||N=="bold"&&K=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return K&&(N=K==400||K==="normal"?N==="italic"?"italic":"normal":K!=700&&K!=="bold"||N!=="normal"?(K==700?"bold":K)+""+N:"bold"),N};w.advancedAPI=function(N){var K=z===X;return K&&ne.call(this),typeof N!="function"||(N(this),K&&le.call(this)),this},w.compatAPI=function(N){var K=z===V;return K&&le.call(this),typeof N!="function"||(N(this),K&&ne.call(this)),this},w.isAdvancedAPI=function(){return z===V};var U,S=function(N){if(z!==V)throw new Error(N+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},P=w.roundToPrecision=w.__private__.roundToPrecision=function(N,K){var ue=e||K;if(isNaN(N)||isNaN(ue))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return N.toFixed(ue).replace(/0+$/,"")};U=w.hpf=w.__private__.hpf=typeof d=="number"?function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.hpf");return P(N,d)}:d==="smart"?function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.hpf");return P(N,N>-1&&N<1?16:5)}:function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.hpf");return P(N,16)};var E=w.f2=w.__private__.f2=function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.f2");return P(N,2)},F=w.__private__.f3=function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.f3");return P(N,3)},Q=w.scale=w.__private__.scale=function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.scale");return z===X?N*hr:z===V?N:void 0},J=function(N){return Q((function(K){return z===X?ci()-K:z===V?K:void 0})(N))};w.__private__.setPrecision=w.setPrecision=function(N){typeof parseInt(N,10)=="number"&&(e=parseInt(N,10))};var xe,ie="00000000000000000000000000000000",Z=w.__private__.getFileId=function(){return ie},Ae=w.__private__.setFileId=function(N){return ie=N!==void 0&&/^[a-fA-F0-9]{32}$/.test(N)?N.toUpperCase():ie.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),g!==null&&(Tn=new Ph(g.userPermissions,g.userPassword,g.ownerPassword,ie)),ie};w.setFileId=function(N){return Ae(N),this},w.getFileId=function(){return Z()};var be=w.__private__.convertDateToPDFDate=function(N){var K=N.getTimezoneOffset(),ue=K<0?"+":"-",ye=Math.floor(Math.abs(K/60)),Ce=Math.abs(K%60),$e=[ue,te(ye),"'",te(Ce),"'"].join("");return["D:",N.getFullYear(),te(N.getMonth()+1),te(N.getDate()),te(N.getHours()),te(N.getMinutes()),te(N.getSeconds()),$e].join("")},Ee=w.__private__.convertPDFDateToDate=function(N){var K=parseInt(N.substr(2,4),10),ue=parseInt(N.substr(6,2),10)-1,ye=parseInt(N.substr(8,2),10),Ce=parseInt(N.substr(10,2),10),$e=parseInt(N.substr(12,2),10),nt=parseInt(N.substr(14,2),10);return new Date(K,ue,ye,Ce,$e,nt,0)},$=w.__private__.setCreationDate=function(N){var K;if(N===void 0&&(N=new Date),N instanceof Date)K=be(N);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(N))throw new Error("Invalid argument passed to jsPDF.setCreationDate");K=N}return xe=K},D=w.__private__.getCreationDate=function(N){var K=xe;return N==="jsDate"&&(K=Ee(xe)),K};w.setCreationDate=function(N){return $(N),this},w.getCreationDate=function(N){return D(N)};var q,te=w.__private__.padd2=function(N){return("0"+parseInt(N)).slice(-2)},re=w.__private__.padd2Hex=function(N){return("00"+(N=N.toString())).substr(N.length)},fe=0,ge=[],Be=[],_e=0,Oe=[],He=[],it=!1,me=Be;w.__private__.setCustomOutputDestination=function(N){it=!0,me=N};var Me=function(N){it||(me=N)};w.__private__.resetCustomOutputDestination=function(){it=!1,me=Be};var H=w.__private__.out=function(N){return N=N.toString(),_e+=N.length+1,me.push(N),me},Ke=w.__private__.write=function(N){return H(arguments.length===1?N.toString():Array.prototype.join.call(arguments," "))},rt=w.__private__.getArrayBuffer=function(N){for(var K=N.length,ue=new ArrayBuffer(K),ye=new Uint8Array(ue);K--;)ye[K]=N.charCodeAt(K);return ue},pt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];w.__private__.getStandardFonts=function(){return pt};var Pe=r.fontSize||16;w.__private__.setFontSize=w.setFontSize=function(N){return Pe=z===V?N/hr:N,this};var st,dt=w.__private__.getFontSize=w.getFontSize=function(){return z===X?Pe:Pe*hr},Mt=r.R2L||!1;w.__private__.setR2L=w.setR2L=function(N){return Mt=N,this},w.__private__.getR2L=w.getR2L=function(){return Mt};var St,Yt=w.__private__.setZoomMode=function(N){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(N))st=N;else if(isNaN(N)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(N)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+N+'" is not recognized.');st=N}else st=parseInt(N,10)};w.__private__.getZoomMode=function(){return st};var cr,ar=w.__private__.setPageMode=function(N){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(N)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+N+'" is not recognized.');St=N};w.__private__.getPageMode=function(){return St};var ur=w.__private__.setLayoutMode=function(N){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(N)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+N+'" is not recognized.');cr=N};w.__private__.getLayoutMode=function(){return cr},w.__private__.setDisplayMode=w.setDisplayMode=function(N,K,ue){return Yt(N),ur(K),ar(ue),this};var dr={title:"",subject:"",author:"",keywords:"",creator:""};w.__private__.getDocumentProperty=function(N){if(Object.keys(dr).indexOf(N)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return dr[N]},w.__private__.getDocumentProperties=function(){return dr},w.__private__.setDocumentProperties=w.setProperties=w.setDocumentProperties=function(N){for(var K in dr)dr.hasOwnProperty(K)&&N[K]&&(dr[K]=N[K]);return this},w.__private__.setDocumentProperty=function(N,K){if(Object.keys(dr).indexOf(N)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return dr[N]=K};var jt,hr,Bt,De,ft,ct={},yt={},qt=[],xt={},Ar={},Rt={},Pt={},Ir=null,Tt=0,Nt=[],fr=new ME(w),In=r.hotfixes||[],Dn={},jn={},An=[],Ft=function N(K,ue,ye,Ce,$e,nt){if(!(this instanceof N))return new N(K,ue,ye,Ce,$e,nt);isNaN(K)&&(K=1),isNaN(ue)&&(ue=0),isNaN(ye)&&(ye=0),isNaN(Ce)&&(Ce=1),isNaN($e)&&($e=0),isNaN(nt)&&(nt=0),this._matrix=[K,ue,ye,Ce,$e,nt]};Object.defineProperty(Ft.prototype,"sx",{get:function(){return this._matrix[0]},set:function(N){this._matrix[0]=N}}),Object.defineProperty(Ft.prototype,"shy",{get:function(){return this._matrix[1]},set:function(N){this._matrix[1]=N}}),Object.defineProperty(Ft.prototype,"shx",{get:function(){return this._matrix[2]},set:function(N){this._matrix[2]=N}}),Object.defineProperty(Ft.prototype,"sy",{get:function(){return this._matrix[3]},set:function(N){this._matrix[3]=N}}),Object.defineProperty(Ft.prototype,"tx",{get:function(){return this._matrix[4]},set:function(N){this._matrix[4]=N}}),Object.defineProperty(Ft.prototype,"ty",{get:function(){return this._matrix[5]},set:function(N){this._matrix[5]=N}}),Object.defineProperty(Ft.prototype,"a",{get:function(){return this._matrix[0]},set:function(N){this._matrix[0]=N}}),Object.defineProperty(Ft.prototype,"b",{get:function(){return this._matrix[1]},set:function(N){this._matrix[1]=N}}),Object.defineProperty(Ft.prototype,"c",{get:function(){return this._matrix[2]},set:function(N){this._matrix[2]=N}}),Object.defineProperty(Ft.prototype,"d",{get:function(){return this._matrix[3]},set:function(N){this._matrix[3]=N}}),Object.defineProperty(Ft.prototype,"e",{get:function(){return this._matrix[4]},set:function(N){this._matrix[4]=N}}),Object.defineProperty(Ft.prototype,"f",{get:function(){return this._matrix[5]},set:function(N){this._matrix[5]=N}}),Object.defineProperty(Ft.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Ft.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Ft.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Ft.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Ft.prototype.join=function(N){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(U).join(N)},Ft.prototype.multiply=function(N){var K=N.sx*this.sx+N.shy*this.shx,ue=N.sx*this.shy+N.shy*this.sy,ye=N.shx*this.sx+N.sy*this.shx,Ce=N.shx*this.shy+N.sy*this.sy,$e=N.tx*this.sx+N.ty*this.shx+this.tx,nt=N.tx*this.shy+N.ty*this.sy+this.ty;return new Ft(K,ue,ye,Ce,$e,nt)},Ft.prototype.decompose=function(){var N=this.sx,K=this.shy,ue=this.shx,ye=this.sy,Ce=this.tx,$e=this.ty,nt=Math.sqrt(N*N+K*K),Ut=(N/=nt)*ue+(K/=nt)*ye;ue-=N*Ut,ye-=K*Ut;var Ht=Math.sqrt(ue*ue+ye*ye);return Ut/=Ht,N*(ye/=Ht)<K*(ue/=Ht)&&(N=-N,K=-K,Ut=-Ut,nt=-nt),{scale:new Ft(nt,0,0,Ht,0,0),translate:new Ft(1,0,0,1,Ce,$e),rotate:new Ft(N,K,-K,N,0,0),skew:new Ft(1,0,Ut,1,0,0)}},Ft.prototype.toString=function(N){return this.join(" ")},Ft.prototype.inversed=function(){var N=this.sx,K=this.shy,ue=this.shx,ye=this.sy,Ce=this.tx,$e=this.ty,nt=1/(N*ye-K*ue),Ut=ye*nt,Ht=-K*nt,tr=-ue*nt,Wt=N*nt;return new Ft(Ut,Ht,tr,Wt,-Ut*Ce-tr*$e,-Ht*Ce-Wt*$e)},Ft.prototype.applyToPoint=function(N){var K=N.x*this.sx+N.y*this.shx+this.tx,ue=N.x*this.shy+N.y*this.sy+this.ty;return new Qs(K,ue)},Ft.prototype.applyToRectangle=function(N){var K=this.applyToPoint(N),ue=this.applyToPoint(new Qs(N.x+N.w,N.y+N.h));return new vi(K.x,K.y,ue.x-K.x,ue.y-K.y)},Ft.prototype.clone=function(){var N=this.sx,K=this.shy,ue=this.shx,ye=this.sy,Ce=this.tx,$e=this.ty;return new Ft(N,K,ue,ye,Ce,$e)},w.Matrix=Ft;var et=w.matrixMult=function(N,K){return K.multiply(N)},gt=new Ft(1,0,0,1,0,0);w.unitMatrix=w.identityMatrix=gt;var Gt=function(N,K){if(!Ar[N]){var ue=(K instanceof Ad?"Sh":"P")+(Object.keys(xt).length+1).toString(10);K.id=ue,Ar[N]=ue,xt[ue]=K,fr.publish("addPattern",K)}};w.ShadingPattern=Ad,w.TilingPattern=zh,w.addShadingPattern=function(N,K){return S("addShadingPattern()"),Gt(N,K),this},w.beginTilingPattern=function(N){S("beginTilingPattern()"),Bi(N.boundingBox[0],N.boundingBox[1],N.boundingBox[2]-N.boundingBox[0],N.boundingBox[3]-N.boundingBox[1],N.matrix)},w.endTilingPattern=function(N,K){S("endTilingPattern()"),K.stream=He[q].join(`
`),Gt(N,K),fr.publish("endTilingPattern",K),An.pop().restore()};var _t,at=w.__private__.newObject=function(){var N=wt();return Dt(N,!0),N},wt=w.__private__.newObjectDeferred=function(){return fe++,ge[fe]=function(){return _e},fe},Dt=function(N,K){return K=typeof K=="boolean"&&K,ge[N]=_e,K&&H(N+" 0 obj"),N},kt=w.__private__.newAdditionalObject=function(){var N={objId:wt(),content:""};return Oe.push(N),N},ir=wt(),bt=wt(),wr=w.__private__.decodeColorString=function(N){var K=N.split(" ");if(K.length!==2||K[1]!=="g"&&K[1]!=="G")K.length!==5||K[4]!=="k"&&K[4]!=="K"||(K=[(1-K[0])*(1-K[3]),(1-K[1])*(1-K[3]),(1-K[2])*(1-K[3]),"r"]);else{var ue=parseFloat(K[0]);K=[ue,ue,ue,"r"]}for(var ye="#",Ce=0;Ce<3;Ce++)ye+=("0"+Math.floor(255*parseFloat(K[Ce])).toString(16)).slice(-2);return ye},On=w.__private__.encodeColorString=function(N){var K;typeof N=="string"&&(N={ch1:N});var ue=N.ch1,ye=N.ch2,Ce=N.ch3,$e=N.ch4,nt=N.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ue=="string"&&ue.charAt(0)!=="#"){var Ut=new $8(ue);if(Ut.ok)ue=Ut.toHex();else if(!/^\d*\.?\d*$/.test(ue))throw new Error('Invalid color "'+ue+'" passed to jsPDF.encodeColorString.')}if(typeof ue=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ue)&&(ue="#"+ue[1]+ue[1]+ue[2]+ue[2]+ue[3]+ue[3]),typeof ue=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ue)){var Ht=parseInt(ue.substr(1),16);ue=Ht>>16&255,ye=Ht>>8&255,Ce=255&Ht}if(ye===void 0||$e===void 0&&ue===ye&&ye===Ce)K=typeof ue=="string"?ue+" "+nt[0]:N.precision===2?E(ue/255)+" "+nt[0]:F(ue/255)+" "+nt[0];else if($e===void 0||mn($e)==="object"){if($e&&!isNaN($e.a)&&$e.a===0)return["1.","1.","1.",nt[1]].join(" ");K=typeof ue=="string"?[ue,ye,Ce,nt[1]].join(" "):N.precision===2?[E(ue/255),E(ye/255),E(Ce/255),nt[1]].join(" "):[F(ue/255),F(ye/255),F(Ce/255),nt[1]].join(" ")}else K=typeof ue=="string"?[ue,ye,Ce,$e,nt[2]].join(" "):N.precision===2?[E(ue),E(ye),E(Ce),E($e),nt[2]].join(" "):[F(ue),F(ye),F(Ce),F($e),nt[2]].join(" ");return K},aa=w.__private__.getFilters=function(){return l},Oa=w.__private__.putStream=function(N){var K=(N=N||{}).data||"",ue=N.filters||aa(),ye=N.alreadyAppliedFilters||[],Ce=N.addLength1||!1,$e=K.length,nt=N.objectId,Ut=function(C){return C};if(g!==null&&nt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");g!==null&&(Ut=Tn.encryptor(nt,0));var Ht={};ue===!0&&(ue=["FlateEncode"]);var tr=N.additionalKeyValues||[],Wt=(Ht=Jt.API.processDataByFilters!==void 0?Jt.API.processDataByFilters(K,ue):{data:K,reverseChain:[]}).reverseChain+(Array.isArray(ye)?ye.join(" "):ye.toString());if(Ht.data.length!==0&&(tr.push({key:"Length",value:Ht.data.length}),Ce===!0&&tr.push({key:"Length1",value:$e})),Wt.length!=0)if(Wt.split("/").length-1==1)tr.push({key:"Filter",value:Wt});else{tr.push({key:"Filter",value:"["+Wt+"]"});for(var Ur=0;Ur<tr.length;Ur+=1)if(tr[Ur].key==="DecodeParms"){for(var wn=[],ln=0;ln<Ht.reverseChain.split("/").length-1;ln+=1)wn.push("null");wn.push(tr[Ur].value),tr[Ur].value="["+wn.join(" ")+"]"}}H("<<");for(var p=0;p<tr.length;p++)H("/"+tr[p].key+" "+tr[p].value);H(">>"),Ht.data.length!==0&&(H("stream"),H(Ut(Ht.data)),H("endstream"))},mo=w.__private__.putPage=function(N){var K=N.number,ue=N.data,ye=N.objId,Ce=N.contentsObjId;Dt(ye,!0),H("<</Type /Page"),H("/Parent "+N.rootDictionaryObjId+" 0 R"),H("/Resources "+N.resourceDictionaryObjId+" 0 R"),H("/MediaBox ["+parseFloat(U(N.mediaBox.bottomLeftX))+" "+parseFloat(U(N.mediaBox.bottomLeftY))+" "+U(N.mediaBox.topRightX)+" "+U(N.mediaBox.topRightY)+"]"),N.cropBox!==null&&H("/CropBox ["+U(N.cropBox.bottomLeftX)+" "+U(N.cropBox.bottomLeftY)+" "+U(N.cropBox.topRightX)+" "+U(N.cropBox.topRightY)+"]"),N.bleedBox!==null&&H("/BleedBox ["+U(N.bleedBox.bottomLeftX)+" "+U(N.bleedBox.bottomLeftY)+" "+U(N.bleedBox.topRightX)+" "+U(N.bleedBox.topRightY)+"]"),N.trimBox!==null&&H("/TrimBox ["+U(N.trimBox.bottomLeftX)+" "+U(N.trimBox.bottomLeftY)+" "+U(N.trimBox.topRightX)+" "+U(N.trimBox.topRightY)+"]"),N.artBox!==null&&H("/ArtBox ["+U(N.artBox.bottomLeftX)+" "+U(N.artBox.bottomLeftY)+" "+U(N.artBox.topRightX)+" "+U(N.artBox.topRightY)+"]"),typeof N.userUnit=="number"&&N.userUnit!==1&&H("/UserUnit "+N.userUnit),fr.publish("putPage",{objId:ye,pageContext:Nt[K],pageNumber:K,page:ue}),H("/Contents "+Ce+" 0 R"),H(">>"),H("endobj");var $e=ue.join(`
`);return z===V&&($e+=`
Q`),Dt(Ce,!0),Oa({data:$e,filters:aa(),objectId:Ce}),H("endobj"),ye},ii=w.__private__.putPages=function(){var N,K,ue=[];for(N=1;N<=Tt;N++)Nt[N].objId=wt(),Nt[N].contentsObjId=wt();for(N=1;N<=Tt;N++)ue.push(mo({number:N,data:He[N],objId:Nt[N].objId,contentsObjId:Nt[N].contentsObjId,mediaBox:Nt[N].mediaBox,cropBox:Nt[N].cropBox,bleedBox:Nt[N].bleedBox,trimBox:Nt[N].trimBox,artBox:Nt[N].artBox,userUnit:Nt[N].userUnit,rootDictionaryObjId:ir,resourceDictionaryObjId:bt}));Dt(ir,!0),H("<</Type /Pages");var ye="/Kids [";for(K=0;K<Tt;K++)ye+=ue[K]+" 0 R ";H(ye+"]"),H("/Count "+Tt),H(">>"),H("endobj"),fr.publish("postPutPages")},ia=function(N){fr.publish("putFont",{font:N,out:H,newObject:at,putStream:Oa}),N.isAlreadyPutted!==!0&&(N.objectNumber=at(),H("<<"),H("/Type /Font"),H("/BaseFont /"+Hh(N.postScriptName)),H("/Subtype /Type1"),typeof N.encoding=="string"&&H("/Encoding /"+N.encoding),H("/FirstChar 32"),H("/LastChar 255"),H(">>"),H("endobj"))},Gi=function(N){N.objectNumber=at();var K=[];K.push({key:"Type",value:"/XObject"}),K.push({key:"Subtype",value:"/Form"}),K.push({key:"BBox",value:"["+[U(N.x),U(N.y),U(N.x+N.width),U(N.y+N.height)].join(" ")+"]"}),K.push({key:"Matrix",value:"["+N.matrix.toString()+"]"});var ue=N.pages[1].join(`
`);Oa({data:ue,additionalKeyValues:K,objectId:N.objectNumber}),H("endobj")},va=function(N,K){K||(K=21);var ue=at(),ye=(function(nt,Ut){var Ht,tr=[],Wt=1/(Ut-1);for(Ht=0;Ht<1;Ht+=Wt)tr.push(Ht);if(tr.push(1),nt[0].offset!=0){var Ur={offset:0,color:nt[0].color};nt.unshift(Ur)}if(nt[nt.length-1].offset!=1){var wn={offset:1,color:nt[nt.length-1].color};nt.push(wn)}for(var ln="",p=0,C=0;C<tr.length;C++){for(Ht=tr[C];Ht>nt[p+1].offset;)p++;var O=nt[p].offset,ae=(Ht-O)/(nt[p+1].offset-O),Ie=nt[p].color,Le=nt[p+1].color;ln+=re(Math.round((1-ae)*Ie[0]+ae*Le[0]).toString(16))+re(Math.round((1-ae)*Ie[1]+ae*Le[1]).toString(16))+re(Math.round((1-ae)*Ie[2]+ae*Le[2]).toString(16))}return ln.trim()})(N.colors,K),Ce=[];Ce.push({key:"FunctionType",value:"0"}),Ce.push({key:"Domain",value:"[0.0 1.0]"}),Ce.push({key:"Size",value:"["+K+"]"}),Ce.push({key:"BitsPerSample",value:"8"}),Ce.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ce.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Oa({data:ye,additionalKeyValues:Ce,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ue}),H("endobj"),N.objectNumber=at(),H("<< /ShadingType "+N.type),H("/ColorSpace /DeviceRGB");var $e="/Coords ["+U(parseFloat(N.coords[0]))+" "+U(parseFloat(N.coords[1]))+" ";N.type===2?$e+=U(parseFloat(N.coords[2]))+" "+U(parseFloat(N.coords[3])):$e+=U(parseFloat(N.coords[2]))+" "+U(parseFloat(N.coords[3]))+" "+U(parseFloat(N.coords[4]))+" "+U(parseFloat(N.coords[5])),H($e+="]"),N.matrix&&H("/Matrix ["+N.matrix.toString()+"]"),H("/Function "+ue+" 0 R"),H("/Extend [true true]"),H(">>"),H("endobj")},Vs=function(N,K){var ue=wt(),ye=at();K.push({resourcesOid:ue,objectOid:ye}),N.objectNumber=ye;var Ce=[];Ce.push({key:"Type",value:"/Pattern"}),Ce.push({key:"PatternType",value:"1"}),Ce.push({key:"PaintType",value:"1"}),Ce.push({key:"TilingType",value:"1"}),Ce.push({key:"BBox",value:"["+N.boundingBox.map(U).join(" ")+"]"}),Ce.push({key:"XStep",value:U(N.xStep)}),Ce.push({key:"YStep",value:U(N.yStep)}),Ce.push({key:"Resources",value:ue+" 0 R"}),N.matrix&&Ce.push({key:"Matrix",value:"["+N.matrix.toString()+"]"}),Oa({data:N.stream,additionalKeyValues:Ce,objectId:N.objectNumber}),H("endobj")},Ba=function(N){for(var K in N.objectNumber=at(),H("<<"),N)switch(K){case"opacity":H("/ca "+E(N[K]));break;case"stroke-opacity":H("/CA "+E(N[K]))}H(">>"),H("endobj")},Ma=function(N){Dt(N.resourcesOid,!0),H("<<"),H("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var K in H("/Font <<"),ct)ct.hasOwnProperty(K)&&(x===!1||x===!0&&B.hasOwnProperty(K))&&H("/"+K+" "+ct[K].objectNumber+" 0 R");H(">>")})(),(function(){if(Object.keys(xt).length>0){for(var K in H("/Shading <<"),xt)xt.hasOwnProperty(K)&&xt[K]instanceof Ad&&xt[K].objectNumber>=0&&H("/"+K+" "+xt[K].objectNumber+" 0 R");fr.publish("putShadingPatternDict"),H(">>")}})(),(function(K){if(Object.keys(xt).length>0){for(var ue in H("/Pattern <<"),xt)xt.hasOwnProperty(ue)&&xt[ue]instanceof w.TilingPattern&&xt[ue].objectNumber>=0&&xt[ue].objectNumber<K&&H("/"+ue+" "+xt[ue].objectNumber+" 0 R");fr.publish("putTilingPatternDict"),H(">>")}})(N.objectOid),(function(){if(Object.keys(Rt).length>0){var K;for(K in H("/ExtGState <<"),Rt)Rt.hasOwnProperty(K)&&Rt[K].objectNumber>=0&&H("/"+K+" "+Rt[K].objectNumber+" 0 R");fr.publish("putGStateDict"),H(">>")}})(),(function(){for(var K in H("/XObject <<"),Dn)Dn.hasOwnProperty(K)&&Dn[K].objectNumber>=0&&H("/"+K+" "+Dn[K].objectNumber+" 0 R");fr.publish("putXobjectDict"),H(">>")})(),H(">>"),H("endobj")},Mn=function(N){yt[N.fontName]=yt[N.fontName]||{},yt[N.fontName][N.fontStyle]=N.id},SA=function(N,K,ue,ye,Ce){var $e={id:"F"+(Object.keys(ct).length+1).toString(10),postScriptName:N,fontName:K,fontStyle:ue,encoding:ye,isStandardFont:Ce||!1,metadata:{}};return fr.publish("addFont",{font:$e,instance:this}),ct[$e.id]=$e,Mn($e),$e.id},oa=w.__private__.pdfEscape=w.pdfEscape=function(N,K){return(function(ue,ye){var Ce,$e,nt,Ut,Ht,tr,Wt,Ur,wn;if(nt=(ye=ye||{}).sourceEncoding||"Unicode",Ht=ye.outputEncoding,(ye.autoencode||Ht)&&ct[jt].metadata&&ct[jt].metadata[nt]&&ct[jt].metadata[nt].encoding&&(Ut=ct[jt].metadata[nt].encoding,!Ht&&ct[jt].encoding&&(Ht=ct[jt].encoding),!Ht&&Ut.codePages&&(Ht=Ut.codePages[0]),typeof Ht=="string"&&(Ht=Ut[Ht]),Ht)){for(Wt=!1,tr=[],Ce=0,$e=ue.length;Ce<$e;Ce++)(Ur=Ht[ue.charCodeAt(Ce)])?tr.push(String.fromCharCode(Ur)):tr.push(ue[Ce]),tr[Ce].charCodeAt(0)>>8&&(Wt=!0);ue=tr.join("")}for(Ce=ue.length;Wt===void 0&&Ce!==0;)ue.charCodeAt(Ce-1)>>8&&(Wt=!0),Ce--;if(!Wt)return ue;for(tr=ye.noBOM?[]:[254,255],Ce=0,$e=ue.length;Ce<$e;Ce++){if((wn=(Ur=ue.charCodeAt(Ce))>>8)>>8)throw new Error("Character at position "+Ce+" of string '"+ue+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");tr.push(wn),tr.push(Ur-(wn<<8))}return String.fromCharCode.apply(void 0,tr)})(N,K).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Pa=w.__private__.beginPage=function(N){He[++Tt]=[],Nt[Tt]={objId:0,contentsObjId:0,userUnit:Number(c),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(N[0]),topRightY:Number(N[1])}},IA(Tt),Me(He[q])},oi=function(N,K){var ue,ye,Ce;switch(t=K||t,typeof N=="string"&&(ue=L(N.toLowerCase()),Array.isArray(ue)&&(ye=ue[0],Ce=ue[1])),Array.isArray(N)&&(ye=N[0]*hr,Ce=N[1]*hr),isNaN(ye)&&(ye=s[0],Ce=s[1]),(ye>14400||Ce>14400)&&(Qn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ye=Math.min(14400,ye),Ce=Math.min(14400,Ce)),s=[ye,Ce],t.substr(0,1)){case"l":Ce>ye&&(s=[Ce,ye]);break;case"p":ye>Ce&&(s=[Ce,ye])}Pa(s),Zt(la),H(_a),Ea!==0&&H(Ea+" J"),is!==0&&H(is+" j"),fr.publish("addPage",{pageNumber:Tt})},qo=function(N){N>0&&N<=Tt&&(He.splice(N,1),Nt.splice(N,1),Tt--,q>Tt&&(q=Tt),this.setPage(q))},IA=function(N){N>0&&N<=Tt&&(q=N)},jA=w.__private__.getNumberOfPages=w.getNumberOfPages=function(){return He.length-1},yl=function(N,K,ue){var ye,Ce=void 0;return ue=ue||{},N=N!==void 0?N:ct[jt].fontName,K=K!==void 0?K:ct[jt].fontStyle,ye=N.toLowerCase(),yt[ye]!==void 0&&yt[ye][K]!==void 0?Ce=yt[ye][K]:yt[N]!==void 0&&yt[N][K]!==void 0?Ce=yt[N][K]:ue.disableWarning===!1&&Qn.warn("Unable to look up font label for font '"+N+"', '"+K+"'. Refer to getFontList() for available fonts."),Ce||ue.noFallback||(Ce=yt.times[K])==null&&(Ce=yt.times.normal),Ce},Na=w.__private__.putInfo=function(){var N=at(),K=function(ye){return ye};for(var ue in g!==null&&(K=Tn.encryptor(N,0)),H("<<"),H("/Producer ("+oa(K("jsPDF "+Jt.version))+")"),dr)dr.hasOwnProperty(ue)&&dr[ue]&&H("/"+ue.substr(0,1).toUpperCase()+ue.substr(1)+" ("+oa(K(dr[ue]))+")");H("/CreationDate ("+oa(K(xe))+")"),H(">>"),H("endobj")},ks=w.__private__.putCatalog=function(N){var K=(N=N||{}).rootDictionaryObjId||ir;switch(at(),H("<<"),H("/Type /Catalog"),H("/Pages "+K+" 0 R"),st||(st="fullwidth"),st){case"fullwidth":H("/OpenAction [3 0 R /FitH null]");break;case"fullheight":H("/OpenAction [3 0 R /FitV null]");break;case"fullpage":H("/OpenAction [3 0 R /Fit]");break;case"original":H("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ue=""+st;ue.substr(ue.length-1)==="%"&&(st=parseInt(st)/100),typeof st=="number"&&H("/OpenAction [3 0 R /XYZ null null "+E(st)+"]")}switch(cr||(cr="continuous"),cr){case"continuous":H("/PageLayout /OneColumn");break;case"single":H("/PageLayout /SinglePage");break;case"two":case"twoleft":H("/PageLayout /TwoColumnLeft");break;case"tworight":H("/PageLayout /TwoColumnRight")}St&&H("/PageMode /"+St),fr.publish("putCatalog"),H(">>"),H("endobj")},Gn=w.__private__.putTrailer=function(){H("trailer"),H("<<"),H("/Size "+(fe+1)),H("/Root "+fe+" 0 R"),H("/Info "+(fe-1)+" 0 R"),g!==null&&H("/Encrypt "+Tn.oid+" 0 R"),H("/ID [ <"+ie+"> <"+ie+"> ]"),H(">>")},jr=w.__private__.putHeader=function(){H("%PDF-"+I),H("%")},$i=w.__private__.putXRef=function(){var N="0000000000";H("xref"),H("0 "+(fe+1)),H("0000000000 65535 f ");for(var K=1;K<=fe;K++)typeof ge[K]=="function"?H((N+ge[K]()).slice(-10)+" 00000 n "):ge[K]!==void 0?H((N+ge[K]).slice(-10)+" 00000 n "):H("0000000000 00000 n ")},Ha=w.__private__.buildDocument=function(){var N;fe=0,_e=0,Be=[],ge=[],Oe=[],ir=wt(),bt=wt(),Me(Be),fr.publish("buildDocument"),jr(),ii(),(function(){fr.publish("putAdditionalObjects");for(var ue=0;ue<Oe.length;ue++){var ye=Oe[ue];Dt(ye.objId,!0),H(ye.content),H("endobj")}fr.publish("postPutAdditionalObjects")})(),N=[],(function(){for(var ue in ct)ct.hasOwnProperty(ue)&&(x===!1||x===!0&&B.hasOwnProperty(ue))&&ia(ct[ue])})(),(function(){var ue;for(ue in Rt)Rt.hasOwnProperty(ue)&&Ba(Rt[ue])})(),(function(){for(var ue in Dn)Dn.hasOwnProperty(ue)&&Gi(Dn[ue])})(),(function(ue){var ye;for(ye in xt)xt.hasOwnProperty(ye)&&(xt[ye]instanceof Ad?va(xt[ye]):xt[ye]instanceof zh&&Vs(xt[ye],ue))})(N),fr.publish("putResources"),N.forEach(Ma),Ma({resourcesOid:bt,objectOid:Number.MAX_SAFE_INTEGER}),fr.publish("postPutResources"),g!==null&&(Tn.oid=at(),H("<<"),H("/Filter /Standard"),H("/V "+Tn.v),H("/R "+Tn.r),H("/U <"+Tn.toHexString(Tn.U)+">"),H("/O <"+Tn.toHexString(Tn.O)+">"),H("/P "+Tn.P),H(">>"),H("endobj")),Na(),ks();var K=_e;return $i(),Gn(),H("startxref"),H(""+K),H("%%EOF"),Me(He[q]),Be.join(`
`)},Rr=w.__private__.getBlob=function(N){return new Blob([rt(N)],{type:"application/pdf"})},po=w.output=w.__private__.output=(_t=function(N,K){switch(typeof(K=K||{})=="string"?K={filename:K}:K.filename=K.filename||"generated.pdf",N){case void 0:return Ha();case"save":w.save(K.filename);break;case"arraybuffer":return rt(Ha());case"blob":return Rr(Ha());case"bloburi":case"bloburl":if(xr.URL!==void 0&&typeof xr.URL.createObjectURL=="function")return xr.URL&&xr.URL.createObjectURL(Rr(Ha()))||void 0;Qn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ue="",ye=Ha();try{ue=RE(ye)}catch{ue=RE(unescape(encodeURIComponent(ye)))}return"data:application/pdf;filename="+K.filename+";base64,"+ue;case"pdfobjectnewwindow":if(Object.prototype.toString.call(xr)==="[object Window]"){var Ce="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",$e=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';K.pdfObjectUrl&&(Ce=K.pdfObjectUrl,$e="");var nt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Ce+'"'+$e+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(K)+");<\/script></body></html>",Ut=xr.open();return Ut!==null&&Ut.document.write(nt),Ut}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(xr)==="[object Window]"){var Ht='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(K.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+K.filename+'" width="500px" height="400px" /></body></html>',tr=xr.open();if(tr!==null){tr.document.write(Ht);var Wt=this;tr.document.documentElement.querySelector("#pdfViewer").onload=function(){tr.document.title=K.filename,tr.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Wt.output("bloburl"))}}return tr}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(xr)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Ur='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",K)+'"></iframe></body></html>',wn=xr.open();if(wn!==null&&(wn.document.write(Ur),wn.document.title=K.filename),wn||typeof safari>"u")return wn;break;case"datauri":case"dataurl":return xr.document.location.href=this.output("datauristring",K);default:return null}},_t.foo=function(){try{return _t.apply(this,arguments)}catch(ue){var N=ue.stack||"";~N.indexOf(" at ")&&(N=N.split(" at ")[1]);var K="Error in function "+N.split(`
`)[0].split("<")[0]+": "+ue.message;if(!xr.console)throw new Error(K);xr.console.error(K,ue),xr.alert&&alert(K)}},_t.foo.bar=_t,_t.foo),as=function(N){return Array.isArray(In)===!0&&In.indexOf(N)>-1};switch(n){case"pt":hr=1;break;case"mm":hr=72/25.4;break;case"cm":hr=72/2.54;break;case"in":hr=72;break;case"px":hr=as("px_scaling")==1?.75:96/72;break;case"pc":case"em":hr=12;break;case"ex":hr=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);hr=n}var Tn=null;$(),Ae();var $n=w.__private__.getPageInfo=w.getPageInfo=function(N){if(isNaN(N)||N%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Nt[N].objId,pageNumber:N,pageContext:Nt[N]}},Go=w.__private__.getPageInfoByObjId=function(N){if(isNaN(N)||N%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var K in Nt)if(Nt[K].objId===N)break;return $n(K)},fc=w.__private__.getCurrentPageInfo=w.getCurrentPageInfo=function(){return{objId:Nt[q].objId,pageNumber:q,pageContext:Nt[q]}};w.addPage=function(){return oi.apply(this,arguments),this},w.setPage=function(){return IA.apply(this,arguments),Me.call(this,He[q]),this},w.insertPage=function(N){return this.addPage(),this.movePage(q,N),this},w.movePage=function(N,K){var ue,ye;if(N>K){ue=He[N],ye=Nt[N];for(var Ce=N;Ce>K;Ce--)He[Ce]=He[Ce-1],Nt[Ce]=Nt[Ce-1];He[K]=ue,Nt[K]=ye,this.setPage(K)}else if(N<K){ue=He[N],ye=Nt[N];for(var $e=N;$e<K;$e++)He[$e]=He[$e+1],Nt[$e]=Nt[$e+1];He[K]=ue,Nt[K]=ye,this.setPage(K)}return this},w.deletePage=function(){return qo.apply(this,arguments),this},w.__private__.text=w.text=function(N,K,ue,ye,Ce){var $e,nt,Ut,Ht,tr,Wt,Ur,wn,ln,p=(ye=ye||{}).scope||this;if(typeof N=="number"&&typeof K=="number"&&(typeof ue=="string"||Array.isArray(ue))){var C=ue;ue=K,K=N,N=C}if(arguments[3]instanceof Ft==0?(Ut=arguments[4],Ht=arguments[5],mn(Ur=arguments[3])==="object"&&Ur!==null||(typeof Ut=="string"&&(Ht=Ut,Ut=null),typeof Ur=="string"&&(Ht=Ur,Ur=null),typeof Ur=="number"&&(Ut=Ur,Ur=null),ye={flags:Ur,angle:Ut,align:Ht})):(S("The transform parameter of text() with a Matrix value"),ln=Ce),isNaN(K)||isNaN(ue)||N==null)throw new Error("Invalid arguments passed to jsPDF.text");if(N.length===0)return p;var O,ae="",Ie=typeof ye.lineHeightFactor=="number"?ye.lineHeightFactor:Wi,Le=p.internal.scaleFactor;function lt(Yr){return Yr=Yr.split("	").join(Array(ye.TabLen||9).join(" ")),oa(Yr,Ur)}function mr(Yr){for(var Vr,Bn=Yr.concat(),As=[],Io=Bn.length;Io--;)typeof(Vr=Bn.shift())=="string"?As.push(Vr):Array.isArray(Yr)&&(Vr.length===1||Vr[1]===void 0&&Vr[2]===void 0)?As.push(Vr[0]):As.push([Vr[0],Vr[1],Vr[2]]);return As}function vn(Yr,Vr){var Bn;if(typeof Yr=="string")Bn=Vr(Yr)[0];else if(Array.isArray(Yr)){for(var As,Io,to=Yr.concat(),Sl=[],ku=to.length;ku--;)typeof(As=to.shift())=="string"?Sl.push(Vr(As)[0]):Array.isArray(As)&&typeof As[0]=="string"&&(Io=Vr(As[0],As[1],As[2]),Sl.push([Io[0],Io[1],Io[2]]));Bn=Sl}return Bn}var Er=!1,Zr=!0;if(typeof N=="string")Er=!0;else if(Array.isArray(N)){var Ls=N.concat();nt=[];for(var zs,un=Ls.length;un--;)(typeof(zs=Ls.shift())!="string"||Array.isArray(zs)&&typeof zs[0]!="string")&&(Zr=!1);Er=Zr}if(Er===!1)throw new Error('Type of text must be string or Array. "'+N+'" is not recognized.');typeof N=="string"&&(N=N.match(/[\r?\n]/)?N.split(/\r\n|\r|\n/g):[N]);var qs=Pe/p.internal.scaleFactor,ui=qs*(Ie-1);switch(ye.baseline){case"bottom":ue-=ui;break;case"top":ue+=qs-ui;break;case"hanging":ue+=qs-2*ui;break;case"middle":ue+=qs/2-ui}if((Wt=ye.maxWidth||0)>0&&(typeof N=="string"?N=p.splitTextToSize(N,Wt):Object.prototype.toString.call(N)==="[object Array]"&&(N=N.reduce(function(Yr,Vr){return Yr.concat(p.splitTextToSize(Vr,Wt))},[]))),$e={text:N,x:K,y:ue,options:ye,mutex:{pdfEscape:oa,activeFontKey:jt,fonts:ct,activeFontSize:Pe}},fr.publish("preProcessText",$e),N=$e.text,Ut=(ye=$e.options).angle,ln instanceof Ft==0&&Ut&&typeof Ut=="number"){Ut*=Math.PI/180,ye.rotationDirection===0&&(Ut=-Ut),z===V&&(Ut=-Ut);var vo=Math.cos(Ut),Bo=Math.sin(Ut);ln=new Ft(vo,Bo,-Bo,vo,0,0)}else Ut&&Ut instanceof Ft&&(ln=Ut);z!==V||ln||(ln=gt),(tr=ye.charSpace||Ca)!==void 0&&(ae+=U(Q(tr))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(wn=ye.horizontalScale)!==void 0&&(ae+=U(100*wn)+` Tz
`),ye.lang;var Ia=-1,Jo=ye.renderingMode!==void 0?ye.renderingMode:ye.stroke,gc=p.internal.getCurrentPageInfo().pageContext;switch(Jo){case 0:case!1:case"fill":Ia=0;break;case 1:case!0:case"stroke":Ia=1;break;case 2:case"fillThenStroke":Ia=2;break;case 3:case"invisible":Ia=3;break;case 4:case"fillAndAddForClipping":Ia=4;break;case 5:case"strokeAndAddPathForClipping":Ia=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Ia=6;break;case 7:case"addToPathForClipping":Ia=7}var Uu=gc.usedRenderingMode!==void 0?gc.usedRenderingMode:-1;Ia!==-1?ae+=Ia+` Tr
`:Uu!==-1&&(ae+=`0 Tr
`),Ia!==-1&&(gc.usedRenderingMode=Ia),Ht=ye.align||"left";var di,Zi=Pe*Ie,Zo=p.internal.pageSize.getWidth(),Fu=ct[jt];tr=ye.charSpace||Ca,Wt=ye.maxWidth||0,Ur=Object.assign({autoencode:!0,noBOM:!0},ye.flags);var eo=[],LA=function(Yr){return p.getStringUnitWidth(Yr,{font:Fu,charSpace:tr,fontSize:Pe,doKerning:!1})*Pe/Le};if(Object.prototype.toString.call(N)==="[object Array]"){var Ka;nt=mr(N),Ht!=="left"&&(di=nt.map(LA));var ja,No=0;if(Ht==="right"){K-=di[0],N=[],un=nt.length;for(var _o=0;_o<un;_o++)_o===0?(ja=Bs(K),Ka=ds(ue)):(ja=Q(No-di[_o]),Ka=-Zi),N.push([nt[_o],ja,Ka]),No=di[_o]}else if(Ht==="center"){K-=di[0]/2,N=[],un=nt.length;for(var eA=0;eA<un;eA++)eA===0?(ja=Bs(K),Ka=ds(ue)):(ja=Q((No-di[eA])/2),Ka=-Zi),N.push([nt[eA],ja,Ka]),No=di[eA]}else if(Ht==="left"){N=[],un=nt.length;for(var mc=0;mc<un;mc++)N.push(nt[mc])}else if(Ht==="justify"&&Fu.encoding==="Identity-H"){N=[],un=nt.length,Wt=Wt!==0?Wt:Zo;for(var pc=0,os=0;os<un;os++)if(Ka=os===0?ds(ue):-Zi,ja=os===0?Bs(K):pc,os<un-1){var Od=Q((Wt-di[os])/(nt[os].split(" ").length-1)),Co=nt[os].split(" ");N.push([Co[0]+" ",ja,Ka]),pc=0;for(var Eo=1;Eo<Co.length;Eo++){var Gs=(LA(Co[Eo-1]+" "+Co[Eo])-LA(Co[Eo]))*Le+Od;Eo==Co.length-1?N.push([Co[Eo],Gs,0]):N.push([Co[Eo]+" ",Gs,0]),pc-=Gs}}else N.push([nt[os],ja,Ka]);N.push(["",pc,0])}else{if(Ht!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(N=[],un=nt.length,Wt=Wt!==0?Wt:Zo,os=0;os<un;os++){Ka=os===0?ds(ue):-Zi,ja=os===0?Bs(K):0;var tA=nt[os].split(" ").length-1,xc=tA>0?(Wt-di[os])/tA:0;os<un-1?eo.push(U(Q(xc))):eo.push(0),N.push([nt[os],ja,Ka])}}}(typeof ye.R2L=="boolean"?ye.R2L:Mt)===!0&&(N=vn(N,function(Yr,Vr,Bn){return[Yr.split("").reverse().join(""),Vr,Bn]})),$e={text:N,x:K,y:ue,options:ye,mutex:{pdfEscape:oa,activeFontKey:jt,fonts:ct,activeFontSize:Pe}},fr.publish("postProcessText",$e),N=$e.text,O=$e.mutex.isHex||!1;var bc=ct[jt].encoding;bc!=="WinAnsiEncoding"&&bc!=="StandardEncoding"||(N=vn(N,function(Yr,Vr,Bn){return[lt(Yr),Vr,Bn]})),nt=mr(N),N=[];for(var rA,nA,So,El=Array.isArray(nt[0])?1:0,hi="",sA=function(Yr,Vr,Bn){var As="";return Bn instanceof Ft?(Bn=typeof ye.angle=="number"?et(Bn,new Ft(1,0,0,1,Yr,Vr)):et(new Ft(1,0,0,1,Yr,Vr),Bn),z===V&&(Bn=et(new Ft(1,0,0,-1,0,0),Bn)),As=Bn.join(" ")+` Tm
`):As=U(Yr)+" "+U(Vr)+` Td
`,As},ca=0;ca<nt.length;ca++){switch(hi="",El){case 1:So=(O?"<":"(")+nt[ca][0]+(O?">":")"),rA=parseFloat(nt[ca][1]),nA=parseFloat(nt[ca][2]);break;case 0:So=(O?"<":"(")+nt[ca]+(O?">":")"),rA=Bs(K),nA=ds(ue)}eo!==void 0&&eo[ca]!==void 0&&(hi=eo[ca]+` Tw
`),ca===0?N.push(hi+sA(rA,nA,ln)+So):El===0?N.push(hi+So):El===1&&N.push(hi+sA(rA,nA,ln)+So)}N=El===0?N.join(` Tj
T* `):N.join(` Tj
`),N+=` Tj
`;var Ci=`BT
/`;return Ci+=jt+" "+Pe+` Tf
`,Ci+=U(Pe*Ie)+` TL
`,Ci+=li+`
`,Ci+=ae,Ci+=N,H(Ci+="ET"),B[jt]=!0,p};var wl=w.__private__.clip=w.clip=function(N){return H(N==="evenodd"?"W*":"W"),this};w.clipEvenOdd=function(){return wl("evenodd")},w.__private__.discardPath=w.discardPath=function(){return H("n"),this};var Ks=w.__private__.isValidStyle=function(N){var K=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(N)!==-1&&(K=!0),K};w.__private__.setDefaultPathOperation=w.setDefaultPathOperation=function(N){return Ks(N)&&(h=N),this};var vl=w.__private__.getStyle=w.getStyle=function(N){var K=h;switch(N){case"D":case"S":K="S";break;case"F":K="f";break;case"FD":case"DF":K="B";break;case"f":case"f*":case"B":case"B*":K=N}return K},Xi=w.close=function(){return H("h"),this};w.stroke=function(){return H("S"),this},w.fill=function(N){return vs("f",N),this},w.fillEvenOdd=function(N){return vs("f*",N),this},w.fillStroke=function(N){return vs("B",N),this},w.fillStrokeEvenOdd=function(N){return vs("B*",N),this};var vs=function(N,K){mn(K)==="object"?Nl(K,N):H(N)},xo=function(N){N===null||z===V&&N===void 0||(N=vl(N),H(N))};function Bl(N,K,ue,ye,Ce){var $e=new zh(K||this.boundingBox,ue||this.xStep,ye||this.yStep,this.gState,Ce||this.matrix);$e.stream=this.stream;var nt=N+"$$"+this.cloneIndex+++"$$";return Gt(nt,$e),$e}var Nl=function(N,K){var ue=Ar[N.key],ye=xt[ue];if(ye instanceof Ad)H("q"),H(TA(K)),ye.gState&&w.setGState(ye.gState),H(N.matrix.toString()+" cm"),H("/"+ue+" sh"),H("Q");else if(ye instanceof zh){var Ce=new Ft(1,0,0,-1,0,ci());N.matrix&&(Ce=Ce.multiply(N.matrix||gt),ue=Bl.call(ye,N.key,N.boundingBox,N.xStep,N.yStep,Ce).id),H("q"),H("/Pattern cs"),H("/"+ue+" scn"),ye.gState&&w.setGState(ye.gState),H(K),H("Q")}},TA=function(N){switch(N){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},UA=w.moveTo=function(N,K){return H(U(Q(N))+" "+U(J(K))+" m"),this},Yi=w.lineTo=function(N,K){return H(U(Q(N))+" "+U(J(K))+" l"),this},Aa=w.curveTo=function(N,K,ue,ye,Ce,$e){return H([U(Q(N)),U(J(K)),U(Q(ue)),U(J(ye)),U(Q(Ce)),U(J($e)),"c"].join(" ")),this};w.__private__.line=w.line=function(N,K,ue,ye,Ce){if(isNaN(N)||isNaN(K)||isNaN(ue)||isNaN(ye)||!Ks(Ce))throw new Error("Invalid arguments passed to jsPDF.line");return z===X?this.lines([[ue-N,ye-K]],N,K,[1,1],Ce||"S"):this.lines([[ue-N,ye-K]],N,K,[1,1]).stroke()},w.__private__.lines=w.lines=function(N,K,ue,ye,Ce,$e){var nt,Ut,Ht,tr,Wt,Ur,wn,ln,p,C,O,ae;if(typeof N=="number"&&(ae=ue,ue=K,K=N,N=ae),ye=ye||[1,1],$e=$e||!1,isNaN(K)||isNaN(ue)||!Array.isArray(N)||!Array.isArray(ye)||!Ks(Ce)||typeof $e!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(UA(K,ue),nt=ye[0],Ut=ye[1],tr=N.length,C=K,O=ue,Ht=0;Ht<tr;Ht++)(Wt=N[Ht]).length===2?(C=Wt[0]*nt+C,O=Wt[1]*Ut+O,Yi(C,O)):(Ur=Wt[0]*nt+C,wn=Wt[1]*Ut+O,ln=Wt[2]*nt+C,p=Wt[3]*Ut+O,C=Wt[4]*nt+C,O=Wt[5]*Ut+O,Aa(Ur,wn,ln,p,C,O));return $e&&Xi(),xo(Ce),this},w.path=function(N){for(var K=0;K<N.length;K++){var ue=N[K],ye=ue.c;switch(ue.op){case"m":UA(ye[0],ye[1]);break;case"l":Yi(ye[0],ye[1]);break;case"c":Aa.apply(this,ye);break;case"h":Xi()}}return this},w.__private__.rect=w.rect=function(N,K,ue,ye,Ce){if(isNaN(N)||isNaN(K)||isNaN(ue)||isNaN(ye)||!Ks(Ce))throw new Error("Invalid arguments passed to jsPDF.rect");return z===X&&(ye=-ye),H([U(Q(N)),U(J(K)),U(Q(ue)),U(Q(ye)),"re"].join(" ")),xo(Ce),this},w.__private__.triangle=w.triangle=function(N,K,ue,ye,Ce,$e,nt){if(isNaN(N)||isNaN(K)||isNaN(ue)||isNaN(ye)||isNaN(Ce)||isNaN($e)||!Ks(nt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ue-N,ye-K],[Ce-ue,$e-ye],[N-Ce,K-$e]],N,K,[1,1],nt,!0),this},w.__private__.roundedRect=w.roundedRect=function(N,K,ue,ye,Ce,$e,nt){if(isNaN(N)||isNaN(K)||isNaN(ue)||isNaN(ye)||isNaN(Ce)||isNaN($e)||!Ks(nt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Ut=4/3*(Math.SQRT2-1);return Ce=Math.min(Ce,.5*ue),$e=Math.min($e,.5*ye),this.lines([[ue-2*Ce,0],[Ce*Ut,0,Ce,$e-$e*Ut,Ce,$e],[0,ye-2*$e],[0,$e*Ut,-Ce*Ut,$e,-Ce,$e],[2*Ce-ue,0],[-Ce*Ut,0,-Ce,-$e*Ut,-Ce,-$e],[0,2*$e-ye],[0,-$e*Ut,Ce*Ut,-$e,Ce,-$e]],N+Ce,K,[1,1],nt,!0),this},w.__private__.ellipse=w.ellipse=function(N,K,ue,ye,Ce){if(isNaN(N)||isNaN(K)||isNaN(ue)||isNaN(ye)||!Ks(Ce))throw new Error("Invalid arguments passed to jsPDF.ellipse");var $e=4/3*(Math.SQRT2-1)*ue,nt=4/3*(Math.SQRT2-1)*ye;return UA(N+ue,K),Aa(N+ue,K-nt,N+$e,K-ye,N,K-ye),Aa(N-$e,K-ye,N-ue,K-nt,N-ue,K),Aa(N-ue,K+nt,N-$e,K+ye,N,K+ye),Aa(N+$e,K+ye,N+ue,K+nt,N+ue,K),xo(Ce),this},w.__private__.circle=w.circle=function(N,K,ue,ye){if(isNaN(N)||isNaN(K)||isNaN(ue)||!Ks(ye))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(N,K,ue,ue,ye)},w.setFont=function(N,K,ue){return ue&&(K=R(K,ue)),jt=yl(N,K,{disableWarning:!1}),this};var Ai=w.__private__.getFont=w.getFont=function(){return ct[yl.apply(w,arguments)]};w.__private__.getFontList=w.getFontList=function(){var N,K,ue={};for(N in yt)if(yt.hasOwnProperty(N))for(K in ue[N]=[],yt[N])yt[N].hasOwnProperty(K)&&ue[N].push(K);return ue},w.addFont=function(N,K,ue,ye,Ce){var $e=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&$e.indexOf(arguments[3])!==-1?Ce=arguments[3]:arguments[3]&&$e.indexOf(arguments[3])==-1&&(ue=R(ue,ye)),SA.call(this,N,K,ue,Ce=Ce||"Identity-H")};var Wi,la=r.lineWidth||.200025,bo=w.__private__.getLineWidth=w.getLineWidth=function(){return la},Zt=w.__private__.setLineWidth=w.setLineWidth=function(N){return la=N,H(U(Q(N))+" w"),this};w.__private__.setLineDash=Jt.API.setLineDash=Jt.API.setLineDashPattern=function(N,K){if(N=N||[],K=K||0,isNaN(K)||!Array.isArray(N))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return N=N.map(function(ue){return U(Q(ue))}).join(" "),K=U(Q(K)),H("["+N+"] "+K+" d"),this};var $o=w.__private__.getLineHeight=w.getLineHeight=function(){return Pe*Wi};w.__private__.getLineHeight=w.getLineHeight=function(){return Pe*Wi};var FA=w.__private__.setLineHeightFactor=w.setLineHeightFactor=function(N){return typeof(N=N||1.15)=="number"&&(Wi=N),this},yo=w.__private__.getLineHeightFactor=w.getLineHeightFactor=function(){return Wi};FA(r.lineHeight);var Bs=w.__private__.getHorizontalCoordinate=function(N){return Q(N)},ds=w.__private__.getVerticalCoordinate=function(N){return z===V?N:Nt[q].mediaBox.topRightY-Nt[q].mediaBox.bottomLeftY-Q(N)},Xo=w.__private__.getHorizontalCoordinateString=w.getHorizontalCoordinateString=function(N){return U(Bs(N))},Jr=w.__private__.getVerticalCoordinateString=w.getVerticalCoordinateString=function(N){return U(ds(N))},_a=r.strokeColor||"0 G";w.__private__.getStrokeColor=w.getDrawColor=function(){return wr(_a)},w.__private__.setStrokeColor=w.setDrawColor=function(N,K,ue,ye){return _a=On({ch1:N,ch2:K,ch3:ue,ch4:ye,pdfColorType:"draw",precision:2}),H(_a),this};var Yo=r.fillColor||"0 g";w.__private__.getFillColor=w.getFillColor=function(){return wr(Yo)},w.__private__.setFillColor=w.setFillColor=function(N,K,ue,ye){return Yo=On({ch1:N,ch2:K,ch3:ue,ch4:ye,pdfColorType:"fill",precision:2}),H(Yo),this};var li=r.textColor||"0 g",_l=w.__private__.getTextColor=w.getTextColor=function(){return wr(li)};w.__private__.setTextColor=w.setTextColor=function(N,K,ue,ye){return li=On({ch1:N,ch2:K,ch3:ue,ch4:ye,pdfColorType:"text",precision:3}),this};var Ca=r.charSpace,Ji=w.__private__.getCharSpace=w.getCharSpace=function(){return parseFloat(Ca||0)};w.__private__.setCharSpace=w.setCharSpace=function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Ca=N,this};var Ea=0;w.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},w.__private__.setLineCap=w.setLineCap=function(N){var K=w.CapJoinStyles[N];if(K===void 0)throw new Error("Line cap style of '"+N+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ea=K,H(K+" J"),this};var is=0;w.__private__.setLineJoin=w.setLineJoin=function(N){var K=w.CapJoinStyles[N];if(K===void 0)throw new Error("Line join style of '"+N+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return is=K,H(K+" j"),this},w.__private__.setLineMiterLimit=w.__private__.setMiterLimit=w.setLineMiterLimit=w.setMiterLimit=function(N){if(N=N||0,isNaN(N))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return H(U(Q(N))+" M"),this},w.GState=fx,w.setGState=function(N){(N=typeof N=="string"?Rt[Pt[N]]:wi(null,N)).equals(Ir)||(H("/"+N.id+" gs"),Ir=N)};var wi=function(N,K){if(!N||!Pt[N]){var ue=!1;for(var ye in Rt)if(Rt.hasOwnProperty(ye)&&Rt[ye].equals(K)){ue=!0;break}if(ue)K=Rt[ye];else{var Ce="GS"+(Object.keys(Rt).length+1).toString(10);Rt[Ce]=K,K.id=Ce}return N&&(Pt[N]=K.id),fr.publish("addGState",K),K}};w.addGState=function(N,K){return wi(N,K),this},w.saveGraphicsState=function(){return H("q"),qt.push({key:jt,size:Pe,color:li}),this},w.restoreGraphicsState=function(){H("Q");var N=qt.pop();return jt=N.key,Pe=N.size,li=N.color,Ir=null,this},w.setCurrentTransformationMatrix=function(N){return H(N.toString()+" cm"),this},w.comment=function(N){return H("#"+N),this};var Qs=function(N,K){var ue=N||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ue},set:function($e){isNaN($e)||(ue=parseFloat($e))}});var ye=K||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ye},set:function($e){isNaN($e)||(ye=parseFloat($e))}});var Ce="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Ce},set:function($e){Ce=$e.toString()}}),this},vi=function(N,K,ue,ye){Qs.call(this,N,K),this.type="rect";var Ce=ue||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Ce},set:function(nt){isNaN(nt)||(Ce=parseFloat(nt))}});var $e=ye||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return $e},set:function(nt){isNaN(nt)||($e=parseFloat(nt))}}),this},wo=function(){this.page=Tt,this.currentPage=q,this.pages=He.slice(0),this.pagesContext=Nt.slice(0),this.x=Bt,this.y=De,this.matrix=ft,this.width=Va(q),this.height=kA(q),this.outputDestination=me,this.id="",this.objectNumber=-1};wo.prototype.restore=function(){Tt=this.page,q=this.currentPage,Nt=this.pagesContext,He=this.pages,Bt=this.x,De=this.y,ft=this.matrix,Wo(q,this.width),Sa(q,this.height),me=this.outputDestination};var Bi=function(N,K,ue,ye,Ce){An.push(new wo),Tt=q=0,He=[],Bt=N,De=K,ft=Ce,Pa([ue,ye])};for(var Ni in w.beginFormObject=function(N,K,ue,ye,Ce){return Bi(N,K,ue,ye,Ce),this},w.endFormObject=function(N){return(function(K){if(jn[K])An.pop().restore();else{var ue=new wo,ye="Xo"+(Object.keys(Dn).length+1).toString(10);ue.id=ye,jn[K]=ye,Dn[ye]=ue,fr.publish("addFormObject",ue),An.pop().restore()}})(N),this},w.doFormObject=function(N,K){var ue=Dn[jn[N]];return H("q"),H(K.toString()+" cm"),H("/"+ue.id+" Do"),H("Q"),this},w.getFormObject=function(N){var K=Dn[jn[N]];return{x:K.x,y:K.y,width:K.width,height:K.height,matrix:K.matrix}},w.save=function(N,K){return N=N||"generated.pdf",(K=K||{}).returnPromise=K.returnPromise||!1,K.returnPromise===!1?(td(Rr(Ha()),N),typeof td.unload=="function"&&xr.setTimeout&&setTimeout(td.unload,911),this):new Promise(function(ue,ye){try{var Ce=td(Rr(Ha()),N);typeof td.unload=="function"&&xr.setTimeout&&setTimeout(td.unload,911),ue(Ce)}catch($e){ye($e.message)}})},Jt.API)Jt.API.hasOwnProperty(Ni)&&(Ni==="events"&&Jt.API.events.length?(function(N,K){var ue,ye,Ce;for(Ce=K.length-1;Ce!==-1;Ce--)ue=K[Ce][0],ye=K[Ce][1],N.subscribe.apply(N,[ue].concat(typeof ye=="function"?[ye]:ye))})(fr,Jt.API.events):w[Ni]=Jt.API[Ni]);function Va(N){return Nt[N].mediaBox.topRightX-Nt[N].mediaBox.bottomLeftX}function Wo(N,K){Nt[N].mediaBox.topRightX=K+Nt[N].mediaBox.bottomLeftX}function kA(N){return Nt[N].mediaBox.topRightY-Nt[N].mediaBox.bottomLeftY}function Sa(N,K){Nt[N].mediaBox.topRightY=K+Nt[N].mediaBox.bottomLeftY}var _i=w.getPageWidth=function(N){return Va(N=N||q)/hr},Cl=w.setPageWidth=function(N,K){Wo(N,K*hr)},ci=w.getPageHeight=function(N){return kA(N=N||q)/hr},QA=w.setPageHeight=function(N,K){Sa(N,K*hr)};return w.internal={pdfEscape:oa,getStyle:vl,getFont:Ai,getFontSize:dt,getCharSpace:Ji,getTextColor:_l,getLineHeight:$o,getLineHeightFactor:yo,getLineWidth:bo,write:Ke,getHorizontalCoordinate:Bs,getVerticalCoordinate:ds,getCoordinateString:Xo,getVerticalCoordinateString:Jr,collections:{},newObject:at,newAdditionalObject:kt,newObjectDeferred:wt,newObjectDeferredBegin:Dt,getFilters:aa,putStream:Oa,events:fr,scaleFactor:hr,pageSize:{getWidth:function(){return _i(q)},setWidth:function(N){Cl(q,N)},getHeight:function(){return ci(q)},setHeight:function(N){QA(q,N)}},encryptionOptions:g,encryption:Tn,getEncryptor:function(N){return g!==null?Tn.encryptor(N,0):function(K){return K}},output:po,getNumberOfPages:jA,get pages(){return He},out:H,f2:E,f3:F,getPageInfo:$n,getPageInfoByObjId:Go,getCurrentPageInfo:fc,getPDFVersion:j,Point:Qs,Rectangle:vi,Matrix:Ft,hasHotfix:as},Object.defineProperty(w.internal.pageSize,"width",{get:function(){return _i(q)},set:function(N){Cl(q,N)},enumerable:!0,configurable:!0}),Object.defineProperty(w.internal.pageSize,"height",{get:function(){return ci(q)},set:function(N){QA(q,N)},enumerable:!0,configurable:!0}),(function(N){for(var K=0,ue=pt.length;K<ue;K++){var ye=SA.call(this,N[K][0],N[K][1],N[K][2],pt[K][3],!0);x===!1&&(B[ye]=!0);var Ce=N[K][0].split("-");Mn({id:ye,fontName:Ce[0],fontStyle:Ce[1]||""})}fr.publish("addFonts",{fonts:ct,dictionary:yt})}).call(w,pt),jt="F1",oi(s,t),fr.publish("initialized"),w}Ph.prototype.lsbFirstWord=function(r){return String.fromCharCode(255&r,r>>8&255,r>>16&255,r>>24&255)},Ph.prototype.toHexString=function(r){return r.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Ph.prototype.hexToBytes=function(r){for(var e=[],t=0;t<r.length;t+=2)e.push(String.fromCharCode(parseInt(r.substr(t,2),16)));return e.join("")},Ph.prototype.processOwnerPassword=function(r,e){return cv(lv(e).substr(0,5),r)},Ph.prototype.encryptor=function(r,e){var t=lv(this.encryptionKey+String.fromCharCode(255&r,r>>8&255,r>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return cv(t,n)}},fx.prototype.equals=function(r){var e,t="id,objectNumber,equals";if(!r||mn(r)!==mn(this))return!1;var n=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!r.hasOwnProperty(e)||this[e]!==r[e])return!1;n++}for(e in r)r.hasOwnProperty(e)&&t.indexOf(e)<0&&n--;return n===0},Jt.API={events:[]},Jt.version="3.0.4";var bs=Jt.API,W5=1,Dd=function(r){return r.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Uh=function(r){return r.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Nr=function(r){return r.toFixed(2)},$c=function(r){return r.toFixed(5)};bs.__acroform__={};var qi=function(r,e){r.prototype=Object.create(e.prototype),r.prototype.constructor=r},PE=function(r){return r*W5},JA=function(r){var e=new J8,t=Kt.internal.getHeight(r)||0,n=Kt.internal.getWidth(r)||0;return e.BBox=[0,0,Number(Nr(n)),Number(Nr(t))],e},nJ=bs.__acroform__.setBit=function(r,e){if(r=r||0,e=e||0,isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return r|1<<e},sJ=bs.__acroform__.clearBit=function(r,e){if(r=r||0,e=e||0,isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return r&~(1<<e)},aJ=bs.__acroform__.getBit=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return r&1<<e?1:0},Ss=bs.__acroform__.getBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return aJ(r,e-1)},Is=bs.__acroform__.setBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return nJ(r,e-1)},js=bs.__acroform__.clearBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return sJ(r,e-1)},iJ=bs.__acroform__.calculateCoordinates=function(r,e){var t=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,s=r[0],o=r[1],l=r[2],c=r[3],d={};return d.lowerLeft_X=t(s)||0,d.lowerLeft_Y=n(o+c)||0,d.upperRight_X=t(s+l)||0,d.upperRight_Y=n(o)||0,[Number(Nr(d.lowerLeft_X)),Number(Nr(d.lowerLeft_Y)),Number(Nr(d.upperRight_X)),Number(Nr(d.upperRight_Y))]},oJ=function(r){if(r.appearanceStreamContent)return r.appearanceStreamContent;if(r.V||r.DV){var e=[],t=r._V||r.DV,n=uv(r,t),s=r.scope.internal.getFont(r.fontName,r.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(r.scope.__private__.encodeColorString(r.color)),e.push("/"+s+" "+Nr(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var o=JA(r);return o.scope=r.scope,o.stream=e.join(`
`),o}},uv=function(r,e){var t=r.fontSize===0?r.maxFontSize:r.fontSize,n={text:"",fontSize:""},s=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");s=r.multiline?s.map(function(E){return E.split(`
`)}):s.map(function(E){return[E]});var o=t,l=Kt.internal.getHeight(r)||0;l=l<0?-l:l;var c=Kt.internal.getWidth(r)||0;c=c<0?-c:c;var d=function(E,F,Q){if(E+1<s.length){var J=F+" "+s[E+1][0];return Gp(J,r,Q).width<=c-4}return!1};o++;e:for(;o>0;){e="",o--;var h,g,x=Gp("3",r,o).height,B=r.multiline?l-o:(l-x)/2,w=B+=2,I=0,j=0,M=0;if(o<=0){e=`(...) Tj
`,e+="% Width of Text: "+Gp(e,r,o=12).width+", FieldWidth:"+c+`
`;break}for(var L="",X=0,V=0;V<s.length;V++)if(s.hasOwnProperty(V)){var z=!1;if(s[V].length!==1&&M!==s[V].length-1){if((x+2)*(X+2)+2>l)continue e;L+=s[V][M],z=!0,j=V,V--}else{L=(L+=s[V][M]+" ").substr(L.length-1)==" "?L.substr(0,L.length-1):L;var ne=parseInt(V),le=d(ne,L,o),R=V>=s.length-1;if(le&&!R){L+=" ",M=0;continue}if(le||R){if(R)j=ne;else if(r.multiline&&(x+2)*(X+2)+2>l)continue e}else{if(!r.multiline||(x+2)*(X+2)+2>l)continue e;j=ne}}for(var U="",S=I;S<=j;S++){var P=s[S];if(r.multiline){if(S===j){U+=P[M]+" ",M=(M+1)%P.length;continue}if(S===I){U+=P[P.length-1]+" ";continue}}U+=P[0]+" "}switch(U=U.substr(U.length-1)==" "?U.substr(0,U.length-1):U,g=Gp(U,r,o).width,r.textAlign){case"right":h=c-g-2;break;case"center":h=(c-g)/2;break;default:h=2}e+=Nr(h)+" "+Nr(w)+` Td
`,e+="("+Dd(U)+`) Tj
`,e+=-Nr(h)+` 0 Td
`,w=-(o+2),g=0,I=z?j:j+1,X++,L=""}break}return n.text=e,n.fontSize=o,n},Gp=function(r,e,t){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),s=e.scope.getStringUnitWidth(r,{font:n,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:s}},AJ={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},lJ=function(r,e){var t={type:"reference",object:r};e.internal.getPageInfo(r.page).pageContext.annotations.find(function(n){return n.type===t.type&&n.object===t.object})===void 0&&e.internal.getPageInfo(r.page).pageContext.annotations.push(t)},cJ=function(r,e){if(e.scope=r,r.internal!==void 0&&(r.internal.acroformPlugin===void 0||r.internal.acroformPlugin.isInitialized===!1)){if(CA.FieldNum=0,r.internal.acroformPlugin=JSON.parse(JSON.stringify(AJ)),r.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");W5=r.internal.scaleFactor,r.internal.acroformPlugin.acroFormDictionaryRoot=new Z8,r.internal.acroformPlugin.acroFormDictionaryRoot.scope=r,r.internal.acroformPlugin.acroFormDictionaryRoot._eventID=r.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(r)}),r.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var s in n)if(n.hasOwnProperty(s)){var o=n[s];o.objId=void 0,o.hasAnnotation&&lJ(o,t)}})(r)}),r.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(r)}),r.internal.events.subscribe("postPutPages",function(t){(function(n,s){var o=!n;for(var l in n||(s.internal.newObjectDeferredBegin(s.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),s.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||s.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(l)){var c=n[l],d=[],h=c.Rect;if(c.Rect&&(c.Rect=iJ(c.Rect,s)),s.internal.newObjectDeferredBegin(c.objId,!0),c.DA=Kt.createDefaultAppearanceStream(c),mn(c)==="object"&&typeof c.getKeyValueListForStream=="function"&&(d=c.getKeyValueListForStream()),c.Rect=h,c.hasAppearanceStream&&!c.appearanceStreamContent){var g=oJ(c);d.push({key:"AP",value:"<</N "+g+">>"}),s.internal.acroformPlugin.xForms.push(g)}if(c.appearanceStreamContent){var x="";for(var B in c.appearanceStreamContent)if(c.appearanceStreamContent.hasOwnProperty(B)){var w=c.appearanceStreamContent[B];if(x+="/"+B+" ",x+="<<",Object.keys(w).length>=1||Array.isArray(w)){for(var l in w)if(w.hasOwnProperty(l)){var I=w[l];typeof I=="function"&&(I=I.call(s,c)),x+="/"+l+" "+I+" ",s.internal.acroformPlugin.xForms.indexOf(I)>=0||s.internal.acroformPlugin.xForms.push(I)}}else typeof(I=w)=="function"&&(I=I.call(s,c)),x+="/"+l+" "+I,s.internal.acroformPlugin.xForms.indexOf(I)>=0||s.internal.acroformPlugin.xForms.push(I);x+=">>"}d.push({key:"AP",value:`<<
`+x+">>"})}s.internal.putStream({additionalKeyValues:d,objectId:c.objId}),s.internal.out("endobj")}o&&(function(j,M){for(var L in j)if(j.hasOwnProperty(L)){var X=L,V=j[L];M.internal.newObjectDeferredBegin(V.objId,!0),mn(V)==="object"&&typeof V.putStream=="function"&&V.putStream(),delete j[X]}})(s.internal.acroformPlugin.xForms,s)})(t,r)}),r.internal.acroformPlugin.isInitialized=!0}},W8=bs.__acroform__.arrayToPdfArray=function(r,e,t){var n=function(l){return l};if(Array.isArray(r)){for(var s="[",o=0;o<r.length;o++)switch(o!==0&&(s+=" "),mn(r[o])){case"boolean":case"number":case"object":s+=r[o].toString();break;case"string":r[o].substr(0,1)!=="/"?(e!==void 0&&t&&(n=t.internal.getEncryptor(e)),s+="("+Dd(n(r[o].toString()))+")"):s+=r[o].toString()}return s+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Dy=function(r,e,t){var n=function(s){return s};return e!==void 0&&t&&(n=t.internal.getEncryptor(e)),(r=r||"").toString(),"("+Dd(n(r))+")"},sl=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(r){this._objId=r}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};sl.prototype.toString=function(){return this.objId+" 0 R"},sl.prototype.putStream=function(){var r=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:r,objectId:this.objId}),this.scope.internal.out("endobj")},sl.prototype.getKeyValueListForStream=function(){var r=[],e=Object.getOwnPropertyNames(this).filter(function(o){return o!="content"&&o!="appearanceStreamContent"&&o!="scope"&&o!="objId"&&o.substring(0,1)!="_"});for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var n=e[t],s=this[n];s&&(Array.isArray(s)?r.push({key:n,value:W8(s,this.objId,this.scope)}):s instanceof sl?(s.scope=this.scope,r.push({key:n,value:s.objId+" 0 R"})):typeof s!="function"&&r.push({key:n,value:s}))}return r};var J8=function(){sl.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var r,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){r=t.trim()},get:function(){return r||null}})};qi(J8,sl);var Z8=function(){sl.call(this);var r,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(r){var t=function(n){return n};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+Dd(t(r))+")"}},set:function(t){r=t}})};qi(Z8,sl);var CA=function r(){sl.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(L){if(isNaN(L))throw new Error('Invalid value "'+L+'" for attribute F supplied.');e=L}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Ss(e,3)},set:function(L){L?this.F=Is(e,3):this.F=js(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(L){if(isNaN(L))throw new Error('Invalid value "'+L+'" for attribute Ff supplied.');t=L}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(L){n=L!==void 0?L:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(L){n[0]=L}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(L){n[1]=L}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(L){n[2]=L}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(L){n[3]=L}});var s="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return s},set:function(L){switch(L){case"/Btn":case"/Tx":case"/Ch":case"/Sig":s=L;break;default:throw new Error('Invalid value "'+L+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof gx)return;o="FieldObject"+r.FieldNum++}var L=function(X){return X};return this.scope&&(L=this.scope.internal.getEncryptor(this.objId)),"("+Dd(L(o))+")"},set:function(L){o=L.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(L){o=L}});var l="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return l},set:function(L){l=L}});var c="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return c},set:function(L){c=L}});var d=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return d},set:function(L){d=L}});var h=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return h===void 0?50/W5:h},set:function(L){h=L}});var g="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return g},set:function(L){g=L}});var x="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!x||this instanceof gx||this instanceof bd))return Dy(x,this.objId,this.scope)},set:function(L){L=L.toString(),x=L}});var B=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(B)return this instanceof xa==0?Dy(B,this.objId,this.scope):B},set:function(L){L=L.toString(),B=this instanceof xa==0?L.substr(0,1)==="("?Uh(L.substr(1,L.length-2)):Uh(L):L}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof xa==1?Uh(B.substr(1,B.length-1)):B},set:function(L){L=L.toString(),B=this instanceof xa==1?"/"+L:L}});var w=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(w)return w},set:function(L){this.V=L}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(w)return this instanceof xa==0?Dy(w,this.objId,this.scope):w},set:function(L){L=L.toString(),w=this instanceof xa==0?L.substr(0,1)==="("?Uh(L.substr(1,L.length-2)):Uh(L):L}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof xa==1?Uh(w.substr(1,w.length-1)):w},set:function(L){L=L.toString(),w=this instanceof xa==1?"/"+L:L}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var I,j=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return j},set:function(L){L=!!L,j=L}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(I)return I},set:function(L){I=L}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Ss(this.Ff,1)},set:function(L){L?this.Ff=Is(this.Ff,1):this.Ff=js(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Ss(this.Ff,2)},set:function(L){L?this.Ff=Is(this.Ff,2):this.Ff=js(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Ss(this.Ff,3)},set:function(L){L?this.Ff=Is(this.Ff,3):this.Ff=js(this.Ff,3)}});var M=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(M!==null)return M},set:function(L){if([0,1,2].indexOf(L)===-1)throw new Error('Invalid value "'+L+'" for attribute Q supplied.');M=L}}),Object.defineProperty(this,"textAlign",{get:function(){var L;switch(M){case 0:default:L="left";break;case 1:L="center";break;case 2:L="right"}return L},configurable:!0,enumerable:!0,set:function(L){switch(L){case"right":case 2:M=2;break;case"center":case 1:M=1;break;default:M=0}}})};qi(CA,sl);var Jh=function(){CA.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var r=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return r},set:function(t){r=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return r},set:function(t){r=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return W8(e,this.objId,this.scope)},set:function(t){var n,s;s=[],typeof(n=t)=="string"&&(s=(function(o,l,c){c||(c=1);for(var d,h=[];d=l.exec(o);)h.push(d[c]);return h})(n,/\((.*?)\)/g)),e=s}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,n){for(n=n||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Ss(this.Ff,18)},set:function(t){t?this.Ff=Is(this.Ff,18):this.Ff=js(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Ss(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=Is(this.Ff,19):this.Ff=js(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Ss(this.Ff,20)},set:function(t){t?(this.Ff=Is(this.Ff,20),e.sort()):this.Ff=js(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ss(this.Ff,22)},set:function(t){t?this.Ff=Is(this.Ff,22):this.Ff=js(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ss(this.Ff,23)},set:function(t){t?this.Ff=Is(this.Ff,23):this.Ff=js(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Ss(this.Ff,27)},set:function(t){t?this.Ff=Is(this.Ff,27):this.Ff=js(this.Ff,27)}}),this.hasAppearanceStream=!1};qi(Jh,CA);var Zh=function(){Jh.call(this),this.fontName="helvetica",this.combo=!1};qi(Zh,Jh);var ef=function(){Zh.call(this),this.combo=!0};qi(ef,Zh);var b1=function(){ef.call(this),this.edit=!0};qi(b1,ef);var xa=function(){CA.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Ss(this.Ff,15)},set:function(t){t?this.Ff=Is(this.Ff,15):this.Ff=js(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Ss(this.Ff,16)},set:function(t){t?this.Ff=Is(this.Ff,16):this.Ff=js(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Ss(this.Ff,17)},set:function(t){t?this.Ff=Is(this.Ff,17):this.Ff=js(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Ss(this.Ff,26)},set:function(t){t?this.Ff=Is(this.Ff,26):this.Ff=js(this.Ff,26)}});var r,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(o){return o};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,s=[];for(n in s.push("<<"),e)s.push("/"+n+" ("+Dd(t(e[n]))+")");return s.push(">>"),s.join(`
`)}},set:function(t){mn(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(t){r=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(t){r="/"+t}})};qi(xa,CA);var y1=function(){xa.call(this),this.pushButton=!0};qi(y1,xa);var tf=function(){xa.call(this),this.radio=!0,this.pushButton=!1;var r=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return r},set:function(e){r=e!==void 0?e:[]}})};qi(tf,xa);var gx=function(){var r,e;CA.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return r},set:function(s){r=s}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(s){e=s}});var t,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var s=function(c){return c};this.scope&&(s=this.scope.internal.getEncryptor(this.objId));var o,l=[];for(o in l.push("<<"),n)l.push("/"+o+" ("+Dd(s(n[o]))+")");return l.push(">>"),l.join(`
`)},set:function(s){mn(s)==="object"&&(n=s)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(s){typeof s=="string"&&(n.CA=s)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(s){t=s}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(s){t="/"+s}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Kt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};qi(gx,CA),tf.prototype.setAppearance=function(r){if(!("createAppearanceStream"in r)||!("getCA"in r))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=r.createAppearanceStream(t.optionName),t.caption=r.getCA()}},tf.prototype.createOption=function(r){var e=new gx;return e.Parent=this,e.optionName=r,this.Kids.push(e),uJ.call(this.scope,e),e};var w1=function(){xa.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Kt.CheckBox.createAppearanceStream()};qi(w1,xa);var bd=function(){CA.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Ss(this.Ff,13)},set:function(e){e?this.Ff=Is(this.Ff,13):this.Ff=js(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ss(this.Ff,21)},set:function(e){e?this.Ff=Is(this.Ff,21):this.Ff=js(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ss(this.Ff,23)},set:function(e){e?this.Ff=Is(this.Ff,23):this.Ff=js(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Ss(this.Ff,24)},set:function(e){e?this.Ff=Is(this.Ff,24):this.Ff=js(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Ss(this.Ff,25)},set:function(e){e?this.Ff=Is(this.Ff,25):this.Ff=js(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Ss(this.Ff,26)},set:function(e){e?this.Ff=Is(this.Ff,26):this.Ff=js(this.Ff,26)}});var r=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return r},set:function(e){r=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return r},set:function(e){Number.isInteger(e)&&(r=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};qi(bd,CA);var v1=function(){bd.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Ss(this.Ff,14)},set:function(r){r?this.Ff=Is(this.Ff,14):this.Ff=js(this.Ff,14)}}),this.password=!0};qi(v1,bd);var Kt={CheckBox:{createAppearanceStream:function(){return{N:{On:Kt.CheckBox.YesNormal},D:{On:Kt.CheckBox.YesPushDown,Off:Kt.CheckBox.OffPushDown}}},YesPushDown:function(r){var e=JA(r);e.scope=r.scope;var t=[],n=r.scope.internal.getFont(r.fontName,r.fontStyle).id,s=r.scope.__private__.encodeColorString(r.color),o=uv(r,r.caption);return t.push("0.749023 g"),t.push("0 0 "+Nr(Kt.internal.getWidth(r))+" "+Nr(Kt.internal.getHeight(r))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+n+" "+Nr(o.fontSize)+" Tf "+s),t.push("BT"),t.push(o.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(r){var e=JA(r);e.scope=r.scope;var t=r.scope.internal.getFont(r.fontName,r.fontStyle).id,n=r.scope.__private__.encodeColorString(r.color),s=[],o=Kt.internal.getHeight(r),l=Kt.internal.getWidth(r),c=uv(r,r.caption);return s.push("1 g"),s.push("0 0 "+Nr(l)+" "+Nr(o)+" re"),s.push("f"),s.push("q"),s.push("0 0 1 rg"),s.push("0 0 "+Nr(l-1)+" "+Nr(o-1)+" re"),s.push("W"),s.push("n"),s.push("0 g"),s.push("BT"),s.push("/"+t+" "+Nr(c.fontSize)+" Tf "+n),s.push(c.text),s.push("ET"),s.push("Q"),e.stream=s.join(`
`),e},OffPushDown:function(r){var e=JA(r);e.scope=r.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Nr(Kt.internal.getWidth(r))+" "+Nr(Kt.internal.getHeight(r))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(r){var e={D:{Off:Kt.RadioButton.Circle.OffPushDown},N:{}};return e.N[r]=Kt.RadioButton.Circle.YesNormal,e.D[r]=Kt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(r){var e=JA(r);e.scope=r.scope;var t=[],n=Kt.internal.getWidth(r)<=Kt.internal.getHeight(r)?Kt.internal.getWidth(r)/4:Kt.internal.getHeight(r)/4;n=Number((.9*n).toFixed(5));var s=Kt.internal.Bezier_C,o=Number((n*s).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+$c(Kt.internal.getWidth(r)/2)+" "+$c(Kt.internal.getHeight(r)/2)+" cm"),t.push(n+" 0 m"),t.push(n+" "+o+" "+o+" "+n+" 0 "+n+" c"),t.push("-"+o+" "+n+" -"+n+" "+o+" -"+n+" 0 c"),t.push("-"+n+" -"+o+" -"+o+" -"+n+" 0 -"+n+" c"),t.push(o+" -"+n+" "+n+" -"+o+" "+n+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(r){var e=JA(r);e.scope=r.scope;var t=[],n=Kt.internal.getWidth(r)<=Kt.internal.getHeight(r)?Kt.internal.getWidth(r)/4:Kt.internal.getHeight(r)/4;n=Number((.9*n).toFixed(5));var s=Number((2*n).toFixed(5)),o=Number((s*Kt.internal.Bezier_C).toFixed(5)),l=Number((n*Kt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+$c(Kt.internal.getWidth(r)/2)+" "+$c(Kt.internal.getHeight(r)/2)+" cm"),t.push(s+" 0 m"),t.push(s+" "+o+" "+o+" "+s+" 0 "+s+" c"),t.push("-"+o+" "+s+" -"+s+" "+o+" -"+s+" 0 c"),t.push("-"+s+" -"+o+" -"+o+" -"+s+" 0 -"+s+" c"),t.push(o+" -"+s+" "+s+" -"+o+" "+s+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+$c(Kt.internal.getWidth(r)/2)+" "+$c(Kt.internal.getHeight(r)/2)+" cm"),t.push(n+" 0 m"),t.push(n+" "+l+" "+l+" "+n+" 0 "+n+" c"),t.push("-"+l+" "+n+" -"+n+" "+l+" -"+n+" 0 c"),t.push("-"+n+" -"+l+" -"+l+" -"+n+" 0 -"+n+" c"),t.push(l+" -"+n+" "+n+" -"+l+" "+n+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(r){var e=JA(r);e.scope=r.scope;var t=[],n=Kt.internal.getWidth(r)<=Kt.internal.getHeight(r)?Kt.internal.getWidth(r)/4:Kt.internal.getHeight(r)/4;n=Number((.9*n).toFixed(5));var s=Number((2*n).toFixed(5)),o=Number((s*Kt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+$c(Kt.internal.getWidth(r)/2)+" "+$c(Kt.internal.getHeight(r)/2)+" cm"),t.push(s+" 0 m"),t.push(s+" "+o+" "+o+" "+s+" 0 "+s+" c"),t.push("-"+o+" "+s+" -"+s+" "+o+" -"+s+" 0 c"),t.push("-"+s+" -"+o+" -"+o+" -"+s+" 0 -"+s+" c"),t.push(o+" -"+s+" "+s+" -"+o+" "+s+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(r){var e={D:{Off:Kt.RadioButton.Cross.OffPushDown},N:{}};return e.N[r]=Kt.RadioButton.Cross.YesNormal,e.D[r]=Kt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(r){var e=JA(r);e.scope=r.scope;var t=[],n=Kt.internal.calculateCross(r);return t.push("q"),t.push("1 1 "+Nr(Kt.internal.getWidth(r)-2)+" "+Nr(Kt.internal.getHeight(r)-2)+" re"),t.push("W"),t.push("n"),t.push(Nr(n.x1.x)+" "+Nr(n.x1.y)+" m"),t.push(Nr(n.x2.x)+" "+Nr(n.x2.y)+" l"),t.push(Nr(n.x4.x)+" "+Nr(n.x4.y)+" m"),t.push(Nr(n.x3.x)+" "+Nr(n.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(r){var e=JA(r);e.scope=r.scope;var t=Kt.internal.calculateCross(r),n=[];return n.push("0.749023 g"),n.push("0 0 "+Nr(Kt.internal.getWidth(r))+" "+Nr(Kt.internal.getHeight(r))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+Nr(Kt.internal.getWidth(r)-2)+" "+Nr(Kt.internal.getHeight(r)-2)+" re"),n.push("W"),n.push("n"),n.push(Nr(t.x1.x)+" "+Nr(t.x1.y)+" m"),n.push(Nr(t.x2.x)+" "+Nr(t.x2.y)+" l"),n.push(Nr(t.x4.x)+" "+Nr(t.x4.y)+" m"),n.push(Nr(t.x3.x)+" "+Nr(t.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(r){var e=JA(r);e.scope=r.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Nr(Kt.internal.getWidth(r))+" "+Nr(Kt.internal.getHeight(r))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(r){var e=r.scope.internal.getFont(r.fontName,r.fontStyle).id,t=r.scope.__private__.encodeColorString(r.color);return"/"+e+" "+r.fontSize+" Tf "+t}};Kt.internal={Bezier_C:.551915024494,calculateCross:function(r){var e=Kt.internal.getWidth(r),t=Kt.internal.getHeight(r),n=Math.min(e,t);return{x1:{x:(e-n)/2,y:(t-n)/2+n},x2:{x:(e-n)/2+n,y:(t-n)/2},x3:{x:(e-n)/2,y:(t-n)/2},x4:{x:(e-n)/2+n,y:(t-n)/2+n}}}},Kt.internal.getWidth=function(r){var e=0;return mn(r)==="object"&&(e=PE(r.Rect[2])),e},Kt.internal.getHeight=function(r){var e=0;return mn(r)==="object"&&(e=PE(r.Rect[3])),e};var uJ=bs.addField=function(r){if(cJ(this,r),!(r instanceof CA))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=r).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),r.page=r.scope.internal.getCurrentPageInfo().pageNumber,this};bs.AcroFormChoiceField=Jh,bs.AcroFormListBox=Zh,bs.AcroFormComboBox=ef,bs.AcroFormEditBox=b1,bs.AcroFormButton=xa,bs.AcroFormPushButton=y1,bs.AcroFormRadioButton=tf,bs.AcroFormCheckBox=w1,bs.AcroFormTextField=bd,bs.AcroFormPasswordField=v1,bs.AcroFormAppearance=Kt,bs.AcroForm={ChoiceField:Jh,ListBox:Zh,ComboBox:ef,EditBox:b1,Button:xa,PushButton:y1,RadioButton:tf,CheckBox:w1,TextField:bd,PasswordField:v1,Appearance:Kt},Jt.AcroForm={ChoiceField:Jh,ListBox:Zh,ComboBox:ef,EditBox:b1,Button:xa,PushButton:y1,RadioButton:tf,CheckBox:w1,TextField:bd,PasswordField:v1,Appearance:Kt};Jt.AcroForm;function eU(r){return r.reduce(function(e,t,n){return e[t]=n,e},{})}(function(r){var e="addImage_";r.__addimage__={};var t="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},s=r.__addimage__.getImageFileTypeByImageData=function(E,F){var Q,J,xe,ie,Z,Ae=t;if((F=F||t)==="RGBA"||E.data!==void 0&&E.data instanceof Uint8ClampedArray&&"height"in E&&"width"in E)return"RGBA";if(le(E))for(Z in n)for(xe=n[Z],Q=0;Q<xe.length;Q+=1){for(ie=!0,J=0;J<xe[Q].length;J+=1)if(xe[Q][J]!==void 0&&xe[Q][J]!==E[J]){ie=!1;break}if(ie===!0){Ae=Z;break}}else for(Z in n)for(xe=n[Z],Q=0;Q<xe.length;Q+=1){for(ie=!0,J=0;J<xe[Q].length;J+=1)if(xe[Q][J]!==void 0&&xe[Q][J]!==E.charCodeAt(J)){ie=!1;break}if(ie===!0){Ae=Z;break}}return Ae===t&&F!==t&&(Ae=F),Ae},o=function E(F){for(var Q=this.internal.write,J=this.internal.putStream,xe=(0,this.internal.getFilters)();xe.indexOf("FlateEncode")!==-1;)xe.splice(xe.indexOf("FlateEncode"),1);F.objectId=this.internal.newObject();var ie=[];if(ie.push({key:"Type",value:"/XObject"}),ie.push({key:"Subtype",value:"/Image"}),ie.push({key:"Width",value:F.width}),ie.push({key:"Height",value:F.height}),F.colorSpace===L.INDEXED?ie.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(F.palette.length/3-1)+" "+("sMask"in F&&F.sMask!==void 0?F.objectId+2:F.objectId+1)+" 0 R]"}):(ie.push({key:"ColorSpace",value:"/"+F.colorSpace}),F.colorSpace===L.DEVICE_CMYK&&ie.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ie.push({key:"BitsPerComponent",value:F.bitsPerComponent}),"decodeParameters"in F&&F.decodeParameters!==void 0&&ie.push({key:"DecodeParms",value:"<<"+F.decodeParameters+">>"}),"transparency"in F&&Array.isArray(F.transparency)&&F.transparency.length>0){for(var Z="",Ae=0,be=F.transparency.length;Ae<be;Ae++)Z+=F.transparency[Ae]+" "+F.transparency[Ae]+" ";ie.push({key:"Mask",value:"["+Z+"]"})}F.sMask!==void 0&&ie.push({key:"SMask",value:F.objectId+1+" 0 R"});var Ee=F.filter!==void 0?["/"+F.filter]:void 0;if(J({data:F.data,additionalKeyValues:ie,alreadyAppliedFilters:Ee,objectId:F.objectId}),Q("endobj"),"sMask"in F&&F.sMask!==void 0){var $,D=($=F.sMaskBitsPerComponent)!==null&&$!==void 0?$:F.bitsPerComponent,q={width:F.width,height:F.height,colorSpace:"DeviceGray",bitsPerComponent:D,data:F.sMask};"filter"in F&&(q.decodeParameters="/Predictor ".concat(F.predictor," /Colors 1 /BitsPerComponent ").concat(D," /Columns ").concat(F.width),q.filter=F.filter),E.call(this,q)}if(F.colorSpace===L.INDEXED){var te=this.internal.newObject();J({data:U(new Uint8Array(F.palette)),objectId:te}),Q("endobj")}},l=function(){var E=this.internal.collections[e+"images"];for(var F in E)o.call(this,E[F])},c=function(){var E,F=this.internal.collections[e+"images"],Q=this.internal.write;for(var J in F)Q("/I"+(E=F[J]).index,E.objectId,"0","R")},d=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",l),this.internal.events.subscribe("putXobjectDict",c))},h=function(){var E=this.internal.collections[e+"images"];return d.call(this),E},g=function(){return Object.keys(this.internal.collections[e+"images"]).length},x=function(E){return typeof r["process"+E.toUpperCase()]=="function"},B=function(E){return mn(E)==="object"&&E.nodeType===1},w=function(E,F){if(E.nodeName==="IMG"&&E.hasAttribute("src")){var Q=""+E.getAttribute("src");if(Q.indexOf("data:image/")===0)return x1(unescape(Q).split("base64,").pop());var J=r.loadFile(Q,!0);if(J!==void 0)return J}if(E.nodeName==="CANVAS"){if(E.width===0||E.height===0)throw new Error("Given canvas must have data. Canvas width: "+E.width+", height: "+E.height);var xe;switch(F){case"PNG":xe="image/png";break;case"WEBP":xe="image/webp";break;default:xe="image/jpeg"}return x1(E.toDataURL(xe,1).split("base64,").pop())}},I=function(E){var F=this.internal.collections[e+"images"];if(F){for(var Q in F)if(E===F[Q].alias)return F[Q]}},j=function(E,F,Q){return E||F||(E=-96,F=-96),E<0&&(E=-1*Q.width*72/E/this.internal.scaleFactor),F<0&&(F=-1*Q.height*72/F/this.internal.scaleFactor),E===0&&(E=F*Q.width/Q.height),F===0&&(F=E*Q.height/Q.width),[E,F]},M=function(E,F,Q,J,xe,ie){var Z=j.call(this,Q,J,xe),Ae=this.internal.getCoordinateString,be=this.internal.getVerticalCoordinateString,Ee=h.call(this);if(Q=Z[0],J=Z[1],Ee[xe.index]=xe,ie){ie*=Math.PI/180;var $=Math.cos(ie),D=Math.sin(ie),q=function(re){return re.toFixed(4)},te=[q($),q(D),q(-1*D),q($),0,0,"cm"]}this.internal.write("q"),ie?(this.internal.write([1,"0","0",1,Ae(E),be(F+J),"cm"].join(" ")),this.internal.write(te.join(" ")),this.internal.write([Ae(Q),"0","0",Ae(J),"0","0","cm"].join(" "))):this.internal.write([Ae(Q),"0","0",Ae(J),Ae(E),be(F+J),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+xe.index+" Do"),this.internal.write("Q")},L=r.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};r.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var X=r.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},V=r.__addimage__.sHashCode=function(E){var F,Q,J=0;if(typeof E=="string")for(Q=E.length,F=0;F<Q;F++)J=(J<<5)-J+E.charCodeAt(F),J|=0;else if(le(E))for(Q=E.byteLength/2,F=0;F<Q;F++)J=(J<<5)-J+E[F],J|=0;return J},z=r.__addimage__.validateStringAsBase64=function(E){(E=E||"").toString().trim();var F=!0;return E.length===0&&(F=!1),E.length%4!=0&&(F=!1),/^[A-Za-z0-9+/]+$/.test(E.substr(0,E.length-2))===!1&&(F=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(E.substr(-2))===!1&&(F=!1),F},ne=r.__addimage__.extractImageFromDataUrl=function(E){if(E==null||!(E=E.trim()).startsWith("data:"))return null;var F=E.indexOf(",");return F<0?null:E.substring(0,F).trim().endsWith("base64")?E.substring(F+1):null};r.__addimage__.isArrayBuffer=function(E){return E instanceof ArrayBuffer};var le=r.__addimage__.isArrayBufferView=function(E){return E instanceof Int8Array||E instanceof Uint8Array||E instanceof Uint8ClampedArray||E instanceof Int16Array||E instanceof Uint16Array||E instanceof Int32Array||E instanceof Uint32Array||E instanceof Float32Array||E instanceof Float64Array},R=r.__addimage__.binaryStringToUint8Array=function(E){for(var F=E.length,Q=new Uint8Array(F),J=0;J<F;J++)Q[J]=E.charCodeAt(J);return Q},U=r.__addimage__.arrayBufferToBinaryString=function(E){for(var F="",Q=le(E)?E:new Uint8Array(E),J=0;J<Q.length;J+=8192)F+=String.fromCharCode.apply(null,Q.subarray(J,J+8192));return F};r.addImage=function(){var E,F,Q,J,xe,ie,Z,Ae,be;if(typeof arguments[1]=="number"?(F=t,Q=arguments[1],J=arguments[2],xe=arguments[3],ie=arguments[4],Z=arguments[5],Ae=arguments[6],be=arguments[7]):(F=arguments[1],Q=arguments[2],J=arguments[3],xe=arguments[4],ie=arguments[5],Z=arguments[6],Ae=arguments[7],be=arguments[8]),mn(E=arguments[0])==="object"&&!B(E)&&"imageData"in E){var Ee=E;E=Ee.imageData,F=Ee.format||F||t,Q=Ee.x||Q||0,J=Ee.y||J||0,xe=Ee.w||Ee.width||xe,ie=Ee.h||Ee.height||ie,Z=Ee.alias||Z,Ae=Ee.compression||Ae,be=Ee.rotation||Ee.angle||be}var $=this.internal.getFilters();if(Ae===void 0&&$.indexOf("FlateEncode")!==-1&&(Ae="SLOW"),isNaN(Q)||isNaN(J))throw new Error("Invalid coordinates passed to jsPDF.addImage");d.call(this);var D=S.call(this,E,F,Z,Ae);return M.call(this,Q,J,xe,ie,D,be),this};var S=function(E,F,Q,J){var xe,ie,Z;if(typeof E=="string"&&s(E)===t){E=unescape(E);var Ae=P(E,!1);(Ae!==""||(Ae=r.loadFile(E,!0))!==void 0)&&(E=Ae)}if(B(E)&&(E=w(E,F)),F=s(E,F),!x(F))throw new Error("addImage does not support files of type '"+F+"', please ensure that a plugin for '"+F+"' support is added.");if(((Z=Q)==null||Z.length===0)&&(Q=(function(be){return typeof be=="string"||le(be)?V(be):le(be.data)?V(be.data):null})(E)),(xe=I.call(this,Q))||(E instanceof Uint8Array||F==="RGBA"||(ie=E,E=R(E)),xe=this["process"+F.toUpperCase()](E,g.call(this),Q,(function(be){return be&&typeof be=="string"&&(be=be.toUpperCase()),be in r.image_compression?be:X.NONE})(J),ie)),!xe)throw new Error("An unknown error occurred whilst processing the image.");return xe},P=r.__addimage__.convertBase64ToBinaryString=function(E,F){F=typeof F!="boolean"||F;var Q,J="";if(typeof E=="string"){var xe;Q=(xe=ne(E))!==null&&xe!==void 0?xe:E;try{J=x1(Q)}catch(ie){if(F)throw z(Q)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ie.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return J};r.getImageProperties=function(E){var F,Q,J="";if(B(E)&&(E=w(E)),typeof E=="string"&&s(E)===t&&((J=P(E,!1))===""&&(J=r.loadFile(E)||""),E=J),Q=s(E),!x(Q))throw new Error("addImage does not support files of type '"+Q+"', please ensure that a plugin for '"+Q+"' support is added.");if(E instanceof Uint8Array||(E=R(E)),!(F=this["process"+Q.toUpperCase()](E)))throw new Error("An unknown error occurred whilst processing the image");return F.fileType=Q,F}})(Jt.API),(function(r){var e=function(t){if(t!==void 0&&t!="")return!0};Jt.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),r.events.push(["putPage",function(t){for(var n,s,o,l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString,d=this.internal.getPageInfoByObjId(t.objId),h=t.pageContext.annotations,g=!1,x=0;x<h.length&&!g;x++)switch((n=h[x]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(g=!0);break;case"reference":case"text":case"freetext":g=!0}if(g!=0){this.internal.write("/Annots [");for(var B=0;B<h.length;B++){n=h[B];var w=this.internal.pdfEscape,I=this.internal.getEncryptor(t.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var j=this.internal.newAdditionalObject(),M=this.internal.newAdditionalObject(),L=this.internal.getEncryptor(j.objId),X=n.title||"Note";o="<</Type /Annot /Subtype /Text "+(s="/Rect ["+l(n.bounds.x)+" "+c(n.bounds.y+n.bounds.h)+" "+l(n.bounds.x+n.bounds.w)+" "+c(n.bounds.y)+"] ")+"/Contents ("+w(L(n.contents))+")",o+=" /Popup "+M.objId+" 0 R",o+=" /P "+d.objId+" 0 R",o+=" /T ("+w(L(X))+") >>",j.content=o;var V=j.objId+" 0 R";o="<</Type /Annot /Subtype /Popup "+(s="/Rect ["+l(n.bounds.x+30)+" "+c(n.bounds.y+n.bounds.h)+" "+l(n.bounds.x+n.bounds.w+30)+" "+c(n.bounds.y)+"] ")+" /Parent "+V,n.open&&(o+=" /Open true"),o+=" >>",M.content=o,this.internal.write(j.objId,"0 R",M.objId,"0 R");break;case"freetext":s="/Rect ["+l(n.bounds.x)+" "+c(n.bounds.y)+" "+l(n.bounds.x+n.bounds.w)+" "+c(n.bounds.y+n.bounds.h)+"] ";var z=n.color||"#000000";o="<</Type /Annot /Subtype /FreeText "+s+"/Contents ("+w(I(n.contents))+")",o+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+z+")",o+=" /Border [0 0 0]",o+=" >>",this.internal.write(o);break;case"link":if(n.options.name){var ne=this.annotations._nameMap[n.options.name];n.options.pageNumber=ne.page,n.options.top=ne.y}else n.options.top||(n.options.top=0);if(s="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",o="",n.options.url)o="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /A <</S /URI /URI ("+w(I(n.options.url))+") >>";else if(n.options.pageNumber)switch(o="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":o+=" /Fit]";break;case"FitH":o+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,o+=" /FitV "+n.options.left+"]";break;default:var le=c(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),o+=" /XYZ "+n.options.left+" "+le+" "+n.options.zoom+"]"}o!=""&&(o+=" >>",this.internal.write(o))}}this.internal.write("]")}}]),r.createAnnotation=function(t){var n=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":n.pageContext.annotations.push(t)}},r.link=function(t,n,s,o,l){var c=this.internal.getCurrentPageInfo(),d=this.internal.getCoordinateString,h=this.internal.getVerticalCoordinateString;c.pageContext.annotations.push({finalBounds:{x:d(t),y:h(n),w:d(t+s),h:h(n+o)},options:l,type:"link"})},r.textWithLink=function(t,n,s,o){var l,c,d=this.getTextWidth(t),h=this.internal.getLineHeight()/this.internal.scaleFactor;if(o.maxWidth!==void 0){c=o.maxWidth;var g=this.splitTextToSize(t,c).length;l=Math.ceil(h*g)}else c=d,l=h;return this.text(t,n,s,o),s+=.2*h,o.align==="center"&&(n-=d/2),o.align==="right"&&(n-=d),this.link(n,s-h,c,l,o),d},r.getTextWidth=function(t){var n=this.internal.getFontSize();return this.getStringUnitWidth(t)*n/this.internal.scaleFactor}})(Jt.API),(function(r){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},s=[1570,1571,1573,1575];r.__arabicParser__={};var o=r.__arabicParser__.isInArabicSubstitutionA=function(j){return e[j.charCodeAt(0)]!==void 0},l=r.__arabicParser__.isArabicLetter=function(j){return typeof j=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(j)},c=r.__arabicParser__.isArabicEndLetter=function(j){return l(j)&&o(j)&&e[j.charCodeAt(0)].length<=2},d=r.__arabicParser__.isArabicAlfLetter=function(j){return l(j)&&s.indexOf(j.charCodeAt(0))>=0};r.__arabicParser__.arabicLetterHasIsolatedForm=function(j){return l(j)&&o(j)&&e[j.charCodeAt(0)].length>=1};var h=r.__arabicParser__.arabicLetterHasFinalForm=function(j){return l(j)&&o(j)&&e[j.charCodeAt(0)].length>=2};r.__arabicParser__.arabicLetterHasInitialForm=function(j){return l(j)&&o(j)&&e[j.charCodeAt(0)].length>=3};var g=r.__arabicParser__.arabicLetterHasMedialForm=function(j){return l(j)&&o(j)&&e[j.charCodeAt(0)].length==4},x=r.__arabicParser__.resolveLigatures=function(j){var M=0,L=t,X="",V=0;for(M=0;M<j.length;M+=1)L[j.charCodeAt(M)]!==void 0?(V++,typeof(L=L[j.charCodeAt(M)])=="number"&&(X+=String.fromCharCode(L),L=t,V=0),M===j.length-1&&(L=t,X+=j.charAt(M-(V-1)),M-=V-1,V=0)):(L=t,X+=j.charAt(M-V),M-=V,V=0);return X};r.__arabicParser__.isArabicDiacritic=function(j){return j!==void 0&&n[j.charCodeAt(0)]!==void 0};var B=r.__arabicParser__.getCorrectForm=function(j,M,L){return l(j)?o(j)===!1?-1:!h(j)||!l(M)&&!l(L)||!l(L)&&c(M)||c(j)&&!l(M)||c(j)&&d(M)||c(j)&&c(M)?0:g(j)&&l(M)&&!c(M)&&l(L)&&h(L)?3:c(j)||!l(L)?1:2:-1},w=function(j){var M=0,L=0,X=0,V="",z="",ne="",le=(j=j||"").split("\\s+"),R=[];for(M=0;M<le.length;M+=1){for(R.push(""),L=0;L<le[M].length;L+=1)V=le[M][L],z=le[M][L-1],ne=le[M][L+1],l(V)?(X=B(V,z,ne),R[M]+=X!==-1?String.fromCharCode(e[V.charCodeAt(0)][X]):V):R[M]+=V;R[M]=x(R[M])}return R.join(" ")},I=r.__arabicParser__.processArabic=r.processArabic=function(){var j,M=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,L=[];if(Array.isArray(M)){var X=0;for(L=[],X=0;X<M.length;X+=1)Array.isArray(M[X])?L.push([w(M[X][0]),M[X][1],M[X][2]]):L.push([w(M[X])]);j=L}else j=w(M);return typeof arguments[0]=="string"?j:(arguments[0].text=j,arguments[0])};r.events.push(["preProcessText",I])})(Jt.API),Jt.API.autoPrint=function(r){var e;return(r=r||{}).variant=r.variant||"non-conform",r.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(r){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(c){t=c}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(c){n=isNaN(c)||Number.isInteger(c)===!1||c<0?150:c,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var s=300;Object.defineProperty(this,"height",{get:function(){return s},set:function(c){s=isNaN(c)||Number.isInteger(c)===!1||c<0?300:c,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=s+1)}});var o=[];Object.defineProperty(this,"childNodes",{get:function(){return o},set:function(c){o=c}});var l={};Object.defineProperty(this,"style",{get:function(){return l},set:function(c){l=c}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,n){var s;if((t=t||"2d")!=="2d")return null;for(s in n)this.pdf.context2d.hasOwnProperty(s)&&(this.pdf.context2d[s]=n[s]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},r.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(Jt.API),(function(r){var e={left:0,top:0,bottom:0,right:0},t=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),s.call(this))},s=function(){this.internal.__cell__.lastCell=new o,this.internal.__cell__.pages=1},o=function(){var d=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return d},set:function(j){d=j}});var h=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return h},set:function(j){h=j}});var g=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return g},set:function(j){g=j}});var x=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return x},set:function(j){x=j}});var B=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return B},set:function(j){B=j}});var w=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return w},set:function(j){w=j}});var I=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return I},set:function(j){I=j}}),this};o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},o.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},r.setHeaderFunction=function(d){return n.call(this),this.internal.__cell__.headerFunction=typeof d=="function"?d:void 0,this},r.getTextDimensions=function(d,h){n.call(this);var g=(h=h||{}).fontSize||this.getFontSize(),x=h.font||this.getFont(),B=h.scaleFactor||this.internal.scaleFactor,w=0,I=0,j=0,M=this;if(!Array.isArray(d)&&typeof d!="string"){if(typeof d!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");d=String(d)}var L=h.maxWidth;L>0?typeof d=="string"?d=this.splitTextToSize(d,L):Object.prototype.toString.call(d)==="[object Array]"&&(d=d.reduce(function(V,z){return V.concat(M.splitTextToSize(z,L))},[])):d=Array.isArray(d)?d:[d];for(var X=0;X<d.length;X++)w<(j=this.getStringUnitWidth(d[X],{font:x})*g)&&(w=j);return w!==0&&(I=d.length),{w:w/=B,h:Math.max((I*g*this.getLineHeightFactor()-g*(this.getLineHeightFactor()-1))/B,0)}},r.cellAddPage=function(){n.call(this),this.addPage();var d=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new o(d.left,d.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var l=r.cell=function(){var d;d=arguments[0]instanceof o?arguments[0]:new o(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),n.call(this);var h=this.internal.__cell__.lastCell,g=this.internal.__cell__.padding,x=this.internal.__cell__.margins||e,B=this.internal.__cell__.tableHeaderRow,w=this.internal.__cell__.printHeaders;return h.lineNumber!==void 0&&(h.lineNumber===d.lineNumber?(d.x=(h.x||0)+(h.width||0),d.y=h.y||0):h.y+h.height+d.height+x.bottom>this.getPageHeight()?(this.cellAddPage(),d.y=x.top,w&&B&&(this.printHeaderRow(d.lineNumber,!0),d.y+=B[0].height)):d.y=h.y+h.height||d.y),d.text[0]!==void 0&&(this.rect(d.x,d.y,d.width,d.height,t===!0?"FD":void 0),d.align==="right"?this.text(d.text,d.x+d.width-g,d.y+g,{align:"right",baseline:"top"}):d.align==="center"?this.text(d.text,d.x+d.width/2,d.y+g,{align:"center",baseline:"top",maxWidth:d.width-g-g}):this.text(d.text,d.x+g,d.y+g,{align:"left",baseline:"top",maxWidth:d.width-g-g})),this.internal.__cell__.lastCell=d,this};r.table=function(d,h,g,x,B){if(n.call(this),!g)throw new Error("No data for PDF table.");var w,I,j,M,L=[],X=[],V=[],z={},ne={},le=[],R=[],U=(B=B||{}).autoSize||!1,S=B.printHeaders!==!1,P=B.css&&B.css["font-size"]!==void 0?16*B.css["font-size"]:B.fontSize||12,E=B.margins||Object.assign({width:this.getPageWidth()},e),F=typeof B.padding=="number"?B.padding:3,Q=B.headerBackgroundColor||"#c8c8c8",J=B.headerTextColor||"#000";if(s.call(this),this.internal.__cell__.printHeaders=S,this.internal.__cell__.margins=E,this.internal.__cell__.table_font_size=P,this.internal.__cell__.padding=F,this.internal.__cell__.headerBackgroundColor=Q,this.internal.__cell__.headerTextColor=J,this.setFontSize(P),x==null)X=L=Object.keys(g[0]),V=L.map(function(){return"left"});else if(Array.isArray(x)&&mn(x[0])==="object")for(L=x.map(function(Ee){return Ee.name}),X=x.map(function(Ee){return Ee.prompt||Ee.name||""}),V=x.map(function(Ee){return Ee.align||"left"}),w=0;w<x.length;w+=1)ne[x[w].name]=.7499990551181103*x[w].width;else Array.isArray(x)&&typeof x[0]=="string"&&(X=L=x,V=L.map(function(){return"left"}));if(U||Array.isArray(x)&&typeof x[0]=="string")for(w=0;w<L.length;w+=1){for(z[M=L[w]]=g.map(function(Ee){return Ee[M]}),this.setFont(void 0,"bold"),le.push(this.getTextDimensions(X[w],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),I=z[M],this.setFont(void 0,"normal"),j=0;j<I.length;j+=1)le.push(this.getTextDimensions(I[j],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);ne[M]=Math.max.apply(null,le)+F+F,le=[]}if(S){var xe={};for(w=0;w<L.length;w+=1)xe[L[w]]={},xe[L[w]].text=X[w],xe[L[w]].align=V[w];var ie=c.call(this,xe,ne);R=L.map(function(Ee){return new o(d,h,ne[Ee],ie,xe[Ee].text,void 0,xe[Ee].align)}),this.setTableHeaderRow(R),this.printHeaderRow(1,!1)}var Z=x.reduce(function(Ee,$){return Ee[$.name]=$.align,Ee},{});for(w=0;w<g.length;w+=1){"rowStart"in B&&B.rowStart instanceof Function&&B.rowStart({row:w,data:g[w]},this);var Ae=c.call(this,g[w],ne);for(j=0;j<L.length;j+=1){var be=g[w][L[j]];"cellStart"in B&&B.cellStart instanceof Function&&B.cellStart({row:w,col:j,data:be},this),l.call(this,new o(d,h,ne[L[j]],Ae,be,w+2,Z[L[j]]))}}return this.internal.__cell__.table_x=d,this.internal.__cell__.table_y=h,this};var c=function(d,h){var g=this.internal.__cell__.padding,x=this.internal.__cell__.table_font_size,B=this.internal.scaleFactor;return Object.keys(d).map(function(w){var I=d[w];return this.splitTextToSize(I.hasOwnProperty("text")?I.text:I,h[w]-g-g)},this).map(function(w){return this.getLineHeightFactor()*w.length*x/B+g+g},this).reduce(function(w,I){return Math.max(w,I)},0)};r.setTableHeaderRow=function(d){n.call(this),this.internal.__cell__.tableHeaderRow=d},r.printHeaderRow=function(d,h){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var g;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var x=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new o(x[0],x[1],x[2],x[3],void 0,-1)}this.setFont(void 0,"bold");for(var B=[],w=0;w<this.internal.__cell__.tableHeaderRow.length;w+=1){g=this.internal.__cell__.tableHeaderRow[w].clone(),h&&(g.y=this.internal.__cell__.margins.top||0,B.push(g)),g.lineNumber=d;var I=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),l.call(this,g),this.setTextColor(I)}B.length>0&&this.setTableHeaderRow(B),this.setFont(void 0,"normal"),t=!1}})(Jt.API);var tU={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},rU=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],dv=eU(rU),nU=[100,200,300,400,500,600,700,800,900],dJ=eU(nU);function Oy(r){var e=r.family.replace(/"|'/g,"").toLowerCase(),t=(function(o){return tU[o=o||"normal"]?o:"normal"})(r.style),n=(function(o){return o?typeof o=="number"?o>=100&&o<=900&&o%100==0?o:400:/^\d00$/.test(o)?parseInt(o):o==="bold"?700:400:400})(r.weight),s=(function(o){return typeof dv[o=o||"normal"]=="number"?o:"normal"})(r.stretch);return{family:e,style:t,weight:n,stretch:s,src:r.src||[],ref:r.ref||{name:e,style:[s,t,n].join(" ")}}}function HE(r,e,t,n){var s;for(s=t;s>=0&&s<e.length;s+=n)if(r[e[s]])return r[e[s]];for(s=t;s>=0&&s<e.length;s-=n)if(r[e[s]])return r[e[s]]}var hJ={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},VE={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function KE(r){return[r.stretch,r.style,r.weight,r.family].join(" ")}function zE(r){return r.trimLeft()}function fJ(r,e){for(var t=0;t<r.length;){if(r.charAt(t)===e)return[r.substring(0,t),r.substring(t+1)];t+=1}return null}function gJ(r){var e=r.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],r.substring(e[0].length)]}var $p,qE,GE,Fh,Xp,$E,XE,YE,My=["times"];function WE(r,e,t,n,s){var o=4,l=ZE;switch(s){case Jt.API.image_compression.FAST:o=1,l=JE;break;case Jt.API.image_compression.MEDIUM:o=6,l=eS;break;case Jt.API.image_compression.SLOW:o=9,l=tS}r=(function(d,h,g,x){for(var B,w=d.length/h,I=new Uint8Array(d.length+w),j=[mJ,JE,ZE,eS,tS],M=0;M<w;M+=1){var L=M*h,X=d.subarray(L,L+h);if(x)I.set(x(X,g,B),L+M);else{for(var V=j.length,z=[],ne=0;ne<V;ne+=1)z[ne]=j[ne](X,g,B);var le=xJ(z.concat());I.set(z[le],L+M)}B=X}return I})(r,e,Math.ceil(t*n/8),l);var c=av(r,{level:o});return Jt.API.__addimage__.arrayBufferToBinaryString(c)}function mJ(r){var e=Array.apply([],r);return e.unshift(0),e}function JE(r,e){var t=r.length,n=[];n[0]=1;for(var s=0;s<t;s+=1){var o=r[s-e]||0;n[s+1]=r[s]-o+256&255}return n}function ZE(r,e,t){var n=r.length,s=[];s[0]=2;for(var o=0;o<n;o+=1){var l=t&&t[o]||0;s[o+1]=r[o]-l+256&255}return s}function eS(r,e,t){var n=r.length,s=[];s[0]=3;for(var o=0;o<n;o+=1){var l=r[o-e]||0,c=t&&t[o]||0;s[o+1]=r[o]+256-(l+c>>>1)&255}return s}function tS(r,e,t){var n=r.length,s=[];s[0]=4;for(var o=0;o<n;o+=1){var l=pJ(r[o-e]||0,t&&t[o]||0,t&&t[o-e]||0);s[o+1]=r[o]-l+256&255}return s}function pJ(r,e,t){if(r===e&&e===t)return r;var n=Math.abs(e-t),s=Math.abs(r-t),o=Math.abs(r+e-t-t);return n<=s&&n<=o?r:s<=o?e:t}function xJ(r){var e=r.map(function(t){return t.reduce(function(n,s){return n+Math.abs(s)},0)});return e.indexOf(Math.min.apply(null,e))}function Py(r,e,t){var n=e*t,s=Math.floor(n/8),o=16-(n-8*s+t),l=(1<<t)-1;return sU(r,s)>>o&l}function rS(r,e,t,n){var s=t*n,o=Math.floor(s/8),l=16-(s-8*o+n),c=(1<<n)-1,d=(e&c)<<l;(function(h,g,x){if(g+1<h.byteLength)h.setUint16(g,x,!1);else{var B=x>>8&255;h.setUint8(g,B)}})(r,o,sU(r,o)&~(c<<l)&65535|d)}function sU(r,e){return e+1<r.byteLength?r.getUint16(e,!1):r.getUint8(e)<<8}function bJ(r){var e=0;if(r[e++]!==71||r[e++]!==73||r[e++]!==70||r[e++]!==56||(r[e++]+1&253)!=56||r[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=r[e++]|r[e++]<<8,n=r[e++]|r[e++]<<8,s=r[e++],o=s>>7,l=1<<1+(7&s);r[e++],r[e++];var c=null,d=null;o&&(c=e,d=l,e+=3*l);var h=!0,g=[],x=0,B=null,w=0,I=null;for(this.width=t,this.height=n;h&&e<r.length;)switch(r[e++]){case 33:switch(r[e++]){case 255:if(r[e]!==11||r[e+1]==78&&r[e+2]==69&&r[e+3]==84&&r[e+4]==83&&r[e+5]==67&&r[e+6]==65&&r[e+7]==80&&r[e+8]==69&&r[e+9]==50&&r[e+10]==46&&r[e+11]==48&&r[e+12]==3&&r[e+13]==1&&r[e+16]==0)e+=14,I=r[e++]|r[e++]<<8,e++;else for(e+=12;;){if(!((E=r[e++])>=0))throw Error("Invalid block size");if(E===0)break;e+=E}break;case 249:if(r[e++]!==4||r[e+4]!==0)throw new Error("Invalid graphics extension block.");var j=r[e++];x=r[e++]|r[e++]<<8,B=r[e++],1&j||(B=null),w=j>>2&7,e++;break;case 254:for(;;){if(!((E=r[e++])>=0))throw Error("Invalid block size");if(E===0)break;e+=E}break;default:throw new Error("Unknown graphic control label: 0x"+r[e-1].toString(16))}break;case 44:var M=r[e++]|r[e++]<<8,L=r[e++]|r[e++]<<8,X=r[e++]|r[e++]<<8,V=r[e++]|r[e++]<<8,z=r[e++],ne=z>>6&1,le=1<<1+(7&z),R=c,U=d,S=!1;z>>7&&(S=!0,R=e,U=le,e+=3*le);var P=e;for(e++;;){var E;if(!((E=r[e++])>=0))throw Error("Invalid block size");if(E===0)break;e+=E}g.push({x:M,y:L,width:X,height:V,has_local_palette:S,palette_offset:R,palette_size:U,data_offset:P,data_length:e-P,transparent_index:B,interlaced:!!ne,delay:x,disposal:w});break;case 59:h=!1;break;default:throw new Error("Unknown gif block: 0x"+r[e-1].toString(16))}this.numFrames=function(){return g.length},this.loopCount=function(){return I},this.frameInfo=function(F){if(F<0||F>=g.length)throw new Error("Frame index out of range.");return g[F]},this.decodeAndBlitFrameBGRA=function(F,Q){var J=this.frameInfo(F),xe=J.width*J.height,ie=new Uint8Array(xe);nS(r,J.data_offset,ie,xe);var Z=J.palette_offset,Ae=J.transparent_index;Ae===null&&(Ae=256);var be=J.width,Ee=t-be,$=be,D=4*(J.y*t+J.x),q=4*((J.y+J.height)*t+J.x),te=D,re=4*Ee;J.interlaced===!0&&(re+=4*t*7);for(var fe=8,ge=0,Be=ie.length;ge<Be;++ge){var _e=ie[ge];if($===0&&($=be,(te+=re)>=q&&(re=4*Ee+4*t*(fe-1),te=D+(be+Ee)*(fe<<1),fe>>=1)),_e===Ae)te+=4;else{var Oe=r[Z+3*_e],He=r[Z+3*_e+1],it=r[Z+3*_e+2];Q[te++]=it,Q[te++]=He,Q[te++]=Oe,Q[te++]=255}--$}},this.decodeAndBlitFrameRGBA=function(F,Q){var J=this.frameInfo(F),xe=J.width*J.height,ie=new Uint8Array(xe);nS(r,J.data_offset,ie,xe);var Z=J.palette_offset,Ae=J.transparent_index;Ae===null&&(Ae=256);var be=J.width,Ee=t-be,$=be,D=4*(J.y*t+J.x),q=4*((J.y+J.height)*t+J.x),te=D,re=4*Ee;J.interlaced===!0&&(re+=4*t*7);for(var fe=8,ge=0,Be=ie.length;ge<Be;++ge){var _e=ie[ge];if($===0&&($=be,(te+=re)>=q&&(re=4*Ee+4*t*(fe-1),te=D+(be+Ee)*(fe<<1),fe>>=1)),_e===Ae)te+=4;else{var Oe=r[Z+3*_e],He=r[Z+3*_e+1],it=r[Z+3*_e+2];Q[te++]=Oe,Q[te++]=He,Q[te++]=it,Q[te++]=255}--$}}}function nS(r,e,t,n){for(var s=r[e++],o=1<<s,l=o+1,c=l+1,d=s+1,h=(1<<d)-1,g=0,x=0,B=0,w=r[e++],I=new Int32Array(4096),j=null;;){for(;g<16&&w!==0;)x|=r[e++]<<g,g+=8,w===1?w=r[e++]:--w;if(g<d)break;var M=x&h;if(x>>=d,g-=d,M!==o){if(M===l)break;for(var L=M<c?M:j,X=0,V=L;V>o;)V=I[V]>>8,++X;var z=V;if(B+X+(L!==M?1:0)>n)return void Qn.log("Warning, gif stream longer than expected.");t[B++]=z;var ne=B+=X;for(L!==M&&(t[B++]=z),V=L;X--;)V=I[V],t[--ne]=255&V,V>>=8;j!==null&&c<4096&&(I[c++]=j<<8|z,c>=h+1&&d<12&&(++d,h=h<<1|1)),j=M}else c=l+1,h=(1<<(d=s+1))-1,j=null}return B!==n&&Qn.log("Warning, gif stream shorter than expected."),t}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Hy(r){var e,t,n,s,o,l=Math.floor,c=new Array(64),d=new Array(64),h=new Array(64),g=new Array(64),x=new Array(65535),B=new Array(65535),w=new Array(64),I=new Array(64),j=[],M=0,L=7,X=new Array(64),V=new Array(64),z=new Array(64),ne=new Array(256),le=new Array(2048),R=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],U=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],S=[0,1,2,3,4,5,6,7,8,9,10,11],P=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],E=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],F=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],Q=[0,1,2,3,4,5,6,7,8,9,10,11],J=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],xe=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ie(D,q){for(var te=0,re=0,fe=new Array,ge=1;ge<=16;ge++){for(var Be=1;Be<=D[ge];Be++)fe[q[re]]=[],fe[q[re]][0]=te,fe[q[re]][1]=ge,re++,te++;te*=2}return fe}function Z(D){for(var q=D[0],te=D[1]-1;te>=0;)q&1<<te&&(M|=1<<L),te--,--L<0&&(M==255?(Ae(255),Ae(0)):Ae(M),L=7,M=0)}function Ae(D){j.push(D)}function be(D){Ae(D>>8&255),Ae(255&D)}function Ee(D,q,te,re,fe){for(var ge,Be=fe[0],_e=fe[240],Oe=(function(Pe,st){var dt,Mt,St,Yt,cr,ar,ur,dr,jt,hr,Bt=0;for(jt=0;jt<8;++jt){dt=Pe[Bt],Mt=Pe[Bt+1],St=Pe[Bt+2],Yt=Pe[Bt+3],cr=Pe[Bt+4],ar=Pe[Bt+5],ur=Pe[Bt+6];var De=dt+(dr=Pe[Bt+7]),ft=dt-dr,ct=Mt+ur,yt=Mt-ur,qt=St+ar,xt=St-ar,Ar=Yt+cr,Rt=Yt-cr,Pt=De+Ar,Ir=De-Ar,Tt=ct+qt,Nt=ct-qt;Pe[Bt]=Pt+Tt,Pe[Bt+4]=Pt-Tt;var fr=.707106781*(Nt+Ir);Pe[Bt+2]=Ir+fr,Pe[Bt+6]=Ir-fr;var In=.382683433*((Pt=Rt+xt)-(Nt=yt+ft)),Dn=.5411961*Pt+In,jn=1.306562965*Nt+In,An=.707106781*(Tt=xt+yt),Ft=ft+An,et=ft-An;Pe[Bt+5]=et+Dn,Pe[Bt+3]=et-Dn,Pe[Bt+1]=Ft+jn,Pe[Bt+7]=Ft-jn,Bt+=8}for(Bt=0,jt=0;jt<8;++jt){dt=Pe[Bt],Mt=Pe[Bt+8],St=Pe[Bt+16],Yt=Pe[Bt+24],cr=Pe[Bt+32],ar=Pe[Bt+40],ur=Pe[Bt+48];var gt=dt+(dr=Pe[Bt+56]),Gt=dt-dr,_t=Mt+ur,at=Mt-ur,wt=St+ar,Dt=St-ar,kt=Yt+cr,ir=Yt-cr,bt=gt+kt,wr=gt-kt,On=_t+wt,aa=_t-wt;Pe[Bt]=bt+On,Pe[Bt+32]=bt-On;var Oa=.707106781*(aa+wr);Pe[Bt+16]=wr+Oa,Pe[Bt+48]=wr-Oa;var mo=.382683433*((bt=ir+Dt)-(aa=at+Gt)),ii=.5411961*bt+mo,ia=1.306562965*aa+mo,Gi=.707106781*(On=Dt+at),va=Gt+Gi,Vs=Gt-Gi;Pe[Bt+40]=Vs+ii,Pe[Bt+24]=Vs-ii,Pe[Bt+8]=va+ia,Pe[Bt+56]=va-ia,Bt++}for(jt=0;jt<64;++jt)hr=Pe[jt]*st[jt],w[jt]=hr>0?hr+.5|0:hr-.5|0;return w})(D,q),He=0;He<64;++He)I[R[He]]=Oe[He];var it=I[0]-te;te=I[0],it==0?Z(re[0]):(Z(re[B[ge=32767+it]]),Z(x[ge]));for(var me=63;me>0&&I[me]==0;)me--;if(me==0)return Z(Be),te;for(var Me,H=1;H<=me;){for(var Ke=H;I[H]==0&&H<=me;)++H;var rt=H-Ke;if(rt>=16){Me=rt>>4;for(var pt=1;pt<=Me;++pt)Z(_e);rt&=15}ge=32767+I[H],Z(fe[(rt<<4)+B[ge]]),Z(x[ge]),H++}return me!=63&&Z(Be),te}function $(D){D=Math.min(Math.max(D,1),100),o!=D&&((function(q){for(var te=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],re=0;re<64;re++){var fe=l((te[re]*q+50)/100);fe=Math.min(Math.max(fe,1),255),c[R[re]]=fe}for(var ge=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Be=0;Be<64;Be++){var _e=l((ge[Be]*q+50)/100);_e=Math.min(Math.max(_e,1),255),d[R[Be]]=_e}for(var Oe=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],He=0,it=0;it<8;it++)for(var me=0;me<8;me++)h[He]=1/(c[R[He]]*Oe[it]*Oe[me]*8),g[He]=1/(d[R[He]]*Oe[it]*Oe[me]*8),He++})(D<50?Math.floor(5e3/D):Math.floor(200-2*D)),o=D)}this.encode=function(D,q){q&&$(q),j=new Array,M=0,L=7,be(65496),be(65504),be(16),Ae(74),Ae(70),Ae(73),Ae(70),Ae(0),Ae(1),Ae(1),Ae(0),be(1),be(1),Ae(0),Ae(0),(function(){be(65499),be(132),Ae(0);for(var Mt=0;Mt<64;Mt++)Ae(c[Mt]);Ae(1);for(var St=0;St<64;St++)Ae(d[St])})(),(function(Mt,St){be(65472),be(17),Ae(8),be(St),be(Mt),Ae(3),Ae(1),Ae(17),Ae(0),Ae(2),Ae(17),Ae(1),Ae(3),Ae(17),Ae(1)})(D.width,D.height),(function(){be(65476),be(418),Ae(0);for(var Mt=0;Mt<16;Mt++)Ae(U[Mt+1]);for(var St=0;St<=11;St++)Ae(S[St]);Ae(16);for(var Yt=0;Yt<16;Yt++)Ae(P[Yt+1]);for(var cr=0;cr<=161;cr++)Ae(E[cr]);Ae(1);for(var ar=0;ar<16;ar++)Ae(F[ar+1]);for(var ur=0;ur<=11;ur++)Ae(Q[ur]);Ae(17);for(var dr=0;dr<16;dr++)Ae(J[dr+1]);for(var jt=0;jt<=161;jt++)Ae(xe[jt])})(),be(65498),be(12),Ae(3),Ae(1),Ae(0),Ae(2),Ae(17),Ae(3),Ae(17),Ae(0),Ae(63),Ae(0);var te=0,re=0,fe=0;M=0,L=7,this.encode.displayName="_encode_";for(var ge,Be,_e,Oe,He,it,me,Me,H,Ke=D.data,rt=D.width,pt=D.height,Pe=4*rt,st=0;st<pt;){for(ge=0;ge<Pe;){for(He=Pe*st+ge,me=-1,Me=0,H=0;H<64;H++)it=He+(Me=H>>3)*Pe+(me=4*(7&H)),st+Me>=pt&&(it-=Pe*(st+1+Me-pt)),ge+me>=Pe&&(it-=ge+me-Pe+4),Be=Ke[it++],_e=Ke[it++],Oe=Ke[it++],X[H]=(le[Be]+le[_e+256|0]+le[Oe+512|0]>>16)-128,V[H]=(le[Be+768|0]+le[_e+1024|0]+le[Oe+1280|0]>>16)-128,z[H]=(le[Be+1280|0]+le[_e+1536|0]+le[Oe+1792|0]>>16)-128;te=Ee(X,h,te,e,n),re=Ee(V,g,re,t,s),fe=Ee(z,g,fe,t,s),ge+=32}st+=8}if(L>=0){var dt=[];dt[1]=L+1,dt[0]=(1<<L+1)-1,Z(dt)}return be(65497),new Uint8Array(j)},r=r||50,(function(){for(var D=String.fromCharCode,q=0;q<256;q++)ne[q]=D(q)})(),e=ie(U,S),t=ie(F,Q),n=ie(P,E),s=ie(J,xe),(function(){for(var D=1,q=2,te=1;te<=15;te++){for(var re=D;re<q;re++)B[32767+re]=te,x[32767+re]=[],x[32767+re][1]=te,x[32767+re][0]=re;for(var fe=-(q-1);fe<=-D;fe++)B[32767+fe]=te,x[32767+fe]=[],x[32767+fe][1]=te,x[32767+fe][0]=q-1+fe;D<<=1,q<<=1}})(),(function(){for(var D=0;D<256;D++)le[D]=19595*D,le[D+256|0]=38470*D,le[D+512|0]=7471*D+32768,le[D+768|0]=-11059*D,le[D+1024|0]=-21709*D,le[D+1280|0]=32768*D+8421375,le[D+1536|0]=-27439*D,le[D+1792|0]=-5329*D})(),$(r)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function hA(r,e){if(this.pos=0,this.buffer=r,this.datav=new DataView(r.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function sS(r){function e(S){if(!S)throw Error("assert :P")}function t(S,P,E){for(var F=0;4>F;F++)if(S[P+F]!=E.charCodeAt(F))return!0;return!1}function n(S,P,E,F,Q){for(var J=0;J<Q;J++)S[P+J]=E[F+J]}function s(S,P,E,F){for(var Q=0;Q<F;Q++)S[P+Q]=E}function o(S){return new Int32Array(S)}function l(S,P){for(var E=[],F=0;F<S;F++)E.push(new P);return E}function c(S,P){var E=[];return(function F(Q,J,xe){for(var ie=xe[J],Z=0;Z<ie&&(Q.push(xe.length>J+1?[]:new P),!(xe.length<J+1));Z++)F(Q[Z],J+1,xe)})(E,0,S),E}var d=function(){var S=this;function P(m,y){for(var _=1<<y-1>>>0;m&_;)_>>>=1;return _?(m&_-1)+_:m}function E(m,y,_,T,G){e(!(T%_));do m[y+(T-=_)]=G;while(0<T)}function F(m,y,_,T,G){if(e(2328>=G),512>=G)var Y=o(512);else if((Y=o(G))==null)return 0;return(function(W,se,oe,de,we,Fe){var ce,Ne,je=se,Ge=1<<oe,Te=o(16),ze=o(16);for(e(we!=0),e(de!=null),e(W!=null),e(0<oe),Ne=0;Ne<we;++Ne){if(15<de[Ne])return 0;++Te[de[Ne]]}if(Te[0]==we)return 0;for(ze[1]=0,ce=1;15>ce;++ce){if(Te[ce]>1<<ce)return 0;ze[ce+1]=ze[ce]+Te[ce]}for(Ne=0;Ne<we;++Ne)ce=de[Ne],0<de[Ne]&&(Fe[ze[ce]++]=Ne);if(ze[15]==1)return(de=new Q).g=0,de.value=Fe[0],E(W,je,1,Ge,de),Ge;var Ye,At=-1,tt=Ge-1,Vt=0,Ct=1,pr=1,Qt=1<<oe;for(Ne=0,ce=1,we=2;ce<=oe;++ce,we<<=1){if(Ct+=pr<<=1,0>(pr-=Te[ce]))return 0;for(;0<Te[ce];--Te[ce])(de=new Q).g=ce,de.value=Fe[Ne++],E(W,je+Vt,we,Qt,de),Vt=P(Vt,ce)}for(ce=oe+1,we=2;15>=ce;++ce,we<<=1){if(Ct+=pr<<=1,0>(pr-=Te[ce]))return 0;for(;0<Te[ce];--Te[ce]){if(de=new Q,(Vt&tt)!=At){for(je+=Qt,Ye=1<<(At=ce)-oe;15>At&&!(0>=(Ye-=Te[At]));)++At,Ye<<=1;Ge+=Qt=1<<(Ye=At-oe),W[se+(At=Vt&tt)].g=Ye+oe,W[se+At].value=je-se-At}de.g=ce-oe,de.value=Fe[Ne++],E(W,je+(Vt>>oe),we,Qt,de),Vt=P(Vt,ce)}}return Ct!=2*ze[15]-1?0:Ge})(m,y,_,T,G,Y)}function Q(){this.value=this.g=0}function J(){this.value=this.g=0}function xe(){this.G=l(5,Q),this.H=o(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=l(LA,J)}function ie(m,y,_,T){e(m!=null),e(y!=null),e(2147483648>T),m.Ca=254,m.I=0,m.b=-8,m.Ka=0,m.oa=y,m.pa=_,m.Jd=y,m.Yc=_+T,m.Zc=4<=T?_+T-4+1:_,Be(m)}function Z(m,y){for(var _=0;0<y--;)_|=Oe(m,128)<<y;return _}function Ae(m,y){var _=Z(m,y);return _e(m)?-_:_}function be(m,y,_,T){var G,Y=0;for(e(m!=null),e(y!=null),e(4294967288>T),m.Sb=T,m.Ra=0,m.u=0,m.h=0,4<T&&(T=4),G=0;G<T;++G)Y+=y[_+G]<<8*G;m.Ra=Y,m.bb=T,m.oa=y,m.pa=_}function Ee(m){for(;8<=m.u&&m.bb<m.Sb;)m.Ra>>>=8,m.Ra+=m.oa[m.pa+m.bb]<<No-8>>>0,++m.bb,m.u-=8;re(m)&&(m.h=1,m.u=0)}function $(m,y){if(e(0<=y),!m.h&&y<=ja){var _=te(m)&Ka[y];return m.u+=y,Ee(m),_}return m.h=1,m.u=0}function D(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function q(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function te(m){return m.Ra>>>(m.u&No-1)>>>0}function re(m){return e(m.bb<=m.Sb),m.h||m.bb==m.Sb&&m.u>No}function fe(m,y){m.u=y,m.h=re(m)}function ge(m){m.u>=_o&&(e(m.u>=_o),Ee(m))}function Be(m){e(m!=null&&m.oa!=null),m.pa<m.Zc?(m.I=(m.oa[m.pa++]|m.I<<8)>>>0,m.b+=8):(e(m!=null&&m.oa!=null),m.pa<m.Yc?(m.b+=8,m.I=m.oa[m.pa++]|m.I<<8):m.Ka?m.b=0:(m.I<<=8,m.b+=8,m.Ka=1))}function _e(m){return Z(m,1)}function Oe(m,y){var _=m.Ca;0>m.b&&Be(m);var T=m.b,G=_*y>>>8,Y=(m.I>>>T>G)+0;for(Y?(_-=G,m.I-=G+1<<T>>>0):_=G+1,T=_,G=0;256<=T;)G+=8,T>>=8;return T=7^G+eA[T],m.b-=T,m.Ca=(_<<T)-1,Y}function He(m,y,_){m[y+0]=_>>24&255,m[y+1]=_>>16&255,m[y+2]=_>>8&255,m[y+3]=255&_}function it(m,y){return m[y+0]|m[y+1]<<8}function me(m,y){return it(m,y)|m[y+2]<<16}function Me(m,y){return it(m,y)|it(m,y+2)<<16}function H(m,y){var _=1<<y;return e(m!=null),e(0<y),m.X=o(_),m.X==null?0:(m.Mb=32-y,m.Xa=y,1)}function Ke(m,y){e(m!=null),e(y!=null),e(m.Xa==y.Xa),n(y.X,0,m.X,0,1<<y.Xa)}function rt(){this.X=[],this.Xa=this.Mb=0}function pt(m,y,_,T){e(_!=null),e(T!=null);var G=_[0],Y=T[0];return G==0&&(G=(m*Y+y/2)/y),Y==0&&(Y=(y*G+m/2)/m),0>=G||0>=Y?0:(_[0]=G,T[0]=Y,1)}function Pe(m,y){return m+(1<<y)-1>>>y}function st(m,y){return((4278255360&m)+(4278255360&y)>>>0&4278255360)+((16711935&m)+(16711935&y)>>>0&16711935)>>>0}function dt(m,y){S[y]=function(_,T,G,Y,W,se,oe){var de;for(de=0;de<W;++de){var we=S[m](se[oe+de-1],G,Y+de);se[oe+de]=st(_[T+de],we)}}}function Mt(){this.ud=this.hd=this.jd=0}function St(m,y){return((4278124286&(m^y))>>>1)+(m&y)>>>0}function Yt(m){return 0<=m&&256>m?m:0>m?0:255<m?255:void 0}function cr(m,y){return Yt(m+(m-y+.5>>1))}function ar(m,y,_){return Math.abs(y-_)-Math.abs(m-_)}function ur(m,y,_,T,G,Y,W){for(T=Y[W-1],_=0;_<G;++_)Y[W+_]=T=st(m[y+_],T)}function dr(m,y,_,T,G){var Y;for(Y=0;Y<_;++Y){var W=m[y+Y],se=W>>8&255,oe=16711935&(oe=(oe=16711935&W)+((se<<16)+se));T[G+Y]=(4278255360&W)+oe>>>0}}function jt(m,y){y.jd=255&m,y.hd=m>>8&255,y.ud=m>>16&255}function hr(m,y,_,T,G,Y){var W;for(W=0;W<T;++W){var se=y[_+W],oe=se>>>8,de=se,we=255&(we=(we=se>>>16)+((m.jd<<24>>24)*(oe<<24>>24)>>>5));de=255&(de=(de+=(m.hd<<24>>24)*(oe<<24>>24)>>>5)+((m.ud<<24>>24)*(we<<24>>24)>>>5)),G[Y+W]=(4278255360&se)+(we<<16)+de}}function Bt(m,y,_,T,G){S[y]=function(Y,W,se,oe,de,we,Fe,ce,Ne){for(oe=Fe;oe<ce;++oe)for(Fe=0;Fe<Ne;++Fe)de[we++]=G(se[T(Y[W++])])},S[m]=function(Y,W,se,oe,de,we,Fe){var ce=8>>Y.b,Ne=Y.Ea,je=Y.K[0],Ge=Y.w;if(8>ce)for(Y=(1<<Y.b)-1,Ge=(1<<ce)-1;W<se;++W){var Te,ze=0;for(Te=0;Te<Ne;++Te)Te&Y||(ze=T(oe[de++])),we[Fe++]=G(je[ze&Ge]),ze>>=ce}else S["VP8LMapColor"+_](oe,de,je,Ge,we,Fe,W,se,Ne)}}function De(m,y,_,T,G){for(_=y+_;y<_;){var Y=m[y++];T[G++]=Y>>16&255,T[G++]=Y>>8&255,T[G++]=255&Y}}function ft(m,y,_,T,G){for(_=y+_;y<_;){var Y=m[y++];T[G++]=Y>>16&255,T[G++]=Y>>8&255,T[G++]=255&Y,T[G++]=Y>>24&255}}function ct(m,y,_,T,G){for(_=y+_;y<_;){var Y=(W=m[y++])>>16&240|W>>12&15,W=240&W|W>>28&15;T[G++]=Y,T[G++]=W}}function yt(m,y,_,T,G){for(_=y+_;y<_;){var Y=(W=m[y++])>>16&248|W>>13&7,W=W>>5&224|W>>3&31;T[G++]=Y,T[G++]=W}}function qt(m,y,_,T,G){for(_=y+_;y<_;){var Y=m[y++];T[G++]=255&Y,T[G++]=Y>>8&255,T[G++]=Y>>16&255}}function xt(m,y,_,T,G,Y){if(Y==0)for(_=y+_;y<_;)He(T,((Y=m[y++])[0]>>24|Y[1]>>8&65280|Y[2]<<8&16711680|Y[3]<<24)>>>0),G+=32;else n(T,G,m,y,_)}function Ar(m,y){S[y][0]=S[m+"0"],S[y][1]=S[m+"1"],S[y][2]=S[m+"2"],S[y][3]=S[m+"3"],S[y][4]=S[m+"4"],S[y][5]=S[m+"5"],S[y][6]=S[m+"6"],S[y][7]=S[m+"7"],S[y][8]=S[m+"8"],S[y][9]=S[m+"9"],S[y][10]=S[m+"10"],S[y][11]=S[m+"11"],S[y][12]=S[m+"12"],S[y][13]=S[m+"13"],S[y][14]=S[m+"0"],S[y][15]=S[m+"0"]}function Rt(m){return m==Mu||m==Kd||m==wc||m==zd}function Pt(){this.eb=[],this.size=this.A=this.fb=0}function Ir(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Tt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Pt,this.f.kb=new Ir,this.sd=null}function Nt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function fr(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function In(m){return alert("todo:WebPSamplerProcessPlane"),m.T}function Dn(m,y){var _=m.T,T=y.ba.f.RGBA,G=T.eb,Y=T.fb+m.ka*T.A,W=Ys[y.ba.S],se=m.y,oe=m.O,de=m.f,we=m.N,Fe=m.ea,ce=m.W,Ne=y.cc,je=y.dc,Ge=y.Mc,Te=y.Nc,ze=m.ka,Ye=m.ka+m.T,At=m.U,tt=At+1>>1;for(ze==0?W(se,oe,null,null,de,we,Fe,ce,de,we,Fe,ce,G,Y,null,null,At):(W(y.ec,y.fc,se,oe,Ne,je,Ge,Te,de,we,Fe,ce,G,Y-T.A,G,Y,At),++_);ze+2<Ye;ze+=2)Ne=de,je=we,Ge=Fe,Te=ce,we+=m.Rc,ce+=m.Rc,Y+=2*T.A,W(se,(oe+=2*m.fa)-m.fa,se,oe,Ne,je,Ge,Te,de,we,Fe,ce,G,Y-T.A,G,Y,At);return oe+=m.fa,m.j+Ye<m.o?(n(y.ec,y.fc,se,oe,At),n(y.cc,y.dc,de,we,tt),n(y.Mc,y.Nc,Fe,ce,tt),_--):1&Ye||W(se,oe,null,null,de,we,Fe,ce,de,we,Fe,ce,G,Y+T.A,null,null,At),_}function jn(m,y,_){var T=m.F,G=[m.J];if(T!=null){var Y=m.U,W=y.ba.S,se=W==Ou||W==wc;y=y.ba.f.RGBA;var oe=[0],de=m.ka;oe[0]=m.T,m.Kb&&(de==0?--oe[0]:(--de,G[0]-=m.width),m.j+m.ka+m.T==m.o&&(oe[0]=m.o-m.j-de));var we=y.eb;de=y.fb+de*y.A,m=Qu(T,G[0],m.width,Y,oe,we,de+(se?0:3),y.A),e(_==oe),m&&Rt(W)&&Il(we,de,se,Y,oe,y.A)}return 0}function An(m){var y=m.ma,_=y.ba.S,T=11>_,G=_==da||_==Si||_==Ou||_==yc||_==12||Rt(_);if(y.memory=null,y.Ib=null,y.Jb=null,y.Nd=null,!Zo(y.Oa,m,G?11:12))return 0;if(G&&Rt(_)&&mr(),m.da)alert("todo:use_scaling");else{if(T){if(y.Ib=In,m.Kb){if(_=m.U+1>>1,y.memory=o(m.U+2*_),y.memory==null)return 0;y.ec=y.memory,y.fc=0,y.cc=y.ec,y.dc=y.fc+m.U,y.Mc=y.cc,y.Nc=y.dc+_,y.Ib=Dn,mr()}}else alert("todo:EmitYUV");G&&(y.Jb=jn,T&&Le())}if(T&&!VA){for(m=0;256>m;++m)Ws[m]=89858*(m-128)+Nc>>ki,Ab[m]=-22014*(m-128)+Nc,wm[m]=-45773*(m-128),Yd[m]=113618*(m-128)+Nc>>ki;for(m=Fl;m<HA;++m)y=76283*(m-16)+Nc>>ki,lb[m-Fl]=Na(y,255),cb[m-Fl]=Na(y+8>>4,15);VA=1}return 1}function Ft(m){var y=m.ma,_=m.U,T=m.T;return e(!(1&m.ka)),0>=_||0>=T?0:(_=y.Ib(m,y),y.Jb!=null&&y.Jb(m,y,_),y.Dc+=_,1)}function et(m){m.ma.memory=null}function gt(m,y,_,T){return $(m,8)!=47?0:(y[0]=$(m,14)+1,_[0]=$(m,14)+1,T[0]=$(m,1),$(m,3)!=0?0:!m.h)}function Gt(m,y){if(4>m)return m+1;var _=m-2>>1;return(2+(1&m)<<_)+$(y,_)+1}function _t(m,y){return 120<y?y-120:1<=(_=((_=ji[y-1])>>4)*m+(8-(15&_)))?_:1;var _}function at(m,y,_){var T=te(_),G=m[y+=255&T].g-8;return 0<G&&(fe(_,_.u+8),T=te(_),y+=m[y].value,y+=T&(1<<G)-1),fe(_,_.u+m[y].g),m[y].value}function wt(m,y,_){return _.g+=m.g,_.value+=m.value<<y>>>0,e(8>=_.g),m.g}function Dt(m,y,_){var T=m.xc;return e((y=T==0?0:m.vc[m.md*(_>>T)+(y>>T)])<m.Wb),m.Ya[y]}function kt(m,y,_,T){var G=m.ab,Y=m.c*y,W=m.C;y=W+y;var se=_,oe=T;for(T=m.Ta,_=m.Ua;0<G--;){var de=m.gc[G],we=W,Fe=y,ce=se,Ne=oe,je=(oe=T,se=_,de.Ea);switch(e(we<Fe),e(Fe<=de.nc),de.hc){case 2:os(ce,Ne,(Fe-we)*je,oe,se);break;case 0:var Ge=we,Te=Fe,ze=oe,Ye=se,At=(Qt=de).Ea;Ge==0&&(mc(ce,Ne,null,null,1,ze,Ye),ur(ce,Ne+1,0,0,At-1,ze,Ye+1),Ne+=At,Ye+=At,++Ge);for(var tt=1<<Qt.b,Vt=tt-1,Ct=Pe(At,Qt.b),pr=Qt.K,Qt=Qt.w+(Ge>>Qt.b)*Ct;Ge<Te;){var Fr=pr,Fn=Qt,vr=1;for(pc(ce,Ne,ze,Ye-At,1,ze,Ye);vr<At;){var Et=(vr&~Vt)+tt;Et>At&&(Et=At),(0,tA[Fr[Fn++]>>8&15])(ce,Ne+ +vr,ze,Ye+vr-At,Et-vr,ze,Ye+vr),vr=Et}Ne+=At,Ye+=At,++Ge&Vt||(Qt+=Ct)}Fe!=de.nc&&n(oe,se-je,oe,se+(Fe-we-1)*je,je);break;case 1:for(je=ce,Te=Ne,At=(ce=de.Ea)-(Ye=ce&~(ze=(Ne=1<<de.b)-1)),Ge=Pe(ce,de.b),tt=de.K,de=de.w+(we>>de.b)*Ge;we<Fe;){for(Vt=tt,Ct=de,pr=new Mt,Qt=Te+Ye,Fr=Te+ce;Te<Qt;)jt(Vt[Ct++],pr),xc(pr,je,Te,Ne,oe,se),Te+=Ne,se+=Ne;Te<Fr&&(jt(Vt[Ct++],pr),xc(pr,je,Te,At,oe,se),Te+=At,se+=At),++we&ze||(de+=Ge)}break;case 3:if(ce==oe&&Ne==se&&0<de.b){for(Te=oe,ce=je=se+(Fe-we)*je-(Ye=(Fe-we)*Pe(de.Ea,de.b)),Ne=oe,ze=se,Ge=[],Ye=(At=Ye)-1;0<=Ye;--Ye)Ge[Ye]=Ne[ze+Ye];for(Ye=At-1;0<=Ye;--Ye)Te[ce+Ye]=Ge[Ye];Od(de,we,Fe,oe,je,oe,se)}else Od(de,we,Fe,ce,Ne,oe,se)}se=T,oe=_}oe!=_&&n(T,_,se,oe,Y)}function ir(m,y){var _=m.V,T=m.Ba+m.c*m.C,G=y-m.C;if(e(y<=m.l.o),e(16>=G),0<G){var Y=m.l,W=m.Ta,se=m.Ua,oe=Y.width;if(kt(m,G,_,T),G=se=[se],e((_=m.C)<(T=y)),e(Y.v<Y.va),T>Y.o&&(T=Y.o),_<Y.j){var de=Y.j-_;_=Y.j,G[0]+=de*oe}if(_>=T?_=0:(G[0]+=4*Y.v,Y.ka=_-Y.j,Y.U=Y.va-Y.v,Y.T=T-_,_=1),_){if(se=se[0],11>(_=m.ca).S){var we=_.f.RGBA,Fe=(T=_.S,G=Y.U,Y=Y.T,de=we.eb,we.A),ce=Y;for(we=we.fb+m.Ma*we.A;0<ce--;){var Ne=W,je=se,Ge=G,Te=de,ze=we;switch(T){case Hd:bc(Ne,je,Ge,Te,ze);break;case da:rA(Ne,je,Ge,Te,ze);break;case Mu:rA(Ne,je,Ge,Te,ze),Il(Te,ze,0,Ge,1,0);break;case Vd:El(Ne,je,Ge,Te,ze);break;case Si:xt(Ne,je,Ge,Te,ze,1);break;case Kd:xt(Ne,je,Ge,Te,ze,1),Il(Te,ze,0,Ge,1,0);break;case Ou:xt(Ne,je,Ge,Te,ze,0);break;case wc:xt(Ne,je,Ge,Te,ze,0),Il(Te,ze,1,Ge,1,0);break;case yc:nA(Ne,je,Ge,Te,ze);break;case zd:nA(Ne,je,Ge,Te,ze),Ei(Te,ze,Ge,1,0);break;case RA:So(Ne,je,Ge,Te,ze);break;default:e(0)}se+=oe,we+=Fe}m.Ma+=Y}else alert("todo:EmitRescaledRowsYUVA");e(m.Ma<=_.height)}}m.C=y,e(m.C<=m.i)}function bt(m){var y;if(0<m.ua)return 0;for(y=0;y<m.Wb;++y){var _=m.Ya[y].G,T=m.Ya[y].H;if(0<_[1][T[1]+0].g||0<_[2][T[2]+0].g||0<_[3][T[3]+0].g)return 0}return 1}function wr(m,y,_,T,G,Y){if(m.Z!=0){var W=m.qd,se=m.rd;for(e(iA[m.Z]!=null);y<_;++y)iA[m.Z](W,se,T,G,T,G,Y),W=T,se=G,G+=Y;m.qd=W,m.rd=se}}function On(m,y){var _=m.l.ma,T=_.Z==0||_.Z==1?m.l.j:m.C;if(T=m.C<T?T:m.C,e(y<=m.l.o),y>T){var G=m.l.width,Y=_.ca,W=_.tb+G*T,se=m.V,oe=m.Ba+m.c*T,de=m.gc;e(m.ab==1),e(de[0].hc==3),Eo(de[0],T,y,se,oe,Y,W),wr(_,T,y,Y,W,G)}m.C=m.Ma=y}function aa(m,y,_,T,G,Y,W){var se=m.$/T,oe=m.$%T,de=m.m,we=m.s,Fe=_+m.$,ce=Fe;G=_+T*G;var Ne=_+T*Y,je=280+we.ua,Ge=m.Pb?se:16777216,Te=0<we.ua?we.Wa:null,ze=we.wc,Ye=Fe<Ne?Dt(we,oe,se):null;e(m.C<Y),e(Ne<=G);var At=!1;e:for(;;){for(;At||Fe<Ne;){var tt=0;if(se>=Ge){var Vt=Fe-_;e((Ge=m).Pb),Ge.wd=Ge.m,Ge.xd=Vt,0<Ge.s.ua&&Ke(Ge.s.Wa,Ge.s.vb),Ge=se+DA}if(oe&ze||(Ye=Dt(we,oe,se)),e(Ye!=null),Ye.Qb&&(y[Fe]=Ye.qb,At=!0),!At)if(ge(de),Ye.jc){tt=de,Vt=y;var Ct=Fe,pr=Ye.pd[te(tt)&LA-1];e(Ye.jc),256>pr.g?(fe(tt,tt.u+pr.g),Vt[Ct]=pr.value,tt=0):(fe(tt,tt.u+pr.g-256),e(256<=pr.value),tt=pr.value),tt==0&&(At=!0)}else tt=at(Ye.G[0],Ye.H[0],de);if(de.h)break;if(At||256>tt){if(!At)if(Ye.nd)y[Fe]=(Ye.qb|tt<<8)>>>0;else{if(ge(de),At=at(Ye.G[1],Ye.H[1],de),ge(de),Vt=at(Ye.G[2],Ye.H[2],de),Ct=at(Ye.G[3],Ye.H[3],de),de.h)break;y[Fe]=(Ct<<24|At<<16|tt<<8|Vt)>>>0}if(At=!1,++Fe,++oe>=T&&(oe=0,++se,W!=null&&se<=Y&&!(se%16)&&W(m,se),Te!=null))for(;ce<Fe;)tt=y[ce++],Te.X[(506832829*tt&4294967295)>>>Te.Mb]=tt}else if(280>tt){if(tt=Gt(tt-256,de),Vt=at(Ye.G[4],Ye.H[4],de),ge(de),Vt=_t(T,Vt=Gt(Vt,de)),de.h)break;if(Fe-_<Vt||G-Fe<tt)break e;for(Ct=0;Ct<tt;++Ct)y[Fe+Ct]=y[Fe+Ct-Vt];for(Fe+=tt,oe+=tt;oe>=T;)oe-=T,++se,W!=null&&se<=Y&&!(se%16)&&W(m,se);if(e(Fe<=G),oe&ze&&(Ye=Dt(we,oe,se)),Te!=null)for(;ce<Fe;)tt=y[ce++],Te.X[(506832829*tt&4294967295)>>>Te.Mb]=tt}else{if(!(tt<je))break e;for(At=tt-280,e(Te!=null);ce<Fe;)tt=y[ce++],Te.X[(506832829*tt&4294967295)>>>Te.Mb]=tt;tt=Fe,e(!(At>>>(Vt=Te).Xa)),y[tt]=Vt.X[At],At=!0}At||e(de.h==re(de))}if(m.Pb&&de.h&&Fe<G)e(m.m.h),m.a=5,m.m=m.wd,m.$=m.xd,0<m.s.ua&&Ke(m.s.vb,m.s.Wa);else{if(de.h)break e;W!=null&&W(m,se>Y?Y:se),m.a=0,m.$=Fe-_}return 1}return m.a=3,0}function Oa(m){e(m!=null),m.vc=null,m.yc=null,m.Ya=null;var y=m.Wa;y!=null&&(y.X=null),m.vb=null,e(m!=null)}function mo(){var m=new tr;return m==null?null:(m.a=0,m.xb=qf,Ar("Predictor","VP8LPredictors"),Ar("Predictor","VP8LPredictors_C"),Ar("PredictorAdd","VP8LPredictorsAdd"),Ar("PredictorAdd","VP8LPredictorsAdd_C"),os=dr,xc=hr,bc=De,rA=ft,nA=ct,So=yt,El=qt,S.VP8LMapColor32b=Co,S.VP8LMapColor8b=Gs,m)}function ii(m,y,_,T,G){var Y=1,W=[m],se=[y],oe=T.m,de=T.s,we=null,Fe=0;e:for(;;){if(_)for(;Y&&$(oe,1);){var ce=W,Ne=se,je=T,Ge=1,Te=je.m,ze=je.gc[je.ab],Ye=$(Te,2);if(je.Oc&1<<Ye)Y=0;else{switch(je.Oc|=1<<Ye,ze.hc=Ye,ze.Ea=ce[0],ze.nc=Ne[0],ze.K=[null],++je.ab,e(4>=je.ab),Ye){case 0:case 1:ze.b=$(Te,3)+2,Ge=ii(Pe(ze.Ea,ze.b),Pe(ze.nc,ze.b),0,je,ze.K),ze.K=ze.K[0];break;case 3:var At,tt=$(Te,8)+1,Vt=16<tt?0:4<tt?1:2<tt?2:3;if(ce[0]=Pe(ze.Ea,Vt),ze.b=Vt,At=Ge=ii(tt,1,0,je,ze.K)){var Ct,pr=tt,Qt=ze,Fr=1<<(8>>Qt.b),Fn=o(Fr);if(Fn==null)At=0;else{var vr=Qt.K[0],Et=Qt.w;for(Fn[0]=Qt.K[0][0],Ct=1;Ct<1*pr;++Ct)Fn[Ct]=st(vr[Et+Ct],Fn[Ct-1]);for(;Ct<4*Fr;++Ct)Fn[Ct]=0;Qt.K[0]=null,Qt.K[0]=Fn,At=1}}Ge=At;break;case 2:break;default:e(0)}Y=Ge}}if(W=W[0],se=se[0],Y&&$(oe,1)&&!(Y=1<=(Fe=$(oe,4))&&11>=Fe)){T.a=3;break e}var ht;if(ht=Y)t:{var Pn,or,_r,rn=T,Ns=W,Js=se,Nn=Fe,hs=_,ha=rn.m,fs=rn.s,Sr=[null],qr=1,Hn=0,Wr=Ti[Nn];r:for(;;){if(hs&&$(ha,1)){var _s=$(ha,3)+2,Vn=Pe(Ns,_s),Gr=Pe(Js,_s),cs=Vn*Gr;if(!ii(Vn,Gr,0,rn,Sr))break r;for(Sr=Sr[0],fs.xc=_s,Pn=0;Pn<cs;++Pn){var nn=Sr[Pn]>>8&65535;Sr[Pn]=nn,nn>=qr&&(qr=nn+1)}}if(ha.h)break r;for(or=0;5>or;++or){var gs=Tl[or];!or&&0<Nn&&(gs+=1<<Nn),Hn<gs&&(Hn=gs)}var ms=l(qr*Wr,Q),dn=qr,Kr=l(dn,xe);if(Kr==null)var fa=null;else e(65536>=dn),fa=Kr;var Yn=o(Hn);if(fa==null||Yn==null||ms==null){rn.a=1;break r}var er=ms;for(Pn=_r=0;Pn<qr;++Pn){var rr=fa[Pn],$r=rr.G,za=rr.H,Qi=0,Ua=1,ps=0;for(or=0;5>or;++or){gs=Tl[or],$r[or]=er,za[or]=_r,!or&&0<Nn&&(gs+=1<<Nn);s:{var KA,zA=gs,Jd=rn,_n=Yn,$f=er,Xf=_r,Zd=0,oA=Jd.m,ub=$(oA,1);if(s(_n,0,0,zA),ub){var Yf=$(oA,1)+1,Wf=$(oA,1),eh=$(oA,Wf==0?1:8);_n[eh]=1,Yf==2&&(_n[eh=$(oA,8)]=1);var Rs=1}else{var Wn=o(19),Ku=$(oA,4)+4;if(19<Ku){Jd.a=3;var qA=0;break s}for(KA=0;KA<Ku;++KA)Wn[Pu[KA]]=$(oA,3);var Cc=void 0,kl=void 0,To=Jd,th=Wn,Ec=zA,rh=_n,nh=0,AA=To.m,Jf=8,Zf=l(128,Q);n:for(;F(Zf,0,7,th,19);){if($(AA,1)){var vm=2+2*$(AA,3);if((Cc=2+$(AA,vm))>Ec)break n}else Cc=Ec;for(kl=0;kl<Ec&&Cc--;){ge(AA);var e0=Zf[0+(127&te(AA))];fe(AA,AA.u+e0.g);var GA=e0.value;if(16>GA)rh[kl++]=GA,GA!=0&&(Jf=GA);else{var Bm=GA==16,Nm=GA-16,_m=vc[Nm],t0=$(AA,Ii[Nm])+_m;if(kl+t0>Ec)break n;for(var Cm=Bm?Jf:0;0<t0--;)rh[kl++]=Cm}}nh=1;break n}nh||(To.a=3),Rs=nh}(Rs=Rs&&!oA.h)&&(Zd=F($f,Xf,8,_n,zA)),Rs&&Zd!=0?qA=Zd:(Jd.a=3,qA=0)}if(qA==0)break r;if(Ua&&qd[or]==1&&(Ua=er[_r].g==0),Qi+=er[_r].g,_r+=qA,3>=or){var Ql,sh=Yn[0];for(Ql=1;Ql<gs;++Ql)Yn[Ql]>sh&&(sh=Yn[Ql]);ps+=sh}}if(rr.nd=Ua,rr.Qb=0,Ua&&(rr.qb=($r[3][za[3]+0].value<<24|$r[1][za[1]+0].value<<16|$r[2][za[2]+0].value)>>>0,Qi==0&&256>$r[0][za[0]+0].value&&(rr.Qb=1,rr.qb+=$r[0][za[0]+0].value<<8)),rr.jc=!rr.Qb&&6>ps,rr.jc){var zu,Uo=rr;for(zu=0;zu<LA;++zu){var lA=zu,cA=Uo.pd[lA],ah=Uo.G[0][Uo.H[0]+lA];256<=ah.value?(cA.g=ah.g+256,cA.value=ah.value):(cA.g=0,cA.value=0,lA>>=wt(ah,8,cA),lA>>=wt(Uo.G[1][Uo.H[1]+lA],16,cA),lA>>=wt(Uo.G[2][Uo.H[2]+lA],0,cA),wt(Uo.G[3][Uo.H[3]+lA],24,cA))}}}fs.vc=Sr,fs.Wb=qr,fs.Ya=fa,fs.yc=ms,ht=1;break t}ht=0}if(!(Y=ht)){T.a=3;break e}if(0<Fe){if(de.ua=1<<Fe,!H(de.Wa,Fe)){T.a=1,Y=0;break e}}else de.ua=0;var ih=T,Ll=W,Em=se,Sc=ih.s,Ic=Sc.xc;if(ih.c=Ll,ih.i=Em,Sc.md=Pe(Ll,Ic),Sc.wc=Ic==0?-1:(1<<Ic)-1,_){T.xb=OA;break e}if((we=o(W*se))==null){T.a=1,Y=0;break e}Y=(Y=aa(T,we,0,W,se,se,null))&&!oe.h;break e}return Y?(G!=null?G[0]=we:(e(we==null),e(_)),T.$=0,_||Oa(de)):Oa(de),Y}function ia(m,y){var _=m.c*m.i,T=_+y+16*y;return e(m.c<=y),m.V=o(T),m.V==null?(m.Ta=null,m.Ua=0,m.a=1,0):(m.Ta=m.V,m.Ua=m.Ba+_+y,1)}function Gi(m,y){var _=m.C,T=y-_,G=m.V,Y=m.Ba+m.c*_;for(e(y<=m.l.o);0<T;){var W=16<T?16:T,se=m.l.ma,oe=m.l.width,de=oe*W,we=se.ca,Fe=se.tb+oe*_,ce=m.Ta,Ne=m.Ua;kt(m,W,G,Y),fi(ce,Ne,we,Fe,de),wr(se,_,_+W,we,Fe,oe),T-=W,G+=W*m.c,_+=W}e(_==y),m.C=m.Ma=y}function va(){this.ub=this.yd=this.td=this.Rb=0}function Vs(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Ba(){this.Fb=this.Bb=this.Cb=0,this.Zb=o(4),this.Lb=o(4)}function Ma(){this.Yb=(function(){var m=[];return(function y(_,T,G){for(var Y=G[T],W=0;W<Y&&(_.push(G.length>T+1?[]:0),!(G.length<T+1));W++)y(_[W],T+1,G)})(m,0,[3,11]),m})()}function Mn(){this.jb=o(3),this.Wc=c([4,8],Ma),this.Xc=c([4,17],Ma)}function SA(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new o(4),this.od=new o(4)}function oa(){this.ld=this.La=this.dd=this.tc=0}function Pa(){this.Na=this.la=0}function oi(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function qo(){this.ad=o(384),this.Za=0,this.Ob=o(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function IA(){this.uc=this.M=this.Nb=0,this.wa=Array(new oa),this.Y=0,this.ya=Array(new qo),this.aa=0,this.l=new ks}function jA(){this.y=o(16),this.f=o(8),this.ea=o(8)}function yl(){this.cb=this.a=0,this.sc="",this.m=new D,this.Od=new va,this.Kc=new Vs,this.ed=new SA,this.Qa=new Ba,this.Ic=this.$c=this.Aa=0,this.D=new IA,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=l(8,D),this.ia=0,this.pb=l(4,oi),this.Pa=new Mn,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new jA),this.Hd=0,this.rb=Array(new Pa),this.sb=0,this.wa=Array(new oa),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new qo),this.L=this.aa=0,this.gd=c([4,2],oa),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Na(m,y){return 0>m?0:m>y?y:m}function ks(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Gn(){var m=new yl;return m!=null&&(m.a=0,m.sc="OK",m.cb=0,m.Xb=0,gi||(gi=Rr)),m}function jr(m,y,_){return m.a==0&&(m.a=y,m.sc=_,m.cb=0),0}function $i(m,y,_){return 3<=_&&m[y+0]==157&&m[y+1]==1&&m[y+2]==42}function Ha(m,y){if(m==null)return 0;if(m.a=0,m.sc="OK",y==null)return jr(m,2,"null VP8Io passed to VP8GetHeaders()");var _=y.data,T=y.w,G=y.ha;if(4>G)return jr(m,7,"Truncated header.");var Y=_[T+0]|_[T+1]<<8|_[T+2]<<16,W=m.Od;if(W.Rb=!(1&Y),W.td=Y>>1&7,W.yd=Y>>4&1,W.ub=Y>>5,3<W.td)return jr(m,3,"Incorrect keyframe parameters.");if(!W.yd)return jr(m,4,"Frame not displayable.");T+=3,G-=3;var se=m.Kc;if(W.Rb){if(7>G)return jr(m,7,"cannot parse picture header");if(!$i(_,T,G))return jr(m,3,"Bad code word");se.c=16383&(_[T+4]<<8|_[T+3]),se.Td=_[T+4]>>6,se.i=16383&(_[T+6]<<8|_[T+5]),se.Ud=_[T+6]>>6,T+=7,G-=7,m.za=se.c+15>>4,m.Ub=se.i+15>>4,y.width=se.c,y.height=se.i,y.Da=0,y.j=0,y.v=0,y.va=y.width,y.o=y.height,y.da=0,y.ib=y.width,y.hb=y.height,y.U=y.width,y.T=y.height,s((Y=m.Pa).jb,0,255,Y.jb.length),e((Y=m.Qa)!=null),Y.Cb=0,Y.Bb=0,Y.Fb=1,s(Y.Zb,0,0,Y.Zb.length),s(Y.Lb,0,0,Y.Lb)}if(W.ub>G)return jr(m,7,"bad partition length");ie(Y=m.m,_,T,W.ub),T+=W.ub,G-=W.ub,W.Rb&&(se.Ld=_e(Y),se.Kd=_e(Y)),se=m.Qa;var oe,de=m.Pa;if(e(Y!=null),e(se!=null),se.Cb=_e(Y),se.Cb){if(se.Bb=_e(Y),_e(Y)){for(se.Fb=_e(Y),oe=0;4>oe;++oe)se.Zb[oe]=_e(Y)?Ae(Y,7):0;for(oe=0;4>oe;++oe)se.Lb[oe]=_e(Y)?Ae(Y,6):0}if(se.Bb)for(oe=0;3>oe;++oe)de.jb[oe]=_e(Y)?Z(Y,8):255}else se.Bb=0;if(Y.Ka)return jr(m,3,"cannot parse segment header");if((se=m.ed).zd=_e(Y),se.Tb=Z(Y,6),se.wb=Z(Y,3),se.Pc=_e(Y),se.Pc&&_e(Y)){for(de=0;4>de;++de)_e(Y)&&(se.vd[de]=Ae(Y,6));for(de=0;4>de;++de)_e(Y)&&(se.od[de]=Ae(Y,6))}if(m.L=se.Tb==0?0:se.zd?1:2,Y.Ka)return jr(m,3,"cannot parse filter header");var we=G;if(G=oe=T,T=oe+we,se=we,m.Xb=(1<<Z(m.m,2))-1,we<3*(de=m.Xb))_=7;else{for(oe+=3*de,se-=3*de,we=0;we<de;++we){var Fe=_[G+0]|_[G+1]<<8|_[G+2]<<16;Fe>se&&(Fe=se),ie(m.Jc[+we],_,oe,Fe),oe+=Fe,se-=Fe,G+=3}ie(m.Jc[+de],_,oe,se),_=oe<T?0:5}if(_!=0)return jr(m,_,"cannot parse partitions");for(_=Z(oe=m.m,7),G=_e(oe)?Ae(oe,4):0,T=_e(oe)?Ae(oe,4):0,se=_e(oe)?Ae(oe,4):0,de=_e(oe)?Ae(oe,4):0,oe=_e(oe)?Ae(oe,4):0,we=m.Qa,Fe=0;4>Fe;++Fe){if(we.Cb){var ce=we.Zb[Fe];we.Fb||(ce+=_)}else{if(0<Fe){m.pb[Fe]=m.pb[0];continue}ce=_}var Ne=m.pb[Fe];Ne.Sc[0]=Ui[Na(ce+G,127)],Ne.Sc[1]=Fi[Na(ce+0,127)],Ne.Eb[0]=2*Ui[Na(ce+T,127)],Ne.Eb[1]=101581*Fi[Na(ce+se,127)]>>16,8>Ne.Eb[1]&&(Ne.Eb[1]=8),Ne.Qc[0]=Ui[Na(ce+de,117)],Ne.Qc[1]=Fi[Na(ce+oe,127)],Ne.lc=ce+oe}if(!W.Rb)return jr(m,4,"Not a key frame.");for(_e(Y),W=m.Pa,_=0;4>_;++_){for(G=0;8>G;++G)for(T=0;3>T;++T)for(se=0;11>se;++se)de=Oe(Y,Un[_][G][T][se])?Z(Y,8):ym[_][G][T][se],W.Wc[_][G].Yb[T][se]=de;for(G=0;17>G;++G)W.Xc[_][G]=W.Wc[_][kr[G]]}return m.kc=_e(Y),m.kc&&(m.Bd=Z(Y,8)),m.cb=1}function Rr(m,y,_,T,G,Y,W){var se=y[G].Yb[_];for(_=0;16>G;++G){if(!Oe(m,se[_+0]))return G;for(;!Oe(m,se[_+1]);)if(se=y[++G].Yb[0],_=0,G==16)return 16;var oe=y[G+1].Yb;if(Oe(m,se[_+2])){var de=m,we=0;if(Oe(de,(ce=se)[(Fe=_)+3]))if(Oe(de,ce[Fe+6])){for(se=0,Fe=2*(we=Oe(de,ce[Fe+8]))+(ce=Oe(de,ce[Fe+9+we])),we=0,ce=bm[Fe];ce[se];++se)we+=we+Oe(de,ce[se]);we+=3+(8<<Fe)}else Oe(de,ce[Fe+7])?(we=7+2*Oe(de,165),we+=Oe(de,145)):we=5+Oe(de,159);else we=Oe(de,ce[Fe+4])?3+Oe(de,ce[Fe+5]):2;se=oe[2]}else we=1,se=oe[1];oe=W+zf[G],0>(de=m).b&&Be(de);var Fe,ce=de.b,Ne=(Fe=de.Ca>>1)-(de.I>>ce)>>31;--de.b,de.Ca+=Ne,de.Ca|=1,de.I-=(Fe+1&Ne)<<ce,Y[oe]=((we^Ne)-Ne)*T[(0<G)+0]}return 16}function po(m){var y=m.rb[m.sb-1];y.la=0,y.Na=0,s(m.zc,0,0,m.zc.length),m.ja=0}function as(m,y,_,T,G){G=m[y+_+32*T]+(G>>3),m[y+_+32*T]=-256&G?0>G?0:255:G}function Tn(m,y,_,T,G,Y){as(m,y,0,_,T+G),as(m,y,1,_,T+Y),as(m,y,2,_,T-Y),as(m,y,3,_,T-G)}function $n(m){return(20091*m>>16)+m}function Go(m,y,_,T){var G,Y=0,W=o(16);for(G=0;4>G;++G){var se=m[y+0]+m[y+8],oe=m[y+0]-m[y+8],de=(35468*m[y+4]>>16)-$n(m[y+12]),we=$n(m[y+4])+(35468*m[y+12]>>16);W[Y+0]=se+we,W[Y+1]=oe+de,W[Y+2]=oe-de,W[Y+3]=se-we,Y+=4,y++}for(G=Y=0;4>G;++G)se=(m=W[Y+0]+4)+W[Y+8],oe=m-W[Y+8],de=(35468*W[Y+4]>>16)-$n(W[Y+12]),as(_,T,0,0,se+(we=$n(W[Y+4])+(35468*W[Y+12]>>16))),as(_,T,1,0,oe+de),as(_,T,2,0,oe-de),as(_,T,3,0,se-we),Y++,T+=32}function fc(m,y,_,T){var G=m[y+0]+4,Y=35468*m[y+4]>>16,W=$n(m[y+4]),se=35468*m[y+1]>>16;Tn(_,T,0,G+W,m=$n(m[y+1]),se),Tn(_,T,1,G+Y,m,se),Tn(_,T,2,G-Y,m,se),Tn(_,T,3,G-W,m,se)}function wl(m,y,_,T,G){Go(m,y,_,T),G&&Go(m,y+16,_,T+4)}function Ks(m,y,_,T){sA(m,y+0,_,T,1),sA(m,y+32,_,T+128,1)}function vl(m,y,_,T){var G;for(m=m[y+0]+4,G=0;4>G;++G)for(y=0;4>y;++y)as(_,T,y,G,m)}function Xi(m,y,_,T){m[y+0]&&Yr(m,y+0,_,T),m[y+16]&&Yr(m,y+16,_,T+4),m[y+32]&&Yr(m,y+32,_,T+128),m[y+48]&&Yr(m,y+48,_,T+128+4)}function vs(m,y,_,T){var G,Y=o(16);for(G=0;4>G;++G){var W=m[y+0+G]+m[y+12+G],se=m[y+4+G]+m[y+8+G],oe=m[y+4+G]-m[y+8+G],de=m[y+0+G]-m[y+12+G];Y[0+G]=W+se,Y[8+G]=W-se,Y[4+G]=de+oe,Y[12+G]=de-oe}for(G=0;4>G;++G)W=(m=Y[0+4*G]+3)+Y[3+4*G],se=Y[1+4*G]+Y[2+4*G],oe=Y[1+4*G]-Y[2+4*G],de=m-Y[3+4*G],_[T+0]=W+se>>3,_[T+16]=de+oe>>3,_[T+32]=W-se>>3,_[T+48]=de-oe>>3,T+=64}function xo(m,y,_){var T,G=y-32,Y=ua,W=255-m[G-1];for(T=0;T<_;++T){var se,oe=Y,de=W+m[y-1];for(se=0;se<_;++se)m[y+se]=oe[de+m[G+se]];y+=32}}function Bl(m,y){xo(m,y,4)}function Nl(m,y){xo(m,y,8)}function TA(m,y){xo(m,y,16)}function UA(m,y){var _;for(_=0;16>_;++_)n(m,y+32*_,m,y-32,16)}function Yi(m,y){var _;for(_=16;0<_;--_)s(m,y,m[y-1],16),y+=32}function Aa(m,y,_){var T;for(T=0;16>T;++T)s(y,_+32*T,m,16)}function Ai(m,y){var _,T=16;for(_=0;16>_;++_)T+=m[y-1+32*_]+m[y+_-32];Aa(T>>5,m,y)}function Wi(m,y){var _,T=8;for(_=0;16>_;++_)T+=m[y-1+32*_];Aa(T>>4,m,y)}function la(m,y){var _,T=8;for(_=0;16>_;++_)T+=m[y+_-32];Aa(T>>4,m,y)}function bo(m,y){Aa(128,m,y)}function Zt(m,y,_){return m+2*y+_+2>>2}function $o(m,y){var _,T=y-32;for(T=new Uint8Array([Zt(m[T-1],m[T+0],m[T+1]),Zt(m[T+0],m[T+1],m[T+2]),Zt(m[T+1],m[T+2],m[T+3]),Zt(m[T+2],m[T+3],m[T+4])]),_=0;4>_;++_)n(m,y+32*_,T,0,T.length)}function FA(m,y){var _=m[y-1],T=m[y-1+32],G=m[y-1+64],Y=m[y-1+96];He(m,y+0,16843009*Zt(m[y-1-32],_,T)),He(m,y+32,16843009*Zt(_,T,G)),He(m,y+64,16843009*Zt(T,G,Y)),He(m,y+96,16843009*Zt(G,Y,Y))}function yo(m,y){var _,T=4;for(_=0;4>_;++_)T+=m[y+_-32]+m[y-1+32*_];for(T>>=3,_=0;4>_;++_)s(m,y+32*_,T,4)}function Bs(m,y){var _=m[y-1+0],T=m[y-1+32],G=m[y-1+64],Y=m[y-1-32],W=m[y+0-32],se=m[y+1-32],oe=m[y+2-32],de=m[y+3-32];m[y+0+96]=Zt(T,G,m[y-1+96]),m[y+1+96]=m[y+0+64]=Zt(_,T,G),m[y+2+96]=m[y+1+64]=m[y+0+32]=Zt(Y,_,T),m[y+3+96]=m[y+2+64]=m[y+1+32]=m[y+0+0]=Zt(W,Y,_),m[y+3+64]=m[y+2+32]=m[y+1+0]=Zt(se,W,Y),m[y+3+32]=m[y+2+0]=Zt(oe,se,W),m[y+3+0]=Zt(de,oe,se)}function ds(m,y){var _=m[y+1-32],T=m[y+2-32],G=m[y+3-32],Y=m[y+4-32],W=m[y+5-32],se=m[y+6-32],oe=m[y+7-32];m[y+0+0]=Zt(m[y+0-32],_,T),m[y+1+0]=m[y+0+32]=Zt(_,T,G),m[y+2+0]=m[y+1+32]=m[y+0+64]=Zt(T,G,Y),m[y+3+0]=m[y+2+32]=m[y+1+64]=m[y+0+96]=Zt(G,Y,W),m[y+3+32]=m[y+2+64]=m[y+1+96]=Zt(Y,W,se),m[y+3+64]=m[y+2+96]=Zt(W,se,oe),m[y+3+96]=Zt(se,oe,oe)}function Xo(m,y){var _=m[y-1+0],T=m[y-1+32],G=m[y-1+64],Y=m[y-1-32],W=m[y+0-32],se=m[y+1-32],oe=m[y+2-32],de=m[y+3-32];m[y+0+0]=m[y+1+64]=Y+W+1>>1,m[y+1+0]=m[y+2+64]=W+se+1>>1,m[y+2+0]=m[y+3+64]=se+oe+1>>1,m[y+3+0]=oe+de+1>>1,m[y+0+96]=Zt(G,T,_),m[y+0+64]=Zt(T,_,Y),m[y+0+32]=m[y+1+96]=Zt(_,Y,W),m[y+1+32]=m[y+2+96]=Zt(Y,W,se),m[y+2+32]=m[y+3+96]=Zt(W,se,oe),m[y+3+32]=Zt(se,oe,de)}function Jr(m,y){var _=m[y+0-32],T=m[y+1-32],G=m[y+2-32],Y=m[y+3-32],W=m[y+4-32],se=m[y+5-32],oe=m[y+6-32],de=m[y+7-32];m[y+0+0]=_+T+1>>1,m[y+1+0]=m[y+0+64]=T+G+1>>1,m[y+2+0]=m[y+1+64]=G+Y+1>>1,m[y+3+0]=m[y+2+64]=Y+W+1>>1,m[y+0+32]=Zt(_,T,G),m[y+1+32]=m[y+0+96]=Zt(T,G,Y),m[y+2+32]=m[y+1+96]=Zt(G,Y,W),m[y+3+32]=m[y+2+96]=Zt(Y,W,se),m[y+3+64]=Zt(W,se,oe),m[y+3+96]=Zt(se,oe,de)}function _a(m,y){var _=m[y-1+0],T=m[y-1+32],G=m[y-1+64],Y=m[y-1+96];m[y+0+0]=_+T+1>>1,m[y+2+0]=m[y+0+32]=T+G+1>>1,m[y+2+32]=m[y+0+64]=G+Y+1>>1,m[y+1+0]=Zt(_,T,G),m[y+3+0]=m[y+1+32]=Zt(T,G,Y),m[y+3+32]=m[y+1+64]=Zt(G,Y,Y),m[y+3+64]=m[y+2+64]=m[y+0+96]=m[y+1+96]=m[y+2+96]=m[y+3+96]=Y}function Yo(m,y){var _=m[y-1+0],T=m[y-1+32],G=m[y-1+64],Y=m[y-1+96],W=m[y-1-32],se=m[y+0-32],oe=m[y+1-32],de=m[y+2-32];m[y+0+0]=m[y+2+32]=_+W+1>>1,m[y+0+32]=m[y+2+64]=T+_+1>>1,m[y+0+64]=m[y+2+96]=G+T+1>>1,m[y+0+96]=Y+G+1>>1,m[y+3+0]=Zt(se,oe,de),m[y+2+0]=Zt(W,se,oe),m[y+1+0]=m[y+3+32]=Zt(_,W,se),m[y+1+32]=m[y+3+64]=Zt(T,_,W),m[y+1+64]=m[y+3+96]=Zt(G,T,_),m[y+1+96]=Zt(Y,G,T)}function li(m,y){var _;for(_=0;8>_;++_)n(m,y+32*_,m,y-32,8)}function _l(m,y){var _;for(_=0;8>_;++_)s(m,y,m[y-1],8),y+=32}function Ca(m,y,_){var T;for(T=0;8>T;++T)s(y,_+32*T,m,8)}function Ji(m,y){var _,T=8;for(_=0;8>_;++_)T+=m[y+_-32]+m[y-1+32*_];Ca(T>>4,m,y)}function Ea(m,y){var _,T=4;for(_=0;8>_;++_)T+=m[y+_-32];Ca(T>>3,m,y)}function is(m,y){var _,T=4;for(_=0;8>_;++_)T+=m[y-1+32*_];Ca(T>>3,m,y)}function wi(m,y){Ca(128,m,y)}function Qs(m,y,_){var T=m[y-_],G=m[y+0],Y=3*(G-T)+aA[1020+m[y-2*_]-m[y+_]],W=Du[112+(Y+4>>3)];m[y-_]=ua[255+T+Du[112+(Y+3>>3)]],m[y+0]=ua[255+G-W]}function vi(m,y,_,T){var G=m[y+0],Y=m[y+_];return $s[255+m[y-2*_]-m[y-_]]>T||$s[255+Y-G]>T}function wo(m,y,_,T){return 4*$s[255+m[y-_]-m[y+0]]+$s[255+m[y-2*_]-m[y+_]]<=T}function Bi(m,y,_,T,G){var Y=m[y-3*_],W=m[y-2*_],se=m[y-_],oe=m[y+0],de=m[y+_],we=m[y+2*_],Fe=m[y+3*_];return 4*$s[255+se-oe]+$s[255+W-de]>T?0:$s[255+m[y-4*_]-Y]<=G&&$s[255+Y-W]<=G&&$s[255+W-se]<=G&&$s[255+Fe-we]<=G&&$s[255+we-de]<=G&&$s[255+de-oe]<=G}function Ni(m,y,_,T){var G=2*T+1;for(T=0;16>T;++T)wo(m,y+T,_,G)&&Qs(m,y+T,_)}function Va(m,y,_,T){var G=2*T+1;for(T=0;16>T;++T)wo(m,y+T*_,1,G)&&Qs(m,y+T*_,1)}function Wo(m,y,_,T){var G;for(G=3;0<G;--G)Ni(m,y+=4*_,_,T)}function kA(m,y,_,T){var G;for(G=3;0<G;--G)Va(m,y+=4,_,T)}function Sa(m,y,_,T,G,Y,W,se){for(Y=2*Y+1;0<G--;){if(Bi(m,y,_,Y,W))if(vi(m,y,_,se))Qs(m,y,_);else{var oe=m,de=y,we=_,Fe=oe[de-2*we],ce=oe[de-we],Ne=oe[de+0],je=oe[de+we],Ge=oe[de+2*we],Te=27*(Ye=aA[1020+3*(Ne-ce)+aA[1020+Fe-je]])+63>>7,ze=18*Ye+63>>7,Ye=9*Ye+63>>7;oe[de-3*we]=ua[255+oe[de-3*we]+Ye],oe[de-2*we]=ua[255+Fe+ze],oe[de-we]=ua[255+ce+Te],oe[de+0]=ua[255+Ne-Te],oe[de+we]=ua[255+je-ze],oe[de+2*we]=ua[255+Ge-Ye]}y+=T}}function _i(m,y,_,T,G,Y,W,se){for(Y=2*Y+1;0<G--;){if(Bi(m,y,_,Y,W))if(vi(m,y,_,se))Qs(m,y,_);else{var oe=m,de=y,we=_,Fe=oe[de-we],ce=oe[de+0],Ne=oe[de+we],je=Du[112+(4+(Ge=3*(ce-Fe))>>3)],Ge=Du[112+(Ge+3>>3)],Te=je+1>>1;oe[de-2*we]=ua[255+oe[de-2*we]+Te],oe[de-we]=ua[255+Fe+Ge],oe[de+0]=ua[255+ce-je],oe[de+we]=ua[255+Ne-Te]}y+=T}}function Cl(m,y,_,T,G,Y){Sa(m,y,_,1,16,T,G,Y)}function ci(m,y,_,T,G,Y){Sa(m,y,1,_,16,T,G,Y)}function QA(m,y,_,T,G,Y){var W;for(W=3;0<W;--W)_i(m,y+=4*_,_,1,16,T,G,Y)}function N(m,y,_,T,G,Y){var W;for(W=3;0<W;--W)_i(m,y+=4,1,_,16,T,G,Y)}function K(m,y,_,T,G,Y,W,se){Sa(m,y,G,1,8,Y,W,se),Sa(_,T,G,1,8,Y,W,se)}function ue(m,y,_,T,G,Y,W,se){Sa(m,y,1,G,8,Y,W,se),Sa(_,T,1,G,8,Y,W,se)}function ye(m,y,_,T,G,Y,W,se){_i(m,y+4*G,G,1,8,Y,W,se),_i(_,T+4*G,G,1,8,Y,W,se)}function Ce(m,y,_,T,G,Y,W,se){_i(m,y+4,1,G,8,Y,W,se),_i(_,T+4,1,G,8,Y,W,se)}function $e(){this.ba=new Tt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new fr,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function nt(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Ut(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Ht(){this.ua=0,this.Wa=new rt,this.vb=new rt,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new xe,this.yc=new Q}function tr(){this.xb=this.a=0,this.l=new ks,this.ca=new Tt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new q,this.Pb=0,this.wd=new q,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Ht,this.ab=0,this.gc=l(4,Ut),this.Oc=0}function Wt(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new ks,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Ur(m,y,_,T,G,Y,W){for(m=m==null?0:m[y+0],y=0;y<W;++y)G[Y+y]=m+_[T+y]&255,m=G[Y+y]}function wn(m,y,_,T,G,Y,W){var se;if(m==null)Ur(null,null,_,T,G,Y,W);else for(se=0;se<W;++se)G[Y+se]=m[y+se]+_[T+se]&255}function ln(m,y,_,T,G,Y,W){if(m==null)Ur(null,null,_,T,G,Y,W);else{var se,oe=m[y+0],de=oe,we=oe;for(se=0;se<W;++se)de=we+(oe=m[y+se])-de,we=_[T+se]+(-256&de?0>de?0:255:de)&255,de=oe,G[Y+se]=we}}function p(m,y,_,T){var G=y.width,Y=y.o;if(e(m!=null&&y!=null),0>_||0>=T||_+T>Y)return null;if(!m.Cc){if(m.ga==null){var W;if(m.ga=new Wt,(W=m.ga==null)||(W=y.width*y.o,e(m.Gb.length==0),m.Gb=o(W),m.Uc=0,m.Gb==null?W=0:(m.mb=m.Gb,m.nb=m.Uc,m.rc=null,W=1),W=!W),!W){W=m.ga;var se=m.Fa,oe=m.P,de=m.qc,we=m.mb,Fe=m.nb,ce=oe+1,Ne=de-1,je=W.l;if(e(se!=null&&we!=null&&y!=null),iA[0]=null,iA[1]=Ur,iA[2]=wn,iA[3]=ln,W.ca=we,W.tb=Fe,W.c=y.width,W.i=y.height,e(0<W.c&&0<W.i),1>=de)y=0;else if(W.$a=3&se[oe+0],W.Z=se[oe+0]>>2&3,W.Lc=se[oe+0]>>4&3,oe=se[oe+0]>>6&3,0>W.$a||1<W.$a||4<=W.Z||1<W.Lc||oe)y=0;else if(je.put=Ft,je.ac=An,je.bc=et,je.ma=W,je.width=y.width,je.height=y.height,je.Da=y.Da,je.v=y.v,je.va=y.va,je.j=y.j,je.o=y.o,W.$a)e:{e(W.$a==1),y=mo();t:for(;;){if(y==null){y=0;break e}if(e(W!=null),W.mc=y,y.c=W.c,y.i=W.i,y.l=W.l,y.l.ma=W,y.l.width=W.c,y.l.height=W.i,y.a=0,be(y.m,se,ce,Ne),!ii(W.c,W.i,1,y,null)||(y.ab==1&&y.gc[0].hc==3&&bt(y.s)?(W.ic=1,se=y.c*y.i,y.Ta=null,y.Ua=0,y.V=o(se),y.Ba=0,y.V==null?(y.a=1,y=0):y=1):(W.ic=0,y=ia(y,W.c)),!y))break t;y=1;break e}W.mc=null,y=0}else y=Ne>=W.c*W.i;W=!y}if(W)return null;m.ga.Lc!=1?m.Ga=0:T=Y-_}e(m.ga!=null),e(_+T<=Y);e:{if(y=(se=m.ga).c,Y=se.l.o,se.$a==0){if(ce=m.rc,Ne=m.Vc,je=m.Fa,oe=m.P+1+_*y,de=m.mb,we=m.nb+_*y,e(oe<=m.P+m.qc),se.Z!=0)for(e(iA[se.Z]!=null),W=0;W<T;++W)iA[se.Z](ce,Ne,je,oe,de,we,y),ce=de,Ne=we,we+=y,oe+=y;else for(W=0;W<T;++W)n(de,we,je,oe,y),ce=de,Ne=we,we+=y,oe+=y;m.rc=ce,m.Vc=Ne}else{if(e(se.mc!=null),y=_+T,e((W=se.mc)!=null),e(y<=W.i),W.C>=y)y=1;else if(se.ic||Le(),se.ic){se=W.V,ce=W.Ba,Ne=W.c;var Ge=W.i,Te=(je=1,oe=W.$/Ne,de=W.$%Ne,we=W.m,Fe=W.s,W.$),ze=Ne*Ge,Ye=Ne*y,At=Fe.wc,tt=Te<Ye?Dt(Fe,de,oe):null;e(Te<=ze),e(y<=Ge),e(bt(Fe));t:for(;;){for(;!we.h&&Te<Ye;){if(de&At||(tt=Dt(Fe,de,oe)),e(tt!=null),ge(we),256>(Ge=at(tt.G[0],tt.H[0],we)))se[ce+Te]=Ge,++Te,++de>=Ne&&(de=0,++oe<=y&&!(oe%16)&&On(W,oe));else{if(!(280>Ge)){je=0;break t}Ge=Gt(Ge-256,we);var Vt,Ct=at(tt.G[4],tt.H[4],we);if(ge(we),!(Te>=(Ct=_t(Ne,Ct=Gt(Ct,we)))&&ze-Te>=Ge)){je=0;break t}for(Vt=0;Vt<Ge;++Vt)se[ce+Te+Vt]=se[ce+Te+Vt-Ct];for(Te+=Ge,de+=Ge;de>=Ne;)de-=Ne,++oe<=y&&!(oe%16)&&On(W,oe);Te<Ye&&de&At&&(tt=Dt(Fe,de,oe))}e(we.h==re(we))}On(W,oe>y?y:oe);break t}!je||we.h&&Te<ze?(je=0,W.a=we.h?5:3):W.$=Te,y=je}else y=aa(W,W.V,W.Ba,W.c,W.i,y,Gi);if(!y){T=0;break e}}_+T>=Y&&(m.Cc=1),T=1}if(!T)return null;if(m.Cc&&((T=m.ga)!=null&&(T.mc=null),m.ga=null,0<m.Ga))return alert("todo:WebPDequantizeLevels"),null}return m.nb+_*G}function C(m,y,_,T,G,Y){for(;0<G--;){var W,se=m,oe=y+(_?1:0),de=m,we=y+(_?0:3);for(W=0;W<T;++W){var Fe=de[we+4*W];Fe!=255&&(Fe*=32897,se[oe+4*W+0]=se[oe+4*W+0]*Fe>>23,se[oe+4*W+1]=se[oe+4*W+1]*Fe>>23,se[oe+4*W+2]=se[oe+4*W+2]*Fe>>23)}y+=Y}}function O(m,y,_,T,G){for(;0<T--;){var Y;for(Y=0;Y<_;++Y){var W=m[y+2*Y+0],se=15&(de=m[y+2*Y+1]),oe=4369*se,de=(240&de|de>>4)*oe>>16;m[y+2*Y+0]=(240&W|W>>4)*oe>>16&240|(15&W|W<<4)*oe>>16>>4&15,m[y+2*Y+1]=240&de|se}y+=G}}function ae(m,y,_,T,G,Y,W,se){var oe,de,we=255;for(de=0;de<G;++de){for(oe=0;oe<T;++oe){var Fe=m[y+oe];Y[W+4*oe]=Fe,we&=Fe}y+=_,W+=se}return we!=255}function Ie(m,y,_,T,G){var Y;for(Y=0;Y<G;++Y)_[T+Y]=m[y+Y]>>8}function Le(){Il=C,Ei=O,Qu=ae,fi=Ie}function lt(m,y,_){S[m]=function(T,G,Y,W,se,oe,de,we,Fe,ce,Ne,je,Ge,Te,ze,Ye,At){var tt,Vt=At-1>>1,Ct=se[oe+0]|de[we+0]<<16,pr=Fe[ce+0]|Ne[je+0]<<16;e(T!=null);var Qt=3*Ct+pr+131074>>2;for(y(T[G+0],255&Qt,Qt>>16,Ge,Te),Y!=null&&(Qt=3*pr+Ct+131074>>2,y(Y[W+0],255&Qt,Qt>>16,ze,Ye)),tt=1;tt<=Vt;++tt){var Fr=se[oe+tt]|de[we+tt]<<16,Fn=Fe[ce+tt]|Ne[je+tt]<<16,vr=Ct+Fr+pr+Fn+524296,Et=vr+2*(Fr+pr)>>3;Qt=Et+Ct>>1,Ct=(vr=vr+2*(Ct+Fn)>>3)+Fr>>1,y(T[G+2*tt-1],255&Qt,Qt>>16,Ge,Te+(2*tt-1)*_),y(T[G+2*tt-0],255&Ct,Ct>>16,Ge,Te+(2*tt-0)*_),Y!=null&&(Qt=vr+pr>>1,Ct=Et+Fn>>1,y(Y[W+2*tt-1],255&Qt,Qt>>16,ze,Ye+(2*tt-1)*_),y(Y[W+2*tt+0],255&Ct,Ct>>16,ze,Ye+(2*tt+0)*_)),Ct=Fr,pr=Fn}1&At||(Qt=3*Ct+pr+131074>>2,y(T[G+At-1],255&Qt,Qt>>16,Ge,Te+(At-1)*_),Y!=null&&(Qt=3*pr+Ct+131074>>2,y(Y[W+At-1],255&Qt,Qt>>16,ze,Ye+(At-1)*_)))}}function mr(){Ys[Hd]=Ul,Ys[da]=Bc,Ys[Vd]=Gf,Ys[Si]=$d,Ys[Ou]=MA,Ys[yc]=jo,Ys[RA]=PA,Ys[Mu]=Bc,Ys[Kd]=$d,Ys[wc]=MA,Ys[zd]=jo}function vn(m){return m&-16384?0>m?0:255:m>>Xd}function Er(m,y){return vn((19077*m>>8)+(26149*y>>8)-14234)}function Zr(m,y,_){return vn((19077*m>>8)-(6419*y>>8)-(13320*_>>8)+8708)}function Ls(m,y){return vn((19077*m>>8)+(33050*y>>8)-17685)}function zs(m,y,_,T,G){T[G+0]=Er(m,_),T[G+1]=Zr(m,y,_),T[G+2]=Ls(m,y)}function un(m,y,_,T,G){T[G+0]=Ls(m,y),T[G+1]=Zr(m,y,_),T[G+2]=Er(m,_)}function qs(m,y,_,T,G){var Y=Zr(m,y,_);y=Y<<3&224|Ls(m,y)>>3,T[G+0]=248&Er(m,_)|Y>>5,T[G+1]=y}function ui(m,y,_,T,G){var Y=240&Ls(m,y)|15;T[G+0]=240&Er(m,_)|Zr(m,y,_)>>4,T[G+1]=Y}function vo(m,y,_,T,G){T[G+0]=255,zs(m,y,_,T,G+1)}function Bo(m,y,_,T,G){un(m,y,_,T,G),T[G+3]=255}function Ia(m,y,_,T,G){zs(m,y,_,T,G),T[G+3]=255}function Jo(m,y,_){S[m]=function(T,G,Y,W,se,oe,de,we,Fe){for(var ce=we+(-2&Fe)*_;we!=ce;)y(T[G+0],Y[W+0],se[oe+0],de,we),y(T[G+1],Y[W+0],se[oe+0],de,we+_),G+=2,++W,++oe,we+=2*_;1&Fe&&y(T[G+0],Y[W+0],se[oe+0],de,we)}}function gc(m,y,_){return _==0?m==0?y==0?6:5:y==0?4:0:_}function Uu(m,y,_,T,G){switch(m>>>30){case 3:sA(y,_,T,G,0);break;case 2:ca(y,_,T,G);break;case 1:Yr(y,_,T,G)}}function di(m,y){var _,T,G=y.M,Y=y.Nb,W=m.oc,se=m.pc+40,oe=m.oc,de=m.pc+584,we=m.oc,Fe=m.pc+600;for(_=0;16>_;++_)W[se+32*_-1]=129;for(_=0;8>_;++_)oe[de+32*_-1]=129,we[Fe+32*_-1]=129;for(0<G?W[se-1-32]=oe[de-1-32]=we[Fe-1-32]=129:(s(W,se-32-1,127,21),s(oe,de-32-1,127,9),s(we,Fe-32-1,127,9)),T=0;T<m.za;++T){var ce=y.ya[y.aa+T];if(0<T){for(_=-1;16>_;++_)n(W,se+32*_-4,W,se+32*_+12,4);for(_=-1;8>_;++_)n(oe,de+32*_-4,oe,de+32*_+4,4),n(we,Fe+32*_-4,we,Fe+32*_+4,4)}var Ne=m.Gd,je=m.Hd+T,Ge=ce.ad,Te=ce.Hc;if(0<G&&(n(W,se-32,Ne[je].y,0,16),n(oe,de-32,Ne[je].f,0,8),n(we,Fe-32,Ne[je].ea,0,8)),ce.Za){var ze=W,Ye=se-32+16;for(0<G&&(T>=m.za-1?s(ze,Ye,Ne[je].y[15],4):n(ze,Ye,Ne[je+1].y,0,4)),_=0;4>_;_++)ze[Ye+128+_]=ze[Ye+256+_]=ze[Ye+384+_]=ze[Ye+0+_];for(_=0;16>_;++_,Te<<=2)ze=W,Ye=se+ls[_],Xn[ce.Ob[_]](ze,Ye),Uu(Te,Ge,16*+_,ze,Ye)}else if(ze=gc(T,G,ce.Ob[0]),Ta[ze](W,se),Te!=0)for(_=0;16>_;++_,Te<<=2)Uu(Te,Ge,16*+_,W,se+ls[_]);for(_=ce.Gc,ze=gc(T,G,ce.Dd),ro[ze](oe,de),ro[ze](we,Fe),Te=Ge,ze=oe,Ye=de,255&(ce=0|_)&&(170&ce?Ci(Te,256,ze,Ye):Vr(Te,256,ze,Ye)),ce=we,Te=Fe,255&(_>>=8)&&(170&_?Ci(Ge,320,ce,Te):Vr(Ge,320,ce,Te)),G<m.Ub-1&&(n(Ne[je].y,0,W,se+480,16),n(Ne[je].f,0,oe,de+224,8),n(Ne[je].ea,0,we,Fe+224,8)),_=8*Y*m.B,Ne=m.sa,je=m.ta+16*T+16*Y*m.R,Ge=m.qa,ce=m.ra+8*T+_,Te=m.Ha,ze=m.Ia+8*T+_,_=0;16>_;++_)n(Ne,je+_*m.R,W,se+32*_,16);for(_=0;8>_;++_)n(Ge,ce+_*m.B,oe,de+32*_,8),n(Te,ze+_*m.B,we,Fe+32*_,8)}}function Zi(m,y,_,T,G,Y,W,se,oe){var de=[0],we=[0],Fe=0,ce=oe!=null?oe.kd:0,Ne=oe??new nt;if(m==null||12>_)return 7;Ne.data=m,Ne.w=y,Ne.ha=_,y=[y],_=[_],Ne.gb=[Ne.gb];e:{var je=y,Ge=_,Te=Ne.gb;if(e(m!=null),e(Ge!=null),e(Te!=null),Te[0]=0,12<=Ge[0]&&!t(m,je[0],"RIFF")){if(t(m,je[0]+8,"WEBP")){Te=3;break e}var ze=Me(m,je[0]+4);if(12>ze||4294967286<ze){Te=3;break e}if(ce&&ze>Ge[0]-8){Te=7;break e}Te[0]=ze,je[0]+=12,Ge[0]-=12}Te=0}if(Te!=0)return Te;for(ze=0<Ne.gb[0],_=_[0];;){e:{var Ye=m;Ge=y,Te=_;var At=de,tt=we,Vt=je=[0];if((Qt=Fe=[Fe])[0]=0,8>Te[0])Te=7;else{if(!t(Ye,Ge[0],"VP8X")){if(Me(Ye,Ge[0]+4)!=10){Te=3;break e}if(18>Te[0]){Te=7;break e}var Ct=Me(Ye,Ge[0]+8),pr=1+me(Ye,Ge[0]+12);if(2147483648<=pr*(Ye=1+me(Ye,Ge[0]+15))){Te=3;break e}Vt!=null&&(Vt[0]=Ct),At!=null&&(At[0]=pr),tt!=null&&(tt[0]=Ye),Ge[0]+=18,Te[0]-=18,Qt[0]=1}Te=0}}if(Fe=Fe[0],je=je[0],Te!=0)return Te;if(Ge=!!(2&je),!ze&&Fe)return 3;if(Y!=null&&(Y[0]=!!(16&je)),W!=null&&(W[0]=Ge),se!=null&&(se[0]=0),W=de[0],je=we[0],Fe&&Ge&&oe==null){Te=0;break}if(4>_){Te=7;break}if(ze&&Fe||!ze&&!Fe&&!t(m,y[0],"ALPH")){_=[_],Ne.na=[Ne.na],Ne.P=[Ne.P],Ne.Sa=[Ne.Sa];e:{Ct=m,Te=y,ze=_;var Qt=Ne.gb;At=Ne.na,tt=Ne.P,Vt=Ne.Sa,pr=22,e(Ct!=null),e(ze!=null),Ye=Te[0];var Fr=ze[0];for(e(At!=null),e(Vt!=null),At[0]=null,tt[0]=null,Vt[0]=0;;){if(Te[0]=Ye,ze[0]=Fr,8>Fr){Te=7;break e}var Fn=Me(Ct,Ye+4);if(4294967286<Fn){Te=3;break e}var vr=8+Fn+1&-2;if(pr+=vr,0<Qt&&pr>Qt){Te=3;break e}if(!t(Ct,Ye,"VP8 ")||!t(Ct,Ye,"VP8L")){Te=0;break e}if(Fr[0]<vr){Te=7;break e}t(Ct,Ye,"ALPH")||(At[0]=Ct,tt[0]=Ye+8,Vt[0]=Fn),Ye+=vr,Fr-=vr}}if(_=_[0],Ne.na=Ne.na[0],Ne.P=Ne.P[0],Ne.Sa=Ne.Sa[0],Te!=0)break}_=[_],Ne.Ja=[Ne.Ja],Ne.xa=[Ne.xa];e:if(Qt=m,Te=y,ze=_,At=Ne.gb[0],tt=Ne.Ja,Vt=Ne.xa,Ct=Te[0],Ye=!t(Qt,Ct,"VP8 "),pr=!t(Qt,Ct,"VP8L"),e(Qt!=null),e(ze!=null),e(tt!=null),e(Vt!=null),8>ze[0])Te=7;else{if(Ye||pr){if(Qt=Me(Qt,Ct+4),12<=At&&Qt>At-12){Te=3;break e}if(ce&&Qt>ze[0]-8){Te=7;break e}tt[0]=Qt,Te[0]+=8,ze[0]-=8,Vt[0]=pr}else Vt[0]=5<=ze[0]&&Qt[Ct+0]==47&&!(Qt[Ct+4]>>5),tt[0]=ze[0];Te=0}if(_=_[0],Ne.Ja=Ne.Ja[0],Ne.xa=Ne.xa[0],y=y[0],Te!=0)break;if(4294967286<Ne.Ja)return 3;if(se==null||Ge||(se[0]=Ne.xa?2:1),W=[W],je=[je],Ne.xa){if(5>_){Te=7;break}se=W,ce=je,Ge=Y,m==null||5>_?m=0:5<=_&&m[y+0]==47&&!(m[y+4]>>5)?(ze=[0],Qt=[0],At=[0],be(tt=new q,m,y,_),gt(tt,ze,Qt,At)?(se!=null&&(se[0]=ze[0]),ce!=null&&(ce[0]=Qt[0]),Ge!=null&&(Ge[0]=At[0]),m=1):m=0):m=0}else{if(10>_){Te=7;break}se=je,m==null||10>_||!$i(m,y+3,_-3)?m=0:(ce=m[y+0]|m[y+1]<<8|m[y+2]<<16,Ge=16383&(m[y+7]<<8|m[y+6]),m=16383&(m[y+9]<<8|m[y+8]),1&ce||3<(ce>>1&7)||!(ce>>4&1)||ce>>5>=Ne.Ja||!Ge||!m?m=0:(W&&(W[0]=Ge),se&&(se[0]=m),m=1))}if(!m||(W=W[0],je=je[0],Fe&&(de[0]!=W||we[0]!=je)))return 3;oe!=null&&(oe[0]=Ne,oe.offset=y-oe.w,e(4294967286>y-oe.w),e(oe.offset==oe.ha-_));break}return Te==0||Te==7&&Fe&&oe==null?(Y!=null&&(Y[0]|=Ne.na!=null&&0<Ne.na.length),T!=null&&(T[0]=W),G!=null&&(G[0]=je),0):Te}function Zo(m,y,_){var T=y.width,G=y.height,Y=0,W=0,se=T,oe=G;if(y.Da=m!=null&&0<m.Da,y.Da&&(se=m.cd,oe=m.bd,Y=m.v,W=m.j,11>_||(Y&=-2,W&=-2),0>Y||0>W||0>=se||0>=oe||Y+se>T||W+oe>G))return 0;if(y.v=Y,y.j=W,y.va=Y+se,y.o=W+oe,y.U=se,y.T=oe,y.da=m!=null&&0<m.da,y.da){if(!pt(se,oe,_=[m.ib],Y=[m.hb]))return 0;y.ib=_[0],y.hb=Y[0]}return y.ob=m!=null&&m.ob,y.Kb=m==null||!m.Sd,y.da&&(y.ob=y.ib<3*T/4&&y.hb<3*G/4,y.Kb=0),1}function Fu(m){if(m==null)return 2;if(11>m.S){var y=m.f.RGBA;y.fb+=(m.height-1)*y.A,y.A=-y.A}else y=m.f.kb,m=m.height,y.O+=(m-1)*y.fa,y.fa=-y.fa,y.N+=(m-1>>1)*y.Ab,y.Ab=-y.Ab,y.W+=(m-1>>1)*y.Db,y.Db=-y.Db,y.F!=null&&(y.J+=(m-1)*y.lb,y.lb=-y.lb);return 0}function eo(m,y,_,T){if(T==null||0>=m||0>=y)return 2;if(_!=null){if(_.Da){var G=_.cd,Y=_.bd,W=-2&_.v,se=-2&_.j;if(0>W||0>se||0>=G||0>=Y||W+G>m||se+Y>y)return 2;m=G,y=Y}if(_.da){if(!pt(m,y,G=[_.ib],Y=[_.hb]))return 2;m=G[0],y=Y[0]}}T.width=m,T.height=y;e:{var oe=T.width,de=T.height;if(m=T.S,0>=oe||0>=de||!(m>=Hd&&13>m))m=2;else{if(0>=T.Rd&&T.sd==null){W=Y=G=y=0;var we=(se=oe*Wd[m])*de;if(11>m||(Y=(de+1)/2*(y=(oe+1)/2),m==12&&(W=(G=oe)*de)),(de=o(we+2*Y+W))==null){m=1;break e}T.sd=de,11>m?((oe=T.f.RGBA).eb=de,oe.fb=0,oe.A=se,oe.size=we):((oe=T.f.kb).y=de,oe.O=0,oe.fa=se,oe.Fd=we,oe.f=de,oe.N=0+we,oe.Ab=y,oe.Cd=Y,oe.ea=de,oe.W=0+we+Y,oe.Db=y,oe.Ed=Y,m==12&&(oe.F=de,oe.J=0+we+2*Y),oe.Tc=W,oe.lb=G)}if(y=1,G=T.S,Y=T.width,W=T.height,G>=Hd&&13>G)if(11>G)m=T.f.RGBA,y&=(se=Math.abs(m.A))*(W-1)+Y<=m.size,y&=se>=Y*Wd[G],y&=m.eb!=null;else{m=T.f.kb,se=(Y+1)/2,we=(W+1)/2,oe=Math.abs(m.fa),de=Math.abs(m.Ab);var Fe=Math.abs(m.Db),ce=Math.abs(m.lb),Ne=ce*(W-1)+Y;y&=oe*(W-1)+Y<=m.Fd,y&=de*(we-1)+se<=m.Cd,y=(y&=Fe*(we-1)+se<=m.Ed)&oe>=Y&de>=se&Fe>=se,y&=m.y!=null,y&=m.f!=null,y&=m.ea!=null,G==12&&(y&=ce>=Y,y&=Ne<=m.Tc,y&=m.F!=null)}else y=0;m=y?0:2}}return m!=0||_!=null&&_.fd&&(m=Fu(T)),m}var LA=64,Ka=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],ja=24,No=32,_o=8,eA=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];dt("Predictor0","PredictorAdd0"),S.Predictor0=function(){return 4278190080},S.Predictor1=function(m){return m},S.Predictor2=function(m,y,_){return y[_+0]},S.Predictor3=function(m,y,_){return y[_+1]},S.Predictor4=function(m,y,_){return y[_-1]},S.Predictor5=function(m,y,_){return St(St(m,y[_+1]),y[_+0])},S.Predictor6=function(m,y,_){return St(m,y[_-1])},S.Predictor7=function(m,y,_){return St(m,y[_+0])},S.Predictor8=function(m,y,_){return St(y[_-1],y[_+0])},S.Predictor9=function(m,y,_){return St(y[_+0],y[_+1])},S.Predictor10=function(m,y,_){return St(St(m,y[_-1]),St(y[_+0],y[_+1]))},S.Predictor11=function(m,y,_){var T=y[_+0];return 0>=ar(T>>24&255,m>>24&255,(y=y[_-1])>>24&255)+ar(T>>16&255,m>>16&255,y>>16&255)+ar(T>>8&255,m>>8&255,y>>8&255)+ar(255&T,255&m,255&y)?T:m},S.Predictor12=function(m,y,_){var T=y[_+0];return(Yt((m>>24&255)+(T>>24&255)-((y=y[_-1])>>24&255))<<24|Yt((m>>16&255)+(T>>16&255)-(y>>16&255))<<16|Yt((m>>8&255)+(T>>8&255)-(y>>8&255))<<8|Yt((255&m)+(255&T)-(255&y)))>>>0},S.Predictor13=function(m,y,_){var T=y[_-1];return(cr((m=St(m,y[_+0]))>>24&255,T>>24&255)<<24|cr(m>>16&255,T>>16&255)<<16|cr(m>>8&255,T>>8&255)<<8|cr(255&m,255&T))>>>0};var mc=S.PredictorAdd0;S.PredictorAdd1=ur,dt("Predictor2","PredictorAdd2"),dt("Predictor3","PredictorAdd3"),dt("Predictor4","PredictorAdd4"),dt("Predictor5","PredictorAdd5"),dt("Predictor6","PredictorAdd6"),dt("Predictor7","PredictorAdd7"),dt("Predictor8","PredictorAdd8"),dt("Predictor9","PredictorAdd9"),dt("Predictor10","PredictorAdd10"),dt("Predictor11","PredictorAdd11"),dt("Predictor12","PredictorAdd12"),dt("Predictor13","PredictorAdd13");var pc=S.PredictorAdd2;Bt("ColorIndexInverseTransform","MapARGB","32b",function(m){return m>>8&255},function(m){return m}),Bt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(m){return m},function(m){return m>>8&255});var os,Od=S.ColorIndexInverseTransform,Co=S.MapARGB,Eo=S.VP8LColorIndexInverseTransformAlpha,Gs=S.MapAlpha,tA=S.VP8LPredictorsAdd=[];tA.length=16,(S.VP8LPredictors=[]).length=16,(S.VP8LPredictorsAdd_C=[]).length=16,(S.VP8LPredictors_C=[]).length=16;var xc,bc,rA,nA,So,El,hi,sA,ca,Ci,Yr,Vr,Bn,As,Io,to,Sl,ku,Hf,mm,pm,xm,Vf,Kf,Il,Ei,Qu,fi,jl=o(511),Md=o(2041),Lu=o(225),Ru=o(767),Pd=0,aA=Md,Du=Lu,ua=Ru,$s=jl,Hd=0,da=1,Vd=2,Si=3,Ou=4,yc=5,RA=6,Mu=7,Kd=8,wc=9,zd=10,Ii=[2,3,7],vc=[3,3,11],Tl=[280,256,256,256,40],qd=[0,1,1,1,0],Pu=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],ji=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Ti=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],DA=8,Ui=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Fi=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],gi=null,bm=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],zf=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Gd=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],ym=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Xs=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Un=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],kr=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Ta=[],Xn=[],ro=[],OA=1,qf=2,iA=[],Ys=[];lt("UpsampleRgbLinePair",zs,3),lt("UpsampleBgrLinePair",un,3),lt("UpsampleRgbaLinePair",Ia,4),lt("UpsampleBgraLinePair",Bo,4),lt("UpsampleArgbLinePair",vo,4),lt("UpsampleRgba4444LinePair",ui,2),lt("UpsampleRgb565LinePair",qs,2);var Ul=S.UpsampleRgbLinePair,Gf=S.UpsampleBgrLinePair,Bc=S.UpsampleRgbaLinePair,$d=S.UpsampleBgraLinePair,MA=S.UpsampleArgbLinePair,jo=S.UpsampleRgba4444LinePair,PA=S.UpsampleRgb565LinePair,ki=16,Nc=1<<ki-1,Fl=-227,HA=482,Xd=6,VA=0,Ws=o(256),Yd=o(256),wm=o(256),Ab=o(256),lb=o(HA-Fl),cb=o(HA-Fl);Jo("YuvToRgbRow",zs,3),Jo("YuvToBgrRow",un,3),Jo("YuvToRgbaRow",Ia,4),Jo("YuvToBgraRow",Bo,4),Jo("YuvToArgbRow",vo,4),Jo("YuvToRgba4444Row",ui,2),Jo("YuvToRgb565Row",qs,2);var ls=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],_c=[0,2,8],Hu=[8,7,6,4,4,2,2,2,1,1,1,1],Vu=1;this.WebPDecodeRGBA=function(m,y,_,T,G){var Y=da,W=new $e,se=new Tt;W.ba=se,se.S=Y,se.width=[se.width],se.height=[se.height];var oe=se.width,de=se.height,we=new Nt;if(we==null||m==null)var Fe=2;else e(we!=null),Fe=Zi(m,y,_,we.width,we.height,we.Pd,we.Qd,we.format,null);if(Fe!=0?oe=0:(oe!=null&&(oe[0]=we.width[0]),de!=null&&(de[0]=we.height[0]),oe=1),oe){se.width=se.width[0],se.height=se.height[0],T!=null&&(T[0]=se.width),G!=null&&(G[0]=se.height);e:{if(T=new ks,(G=new nt).data=m,G.w=y,G.ha=_,G.kd=1,y=[0],e(G!=null),((m=Zi(G.data,G.w,G.ha,null,null,null,y,null,G))==0||m==7)&&y[0]&&(m=4),(y=m)==0){if(e(W!=null),T.data=G.data,T.w=G.w+G.offset,T.ha=G.ha-G.offset,T.put=Ft,T.ac=An,T.bc=et,T.ma=W,G.xa){if((m=mo())==null){W=1;break e}if((function(ce,Ne){var je=[0],Ge=[0],Te=[0];t:for(;;){if(ce==null)return 0;if(Ne==null)return ce.a=2,0;if(ce.l=Ne,ce.a=0,be(ce.m,Ne.data,Ne.w,Ne.ha),!gt(ce.m,je,Ge,Te)){ce.a=3;break t}if(ce.xb=qf,Ne.width=je[0],Ne.height=Ge[0],!ii(je[0],Ge[0],1,ce,null))break t;return 1}return e(ce.a!=0),0})(m,T)){if(T=(y=eo(T.width,T.height,W.Oa,W.ba))==0){t:{T=m;r:for(;;){if(T==null){T=0;break t}if(e(T.s.yc!=null),e(T.s.Ya!=null),e(0<T.s.Wb),e((_=T.l)!=null),e((G=_.ma)!=null),T.xb!=0){if(T.ca=G.ba,T.tb=G.tb,e(T.ca!=null),!Zo(G.Oa,_,Si)){T.a=2;break r}if(!ia(T,_.width)||_.da)break r;if((_.da||Rt(T.ca.S))&&Le(),11>T.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),T.ca.f.kb.F!=null&&Le()),T.Pb&&0<T.s.ua&&T.s.vb.X==null&&!H(T.s.vb,T.s.Wa.Xa)){T.a=1;break r}T.xb=0}if(!aa(T,T.V,T.Ba,T.c,T.i,_.o,ir))break r;G.Dc=T.Ma,T=1;break t}e(T.a!=0),T=0}T=!T}T&&(y=m.a)}else y=m.a}else{if((m=new Gn)==null){W=1;break e}if(m.Fa=G.na,m.P=G.P,m.qc=G.Sa,Ha(m,T)){if((y=eo(T.width,T.height,W.Oa,W.ba))==0){if(m.Aa=0,_=W.Oa,e((G=m)!=null),_!=null){if(0<(oe=0>(oe=_.Md)?0:100<oe?255:255*oe/100)){for(de=we=0;4>de;++de)12>(Fe=G.pb[de]).lc&&(Fe.ia=oe*Hu[0>Fe.lc?0:Fe.lc]>>3),we|=Fe.ia;we&&(alert("todo:VP8InitRandom"),G.ia=1)}G.Ga=_.Id,100<G.Ga?G.Ga=100:0>G.Ga&&(G.Ga=0)}(function(ce,Ne){if(ce==null)return 0;if(Ne==null)return jr(ce,2,"NULL VP8Io parameter in VP8Decode().");if(!ce.cb&&!Ha(ce,Ne))return 0;if(e(ce.cb),Ne.ac==null||Ne.ac(Ne)){Ne.ob&&(ce.L=0);var je=_c[ce.L];if(ce.L==2?(ce.yb=0,ce.zb=0):(ce.yb=Ne.v-je>>4,ce.zb=Ne.j-je>>4,0>ce.yb&&(ce.yb=0),0>ce.zb&&(ce.zb=0)),ce.Va=Ne.o+15+je>>4,ce.Hb=Ne.va+15+je>>4,ce.Hb>ce.za&&(ce.Hb=ce.za),ce.Va>ce.Ub&&(ce.Va=ce.Ub),0<ce.L){var Ge=ce.ed;for(je=0;4>je;++je){var Te;if(ce.Qa.Cb){var ze=ce.Qa.Lb[je];ce.Qa.Fb||(ze+=Ge.Tb)}else ze=Ge.Tb;for(Te=0;1>=Te;++Te){var Ye=ce.gd[je][Te],At=ze;if(Ge.Pc&&(At+=Ge.vd[0],Te&&(At+=Ge.od[0])),0<(At=0>At?0:63<At?63:At)){var tt=At;0<Ge.wb&&(tt=4<Ge.wb?tt>>2:tt>>1)>9-Ge.wb&&(tt=9-Ge.wb),1>tt&&(tt=1),Ye.dd=tt,Ye.tc=2*At+tt,Ye.ld=40<=At?2:15<=At?1:0}else Ye.tc=0;Ye.La=Te}}}je=0}else jr(ce,6,"Frame setup failed"),je=ce.a;if(je=je==0){if(je){ce.$c=0,0<ce.Aa||(ce.Ic=Vu);t:{je=ce.Ic,Ge=4*(tt=ce.za);var Vt=32*tt,Ct=tt+1,pr=0<ce.L?tt*(0<ce.Aa?2:1):0,Qt=(ce.Aa==2?2:1)*tt;if((Ye=Ge+832+(Te=3*(16*je+_c[ce.L])/2*Vt)+(ze=ce.Fa!=null&&0<ce.Fa.length?ce.Kc.c*ce.Kc.i:0))!=Ye)je=0;else{if(Ye>ce.Vb){if(ce.Vb=0,ce.Ec=o(Ye),ce.Fc=0,ce.Ec==null){je=jr(ce,1,"no memory during frame initialization.");break t}ce.Vb=Ye}Ye=ce.Ec,At=ce.Fc,ce.Ac=Ye,ce.Bc=At,At+=Ge,ce.Gd=l(Vt,jA),ce.Hd=0,ce.rb=l(Ct+1,Pa),ce.sb=1,ce.wa=pr?l(pr,oa):null,ce.Y=0,ce.D.Nb=0,ce.D.wa=ce.wa,ce.D.Y=ce.Y,0<ce.Aa&&(ce.D.Y+=tt),e(!0),ce.oc=Ye,ce.pc=At,At+=832,ce.ya=l(Qt,qo),ce.aa=0,ce.D.ya=ce.ya,ce.D.aa=ce.aa,ce.Aa==2&&(ce.D.aa+=tt),ce.R=16*tt,ce.B=8*tt,tt=(Vt=_c[ce.L])*ce.R,Vt=Vt/2*ce.B,ce.sa=Ye,ce.ta=At+tt,ce.qa=ce.sa,ce.ra=ce.ta+16*je*ce.R+Vt,ce.Ha=ce.qa,ce.Ia=ce.ra+8*je*ce.B+Vt,ce.$c=0,At+=Te,ce.mb=ze?Ye:null,ce.nb=ze?At:null,e(At+ze<=ce.Fc+ce.Vb),po(ce),s(ce.Ac,ce.Bc,0,Ge),je=1}}if(je){if(Ne.ka=0,Ne.y=ce.sa,Ne.O=ce.ta,Ne.f=ce.qa,Ne.N=ce.ra,Ne.ea=ce.Ha,Ne.Vd=ce.Ia,Ne.fa=ce.R,Ne.Rc=ce.B,Ne.F=null,Ne.J=0,!Pd){for(je=-255;255>=je;++je)jl[255+je]=0>je?-je:je;for(je=-1020;1020>=je;++je)Md[1020+je]=-128>je?-128:127<je?127:je;for(je=-112;112>=je;++je)Lu[112+je]=-16>je?-16:15<je?15:je;for(je=-255;510>=je;++je)Ru[255+je]=0>je?0:255<je?255:je;Pd=1}hi=vs,sA=wl,Ci=Ks,Yr=vl,Vr=Xi,ca=fc,Bn=Cl,As=ci,Io=K,to=ue,Sl=QA,ku=N,Hf=ye,mm=Ce,pm=Ni,xm=Va,Vf=Wo,Kf=kA,Xn[0]=yo,Xn[1]=Bl,Xn[2]=$o,Xn[3]=FA,Xn[4]=Bs,Xn[5]=Xo,Xn[6]=ds,Xn[7]=Jr,Xn[8]=Yo,Xn[9]=_a,Ta[0]=Ai,Ta[1]=TA,Ta[2]=UA,Ta[3]=Yi,Ta[4]=Wi,Ta[5]=la,Ta[6]=bo,ro[0]=Ji,ro[1]=Nl,ro[2]=li,ro[3]=_l,ro[4]=is,ro[5]=Ea,ro[6]=wi,je=1}else je=0}je&&(je=(function(Fr,Fn){for(Fr.M=0;Fr.M<Fr.Va;++Fr.M){var vr,Et=Fr.Jc[Fr.M&Fr.Xb],ht=Fr.m,Pn=Fr;for(vr=0;vr<Pn.za;++vr){var or=ht,_r=Pn,rn=_r.Ac,Ns=_r.Bc+4*vr,Js=_r.zc,Nn=_r.ya[_r.aa+vr];if(_r.Qa.Bb?Nn.$b=Oe(or,_r.Pa.jb[0])?2+Oe(or,_r.Pa.jb[2]):Oe(or,_r.Pa.jb[1]):Nn.$b=0,_r.kc&&(Nn.Ad=Oe(or,_r.Bd)),Nn.Za=!Oe(or,145)+0,Nn.Za){var hs=Nn.Ob,ha=0;for(_r=0;4>_r;++_r){var fs,Sr=Js[0+_r];for(fs=0;4>fs;++fs){Sr=Xs[rn[Ns+fs]][Sr];for(var qr=Gd[Oe(or,Sr[0])];0<qr;)qr=Gd[2*qr+Oe(or,Sr[qr])];Sr=-qr,rn[Ns+fs]=Sr}n(hs,ha,rn,Ns,4),ha+=4,Js[0+_r]=Sr}}else Sr=Oe(or,156)?Oe(or,128)?1:3:Oe(or,163)?2:0,Nn.Ob[0]=Sr,s(rn,Ns,Sr,4),s(Js,0,Sr,4);Nn.Dd=Oe(or,142)?Oe(or,114)?Oe(or,183)?1:3:2:0}if(Pn.m.Ka)return jr(Fr,7,"Premature end-of-partition0 encountered.");for(;Fr.ja<Fr.za;++Fr.ja){if(Pn=Et,or=(ht=Fr).rb[ht.sb-1],rn=ht.rb[ht.sb+ht.ja],vr=ht.ya[ht.aa+ht.ja],Ns=ht.kc?vr.Ad:0)or.la=rn.la=0,vr.Za||(or.Na=rn.Na=0),vr.Hc=0,vr.Gc=0,vr.ia=0;else{var Hn,Wr;if(or=rn,rn=Pn,Ns=ht.Pa.Xc,Js=ht.ya[ht.aa+ht.ja],Nn=ht.pb[Js.$b],_r=Js.ad,hs=0,ha=ht.rb[ht.sb-1],Sr=fs=0,s(_r,hs,0,384),Js.Za)var _s=0,Vn=Ns[3];else{qr=o(16);var Gr=or.Na+ha.Na;if(Gr=gi(rn,Ns[1],Gr,Nn.Eb,0,qr,0),or.Na=ha.Na=(0<Gr)+0,1<Gr)hi(qr,0,_r,hs);else{var cs=qr[0]+3>>3;for(qr=0;256>qr;qr+=16)_r[hs+qr]=cs}_s=1,Vn=Ns[0]}var nn=15&or.la,gs=15&ha.la;for(qr=0;4>qr;++qr){var ms=1&gs;for(cs=Wr=0;4>cs;++cs)nn=nn>>1|(ms=(Gr=gi(rn,Vn,Gr=ms+(1&nn),Nn.Sc,_s,_r,hs))>_s)<<7,Wr=Wr<<2|(3<Gr?3:1<Gr?2:_r[hs+0]!=0),hs+=16;nn>>=4,gs=gs>>1|ms<<7,fs=(fs<<8|Wr)>>>0}for(Vn=nn,_s=gs>>4,Hn=0;4>Hn;Hn+=2){for(Wr=0,nn=or.la>>4+Hn,gs=ha.la>>4+Hn,qr=0;2>qr;++qr){for(ms=1&gs,cs=0;2>cs;++cs)Gr=ms+(1&nn),nn=nn>>1|(ms=0<(Gr=gi(rn,Ns[2],Gr,Nn.Qc,0,_r,hs)))<<3,Wr=Wr<<2|(3<Gr?3:1<Gr?2:_r[hs+0]!=0),hs+=16;nn>>=2,gs=gs>>1|ms<<5}Sr|=Wr<<4*Hn,Vn|=nn<<4<<Hn,_s|=(240&gs)<<Hn}or.la=Vn,ha.la=_s,Js.Hc=fs,Js.Gc=Sr,Js.ia=43690&Sr?0:Nn.ia,Ns=!(fs|Sr)}if(0<ht.L&&(ht.wa[ht.Y+ht.ja]=ht.gd[vr.$b][vr.Za],ht.wa[ht.Y+ht.ja].La|=!Ns),Pn.Ka)return jr(Fr,7,"Premature end-of-file encountered.")}if(po(Fr),ht=Fn,Pn=1,vr=(Et=Fr).D,or=0<Et.L&&Et.M>=Et.zb&&Et.M<=Et.Va,Et.Aa==0)t:{if(vr.M=Et.M,vr.uc=or,di(Et,vr),Pn=1,vr=(Wr=Et.D).Nb,or=(Sr=_c[Et.L])*Et.R,rn=Sr/2*Et.B,qr=16*vr*Et.R,cs=8*vr*Et.B,Ns=Et.sa,Js=Et.ta-or+qr,Nn=Et.qa,_r=Et.ra-rn+cs,hs=Et.Ha,ha=Et.Ia-rn+cs,gs=(nn=Wr.M)==0,fs=nn>=Et.Va-1,Et.Aa==2&&di(Et,Wr),Wr.uc)for(ms=(Gr=Et).D.M,e(Gr.D.uc),Wr=Gr.yb;Wr<Gr.Hb;++Wr){_s=Wr,Vn=ms;var dn=(Kr=(ps=Gr).D).Nb;Hn=ps.R;var Kr=Kr.wa[Kr.Y+_s],fa=ps.sa,Yn=ps.ta+16*dn*Hn+16*_s,er=Kr.dd,rr=Kr.tc;if(rr!=0)if(e(3<=rr),ps.L==1)0<_s&&xm(fa,Yn,Hn,rr+4),Kr.La&&Kf(fa,Yn,Hn,rr),0<Vn&&pm(fa,Yn,Hn,rr+4),Kr.La&&Vf(fa,Yn,Hn,rr);else{var $r=ps.B,za=ps.qa,Qi=ps.ra+8*dn*$r+8*_s,Ua=ps.Ha,ps=ps.Ia+8*dn*$r+8*_s;dn=Kr.ld,0<_s&&(As(fa,Yn,Hn,rr+4,er,dn),to(za,Qi,Ua,ps,$r,rr+4,er,dn)),Kr.La&&(ku(fa,Yn,Hn,rr,er,dn),mm(za,Qi,Ua,ps,$r,rr,er,dn)),0<Vn&&(Bn(fa,Yn,Hn,rr+4,er,dn),Io(za,Qi,Ua,ps,$r,rr+4,er,dn)),Kr.La&&(Sl(fa,Yn,Hn,rr,er,dn),Hf(za,Qi,Ua,ps,$r,rr,er,dn))}}if(Et.ia&&alert("todo:DitherRow"),ht.put!=null){if(Wr=16*nn,nn=16*(nn+1),gs?(ht.y=Et.sa,ht.O=Et.ta+qr,ht.f=Et.qa,ht.N=Et.ra+cs,ht.ea=Et.Ha,ht.W=Et.Ia+cs):(Wr-=Sr,ht.y=Ns,ht.O=Js,ht.f=Nn,ht.N=_r,ht.ea=hs,ht.W=ha),fs||(nn-=Sr),nn>ht.o&&(nn=ht.o),ht.F=null,ht.J=null,Et.Fa!=null&&0<Et.Fa.length&&Wr<nn&&(ht.J=p(Et,ht,Wr,nn-Wr),ht.F=Et.mb,ht.F==null&&ht.F.length==0)){Pn=jr(Et,3,"Could not decode alpha data.");break t}Wr<ht.j&&(Sr=ht.j-Wr,Wr=ht.j,e(!(1&Sr)),ht.O+=Et.R*Sr,ht.N+=Et.B*(Sr>>1),ht.W+=Et.B*(Sr>>1),ht.F!=null&&(ht.J+=ht.width*Sr)),Wr<nn&&(ht.O+=ht.v,ht.N+=ht.v>>1,ht.W+=ht.v>>1,ht.F!=null&&(ht.J+=ht.v),ht.ka=Wr-ht.j,ht.U=ht.va-ht.v,ht.T=nn-Wr,Pn=ht.put(ht))}vr+1!=Et.Ic||fs||(n(Et.sa,Et.ta-or,Ns,Js+16*Et.R,or),n(Et.qa,Et.ra-rn,Nn,_r+8*Et.B,rn),n(Et.Ha,Et.Ia-rn,hs,ha+8*Et.B,rn))}if(!Pn)return jr(Fr,6,"Output aborted.")}return 1})(ce,Ne)),Ne.bc!=null&&Ne.bc(Ne),je&=1}return je?(ce.cb=0,je):0})(m,T)||(y=m.a)}}else y=m.a}y==0&&W.Oa!=null&&W.Oa.fd&&(y=Fu(W.ba))}W=y}Y=W!=0?null:11>Y?se.f.RGBA.eb:se.f.kb.y}else Y=null;return Y};var Wd=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function h(S,P){for(var E="",F=0;F<4;F++)E+=String.fromCharCode(S[P++]);return E}function g(S,P){return S[P+0]|S[P+1]<<8}function x(S,P){return(S[P+0]|S[P+1]<<8|S[P+2]<<16)>>>0}function B(S,P){return(S[P+0]|S[P+1]<<8|S[P+2]<<16|S[P+3]<<24)>>>0}new d;var w=[0],I=[0],j=[],M=new d,L=r,X=(function(S,P){var E={},F=0,Q=!1,J=0,xe=0;if(E.frames=[],!(function(D,q){for(var te=0;te<4;te++)if(D[q+te]!="RIFF".charCodeAt(te))return!0;return!1})(S,P)){for(B(S,P+=4),P+=8;P<S.length;){var ie=h(S,P),Z=B(S,P+=4);P+=4;var Ae=Z+(1&Z);switch(ie){case"VP8 ":case"VP8L":E.frames[F]===void 0&&(E.frames[F]={}),($=E.frames[F]).src_off=Q?xe:P-8,$.src_size=J+Z+8,F++,Q&&(Q=!1,J=0,xe=0);break;case"VP8X":($=E.header={}).feature_flags=S[P];var be=P+4;$.canvas_width=1+x(S,be),be+=3,$.canvas_height=1+x(S,be),be+=3;break;case"ALPH":Q=!0,J=Ae+8,xe=P-8;break;case"ANIM":($=E.header).bgcolor=B(S,P),be=P+4,$.loop_count=g(S,be),be+=2;break;case"ANMF":var Ee,$;($=E.frames[F]={}).offset_x=2*x(S,P),P+=3,$.offset_y=2*x(S,P),P+=3,$.width=1+x(S,P),P+=3,$.height=1+x(S,P),P+=3,$.duration=x(S,P),P+=3,Ee=S[P++],$.dispose=1&Ee,$.blend=Ee>>1&1}ie!="ANMF"&&(P+=Ae)}return E}})(L,0);X.response=L,X.rgbaoutput=!0,X.dataurl=!1;var V=X.header?X.header:null,z=X.frames?X.frames:null;if(V){V.loop_counter=V.loop_count,w=[V.canvas_height],I=[V.canvas_width];for(var ne=0;ne<z.length&&z[ne].blend!=0;ne++);}var le=z[0],R=M.WebPDecodeRGBA(L,le.src_off,le.src_size,I,w);le.rgba=R,le.imgwidth=I[0],le.imgheight=w[0];for(var U=0;U<I[0]*w[0]*4;U++)j[U]=R[U];return this.width=I,this.height=w,this.data=j,this}(function(r){var e,t,n,s,o,l,c,d,h,g=function(D){return D=D||{},this.isStrokeTransparent=D.isStrokeTransparent||!1,this.strokeOpacity=D.strokeOpacity||1,this.strokeStyle=D.strokeStyle||"#000000",this.fillStyle=D.fillStyle||"#000000",this.isFillTransparent=D.isFillTransparent||!1,this.fillOpacity=D.fillOpacity||1,this.font=D.font||"10px sans-serif",this.textBaseline=D.textBaseline||"alphabetic",this.textAlign=D.textAlign||"left",this.lineWidth=D.lineWidth||1,this.lineJoin=D.lineJoin||"miter",this.lineCap=D.lineCap||"butt",this.path=D.path||[],this.transform=D.transform!==void 0?D.transform.clone():new d,this.globalCompositeOperation=D.globalCompositeOperation||"normal",this.globalAlpha=D.globalAlpha||1,this.clip_path=D.clip_path||[],this.currentPoint=D.currentPoint||new l,this.miterLimit=D.miterLimit||10,this.lastPoint=D.lastPoint||new l,this.lineDashOffset=D.lineDashOffset||0,this.lineDash=D.lineDash||[],this.margin=D.margin||[0,0,0,0],this.prevPageLastElemOffset=D.prevPageLastElemOffset||0,this.ignoreClearRect=typeof D.ignoreClearRect!="boolean"||D.ignoreClearRect,this};r.events.push(["initialized",function(){this.context2d=new x(this),e=this.internal.f2,t=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,s=this.internal.getHorizontalCoordinate,o=this.internal.getVerticalCoordinate,l=this.internal.Point,c=this.internal.Rectangle,d=this.internal.Matrix,h=new g}]);var x=function(D){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var q=D;Object.defineProperty(this,"pdf",{get:function(){return q}});var te=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return te},set:function(H){te=!!H}});var re=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return re},set:function(H){re=!!H}});var fe=0;Object.defineProperty(this,"posX",{get:function(){return fe},set:function(H){isNaN(H)||(fe=H)}});var ge=0;Object.defineProperty(this,"posY",{get:function(){return ge},set:function(H){isNaN(H)||(ge=H)}}),Object.defineProperty(this,"margin",{get:function(){return h.margin},set:function(H){var Ke;typeof H=="number"?Ke=[H,H,H,H]:((Ke=new Array(4))[0]=H[0],Ke[1]=H.length>=2?H[1]:Ke[0],Ke[2]=H.length>=3?H[2]:Ke[0],Ke[3]=H.length>=4?H[3]:Ke[1]),h.margin=Ke}});var Be=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Be},set:function(H){Be=H}});var _e=0;Object.defineProperty(this,"lastBreak",{get:function(){return _e},set:function(H){_e=H}});var Oe=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Oe},set:function(H){Oe=H}}),Object.defineProperty(this,"ctx",{get:function(){return h},set:function(H){H instanceof g&&(h=H)}}),Object.defineProperty(this,"path",{get:function(){return h.path},set:function(H){h.path=H}});var He=[];Object.defineProperty(this,"ctxStack",{get:function(){return He},set:function(H){He=H}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(H){var Ke;Ke=B(H),this.ctx.fillStyle=Ke.style,this.ctx.isFillTransparent=Ke.a===0,this.ctx.fillOpacity=Ke.a,this.pdf.setFillColor(Ke.r,Ke.g,Ke.b,{a:Ke.a}),this.pdf.setTextColor(Ke.r,Ke.g,Ke.b,{a:Ke.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(H){var Ke=B(H);this.ctx.strokeStyle=Ke.style,this.ctx.isStrokeTransparent=Ke.a===0,this.ctx.strokeOpacity=Ke.a,Ke.a===0?this.pdf.setDrawColor(255,255,255):(Ke.a,this.pdf.setDrawColor(Ke.r,Ke.g,Ke.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(H){["butt","round","square"].indexOf(H)!==-1&&(this.ctx.lineCap=H,this.pdf.setLineCap(H))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(H){isNaN(H)||(this.ctx.lineWidth=H,this.pdf.setLineWidth(H))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(H){["bevel","round","miter"].indexOf(H)!==-1&&(this.ctx.lineJoin=H,this.pdf.setLineJoin(H))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(H){isNaN(H)||(this.ctx.miterLimit=H,this.pdf.setMiterLimit(H))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(H){this.ctx.textBaseline=H}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(H){["right","end","center","left","start"].indexOf(H)!==-1&&(this.ctx.textAlign=H)}});var it=null,me=null,Me=null;Object.defineProperty(this,"fontFaces",{get:function(){return Me},set:function(H){it=null,me=null,Me=H}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(H){var Ke;if(this.ctx.font=H,(Ke=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(H))!==null){var rt=Ke[1];Ke[2];var pt=Ke[3],Pe=Ke[4];Ke[5];var st=Ke[6],dt=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Pe)[2];Pe=Math.floor(dt==="px"?parseFloat(Pe)*this.pdf.internal.scaleFactor:dt==="em"?parseFloat(Pe)*this.pdf.getFontSize():parseFloat(Pe)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Pe);var Mt=(function(Bt){var De,ft,ct=[],yt=Bt.trim();if(yt==="")return My;if(yt in VE)return[VE[yt]];for(;yt!=="";){switch(ft=null,De=(yt=zE(yt)).charAt(0)){case'"':case"'":ft=fJ(yt.substring(1),De);break;default:ft=gJ(yt)}if(ft===null||(ct.push(ft[0]),(yt=zE(ft[1]))!==""&&yt.charAt(0)!==","))return My;yt=yt.replace(/^,/,"")}return ct})(st);if(this.fontFaces){var St=(function(Bt,De){var ft=Bt.getFontList(),ct=JSON.stringify(ft);if(it===null||me!==ct){var yt=(function(qt){var xt=[];return Object.keys(qt).forEach(function(Ar){qt[Ar].forEach(function(Rt){var Pt=null;switch(Rt){case"bold":Pt={family:Ar,weight:"bold"};break;case"italic":Pt={family:Ar,style:"italic"};break;case"bolditalic":Pt={family:Ar,weight:"bold",style:"italic"};break;case"":case"normal":Pt={family:Ar}}Pt!==null&&(Pt.ref={name:Ar,style:Rt},xt.push(Pt))})}),xt})(ft);it=(function(qt){for(var xt={},Ar=0;Ar<qt.length;++Ar){var Rt=Oy(qt[Ar]),Pt=Rt.family,Ir=Rt.stretch,Tt=Rt.style,Nt=Rt.weight;xt[Pt]=xt[Pt]||{},xt[Pt][Ir]=xt[Pt][Ir]||{},xt[Pt][Ir][Tt]=xt[Pt][Ir][Tt]||{},xt[Pt][Ir][Tt][Nt]=Rt}return xt})(yt.concat(De)),me=ct}return it})(this.pdf,this.fontFaces),Yt=Mt.map(function(Bt){return{family:Bt,stretch:"normal",weight:pt,style:rt}}),cr=(function(Bt,De,ft){for(var ct=(ft=ft||{}).defaultFontFamily||"times",yt=Object.assign({},hJ,ft.genericFontFamilies||{}),qt=null,xt=null,Ar=0;Ar<De.length;++Ar)if(yt[(qt=Oy(De[Ar])).family]&&(qt.family=yt[qt.family]),Bt.hasOwnProperty(qt.family)){xt=Bt[qt.family];break}if(!(xt=xt||Bt[ct]))throw new Error("Could not find a font-family for the rule '"+KE(qt)+"' and default family '"+ct+"'.");if(xt=(function(Rt,Pt){if(Pt[Rt])return Pt[Rt];var Ir=dv[Rt],Tt=Ir<=dv.normal?-1:1,Nt=HE(Pt,rU,Ir,Tt);if(!Nt)throw new Error("Could not find a matching font-stretch value for "+Rt);return Nt})(qt.stretch,xt),xt=(function(Rt,Pt){if(Pt[Rt])return Pt[Rt];for(var Ir=tU[Rt],Tt=0;Tt<Ir.length;++Tt)if(Pt[Ir[Tt]])return Pt[Ir[Tt]];throw new Error("Could not find a matching font-style for "+Rt)})(qt.style,xt),!(xt=(function(Rt,Pt){if(Pt[Rt])return Pt[Rt];if(Rt===400&&Pt[500])return Pt[500];if(Rt===500&&Pt[400])return Pt[400];var Ir=dJ[Rt],Tt=HE(Pt,nU,Ir,Rt<400?-1:1);if(!Tt)throw new Error("Could not find a matching font-weight for value "+Rt);return Tt})(qt.weight,xt)))throw new Error("Failed to resolve a font for the rule '"+KE(qt)+"'.");return xt})(St,Yt);this.pdf.setFont(cr.ref.name,cr.ref.style)}else{var ar="";(pt==="bold"||parseInt(pt,10)>=700||rt==="bold")&&(ar="bold"),rt==="italic"&&(ar+="italic"),ar.length===0&&(ar="normal");for(var ur="",dr={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},jt=0;jt<Mt.length;jt++){if(this.pdf.internal.getFont(Mt[jt],ar,{noFallback:!0,disableWarning:!0})!==void 0){ur=Mt[jt];break}if(ar==="bolditalic"&&this.pdf.internal.getFont(Mt[jt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)ur=Mt[jt],ar="bold";else if(this.pdf.internal.getFont(Mt[jt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){ur=Mt[jt],ar="normal";break}}if(ur===""){for(var hr=0;hr<Mt.length;hr++)if(dr[Mt[hr]]){ur=dr[Mt[hr]];break}}ur=ur===""?"Times":ur,this.pdf.setFont(ur,ar)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(H){this.ctx.globalCompositeOperation=H}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(H){this.ctx.globalAlpha=H}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(H){this.ctx.lineDashOffset=H,$.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(H){this.ctx.lineDash=H,$.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(H){this.ctx.ignoreClearRect=!!H}})};x.prototype.setLineDash=function(D){this.lineDash=D},x.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},x.prototype.fill=function(){z.call(this,"fill",!1)},x.prototype.stroke=function(){z.call(this,"stroke",!1)},x.prototype.beginPath=function(){this.path=[{type:"begin"}]},x.prototype.moveTo=function(D,q){if(isNaN(D)||isNaN(q))throw Qn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var te=this.ctx.transform.applyToPoint(new l(D,q));this.path.push({type:"mt",x:te.x,y:te.y}),this.ctx.lastPoint=new l(D,q)},x.prototype.closePath=function(){var D=new l(0,0),q=0;for(q=this.path.length-1;q!==-1;q--)if(this.path[q].type==="begin"&&mn(this.path[q+1])==="object"&&typeof this.path[q+1].x=="number"){D=new l(this.path[q+1].x,this.path[q+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new l(D.x,D.y)},x.prototype.lineTo=function(D,q){if(isNaN(D)||isNaN(q))throw Qn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var te=this.ctx.transform.applyToPoint(new l(D,q));this.path.push({type:"lt",x:te.x,y:te.y}),this.ctx.lastPoint=new l(te.x,te.y)},x.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),z.call(this,null,!0)},x.prototype.quadraticCurveTo=function(D,q,te,re){if(isNaN(te)||isNaN(re)||isNaN(D)||isNaN(q))throw Qn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var fe=this.ctx.transform.applyToPoint(new l(te,re)),ge=this.ctx.transform.applyToPoint(new l(D,q));this.path.push({type:"qct",x1:ge.x,y1:ge.y,x:fe.x,y:fe.y}),this.ctx.lastPoint=new l(fe.x,fe.y)},x.prototype.bezierCurveTo=function(D,q,te,re,fe,ge){if(isNaN(fe)||isNaN(ge)||isNaN(D)||isNaN(q)||isNaN(te)||isNaN(re))throw Qn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Be=this.ctx.transform.applyToPoint(new l(fe,ge)),_e=this.ctx.transform.applyToPoint(new l(D,q)),Oe=this.ctx.transform.applyToPoint(new l(te,re));this.path.push({type:"bct",x1:_e.x,y1:_e.y,x2:Oe.x,y2:Oe.y,x:Be.x,y:Be.y}),this.ctx.lastPoint=new l(Be.x,Be.y)},x.prototype.arc=function(D,q,te,re,fe,ge){if(isNaN(D)||isNaN(q)||isNaN(te)||isNaN(re)||isNaN(fe))throw Qn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ge=!!ge,!this.ctx.transform.isIdentity){var Be=this.ctx.transform.applyToPoint(new l(D,q));D=Be.x,q=Be.y;var _e=this.ctx.transform.applyToPoint(new l(0,te)),Oe=this.ctx.transform.applyToPoint(new l(0,0));te=Math.sqrt(Math.pow(_e.x-Oe.x,2)+Math.pow(_e.y-Oe.y,2))}Math.abs(fe-re)>=2*Math.PI&&(re=0,fe=2*Math.PI),this.path.push({type:"arc",x:D,y:q,radius:te,startAngle:re,endAngle:fe,counterclockwise:ge})},x.prototype.arcTo=function(D,q,te,re,fe){throw new Error("arcTo not implemented.")},x.prototype.rect=function(D,q,te,re){if(isNaN(D)||isNaN(q)||isNaN(te)||isNaN(re))throw Qn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(D,q),this.lineTo(D+te,q),this.lineTo(D+te,q+re),this.lineTo(D,q+re),this.lineTo(D,q),this.lineTo(D+te,q),this.lineTo(D,q)},x.prototype.fillRect=function(D,q,te,re){if(isNaN(D)||isNaN(q)||isNaN(te)||isNaN(re))throw Qn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!w.call(this)){var fe={};this.lineCap!=="butt"&&(fe.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(fe.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(D,q,te,re),this.fill(),fe.hasOwnProperty("lineCap")&&(this.lineCap=fe.lineCap),fe.hasOwnProperty("lineJoin")&&(this.lineJoin=fe.lineJoin)}},x.prototype.strokeRect=function(D,q,te,re){if(isNaN(D)||isNaN(q)||isNaN(te)||isNaN(re))throw Qn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");I.call(this)||(this.beginPath(),this.rect(D,q,te,re),this.stroke())},x.prototype.clearRect=function(D,q,te,re){if(isNaN(D)||isNaN(q)||isNaN(te)||isNaN(re))throw Qn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(D,q,te,re))},x.prototype.save=function(D){D=typeof D!="boolean"||D;for(var q=this.pdf.internal.getCurrentPageInfo().pageNumber,te=0;te<this.pdf.internal.getNumberOfPages();te++)this.pdf.setPage(te+1),this.pdf.internal.out("q");if(this.pdf.setPage(q),D){this.ctx.fontSize=this.pdf.internal.getFontSize();var re=new g(this.ctx);this.ctxStack.push(this.ctx),this.ctx=re}},x.prototype.restore=function(D){D=typeof D!="boolean"||D;for(var q=this.pdf.internal.getCurrentPageInfo().pageNumber,te=0;te<this.pdf.internal.getNumberOfPages();te++)this.pdf.setPage(te+1),this.pdf.internal.out("Q");this.pdf.setPage(q),D&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},x.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var B=function(D){var q,te,re,fe;if(D.isCanvasGradient===!0&&(D=D.getColor()),!D)return{r:0,g:0,b:0,a:0,style:D};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(D))q=0,te=0,re=0,fe=0;else{var ge=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(D);if(ge!==null)q=parseInt(ge[1]),te=parseInt(ge[2]),re=parseInt(ge[3]),fe=1;else if((ge=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(D))!==null)q=parseInt(ge[1]),te=parseInt(ge[2]),re=parseInt(ge[3]),fe=parseFloat(ge[4]);else{if(fe=1,typeof D=="string"&&D.charAt(0)!=="#"){var Be=new $8(D);D=Be.ok?Be.toHex():"#000000"}D.length===4?(q=D.substring(1,2),q+=q,te=D.substring(2,3),te+=te,re=D.substring(3,4),re+=re):(q=D.substring(1,3),te=D.substring(3,5),re=D.substring(5,7)),q=parseInt(q,16),te=parseInt(te,16),re=parseInt(re,16)}}return{r:q,g:te,b:re,a:fe,style:D}},w=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},I=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};x.prototype.fillText=function(D,q,te,re){if(isNaN(q)||isNaN(te)||typeof D!="string")throw Qn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(re=isNaN(re)?void 0:re,!w.call(this)){var fe=Ae(this.ctx.transform.rotation),ge=this.ctx.transform.scaleX;F.call(this,{text:D,x:q,y:te,scale:ge,angle:fe,align:this.textAlign,maxWidth:re})}},x.prototype.strokeText=function(D,q,te,re){if(isNaN(q)||isNaN(te)||typeof D!="string")throw Qn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!I.call(this)){re=isNaN(re)?void 0:re;var fe=Ae(this.ctx.transform.rotation),ge=this.ctx.transform.scaleX;F.call(this,{text:D,x:q,y:te,scale:ge,renderingMode:"stroke",angle:fe,align:this.textAlign,maxWidth:re})}},x.prototype.measureText=function(D){if(typeof D!="string")throw Qn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var q=this.pdf,te=this.pdf.internal.scaleFactor,re=q.internal.getFontSize(),fe=q.getStringUnitWidth(D)*re/q.internal.scaleFactor;return new function(ge){var Be=(ge=ge||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Be}}),this}({width:fe*=Math.round(96*te/72*1e4)/1e4})},x.prototype.scale=function(D,q){if(isNaN(D)||isNaN(q))throw Qn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var te=new d(D,0,0,q,0,0);this.ctx.transform=this.ctx.transform.multiply(te)},x.prototype.rotate=function(D){if(isNaN(D))throw Qn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var q=new d(Math.cos(D),Math.sin(D),-Math.sin(D),Math.cos(D),0,0);this.ctx.transform=this.ctx.transform.multiply(q)},x.prototype.translate=function(D,q){if(isNaN(D)||isNaN(q))throw Qn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var te=new d(1,0,0,1,D,q);this.ctx.transform=this.ctx.transform.multiply(te)},x.prototype.transform=function(D,q,te,re,fe,ge){if(isNaN(D)||isNaN(q)||isNaN(te)||isNaN(re)||isNaN(fe)||isNaN(ge))throw Qn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Be=new d(D,q,te,re,fe,ge);this.ctx.transform=this.ctx.transform.multiply(Be)},x.prototype.setTransform=function(D,q,te,re,fe,ge){D=isNaN(D)?1:D,q=isNaN(q)?0:q,te=isNaN(te)?0:te,re=isNaN(re)?1:re,fe=isNaN(fe)?0:fe,ge=isNaN(ge)?0:ge,this.ctx.transform=new d(D,q,te,re,fe,ge)};var j=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};x.prototype.drawImage=function(D,q,te,re,fe,ge,Be,_e,Oe){var He=this.pdf.getImageProperties(D),it=1,me=1,Me=1,H=1;re!==void 0&&_e!==void 0&&(Me=_e/re,H=Oe/fe,it=He.width/re*_e/re,me=He.height/fe*Oe/fe),ge===void 0&&(ge=q,Be=te,q=0,te=0),re!==void 0&&_e===void 0&&(_e=re,Oe=fe),re===void 0&&_e===void 0&&(_e=He.width,Oe=He.height);var Ke=this.ctx.transform.decompose(),rt=Ae(Ke.rotate.shx),pt=new d,Pe=(pt=(pt=(pt=pt.multiply(Ke.translate)).multiply(Ke.skew)).multiply(Ke.scale)).applyToRectangle(new c(ge-q*Me,Be-te*H,re*it,fe*me));if(this.autoPaging){for(var st,dt=M.call(this,Pe),Mt=[],St=0;St<dt.length;St+=1)Mt.indexOf(dt[St])===-1&&Mt.push(dt[St]);V(Mt);for(var Yt=Mt[0],cr=Mt[Mt.length-1],ar=Yt;ar<cr+1;ar++){this.pdf.setPage(ar);var ur=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],dr=ar===1?this.posY+this.margin[0]:this.margin[0],jt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],hr=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Bt=ar===1?0:jt+(ar-2)*hr;if(this.ctx.clip_path.length!==0){var De=this.path;st=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=X(st,this.posX+this.margin[3],-Bt+dr+this.ctx.prevPageLastElemOffset),ne.call(this,"fill",!0),this.path=De}var ft=JSON.parse(JSON.stringify(Pe));ft=X([ft],this.posX+this.margin[3],-Bt+dr+this.ctx.prevPageLastElemOffset)[0];var ct=(ar>Yt||ar<cr)&&j.call(this);ct&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ur,hr,null).clip().discardPath()),this.pdf.addImage(D,"JPEG",ft.x,ft.y,ft.w,ft.h,null,null,rt),ct&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(D,"JPEG",Pe.x,Pe.y,Pe.w,Pe.h,null,null,rt)};var M=function(D,q,te){var re=[];q=q||this.pdf.internal.pageSize.width,te=te||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var fe=this.posY+this.ctx.prevPageLastElemOffset;switch(D.type){default:case"mt":case"lt":re.push(Math.floor((D.y+fe)/te)+1);break;case"arc":re.push(Math.floor((D.y+fe-D.radius)/te)+1),re.push(Math.floor((D.y+fe+D.radius)/te)+1);break;case"qct":var ge=be(this.ctx.lastPoint.x,this.ctx.lastPoint.y,D.x1,D.y1,D.x,D.y);re.push(Math.floor((ge.y+fe)/te)+1),re.push(Math.floor((ge.y+ge.h+fe)/te)+1);break;case"bct":var Be=Ee(this.ctx.lastPoint.x,this.ctx.lastPoint.y,D.x1,D.y1,D.x2,D.y2,D.x,D.y);re.push(Math.floor((Be.y+fe)/te)+1),re.push(Math.floor((Be.y+Be.h+fe)/te)+1);break;case"rect":re.push(Math.floor((D.y+fe)/te)+1),re.push(Math.floor((D.y+D.h+fe)/te)+1)}for(var _e=0;_e<re.length;_e+=1)for(;this.pdf.internal.getNumberOfPages()<re[_e];)L.call(this);return re},L=function(){var D=this.fillStyle,q=this.strokeStyle,te=this.font,re=this.lineCap,fe=this.lineWidth,ge=this.lineJoin;this.pdf.addPage(),this.fillStyle=D,this.strokeStyle=q,this.font=te,this.lineCap=re,this.lineWidth=fe,this.lineJoin=ge},X=function(D,q,te){for(var re=0;re<D.length;re++)switch(D[re].type){case"bct":D[re].x2+=q,D[re].y2+=te;case"qct":D[re].x1+=q,D[re].y1+=te;default:D[re].x+=q,D[re].y+=te}return D},V=function(D){return D.sort(function(q,te){return q-te})},z=function(D,q){var te=this.fillStyle,re=this.strokeStyle,fe=this.lineCap,ge=this.lineWidth,Be=Math.abs(ge*this.ctx.transform.scaleX),_e=this.lineJoin;if(this.autoPaging){for(var Oe,He,it=JSON.parse(JSON.stringify(this.path)),me=JSON.parse(JSON.stringify(this.path)),Me=[],H=0;H<me.length;H++)if(me[H].x!==void 0)for(var Ke=M.call(this,me[H]),rt=0;rt<Ke.length;rt+=1)Me.indexOf(Ke[rt])===-1&&Me.push(Ke[rt]);for(var pt=0;pt<Me.length;pt++)for(;this.pdf.internal.getNumberOfPages()<Me[pt];)L.call(this);V(Me);for(var Pe=Me[0],st=Me[Me.length-1],dt=Pe;dt<st+1;dt++){this.pdf.setPage(dt),this.fillStyle=te,this.strokeStyle=re,this.lineCap=fe,this.lineWidth=Be,this.lineJoin=_e;var Mt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],St=dt===1?this.posY+this.margin[0]:this.margin[0],Yt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],cr=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ar=dt===1?0:Yt+(dt-2)*cr;if(this.ctx.clip_path.length!==0){var ur=this.path;Oe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=X(Oe,this.posX+this.margin[3],-ar+St+this.ctx.prevPageLastElemOffset),ne.call(this,D,!0),this.path=ur}if(He=JSON.parse(JSON.stringify(it)),this.path=X(He,this.posX+this.margin[3],-ar+St+this.ctx.prevPageLastElemOffset),q===!1||dt===0){var dr=(dt>Pe||dt<st)&&j.call(this);dr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Mt,cr,null).clip().discardPath()),ne.call(this,D,q),dr&&this.pdf.restoreGraphicsState()}this.lineWidth=ge}this.path=it}else this.lineWidth=Be,ne.call(this,D,q),this.lineWidth=ge},ne=function(D,q){if((D!=="stroke"||q||!I.call(this))&&(D==="stroke"||q||!w.call(this))){for(var te,re,fe=[],ge=this.path,Be=0;Be<ge.length;Be++){var _e=ge[Be];switch(_e.type){case"begin":fe.push({begin:!0});break;case"close":fe.push({close:!0});break;case"mt":fe.push({start:_e,deltas:[],abs:[]});break;case"lt":var Oe=fe.length;if(ge[Be-1]&&!isNaN(ge[Be-1].x)&&(te=[_e.x-ge[Be-1].x,_e.y-ge[Be-1].y],Oe>0)){for(;Oe>=0;Oe--)if(fe[Oe-1].close!==!0&&fe[Oe-1].begin!==!0){fe[Oe-1].deltas.push(te),fe[Oe-1].abs.push(_e);break}}break;case"bct":te=[_e.x1-ge[Be-1].x,_e.y1-ge[Be-1].y,_e.x2-ge[Be-1].x,_e.y2-ge[Be-1].y,_e.x-ge[Be-1].x,_e.y-ge[Be-1].y],fe[fe.length-1].deltas.push(te);break;case"qct":var He=ge[Be-1].x+2/3*(_e.x1-ge[Be-1].x),it=ge[Be-1].y+2/3*(_e.y1-ge[Be-1].y),me=_e.x+2/3*(_e.x1-_e.x),Me=_e.y+2/3*(_e.y1-_e.y),H=_e.x,Ke=_e.y;te=[He-ge[Be-1].x,it-ge[Be-1].y,me-ge[Be-1].x,Me-ge[Be-1].y,H-ge[Be-1].x,Ke-ge[Be-1].y],fe[fe.length-1].deltas.push(te);break;case"arc":fe.push({deltas:[],abs:[],arc:!0}),Array.isArray(fe[fe.length-1].abs)&&fe[fe.length-1].abs.push(_e)}}re=q?null:D==="stroke"?"stroke":"fill";for(var rt=!1,pt=0;pt<fe.length;pt++)if(fe[pt].arc)for(var Pe=fe[pt].abs,st=0;st<Pe.length;st++){var dt=Pe[st];dt.type==="arc"?U.call(this,dt.x,dt.y,dt.radius,dt.startAngle,dt.endAngle,dt.counterclockwise,void 0,q,!rt):Q.call(this,dt.x,dt.y),rt=!0}else if(fe[pt].close===!0)this.pdf.internal.out("h"),rt=!1;else if(fe[pt].begin!==!0){var Mt=fe[pt].start.x,St=fe[pt].start.y;J.call(this,fe[pt].deltas,Mt,St),rt=!0}re&&S.call(this,re),q&&P.call(this)}},le=function(D){var q=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,te=q*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return D-te;case"top":return D+q-te;case"hanging":return D+q-2*te;case"middle":return D+q/2-te;default:return D}},R=function(D){return D+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};x.prototype.createLinearGradient=function(){var D=function(){};return D.colorStops=[],D.addColorStop=function(q,te){this.colorStops.push([q,te])},D.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},D.isCanvasGradient=!0,D},x.prototype.createPattern=function(){return this.createLinearGradient()},x.prototype.createRadialGradient=function(){return this.createLinearGradient()};var U=function(D,q,te,re,fe,ge,Be,_e,Oe){for(var He=ie.call(this,te,re,fe,ge),it=0;it<He.length;it++){var me=He[it];it===0&&(Oe?E.call(this,me.x1+D,me.y1+q):Q.call(this,me.x1+D,me.y1+q)),xe.call(this,D,q,me.x2,me.y2,me.x3,me.y3,me.x4,me.y4)}_e?P.call(this):S.call(this,Be)},S=function(D){switch(D){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},P=function(){this.pdf.clip(),this.pdf.discardPath()},E=function(D,q){this.pdf.internal.out(t(D)+" "+n(q)+" m")},F=function(D){var q;switch(D.align){case"right":case"end":q="right";break;case"center":q="center";break;default:q="left"}var te,re,fe,ge=this.pdf.getTextDimensions(D.text),Be=le.call(this,D.y),_e=R.call(this,Be)-ge.h,Oe=this.ctx.transform.applyToPoint(new l(D.x,Be));if(this.autoPaging){var He=this.ctx.transform.decompose(),it=new d;it=(it=(it=it.multiply(He.translate)).multiply(He.skew)).multiply(He.scale);for(var me=this.ctx.transform.applyToRectangle(new c(D.x,Be,ge.w,ge.h)),Me=it.applyToRectangle(new c(D.x,_e,ge.w,ge.h)),H=M.call(this,Me),Ke=[],rt=0;rt<H.length;rt+=1)Ke.indexOf(H[rt])===-1&&Ke.push(H[rt]);V(Ke);for(var pt=Ke[0],Pe=Ke[Ke.length-1],st=pt;st<Pe+1;st++){this.pdf.setPage(st);var dt=st===1?this.posY+this.margin[0]:this.margin[0],Mt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],St=this.pdf.internal.pageSize.height-this.margin[2],Yt=St-this.margin[0],cr=this.pdf.internal.pageSize.width-this.margin[1],ar=cr-this.margin[3],ur=st===1?0:Mt+(st-2)*Yt;if(this.ctx.clip_path.length!==0){var dr=this.path;te=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=X(te,this.posX+this.margin[3],-1*ur+dt),ne.call(this,"fill",!0),this.path=dr}var jt=X([JSON.parse(JSON.stringify(Me))],this.posX+this.margin[3],-ur+dt+this.ctx.prevPageLastElemOffset)[0];D.scale>=.01&&(re=this.pdf.internal.getFontSize(),this.pdf.setFontSize(re*D.scale),fe=this.lineWidth,this.lineWidth=fe*D.scale);var hr=this.autoPaging!=="text";if(hr||jt.y+jt.h<=St){if(hr||jt.y>=dt&&jt.x<=cr){var Bt=hr?D.text:this.pdf.splitTextToSize(D.text,D.maxWidth||cr-jt.x)[0],De=X([JSON.parse(JSON.stringify(me))],this.posX+this.margin[3],-ur+dt+this.ctx.prevPageLastElemOffset)[0],ft=hr&&(st>pt||st<Pe)&&j.call(this);ft&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ar,Yt,null).clip().discardPath()),this.pdf.text(Bt,De.x,De.y,{angle:D.angle,align:q,renderingMode:D.renderingMode}),ft&&this.pdf.restoreGraphicsState()}}else jt.y<St&&(this.ctx.prevPageLastElemOffset+=St-jt.y);D.scale>=.01&&(this.pdf.setFontSize(re),this.lineWidth=fe)}}else D.scale>=.01&&(re=this.pdf.internal.getFontSize(),this.pdf.setFontSize(re*D.scale),fe=this.lineWidth,this.lineWidth=fe*D.scale),this.pdf.text(D.text,Oe.x+this.posX,Oe.y+this.posY,{angle:D.angle,align:q,renderingMode:D.renderingMode,maxWidth:D.maxWidth}),D.scale>=.01&&(this.pdf.setFontSize(re),this.lineWidth=fe)},Q=function(D,q,te,re){te=te||0,re=re||0,this.pdf.internal.out(t(D+te)+" "+n(q+re)+" l")},J=function(D,q,te){return this.pdf.lines(D,q,te,null,null)},xe=function(D,q,te,re,fe,ge,Be,_e){this.pdf.internal.out([e(s(te+D)),e(o(re+q)),e(s(fe+D)),e(o(ge+q)),e(s(Be+D)),e(o(_e+q)),"c"].join(" "))},ie=function(D,q,te,re){for(var fe=2*Math.PI,ge=Math.PI/2;q>te;)q-=fe;var Be=Math.abs(te-q);Be<fe&&re&&(Be=fe-Be);for(var _e=[],Oe=re?-1:1,He=q;Be>1e-5;){var it=He+Oe*Math.min(Be,ge);_e.push(Z.call(this,D,He,it)),Be-=Math.abs(it-He),He=it}return _e},Z=function(D,q,te){var re=(te-q)/2,fe=D*Math.cos(re),ge=D*Math.sin(re),Be=fe,_e=-ge,Oe=Be*Be+_e*_e,He=Oe+Be*fe+_e*ge,it=4/3*(Math.sqrt(2*Oe*He)-He)/(Be*ge-_e*fe),me=Be-it*_e,Me=_e+it*Be,H=me,Ke=-Me,rt=re+q,pt=Math.cos(rt),Pe=Math.sin(rt);return{x1:D*Math.cos(q),y1:D*Math.sin(q),x2:me*pt-Me*Pe,y2:me*Pe+Me*pt,x3:H*pt-Ke*Pe,y3:H*Pe+Ke*pt,x4:D*Math.cos(te),y4:D*Math.sin(te)}},Ae=function(D){return 180*D/Math.PI},be=function(D,q,te,re,fe,ge){var Be=D+.5*(te-D),_e=q+.5*(re-q),Oe=fe+.5*(te-fe),He=ge+.5*(re-ge),it=Math.min(D,fe,Be,Oe),me=Math.max(D,fe,Be,Oe),Me=Math.min(q,ge,_e,He),H=Math.max(q,ge,_e,He);return new c(it,Me,me-it,H-Me)},Ee=function(D,q,te,re,fe,ge,Be,_e){var Oe,He,it,me,Me,H,Ke,rt,pt,Pe,st,dt,Mt,St,Yt=te-D,cr=re-q,ar=fe-te,ur=ge-re,dr=Be-fe,jt=_e-ge;for(He=0;He<41;He++)pt=(Ke=(it=D+(Oe=He/40)*Yt)+Oe*((Me=te+Oe*ar)-it))+Oe*(Me+Oe*(fe+Oe*dr-Me)-Ke),Pe=(rt=(me=q+Oe*cr)+Oe*((H=re+Oe*ur)-me))+Oe*(H+Oe*(ge+Oe*jt-H)-rt),He==0?(st=pt,dt=Pe,Mt=pt,St=Pe):(st=Math.min(st,pt),dt=Math.min(dt,Pe),Mt=Math.max(Mt,pt),St=Math.max(St,Pe));return new c(Math.round(st),Math.round(dt),Math.round(Mt-st),Math.round(St-dt))},$=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var D,q,te=(D=this.ctx.lineDash,q=this.ctx.lineDashOffset,JSON.stringify({lineDash:D,lineDashOffset:q}));this.prevLineDash!==te&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=te)}}})(Jt.API),(function(r){var e=function(l){var c,d,h,g,x,B,w,I,j,M;for(d=[],h=0,g=(l+=c="\0\0\0\0".slice(l.length%4||4)).length;g>h;h+=4)(x=(l.charCodeAt(h)<<24)+(l.charCodeAt(h+1)<<16)+(l.charCodeAt(h+2)<<8)+l.charCodeAt(h+3))!==0?(B=(x=((x=((x=((x=(x-(M=x%85))/85)-(j=x%85))/85)-(I=x%85))/85)-(w=x%85))/85)%85,d.push(B+33,w+33,I+33,j+33,M+33)):d.push(122);return(function(L,X){for(var V=X;V>0;V--)L.pop()})(d,c.length),String.fromCharCode.apply(String,d)+"~>"},t=function(l){var c,d,h,g,x,B=String,w="length",I=255,j="charCodeAt",M="slice",L="replace";for(l[M](-2),l=l[M](0,-2)[L](/\s/g,"")[L]("z","!!!!!"),h=[],g=0,x=(l+=c="uuuuu"[M](l[w]%5||5))[w];x>g;g+=5)d=52200625*(l[j](g)-33)+614125*(l[j](g+1)-33)+7225*(l[j](g+2)-33)+85*(l[j](g+3)-33)+(l[j](g+4)-33),h.push(I&d>>24,I&d>>16,I&d>>8,I&d);return(function(X,V){for(var z=V;z>0;z--)X.pop()})(h,c[w]),B.fromCharCode.apply(B,h)},n=function(l){return l.split("").map(function(c){return("0"+c.charCodeAt().toString(16)).slice(-2)}).join("")+">"},s=function(l){var c=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((l=l.replace(/\s/g,"")).indexOf(">")!==-1&&(l=l.substr(0,l.indexOf(">"))),l.length%2&&(l+="0"),c.test(l)===!1)return"";for(var d="",h=0;h<l.length;h+=2)d+=String.fromCharCode("0x"+(l[h]+l[h+1]));return d},o=function(l){for(var c=new Uint8Array(l.length),d=l.length;d--;)c[d]=l.charCodeAt(d);return(c=av(c)).reduce(function(h,g){return h+String.fromCharCode(g)},"")};r.processDataByFilters=function(l,c){var d=0,h=l||"",g=[];for(typeof(c=c||[])=="string"&&(c=[c]),d=0;d<c.length;d+=1)switch(c[d]){case"ASCII85Decode":case"/ASCII85Decode":h=t(h),g.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":h=e(h),g.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":h=s(h),g.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":h=n(h),g.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":h=o(h),g.push("/FlateDecode");break;default:throw new Error('The filter: "'+c[d]+'" is not implemented')}return{data:h,reverseChain:g.reverse().join(" ")}}})(Jt.API),(function(r){r.loadFile=function(e,t,n){return(function(s,o,l){o=o!==!1,l=typeof l=="function"?l:function(){};var c=void 0;try{c=(function(d,h,g){var x=new XMLHttpRequest,B=0,w=function(I){var j=I.length,M=[],L=String.fromCharCode;for(B=0;B<j;B+=1)M.push(L(255&I.charCodeAt(B)));return M.join("")};if(x.open("GET",d,!h),x.overrideMimeType("text/plain; charset=x-user-defined"),h===!1&&(x.onload=function(){x.status===200?g(w(this.responseText)):g(void 0)}),x.send(null),h&&x.status===200)return w(x.responseText)})(s,o,l)}catch{}return c})(e,t,n)},r.loadImageFile=r.loadFile})(Jt.API),(function(r){function e(){return(xr.html2canvas?Promise.resolve(xr.html2canvas):wy(()=>Promise.resolve().then(()=>KX),void 0,import.meta.url)).catch(function(c){return Promise.reject(new Error("Could not load html2canvas: "+c))}).then(function(c){return c.default?c.default:c})}function t(){return(xr.DOMPurify?Promise.resolve(xr.DOMPurify):wy(()=>import("./purify.es-B9ZVCkUG.js"),[],import.meta.url)).catch(function(c){return Promise.reject(new Error("Could not load dompurify: "+c))}).then(function(c){return c.default?c.default:c})}var n=function(c){var d=mn(c);return d==="undefined"?"undefined":d==="string"||c instanceof String?"string":d==="number"||c instanceof Number?"number":d==="function"||c instanceof Function?"function":c&&c.constructor===Array?"array":c&&c.nodeType===1?"element":d==="object"?"object":"unknown"},s=function(c,d){var h=document.createElement(c);for(var g in d.className&&(h.className=d.className),d.innerHTML&&d.dompurify&&(h.innerHTML=d.dompurify.sanitize(d.innerHTML)),d.style)h.style[g]=d.style[g];return h},o=function c(d,h){for(var g=d.nodeType===3?document.createTextNode(d.nodeValue):d.cloneNode(!1),x=d.firstChild;x;x=x.nextSibling)h!==!0&&x.nodeType===1&&x.nodeName==="SCRIPT"||g.appendChild(c(x,h));return d.nodeType===1&&(d.nodeName==="CANVAS"?(g.width=d.width,g.height=d.height,g.getContext("2d").drawImage(d,0,0)):d.nodeName!=="TEXTAREA"&&d.nodeName!=="SELECT"||(g.value=d.value),g.addEventListener("load",function(){g.scrollTop=d.scrollTop,g.scrollLeft=d.scrollLeft},!0)),g},l=function c(d){var h=Object.assign(c.convert(Promise.resolve()),JSON.parse(JSON.stringify(c.template))),g=c.convert(Promise.resolve(),h);return(g=g.setProgress(1,c,1,[c])).set(d)};(l.prototype=Object.create(Promise.prototype)).constructor=l,l.convert=function(c,d){return c.__proto__=d||l.prototype,c},l.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},l.prototype.from=function(c,d){return this.then(function(){switch(d=d||(function(h){switch(n(h)){case"string":return"string";case"element":return h.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(c),d){case"string":return this.then(t).then(function(h){return this.set({src:s("div",{innerHTML:c,dompurify:h})})});case"element":return this.set({src:c});case"canvas":return this.set({canvas:c});case"img":return this.set({img:c});default:return this.error("Unknown source type.")}})},l.prototype.to=function(c){switch(c){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},l.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var c={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},d=o(this.prop.src,this.opt.html2canvas.javascriptEnabled);d.tagName==="BODY"&&(c.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=s("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=s("div",{className:"html2pdf__container",style:c}),this.prop.container.appendChild(d),this.prop.container.firstChild.appendChild(s("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},l.prototype.toCanvas=function(){var c=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(c).then(e).then(function(d){var h=Object.assign({},this.opt.html2canvas);return delete h.onrendered,d(this.prop.container,h)}).then(function(d){(this.opt.html2canvas.onrendered||function(){})(d),this.prop.canvas=d,document.body.removeChild(this.prop.overlay)})},l.prototype.toContext2d=function(){var c=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(c).then(e).then(function(d){var h=this.opt.jsPDF,g=this.opt.fontFaces,x=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,B=Object.assign({async:!0,allowTaint:!0,scale:x,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete B.onrendered,h.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,h.context2d.posX=this.opt.x,h.context2d.posY=this.opt.y,h.context2d.margin=this.opt.margin,h.context2d.fontFaces=g,g)for(var w=0;w<g.length;++w){var I=g[w],j=I.src.find(function(M){return M.format==="truetype"});j&&h.addFont(j.url,I.ref.name,I.ref.style)}return B.windowHeight=B.windowHeight||0,B.windowHeight=B.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):B.windowHeight,h.context2d.save(!0),d(this.prop.container,B)}).then(function(d){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(d),this.prop.canvas=d,document.body.removeChild(this.prop.overlay)})},l.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var c=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=c})},l.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},l.prototype.output=function(c,d,h){return(h=h||"pdf").toLowerCase()==="img"||h.toLowerCase()==="image"?this.outputImg(c,d):this.outputPdf(c,d)},l.prototype.outputPdf=function(c,d){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(c,d)})},l.prototype.outputImg=function(c){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(c){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+c+'" is not supported.'}})},l.prototype.save=function(c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(c?{filename:c}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},l.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},l.prototype.set=function(c){if(n(c)!=="object")return this;var d=Object.keys(c||{}).map(function(h){if(h in l.template.prop)return function(){this.prop[h]=c[h]};switch(h){case"margin":return this.setMargin.bind(this,c.margin);case"jsPDF":return function(){return this.opt.jsPDF=c.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,c.pageSize);default:return function(){this.opt[h]=c[h]}}},this);return this.then(function(){return this.thenList(d)})},l.prototype.get=function(c,d){return this.then(function(){var h=c in l.template.prop?this.prop[c]:this.opt[c];return d?d(h):h})},l.prototype.setMargin=function(c){return this.then(function(){switch(n(c)){case"number":c=[c,c,c,c];case"array":if(c.length===2&&(c=[c[0],c[1],c[0],c[1]]),c.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=c}).then(this.setPageSize)},l.prototype.setPageSize=function(c){function d(h,g){return Math.floor(h*g/72*96)}return this.then(function(){(c=c||Jt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(c.inner={width:c.width-this.opt.margin[1]-this.opt.margin[3],height:c.height-this.opt.margin[0]-this.opt.margin[2]},c.inner.px={width:d(c.inner.width,c.k),height:d(c.inner.height,c.k)},c.inner.ratio=c.inner.height/c.inner.width),this.prop.pageSize=c})},l.prototype.setProgress=function(c,d,h,g){return c!=null&&(this.progress.val=c),d!=null&&(this.progress.state=d),h!=null&&(this.progress.n=h),g!=null&&(this.progress.stack=g),this.progress.ratio=this.progress.val/this.progress.state,this},l.prototype.updateProgress=function(c,d,h,g){return this.setProgress(c?this.progress.val+c:null,d||null,h?this.progress.n+h:null,g?this.progress.stack.concat(g):null)},l.prototype.then=function(c,d){var h=this;return this.thenCore(c,d,function(g,x){return h.updateProgress(null,null,1,[g]),Promise.prototype.then.call(this,function(B){return h.updateProgress(null,g),B}).then(g,x).then(function(B){return h.updateProgress(1),B})})},l.prototype.thenCore=function(c,d,h){h=h||Promise.prototype.then;var g=this;c&&(c=c.bind(g)),d&&(d=d.bind(g));var x=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?g:l.convert(Object.assign({},g),Promise.prototype),B=h.call(x,c,d);return l.convert(B,g.__proto__)},l.prototype.thenExternal=function(c,d){return Promise.prototype.then.call(this,c,d)},l.prototype.thenList=function(c){var d=this;return c.forEach(function(h){d=d.thenCore(h)}),d},l.prototype.catch=function(c){c&&(c=c.bind(this));var d=Promise.prototype.catch.call(this,c);return l.convert(d,this)},l.prototype.catchExternal=function(c){return Promise.prototype.catch.call(this,c)},l.prototype.error=function(c){return this.then(function(){throw new Error(c)})},l.prototype.using=l.prototype.set,l.prototype.saveAs=l.prototype.save,l.prototype.export=l.prototype.output,l.prototype.run=l.prototype.then,Jt.getPageSize=function(c,d,h){if(mn(c)==="object"){var g=c;c=g.orientation,d=g.unit||d,h=g.format||h}d=d||"mm",h=h||"a4",c=(""+(c||"P")).toLowerCase();var x,B=(""+h).toLowerCase(),w={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(d){case"pt":x=1;break;case"mm":x=72/25.4;break;case"cm":x=72/2.54;break;case"in":x=72;break;case"px":x=.75;break;case"pc":case"em":x=12;break;case"ex":x=6;break;default:throw"Invalid unit: "+d}var I,j=0,M=0;if(w.hasOwnProperty(B))j=w[B][1]/x,M=w[B][0]/x;else try{j=h[1],M=h[0]}catch{throw new Error("Invalid format: "+h)}if(c==="p"||c==="portrait")c="p",M>j&&(I=M,M=j,j=I);else{if(c!=="l"&&c!=="landscape")throw"Invalid orientation: "+c;c="l",j>M&&(I=M,M=j,j=I)}return{width:M,height:j,unit:d,k:x,orientation:c}},r.html=function(c,d){(d=d||{}).callback=d.callback||function(){},d.html2canvas=d.html2canvas||{},d.html2canvas.canvas=d.html2canvas.canvas||this.canvas,d.jsPDF=d.jsPDF||this,d.fontFaces=d.fontFaces?d.fontFaces.map(Oy):null;var h=new l(d);return d.worker?h:h.from(c).doCallback()}})(Jt.API),Jt.API.addJS=function(r){return GE=r,this.internal.events.subscribe("postPutResources",function(){$p=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+($p+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),qE=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+GE+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){$p!==void 0&&qE!==void 0&&this.internal.out("/Names <</JavaScript "+$p+" 0 R>>")}),this},(function(r){var e;r.events.push(["postPutResources",function(){var t=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var s=t.outline.render().split(/\r\n/),o=0;o<s.length;o++){var l=s[o],c=n.exec(l);if(c!=null){var d=c[1];t.internal.newObjectDeferredBegin(d,!1)}t.internal.write(l)}if(this.outline.createNamedDestinations){var h=this.internal.pages.length,g=[];for(o=0;o<h;o++){var x=t.internal.newObject();g.push(x);var B=t.internal.getPageInfo(o+1);t.internal.write("<< /D["+B.objId+" 0 R /XYZ null null null]>> endobj")}var w=t.internal.newObject();for(t.internal.write("<< /Names [ "),o=0;o<g.length;o++)t.internal.write("(page_"+(o+1)+")"+g[o]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+w+" 0 R"),t.internal.write(">>","endobj")}}]),r.events.push(["putCatalog",function(){var t=this;t.outline.root.children.length>0&&(t.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&t.internal.write("/Names "+e+" 0 R"))}]),r.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(n,s,o){var l={title:s,options:o,children:[]};return n==null&&(n=this.root),n.children.push(l),l},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(n){n.id=t.internal.newObjectDeferred();for(var s=0;s<n.children.length;s++)this.genIds_r(n.children[s])},t.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},t.outline.renderItems=function(n){for(var s=this.ctx.pdf.internal.getVerticalCoordinateString,o=0;o<n.children.length;o++){var l=n.children[o];this.objStart(l),this.line("/Title "+this.makeString(l.title)),this.line("/Parent "+this.makeRef(n)),o>0&&this.line("/Prev "+this.makeRef(n.children[o-1])),o<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[o+1])),l.children.length>0&&(this.line("/First "+this.makeRef(l.children[0])),this.line("/Last "+this.makeRef(l.children[l.children.length-1])));var c=this.count=this.count_r({count:0},l);if(c>0&&this.line("/Count "+c),l.options&&l.options.pageNumber){var d=t.internal.getPageInfo(l.options.pageNumber);this.line("/Dest ["+d.objId+" 0 R /XYZ 0 "+s(0)+" 0]")}this.objEnd()}for(var h=0;h<n.children.length;h++)this.renderItems(n.children[h])},t.outline.line=function(n){this.ctx.val+=n+`\r
`},t.outline.makeRef=function(n){return n.id+" 0 R"},t.outline.makeString=function(n){return"("+t.internal.pdfEscape(n)+")"},t.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(n,s){for(var o=0;o<s.children.length;o++)n.count++,this.count_r(n,s.children[o]);return n.count}}])})(Jt.API),(function(r){var e=[192,193,194,195,196,197,198,199];r.processJPEG=function(t,n,s,o,l,c){var d,h=this.decode.DCT_DECODE,g=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=l||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,d=(function(x){for(var B,w=256*x.charCodeAt(4)+x.charCodeAt(5),I=x.length,j={width:0,height:0,numcomponents:1},M=4;M<I;M+=2){if(M+=w,e.indexOf(x.charCodeAt(M+1))!==-1){B=256*x.charCodeAt(M+5)+x.charCodeAt(M+6),j={width:256*x.charCodeAt(M+7)+x.charCodeAt(M+8),height:B,numcomponents:x.charCodeAt(M+9)};break}w=256*x.charCodeAt(M+2)+x.charCodeAt(M+3)}return j})(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t),d.numcomponents){case 1:c=this.color_spaces.DEVICE_GRAY;break;case 4:c=this.color_spaces.DEVICE_CMYK;break;case 3:c=this.color_spaces.DEVICE_RGB}g={data:t,width:d.width,height:d.height,colorSpace:c,bitsPerComponent:8,filter:h,index:n,alias:s}}return g}})(Jt.API),Jt.API.processPNG=function(r,e,t,n){if(this.__addimage__.isArrayBuffer(r)&&(r=new Uint8Array(r)),this.__addimage__.isArrayBufferView(r)){var s,o=JW(r,{checkCrc:!0}),l=o.width,c=o.height,d=o.channels,h=o.palette,g=o.depth;s=h&&d===1?(function(U){for(var S=U.width,P=U.height,E=U.data,F=U.palette,Q=U.depth,J=!1,xe=[],ie=[],Z=void 0,Ae=!1,be=0,Ee=0;Ee<F.length;Ee++){var $=W3(F[Ee],4),D=$[0],q=$[1],te=$[2],re=$[3];xe.push(D,q,te),re!=null&&(re===0?(be++,ie.length<1&&ie.push(Ee)):re<255&&(Ae=!0))}if(Ae||be>1){J=!0,ie=void 0;var fe=S*P;Z=new Uint8Array(fe);for(var ge=new DataView(E.buffer),Be=0;Be<fe;Be++){var _e=Py(ge,Be,Q),Oe=W3(F[_e],4)[3];Z[Be]=Oe}}else be===0&&(ie=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:J?8:void 0,colorBytes:E,alphaBytes:Z,needSMask:J,palette:xe,mask:ie}})(o):d===2||d===4?(function(U){for(var S=U.data,P=U.width,E=U.height,F=U.channels,Q=U.depth,J=F===2?"DeviceGray":"DeviceRGB",xe=F-1,ie=P*E,Z=xe,Ae=ie*Z,be=1*ie,Ee=Math.ceil(Ae*Q/8),$=Math.ceil(be*Q/8),D=new Uint8Array(Ee),q=new Uint8Array($),te=new DataView(S.buffer),re=new DataView(D.buffer),fe=new DataView(q.buffer),ge=!1,Be=0;Be<ie;Be++){for(var _e=Be*F,Oe=0;Oe<Z;Oe++)rS(re,Py(te,_e+Oe,Q),Be*Z+Oe,Q);var He=Py(te,_e+Z,Q);He<(1<<Q)-1&&(ge=!0),rS(fe,He,1*Be,Q)}return{colorSpace:J,colorsPerPixel:xe,sMaskBitsPerComponent:ge?Q:void 0,colorBytes:D,alphaBytes:q,needSMask:ge}})(o):(function(U){var S=U.data,P=U.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:P,colorsPerPixel:P==="DeviceGray"?1:3,colorBytes:S instanceof Uint16Array?(function(E){for(var F=E.length,Q=new Uint8Array(2*F),J=new DataView(Q.buffer,Q.byteOffset,Q.byteLength),xe=0;xe<F;xe++)J.setUint16(2*xe,E[xe],!1);return Q})(S):S,needSMask:!1}})(o);var x,B,w,I=s,j=I.colorSpace,M=I.colorsPerPixel,L=I.sMaskBitsPerComponent,X=I.colorBytes,V=I.alphaBytes,z=I.needSMask,ne=I.palette,le=I.mask,R=null;return n!==Jt.API.image_compression.NONE&&typeof av=="function"?(R=(function(U){var S;switch(U){case Jt.API.image_compression.FAST:S=11;break;case Jt.API.image_compression.MEDIUM:S=13;break;case Jt.API.image_compression.SLOW:S=14;break;default:S=12}return S})(n),x=this.decode.FLATE_DECODE,B="/Predictor ".concat(R," /Colors ").concat(M," /BitsPerComponent ").concat(g," /Columns ").concat(l),r=WE(X,Math.ceil(l*M*g/8),M,g,n),z&&(w=WE(V,Math.ceil(l*L/8),1,L,n))):(x=void 0,B=void 0,r=X,z&&(w=V)),(this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r))&&(r=this.__addimage__.arrayBufferToBinaryString(r)),(w&&this.__addimage__.isArrayBuffer(w)||this.__addimage__.isArrayBufferView(w))&&(w=this.__addimage__.arrayBufferToBinaryString(w)),{alias:t,data:r,index:e,filter:x,decodeParameters:B,transparency:le,palette:ne,sMask:w,predictor:R,width:l,height:c,bitsPerComponent:g,sMaskBitsPerComponent:L,colorSpace:j}}},(function(r){r.processGIF89A=function(e,t,n,s){var o=new bJ(e),l=o.width,c=o.height,d=[];o.decodeAndBlitFrameRGBA(0,d);var h={data:d,width:l,height:c},g=new Hy(100).encode(h,100);return r.processJPEG.call(this,g,t,n,s)},r.processGIF87A=r.processGIF89A})(Jt.API),hA.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var r=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(r);for(var e=0;e<r;e++){var t=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:s,green:n,blue:t,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},hA.prototype.parseBGR=function(){this.pos=this.offset;try{var r="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[r]()}catch(t){Qn.log("bit decode error:"+t)}},hA.prototype.bit1=function(){var r,e=Math.ceil(this.width/8),t=e%4;for(r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,s=0;s<e;s++)for(var o=this.datav.getUint8(this.pos++,!0),l=n*this.width*4+8*s*4,c=0;c<8&&8*s+c<this.width;c++){var d=this.palette[o>>7-c&1];this.data[l+4*c]=d.blue,this.data[l+4*c+1]=d.green,this.data[l+4*c+2]=d.red,this.data[l+4*c+3]=255}t!==0&&(this.pos+=4-t)}},hA.prototype.bit4=function(){for(var r=Math.ceil(this.width/2),e=r%4,t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,s=0;s<r;s++){var o=this.datav.getUint8(this.pos++,!0),l=n*this.width*4+2*s*4,c=o>>4,d=15&o,h=this.palette[c];if(this.data[l]=h.blue,this.data[l+1]=h.green,this.data[l+2]=h.red,this.data[l+3]=255,2*s+1>=this.width)break;h=this.palette[d],this.data[l+4]=h.blue,this.data[l+4+1]=h.green,this.data[l+4+2]=h.red,this.data[l+4+3]=255}e!==0&&(this.pos+=4-e)}},hA.prototype.bit8=function(){for(var r=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var s=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*n;if(s<this.palette.length){var l=this.palette[s];this.data[o]=l.red,this.data[o+1]=l.green,this.data[o+2]=l.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}r!==0&&(this.pos+=4-r)}},hA.prototype.bit15=function(){for(var r=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(o&e)/e*255|0,c=(o>>5&e)/e*255|0,d=(o>>10&e)/e*255|0,h=o>>15?255:0,g=n*this.width*4+4*s;this.data[g]=d,this.data[g+1]=c,this.data[g+2]=l,this.data[g+3]=h}this.pos+=r}},hA.prototype.bit16=function(){for(var r=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var s=this.bottom_up?n:this.height-1-n,o=0;o<this.width;o++){var l=this.datav.getUint16(this.pos,!0);this.pos+=2;var c=(l&e)/e*255|0,d=(l>>5&t)/t*255|0,h=(l>>11)/e*255|0,g=s*this.width*4+4*o;this.data[g]=h,this.data[g+1]=d,this.data[g+2]=c,this.data[g+3]=255}this.pos+=r}},hA.prototype.bit24=function(){for(var r=this.height-1;r>=0;r--){for(var e=this.bottom_up?r:this.height-1-r,t=0;t<this.width;t++){var n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),l=e*this.width*4+4*t;this.data[l]=o,this.data[l+1]=s,this.data[l+2]=n,this.data[l+3]=255}this.pos+=this.width%4}},hA.prototype.bit32=function(){for(var r=this.height-1;r>=0;r--)for(var e=this.bottom_up?r:this.height-1-r,t=0;t<this.width;t++){var n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0),c=e*this.width*4+4*t;this.data[c]=o,this.data[c+1]=s,this.data[c+2]=n,this.data[c+3]=l}},hA.prototype.getData=function(){return this.data},(function(r){r.processBMP=function(e,t,n,s){var o=new hA(e,!1),l=o.width,c=o.height,d={data:o.getData(),width:l,height:c},h=new Hy(100).encode(d,100);return r.processJPEG.call(this,h,t,n,s)}})(Jt.API),sS.prototype.getData=function(){return this.data},(function(r){r.processWEBP=function(e,t,n,s){var o=new sS(e),l=o.width,c=o.height,d={data:o.getData(),width:l,height:c},h=new Hy(100).encode(d,100);return r.processJPEG.call(this,h,t,n,s)}})(Jt.API),Jt.API.processRGBA=function(r,e,t){for(var n=r.data,s=n.length,o=new Uint8Array(s/4*3),l=new Uint8Array(s/4),c=0,d=0,h=0;h<s;h+=4){var g=n[h],x=n[h+1],B=n[h+2],w=n[h+3];o[c++]=g,o[c++]=x,o[c++]=B,l[d++]=w}var I=this.__addimage__.arrayBufferToBinaryString(o);return{alpha:this.__addimage__.arrayBufferToBinaryString(l),data:I,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:r.width,height:r.height}},Jt.API.setLanguage=function(r){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[r]!==void 0&&(this.internal.languageSettings.languageCode=r,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Fh=Jt.API,Xp=Fh.getCharWidthsArray=function(r,e){var t,n,s=(e=e||{}).font||this.internal.getFont(),o=e.fontSize||this.internal.getFontSize(),l=e.charSpace||this.internal.getCharSpace(),c=e.widths?e.widths:s.metadata.Unicode.widths,d=c.fof?c.fof:1,h=e.kerning?e.kerning:s.metadata.Unicode.kerning,g=h.fof?h.fof:1,x=e.doKerning!==!1,B=0,w=r.length,I=0,j=c[0]||d,M=[];for(t=0;t<w;t++)n=r.charCodeAt(t),typeof s.metadata.widthOfString=="function"?M.push((s.metadata.widthOfGlyph(s.metadata.characterToGlyph(n))+l*(1e3/o)||0)/1e3):(B=x&&mn(h[n])==="object"&&!isNaN(parseInt(h[n][I],10))?h[n][I]/g:0,M.push((c[n]||j)/d+B)),I=n;return M},$E=Fh.getStringUnitWidth=function(r,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),s=e.charSpace||this.internal.getCharSpace();return Fh.processArabic&&(r=Fh.processArabic(r)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(r,t,s)/t:Xp.apply(this,arguments).reduce(function(o,l){return o+l},0)},XE=function(r,e,t,n){for(var s=[],o=0,l=r.length,c=0;o!==l&&c+e[o]<t;)c+=e[o],o++;s.push(r.slice(0,o));var d=o;for(c=0;o!==l;)c+e[o]>n&&(s.push(r.slice(d,o)),c=0,d=o),c+=e[o],o++;return d!==o&&s.push(r.slice(d,o)),s},YE=function(r,e,t){t||(t={});var n,s,o,l,c,d,h,g=[],x=[g],B=t.textIndent||0,w=0,I=0,j=r.split(" "),M=Xp.apply(this,[" ",t])[0];if(d=t.lineIndent===-1?j[0].length+2:t.lineIndent||0){var L=Array(d).join(" "),X=[];j.map(function(z){(z=z.split(/\s*\n/)).length>1?X=X.concat(z.map(function(ne,le){return(le&&ne.length?`
`:"")+ne})):X.push(z[0])}),j=X,d=$E.apply(this,[L,t])}for(o=0,l=j.length;o<l;o++){var V=0;if(n=j[o],d&&n[0]==`
`&&(n=n.substr(1),V=1),B+w+(I=(s=Xp.apply(this,[n,t])).reduce(function(z,ne){return z+ne},0))>e||V){if(I>e){for(c=XE.apply(this,[n,s,e-(B+w),e]),g.push(c.shift()),g=[c.pop()];c.length;)x.push([c.shift()]);I=s.slice(n.length-(g[0]?g[0].length:0)).reduce(function(z,ne){return z+ne},0)}else g=[n];x.push(g),B=I+d,w=M}else g.push(n),B+=w+I,w=M}return h=d?function(z,ne){return(ne?L:"")+z.join(" ")}:function(z){return z.join(" ")},x.map(h)},Fh.splitTextToSize=function(r,e,t){var n,s=(t=t||{}).fontSize||this.internal.getFontSize(),o=(function(g){if(g.widths&&g.kerning)return{widths:g.widths,kerning:g.kerning};var x=this.internal.getFont(g.fontName,g.fontStyle),B="Unicode";return x.metadata[B]?{widths:x.metadata[B].widths||{0:1},kerning:x.metadata[B].kerning||{}}:{font:x.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);n=Array.isArray(r)?r:String(r).split(/\r?\n/);var l=1*this.internal.scaleFactor*e/s;o.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/s:0,o.lineIndent=t.lineIndent;var c,d,h=[];for(c=0,d=n.length;c<d;c++)h=h.concat(YE.apply(this,[n[c],l,o]));return h},(function(r){r.__fontmetrics__=r.__fontmetrics__||{};for(var e="0123456789abcdef",t="klmnopqrstuvwxyz",n={},s={},o=0;o<16;o++)n[t[o]]=e[o],s[e[o]]=t[o];var l=function(B){return"0x"+parseInt(B,10).toString(16)},c=r.__fontmetrics__.compress=function(B){var w,I,j,M,L=["{"];for(var X in B){if(w=B[X],isNaN(parseInt(X,10))?I="'"+X+"'":(X=parseInt(X,10),I=(I=l(X).slice(2)).slice(0,-1)+s[I.slice(-1)]),typeof w=="number")w<0?(j=l(w).slice(3),M="-"):(j=l(w).slice(2),M=""),j=M+j.slice(0,-1)+s[j.slice(-1)];else{if(mn(w)!=="object")throw new Error("Don't know what to do with value type "+mn(w)+".");j=c(w)}L.push(I+j)}return L.push("}"),L.join("")},d=r.__fontmetrics__.uncompress=function(B){if(typeof B!="string")throw new Error("Invalid argument passed to uncompress.");for(var w,I,j,M,L={},X=1,V=L,z=[],ne="",le="",R=B.length-1,U=1;U<R;U+=1)(M=B[U])=="'"?w?(j=w.join(""),w=void 0):w=[]:w?w.push(M):M=="{"?(z.push([V,j]),V={},j=void 0):M=="}"?((I=z.pop())[0][I[1]]=V,j=void 0,V=I[0]):M=="-"?X=-1:j===void 0?n.hasOwnProperty(M)?(ne+=n[M],j=parseInt(ne,16)*X,X=1,ne=""):ne+=M:n.hasOwnProperty(M)?(le+=n[M],V[j]=parseInt(le,16)*X,X=1,j=void 0,le=""):le+=M;return L},h={codePages:["WinAnsiEncoding"],WinAnsiEncoding:d("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},g={Unicode:{Courier:h,"Courier-Bold":h,"Courier-BoldOblique":h,"Courier-Oblique":h,Helvetica:h,"Helvetica-Bold":h,"Helvetica-BoldOblique":h,"Helvetica-Oblique":h,"Times-Roman":h,"Times-Bold":h,"Times-BoldItalic":h,"Times-Italic":h}},x={Unicode:{"Courier-Oblique":d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":d("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":d("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":d("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:d("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:d("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":d("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:d("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":d("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":d("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":d("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};r.events.push(["addFont",function(B){var w=B.font,I=x.Unicode[w.postScriptName];I&&(w.metadata.Unicode={},w.metadata.Unicode.widths=I.widths,w.metadata.Unicode.kerning=I.kerning);var j=g.Unicode[w.postScriptName];j&&(w.metadata.Unicode.encoding=j,w.encoding=j.codePages[0])}])})(Jt.API),(function(r){var e=function(t){for(var n=t.length,s=new Uint8Array(n),o=0;o<n;o++)s[o]=t.charCodeAt(o);return s};r.API.events.push(["addFont",function(t){var n=void 0,s=t.font,o=t.instance;if(!s.isStandardFont){if(o===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");if(typeof(n=o.existsFileInVFS(s.postScriptName)===!1?o.loadFile(s.postScriptName):o.getFileFromVFS(s.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");(function(l,c){c=/^\x00\x01\x00\x00/.test(c)?e(c):e(x1(c)),l.metadata=r.API.TTFFont.open(c),l.metadata.Unicode=l.metadata.Unicode||{encoding:{},kerning:{},widths:[]},l.metadata.glyIdsUsed=[0]})(s,n)}}])})(Jt),Jt.API.addSvgAsImage=function(r,e,t,n,s,o,l,c){if(isNaN(e)||isNaN(t))throw Qn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(s))throw Qn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var d=document.createElement("canvas");d.width=n,d.height=s;var h=d.getContext("2d");h.fillStyle="#fff",h.fillRect(0,0,d.width,d.height);var g={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},x=this;return(xr.canvg?Promise.resolve(xr.canvg):wy(()=>import("./index.es-CPDQMvBR.js"),[],import.meta.url)).catch(function(B){return Promise.reject(new Error("Could not load canvg: "+B))}).then(function(B){return B.default?B.default:B}).then(function(B){return B.fromString(h,r,g)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(B){return B.render(g)}).then(function(){x.addImage(d.toDataURL("image/jpeg",1),e,t,n,s,l,c)})},Jt.API.putTotalPages=function(r){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(r,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(r,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var s=0;s<this.internal.pages[n].length;s++)this.internal.pages[n][s]=this.internal.pages[n][s].replace(e,t);return this},Jt.API.viewerPreferences=function(r,e){var t;r=r||{},e=e||!1;var n,s,o,l={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},c=Object.keys(l),d=[],h=0,g=0,x=0;function B(I,j){var M,L=!1;for(M=0;M<I.length;M+=1)I[M]===j&&(L=!0);return L}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(l)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,r==="reset"||e===!0){var w=c.length;for(x=0;x<w;x+=1)t[c[x]].value=t[c[x]].defaultValue,t[c[x]].explicitSet=!1}if(mn(r)==="object"){for(s in r)if(o=r[s],B(c,s)&&o!==void 0){if(t[s].type==="boolean"&&typeof o=="boolean")t[s].value=o;else if(t[s].type==="name"&&B(t[s].valueSet,o))t[s].value=o;else if(t[s].type==="integer"&&Number.isInteger(o))t[s].value=o;else if(t[s].type==="array"){for(h=0;h<o.length;h+=1)if(n=!0,o[h].length===1&&typeof o[h][0]=="number")d.push(String(o[h]-1));else if(o[h].length>1){for(g=0;g<o[h].length;g+=1)typeof o[h][g]!="number"&&(n=!1);n===!0&&d.push([o[h][0]-1,o[h][1]-1].join(" "))}t[s].value="["+d.join(" ")+"]"}else t[s].value=t[s].defaultValue;t[s].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var I,j=[];for(I in t)t[I].explicitSet===!0&&(t[I].type==="name"?j.push("/"+I+" /"+t[I].value):j.push("/"+I+" "+t[I].value));j.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+j.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},(function(r){var e=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',s=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),o=unescape(encodeURIComponent(n)),l=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),c=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),d=unescape(encodeURIComponent("</x:xmpmeta>")),h=o.length+l.length+c.length+s.length+d.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+h+" >>"),this.internal.write("stream"),this.internal.write(s+o+l+c+d),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};r.addMetadata=function(n,s){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:s||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",e)),this}})(Jt.API),(function(r){var e=r.API,t=e.pdfEscape16=function(o,l){for(var c,d=l.metadata.Unicode.widths,h=["","0","00","000","0000"],g=[""],x=0,B=o.length;x<B;++x){if(c=l.metadata.characterToGlyph(o.charCodeAt(x)),l.metadata.glyIdsUsed.push(c),l.metadata.toUnicode[c]=o.charCodeAt(x),d.indexOf(c)==-1&&(d.push(c),d.push([parseInt(l.metadata.widthOfGlyph(c),10)])),c=="0")return g.join("");c=c.toString(16),g.push(h[4-c.length],c)}return g.join("")},n=function(o){var l,c,d,h,g,x,B;for(g=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,d=[],x=0,B=(c=Object.keys(o).sort(function(w,I){return w-I})).length;x<B;x++)l=c[x],d.length>=100&&(g+=`
`+d.length+` beginbfchar
`+d.join(`
`)+`
endbfchar`,d=[]),o[l]!==void 0&&o[l]!==null&&typeof o[l].toString=="function"&&(h=("0000"+o[l].toString(16)).slice(-4),l=("0000"+(+l).toString(16)).slice(-4),d.push("<"+l+"><"+h+">"));return d.length&&(g+=`
`+d.length+` beginbfchar
`+d.join(`
`)+`
endbfchar
`),g+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(o){(function(l){var c=l.font,d=l.out,h=l.newObject,g=l.putStream;if(c.metadata instanceof r.API.TTFFont&&c.encoding==="Identity-H"){for(var x=c.metadata.Unicode.widths,B=c.metadata.subset.encode(c.metadata.glyIdsUsed,1),w="",I=0;I<B.length;I++)w+=String.fromCharCode(B[I]);var j=h();g({data:w,addLength1:!0,objectId:j}),d("endobj");var M=h();g({data:n(c.metadata.toUnicode),addLength1:!0,objectId:M}),d("endobj");var L=h();d("<<"),d("/Type /FontDescriptor"),d("/FontName /"+Hh(c.fontName)),d("/FontFile2 "+j+" 0 R"),d("/FontBBox "+r.API.PDFObject.convert(c.metadata.bbox)),d("/Flags "+c.metadata.flags),d("/StemV "+c.metadata.stemV),d("/ItalicAngle "+c.metadata.italicAngle),d("/Ascent "+c.metadata.ascender),d("/Descent "+c.metadata.decender),d("/CapHeight "+c.metadata.capHeight),d(">>"),d("endobj");var X=h();d("<<"),d("/Type /Font"),d("/BaseFont /"+Hh(c.fontName)),d("/FontDescriptor "+L+" 0 R"),d("/W "+r.API.PDFObject.convert(x)),d("/CIDToGIDMap /Identity"),d("/DW 1000"),d("/Subtype /CIDFontType2"),d("/CIDSystemInfo"),d("<<"),d("/Supplement 0"),d("/Registry (Adobe)"),d("/Ordering ("+c.encoding+")"),d(">>"),d(">>"),d("endobj"),c.objectNumber=h(),d("<<"),d("/Type /Font"),d("/Subtype /Type0"),d("/ToUnicode "+M+" 0 R"),d("/BaseFont /"+Hh(c.fontName)),d("/Encoding /"+c.encoding),d("/DescendantFonts ["+X+" 0 R]"),d(">>"),d("endobj"),c.isAlreadyPutted=!0}})(o)}]),e.events.push(["putFont",function(o){(function(l){var c=l.font,d=l.out,h=l.newObject,g=l.putStream;if(c.metadata instanceof r.API.TTFFont&&c.encoding==="WinAnsiEncoding"){for(var x=c.metadata.rawData,B="",w=0;w<x.length;w++)B+=String.fromCharCode(x[w]);var I=h();g({data:B,addLength1:!0,objectId:I}),d("endobj");var j=h();g({data:n(c.metadata.toUnicode),addLength1:!0,objectId:j}),d("endobj");var M=h();d("<<"),d("/Descent "+c.metadata.decender),d("/CapHeight "+c.metadata.capHeight),d("/StemV "+c.metadata.stemV),d("/Type /FontDescriptor"),d("/FontFile2 "+I+" 0 R"),d("/Flags 96"),d("/FontBBox "+r.API.PDFObject.convert(c.metadata.bbox)),d("/FontName /"+Hh(c.fontName)),d("/ItalicAngle "+c.metadata.italicAngle),d("/Ascent "+c.metadata.ascender),d(">>"),d("endobj"),c.objectNumber=h();for(var L=0;L<c.metadata.hmtx.widths.length;L++)c.metadata.hmtx.widths[L]=parseInt(c.metadata.hmtx.widths[L]*(1e3/c.metadata.head.unitsPerEm));d("<</Subtype/TrueType/Type/Font/ToUnicode "+j+" 0 R/BaseFont/"+Hh(c.fontName)+"/FontDescriptor "+M+" 0 R/Encoding/"+c.encoding+" /FirstChar 29 /LastChar 255 /Widths "+r.API.PDFObject.convert(c.metadata.hmtx.widths)+">>"),d("endobj"),c.isAlreadyPutted=!0}})(o)}]);var s=function(o){var l,c=o.text||"",d=o.x,h=o.y,g=o.options||{},x=o.mutex||{},B=x.pdfEscape,w=x.activeFontKey,I=x.fonts,j=w,M="",L=0,X="",V=I[j].encoding;if(I[j].encoding!=="Identity-H")return{text:c,x:d,y:h,options:g,mutex:x};for(X=c,j=w,Array.isArray(c)&&(X=c[0]),L=0;L<X.length;L+=1)I[j].metadata.hasOwnProperty("cmap")&&(l=I[j].metadata.cmap.unicode.codeMap[X[L].charCodeAt(0)]),l||X[L].charCodeAt(0)<256&&I[j].metadata.hasOwnProperty("Unicode")?M+=X[L]:M+="";var z="";return parseInt(j.slice(1))<14||V==="WinAnsiEncoding"?z=B(M,j).split("").map(function(ne){return ne.charCodeAt(0).toString(16)}).join(""):V==="Identity-H"&&(z=t(M,I[j])),x.isHex=!0,{text:z,x:d,y:h,options:g,mutex:x}};e.events.push(["postProcessText",function(o){var l=o.text||"",c=[],d={text:l,x:o.x,y:o.y,options:o.options,mutex:o.mutex};if(Array.isArray(l)){var h=0;for(h=0;h<l.length;h+=1)Array.isArray(l[h])&&l[h].length===3?c.push([s(Object.assign({},d,{text:l[h][0]})).text,l[h][1],l[h][2]]):c.push(s(Object.assign({},d,{text:l[h]})).text);o.text=c}else o.text=s(Object.assign({},d,{text:l})).text}])})(Jt),(function(r){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};r.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},r.addFileToVFS=function(t,n){return e.call(this),this.internal.vFS[t]=n,this},r.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}})(Jt.API),(function(r){r.__bidiEngine__=r.prototype.__bidiEngine__=function(n){var s,o,l,c,d,h,g,x=e,B=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],w=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],I={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},j={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},M=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],L=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),X=!1,V=0;this.__bidiEngine__={};var z=function(E){var F=E.charCodeAt(),Q=F>>8,J=j[Q];return J!==void 0?x[256*J+(255&F)]:Q===252||Q===253?"AL":L.test(Q)?"L":Q===8?"R":"N"},ne=function(E){for(var F,Q=0;Q<E.length;Q++){if((F=z(E.charAt(Q)))==="L")return!1;if(F==="R")return!0}return!1},le=function(E,F,Q,J){var xe,ie,Z,Ae,be=F[J];switch(be){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":X=!1;break;case"N":case"AN":break;case"EN":X&&(be="AN");break;case"AL":X=!0,be="R";break;case"WS":case"BN":be="N";break;case"CS":J<1||J+1>=F.length||(xe=Q[J-1])!=="EN"&&xe!=="AN"||(ie=F[J+1])!=="EN"&&ie!=="AN"?be="N":X&&(ie="AN"),be=ie===xe?ie:"N";break;case"ES":be=(xe=J>0?Q[J-1]:"B")==="EN"&&J+1<F.length&&F[J+1]==="EN"?"EN":"N";break;case"ET":if(J>0&&Q[J-1]==="EN"){be="EN";break}if(X){be="N";break}for(Z=J+1,Ae=F.length;Z<Ae&&F[Z]==="ET";)Z++;be=Z<Ae&&F[Z]==="EN"?"EN":"N";break;case"NSM":if(l&&!c){for(Ae=F.length,Z=J+1;Z<Ae&&F[Z]==="NSM";)Z++;if(Z<Ae){var Ee=E[J],$=Ee>=1425&&Ee<=2303||Ee===64286;if(xe=F[Z],$&&(xe==="R"||xe==="AL")){be="R";break}}}be=J<1||(xe=F[J-1])==="B"?"N":Q[J-1];break;case"B":X=!1,s=!0,be=V;break;case"S":o=!0,be="N"}return be},R=function(E,F,Q){var J=E.split("");return Q&&U(J,Q,{hiLevel:V}),J.reverse(),F&&F.reverse(),J.join("")},U=function(E,F,Q){var J,xe,ie,Z,Ae,be=-1,Ee=E.length,$=0,D=[],q=V?w:B,te=[];for(X=!1,s=!1,o=!1,xe=0;xe<Ee;xe++)te[xe]=z(E[xe]);for(ie=0;ie<Ee;ie++){if(Ae=$,D[ie]=le(E,te,D,ie),J=240&($=q[Ae][I[D[ie]]]),$&=15,F[ie]=Z=q[$][5],J>0)if(J===16){for(xe=be;xe<ie;xe++)F[xe]=1;be=-1}else be=-1;if(q[$][6])be===-1&&(be=ie);else if(be>-1){for(xe=be;xe<ie;xe++)F[xe]=Z;be=-1}te[ie]==="B"&&(F[ie]=0),Q.hiLevel|=Z}o&&(function(re,fe,ge){for(var Be=0;Be<ge;Be++)if(re[Be]==="S"){fe[Be]=V;for(var _e=Be-1;_e>=0&&re[_e]==="WS";_e--)fe[_e]=V}})(te,F,Ee)},S=function(E,F,Q,J,xe){if(!(xe.hiLevel<E)){if(E===1&&V===1&&!s)return F.reverse(),void(Q&&Q.reverse());for(var ie,Z,Ae,be,Ee=F.length,$=0;$<Ee;){if(J[$]>=E){for(Ae=$+1;Ae<Ee&&J[Ae]>=E;)Ae++;for(be=$,Z=Ae-1;be<Z;be++,Z--)ie=F[be],F[be]=F[Z],F[Z]=ie,Q&&(ie=Q[be],Q[be]=Q[Z],Q[Z]=ie);$=Ae}$++}}},P=function(E,F,Q){var J=E.split(""),xe={hiLevel:V};return Q||(Q=[]),U(J,Q,xe),(function(ie,Z,Ae){if(Ae.hiLevel!==0&&g)for(var be,Ee=0;Ee<ie.length;Ee++)Z[Ee]===1&&(be=M.indexOf(ie[Ee]))>=0&&(ie[Ee]=M[be+1])})(J,Q,xe),S(2,J,F,Q,xe),S(1,J,F,Q,xe),J.join("")};return this.__bidiEngine__.doBidiReorder=function(E,F,Q){if((function(xe,ie){if(ie)for(var Z=0;Z<xe.length;Z++)ie[Z]=Z;c===void 0&&(c=ne(xe)),h===void 0&&(h=ne(xe))})(E,F),l||!d||h)if(l&&d&&c^h)V=c?1:0,E=R(E,F,Q);else if(!l&&d&&h)V=c?1:0,E=P(E,F,Q),E=R(E,F);else if(!l||c||d||h){if(l&&!d&&c^h)E=R(E,F),c?(V=0,E=P(E,F,Q)):(V=1,E=P(E,F,Q),E=R(E,F));else if(l&&c&&!d&&h)V=1,E=P(E,F,Q),E=R(E,F);else if(!l&&!d&&c^h){var J=g;c?(V=1,E=P(E,F,Q),V=0,g=!1,E=P(E,F,Q),g=J):(V=0,E=P(E,F,Q),E=R(E,F),V=1,g=!1,E=P(E,F,Q),g=J,E=R(E,F))}}else V=0,E=P(E,F,Q);else V=c?1:0,E=P(E,F,Q);return E},this.__bidiEngine__.setOptions=function(E){E&&(l=E.isInputVisual,d=E.isOutputVisual,c=E.isInputRtl,h=E.isOutputRtl,g=E.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new r.__bidiEngine__({isInputVisual:!0});r.API.events.push(["postProcessText",function(n){var s=n.text;n.x,n.y;var o=n.options||{};n.mutex,o.lang;var l=[];if(o.isInputVisual=typeof o.isInputVisual!="boolean"||o.isInputVisual,t.setOptions(o),Object.prototype.toString.call(s)==="[object Array]"){var c=0;for(l=[],c=0;c<s.length;c+=1)Object.prototype.toString.call(s[c])==="[object Array]"?l.push([t.doBidiReorder(s[c][0]),s[c][1],s[c][2]]):l.push([t.doBidiReorder(s[c])]);n.text=l}else n.text=t.doBidiReorder(s);t.setOptions({isInputVisual:!0})}])})(Jt),Jt.API.TTFFont=(function(){function r(e){var t;if(this.rawData=e,t=this.contents=new Cu(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new kJ(this),this.registerTTF()}return r.open=function(e){return new r(e)},r.prototype.parse=function(){return this.directory=new yJ(this.contents),this.head=new vJ(this),this.name=new EJ(this),this.cmap=new aU(this),this.toUnicode={},this.hhea=new BJ(this),this.maxp=new SJ(this),this.hmtx=new IJ(this),this.post=new _J(this),this.os2=new NJ(this),this.loca=new FJ(this),this.glyf=new jJ(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},r.prototype.registerTTF=function(){var e,t,n,s,o;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var l,c,d,h;for(h=[],l=0,c=(d=this.bbox).length;l<c;l++)e=d[l],h.push(Math.round(e*this.scaleFactor));return h}).call(this),this.stemV=0,this.post.exists?(n=255&(s=this.post.italic_angle),32768&(t=s>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(o=this.familyClass)===1||o===2||o===3||o===4||o===5||o===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},r.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},r.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},r.prototype.widthOfString=function(e,t,n){var s,o,l,c;for(l=0,o=0,c=(e=""+e).length;0<=c?o<c:o>c;o=0<=c?++o:--o)s=e.charCodeAt(o),l+=this.widthOfGlyph(this.characterToGlyph(s))+n*(1e3/t)||0;return l*(t/1e3)},r.prototype.lineHeight=function(e,t){var n;return t==null&&(t=!1),n=t?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},r})();var EA,Cu=(function(){function r(e){this.data=e??[],this.pos=0,this.length=this.data.length}return r.prototype.readByte=function(){return this.data[this.pos++]},r.prototype.writeByte=function(e){return this.data[this.pos++]=e},r.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},r.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},r.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},r.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},r.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},r.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},r.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},r.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},r.prototype.readString=function(e){var t,n;for(n=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)n[t]=String.fromCharCode(this.readByte());return n.join("")},r.prototype.writeString=function(e){var t,n,s;for(s=[],t=0,n=e.length;0<=n?t<n:t>n;t=0<=n?++t:--t)s.push(this.writeByte(e.charCodeAt(t)));return s},r.prototype.readShort=function(){return this.readInt16()},r.prototype.writeShort=function(e){return this.writeInt16(e)},r.prototype.readLongLong=function(){var e,t,n,s,o,l,c,d;return e=this.readByte(),t=this.readByte(),n=this.readByte(),s=this.readByte(),o=this.readByte(),l=this.readByte(),c=this.readByte(),d=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^n)+4294967296*(255^s)+16777216*(255^o)+65536*(255^l)+256*(255^c)+(255^d)+1):72057594037927940*e+281474976710656*t+1099511627776*n+4294967296*s+16777216*o+65536*l+256*c+d},r.prototype.writeLongLong=function(e){var t,n;return t=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},r.prototype.readInt=function(){return this.readInt32()},r.prototype.writeInt=function(e){return this.writeInt32(e)},r.prototype.read=function(e){var t,n;for(t=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)t.push(this.readByte());return t},r.prototype.write=function(e){var t,n,s,o;for(o=[],n=0,s=e.length;n<s;n++)t=e[n],o.push(this.writeByte(t));return o},r})(),yJ=(function(){var r;function e(t){var n,s,o;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},s=0,o=this.tableCount;0<=o?s<o:s>o;s=0<=o?++s:--s)n={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(t){var n,s,o,l,c,d,h,g,x,B,w,I,j;for(j in w=Object.keys(t).length,d=Math.log(2),x=16*Math.floor(Math.log(w)/d),l=Math.floor(x/d),g=16*w-x,(s=new Cu).writeInt(this.scalarType),s.writeShort(w),s.writeShort(x),s.writeShort(l),s.writeShort(g),o=16*w,h=s.pos+o,c=null,I=[],t)for(B=t[j],s.writeString(j),s.writeInt(r(B)),s.writeInt(h),s.writeInt(B.length),I=I.concat(B),j==="head"&&(c=h),h+=B.length;h%4;)I.push(0),h++;return s.write(I),n=2981146554-r(s.data),s.pos=c+8,s.writeUInt32(n),s.data},r=function(t){var n,s,o,l;for(t=iU.call(t);t.length%4;)t.push(0);for(o=new Cu(t),s=0,n=0,l=t.length;n<l;n=n+=4)s+=o.readUInt32();return 4294967295&s},e})(),wJ={}.hasOwnProperty,bl=function(r,e){for(var t in e)wJ.call(e,t)&&(r[t]=e[t]);function n(){this.constructor=r}return n.prototype=e.prototype,r.prototype=new n,r.__super__=e.prototype,r};EA=(function(){function r(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return r.prototype.parse=function(){},r.prototype.encode=function(){},r.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},r})();var vJ=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return bl(r,EA),r.prototype.tag="head",r.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},r.prototype.encode=function(e){var t;return(t=new Cu).writeInt(this.version),t.writeInt(this.revision),t.writeInt(this.checkSumAdjustment),t.writeInt(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.writeLongLong(this.created),t.writeLongLong(this.modified),t.writeShort(this.xMin),t.writeShort(this.yMin),t.writeShort(this.xMax),t.writeShort(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort(this.fontDirectionHint),t.writeShort(e),t.writeShort(this.glyphDataFormat),t.data},r})(),aS=(function(){function r(e,t){var n,s,o,l,c,d,h,g,x,B,w,I,j,M,L,X,V;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),x=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(d=0;d<256;++d)this.codeMap[d]=e.readByte();break;case 4:for(w=e.readUInt16(),B=w/2,e.pos+=6,o=(function(){var z,ne;for(ne=[],d=z=0;0<=B?z<B:z>B;d=0<=B?++z:--z)ne.push(e.readUInt16());return ne})(),e.pos+=2,j=(function(){var z,ne;for(ne=[],d=z=0;0<=B?z<B:z>B;d=0<=B?++z:--z)ne.push(e.readUInt16());return ne})(),h=(function(){var z,ne;for(ne=[],d=z=0;0<=B?z<B:z>B;d=0<=B?++z:--z)ne.push(e.readUInt16());return ne})(),g=(function(){var z,ne;for(ne=[],d=z=0;0<=B?z<B:z>B;d=0<=B?++z:--z)ne.push(e.readUInt16());return ne})(),s=(this.length-e.pos+this.offset)/2,c=(function(){var z,ne;for(ne=[],d=z=0;0<=s?z<s:z>s;d=0<=s?++z:--z)ne.push(e.readUInt16());return ne})(),d=L=0,V=o.length;L<V;d=++L)for(M=o[d],n=X=I=j[d];I<=M?X<=M:X>=M;n=I<=M?++X:--X)g[d]===0?l=n+h[d]:(l=c[g[d]/2+(n-I)-(B-d)]||0)!==0&&(l+=h[d]),this.codeMap[n]=65535&l}e.pos=x}return r.encode=function(e,t){var n,s,o,l,c,d,h,g,x,B,w,I,j,M,L,X,V,z,ne,le,R,U,S,P,E,F,Q,J,xe,ie,Z,Ae,be,Ee,$,D,q,te,re,fe,ge,Be,_e,Oe,He,it;switch(J=new Cu,l=Object.keys(e).sort(function(me,Me){return me-Me}),t){case"macroman":for(j=0,M=(function(){var me=[];for(I=0;I<256;++I)me.push(0);return me})(),X={0:0},o={},xe=0,be=l.length;xe<be;xe++)X[_e=e[s=l[xe]]]==null&&(X[_e]=++j),o[s]={old:e[s],new:X[e[s]]},M[s]=X[e[s]];return J.writeUInt16(1),J.writeUInt16(0),J.writeUInt32(12),J.writeUInt16(0),J.writeUInt16(262),J.writeUInt16(0),J.write(M),{charMap:o,subtable:J.data,maxGlyphID:j+1};case"unicode":for(F=[],x=[],V=0,X={},n={},L=h=null,ie=0,Ee=l.length;ie<Ee;ie++)X[ne=e[s=l[ie]]]==null&&(X[ne]=++V),n[s]={old:ne,new:X[ne]},c=X[ne]-s,L!=null&&c===h||(L&&x.push(L),F.push(s),h=c),L=s;for(L&&x.push(L),x.push(65535),F.push(65535),P=2*(S=F.length),U=2*Math.pow(Math.log(S)/Math.LN2,2),B=Math.log(U/2)/Math.LN2,R=2*S-U,d=[],le=[],w=[],I=Z=0,$=F.length;Z<$;I=++Z){if(E=F[I],g=x[I],E===65535){d.push(0),le.push(0);break}if(E-(Q=n[E].new)>=32768)for(d.push(0),le.push(2*(w.length+S-I)),s=Ae=E;E<=g?Ae<=g:Ae>=g;s=E<=g?++Ae:--Ae)w.push(n[s].new);else d.push(Q-E),le.push(0)}for(J.writeUInt16(3),J.writeUInt16(1),J.writeUInt32(12),J.writeUInt16(4),J.writeUInt16(16+8*S+2*w.length),J.writeUInt16(0),J.writeUInt16(P),J.writeUInt16(U),J.writeUInt16(B),J.writeUInt16(R),ge=0,D=x.length;ge<D;ge++)s=x[ge],J.writeUInt16(s);for(J.writeUInt16(0),Be=0,q=F.length;Be<q;Be++)s=F[Be],J.writeUInt16(s);for(Oe=0,te=d.length;Oe<te;Oe++)c=d[Oe],J.writeUInt16(c);for(He=0,re=le.length;He<re;He++)z=le[He],J.writeUInt16(z);for(it=0,fe=w.length;it<fe;it++)j=w[it],J.writeUInt16(j);return{charMap:n,subtable:J.data,maxGlyphID:V+1}}},r})(),aU=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return bl(r,EA),r.prototype.tag="cmap",r.prototype.parse=function(e){var t,n,s;for(e.pos=this.offset,this.version=e.readUInt16(),s=e.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=s?n<s:n>s;n=0<=s?++n:--n)t=new aS(e,this.offset),this.tables.push(t),t.isUnicode&&this.unicode==null&&(this.unicode=t);return!0},r.encode=function(e,t){var n,s;return t==null&&(t="macroman"),n=aS.encode(e,t),(s=new Cu).writeUInt16(0),s.writeUInt16(1),n.table=s.data.concat(n.subtable),n},r})(),BJ=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return bl(r,EA),r.prototype.tag="hhea",r.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},r})(),NJ=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return bl(r,EA),r.prototype.tag="OS/2",r.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var t,n;for(n=[],t=0;t<10;++t)n.push(e.readByte());return n})(),this.charRange=(function(){var t,n;for(n=[],t=0;t<4;++t)n.push(e.readInt());return n})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var t,n;for(n=[],t=0;t<2;t=++t)n.push(e.readInt());return n})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},r})(),_J=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return bl(r,EA),r.prototype.tag="post",r.prototype.parse=function(e){var t,n,s;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var o;for(n=e.readUInt16(),this.glyphNameIndex=[],o=0;0<=n?o<n:o>n;o=0<=n?++o:--o)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],s=[];e.pos<this.offset+this.length;)t=e.readByte(),s.push(this.names.push(e.readString(t)));return s;case 151552:return n=e.readUInt16(),this.offsets=e.read(n);case 262144:return this.map=(function(){var l,c,d;for(d=[],o=l=0,c=this.file.maxp.numGlyphs;0<=c?l<c:l>c;o=0<=c?++l:--l)d.push(e.readUInt32());return d}).call(this)}},r})(),CJ=function(r,e){this.raw=r,this.length=r.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},EJ=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return bl(r,EA),r.prototype.tag="name",r.prototype.parse=function(e){var t,n,s,o,l,c,d,h,g,x,B;for(e.pos=this.offset,e.readShort(),t=e.readShort(),c=e.readShort(),n=[],o=0;0<=t?o<t:o>t;o=0<=t?++o:--o)n.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+c+e.readShort()});for(d={},o=g=0,x=n.length;g<x;o=++g)s=n[o],e.pos=s.offset,h=e.readString(s.length),l=new CJ(h,s),d[B=s.nameID]==null&&(d[B]=[]),d[s.nameID].push(l);this.strings=d,this.copyright=d[0],this.fontFamily=d[1],this.fontSubfamily=d[2],this.uniqueSubfamily=d[3],this.fontName=d[4],this.version=d[5];try{this.postscriptName=d[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=d[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=d[7],this.manufacturer=d[8],this.designer=d[9],this.description=d[10],this.vendorUrl=d[11],this.designerUrl=d[12],this.license=d[13],this.licenseUrl=d[14],this.preferredFamily=d[15],this.preferredSubfamily=d[17],this.compatibleFull=d[18],this.sampleText=d[19]},r})(),SJ=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return bl(r,EA),r.prototype.tag="maxp",r.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},r})(),IJ=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return bl(r,EA),r.prototype.tag="hmtx",r.prototype.parse=function(e){var t,n,s,o,l,c,d;for(e.pos=this.offset,this.metrics=[],t=0,c=this.file.hhea.numberOfMetrics;0<=c?t<c:t>c;t=0<=c?++t:--t)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var h,g;for(g=[],t=h=0;0<=s?h<s:h>s;t=0<=s?++h:--h)g.push(e.readInt16());return g})(),this.widths=(function(){var h,g,x,B;for(B=[],h=0,g=(x=this.metrics).length;h<g;h++)o=x[h],B.push(o.advance);return B}).call(this),n=this.widths[this.widths.length-1],d=[],t=l=0;0<=s?l<s:l>s;t=0<=s?++l:--l)d.push(this.widths.push(n));return d},r.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},r})(),iU=[].slice,jJ=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return bl(r,EA),r.prototype.tag="glyf",r.prototype.parse=function(){return this.cache={}},r.prototype.glyphFor=function(e){var t,n,s,o,l,c,d,h,g,x;return e in this.cache?this.cache[e]:(o=this.file.loca,t=this.file.contents,n=o.indexOf(e),(s=o.lengthOf(e))===0?this.cache[e]=null:(t.pos=this.offset+n,l=(c=new Cu(t.read(s))).readShort(),h=c.readShort(),x=c.readShort(),d=c.readShort(),g=c.readShort(),this.cache[e]=l===-1?new UJ(c,h,x,d,g):new TJ(c,l,h,x,d,g),this.cache[e]))},r.prototype.encode=function(e,t,n){var s,o,l,c,d;for(l=[],o=[],c=0,d=t.length;c<d;c++)s=e[t[c]],o.push(l.length),s&&(l=l.concat(s.encode(n)));return o.push(l.length),{table:l,offsets:o}},r})(),TJ=(function(){function r(e,t,n,s,o,l){this.raw=e,this.numberOfContours=t,this.xMin=n,this.yMin=s,this.xMax=o,this.yMax=l,this.compound=!1}return r.prototype.encode=function(){return this.raw.data},r})(),UJ=(function(){function r(e,t,n,s,o){var l,c;for(this.raw=e,this.xMin=t,this.yMin=n,this.xMax=s,this.yMax=o,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],l=this.raw;c=l.readShort(),this.glyphOffsets.push(l.pos),this.glyphIDs.push(l.readUInt16()),32&c;)l.pos+=1&c?4:2,128&c?l.pos+=8:64&c?l.pos+=4:8&c&&(l.pos+=2)}return r.prototype.encode=function(){var e,t,n;for(t=new Cu(iU.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)t.pos=this.glyphOffsets[e];return t.data},r})(),FJ=(function(){function r(){return r.__super__.constructor.apply(this,arguments)}return bl(r,EA),r.prototype.tag="loca",r.prototype.parse=function(e){var t,n;return e.pos=this.offset,t=this.file.head.indexToLocFormat,this.offsets=t===0?(function(){var s,o;for(o=[],n=0,s=this.length;n<s;n+=2)o.push(2*e.readUInt16());return o}).call(this):(function(){var s,o;for(o=[],n=0,s=this.length;n<s;n+=4)o.push(e.readUInt32());return o}).call(this)},r.prototype.indexOf=function(e){return this.offsets[e]},r.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},r.prototype.encode=function(e,t){for(var n=new Uint32Array(this.offsets.length),s=0,o=0,l=0;l<n.length;++l)if(n[l]=s,o<t.length&&t[o]==l){++o,n[l]=s;var c=this.offsets[l],d=this.offsets[l+1]-c;d>0&&(s+=d)}for(var h=new Array(4*n.length),g=0;g<n.length;++g)h[4*g+3]=255&n[g],h[4*g+2]=(65280&n[g])>>8,h[4*g+1]=(16711680&n[g])>>16,h[4*g]=(4278190080&n[g])>>24;return h},r})(),kJ=(function(){function r(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return r.prototype.generateCmap=function(){var e,t,n,s,o;for(t in s=this.font.cmap.tables[0].codeMap,e={},o=this.subset)n=o[t],e[t]=s[n];return e},r.prototype.glyphsFor=function(e){var t,n,s,o,l,c,d;for(s={},l=0,c=e.length;l<c;l++)s[o=e[l]]=this.font.glyf.glyphFor(o);for(o in t=[],s)(n=s[o])!=null&&n.compound&&t.push.apply(t,n.glyphIDs);if(t.length>0)for(o in d=this.glyphsFor(t))n=d[o],s[o]=n;return s},r.prototype.encode=function(e,t){var n,s,o,l,c,d,h,g,x,B,w,I,j,M,L;for(s in n=aU.encode(this.generateCmap(),"unicode"),l=this.glyphsFor(e),w={0:0},L=n.charMap)w[(d=L[s]).old]=d.new;for(I in B=n.maxGlyphID,l)I in w||(w[I]=B++);return g=(function(X){var V,z;for(V in z={},X)z[X[V]]=V;return z})(w),x=Object.keys(g).sort(function(X,V){return X-V}),j=(function(){var X,V,z;for(z=[],X=0,V=x.length;X<V;X++)c=x[X],z.push(g[c]);return z})(),o=this.font.glyf.encode(l,j,w),h=this.font.loca.encode(o.offsets,j),M={cmap:this.font.cmap.raw(),glyf:o.table,loca:h,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(M["OS/2"]=this.font.os2.raw()),this.font.directory.encode(M)},r})();Jt.API.PDFObject=(function(){var r;function e(){}return r=function(t,n){return(Array(n+1).join("0")+t).slice(-n)},e.convert=function(t){var n,s,o,l;if(Array.isArray(t))return"["+(function(){var c,d,h;for(h=[],c=0,d=t.length;c<d;c++)n=t[c],h.push(e.convert(n));return h})().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t!=null&&t.isString)return"("+t+")";if(t instanceof Date)return"(D:"+r(t.getUTCFullYear(),4)+r(t.getUTCMonth(),2)+r(t.getUTCDate(),2)+r(t.getUTCHours(),2)+r(t.getUTCMinutes(),2)+r(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(s in o=["<<"],t)l=t[s],o.push("/"+s+" "+e.convert(l));return o.push(">>"),o.join(`
`)}return""+t},e})();const QJ=({onNavigate:r})=>{const{user:e}=go(),[t,n]=he.useState("MENU"),[s,o]=he.useState(!1),[l,c]=he.useState(!1),[d,h]=he.useState(!1),x=(()=>{if(!(e!=null&&e.isSubscriber)||!e.subscriptionExpiry)return!1;const le=e.subscriptionExpiry.seconds?e.subscriptionExpiry.seconds*1e3:new Date(e.subscriptionExpiry).getTime();return Date.now()<le})()||(e==null?void 0:e.role)==="teacher",[B,w]=he.useState({grammar:0,vocab:0,reading:0,total:0,overallAvg:0}),[I,j]=he.useState(!1),M=e?Math.floor((e.totalXP||0)/500)+1:1;he.useEffect(()=>{x&&L()},[e]);const L=async()=>{j(!0);const le=`etqan_quiz_history_${e==null?void 0:e.uid}`,R=localStorage.getItem(le);if(R)try{const{history:U}=JSON.parse(R);X(U),j(!1);return}catch(U){console.error(U)}try{const U=ya(bn(yr,"quiz_results"),wa("userId","==",e==null?void 0:e.uid)),P=(await yi(U)).docs.map(E=>E.data());X(P)}catch(U){console.error(U)}finally{j(!1)}},X=le=>{let R=0,U=0,S=0,P=0,E=0,F=0,Q=0;le.forEach(J=>{J.quizTitle.includes("")||J.quizTitle.includes("Grammar")?(R+=J.percentage,U++):J.quizTitle.includes("")||J.quizTitle.includes("Vocab")?(S+=J.percentage,P++):(E+=J.percentage,F++),Q+=J.percentage}),w({grammar:U?Math.round(R/U):0,vocab:P?Math.round(S/P):0,reading:F?Math.round(E/F):0,total:le.length,overallAvg:le.length?Math.round(Q/le.length):0})},V=()=>{t!=="MENU"?n("MENU"):r("HOME")},z=()=>{n("CERTIFICATE_PREVIEW")},ne=async()=>{o(!1),h(!0);const le=document.getElementById("certificate-node");if(le)try{const U=(await g8(le,{scale:2})).toDataURL("image/png"),S=new Jt("l","mm","a4"),P=S.internal.pageSize.getWidth(),E=S.internal.pageSize.getHeight();S.addImage(U,"PNG",0,0,P,E),S.save(`certificate-${(e==null?void 0:e.displayName)||"student"}.pdf`),c(!0),setTimeout(()=>c(!1),4e3)}catch(R){console.error(R),alert("    ")}finally{h(!1)}else h(!1)};return x?i.jsxs("div",{className:"min-h-screen bg-[#020202] animate-fade-in text-gray-100 pb-20 relative overflow-hidden",children:[i.jsxs("div",{className:"absolute inset-0 z-0 pointer-events-none",children:[i.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-[url('https://www.transparenttextures.com/patterns/stardust.png')] opacity-[0.03]"}),i.jsx("div",{className:"absolute top-[-20%] right-[-10%] w-[600px] h-[600px] bg-amber-600/5 rounded-full blur-[150px]"}),i.jsx("div",{className:"absolute bottom-[-20%] left-[-10%] w-[600px] h-[600px] bg-purple-900/5 rounded-full blur-[150px]"})]}),i.jsx("div",{className:"max-w-6xl mx-auto px-4 pt-2 pb-2 relative z-30",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("button",{onClick:V,className:"p-2 bg-gray-900/50 hover:bg-amber-900/20 rounded-xl transition-all text-gray-400 hover:text-amber-400 border border-white/5 hover:border-amber-500/30 shadow-lg backdrop-blur-sm group",children:i.jsx(an,{className:"w-4 h-4 group-hover:-translate-x-1 transition-transform"})}),i.jsxs("div",{children:[i.jsxs("h1",{className:"text-lg font-black text-white tracking-tight mb-0.5 flex items-center gap-2",children:[" ",i.jsx(ns,{className:"w-4 h-4 text-amber-500 fill-amber-500"})]}),i.jsxs("div",{className:"flex items-center gap-1.5 text-[10px] md:text-xs font-medium text-gray-500",children:[i.jsxs("span",{onClick:()=>r("HOME"),className:"hover:text-amber-400 cursor-pointer transition-colors flex items-center gap-1",children:[i.jsx(zn,{className:"w-3 h-3"})," "]}),i.jsx("span",{className:"text-gray-700",children:"/"}),i.jsx("span",{className:"text-amber-500 flex items-center gap-1",children:t==="ANALYSIS"?" ":t==="CERTIFICATE_PREVIEW"?" ":" "})]})]})]})}),i.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-6 relative z-10",children:[t==="MENU"&&i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 animate-fade-in",children:[i.jsxs("button",{onClick:()=>n("ANALYSIS"),className:"group relative w-full bg-[#080808] rounded-[2.5rem] p-8 border border-white/5 hover:border-amber-500/30 transition-all duration-500 shadow-xl overflow-hidden text-right h-64 flex flex-col justify-center",children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-amber-500/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-700 pointer-events-none"}),i.jsxs("div",{className:"relative z-10 flex flex-col items-center text-center gap-4",children:[i.jsx("div",{className:"w-20 h-20 rounded-3xl bg-gradient-to-br from-gray-800 to-gray-900 border border-amber-500/20 flex items-center justify-center shrink-0 group-hover:scale-110 transition-transform duration-500 shadow-[0_0_30px_rgba(0,0,0,0.5)]",children:i.jsx(Yp,{className:"w-10 h-10 text-amber-500"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-2xl font-black text-white mb-2 group-hover:text-amber-100 transition-colors",children:" "}),i.jsx("p",{className:"text-gray-500 text-sm leading-relaxed font-medium",children:"        "})]})]})]}),i.jsxs("button",{onClick:z,className:"group relative w-full bg-[#080808] rounded-[2.5rem] p-8 border transition-all duration-500 shadow-xl overflow-hidden text-right h-64 flex flex-col justify-center border-white/5 hover:border-emerald-500/30",children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-emerald-500/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-700 pointer-events-none"}),i.jsxs("div",{className:"relative z-10 flex flex-col items-center text-center gap-4",children:[i.jsx("div",{className:"w-20 h-20 rounded-3xl bg-gradient-to-br from-gray-800 to-gray-900 border flex items-center justify-center shrink-0 transition-transform duration-500 shadow-[0_0_30px_rgba(0,0,0,0.5)] border-emerald-500/20 group-hover:scale-110",children:i.jsx(TQ,{className:"w-10 h-10 text-emerald-500"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-2xl font-black text-white mb-2 group-hover:text-emerald-100 transition-colors",children:" "}),i.jsx("p",{className:"text-gray-500 text-sm leading-relaxed font-medium",children:"      "})]})]})]})]}),t==="ANALYSIS"&&i.jsx("div",{className:"animate-fade-in",children:i.jsxs("div",{className:"bg-[#080808] rounded-[2rem] p-8 md:p-10 border border-white/10 shadow-2xl relative overflow-hidden",children:[i.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-amber-500/5 rounded-full blur-[80px] pointer-events-none"}),i.jsxs("div",{className:"flex flex-col md:flex-row items-center gap-6 mb-10 pb-8 border-b border-white/5 relative z-10",children:[i.jsx("div",{className:"p-3 bg-amber-500/10 rounded-2xl border border-amber-500/20 shadow-inner",children:i.jsx(bS,{className:"w-8 h-8 text-amber-500"})}),i.jsxs("div",{className:"text-center md:text-right",children:[i.jsx("h2",{className:"text-2xl font-black text-white mb-1",children:"  "}),i.jsxs("p",{className:"text-gray-500 text-sm",children:["    ",B.total," "]})]})]}),I?i.jsxs("div",{className:"py-20 text-center flex flex-col items-center gap-4",children:[i.jsx("div",{className:"w-10 h-10 border-4 border-amber-500/30 border-t-amber-500 rounded-full animate-spin"}),i.jsx("p",{className:"text-amber-500/80 font-bold text-sm animate-pulse",children:"  ..."})]}):B.total===0?i.jsxs("div",{className:"text-center py-16 bg-white/[0.02] rounded-3xl border border-dashed border-white/10",children:[i.jsx(Yp,{className:"w-12 h-12 mx-auto mb-4 text-gray-600 opacity-50"}),i.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"   "}),i.jsx("p",{className:"text-gray-500 text-sm max-w-xs mx-auto mb-6",children:"      ."}),i.jsx("button",{onClick:()=>r("QUIZZES"),className:"bg-amber-600 hover:bg-amber-700 text-white px-6 py-2.5 rounded-xl font-bold transition-colors shadow-lg text-sm",children:" "})]}):i.jsxs("div",{className:"space-y-8 relative z-10",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-12 gap-y-8",children:[i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex justify-between text-xs font-bold text-gray-400",children:[i.jsxs("span",{className:"flex items-center gap-2",children:[i.jsx(qg,{className:"w-3.5 h-3.5 text-blue-400"}),"  (Grammar)"]}),i.jsxs("span",{className:B.grammar<50?"text-red-400":"text-emerald-400",children:[B.grammar,"%"]})]}),i.jsx("div",{className:"w-full h-3 bg-gray-800 rounded-full overflow-hidden",children:i.jsx("div",{className:`h-full rounded-full transition-all duration-1000 ${B.grammar<50?"bg-red-500":B.grammar<80?"bg-amber-500":"bg-emerald-500"}`,style:{width:`${B.grammar}%`}})})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex justify-between text-xs font-bold text-gray-400",children:[i.jsxs("span",{className:"flex items-center gap-2",children:[i.jsx(ra,{className:"w-3.5 h-3.5 text-purple-400"}),"  (Vocabulary)"]}),i.jsxs("span",{className:B.vocab<50?"text-red-400":"text-emerald-400",children:[B.vocab,"%"]})]}),i.jsx("div",{className:"w-full h-3 bg-gray-800 rounded-full overflow-hidden",children:i.jsx("div",{className:`h-full rounded-full transition-all duration-1000 ${B.vocab<50?"bg-red-500":B.vocab<80?"bg-amber-500":"bg-emerald-500"}`,style:{width:`${B.vocab}%`}})})]}),i.jsxs("div",{className:"space-y-3 md:col-span-2",children:[i.jsxs("div",{className:"flex justify-between text-xs font-bold text-gray-400",children:[i.jsxs("span",{className:"flex items-center gap-2",children:[i.jsx(Us,{className:"w-3.5 h-3.5 text-emerald-400"}),"  (Reading)"]}),i.jsxs("span",{className:B.reading<50?"text-red-400":"text-emerald-400",children:[B.reading,"%"]})]}),i.jsx("div",{className:"w-full h-3 bg-gray-800 rounded-full overflow-hidden",children:i.jsx("div",{className:`h-full rounded-full transition-all duration-1000 ${B.reading<50?"bg-red-500":B.reading<80?"bg-amber-500":"bg-emerald-500"}`,style:{width:`${B.reading}%`}})})]})]}),i.jsxs("div",{className:"mt-8 bg-gradient-to-r from-amber-900/10 to-transparent border-r-2 border-amber-500/50 p-5 rounded-l-xl flex gap-4 items-start",children:[i.jsx("div",{className:"p-2 bg-amber-500/10 rounded-lg shrink-0 border border-amber-500/20",children:i.jsx(_1,{className:"w-5 h-5 text-amber-400 fill-amber-400 animate-pulse"})}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-base font-bold text-white mb-1",children:" :"}),i.jsx("p",{className:"text-gray-400 leading-relaxed text-sm",children:Math.min(B.grammar,B.vocab,B.reading)===B.grammar?"      .         Grammar  .":Math.min(B.grammar,B.vocab,B.reading)===B.vocab?"   .            .":"     .  Reading       ."})]})]})]})]})}),t==="CERTIFICATE_PREVIEW"&&i.jsx("div",{className:"animate-fade-in flex flex-col items-center",children:i.jsxs("div",{className:"w-full max-w-2xl bg-[#080808] rounded-[2.5rem] border border-amber-500/20 shadow-2xl p-8 md:p-12 text-center relative overflow-hidden",children:[i.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-full h-full bg-gradient-to-b from-amber-900/10 to-transparent pointer-events-none"}),i.jsx("div",{className:"absolute -top-24 left-1/2 -translate-x-1/2 w-64 h-64 bg-amber-500/20 rounded-full blur-[80px]"}),i.jsxs("div",{className:"relative z-10",children:[i.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-amber-300 via-yellow-500 to-amber-600 rounded-full flex items-center justify-center mx-auto mb-8 shadow-[0_0_40px_rgba(245,158,11,0.4)] border-4 border-gray-900",children:i.jsx(Au,{className:"w-12 h-12 text-white drop-shadow-md"})}),i.jsx("h2",{className:"text-3xl md:text-4xl font-black text-white mb-4 tracking-tight",children:" "}),i.jsx("p",{className:"text-gray-300 text-lg leading-relaxed mb-8 max-w-lg mx-auto",children:"       .           ."}),i.jsxs("div",{className:"flex flex-col gap-4",children:[i.jsxs("button",{onClick:()=>o(!0),className:"w-full py-4 rounded-xl bg-gradient-to-r from-amber-500 via-yellow-500 to-amber-600 text-white font-black text-lg shadow-lg hover:shadow-amber-500/40 hover:-translate-y-1 transition-all flex items-center justify-center gap-3",children:[i.jsx(bg,{className:"w-6 h-6"}),"  (PDF)"]}),i.jsxs("button",{onClick:()=>n("MENU"),className:"text-gray-500 text-sm font-bold hover:text-white transition-colors flex items-center justify-center gap-2",children:[i.jsx(el,{className:"w-4 h-4"})," "]})]})]})]})})]}),l&&i.jsx("div",{className:"fixed bottom-8 left-1/2 -translate-x-1/2 z-[200] animate-slide-up-fade",children:i.jsxs("div",{className:"bg-emerald-600 text-white px-6 py-4 rounded-2xl shadow-2xl border border-white/10 flex items-center gap-3",children:[i.jsx("div",{className:"bg-white/20 p-2 rounded-full",children:i.jsx(ts,{className:"w-5 h-5 text-white"})}),i.jsxs("div",{children:[i.jsx("p",{className:"font-bold text-sm",children:"   !"}),i.jsx("p",{className:"text-xs text-emerald-100",children:"    ."})]})]})}),s&&i.jsx("div",{className:"fixed inset-0 z-[250] flex items-center justify-center px-4 bg-black/90 backdrop-blur-sm animate-fade-in",children:i.jsxs("div",{className:"bg-gray-900 rounded-[2.5rem] p-8 max-w-sm w-full relative z-10 text-center border border-white/10 shadow-2xl shadow-black/50 animate-fade-in-up",children:[i.jsx("div",{className:"w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-6 shadow-lg border-4 border-gray-800 bg-emerald-500/20",children:i.jsx(bg,{className:"w-10 h-10 text-emerald-500"})}),i.jsx("h3",{className:"text-2xl font-black text-white mb-3",children:" "}),i.jsx("p",{className:"text-gray-400 mb-8 text-base font-medium leading-relaxed",children:"        PDF"}),i.jsxs("div",{className:"flex gap-4 justify-center",children:[i.jsx("button",{onClick:ne,disabled:d,className:"flex-1 bg-gradient-to-r from-emerald-500 to-teal-600 text-white py-3.5 rounded-xl font-bold transition-all shadow-lg shadow-emerald-900/30 transform hover:scale-105 active:scale-95 disabled:opacity-50",children:d?" ...":" "}),i.jsx("button",{onClick:()=>o(!1),disabled:d,className:"flex-1 bg-gray-800 text-gray-300 py-3.5 rounded-xl font-bold hover:bg-gray-700 transition-colors border border-gray-700 disabled:opacity-50",children:""})]})]})}),i.jsx("div",{className:"fixed top-0 left-0 w-0 h-0 overflow-hidden",children:i.jsxs("div",{id:"certificate-node",className:"bg-[#fffef0] text-black relative w-[800px] h-[560px] p-8 shrink-0 shadow-2xl mx-auto",style:{fontFamily:"serif"},children:[i.jsx("div",{className:"absolute inset-4 border-4 border-double border-amber-600 pointer-events-none"}),i.jsx("div",{className:"absolute inset-6 border border-amber-800/30 pointer-events-none"}),i.jsx("div",{className:"absolute top-4 left-4 w-16 h-16 border-t-4 border-l-4 border-amber-700"}),i.jsx("div",{className:"absolute top-4 right-4 w-16 h-16 border-t-4 border-r-4 border-amber-700"}),i.jsx("div",{className:"absolute bottom-4 left-4 w-16 h-16 border-b-4 border-l-4 border-amber-700"}),i.jsx("div",{className:"absolute bottom-4 right-4 w-16 h-16 border-b-4 border-r-4 border-amber-700"}),i.jsx("div",{className:"absolute top-8 left-8 w-24 h-24 border-4 border-double border-red-800/60 rounded-full flex items-center justify-center transform -rotate-12 opacity-80 pointer-events-none",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-[8px] font-bold text-red-900 uppercase tracking-widest mb-1",children:"Etqan Platform"}),i.jsx(ol,{className:"w-6 h-6 text-red-800 mx-auto"}),i.jsx("div",{className:"text-[10px] font-black text-red-900 mt-1",children:""})]})}),i.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center relative z-10 space-y-5",children:[i.jsxs("div",{className:"mb-2",children:[i.jsx("h1",{className:"text-4xl font-black text-amber-800 mb-2",style:{fontFamily:"Amiri, serif"},children:"  "}),i.jsx("p",{className:"text-gray-600 text-sm tracking-widest uppercase",children:"Etqan Educational Platform"})]}),i.jsx("h2",{className:"text-5xl font-bold text-amber-600",style:{fontFamily:"Great Vibes, cursive"},children:" "}),i.jsx("p",{className:"text-xl text-gray-800 mt-2 max-w-xl leading-relaxed",children:"    /"}),i.jsx("h3",{className:"text-4xl font-black text-black border-b-2 border-amber-500/50 pb-2 px-10 min-w-[300px]",children:e==null?void 0:e.displayName}),i.jsxs("div",{className:"flex items-center justify-center gap-8 py-4 w-full px-12",children:[i.jsxs("div",{className:"text-center border-l-2 border-amber-200 pl-8",children:[i.jsx("p",{className:"text-xs text-gray-500 font-bold uppercase mb-1",children:" "}),i.jsxs("p",{className:"text-2xl font-black text-emerald-700",children:[B.overallAvg,"%"]})]}),i.jsxs("div",{className:"text-center border-l-2 border-amber-200 pl-8",children:[i.jsx("p",{className:"text-xs text-gray-500 font-bold uppercase mb-1",children:""}),i.jsx("p",{className:"text-xl font-black text-amber-700",children:M})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-xs text-gray-500 font-bold uppercase mb-1",children:" "}),i.jsx("p",{className:"text-2xl font-black text-blue-700",children:B.total})]})]}),i.jsx("p",{className:"text-base text-gray-700 max-w-2xl leading-relaxed font-medium",children:"               ."}),i.jsxs("div",{className:"flex justify-between items-end w-full px-16 mt-6",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-sm font-bold text-gray-500 mb-2",children:""}),i.jsx("p",{className:"font-mono font-bold text-base border-b border-gray-400 pb-1",children:new Date().toLocaleDateString("ar-EG")})]}),i.jsxs("div",{className:"text-center relative",children:[i.jsx("div",{className:"w-20 h-20 bg-amber-500 rounded-full flex items-center justify-center text-white font-bold shadow-lg border-4 border-amber-600 border-double absolute -top-8 left-1/2 -translate-x-1/2 opacity-20",children:i.jsx(Au,{className:"w-10 h-10"})}),i.jsxs("div",{className:"relative z-10",children:[i.jsx("p",{className:"text-sm font-bold text-gray-500 mb-1",children:" "}),i.jsx("p",{className:"font-bold text-lg text-amber-800",style:{fontFamily:"Great Vibes, cursive"},children:"Yazan Abu Kahil"}),i.jsx("p",{className:"text-[10px] font-bold text-black mt-0.5",children:".   "})]})]})]})]})]})})]}):i.jsxs("div",{className:"min-h-screen bg-[#050505] animate-fade-in flex flex-col items-center justify-center p-4 relative overflow-hidden",children:[i.jsx("div",{className:"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/cubes.png')] opacity-5"}),i.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-gradient-to-b from-amber-900/20 via-black to-black pointer-events-none"}),i.jsx("div",{className:"absolute top-1/4 left-1/2 -translate-x-1/2 w-96 h-96 bg-amber-600/10 rounded-full blur-[120px]"}),i.jsxs("div",{className:"relative z-10 max-w-lg w-full bg-gray-900/80 backdrop-blur-xl border border-amber-500/30 rounded-[2.5rem] p-8 md:p-12 text-center shadow-2xl shadow-amber-900/20",children:[i.jsx("div",{className:"absolute -top-10 left-1/2 -translate-x-1/2",children:i.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-amber-300 via-yellow-500 to-amber-600 rounded-full flex items-center justify-center shadow-[0_0_40px_rgba(245,158,11,0.5)] border-4 border-gray-900",children:i.jsx(Ro,{className:"w-8 h-8 text-white drop-shadow-md"})})}),i.jsxs("div",{className:"mt-8 mb-8",children:[i.jsx("h2",{className:"text-3xl font-black text-white mb-2 tracking-tight",children:"  VIP"}),i.jsx("p",{className:"text-amber-400 font-medium text-sm",children:"      "})]}),i.jsxs("div",{className:"space-y-4 mb-10 text-right",children:[i.jsxs("div",{className:"flex items-center gap-4 bg-gray-800/50 p-4 rounded-2xl border border-gray-700/50",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-amber-500/10 flex items-center justify-center shrink-0",children:i.jsx(Yp,{className:"w-5 h-5 text-amber-400"})}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-white font-bold text-sm",children:"  "}),i.jsx("p",{className:"text-gray-400 text-xs",children:"        ."})]})]}),i.jsxs("div",{className:"flex items-center gap-4 bg-gray-800/50 p-4 rounded-2xl border border-gray-700/50",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-amber-500/10 flex items-center justify-center shrink-0",children:i.jsx(Au,{className:"w-5 h-5 text-amber-400"})}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-white font-bold text-sm",children:" "}),i.jsx("p",{className:"text-gray-400 text-xs",children:"       ."})]})]})]}),i.jsxs("button",{onClick:()=>r("SERVICES"),className:"w-full py-4 rounded-xl bg-gradient-to-r from-amber-500 via-yellow-500 to-amber-600 text-white font-black text-lg shadow-lg hover:shadow-amber-500/40 hover:-translate-y-1 transition-all flex items-center justify-center gap-2",children:[i.jsx(ns,{className:"w-5 h-5 fill-white"}),"    "]}),i.jsx("button",{onClick:()=>r("HOME"),className:"mt-6 text-gray-500 text-sm font-bold hover:text-white transition-colors",children:" "})]})]})};function LJ(){const[r,e]=he.useState("HOME"),[t,n]=he.useState(!1),[s,o]=he.useState(!1),l=he.useRef({}),c=he.useRef(!1),{logout:d}=go();he.useEffect(()=>{"scrollRestoration"in history&&(history.scrollRestoration="manual"),window.scrollTo(0,0),window.history.replaceState({view:"HOME"},"","");const x=B=>{B.state&&B.state.view?(c.current=!0,e(B.state.view)):(c.current=!0,e("HOME"))};return window.addEventListener("popstate",x),()=>window.removeEventListener("popstate",x)},[]),he.useEffect(()=>{if(c.current){const x=l.current[r]||0;setTimeout(()=>window.scrollTo(0,x),10)}else window.scrollTo(0,0)},[r]);const h=(x,B=!1)=>{if(x===r){x==="HOME"&&window.scrollTo({top:0,behavior:"smooth"});return}l.current[r]=window.scrollY,c.current=B,window.history.pushState({view:x},"",""),e(x)},g=async()=>{o(!0),setTimeout(async()=>{await d(),o(!1),h("HOME")},2500)};return i.jsxs("div",{className:"min-h-screen flex flex-col relative transition-colors duration-500 bg-gray-950 text-gray-100 selection:bg-emerald-500/30",children:[r==="HOME"&&i.jsxs("div",{className:"fixed inset-0 pointer-events-none z-0 overflow-hidden bg-gray-950",children:[i.jsx(Xx,{}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-gray-950/20 via-transparent to-gray-950/40"}),i.jsx("div",{className:"absolute inset-0 opacity-[0.03] bg-[url('https://www.transparenttextures.com/patterns/noise.png')]"})]}),s&&i.jsxs("div",{className:"fixed inset-0 z-[9999] flex flex-col items-center justify-center bg-black/90 backdrop-blur-2xl transition-all duration-700 animate-fade-in",children:[i.jsxs("div",{className:"relative scale-150 transform transition-transform duration-700",children:[i.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-64 h-64 bg-emerald-500/20 rounded-full blur-[80px] animate-pulse"}),i.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-48 h-48 bg-blue-500/10 rounded-full blur-[60px] animate-pulse delay-75"}),i.jsxs("div",{className:"relative w-32 h-32 flex items-center justify-center",children:[i.jsx("svg",{className:"w-full h-full absolute inset-0 animate-[spin_3s_linear_infinite] text-emerald-500/20",viewBox:"0 0 100 100",children:i.jsx("circle",{cx:"50",cy:"50",r:"48",fill:"none",stroke:"currentColor",strokeWidth:"1",strokeDasharray:"20 10"})}),i.jsx("svg",{className:"w-full h-full absolute inset-0 animate-[spin_2s_linear_infinite_reverse] text-emerald-500/60",viewBox:"0 0 100 100",children:i.jsx("circle",{cx:"50",cy:"50",r:"40",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeDasharray:"60 100",strokeLinecap:"round"})}),i.jsx("svg",{className:"w-full h-full absolute inset-0 animate-spin text-blue-500/50",viewBox:"0 0 100 100",children:i.jsx("circle",{cx:"50",cy:"50",r:"32",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeDasharray:"40 40",strokeLinecap:"round"})}),i.jsxs("div",{className:"bg-gray-900 p-4 rounded-full border border-white/10 shadow-2xl relative z-10 animate-bounce-subtle",children:[i.jsx("div",{className:"absolute inset-0 bg-emerald-500/20 blur-md rounded-full"}),i.jsx(yg,{className:"w-8 h-8 text-emerald-400 relative z-20"})]})]})]}),i.jsxs("div",{className:"mt-12 text-center space-y-4 animate-slide-up-fade",children:[i.jsx("h2",{className:"text-4xl md:text-5xl font-black text-transparent bg-clip-text bg-gradient-to-r from-white to-gray-400 tracking-tight drop-shadow-lg",children:" "}),i.jsxs("div",{className:"flex items-center justify-center gap-3 text-emerald-400 text-sm md:text-base font-bold bg-emerald-950/30 px-6 py-2.5 rounded-full border border-emerald-500/20 shadow-lg backdrop-blur-md",children:[i.jsx(zr,{className:"w-4 h-4 animate-spin"}),"    ..."]})]})]}),i.jsxs("div",{className:"relative z-10 flex flex-col min-h-screen",children:[i.jsx(bV,{onLoginClick:()=>n(!0),onNavigate:x=>h(x),onLogoutClick:g}),i.jsxs("main",{className:`flex-grow ${r!=="HOME"&&r!=="SERVICES"?"pt-24":""}`,children:[r==="HOME"&&i.jsxs(i.Fragment,{children:[i.jsx(vV,{onStartQuiz:()=>h("QUIZZES"),onLoginClick:()=>n(!0),onNavigate:x=>h(x)}),i.jsx(NV,{onNavigate:x=>h(x)}),i.jsx(HV,{onLoginClick:()=>n(!0)}),i.jsx(VV,{}),i.jsx(aK,{onNavigate:()=>h("PLATFORM_DEFINITION")}),i.jsx(tK,{}),i.jsx(rK,{onLoginClick:()=>n(!0)}),i.jsx("div",{className:"w-full h-1 bg-gradient-to-r from-transparent via-emerald-500 to-transparent shadow-[0_0_35px_rgba(16,185,129,1)] relative z-20 opacity-100"}),i.jsx(nK,{}),i.jsx("div",{className:"w-full h-0.5 bg-gradient-to-r from-transparent via-emerald-500 to-transparent shadow-[0_0_30px_rgba(16,185,129,1)] relative z-20 opacity-80"}),i.jsx(eK,{onNavigate:x=>h(x)}),i.jsx(dK,{}),i.jsx(AK,{onNavigate:x=>h(x)})]}),r==="ABOUT_PLATFORM"&&i.jsx(LV,{onBack:()=>h("HOME",!0)}),r==="PLATFORM_DEFINITION"&&i.jsx(sK,{onBack:()=>h("HOME",!0)}),r==="TEACHER_CV"&&i.jsx(QV,{onBack:()=>h("HOME",!0)}),r==="PROFILE"&&i.jsx(IV,{onNavigate:x=>h(x)}),r==="TEACHER_DASHBOARD"&&i.jsx(CV,{}),r==="QUESTION_BANK"&&i.jsx(KV,{onBack:()=>h("HOME",!0)}),r==="TEACHER_EXPLANATIONS"&&i.jsx(YV,{onNavigate:x=>h(x),onBack:()=>h("PROFILE",!0)}),r==="TEACHER_UPLOAD_FILES"&&i.jsx(ZV,{onNavigate:x=>h(x),onBack:()=>h("PROFILE",!0)}),r==="QUIZZES"&&i.jsx(UV,{onBack:()=>h("HOME",!0),onNavigate:x=>h(x)}),r==="LESSONS"&&i.jsx(RV,{onBack:()=>h("HOME",!0)}),r==="LESSONS_EXPLANATIONS"&&i.jsx(GV,{onBack:()=>h("HOME",!0),onNavigate:x=>h(x)}),r==="CONTACT_TEACHER"&&i.jsx(PV,{onBack:()=>h("HOME",!0)}),r==="SERVICES"&&i.jsx(gK,{onBack:()=>h("HOME",!0)}),r==="TEACHER_CORRESPONDENCE"&&i.jsx(iK,{onNavigate:x=>h(x)}),r==="TEACHER_REVIEWS"&&i.jsx(oK,{onNavigate:x=>h(x)}),r==="SUBSCRIPTION_MANAGEMENT"&&i.jsx(bK,{onBack:()=>h("PROFILE",!0)}),r==="VIP_AREA"&&i.jsx(QJ,{onNavigate:x=>h(x)})]}),i.jsx(_V,{isOpen:t,onClose:()=>n(!1)}),i.jsx(fK,{onNavigate:x=>h(x)})]})]})}const oU=document.getElementById("root");if(!oU)throw new Error("Could not find root element to mount to");const RJ=CF.createRoot(oU);RJ.render(i.jsx(fv.StrictMode,{children:i.jsx(xV,{children:i.jsx(LJ,{})})}));export{mn as _,OJ as c,iS as g};
