(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function Tv(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var O0={exports:{}},nc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vb;function mE(){if(vb)return nc;vb=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var g in o)g!=="key"&&(u[g]=o[g])}else u=o;return o=u.ref,{$$typeof:a,type:s,key:f,ref:o!==void 0?o:null,props:u}}return nc.Fragment=e,nc.jsx=n,nc.jsxs=n,nc}var wb;function gE(){return wb||(wb=1,O0.exports=mE()),O0.exports}var l=gE(),M0={exports:{}},Oe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _b;function pE(){if(_b)return Oe;_b=1;var a=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),S=Symbol.iterator;function M(R){return R===null||typeof R!="object"?null:(R=S&&R[S]||R["@@iterator"],typeof R=="function"?R:null)}var F={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},re=Object.assign,Y={};function oe(R,X,P){this.props=R,this.context=X,this.refs=Y,this.updater=P||F}oe.prototype.isReactComponent={},oe.prototype.setState=function(R,X){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,X,"setState")},oe.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function ue(){}ue.prototype=oe.prototype;function le(R,X,P){this.props=R,this.context=X,this.refs=Y,this.updater=P||F}var je=le.prototype=new ue;je.constructor=le,re(je,oe.prototype),je.isPureReactComponent=!0;var ae=Array.isArray;function B(){}var k={H:null,A:null,T:null,S:null},E=Object.prototype.hasOwnProperty;function j(R,X,P){var W=P.ref;return{$$typeof:a,type:R,key:X,ref:W!==void 0?W:null,props:P}}function D(R,X){return j(R.type,X,R.props)}function I(R){return typeof R=="object"&&R!==null&&R.$$typeof===a}function V(R){var X={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(P){return X[P]})}var A=/\/+/g;function Ue(R,X){return typeof R=="object"&&R!==null&&R.key!=null?V(""+R.key):X.toString(36)}function Ze(R){switch(R.status){case"fulfilled":return R.value;case"rejected":throw R.reason;default:switch(typeof R.status=="string"?R.then(B,B):(R.status="pending",R.then(function(X){R.status==="pending"&&(R.status="fulfilled",R.value=X)},function(X){R.status==="pending"&&(R.status="rejected",R.reason=X)})),R.status){case"fulfilled":return R.value;case"rejected":throw R.reason}}throw R}function K(R,X,P,W,me){var Ee=typeof R;(Ee==="undefined"||Ee==="boolean")&&(R=null);var Ve=!1;if(R===null)Ve=!0;else switch(Ee){case"bigint":case"string":case"number":Ve=!0;break;case"object":switch(R.$$typeof){case a:case e:Ve=!0;break;case w:return Ve=R._init,K(Ve(R._payload),X,P,W,me)}}if(Ve)return me=me(R),Ve=W===""?"."+Ue(R,0):W,ae(me)?(P="",Ve!=null&&(P=Ve.replace(A,"$&/")+"/"),K(me,X,P,"",function(Et){return Et})):me!=null&&(I(me)&&(me=D(me,P+(me.key==null||R&&R.key===me.key?"":(""+me.key).replace(A,"$&/")+"/")+Ve)),X.push(me)),1;Ve=0;var bt=W===""?".":W+":";if(ae(R))for(var ve=0;ve<R.length;ve++)W=R[ve],Ee=bt+Ue(W,ve),Ve+=K(W,X,P,Ee,me);else if(ve=M(R),typeof ve=="function")for(R=ve.call(R),ve=0;!(W=R.next()).done;)W=W.value,Ee=bt+Ue(W,ve++),Ve+=K(W,X,P,Ee,me);else if(Ee==="object"){if(typeof R.then=="function")return K(Ze(R),X,P,W,me);throw X=String(R),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return Ve}function ce(R,X,P){if(R==null)return R;var W=[],me=0;return K(R,W,"","",function(Ee){return X.call(P,Ee,me++)}),W}function ye(R){if(R._status===-1){var X=R._result;X=X(),X.then(function(P){(R._status===0||R._status===-1)&&(R._status=1,R._result=P)},function(P){(R._status===0||R._status===-1)&&(R._status=2,R._result=P)}),R._status===-1&&(R._status=0,R._result=X)}if(R._status===1)return R._result.default;throw R._result}var Re=typeof reportError=="function"?reportError:function(R){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof R=="object"&&R!==null&&typeof R.message=="string"?String(R.message):String(R),error:R});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",R);return}console.error(R)},qe={map:ce,forEach:function(R,X,P){ce(R,function(){X.apply(this,arguments)},P)},count:function(R){var X=0;return ce(R,function(){X++}),X},toArray:function(R){return ce(R,function(X){return X})||[]},only:function(R){if(!I(R))throw Error("React.Children.only expected to receive a single React element child.");return R}};return Oe.Activity=N,Oe.Children=qe,Oe.Component=oe,Oe.Fragment=n,Oe.Profiler=o,Oe.PureComponent=le,Oe.StrictMode=s,Oe.Suspense=p,Oe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,Oe.__COMPILER_RUNTIME={__proto__:null,c:function(R){return k.H.useMemoCache(R)}},Oe.cache=function(R){return function(){return R.apply(null,arguments)}},Oe.cacheSignal=function(){return null},Oe.cloneElement=function(R,X,P){if(R==null)throw Error("The argument must be a React element, but you passed "+R+".");var W=re({},R.props),me=R.key;if(X!=null)for(Ee in X.key!==void 0&&(me=""+X.key),X)!E.call(X,Ee)||Ee==="key"||Ee==="__self"||Ee==="__source"||Ee==="ref"&&X.ref===void 0||(W[Ee]=X[Ee]);var Ee=arguments.length-2;if(Ee===1)W.children=P;else if(1<Ee){for(var Ve=Array(Ee),bt=0;bt<Ee;bt++)Ve[bt]=arguments[bt+2];W.children=Ve}return j(R.type,me,W)},Oe.createContext=function(R){return R={$$typeof:f,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null},R.Provider=R,R.Consumer={$$typeof:u,_context:R},R},Oe.createElement=function(R,X,P){var W,me={},Ee=null;if(X!=null)for(W in X.key!==void 0&&(Ee=""+X.key),X)E.call(X,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(me[W]=X[W]);var Ve=arguments.length-2;if(Ve===1)me.children=P;else if(1<Ve){for(var bt=Array(Ve),ve=0;ve<Ve;ve++)bt[ve]=arguments[ve+2];me.children=bt}if(R&&R.defaultProps)for(W in Ve=R.defaultProps,Ve)me[W]===void 0&&(me[W]=Ve[W]);return j(R,Ee,me)},Oe.createRef=function(){return{current:null}},Oe.forwardRef=function(R){return{$$typeof:g,render:R}},Oe.isValidElement=I,Oe.lazy=function(R){return{$$typeof:w,_payload:{_status:-1,_result:R},_init:ye}},Oe.memo=function(R,X){return{$$typeof:y,type:R,compare:X===void 0?null:X}},Oe.startTransition=function(R){var X=k.T,P={};k.T=P;try{var W=R(),me=k.S;me!==null&&me(P,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(B,Re)}catch(Ee){Re(Ee)}finally{X!==null&&P.types!==null&&(X.types=P.types),k.T=X}},Oe.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},Oe.use=function(R){return k.H.use(R)},Oe.useActionState=function(R,X,P){return k.H.useActionState(R,X,P)},Oe.useCallback=function(R,X){return k.H.useCallback(R,X)},Oe.useContext=function(R){return k.H.useContext(R)},Oe.useDebugValue=function(){},Oe.useDeferredValue=function(R,X){return k.H.useDeferredValue(R,X)},Oe.useEffect=function(R,X){return k.H.useEffect(R,X)},Oe.useEffectEvent=function(R){return k.H.useEffectEvent(R)},Oe.useId=function(){return k.H.useId()},Oe.useImperativeHandle=function(R,X,P){return k.H.useImperativeHandle(R,X,P)},Oe.useInsertionEffect=function(R,X){return k.H.useInsertionEffect(R,X)},Oe.useLayoutEffect=function(R,X){return k.H.useLayoutEffect(R,X)},Oe.useMemo=function(R,X){return k.H.useMemo(R,X)},Oe.useOptimistic=function(R,X){return k.H.useOptimistic(R,X)},Oe.useReducer=function(R,X,P){return k.H.useReducer(R,X,P)},Oe.useRef=function(R){return k.H.useRef(R)},Oe.useState=function(R){return k.H.useState(R)},Oe.useSyncExternalStore=function(R,X,P){return k.H.useSyncExternalStore(R,X,P)},Oe.useTransition=function(){return k.H.useTransition()},Oe.version="19.2.0",Oe}var Nb;function Gm(){return Nb||(Nb=1,M0.exports=pE()),M0.exports}var Q=Gm();const kv=Tv(Q);var V0={exports:{}},rc={},L0={exports:{}},P0={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Eb;function yE(){return Eb||(Eb=1,(function(a){function e(K,ce){var ye=K.length;K.push(ce);e:for(;0<ye;){var Re=ye-1>>>1,qe=K[Re];if(0<o(qe,ce))K[Re]=ce,K[ye]=qe,ye=Re;else break e}}function n(K){return K.length===0?null:K[0]}function s(K){if(K.length===0)return null;var ce=K[0],ye=K.pop();if(ye!==ce){K[0]=ye;e:for(var Re=0,qe=K.length,R=qe>>>1;Re<R;){var X=2*(Re+1)-1,P=K[X],W=X+1,me=K[W];if(0>o(P,ye))W<qe&&0>o(me,P)?(K[Re]=me,K[W]=ye,Re=W):(K[Re]=P,K[X]=ye,Re=X);else if(W<qe&&0>o(me,ye))K[Re]=me,K[W]=ye,Re=W;else break e}}return ce}function o(K,ce){var ye=K.sortIndex-ce.sortIndex;return ye!==0?ye:K.id-ce.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;a.unstable_now=function(){return u.now()}}else{var f=Date,g=f.now();a.unstable_now=function(){return f.now()-g}}var p=[],y=[],w=1,N=null,S=3,M=!1,F=!1,re=!1,Y=!1,oe=typeof setTimeout=="function"?setTimeout:null,ue=typeof clearTimeout=="function"?clearTimeout:null,le=typeof setImmediate<"u"?setImmediate:null;function je(K){for(var ce=n(y);ce!==null;){if(ce.callback===null)s(y);else if(ce.startTime<=K)s(y),ce.sortIndex=ce.expirationTime,e(p,ce);else break;ce=n(y)}}function ae(K){if(re=!1,je(K),!F)if(n(p)!==null)F=!0,B||(B=!0,V());else{var ce=n(y);ce!==null&&Ze(ae,ce.startTime-K)}}var B=!1,k=-1,E=5,j=-1;function D(){return Y?!0:!(a.unstable_now()-j<E)}function I(){if(Y=!1,B){var K=a.unstable_now();j=K;var ce=!0;try{e:{F=!1,re&&(re=!1,ue(k),k=-1),M=!0;var ye=S;try{t:{for(je(K),N=n(p);N!==null&&!(N.expirationTime>K&&D());){var Re=N.callback;if(typeof Re=="function"){N.callback=null,S=N.priorityLevel;var qe=Re(N.expirationTime<=K);if(K=a.unstable_now(),typeof qe=="function"){N.callback=qe,je(K),ce=!0;break t}N===n(p)&&s(p),je(K)}else s(p);N=n(p)}if(N!==null)ce=!0;else{var R=n(y);R!==null&&Ze(ae,R.startTime-K),ce=!1}}break e}finally{N=null,S=ye,M=!1}ce=void 0}}finally{ce?V():B=!1}}}var V;if(typeof le=="function")V=function(){le(I)};else if(typeof MessageChannel<"u"){var A=new MessageChannel,Ue=A.port2;A.port1.onmessage=I,V=function(){Ue.postMessage(null)}}else V=function(){oe(I,0)};function Ze(K,ce){k=oe(function(){K(a.unstable_now())},ce)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(K){K.callback=null},a.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<K?Math.floor(1e3/K):5},a.unstable_getCurrentPriorityLevel=function(){return S},a.unstable_next=function(K){switch(S){case 1:case 2:case 3:var ce=3;break;default:ce=S}var ye=S;S=ce;try{return K()}finally{S=ye}},a.unstable_requestPaint=function(){Y=!0},a.unstable_runWithPriority=function(K,ce){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var ye=S;S=K;try{return ce()}finally{S=ye}},a.unstable_scheduleCallback=function(K,ce,ye){var Re=a.unstable_now();switch(typeof ye=="object"&&ye!==null?(ye=ye.delay,ye=typeof ye=="number"&&0<ye?Re+ye:Re):ye=Re,K){case 1:var qe=-1;break;case 2:qe=250;break;case 5:qe=1073741823;break;case 4:qe=1e4;break;default:qe=5e3}return qe=ye+qe,K={id:w++,callback:ce,priorityLevel:K,startTime:ye,expirationTime:qe,sortIndex:-1},ye>Re?(K.sortIndex=ye,e(y,K),n(p)===null&&K===n(y)&&(re?(ue(k),k=-1):re=!0,Ze(ae,ye-Re))):(K.sortIndex=qe,e(p,K),F||M||(F=!0,B||(B=!0,V()))),K},a.unstable_shouldYield=D,a.unstable_wrapCallback=function(K){var ce=S;return function(){var ye=S;S=ce;try{return K.apply(this,arguments)}finally{S=ye}}}})(P0)),P0}var Tb;function xE(){return Tb||(Tb=1,L0.exports=yE()),L0.exports}var z0={exports:{}},gn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kb;function bE(){if(kb)return gn;kb=1;var a=Gm();function e(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var w=2;w<arguments.length;w++)y+="&args[]="+encodeURIComponent(arguments[w])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,y,w){var N=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:N==null?null:""+N,children:p,containerInfo:y,implementation:w}}var f=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return gn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,gn.createPortal=function(p,y){var w=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return u(p,y,null,w)},gn.flushSync=function(p){var y=f.T,w=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=y,s.p=w,s.d.f()}},gn.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(p,y))},gn.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},gn.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var w=y.as,N=g(w,y.crossOrigin),S=typeof y.integrity=="string"?y.integrity:void 0,M=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;w==="style"?s.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:N,integrity:S,fetchPriority:M}):w==="script"&&s.d.X(p,{crossOrigin:N,integrity:S,fetchPriority:M,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},gn.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var w=g(y.as,y.crossOrigin);s.d.M(p,{crossOrigin:w,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(p)},gn.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var w=y.as,N=g(w,y.crossOrigin);s.d.L(p,w,{crossOrigin:N,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},gn.preloadModule=function(p,y){if(typeof p=="string")if(y){var w=g(y.as,y.crossOrigin);s.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:w,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(p)},gn.requestFormReset=function(p){s.d.r(p)},gn.unstable_batchedUpdates=function(p,y){return p(y)},gn.useFormState=function(p,y,w){return f.H.useFormState(p,y,w)},gn.useFormStatus=function(){return f.H.useHostTransitionStatus()},gn.version="19.2.0",gn}var jb;function vE(){if(jb)return z0.exports;jb=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),z0.exports=bE(),z0.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sb;function wE(){if(Sb)return rc;Sb=1;var a=xE(),e=Gm(),n=vE();function s(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)r+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var r=t,i=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(i=r.return),t=r.return;while(t)}return r.tag===3?i:null}function f(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function g(t){if(t.tag===31){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function p(t){if(u(t)!==t)throw Error(s(188))}function y(t){var r=t.alternate;if(!r){if(r=u(t),r===null)throw Error(s(188));return r!==t?null:t}for(var i=t,c=r;;){var h=i.return;if(h===null)break;var m=h.alternate;if(m===null){if(c=h.return,c!==null){i=c;continue}break}if(h.child===m.child){for(m=h.child;m;){if(m===i)return p(h),t;if(m===c)return p(h),r;m=m.sibling}throw Error(s(188))}if(i.return!==c.return)i=h,c=m;else{for(var b=!1,_=h.child;_;){if(_===i){b=!0,i=h,c=m;break}if(_===c){b=!0,c=h,i=m;break}_=_.sibling}if(!b){for(_=m.child;_;){if(_===i){b=!0,i=m,c=h;break}if(_===c){b=!0,c=m,i=h;break}_=_.sibling}if(!b)throw Error(s(189))}}if(i.alternate!==c)throw Error(s(190))}if(i.tag!==3)throw Error(s(188));return i.stateNode.current===i?t:r}function w(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=w(t),r!==null)return r;t=t.sibling}return null}var N=Object.assign,S=Symbol.for("react.element"),M=Symbol.for("react.transitional.element"),F=Symbol.for("react.portal"),re=Symbol.for("react.fragment"),Y=Symbol.for("react.strict_mode"),oe=Symbol.for("react.profiler"),ue=Symbol.for("react.consumer"),le=Symbol.for("react.context"),je=Symbol.for("react.forward_ref"),ae=Symbol.for("react.suspense"),B=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),j=Symbol.for("react.activity"),D=Symbol.for("react.memo_cache_sentinel"),I=Symbol.iterator;function V(t){return t===null||typeof t!="object"?null:(t=I&&t[I]||t["@@iterator"],typeof t=="function"?t:null)}var A=Symbol.for("react.client.reference");function Ue(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===A?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case re:return"Fragment";case oe:return"Profiler";case Y:return"StrictMode";case ae:return"Suspense";case B:return"SuspenseList";case j:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case F:return"Portal";case le:return t.displayName||"Context";case ue:return(t._context.displayName||"Context")+".Consumer";case je:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case k:return r=t.displayName||null,r!==null?r:Ue(t.type)||"Memo";case E:r=t._payload,t=t._init;try{return Ue(t(r))}catch{}}return null}var Ze=Array.isArray,K=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ye={pending:!1,data:null,method:null,action:null},Re=[],qe=-1;function R(t){return{current:t}}function X(t){0>qe||(t.current=Re[qe],Re[qe]=null,qe--)}function P(t,r){qe++,Re[qe]=t.current,t.current=r}var W=R(null),me=R(null),Ee=R(null),Ve=R(null);function bt(t,r){switch(P(Ee,r),P(me,t),P(W,null),r.nodeType){case 9:case 11:t=(t=r.documentElement)&&(t=t.namespaceURI)?Hx(t):0;break;default:if(t=r.tagName,r=r.namespaceURI)r=Hx(r),t=Fx(r,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}X(W),P(W,t)}function ve(){X(W),X(me),X(Ee)}function Et(t){t.memoizedState!==null&&P(Ve,t);var r=W.current,i=Fx(r,t.type);r!==i&&(P(me,t),P(W,i))}function Kt(t){me.current===t&&(X(W),X(me)),Ve.current===t&&(X(Ve),Zo._currentValue=ye)}var Yn,Dr;function Yt(t){if(Yn===void 0)try{throw Error()}catch(i){var r=i.stack.trim().match(/\n( *(at )?)/);Yn=r&&r[1]||"",Dr=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Yn+t+Dr}var pa=!1;function Xn(t,r){if(!t||pa)return"";pa=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(r){var te=function(){throw Error()};if(Object.defineProperty(te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(te,[])}catch($){var H=$}Reflect.construct(t,[],te)}else{try{te.call()}catch($){H=$}t.call(te.prototype)}}else{try{throw Error()}catch($){H=$}(te=t())&&typeof te.catch=="function"&&te.catch(function(){})}}catch($){if($&&H&&typeof $.stack=="string")return[$.stack,H.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=c.DetermineComponentFrameRoot(),b=m[0],_=m[1];if(b&&_){var C=b.split(`
`),q=_.split(`
`);for(h=c=0;c<C.length&&!C[c].includes("DetermineComponentFrameRoot");)c++;for(;h<q.length&&!q[h].includes("DetermineComponentFrameRoot");)h++;if(c===C.length||h===q.length)for(c=C.length-1,h=q.length-1;1<=c&&0<=h&&C[c]!==q[h];)h--;for(;1<=c&&0<=h;c--,h--)if(C[c]!==q[h]){if(c!==1||h!==1)do if(c--,h--,0>h||C[c]!==q[h]){var Z=`
`+C[c].replace(" at new "," at ");return t.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",t.displayName)),Z}while(1<=c&&0<=h);break}}}finally{pa=!1,Error.prepareStackTrace=i}return(i=t?t.displayName||t.name:"")?Yt(i):""}function ya(t,r){switch(t.tag){case 26:case 27:case 5:return Yt(t.type);case 16:return Yt("Lazy");case 13:return t.child!==r&&r!==null?Yt("Suspense Fallback"):Yt("Suspense");case 19:return Yt("SuspenseList");case 0:case 15:return Xn(t.type,!1);case 11:return Xn(t.type.render,!1);case 1:return Xn(t.type,!0);case 31:return Yt("Activity");default:return""}}function kn(t){try{var r="",i=null;do r+=ya(t,i),i=t,t=t.return;while(t);return r}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var vt=Object.prototype.hasOwnProperty,se=a.unstable_scheduleCallback,nt=a.unstable_cancelCallback,Je=a.unstable_shouldYield,sn=a.unstable_requestPaint,yt=a.unstable_now,Jt=a.unstable_getCurrentPriorityLevel,vn=a.unstable_ImmediatePriority,Wn=a.unstable_UserBlockingPriority,wn=a.unstable_NormalPriority,ie=a.unstable_LowPriority,we=a.unstable_IdlePriority,Ne=a.log,fe=a.unstable_setDisableYieldValue,Ie=null,_e=null;function rt(t){if(typeof Ne=="function"&&fe(t),_e&&typeof _e.setStrictMode=="function")try{_e.setStrictMode(Ie,t)}catch{}}var Be=Math.clz32?Math.clz32:Hi,ut=Math.log,dt=Math.LN2;function Hi(t){return t>>>=0,t===0?32:31-(ut(t)/dt|0)|0}var Or=256,Ks=262144,Lt=4194304;function Mr(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Vr(t,r,i){var c=t.pendingLanes;if(c===0)return 0;var h=0,m=t.suspendedLanes,b=t.pingedLanes;t=t.warmLanes;var _=c&134217727;return _!==0?(c=_&~m,c!==0?h=Mr(c):(b&=_,b!==0?h=Mr(b):i||(i=_&~t,i!==0&&(h=Mr(i))))):(_=c&~m,_!==0?h=Mr(_):b!==0?h=Mr(b):i||(i=c&~t,i!==0&&(h=Mr(i)))),h===0?0:r!==0&&r!==h&&(r&m)===0&&(m=h&-h,i=r&-r,m>=i||m===32&&(i&4194048)!==0)?r:h}function gr(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function Lh(t,r){switch(t){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Gc(){var t=Lt;return Lt<<=1,(Lt&62914560)===0&&(Lt=4194304),t}function Lr(t){for(var r=[],i=0;31>i;i++)r.push(t);return r}function Ys(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Ph(t,r,i,c,h,m){var b=t.pendingLanes;t.pendingLanes=i,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=i,t.entangledLanes&=i,t.errorRecoveryDisabledLanes&=i,t.shellSuspendCounter=0;var _=t.entanglements,C=t.expirationTimes,q=t.hiddenUpdates;for(i=b&~i;0<i;){var Z=31-Be(i),te=1<<Z;_[Z]=0,C[Z]=-1;var H=q[Z];if(H!==null)for(q[Z]=null,Z=0;Z<H.length;Z++){var $=H[Z];$!==null&&($.lane&=-536870913)}i&=~te}c!==0&&Xs(t,c,0),m!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=m&~(b&~r))}function Xs(t,r,i){t.pendingLanes|=r,t.suspendedLanes&=~r;var c=31-Be(r);t.entangledLanes|=r,t.entanglements[c]=t.entanglements[c]|1073741824|i&261930}function no(t,r){var i=t.entangledLanes|=r;for(t=t.entanglements;i;){var c=31-Be(i),h=1<<c;h&r|t[c]&r&&(t[c]|=r),i&=~h}}function ro(t,r){var i=r&-r;return i=(i&42)!==0?1:Ws(i),(i&(t.suspendedLanes|r))!==0?0:i}function Ws(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function xa(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Qc(){var t=ce.p;return t!==0?t:(t=window.event,t===void 0?32:fb(t.type))}function pr(t,r){var i=ce.p;try{return ce.p=t,r()}finally{ce.p=i}}var yr=Math.random().toString(36).slice(2),Pt="__reactFiber$"+yr,en="__reactProps$"+yr,Pr="__reactContainer$"+yr,Fi="__reactEvents$"+yr,zh="__reactListeners$"+yr,$c="__reactHandles$"+yr,Kc="__reactResources$"+yr,zr="__reactMarker$"+yr;function Gi(t){delete t[Pt],delete t[en],delete t[Fi],delete t[zh],delete t[$c]}function Ur(t){var r=t[Pt];if(r)return r;for(var i=t.parentNode;i;){if(r=i[Pr]||i[Pt]){if(i=r.alternate,r.child!==null||i!==null&&i.child!==null)for(t=Wx(t);t!==null;){if(i=t[Pt])return i;t=Wx(t)}return r}t=i,i=t.parentNode}return null}function Zn(t){if(t=t[Pt]||t[Pr]){var r=t.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return t}return null}function Ln(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(s(33))}function qr(t){var r=t[Kc];return r||(r=t[Kc]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function zt(t){t[zr]=!0}var ao=new Set,so={};function Br(t,r){Hr(t,r),Hr(t+"Capture",r)}function Hr(t,r){for(so[t]=r,t=0;t<r.length;t++)ao.add(r[t])}var io=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),lo={},oo={};function Yc(t){return vt.call(oo,t)?!0:vt.call(lo,t)?!1:io.test(t)?oo[t]=!0:(lo[t]=!0,!1)}function Qi(t,r,i){if(Yc(r))if(i===null)t.removeAttribute(r);else{switch(typeof i){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var c=r.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+i)}}function Pn(t,r,i){if(i===null)t.removeAttribute(r);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+i)}}function Ut(t,r,i,c){if(c===null)t.removeAttribute(i);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttributeNS(r,i,""+c)}}function tn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ya(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function co(t,r,i){var c=Object.getOwnPropertyDescriptor(t.constructor.prototype,r);if(!t.hasOwnProperty(r)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var h=c.get,m=c.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return h.call(this)},set:function(b){i=""+b,m.call(this,b)}}),Object.defineProperty(t,r,{enumerable:c.enumerable}),{getValue:function(){return i},setValue:function(b){i=""+b},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function lt(t){if(!t._valueTracker){var r=Ya(t)?"checked":"value";t._valueTracker=co(t,r,""+t[r])}}function Zs(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var i=r.getValue(),c="";return t&&(c=Ya(t)?t.checked?"true":"false":t.value),t=c,t!==i?(r.setValue(t),!0):!1}function Fr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Js=/[\n"\\]/g;function jn(t){return t.replace(Js,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function $i(t,r,i,c,h,m,b,_){t.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.type=b:t.removeAttribute("type"),r!=null?b==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+tn(r)):t.value!==""+tn(r)&&(t.value=""+tn(r)):b!=="submit"&&b!=="reset"||t.removeAttribute("value"),r!=null?uo(t,b,tn(r)):i!=null?uo(t,b,tn(i)):c!=null&&t.removeAttribute("value"),h==null&&m!=null&&(t.defaultChecked=!!m),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.name=""+tn(_):t.removeAttribute("name")}function Xc(t,r,i,c,h,m,b,_){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(t.type=m),r!=null||i!=null){if(!(m!=="submit"&&m!=="reset"||r!=null)){lt(t);return}i=i!=null?""+tn(i):"",r=r!=null?""+tn(r):i,_||r===t.value||(t.value=r),t.defaultValue=r}c=c??h,c=typeof c!="function"&&typeof c!="symbol"&&!!c,t.checked=_?t.checked:!!c,t.defaultChecked=!!c,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(t.name=b),lt(t)}function uo(t,r,i){r==="number"&&Fr(t.ownerDocument)===t||t.defaultValue===""+i||(t.defaultValue=""+i)}function Xa(t,r,i,c){if(t=t.options,r){r={};for(var h=0;h<i.length;h++)r["$"+i[h]]=!0;for(i=0;i<t.length;i++)h=r.hasOwnProperty("$"+t[i].value),t[i].selected!==h&&(t[i].selected=h),h&&c&&(t[i].defaultSelected=!0)}else{for(i=""+tn(i),r=null,h=0;h<t.length;h++){if(t[h].value===i){t[h].selected=!0,c&&(t[h].defaultSelected=!0);return}r!==null||t[h].disabled||(r=t[h])}r!==null&&(r.selected=!0)}}function Wc(t,r,i){if(r!=null&&(r=""+tn(r),r!==t.value&&(t.value=r),i==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=i!=null?""+tn(i):""}function Wa(t,r,i,c){if(r==null){if(c!=null){if(i!=null)throw Error(s(92));if(Ze(c)){if(1<c.length)throw Error(s(93));c=c[0]}i=c}i==null&&(i=""),r=i}i=tn(r),t.defaultValue=i,c=t.textContent,c===i&&c!==""&&c!==null&&(t.value=c),lt(t)}function Sn(t,r){if(r){var i=t.firstChild;if(i&&i===t.lastChild&&i.nodeType===3){i.nodeValue=r;return}}t.textContent=r}var Zc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ho(t,r,i){var c=r.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?c?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":c?t.setProperty(r,i):typeof i!="number"||i===0||Zc.has(r)?r==="float"?t.cssFloat=i:t[r]=(""+i).trim():t[r]=i+"px"}function fo(t,r,i){if(r!=null&&typeof r!="object")throw Error(s(62));if(t=t.style,i!=null){for(var c in i)!i.hasOwnProperty(c)||r!=null&&r.hasOwnProperty(c)||(c.indexOf("--")===0?t.setProperty(c,""):c==="float"?t.cssFloat="":t[c]="");for(var h in r)c=r[h],r.hasOwnProperty(h)&&i[h]!==c&&ho(t,h,c)}else for(var m in r)r.hasOwnProperty(m)&&ho(t,m,r[m])}function Ki(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Jc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Za=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Yi(t){return Za.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function xr(){}var mo=null;function Jn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ja=null,Gr=null;function ei(t){var r=Zn(t);if(r&&(t=r.stateNode)){var i=t[en]||null;e:switch(t=r.stateNode,r.type){case"input":if($i(t,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),r=i.name,i.type==="radio"&&r!=null){for(i=t;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+jn(""+r)+'"][type="radio"]'),r=0;r<i.length;r++){var c=i[r];if(c!==t&&c.form===t.form){var h=c[en]||null;if(!h)throw Error(s(90));$i(c,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(r=0;r<i.length;r++)c=i[r],c.form===t.form&&Zs(c)}break e;case"textarea":Wc(t,i.value,i.defaultValue);break e;case"select":r=i.value,r!=null&&Xa(t,!!i.multiple,r,!1)}}}var Xi=!1;function es(t,r,i){if(Xi)return t(r,i);Xi=!0;try{var c=t(r);return c}finally{if(Xi=!1,(Ja!==null||Gr!==null)&&(Qu(),Ja&&(r=Ja,t=Gr,Gr=Ja=null,ei(r),t)))for(r=0;r<t.length;r++)ei(t[r])}}function br(t,r){var i=t.stateNode;if(i===null)return null;var c=i[en]||null;if(c===null)return null;i=c[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(t=t.type,c=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!c;break e;default:t=!1}if(t)return null;if(i&&typeof i!="function")throw Error(s(231,r,typeof i));return i}var er=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ti=!1;if(er)try{var ht={};Object.defineProperty(ht,"passive",{get:function(){ti=!0}}),window.addEventListener("test",ht,ht),window.removeEventListener("test",ht,ht)}catch{ti=!1}var Qr=null,go=null,ni=null;function po(){if(ni)return ni;var t,r=go,i=r.length,c,h="value"in Qr?Qr.value:Qr.textContent,m=h.length;for(t=0;t<i&&r[t]===h[t];t++);var b=i-t;for(c=1;c<=b&&r[i-c]===h[m-c];c++);return ni=h.slice(t,1<c?1-c:void 0)}function ri(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function ba(){return!0}function vr(){return!1}function ln(t){function r(i,c,h,m,b){this._reactName=i,this._targetInst=h,this.type=c,this.nativeEvent=m,this.target=b,this.currentTarget=null;for(var _ in t)t.hasOwnProperty(_)&&(i=t[_],this[_]=i?i(m):m[_]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?ba:vr,this.isPropagationStopped=vr,this}return N(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=ba)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=ba)},persist:function(){},isPersistent:ba}),r}var va={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$r=ln(va),ts=N({},va,{view:0,detail:0}),yo=ln(ts),ns,Wi,Kr,Zi=N({},ts,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:rs,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Kr&&(Kr&&t.type==="mousemove"?(ns=t.screenX-Kr.screenX,Wi=t.screenY-Kr.screenY):Wi=ns=0,Kr=t),ns)},movementY:function(t){return"movementY"in t?t.movementY:Wi}}),xo=ln(Zi),ai=N({},Zi,{dataTransfer:0}),eu=ln(ai),tu=N({},ts,{relatedTarget:0}),si=ln(tu),bo=N({},va,{animationName:0,elapsedTime:0,pseudoElement:0}),nu=ln(bo),Ji=N({},va,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ru=ln(Ji),au=N({},va,{data:0}),Yr=ln(au),su={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},iu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ou(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=lu[t])?!!r[t]:!1}function rs(){return ou}var _n=N({},ts,{key:function(t){if(t.key){var r=su[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=ri(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?iu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:rs,charCode:function(t){return t.type==="keypress"?ri(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ri(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),cu=ln(_n),uu=N({},Zi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wa=ln(uu),d=N({},ts,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:rs}),x=ln(d),v=N({},va,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=ln(v),z=N({},Zi,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),G=ln(z),de=N({},va,{newState:0,oldState:0}),Le=ln(de),Dt=[9,13,27,32],at=er&&"CompositionEvent"in window,Tt=null;er&&"documentMode"in document&&(Tt=document.documentMode);var tr=er&&"TextEvent"in window&&!Tt,Xr=er&&(!at||Tt&&8<Tt&&11>=Tt),wr=" ",_r=!1;function ii(t,r){switch(t){case"keyup":return Dt.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function el(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var tl=!1;function P_(t,r){switch(t){case"compositionend":return el(r);case"keypress":return r.which!==32?null:(_r=!0,wr);case"textInput":return t=r.data,t===wr&&_r?null:t;default:return null}}function z_(t,r){if(tl)return t==="compositionend"||!at&&ii(t,r)?(t=po(),ni=go=Qr=null,tl=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Xr&&r.locale!=="ko"?null:r.data;default:return null}}var U_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ep(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!U_[t.type]:r==="textarea"}function tp(t,r,i,c){Ja?Gr?Gr.push(c):Gr=[c]:Ja=c,r=Ju(r,"onChange"),0<r.length&&(i=new $r("onChange","change",null,i,c),t.push({event:i,listeners:r}))}var vo=null,wo=null;function q_(t){Lx(t,0)}function du(t){var r=Ln(t);if(Zs(r))return t}function np(t,r){if(t==="change")return r}var rp=!1;if(er){var Uh;if(er){var qh="oninput"in document;if(!qh){var ap=document.createElement("div");ap.setAttribute("oninput","return;"),qh=typeof ap.oninput=="function"}Uh=qh}else Uh=!1;rp=Uh&&(!document.documentMode||9<document.documentMode)}function sp(){vo&&(vo.detachEvent("onpropertychange",ip),wo=vo=null)}function ip(t){if(t.propertyName==="value"&&du(wo)){var r=[];tp(r,wo,t,Jn(t)),es(q_,r)}}function B_(t,r,i){t==="focusin"?(sp(),vo=r,wo=i,vo.attachEvent("onpropertychange",ip)):t==="focusout"&&sp()}function H_(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return du(wo)}function F_(t,r){if(t==="click")return du(r)}function G_(t,r){if(t==="input"||t==="change")return du(r)}function Q_(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var zn=typeof Object.is=="function"?Object.is:Q_;function _o(t,r){if(zn(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var i=Object.keys(t),c=Object.keys(r);if(i.length!==c.length)return!1;for(c=0;c<i.length;c++){var h=i[c];if(!vt.call(r,h)||!zn(t[h],r[h]))return!1}return!0}function lp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function op(t,r){var i=lp(t);t=0;for(var c;i;){if(i.nodeType===3){if(c=t+i.textContent.length,t<=r&&c>=r)return{node:i,offset:r-t};t=c}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=lp(i)}}function cp(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?cp(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function up(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=Fr(t.document);r instanceof t.HTMLIFrameElement;){try{var i=typeof r.contentWindow.location.href=="string"}catch{i=!1}if(i)t=r.contentWindow;else break;r=Fr(t.document)}return r}function Bh(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}var $_=er&&"documentMode"in document&&11>=document.documentMode,nl=null,Hh=null,No=null,Fh=!1;function dp(t,r,i){var c=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;Fh||nl==null||nl!==Fr(c)||(c=nl,"selectionStart"in c&&Bh(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),No&&_o(No,c)||(No=c,c=Ju(Hh,"onSelect"),0<c.length&&(r=new $r("onSelect","select",null,r,i),t.push({event:r,listeners:c}),r.target=nl)))}function li(t,r){var i={};return i[t.toLowerCase()]=r.toLowerCase(),i["Webkit"+t]="webkit"+r,i["Moz"+t]="moz"+r,i}var rl={animationend:li("Animation","AnimationEnd"),animationiteration:li("Animation","AnimationIteration"),animationstart:li("Animation","AnimationStart"),transitionrun:li("Transition","TransitionRun"),transitionstart:li("Transition","TransitionStart"),transitioncancel:li("Transition","TransitionCancel"),transitionend:li("Transition","TransitionEnd")},Gh={},hp={};er&&(hp=document.createElement("div").style,"AnimationEvent"in window||(delete rl.animationend.animation,delete rl.animationiteration.animation,delete rl.animationstart.animation),"TransitionEvent"in window||delete rl.transitionend.transition);function oi(t){if(Gh[t])return Gh[t];if(!rl[t])return t;var r=rl[t],i;for(i in r)if(r.hasOwnProperty(i)&&i in hp)return Gh[t]=r[i];return t}var fp=oi("animationend"),mp=oi("animationiteration"),gp=oi("animationstart"),K_=oi("transitionrun"),Y_=oi("transitionstart"),X_=oi("transitioncancel"),pp=oi("transitionend"),yp=new Map,Qh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Qh.push("scrollEnd");function Nr(t,r){yp.set(t,r),Br(r,[t])}var hu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},nr=[],al=0,$h=0;function fu(){for(var t=al,r=$h=al=0;r<t;){var i=nr[r];nr[r++]=null;var c=nr[r];nr[r++]=null;var h=nr[r];nr[r++]=null;var m=nr[r];if(nr[r++]=null,c!==null&&h!==null){var b=c.pending;b===null?h.next=h:(h.next=b.next,b.next=h),c.pending=h}m!==0&&xp(i,h,m)}}function mu(t,r,i,c){nr[al++]=t,nr[al++]=r,nr[al++]=i,nr[al++]=c,$h|=c,t.lanes|=c,t=t.alternate,t!==null&&(t.lanes|=c)}function Kh(t,r,i,c){return mu(t,r,i,c),gu(t)}function ci(t,r){return mu(t,null,null,r),gu(t)}function xp(t,r,i){t.lanes|=i;var c=t.alternate;c!==null&&(c.lanes|=i);for(var h=!1,m=t.return;m!==null;)m.childLanes|=i,c=m.alternate,c!==null&&(c.childLanes|=i),m.tag===22&&(t=m.stateNode,t===null||t._visibility&1||(h=!0)),t=m,m=m.return;return t.tag===3?(m=t.stateNode,h&&r!==null&&(h=31-Be(i),t=m.hiddenUpdates,c=t[h],c===null?t[h]=[r]:c.push(r),r.lane=i|536870912),m):null}function gu(t){if(50<Go)throw Go=0,a0=null,Error(s(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var sl={};function W_(t,r,i,c){this.tag=t,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Un(t,r,i,c){return new W_(t,r,i,c)}function Yh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function _a(t,r){var i=t.alternate;return i===null?(i=Un(t.tag,r,t.key,t.mode),i.elementType=t.elementType,i.type=t.type,i.stateNode=t.stateNode,i.alternate=t,t.alternate=i):(i.pendingProps=r,i.type=t.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=t.flags&65011712,i.childLanes=t.childLanes,i.lanes=t.lanes,i.child=t.child,i.memoizedProps=t.memoizedProps,i.memoizedState=t.memoizedState,i.updateQueue=t.updateQueue,r=t.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},i.sibling=t.sibling,i.index=t.index,i.ref=t.ref,i.refCleanup=t.refCleanup,i}function bp(t,r){t.flags&=65011714;var i=t.alternate;return i===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=i.childLanes,t.lanes=i.lanes,t.child=i.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=i.memoizedProps,t.memoizedState=i.memoizedState,t.updateQueue=i.updateQueue,t.type=i.type,r=i.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function pu(t,r,i,c,h,m){var b=0;if(c=t,typeof t=="function")Yh(t)&&(b=1);else if(typeof t=="string")b=nE(t,i,W.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case j:return t=Un(31,i,r,h),t.elementType=j,t.lanes=m,t;case re:return ui(i.children,h,m,r);case Y:b=8,h|=24;break;case oe:return t=Un(12,i,r,h|2),t.elementType=oe,t.lanes=m,t;case ae:return t=Un(13,i,r,h),t.elementType=ae,t.lanes=m,t;case B:return t=Un(19,i,r,h),t.elementType=B,t.lanes=m,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case le:b=10;break e;case ue:b=9;break e;case je:b=11;break e;case k:b=14;break e;case E:b=16,c=null;break e}b=29,i=Error(s(130,t===null?"null":typeof t,"")),c=null}return r=Un(b,i,r,h),r.elementType=t,r.type=c,r.lanes=m,r}function ui(t,r,i,c){return t=Un(7,t,c,r),t.lanes=i,t}function Xh(t,r,i){return t=Un(6,t,null,r),t.lanes=i,t}function vp(t){var r=Un(18,null,null,0);return r.stateNode=t,r}function Wh(t,r,i){return r=Un(4,t.children!==null?t.children:[],t.key,r),r.lanes=i,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}var wp=new WeakMap;function rr(t,r){if(typeof t=="object"&&t!==null){var i=wp.get(t);return i!==void 0?i:(r={value:t,source:r,stack:kn(r)},wp.set(t,r),r)}return{value:t,source:r,stack:kn(r)}}var il=[],ll=0,yu=null,Eo=0,ar=[],sr=0,as=null,Wr=1,Zr="";function Na(t,r){il[ll++]=Eo,il[ll++]=yu,yu=t,Eo=r}function _p(t,r,i){ar[sr++]=Wr,ar[sr++]=Zr,ar[sr++]=as,as=t;var c=Wr;t=Zr;var h=32-Be(c)-1;c&=~(1<<h),i+=1;var m=32-Be(r)+h;if(30<m){var b=h-h%5;m=(c&(1<<b)-1).toString(32),c>>=b,h-=b,Wr=1<<32-Be(r)+h|i<<h|c,Zr=m+t}else Wr=1<<m|i<<h|c,Zr=t}function Zh(t){t.return!==null&&(Na(t,1),_p(t,1,0))}function Jh(t){for(;t===yu;)yu=il[--ll],il[ll]=null,Eo=il[--ll],il[ll]=null;for(;t===as;)as=ar[--sr],ar[sr]=null,Zr=ar[--sr],ar[sr]=null,Wr=ar[--sr],ar[sr]=null}function Np(t,r){ar[sr++]=Wr,ar[sr++]=Zr,ar[sr++]=as,Wr=r.id,Zr=r.overflow,as=t}var on=null,wt=null,Xe=!1,ss=null,ir=!1,ef=Error(s(519));function is(t){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw To(rr(r,t)),ef}function Ep(t){var r=t.stateNode,i=t.type,c=t.memoizedProps;switch(r[Pt]=t,r[en]=c,i){case"dialog":Fe("cancel",r),Fe("close",r);break;case"iframe":case"object":case"embed":Fe("load",r);break;case"video":case"audio":for(i=0;i<$o.length;i++)Fe($o[i],r);break;case"source":Fe("error",r);break;case"img":case"image":case"link":Fe("error",r),Fe("load",r);break;case"details":Fe("toggle",r);break;case"input":Fe("invalid",r),Xc(r,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":Fe("invalid",r);break;case"textarea":Fe("invalid",r),Wa(r,c.value,c.defaultValue,c.children)}i=c.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||r.textContent===""+i||c.suppressHydrationWarning===!0||qx(r.textContent,i)?(c.popover!=null&&(Fe("beforetoggle",r),Fe("toggle",r)),c.onScroll!=null&&Fe("scroll",r),c.onScrollEnd!=null&&Fe("scrollend",r),c.onClick!=null&&(r.onclick=xr),r=!0):r=!1,r||is(t,!0)}function Tp(t){for(on=t.return;on;)switch(on.tag){case 5:case 31:case 13:ir=!1;return;case 27:case 3:ir=!0;return;default:on=on.return}}function ol(t){if(t!==on)return!1;if(!Xe)return Tp(t),Xe=!0,!1;var r=t.tag,i;if((i=r!==3&&r!==27)&&((i=r===5)&&(i=t.type,i=!(i!=="form"&&i!=="button")||b0(t.type,t.memoizedProps)),i=!i),i&&wt&&is(t),Tp(t),r===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));wt=Xx(t)}else if(r===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));wt=Xx(t)}else r===27?(r=wt,vs(t.type)?(t=E0,E0=null,wt=t):wt=r):wt=on?or(t.stateNode.nextSibling):null;return!0}function di(){wt=on=null,Xe=!1}function tf(){var t=ss;return t!==null&&(In===null?In=t:In.push.apply(In,t),ss=null),t}function To(t){ss===null?ss=[t]:ss.push(t)}var nf=R(null),hi=null,Ea=null;function ls(t,r,i){P(nf,r._currentValue),r._currentValue=i}function Ta(t){t._currentValue=nf.current,X(nf)}function rf(t,r,i){for(;t!==null;){var c=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,c!==null&&(c.childLanes|=r)):c!==null&&(c.childLanes&r)!==r&&(c.childLanes|=r),t===i)break;t=t.return}}function af(t,r,i,c){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var m=h.dependencies;if(m!==null){var b=h.child;m=m.firstContext;e:for(;m!==null;){var _=m;m=h;for(var C=0;C<r.length;C++)if(_.context===r[C]){m.lanes|=i,_=m.alternate,_!==null&&(_.lanes|=i),rf(m.return,i,t),c||(b=null);break e}m=_.next}}else if(h.tag===18){if(b=h.return,b===null)throw Error(s(341));b.lanes|=i,m=b.alternate,m!==null&&(m.lanes|=i),rf(b,i,t),b=null}else b=h.child;if(b!==null)b.return=h;else for(b=h;b!==null;){if(b===t){b=null;break}if(h=b.sibling,h!==null){h.return=b.return,b=h;break}b=b.return}h=b}}function cl(t,r,i,c){t=null;for(var h=r,m=!1;h!==null;){if(!m){if((h.flags&524288)!==0)m=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var b=h.alternate;if(b===null)throw Error(s(387));if(b=b.memoizedProps,b!==null){var _=h.type;zn(h.pendingProps.value,b.value)||(t!==null?t.push(_):t=[_])}}else if(h===Ve.current){if(b=h.alternate,b===null)throw Error(s(387));b.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Zo):t=[Zo])}h=h.return}t!==null&&af(r,t,i,c),r.flags|=262144}function xu(t){for(t=t.firstContext;t!==null;){if(!zn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function fi(t){hi=t,Ea=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function cn(t){return kp(hi,t)}function bu(t,r){return hi===null&&fi(t),kp(t,r)}function kp(t,r){var i=r._currentValue;if(r={context:r,memoizedValue:i,next:null},Ea===null){if(t===null)throw Error(s(308));Ea=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else Ea=Ea.next=r;return i}var Z_=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(i,c){t.push(c)}};this.abort=function(){r.aborted=!0,t.forEach(function(i){return i()})}},J_=a.unstable_scheduleCallback,eN=a.unstable_NormalPriority,qt={$$typeof:le,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function sf(){return{controller:new Z_,data:new Map,refCount:0}}function ko(t){t.refCount--,t.refCount===0&&J_(eN,function(){t.controller.abort()})}var jo=null,lf=0,ul=0,dl=null;function tN(t,r){if(jo===null){var i=jo=[];lf=0,ul=u0(),dl={status:"pending",value:void 0,then:function(c){i.push(c)}}}return lf++,r.then(jp,jp),r}function jp(){if(--lf===0&&jo!==null){dl!==null&&(dl.status="fulfilled");var t=jo;jo=null,ul=0,dl=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function nN(t,r){var i=[],c={status:"pending",value:null,reason:null,then:function(h){i.push(h)}};return t.then(function(){c.status="fulfilled",c.value=r;for(var h=0;h<i.length;h++)(0,i[h])(r)},function(h){for(c.status="rejected",c.reason=h,h=0;h<i.length;h++)(0,i[h])(void 0)}),c}var Sp=K.S;K.S=function(t,r){dx=yt(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&tN(t,r),Sp!==null&&Sp(t,r)};var mi=R(null);function of(){var t=mi.current;return t!==null?t:pt.pooledCache}function vu(t,r){r===null?P(mi,mi.current):P(mi,r.pool)}function Ap(){var t=of();return t===null?null:{parent:qt._currentValue,pool:t}}var hl=Error(s(460)),cf=Error(s(474)),wu=Error(s(542)),_u={then:function(){}};function Cp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Rp(t,r,i){switch(i=t[i],i===void 0?t.push(r):i!==r&&(r.then(xr,xr),r=i),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,Dp(t),t;default:if(typeof r.status=="string")r.then(xr,xr);else{if(t=pt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=r,t.status="pending",t.then(function(c){if(r.status==="pending"){var h=r;h.status="fulfilled",h.value=c}},function(c){if(r.status==="pending"){var h=r;h.status="rejected",h.reason=c}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,Dp(t),t}throw pi=r,hl}}function gi(t){try{var r=t._init;return r(t._payload)}catch(i){throw i!==null&&typeof i=="object"&&typeof i.then=="function"?(pi=i,hl):i}}var pi=null;function Ip(){if(pi===null)throw Error(s(459));var t=pi;return pi=null,t}function Dp(t){if(t===hl||t===wu)throw Error(s(483))}var fl=null,So=0;function Nu(t){var r=So;return So+=1,fl===null&&(fl=[]),Rp(fl,t,r)}function Ao(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function Eu(t,r){throw r.$$typeof===S?Error(s(525)):(t=Object.prototype.toString.call(r),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function Op(t){function r(L,O){if(t){var U=L.deletions;U===null?(L.deletions=[O],L.flags|=16):U.push(O)}}function i(L,O){if(!t)return null;for(;O!==null;)r(L,O),O=O.sibling;return null}function c(L){for(var O=new Map;L!==null;)L.key!==null?O.set(L.key,L):O.set(L.index,L),L=L.sibling;return O}function h(L,O){return L=_a(L,O),L.index=0,L.sibling=null,L}function m(L,O,U){return L.index=U,t?(U=L.alternate,U!==null?(U=U.index,U<O?(L.flags|=67108866,O):U):(L.flags|=67108866,O)):(L.flags|=1048576,O)}function b(L){return t&&L.alternate===null&&(L.flags|=67108866),L}function _(L,O,U,J){return O===null||O.tag!==6?(O=Xh(U,L.mode,J),O.return=L,O):(O=h(O,U),O.return=L,O)}function C(L,O,U,J){var Te=U.type;return Te===re?Z(L,O,U.props.children,J,U.key):O!==null&&(O.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===E&&gi(Te)===O.type)?(O=h(O,U.props),Ao(O,U),O.return=L,O):(O=pu(U.type,U.key,U.props,null,L.mode,J),Ao(O,U),O.return=L,O)}function q(L,O,U,J){return O===null||O.tag!==4||O.stateNode.containerInfo!==U.containerInfo||O.stateNode.implementation!==U.implementation?(O=Wh(U,L.mode,J),O.return=L,O):(O=h(O,U.children||[]),O.return=L,O)}function Z(L,O,U,J,Te){return O===null||O.tag!==7?(O=ui(U,L.mode,J,Te),O.return=L,O):(O=h(O,U),O.return=L,O)}function te(L,O,U){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Xh(""+O,L.mode,U),O.return=L,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case M:return U=pu(O.type,O.key,O.props,null,L.mode,U),Ao(U,O),U.return=L,U;case F:return O=Wh(O,L.mode,U),O.return=L,O;case E:return O=gi(O),te(L,O,U)}if(Ze(O)||V(O))return O=ui(O,L.mode,U,null),O.return=L,O;if(typeof O.then=="function")return te(L,Nu(O),U);if(O.$$typeof===le)return te(L,bu(L,O),U);Eu(L,O)}return null}function H(L,O,U,J){var Te=O!==null?O.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return Te!==null?null:_(L,O,""+U,J);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case M:return U.key===Te?C(L,O,U,J):null;case F:return U.key===Te?q(L,O,U,J):null;case E:return U=gi(U),H(L,O,U,J)}if(Ze(U)||V(U))return Te!==null?null:Z(L,O,U,J,null);if(typeof U.then=="function")return H(L,O,Nu(U),J);if(U.$$typeof===le)return H(L,O,bu(L,U),J);Eu(L,U)}return null}function $(L,O,U,J,Te){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return L=L.get(U)||null,_(O,L,""+J,Te);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case M:return L=L.get(J.key===null?U:J.key)||null,C(O,L,J,Te);case F:return L=L.get(J.key===null?U:J.key)||null,q(O,L,J,Te);case E:return J=gi(J),$(L,O,U,J,Te)}if(Ze(J)||V(J))return L=L.get(U)||null,Z(O,L,J,Te,null);if(typeof J.then=="function")return $(L,O,U,Nu(J),Te);if(J.$$typeof===le)return $(L,O,U,bu(O,J),Te);Eu(O,J)}return null}function xe(L,O,U,J){for(var Te=null,et=null,be=O,ze=O=0,Qe=null;be!==null&&ze<U.length;ze++){be.index>ze?(Qe=be,be=null):Qe=be.sibling;var tt=H(L,be,U[ze],J);if(tt===null){be===null&&(be=Qe);break}t&&be&&tt.alternate===null&&r(L,be),O=m(tt,O,ze),et===null?Te=tt:et.sibling=tt,et=tt,be=Qe}if(ze===U.length)return i(L,be),Xe&&Na(L,ze),Te;if(be===null){for(;ze<U.length;ze++)be=te(L,U[ze],J),be!==null&&(O=m(be,O,ze),et===null?Te=be:et.sibling=be,et=be);return Xe&&Na(L,ze),Te}for(be=c(be);ze<U.length;ze++)Qe=$(be,L,ze,U[ze],J),Qe!==null&&(t&&Qe.alternate!==null&&be.delete(Qe.key===null?ze:Qe.key),O=m(Qe,O,ze),et===null?Te=Qe:et.sibling=Qe,et=Qe);return t&&be.forEach(function(Ts){return r(L,Ts)}),Xe&&Na(L,ze),Te}function Se(L,O,U,J){if(U==null)throw Error(s(151));for(var Te=null,et=null,be=O,ze=O=0,Qe=null,tt=U.next();be!==null&&!tt.done;ze++,tt=U.next()){be.index>ze?(Qe=be,be=null):Qe=be.sibling;var Ts=H(L,be,tt.value,J);if(Ts===null){be===null&&(be=Qe);break}t&&be&&Ts.alternate===null&&r(L,be),O=m(Ts,O,ze),et===null?Te=Ts:et.sibling=Ts,et=Ts,be=Qe}if(tt.done)return i(L,be),Xe&&Na(L,ze),Te;if(be===null){for(;!tt.done;ze++,tt=U.next())tt=te(L,tt.value,J),tt!==null&&(O=m(tt,O,ze),et===null?Te=tt:et.sibling=tt,et=tt);return Xe&&Na(L,ze),Te}for(be=c(be);!tt.done;ze++,tt=U.next())tt=$(be,L,ze,tt.value,J),tt!==null&&(t&&tt.alternate!==null&&be.delete(tt.key===null?ze:tt.key),O=m(tt,O,ze),et===null?Te=tt:et.sibling=tt,et=tt);return t&&be.forEach(function(fE){return r(L,fE)}),Xe&&Na(L,ze),Te}function gt(L,O,U,J){if(typeof U=="object"&&U!==null&&U.type===re&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case M:e:{for(var Te=U.key;O!==null;){if(O.key===Te){if(Te=U.type,Te===re){if(O.tag===7){i(L,O.sibling),J=h(O,U.props.children),J.return=L,L=J;break e}}else if(O.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===E&&gi(Te)===O.type){i(L,O.sibling),J=h(O,U.props),Ao(J,U),J.return=L,L=J;break e}i(L,O);break}else r(L,O);O=O.sibling}U.type===re?(J=ui(U.props.children,L.mode,J,U.key),J.return=L,L=J):(J=pu(U.type,U.key,U.props,null,L.mode,J),Ao(J,U),J.return=L,L=J)}return b(L);case F:e:{for(Te=U.key;O!==null;){if(O.key===Te)if(O.tag===4&&O.stateNode.containerInfo===U.containerInfo&&O.stateNode.implementation===U.implementation){i(L,O.sibling),J=h(O,U.children||[]),J.return=L,L=J;break e}else{i(L,O);break}else r(L,O);O=O.sibling}J=Wh(U,L.mode,J),J.return=L,L=J}return b(L);case E:return U=gi(U),gt(L,O,U,J)}if(Ze(U))return xe(L,O,U,J);if(V(U)){if(Te=V(U),typeof Te!="function")throw Error(s(150));return U=Te.call(U),Se(L,O,U,J)}if(typeof U.then=="function")return gt(L,O,Nu(U),J);if(U.$$typeof===le)return gt(L,O,bu(L,U),J);Eu(L,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,O!==null&&O.tag===6?(i(L,O.sibling),J=h(O,U),J.return=L,L=J):(i(L,O),J=Xh(U,L.mode,J),J.return=L,L=J),b(L)):i(L,O)}return function(L,O,U,J){try{So=0;var Te=gt(L,O,U,J);return fl=null,Te}catch(be){if(be===hl||be===wu)throw be;var et=Un(29,be,null,L.mode);return et.lanes=J,et.return=L,et}finally{}}}var yi=Op(!0),Mp=Op(!1),os=!1;function uf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function df(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function cs(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function us(t,r,i){var c=t.updateQueue;if(c===null)return null;if(c=c.shared,(st&2)!==0){var h=c.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),c.pending=r,r=gu(t),xp(t,null,i),r}return mu(t,c,r,i),gu(t)}function Co(t,r,i){if(r=r.updateQueue,r!==null&&(r=r.shared,(i&4194048)!==0)){var c=r.lanes;c&=t.pendingLanes,i|=c,r.lanes=i,no(t,i)}}function hf(t,r){var i=t.updateQueue,c=t.alternate;if(c!==null&&(c=c.updateQueue,i===c)){var h=null,m=null;if(i=i.firstBaseUpdate,i!==null){do{var b={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};m===null?h=m=b:m=m.next=b,i=i.next}while(i!==null);m===null?h=m=r:m=m.next=r}else h=m=r;i={baseState:c.baseState,firstBaseUpdate:h,lastBaseUpdate:m,shared:c.shared,callbacks:c.callbacks},t.updateQueue=i;return}t=i.lastBaseUpdate,t===null?i.firstBaseUpdate=r:t.next=r,i.lastBaseUpdate=r}var ff=!1;function Ro(){if(ff){var t=dl;if(t!==null)throw t}}function Io(t,r,i,c){ff=!1;var h=t.updateQueue;os=!1;var m=h.firstBaseUpdate,b=h.lastBaseUpdate,_=h.shared.pending;if(_!==null){h.shared.pending=null;var C=_,q=C.next;C.next=null,b===null?m=q:b.next=q,b=C;var Z=t.alternate;Z!==null&&(Z=Z.updateQueue,_=Z.lastBaseUpdate,_!==b&&(_===null?Z.firstBaseUpdate=q:_.next=q,Z.lastBaseUpdate=C))}if(m!==null){var te=h.baseState;b=0,Z=q=C=null,_=m;do{var H=_.lane&-536870913,$=H!==_.lane;if($?(Ge&H)===H:(c&H)===H){H!==0&&H===ul&&(ff=!0),Z!==null&&(Z=Z.next={lane:0,tag:_.tag,payload:_.payload,callback:null,next:null});e:{var xe=t,Se=_;H=r;var gt=i;switch(Se.tag){case 1:if(xe=Se.payload,typeof xe=="function"){te=xe.call(gt,te,H);break e}te=xe;break e;case 3:xe.flags=xe.flags&-65537|128;case 0:if(xe=Se.payload,H=typeof xe=="function"?xe.call(gt,te,H):xe,H==null)break e;te=N({},te,H);break e;case 2:os=!0}}H=_.callback,H!==null&&(t.flags|=64,$&&(t.flags|=8192),$=h.callbacks,$===null?h.callbacks=[H]:$.push(H))}else $={lane:H,tag:_.tag,payload:_.payload,callback:_.callback,next:null},Z===null?(q=Z=$,C=te):Z=Z.next=$,b|=H;if(_=_.next,_===null){if(_=h.shared.pending,_===null)break;$=_,_=$.next,$.next=null,h.lastBaseUpdate=$,h.shared.pending=null}}while(!0);Z===null&&(C=te),h.baseState=C,h.firstBaseUpdate=q,h.lastBaseUpdate=Z,m===null&&(h.shared.lanes=0),gs|=b,t.lanes=b,t.memoizedState=te}}function Vp(t,r){if(typeof t!="function")throw Error(s(191,t));t.call(r)}function Lp(t,r){var i=t.callbacks;if(i!==null)for(t.callbacks=null,t=0;t<i.length;t++)Vp(i[t],r)}var ml=R(null),Tu=R(0);function Pp(t,r){t=Oa,P(Tu,t),P(ml,r),Oa=t|r.baseLanes}function mf(){P(Tu,Oa),P(ml,ml.current)}function gf(){Oa=Tu.current,X(ml),X(Tu)}var qn=R(null),lr=null;function ds(t){var r=t.alternate;P(Ot,Ot.current&1),P(qn,t),lr===null&&(r===null||ml.current!==null||r.memoizedState!==null)&&(lr=t)}function pf(t){P(Ot,Ot.current),P(qn,t),lr===null&&(lr=t)}function zp(t){t.tag===22?(P(Ot,Ot.current),P(qn,t),lr===null&&(lr=t)):hs()}function hs(){P(Ot,Ot.current),P(qn,qn.current)}function Bn(t){X(qn),lr===t&&(lr=null),X(Ot)}var Ot=R(0);function ku(t){for(var r=t;r!==null;){if(r.tag===13){var i=r.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||_0(i)||N0(i)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var ka=0,Pe=null,ft=null,Bt=null,ju=!1,gl=!1,xi=!1,Su=0,Do=0,pl=null,rN=0;function At(){throw Error(s(321))}function yf(t,r){if(r===null)return!1;for(var i=0;i<r.length&&i<t.length;i++)if(!zn(t[i],r[i]))return!1;return!0}function xf(t,r,i,c,h,m){return ka=m,Pe=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,K.H=t===null||t.memoizedState===null?_y:Df,xi=!1,m=i(c,h),xi=!1,gl&&(m=qp(r,i,c,h)),Up(t),m}function Up(t){K.H=Vo;var r=ft!==null&&ft.next!==null;if(ka=0,Bt=ft=Pe=null,ju=!1,Do=0,pl=null,r)throw Error(s(300));t===null||Ht||(t=t.dependencies,t!==null&&xu(t)&&(Ht=!0))}function qp(t,r,i,c){Pe=t;var h=0;do{if(gl&&(pl=null),Do=0,gl=!1,25<=h)throw Error(s(301));if(h+=1,Bt=ft=null,t.updateQueue!=null){var m=t.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}K.H=Ny,m=r(i,c)}while(gl);return m}function aN(){var t=K.H,r=t.useState()[0];return r=typeof r.then=="function"?Oo(r):r,t=t.useState()[0],(ft!==null?ft.memoizedState:null)!==t&&(Pe.flags|=1024),r}function bf(){var t=Su!==0;return Su=0,t}function vf(t,r,i){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~i}function wf(t){if(ju){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}ju=!1}ka=0,Bt=ft=Pe=null,gl=!1,Do=Su=0,pl=null}function Nn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Bt===null?Pe.memoizedState=Bt=t:Bt=Bt.next=t,Bt}function Mt(){if(ft===null){var t=Pe.alternate;t=t!==null?t.memoizedState:null}else t=ft.next;var r=Bt===null?Pe.memoizedState:Bt.next;if(r!==null)Bt=r,ft=t;else{if(t===null)throw Pe.alternate===null?Error(s(467)):Error(s(310));ft=t,t={memoizedState:ft.memoizedState,baseState:ft.baseState,baseQueue:ft.baseQueue,queue:ft.queue,next:null},Bt===null?Pe.memoizedState=Bt=t:Bt=Bt.next=t}return Bt}function Au(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Oo(t){var r=Do;return Do+=1,pl===null&&(pl=[]),t=Rp(pl,t,r),r=Pe,(Bt===null?r.memoizedState:Bt.next)===null&&(r=r.alternate,K.H=r===null||r.memoizedState===null?_y:Df),t}function Cu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Oo(t);if(t.$$typeof===le)return cn(t)}throw Error(s(438,String(t)))}function _f(t){var r=null,i=Pe.updateQueue;if(i!==null&&(r=i.memoCache),r==null){var c=Pe.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(r={data:c.data.map(function(h){return h.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),i===null&&(i=Au(),Pe.updateQueue=i),i.memoCache=r,i=r.data[r.index],i===void 0)for(i=r.data[r.index]=Array(t),c=0;c<t;c++)i[c]=D;return r.index++,i}function ja(t,r){return typeof r=="function"?r(t):r}function Ru(t){var r=Mt();return Nf(r,ft,t)}function Nf(t,r,i){var c=t.queue;if(c===null)throw Error(s(311));c.lastRenderedReducer=i;var h=t.baseQueue,m=c.pending;if(m!==null){if(h!==null){var b=h.next;h.next=m.next,m.next=b}r.baseQueue=h=m,c.pending=null}if(m=t.baseState,h===null)t.memoizedState=m;else{r=h.next;var _=b=null,C=null,q=r,Z=!1;do{var te=q.lane&-536870913;if(te!==q.lane?(Ge&te)===te:(ka&te)===te){var H=q.revertLane;if(H===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),te===ul&&(Z=!0);else if((ka&H)===H){q=q.next,H===ul&&(Z=!0);continue}else te={lane:0,revertLane:q.revertLane,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},C===null?(_=C=te,b=m):C=C.next=te,Pe.lanes|=H,gs|=H;te=q.action,xi&&i(m,te),m=q.hasEagerState?q.eagerState:i(m,te)}else H={lane:te,revertLane:q.revertLane,gesture:q.gesture,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},C===null?(_=C=H,b=m):C=C.next=H,Pe.lanes|=te,gs|=te;q=q.next}while(q!==null&&q!==r);if(C===null?b=m:C.next=_,!zn(m,t.memoizedState)&&(Ht=!0,Z&&(i=dl,i!==null)))throw i;t.memoizedState=m,t.baseState=b,t.baseQueue=C,c.lastRenderedState=m}return h===null&&(c.lanes=0),[t.memoizedState,c.dispatch]}function Ef(t){var r=Mt(),i=r.queue;if(i===null)throw Error(s(311));i.lastRenderedReducer=t;var c=i.dispatch,h=i.pending,m=r.memoizedState;if(h!==null){i.pending=null;var b=h=h.next;do m=t(m,b.action),b=b.next;while(b!==h);zn(m,r.memoizedState)||(Ht=!0),r.memoizedState=m,r.baseQueue===null&&(r.baseState=m),i.lastRenderedState=m}return[m,c]}function Bp(t,r,i){var c=Pe,h=Mt(),m=Xe;if(m){if(i===void 0)throw Error(s(407));i=i()}else i=r();var b=!zn((ft||h).memoizedState,i);if(b&&(h.memoizedState=i,Ht=!0),h=h.queue,jf(Gp.bind(null,c,h,t),[t]),h.getSnapshot!==r||b||Bt!==null&&Bt.memoizedState.tag&1){if(c.flags|=2048,yl(9,{destroy:void 0},Fp.bind(null,c,h,i,r),null),pt===null)throw Error(s(349));m||(ka&127)!==0||Hp(c,r,i)}return i}function Hp(t,r,i){t.flags|=16384,t={getSnapshot:r,value:i},r=Pe.updateQueue,r===null?(r=Au(),Pe.updateQueue=r,r.stores=[t]):(i=r.stores,i===null?r.stores=[t]:i.push(t))}function Fp(t,r,i,c){r.value=i,r.getSnapshot=c,Qp(r)&&$p(t)}function Gp(t,r,i){return i(function(){Qp(r)&&$p(t)})}function Qp(t){var r=t.getSnapshot;t=t.value;try{var i=r();return!zn(t,i)}catch{return!0}}function $p(t){var r=ci(t,2);r!==null&&Dn(r,t,2)}function Tf(t){var r=Nn();if(typeof t=="function"){var i=t;if(t=i(),xi){rt(!0);try{i()}finally{rt(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ja,lastRenderedState:t},r}function Kp(t,r,i,c){return t.baseState=i,Nf(t,ft,typeof c=="function"?c:ja)}function sN(t,r,i,c,h){if(Ou(t))throw Error(s(485));if(t=r.action,t!==null){var m={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){m.listeners.push(b)}};K.T!==null?i(!0):m.isTransition=!1,c(m),i=r.pending,i===null?(m.next=r.pending=m,Yp(r,m)):(m.next=i.next,r.pending=i.next=m)}}function Yp(t,r){var i=r.action,c=r.payload,h=t.state;if(r.isTransition){var m=K.T,b={};K.T=b;try{var _=i(h,c),C=K.S;C!==null&&C(b,_),Xp(t,r,_)}catch(q){kf(t,r,q)}finally{m!==null&&b.types!==null&&(m.types=b.types),K.T=m}}else try{m=i(h,c),Xp(t,r,m)}catch(q){kf(t,r,q)}}function Xp(t,r,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(c){Wp(t,r,c)},function(c){return kf(t,r,c)}):Wp(t,r,i)}function Wp(t,r,i){r.status="fulfilled",r.value=i,Zp(r),t.state=i,r=t.pending,r!==null&&(i=r.next,i===r?t.pending=null:(i=i.next,r.next=i,Yp(t,i)))}function kf(t,r,i){var c=t.pending;if(t.pending=null,c!==null){c=c.next;do r.status="rejected",r.reason=i,Zp(r),r=r.next;while(r!==c)}t.action=null}function Zp(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function Jp(t,r){return r}function ey(t,r){if(Xe){var i=pt.formState;if(i!==null){e:{var c=Pe;if(Xe){if(wt){t:{for(var h=wt,m=ir;h.nodeType!==8;){if(!m){h=null;break t}if(h=or(h.nextSibling),h===null){h=null;break t}}m=h.data,h=m==="F!"||m==="F"?h:null}if(h){wt=or(h.nextSibling),c=h.data==="F!";break e}}is(c)}c=!1}c&&(r=i[0])}}return i=Nn(),i.memoizedState=i.baseState=r,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jp,lastRenderedState:r},i.queue=c,i=by.bind(null,Pe,c),c.dispatch=i,c=Tf(!1),m=If.bind(null,Pe,!1,c.queue),c=Nn(),h={state:r,dispatch:null,action:t,pending:null},c.queue=h,i=sN.bind(null,Pe,h,m,i),h.dispatch=i,c.memoizedState=t,[r,i,!1]}function ty(t){var r=Mt();return ny(r,ft,t)}function ny(t,r,i){if(r=Nf(t,r,Jp)[0],t=Ru(ja)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var c=Oo(r)}catch(b){throw b===hl?wu:b}else c=r;r=Mt();var h=r.queue,m=h.dispatch;return i!==r.memoizedState&&(Pe.flags|=2048,yl(9,{destroy:void 0},iN.bind(null,h,i),null)),[c,m,t]}function iN(t,r){t.action=r}function ry(t){var r=Mt(),i=ft;if(i!==null)return ny(r,i,t);Mt(),r=r.memoizedState,i=Mt();var c=i.queue.dispatch;return i.memoizedState=t,[r,c,!1]}function yl(t,r,i,c){return t={tag:t,create:i,deps:c,inst:r,next:null},r=Pe.updateQueue,r===null&&(r=Au(),Pe.updateQueue=r),i=r.lastEffect,i===null?r.lastEffect=t.next=t:(c=i.next,i.next=t,t.next=c,r.lastEffect=t),t}function ay(){return Mt().memoizedState}function Iu(t,r,i,c){var h=Nn();Pe.flags|=t,h.memoizedState=yl(1|r,{destroy:void 0},i,c===void 0?null:c)}function Du(t,r,i,c){var h=Mt();c=c===void 0?null:c;var m=h.memoizedState.inst;ft!==null&&c!==null&&yf(c,ft.memoizedState.deps)?h.memoizedState=yl(r,m,i,c):(Pe.flags|=t,h.memoizedState=yl(1|r,m,i,c))}function sy(t,r){Iu(8390656,8,t,r)}function jf(t,r){Du(2048,8,t,r)}function lN(t){Pe.flags|=4;var r=Pe.updateQueue;if(r===null)r=Au(),Pe.updateQueue=r,r.events=[t];else{var i=r.events;i===null?r.events=[t]:i.push(t)}}function iy(t){var r=Mt().memoizedState;return lN({ref:r,nextImpl:t}),function(){if((st&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function ly(t,r){return Du(4,2,t,r)}function oy(t,r){return Du(4,4,t,r)}function cy(t,r){if(typeof r=="function"){t=t();var i=r(t);return function(){typeof i=="function"?i():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function uy(t,r,i){i=i!=null?i.concat([t]):null,Du(4,4,cy.bind(null,r,t),i)}function Sf(){}function dy(t,r){var i=Mt();r=r===void 0?null:r;var c=i.memoizedState;return r!==null&&yf(r,c[1])?c[0]:(i.memoizedState=[t,r],t)}function hy(t,r){var i=Mt();r=r===void 0?null:r;var c=i.memoizedState;if(r!==null&&yf(r,c[1]))return c[0];if(c=t(),xi){rt(!0);try{t()}finally{rt(!1)}}return i.memoizedState=[c,r],c}function Af(t,r,i){return i===void 0||(ka&1073741824)!==0&&(Ge&261930)===0?t.memoizedState=r:(t.memoizedState=i,t=fx(),Pe.lanes|=t,gs|=t,i)}function fy(t,r,i,c){return zn(i,r)?i:ml.current!==null?(t=Af(t,i,c),zn(t,r)||(Ht=!0),t):(ka&42)===0||(ka&1073741824)!==0&&(Ge&261930)===0?(Ht=!0,t.memoizedState=i):(t=fx(),Pe.lanes|=t,gs|=t,r)}function my(t,r,i,c,h){var m=ce.p;ce.p=m!==0&&8>m?m:8;var b=K.T,_={};K.T=_,If(t,!1,r,i);try{var C=h(),q=K.S;if(q!==null&&q(_,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var Z=nN(C,c);Mo(t,r,Z,Gn(t))}else Mo(t,r,c,Gn(t))}catch(te){Mo(t,r,{then:function(){},status:"rejected",reason:te},Gn())}finally{ce.p=m,b!==null&&_.types!==null&&(b.types=_.types),K.T=b}}function oN(){}function Cf(t,r,i,c){if(t.tag!==5)throw Error(s(476));var h=gy(t).queue;my(t,h,r,ye,i===null?oN:function(){return py(t),i(c)})}function gy(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:ye,baseState:ye,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ja,lastRenderedState:ye},next:null};var i={};return r.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ja,lastRenderedState:i},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function py(t){var r=gy(t);r.next===null&&(r=t.alternate.memoizedState),Mo(t,r.next.queue,{},Gn())}function Rf(){return cn(Zo)}function yy(){return Mt().memoizedState}function xy(){return Mt().memoizedState}function cN(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var i=Gn();t=cs(i);var c=us(r,t,i);c!==null&&(Dn(c,r,i),Co(c,r,i)),r={cache:sf()},t.payload=r;return}r=r.return}}function uN(t,r,i){var c=Gn();i={lane:c,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},Ou(t)?vy(r,i):(i=Kh(t,r,i,c),i!==null&&(Dn(i,t,c),wy(i,r,c)))}function by(t,r,i){var c=Gn();Mo(t,r,i,c)}function Mo(t,r,i,c){var h={lane:c,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null};if(Ou(t))vy(r,h);else{var m=t.alternate;if(t.lanes===0&&(m===null||m.lanes===0)&&(m=r.lastRenderedReducer,m!==null))try{var b=r.lastRenderedState,_=m(b,i);if(h.hasEagerState=!0,h.eagerState=_,zn(_,b))return mu(t,r,h,0),pt===null&&fu(),!1}catch{}finally{}if(i=Kh(t,r,h,c),i!==null)return Dn(i,t,c),wy(i,r,c),!0}return!1}function If(t,r,i,c){if(c={lane:2,revertLane:u0(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Ou(t)){if(r)throw Error(s(479))}else r=Kh(t,i,c,2),r!==null&&Dn(r,t,2)}function Ou(t){var r=t.alternate;return t===Pe||r!==null&&r===Pe}function vy(t,r){gl=ju=!0;var i=t.pending;i===null?r.next=r:(r.next=i.next,i.next=r),t.pending=r}function wy(t,r,i){if((i&4194048)!==0){var c=r.lanes;c&=t.pendingLanes,i|=c,r.lanes=i,no(t,i)}}var Vo={readContext:cn,use:Cu,useCallback:At,useContext:At,useEffect:At,useImperativeHandle:At,useLayoutEffect:At,useInsertionEffect:At,useMemo:At,useReducer:At,useRef:At,useState:At,useDebugValue:At,useDeferredValue:At,useTransition:At,useSyncExternalStore:At,useId:At,useHostTransitionStatus:At,useFormState:At,useActionState:At,useOptimistic:At,useMemoCache:At,useCacheRefresh:At};Vo.useEffectEvent=At;var _y={readContext:cn,use:Cu,useCallback:function(t,r){return Nn().memoizedState=[t,r===void 0?null:r],t},useContext:cn,useEffect:sy,useImperativeHandle:function(t,r,i){i=i!=null?i.concat([t]):null,Iu(4194308,4,cy.bind(null,r,t),i)},useLayoutEffect:function(t,r){return Iu(4194308,4,t,r)},useInsertionEffect:function(t,r){Iu(4,2,t,r)},useMemo:function(t,r){var i=Nn();r=r===void 0?null:r;var c=t();if(xi){rt(!0);try{t()}finally{rt(!1)}}return i.memoizedState=[c,r],c},useReducer:function(t,r,i){var c=Nn();if(i!==void 0){var h=i(r);if(xi){rt(!0);try{i(r)}finally{rt(!1)}}}else h=r;return c.memoizedState=c.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},c.queue=t,t=t.dispatch=uN.bind(null,Pe,t),[c.memoizedState,t]},useRef:function(t){var r=Nn();return t={current:t},r.memoizedState=t},useState:function(t){t=Tf(t);var r=t.queue,i=by.bind(null,Pe,r);return r.dispatch=i,[t.memoizedState,i]},useDebugValue:Sf,useDeferredValue:function(t,r){var i=Nn();return Af(i,t,r)},useTransition:function(){var t=Tf(!1);return t=my.bind(null,Pe,t.queue,!0,!1),Nn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,i){var c=Pe,h=Nn();if(Xe){if(i===void 0)throw Error(s(407));i=i()}else{if(i=r(),pt===null)throw Error(s(349));(Ge&127)!==0||Hp(c,r,i)}h.memoizedState=i;var m={value:i,getSnapshot:r};return h.queue=m,sy(Gp.bind(null,c,m,t),[t]),c.flags|=2048,yl(9,{destroy:void 0},Fp.bind(null,c,m,i,r),null),i},useId:function(){var t=Nn(),r=pt.identifierPrefix;if(Xe){var i=Zr,c=Wr;i=(c&~(1<<32-Be(c)-1)).toString(32)+i,r="_"+r+"R_"+i,i=Su++,0<i&&(r+="H"+i.toString(32)),r+="_"}else i=rN++,r="_"+r+"r_"+i.toString(32)+"_";return t.memoizedState=r},useHostTransitionStatus:Rf,useFormState:ey,useActionState:ey,useOptimistic:function(t){var r=Nn();r.memoizedState=r.baseState=t;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=i,r=If.bind(null,Pe,!0,i),i.dispatch=r,[t,r]},useMemoCache:_f,useCacheRefresh:function(){return Nn().memoizedState=cN.bind(null,Pe)},useEffectEvent:function(t){var r=Nn(),i={impl:t};return r.memoizedState=i,function(){if((st&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}},Df={readContext:cn,use:Cu,useCallback:dy,useContext:cn,useEffect:jf,useImperativeHandle:uy,useInsertionEffect:ly,useLayoutEffect:oy,useMemo:hy,useReducer:Ru,useRef:ay,useState:function(){return Ru(ja)},useDebugValue:Sf,useDeferredValue:function(t,r){var i=Mt();return fy(i,ft.memoizedState,t,r)},useTransition:function(){var t=Ru(ja)[0],r=Mt().memoizedState;return[typeof t=="boolean"?t:Oo(t),r]},useSyncExternalStore:Bp,useId:yy,useHostTransitionStatus:Rf,useFormState:ty,useActionState:ty,useOptimistic:function(t,r){var i=Mt();return Kp(i,ft,t,r)},useMemoCache:_f,useCacheRefresh:xy};Df.useEffectEvent=iy;var Ny={readContext:cn,use:Cu,useCallback:dy,useContext:cn,useEffect:jf,useImperativeHandle:uy,useInsertionEffect:ly,useLayoutEffect:oy,useMemo:hy,useReducer:Ef,useRef:ay,useState:function(){return Ef(ja)},useDebugValue:Sf,useDeferredValue:function(t,r){var i=Mt();return ft===null?Af(i,t,r):fy(i,ft.memoizedState,t,r)},useTransition:function(){var t=Ef(ja)[0],r=Mt().memoizedState;return[typeof t=="boolean"?t:Oo(t),r]},useSyncExternalStore:Bp,useId:yy,useHostTransitionStatus:Rf,useFormState:ry,useActionState:ry,useOptimistic:function(t,r){var i=Mt();return ft!==null?Kp(i,ft,t,r):(i.baseState=t,[t,i.queue.dispatch])},useMemoCache:_f,useCacheRefresh:xy};Ny.useEffectEvent=iy;function Of(t,r,i,c){r=t.memoizedState,i=i(c,r),i=i==null?r:N({},r,i),t.memoizedState=i,t.lanes===0&&(t.updateQueue.baseState=i)}var Mf={enqueueSetState:function(t,r,i){t=t._reactInternals;var c=Gn(),h=cs(c);h.payload=r,i!=null&&(h.callback=i),r=us(t,h,c),r!==null&&(Dn(r,t,c),Co(r,t,c))},enqueueReplaceState:function(t,r,i){t=t._reactInternals;var c=Gn(),h=cs(c);h.tag=1,h.payload=r,i!=null&&(h.callback=i),r=us(t,h,c),r!==null&&(Dn(r,t,c),Co(r,t,c))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var i=Gn(),c=cs(i);c.tag=2,r!=null&&(c.callback=r),r=us(t,c,i),r!==null&&(Dn(r,t,i),Co(r,t,i))}};function Ey(t,r,i,c,h,m,b){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(c,m,b):r.prototype&&r.prototype.isPureReactComponent?!_o(i,c)||!_o(h,m):!0}function Ty(t,r,i,c){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(i,c),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(i,c),r.state!==t&&Mf.enqueueReplaceState(r,r.state,null)}function bi(t,r){var i=r;if("ref"in r){i={};for(var c in r)c!=="ref"&&(i[c]=r[c])}if(t=t.defaultProps){i===r&&(i=N({},i));for(var h in t)i[h]===void 0&&(i[h]=t[h])}return i}function ky(t){hu(t)}function jy(t){console.error(t)}function Sy(t){hu(t)}function Mu(t,r){try{var i=t.onUncaughtError;i(r.value,{componentStack:r.stack})}catch(c){setTimeout(function(){throw c})}}function Ay(t,r,i){try{var c=t.onCaughtError;c(i.value,{componentStack:i.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Vf(t,r,i){return i=cs(i),i.tag=3,i.payload={element:null},i.callback=function(){Mu(t,r)},i}function Cy(t){return t=cs(t),t.tag=3,t}function Ry(t,r,i,c){var h=i.type.getDerivedStateFromError;if(typeof h=="function"){var m=c.value;t.payload=function(){return h(m)},t.callback=function(){Ay(r,i,c)}}var b=i.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(t.callback=function(){Ay(r,i,c),typeof h!="function"&&(ps===null?ps=new Set([this]):ps.add(this));var _=c.stack;this.componentDidCatch(c.value,{componentStack:_!==null?_:""})})}function dN(t,r,i,c,h){if(i.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(r=i.alternate,r!==null&&cl(r,i,h,!0),i=qn.current,i!==null){switch(i.tag){case 31:case 13:return lr===null?$u():i.alternate===null&&Ct===0&&(Ct=3),i.flags&=-257,i.flags|=65536,i.lanes=h,c===_u?i.flags|=16384:(r=i.updateQueue,r===null?i.updateQueue=new Set([c]):r.add(c),l0(t,c,h)),!1;case 22:return i.flags|=65536,c===_u?i.flags|=16384:(r=i.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([c])},i.updateQueue=r):(i=r.retryQueue,i===null?r.retryQueue=new Set([c]):i.add(c)),l0(t,c,h)),!1}throw Error(s(435,i.tag))}return l0(t,c,h),$u(),!1}if(Xe)return r=qn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=h,c!==ef&&(t=Error(s(422),{cause:c}),To(rr(t,i)))):(c!==ef&&(r=Error(s(423),{cause:c}),To(rr(r,i))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,c=rr(c,i),h=Vf(t.stateNode,c,h),hf(t,h),Ct!==4&&(Ct=2)),!1;var m=Error(s(520),{cause:c});if(m=rr(m,i),Fo===null?Fo=[m]:Fo.push(m),Ct!==4&&(Ct=2),r===null)return!0;c=rr(c,i),i=r;do{switch(i.tag){case 3:return i.flags|=65536,t=h&-h,i.lanes|=t,t=Vf(i.stateNode,c,t),hf(i,t),!1;case 1:if(r=i.type,m=i.stateNode,(i.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(ps===null||!ps.has(m))))return i.flags|=65536,h&=-h,i.lanes|=h,h=Cy(h),Ry(h,t,i,c),hf(i,h),!1}i=i.return}while(i!==null);return!1}var Lf=Error(s(461)),Ht=!1;function un(t,r,i,c){r.child=t===null?Mp(r,null,i,c):yi(r,t.child,i,c)}function Iy(t,r,i,c,h){i=i.render;var m=r.ref;if("ref"in c){var b={};for(var _ in c)_!=="ref"&&(b[_]=c[_])}else b=c;return fi(r),c=xf(t,r,i,b,m,h),_=bf(),t!==null&&!Ht?(vf(t,r,h),Sa(t,r,h)):(Xe&&_&&Zh(r),r.flags|=1,un(t,r,c,h),r.child)}function Dy(t,r,i,c,h){if(t===null){var m=i.type;return typeof m=="function"&&!Yh(m)&&m.defaultProps===void 0&&i.compare===null?(r.tag=15,r.type=m,Oy(t,r,m,c,h)):(t=pu(i.type,null,c,r,r.mode,h),t.ref=r.ref,t.return=r,r.child=t)}if(m=t.child,!Gf(t,h)){var b=m.memoizedProps;if(i=i.compare,i=i!==null?i:_o,i(b,c)&&t.ref===r.ref)return Sa(t,r,h)}return r.flags|=1,t=_a(m,c),t.ref=r.ref,t.return=r,r.child=t}function Oy(t,r,i,c,h){if(t!==null){var m=t.memoizedProps;if(_o(m,c)&&t.ref===r.ref)if(Ht=!1,r.pendingProps=c=m,Gf(t,h))(t.flags&131072)!==0&&(Ht=!0);else return r.lanes=t.lanes,Sa(t,r,h)}return Pf(t,r,i,c,h)}function My(t,r,i,c){var h=c.children,m=t!==null?t.memoizedState:null;if(t===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((r.flags&128)!==0){if(m=m!==null?m.baseLanes|i:i,t!==null){for(c=r.child=t.child,h=0;c!==null;)h=h|c.lanes|c.childLanes,c=c.sibling;c=h&~m}else c=0,r.child=null;return Vy(t,r,m,i,c)}if((i&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&vu(r,m!==null?m.cachePool:null),m!==null?Pp(r,m):mf(),zp(r);else return c=r.lanes=536870912,Vy(t,r,m!==null?m.baseLanes|i:i,i,c)}else m!==null?(vu(r,m.cachePool),Pp(r,m),hs(),r.memoizedState=null):(t!==null&&vu(r,null),mf(),hs());return un(t,r,h,i),r.child}function Lo(t,r){return t!==null&&t.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function Vy(t,r,i,c,h){var m=of();return m=m===null?null:{parent:qt._currentValue,pool:m},r.memoizedState={baseLanes:i,cachePool:m},t!==null&&vu(r,null),mf(),zp(r),t!==null&&cl(t,r,c,!0),r.childLanes=h,null}function Vu(t,r){return r=Pu({mode:r.mode,children:r.children},t.mode),r.ref=t.ref,t.child=r,r.return=t,r}function Ly(t,r,i){return yi(r,t.child,null,i),t=Vu(r,r.pendingProps),t.flags|=2,Bn(r),r.memoizedState=null,t}function hN(t,r,i){var c=r.pendingProps,h=(r.flags&128)!==0;if(r.flags&=-129,t===null){if(Xe){if(c.mode==="hidden")return t=Vu(r,c),r.lanes=536870912,Lo(null,t);if(pf(r),(t=wt)?(t=Yx(t,ir),t=t!==null&&t.data==="&"?t:null,t!==null&&(r.memoizedState={dehydrated:t,treeContext:as!==null?{id:Wr,overflow:Zr}:null,retryLane:536870912,hydrationErrors:null},i=vp(t),i.return=r,r.child=i,on=r,wt=null)):t=null,t===null)throw is(r);return r.lanes=536870912,null}return Vu(r,c)}var m=t.memoizedState;if(m!==null){var b=m.dehydrated;if(pf(r),h)if(r.flags&256)r.flags&=-257,r=Ly(t,r,i);else if(r.memoizedState!==null)r.child=t.child,r.flags|=128,r=null;else throw Error(s(558));else if(Ht||cl(t,r,i,!1),h=(i&t.childLanes)!==0,Ht||h){if(c=pt,c!==null&&(b=ro(c,i),b!==0&&b!==m.retryLane))throw m.retryLane=b,ci(t,b),Dn(c,t,b),Lf;$u(),r=Ly(t,r,i)}else t=m.treeContext,wt=or(b.nextSibling),on=r,Xe=!0,ss=null,ir=!1,t!==null&&Np(r,t),r=Vu(r,c),r.flags|=4096;return r}return t=_a(t.child,{mode:c.mode,children:c.children}),t.ref=r.ref,r.child=t,t.return=r,t}function Lu(t,r){var i=r.ref;if(i===null)t!==null&&t.ref!==null&&(r.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(s(284));(t===null||t.ref!==i)&&(r.flags|=4194816)}}function Pf(t,r,i,c,h){return fi(r),i=xf(t,r,i,c,void 0,h),c=bf(),t!==null&&!Ht?(vf(t,r,h),Sa(t,r,h)):(Xe&&c&&Zh(r),r.flags|=1,un(t,r,i,h),r.child)}function Py(t,r,i,c,h,m){return fi(r),r.updateQueue=null,i=qp(r,c,i,h),Up(t),c=bf(),t!==null&&!Ht?(vf(t,r,m),Sa(t,r,m)):(Xe&&c&&Zh(r),r.flags|=1,un(t,r,i,m),r.child)}function zy(t,r,i,c,h){if(fi(r),r.stateNode===null){var m=sl,b=i.contextType;typeof b=="object"&&b!==null&&(m=cn(b)),m=new i(c,m),r.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Mf,r.stateNode=m,m._reactInternals=r,m=r.stateNode,m.props=c,m.state=r.memoizedState,m.refs={},uf(r),b=i.contextType,m.context=typeof b=="object"&&b!==null?cn(b):sl,m.state=r.memoizedState,b=i.getDerivedStateFromProps,typeof b=="function"&&(Of(r,i,b,c),m.state=r.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(b=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),b!==m.state&&Mf.enqueueReplaceState(m,m.state,null),Io(r,c,m,h),Ro(),m.state=r.memoizedState),typeof m.componentDidMount=="function"&&(r.flags|=4194308),c=!0}else if(t===null){m=r.stateNode;var _=r.memoizedProps,C=bi(i,_);m.props=C;var q=m.context,Z=i.contextType;b=sl,typeof Z=="object"&&Z!==null&&(b=cn(Z));var te=i.getDerivedStateFromProps;Z=typeof te=="function"||typeof m.getSnapshotBeforeUpdate=="function",_=r.pendingProps!==_,Z||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(_||q!==b)&&Ty(r,m,c,b),os=!1;var H=r.memoizedState;m.state=H,Io(r,c,m,h),Ro(),q=r.memoizedState,_||H!==q||os?(typeof te=="function"&&(Of(r,i,te,c),q=r.memoizedState),(C=os||Ey(r,i,C,c,H,q,b))?(Z||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(r.flags|=4194308)):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=c,r.memoizedState=q),m.props=c,m.state=q,m.context=b,c=C):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),c=!1)}else{m=r.stateNode,df(t,r),b=r.memoizedProps,Z=bi(i,b),m.props=Z,te=r.pendingProps,H=m.context,q=i.contextType,C=sl,typeof q=="object"&&q!==null&&(C=cn(q)),_=i.getDerivedStateFromProps,(q=typeof _=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(b!==te||H!==C)&&Ty(r,m,c,C),os=!1,H=r.memoizedState,m.state=H,Io(r,c,m,h),Ro();var $=r.memoizedState;b!==te||H!==$||os||t!==null&&t.dependencies!==null&&xu(t.dependencies)?(typeof _=="function"&&(Of(r,i,_,c),$=r.memoizedState),(Z=os||Ey(r,i,Z,c,H,$,C)||t!==null&&t.dependencies!==null&&xu(t.dependencies))?(q||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(c,$,C),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(c,$,C)),typeof m.componentDidUpdate=="function"&&(r.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof m.componentDidUpdate!="function"||b===t.memoizedProps&&H===t.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||b===t.memoizedProps&&H===t.memoizedState||(r.flags|=1024),r.memoizedProps=c,r.memoizedState=$),m.props=c,m.state=$,m.context=C,c=Z):(typeof m.componentDidUpdate!="function"||b===t.memoizedProps&&H===t.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||b===t.memoizedProps&&H===t.memoizedState||(r.flags|=1024),c=!1)}return m=c,Lu(t,r),c=(r.flags&128)!==0,m||c?(m=r.stateNode,i=c&&typeof i.getDerivedStateFromError!="function"?null:m.render(),r.flags|=1,t!==null&&c?(r.child=yi(r,t.child,null,h),r.child=yi(r,null,i,h)):un(t,r,i,h),r.memoizedState=m.state,t=r.child):t=Sa(t,r,h),t}function Uy(t,r,i,c){return di(),r.flags|=256,un(t,r,i,c),r.child}var zf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Uf(t){return{baseLanes:t,cachePool:Ap()}}function qf(t,r,i){return t=t!==null?t.childLanes&~i:0,r&&(t|=Fn),t}function qy(t,r,i){var c=r.pendingProps,h=!1,m=(r.flags&128)!==0,b;if((b=m)||(b=t!==null&&t.memoizedState===null?!1:(Ot.current&2)!==0),b&&(h=!0,r.flags&=-129),b=(r.flags&32)!==0,r.flags&=-33,t===null){if(Xe){if(h?ds(r):hs(),(t=wt)?(t=Yx(t,ir),t=t!==null&&t.data!=="&"?t:null,t!==null&&(r.memoizedState={dehydrated:t,treeContext:as!==null?{id:Wr,overflow:Zr}:null,retryLane:536870912,hydrationErrors:null},i=vp(t),i.return=r,r.child=i,on=r,wt=null)):t=null,t===null)throw is(r);return N0(t)?r.lanes=32:r.lanes=536870912,null}var _=c.children;return c=c.fallback,h?(hs(),h=r.mode,_=Pu({mode:"hidden",children:_},h),c=ui(c,h,i,null),_.return=r,c.return=r,_.sibling=c,r.child=_,c=r.child,c.memoizedState=Uf(i),c.childLanes=qf(t,b,i),r.memoizedState=zf,Lo(null,c)):(ds(r),Bf(r,_))}var C=t.memoizedState;if(C!==null&&(_=C.dehydrated,_!==null)){if(m)r.flags&256?(ds(r),r.flags&=-257,r=Hf(t,r,i)):r.memoizedState!==null?(hs(),r.child=t.child,r.flags|=128,r=null):(hs(),_=c.fallback,h=r.mode,c=Pu({mode:"visible",children:c.children},h),_=ui(_,h,i,null),_.flags|=2,c.return=r,_.return=r,c.sibling=_,r.child=c,yi(r,t.child,null,i),c=r.child,c.memoizedState=Uf(i),c.childLanes=qf(t,b,i),r.memoizedState=zf,r=Lo(null,c));else if(ds(r),N0(_)){if(b=_.nextSibling&&_.nextSibling.dataset,b)var q=b.dgst;b=q,c=Error(s(419)),c.stack="",c.digest=b,To({value:c,source:null,stack:null}),r=Hf(t,r,i)}else if(Ht||cl(t,r,i,!1),b=(i&t.childLanes)!==0,Ht||b){if(b=pt,b!==null&&(c=ro(b,i),c!==0&&c!==C.retryLane))throw C.retryLane=c,ci(t,c),Dn(b,t,c),Lf;_0(_)||$u(),r=Hf(t,r,i)}else _0(_)?(r.flags|=192,r.child=t.child,r=null):(t=C.treeContext,wt=or(_.nextSibling),on=r,Xe=!0,ss=null,ir=!1,t!==null&&Np(r,t),r=Bf(r,c.children),r.flags|=4096);return r}return h?(hs(),_=c.fallback,h=r.mode,C=t.child,q=C.sibling,c=_a(C,{mode:"hidden",children:c.children}),c.subtreeFlags=C.subtreeFlags&65011712,q!==null?_=_a(q,_):(_=ui(_,h,i,null),_.flags|=2),_.return=r,c.return=r,c.sibling=_,r.child=c,Lo(null,c),c=r.child,_=t.child.memoizedState,_===null?_=Uf(i):(h=_.cachePool,h!==null?(C=qt._currentValue,h=h.parent!==C?{parent:C,pool:C}:h):h=Ap(),_={baseLanes:_.baseLanes|i,cachePool:h}),c.memoizedState=_,c.childLanes=qf(t,b,i),r.memoizedState=zf,Lo(t.child,c)):(ds(r),i=t.child,t=i.sibling,i=_a(i,{mode:"visible",children:c.children}),i.return=r,i.sibling=null,t!==null&&(b=r.deletions,b===null?(r.deletions=[t],r.flags|=16):b.push(t)),r.child=i,r.memoizedState=null,i)}function Bf(t,r){return r=Pu({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function Pu(t,r){return t=Un(22,t,null,r),t.lanes=0,t}function Hf(t,r,i){return yi(r,t.child,null,i),t=Bf(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function By(t,r,i){t.lanes|=r;var c=t.alternate;c!==null&&(c.lanes|=r),rf(t.return,r,i)}function Ff(t,r,i,c,h,m){var b=t.memoizedState;b===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:c,tail:i,tailMode:h,treeForkCount:m}:(b.isBackwards=r,b.rendering=null,b.renderingStartTime=0,b.last=c,b.tail=i,b.tailMode=h,b.treeForkCount=m)}function Hy(t,r,i){var c=r.pendingProps,h=c.revealOrder,m=c.tail;c=c.children;var b=Ot.current,_=(b&2)!==0;if(_?(b=b&1|2,r.flags|=128):b&=1,P(Ot,b),un(t,r,c,i),c=Xe?Eo:0,!_&&t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&By(t,i,r);else if(t.tag===19)By(t,i,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(i=r.child,h=null;i!==null;)t=i.alternate,t!==null&&ku(t)===null&&(h=i),i=i.sibling;i=h,i===null?(h=r.child,r.child=null):(h=i.sibling,i.sibling=null),Ff(r,!1,h,i,m,c);break;case"backwards":case"unstable_legacy-backwards":for(i=null,h=r.child,r.child=null;h!==null;){if(t=h.alternate,t!==null&&ku(t)===null){r.child=h;break}t=h.sibling,h.sibling=i,i=h,h=t}Ff(r,!0,i,null,m,c);break;case"together":Ff(r,!1,null,null,void 0,c);break;default:r.memoizedState=null}return r.child}function Sa(t,r,i){if(t!==null&&(r.dependencies=t.dependencies),gs|=r.lanes,(i&r.childLanes)===0)if(t!==null){if(cl(t,r,i,!1),(i&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(s(153));if(r.child!==null){for(t=r.child,i=_a(t,t.pendingProps),r.child=i,i.return=r;t.sibling!==null;)t=t.sibling,i=i.sibling=_a(t,t.pendingProps),i.return=r;i.sibling=null}return r.child}function Gf(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&xu(t)))}function fN(t,r,i){switch(r.tag){case 3:bt(r,r.stateNode.containerInfo),ls(r,qt,t.memoizedState.cache),di();break;case 27:case 5:Et(r);break;case 4:bt(r,r.stateNode.containerInfo);break;case 10:ls(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,pf(r),null;break;case 13:var c=r.memoizedState;if(c!==null)return c.dehydrated!==null?(ds(r),r.flags|=128,null):(i&r.child.childLanes)!==0?qy(t,r,i):(ds(r),t=Sa(t,r,i),t!==null?t.sibling:null);ds(r);break;case 19:var h=(t.flags&128)!==0;if(c=(i&r.childLanes)!==0,c||(cl(t,r,i,!1),c=(i&r.childLanes)!==0),h){if(c)return Hy(t,r,i);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),P(Ot,Ot.current),c)break;return null;case 22:return r.lanes=0,My(t,r,i,r.pendingProps);case 24:ls(r,qt,t.memoizedState.cache)}return Sa(t,r,i)}function Fy(t,r,i){if(t!==null)if(t.memoizedProps!==r.pendingProps)Ht=!0;else{if(!Gf(t,i)&&(r.flags&128)===0)return Ht=!1,fN(t,r,i);Ht=(t.flags&131072)!==0}else Ht=!1,Xe&&(r.flags&1048576)!==0&&_p(r,Eo,r.index);switch(r.lanes=0,r.tag){case 16:e:{var c=r.pendingProps;if(t=gi(r.elementType),r.type=t,typeof t=="function")Yh(t)?(c=bi(t,c),r.tag=1,r=zy(null,r,t,c,i)):(r.tag=0,r=Pf(null,r,t,c,i));else{if(t!=null){var h=t.$$typeof;if(h===je){r.tag=11,r=Iy(null,r,t,c,i);break e}else if(h===k){r.tag=14,r=Dy(null,r,t,c,i);break e}}throw r=Ue(t)||t,Error(s(306,r,""))}}return r;case 0:return Pf(t,r,r.type,r.pendingProps,i);case 1:return c=r.type,h=bi(c,r.pendingProps),zy(t,r,c,h,i);case 3:e:{if(bt(r,r.stateNode.containerInfo),t===null)throw Error(s(387));c=r.pendingProps;var m=r.memoizedState;h=m.element,df(t,r),Io(r,c,null,i);var b=r.memoizedState;if(c=b.cache,ls(r,qt,c),c!==m.cache&&af(r,[qt],i,!0),Ro(),c=b.element,m.isDehydrated)if(m={element:c,isDehydrated:!1,cache:b.cache},r.updateQueue.baseState=m,r.memoizedState=m,r.flags&256){r=Uy(t,r,c,i);break e}else if(c!==h){h=rr(Error(s(424)),r),To(h),r=Uy(t,r,c,i);break e}else{switch(t=r.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(wt=or(t.firstChild),on=r,Xe=!0,ss=null,ir=!0,i=Mp(r,null,c,i),r.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling}else{if(di(),c===h){r=Sa(t,r,i);break e}un(t,r,c,i)}r=r.child}return r;case 26:return Lu(t,r),t===null?(i=tb(r.type,null,r.pendingProps,null))?r.memoizedState=i:Xe||(i=r.type,t=r.pendingProps,c=ed(Ee.current).createElement(i),c[Pt]=r,c[en]=t,dn(c,i,t),zt(c),r.stateNode=c):r.memoizedState=tb(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return Et(r),t===null&&Xe&&(c=r.stateNode=Zx(r.type,r.pendingProps,Ee.current),on=r,ir=!0,h=wt,vs(r.type)?(E0=h,wt=or(c.firstChild)):wt=h),un(t,r,r.pendingProps.children,i),Lu(t,r),t===null&&(r.flags|=4194304),r.child;case 5:return t===null&&Xe&&((h=c=wt)&&(c=HN(c,r.type,r.pendingProps,ir),c!==null?(r.stateNode=c,on=r,wt=or(c.firstChild),ir=!1,h=!0):h=!1),h||is(r)),Et(r),h=r.type,m=r.pendingProps,b=t!==null?t.memoizedProps:null,c=m.children,b0(h,m)?c=null:b!==null&&b0(h,b)&&(r.flags|=32),r.memoizedState!==null&&(h=xf(t,r,aN,null,null,i),Zo._currentValue=h),Lu(t,r),un(t,r,c,i),r.child;case 6:return t===null&&Xe&&((t=i=wt)&&(i=FN(i,r.pendingProps,ir),i!==null?(r.stateNode=i,on=r,wt=null,t=!0):t=!1),t||is(r)),null;case 13:return qy(t,r,i);case 4:return bt(r,r.stateNode.containerInfo),c=r.pendingProps,t===null?r.child=yi(r,null,c,i):un(t,r,c,i),r.child;case 11:return Iy(t,r,r.type,r.pendingProps,i);case 7:return un(t,r,r.pendingProps,i),r.child;case 8:return un(t,r,r.pendingProps.children,i),r.child;case 12:return un(t,r,r.pendingProps.children,i),r.child;case 10:return c=r.pendingProps,ls(r,r.type,c.value),un(t,r,c.children,i),r.child;case 9:return h=r.type._context,c=r.pendingProps.children,fi(r),h=cn(h),c=c(h),r.flags|=1,un(t,r,c,i),r.child;case 14:return Dy(t,r,r.type,r.pendingProps,i);case 15:return Oy(t,r,r.type,r.pendingProps,i);case 19:return Hy(t,r,i);case 31:return hN(t,r,i);case 22:return My(t,r,i,r.pendingProps);case 24:return fi(r),c=cn(qt),t===null?(h=of(),h===null&&(h=pt,m=sf(),h.pooledCache=m,m.refCount++,m!==null&&(h.pooledCacheLanes|=i),h=m),r.memoizedState={parent:c,cache:h},uf(r),ls(r,qt,h)):((t.lanes&i)!==0&&(df(t,r),Io(r,null,null,i),Ro()),h=t.memoizedState,m=r.memoizedState,h.parent!==c?(h={parent:c,cache:c},r.memoizedState=h,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=h),ls(r,qt,c)):(c=m.cache,ls(r,qt,c),c!==h.cache&&af(r,[qt],i,!0))),un(t,r,r.pendingProps.children,i),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function Aa(t){t.flags|=4}function Qf(t,r,i,c,h){if((r=(t.mode&32)!==0)&&(r=!1),r){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(yx())t.flags|=8192;else throw pi=_u,cf}else t.flags&=-16777217}function Gy(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!ib(r))if(yx())t.flags|=8192;else throw pi=_u,cf}function zu(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?Gc():536870912,t.lanes|=r,wl|=r)}function Po(t,r){if(!Xe)switch(t.tailMode){case"hidden":r=t.tail;for(var i=null;r!==null;)r.alternate!==null&&(i=r),r=r.sibling;i===null?t.tail=null:i.sibling=null;break;case"collapsed":i=t.tail;for(var c=null;i!==null;)i.alternate!==null&&(c=i),i=i.sibling;c===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:c.sibling=null}}function _t(t){var r=t.alternate!==null&&t.alternate.child===t.child,i=0,c=0;if(r)for(var h=t.child;h!==null;)i|=h.lanes|h.childLanes,c|=h.subtreeFlags&65011712,c|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)i|=h.lanes|h.childLanes,c|=h.subtreeFlags,c|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=c,t.childLanes=i,r}function mN(t,r,i){var c=r.pendingProps;switch(Jh(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _t(r),null;case 1:return _t(r),null;case 3:return i=r.stateNode,c=null,t!==null&&(c=t.memoizedState.cache),r.memoizedState.cache!==c&&(r.flags|=2048),Ta(qt),ve(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(ol(r)?Aa(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,tf())),_t(r),null;case 26:var h=r.type,m=r.memoizedState;return t===null?(Aa(r),m!==null?(_t(r),Gy(r,m)):(_t(r),Qf(r,h,null,c,i))):m?m!==t.memoizedState?(Aa(r),_t(r),Gy(r,m)):(_t(r),r.flags&=-16777217):(t=t.memoizedProps,t!==c&&Aa(r),_t(r),Qf(r,h,t,c,i)),null;case 27:if(Kt(r),i=Ee.current,h=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==c&&Aa(r);else{if(!c){if(r.stateNode===null)throw Error(s(166));return _t(r),null}t=W.current,ol(r)?Ep(r):(t=Zx(h,c,i),r.stateNode=t,Aa(r))}return _t(r),null;case 5:if(Kt(r),h=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==c&&Aa(r);else{if(!c){if(r.stateNode===null)throw Error(s(166));return _t(r),null}if(m=W.current,ol(r))Ep(r);else{var b=ed(Ee.current);switch(m){case 1:m=b.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:m=b.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":m=b.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":m=b.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":m=b.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof c.is=="string"?b.createElement("select",{is:c.is}):b.createElement("select"),c.multiple?m.multiple=!0:c.size&&(m.size=c.size);break;default:m=typeof c.is=="string"?b.createElement(h,{is:c.is}):b.createElement(h)}}m[Pt]=r,m[en]=c;e:for(b=r.child;b!==null;){if(b.tag===5||b.tag===6)m.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===r)break e;for(;b.sibling===null;){if(b.return===null||b.return===r)break e;b=b.return}b.sibling.return=b.return,b=b.sibling}r.stateNode=m;e:switch(dn(m,h,c),h){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&Aa(r)}}return _t(r),Qf(r,r.type,t===null?null:t.memoizedProps,r.pendingProps,i),null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==c&&Aa(r);else{if(typeof c!="string"&&r.stateNode===null)throw Error(s(166));if(t=Ee.current,ol(r)){if(t=r.stateNode,i=r.memoizedProps,c=null,h=on,h!==null)switch(h.tag){case 27:case 5:c=h.memoizedProps}t[Pt]=r,t=!!(t.nodeValue===i||c!==null&&c.suppressHydrationWarning===!0||qx(t.nodeValue,i)),t||is(r,!0)}else t=ed(t).createTextNode(c),t[Pt]=r,r.stateNode=t}return _t(r),null;case 31:if(i=r.memoizedState,t===null||t.memoizedState!==null){if(c=ol(r),i!==null){if(t===null){if(!c)throw Error(s(318));if(t=r.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[Pt]=r}else di(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;_t(r),t=!1}else i=tf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=i),t=!0;if(!t)return r.flags&256?(Bn(r),r):(Bn(r),null);if((r.flags&128)!==0)throw Error(s(558))}return _t(r),null;case 13:if(c=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=ol(r),c!==null&&c.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=r.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Pt]=r}else di(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;_t(r),h=!1}else h=tf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return r.flags&256?(Bn(r),r):(Bn(r),null)}return Bn(r),(r.flags&128)!==0?(r.lanes=i,r):(i=c!==null,t=t!==null&&t.memoizedState!==null,i&&(c=r.child,h=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(h=c.alternate.memoizedState.cachePool.pool),m=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(m=c.memoizedState.cachePool.pool),m!==h&&(c.flags|=2048)),i!==t&&i&&(r.child.flags|=8192),zu(r,r.updateQueue),_t(r),null);case 4:return ve(),t===null&&m0(r.stateNode.containerInfo),_t(r),null;case 10:return Ta(r.type),_t(r),null;case 19:if(X(Ot),c=r.memoizedState,c===null)return _t(r),null;if(h=(r.flags&128)!==0,m=c.rendering,m===null)if(h)Po(c,!1);else{if(Ct!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(m=ku(t),m!==null){for(r.flags|=128,Po(c,!1),t=m.updateQueue,r.updateQueue=t,zu(r,t),r.subtreeFlags=0,t=i,i=r.child;i!==null;)bp(i,t),i=i.sibling;return P(Ot,Ot.current&1|2),Xe&&Na(r,c.treeForkCount),r.child}t=t.sibling}c.tail!==null&&yt()>Fu&&(r.flags|=128,h=!0,Po(c,!1),r.lanes=4194304)}else{if(!h)if(t=ku(m),t!==null){if(r.flags|=128,h=!0,t=t.updateQueue,r.updateQueue=t,zu(r,t),Po(c,!0),c.tail===null&&c.tailMode==="hidden"&&!m.alternate&&!Xe)return _t(r),null}else 2*yt()-c.renderingStartTime>Fu&&i!==536870912&&(r.flags|=128,h=!0,Po(c,!1),r.lanes=4194304);c.isBackwards?(m.sibling=r.child,r.child=m):(t=c.last,t!==null?t.sibling=m:r.child=m,c.last=m)}return c.tail!==null?(t=c.tail,c.rendering=t,c.tail=t.sibling,c.renderingStartTime=yt(),t.sibling=null,i=Ot.current,P(Ot,h?i&1|2:i&1),Xe&&Na(r,c.treeForkCount),t):(_t(r),null);case 22:case 23:return Bn(r),gf(),c=r.memoizedState!==null,t!==null?t.memoizedState!==null!==c&&(r.flags|=8192):c&&(r.flags|=8192),c?(i&536870912)!==0&&(r.flags&128)===0&&(_t(r),r.subtreeFlags&6&&(r.flags|=8192)):_t(r),i=r.updateQueue,i!==null&&zu(r,i.retryQueue),i=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),c=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),c!==i&&(r.flags|=2048),t!==null&&X(mi),null;case 24:return i=null,t!==null&&(i=t.memoizedState.cache),r.memoizedState.cache!==i&&(r.flags|=2048),Ta(qt),_t(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function gN(t,r){switch(Jh(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return Ta(qt),ve(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return Kt(r),null;case 31:if(r.memoizedState!==null){if(Bn(r),r.alternate===null)throw Error(s(340));di()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 13:if(Bn(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(s(340));di()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return X(Ot),null;case 4:return ve(),null;case 10:return Ta(r.type),null;case 22:case 23:return Bn(r),gf(),t!==null&&X(mi),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return Ta(qt),null;case 25:return null;default:return null}}function Qy(t,r){switch(Jh(r),r.tag){case 3:Ta(qt),ve();break;case 26:case 27:case 5:Kt(r);break;case 4:ve();break;case 31:r.memoizedState!==null&&Bn(r);break;case 13:Bn(r);break;case 19:X(Ot);break;case 10:Ta(r.type);break;case 22:case 23:Bn(r),gf(),t!==null&&X(mi);break;case 24:Ta(qt)}}function zo(t,r){try{var i=r.updateQueue,c=i!==null?i.lastEffect:null;if(c!==null){var h=c.next;i=h;do{if((i.tag&t)===t){c=void 0;var m=i.create,b=i.inst;c=m(),b.destroy=c}i=i.next}while(i!==h)}}catch(_){ct(r,r.return,_)}}function fs(t,r,i){try{var c=r.updateQueue,h=c!==null?c.lastEffect:null;if(h!==null){var m=h.next;c=m;do{if((c.tag&t)===t){var b=c.inst,_=b.destroy;if(_!==void 0){b.destroy=void 0,h=r;var C=i,q=_;try{q()}catch(Z){ct(h,C,Z)}}}c=c.next}while(c!==m)}}catch(Z){ct(r,r.return,Z)}}function $y(t){var r=t.updateQueue;if(r!==null){var i=t.stateNode;try{Lp(r,i)}catch(c){ct(t,t.return,c)}}}function Ky(t,r,i){i.props=bi(t.type,t.memoizedProps),i.state=t.memoizedState;try{i.componentWillUnmount()}catch(c){ct(t,r,c)}}function Uo(t,r){try{var i=t.ref;if(i!==null){switch(t.tag){case 26:case 27:case 5:var c=t.stateNode;break;case 30:c=t.stateNode;break;default:c=t.stateNode}typeof i=="function"?t.refCleanup=i(c):i.current=c}}catch(h){ct(t,r,h)}}function Jr(t,r){var i=t.ref,c=t.refCleanup;if(i!==null)if(typeof c=="function")try{c()}catch(h){ct(t,r,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(h){ct(t,r,h)}else i.current=null}function Yy(t){var r=t.type,i=t.memoizedProps,c=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":i.autoFocus&&c.focus();break e;case"img":i.src?c.src=i.src:i.srcSet&&(c.srcset=i.srcSet)}}catch(h){ct(t,t.return,h)}}function $f(t,r,i){try{var c=t.stateNode;LN(c,t.type,i,r),c[en]=r}catch(h){ct(t,t.return,h)}}function Xy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&vs(t.type)||t.tag===4}function Kf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Xy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&vs(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Yf(t,r,i){var c=t.tag;if(c===5||c===6)t=t.stateNode,r?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(t,r):(r=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,r.appendChild(t),i=i._reactRootContainer,i!=null||r.onclick!==null||(r.onclick=xr));else if(c!==4&&(c===27&&vs(t.type)&&(i=t.stateNode,r=null),t=t.child,t!==null))for(Yf(t,r,i),t=t.sibling;t!==null;)Yf(t,r,i),t=t.sibling}function Uu(t,r,i){var c=t.tag;if(c===5||c===6)t=t.stateNode,r?i.insertBefore(t,r):i.appendChild(t);else if(c!==4&&(c===27&&vs(t.type)&&(i=t.stateNode),t=t.child,t!==null))for(Uu(t,r,i),t=t.sibling;t!==null;)Uu(t,r,i),t=t.sibling}function Wy(t){var r=t.stateNode,i=t.memoizedProps;try{for(var c=t.type,h=r.attributes;h.length;)r.removeAttributeNode(h[0]);dn(r,c,i),r[Pt]=t,r[en]=i}catch(m){ct(t,t.return,m)}}var Ca=!1,Ft=!1,Xf=!1,Zy=typeof WeakSet=="function"?WeakSet:Set,nn=null;function pN(t,r){if(t=t.containerInfo,y0=ld,t=up(t),Bh(t)){if("selectionStart"in t)var i={start:t.selectionStart,end:t.selectionEnd};else e:{i=(i=t.ownerDocument)&&i.defaultView||window;var c=i.getSelection&&i.getSelection();if(c&&c.rangeCount!==0){i=c.anchorNode;var h=c.anchorOffset,m=c.focusNode;c=c.focusOffset;try{i.nodeType,m.nodeType}catch{i=null;break e}var b=0,_=-1,C=-1,q=0,Z=0,te=t,H=null;t:for(;;){for(var $;te!==i||h!==0&&te.nodeType!==3||(_=b+h),te!==m||c!==0&&te.nodeType!==3||(C=b+c),te.nodeType===3&&(b+=te.nodeValue.length),($=te.firstChild)!==null;)H=te,te=$;for(;;){if(te===t)break t;if(H===i&&++q===h&&(_=b),H===m&&++Z===c&&(C=b),($=te.nextSibling)!==null)break;te=H,H=te.parentNode}te=$}i=_===-1||C===-1?null:{start:_,end:C}}else i=null}i=i||{start:0,end:0}}else i=null;for(x0={focusedElem:t,selectionRange:i},ld=!1,nn=r;nn!==null;)if(r=nn,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,nn=t;else for(;nn!==null;){switch(r=nn,m=r.alternate,t=r.flags,r.tag){case 0:if((t&4)!==0&&(t=r.updateQueue,t=t!==null?t.events:null,t!==null))for(i=0;i<t.length;i++)h=t[i],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&m!==null){t=void 0,i=r,h=m.memoizedProps,m=m.memoizedState,c=i.stateNode;try{var xe=bi(i.type,h);t=c.getSnapshotBeforeUpdate(xe,m),c.__reactInternalSnapshotBeforeUpdate=t}catch(Se){ct(i,i.return,Se)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,i=t.nodeType,i===9)w0(t);else if(i===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":w0(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=r.sibling,t!==null){t.return=r.return,nn=t;break}nn=r.return}}function Jy(t,r,i){var c=i.flags;switch(i.tag){case 0:case 11:case 15:Ia(t,i),c&4&&zo(5,i);break;case 1:if(Ia(t,i),c&4)if(t=i.stateNode,r===null)try{t.componentDidMount()}catch(b){ct(i,i.return,b)}else{var h=bi(i.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(h,r,t.__reactInternalSnapshotBeforeUpdate)}catch(b){ct(i,i.return,b)}}c&64&&$y(i),c&512&&Uo(i,i.return);break;case 3:if(Ia(t,i),c&64&&(t=i.updateQueue,t!==null)){if(r=null,i.child!==null)switch(i.child.tag){case 27:case 5:r=i.child.stateNode;break;case 1:r=i.child.stateNode}try{Lp(t,r)}catch(b){ct(i,i.return,b)}}break;case 27:r===null&&c&4&&Wy(i);case 26:case 5:Ia(t,i),r===null&&c&4&&Yy(i),c&512&&Uo(i,i.return);break;case 12:Ia(t,i);break;case 31:Ia(t,i),c&4&&nx(t,i);break;case 13:Ia(t,i),c&4&&rx(t,i),c&64&&(t=i.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(i=TN.bind(null,i),GN(t,i))));break;case 22:if(c=i.memoizedState!==null||Ca,!c){r=r!==null&&r.memoizedState!==null||Ft,h=Ca;var m=Ft;Ca=c,(Ft=r)&&!m?Da(t,i,(i.subtreeFlags&8772)!==0):Ia(t,i),Ca=h,Ft=m}break;case 30:break;default:Ia(t,i)}}function ex(t){var r=t.alternate;r!==null&&(t.alternate=null,ex(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&Gi(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var kt=null,An=!1;function Ra(t,r,i){for(i=i.child;i!==null;)tx(t,r,i),i=i.sibling}function tx(t,r,i){if(_e&&typeof _e.onCommitFiberUnmount=="function")try{_e.onCommitFiberUnmount(Ie,i)}catch{}switch(i.tag){case 26:Ft||Jr(i,r),Ra(t,r,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:Ft||Jr(i,r);var c=kt,h=An;vs(i.type)&&(kt=i.stateNode,An=!1),Ra(t,r,i),Yo(i.stateNode),kt=c,An=h;break;case 5:Ft||Jr(i,r);case 6:if(c=kt,h=An,kt=null,Ra(t,r,i),kt=c,An=h,kt!==null)if(An)try{(kt.nodeType===9?kt.body:kt.nodeName==="HTML"?kt.ownerDocument.body:kt).removeChild(i.stateNode)}catch(m){ct(i,r,m)}else try{kt.removeChild(i.stateNode)}catch(m){ct(i,r,m)}break;case 18:kt!==null&&(An?(t=kt,$x(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,i.stateNode),Al(t)):$x(kt,i.stateNode));break;case 4:c=kt,h=An,kt=i.stateNode.containerInfo,An=!0,Ra(t,r,i),kt=c,An=h;break;case 0:case 11:case 14:case 15:fs(2,i,r),Ft||fs(4,i,r),Ra(t,r,i);break;case 1:Ft||(Jr(i,r),c=i.stateNode,typeof c.componentWillUnmount=="function"&&Ky(i,r,c)),Ra(t,r,i);break;case 21:Ra(t,r,i);break;case 22:Ft=(c=Ft)||i.memoizedState!==null,Ra(t,r,i),Ft=c;break;default:Ra(t,r,i)}}function nx(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Al(t)}catch(i){ct(r,r.return,i)}}}function rx(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Al(t)}catch(i){ct(r,r.return,i)}}function yN(t){switch(t.tag){case 31:case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new Zy),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new Zy),r;default:throw Error(s(435,t.tag))}}function qu(t,r){var i=yN(t);r.forEach(function(c){if(!i.has(c)){i.add(c);var h=kN.bind(null,t,c);c.then(h,h)}})}function Cn(t,r){var i=r.deletions;if(i!==null)for(var c=0;c<i.length;c++){var h=i[c],m=t,b=r,_=b;e:for(;_!==null;){switch(_.tag){case 27:if(vs(_.type)){kt=_.stateNode,An=!1;break e}break;case 5:kt=_.stateNode,An=!1;break e;case 3:case 4:kt=_.stateNode.containerInfo,An=!0;break e}_=_.return}if(kt===null)throw Error(s(160));tx(m,b,h),kt=null,An=!1,m=h.alternate,m!==null&&(m.return=null),h.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)ax(r,t),r=r.sibling}var Er=null;function ax(t,r){var i=t.alternate,c=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Cn(r,t),Rn(t),c&4&&(fs(3,t,t.return),zo(3,t),fs(5,t,t.return));break;case 1:Cn(r,t),Rn(t),c&512&&(Ft||i===null||Jr(i,i.return)),c&64&&Ca&&(t=t.updateQueue,t!==null&&(c=t.callbacks,c!==null&&(i=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=i===null?c:i.concat(c))));break;case 26:var h=Er;if(Cn(r,t),Rn(t),c&512&&(Ft||i===null||Jr(i,i.return)),c&4){var m=i!==null?i.memoizedState:null;if(c=t.memoizedState,i===null)if(c===null)if(t.stateNode===null){e:{c=t.type,i=t.memoizedProps,h=h.ownerDocument||h;t:switch(c){case"title":m=h.getElementsByTagName("title")[0],(!m||m[zr]||m[Pt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=h.createElement(c),h.head.insertBefore(m,h.querySelector("head > title"))),dn(m,c,i),m[Pt]=t,zt(m),c=m;break e;case"link":var b=ab("link","href",h).get(c+(i.href||""));if(b){for(var _=0;_<b.length;_++)if(m=b[_],m.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&m.getAttribute("rel")===(i.rel==null?null:i.rel)&&m.getAttribute("title")===(i.title==null?null:i.title)&&m.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){b.splice(_,1);break t}}m=h.createElement(c),dn(m,c,i),h.head.appendChild(m);break;case"meta":if(b=ab("meta","content",h).get(c+(i.content||""))){for(_=0;_<b.length;_++)if(m=b[_],m.getAttribute("content")===(i.content==null?null:""+i.content)&&m.getAttribute("name")===(i.name==null?null:i.name)&&m.getAttribute("property")===(i.property==null?null:i.property)&&m.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&m.getAttribute("charset")===(i.charSet==null?null:i.charSet)){b.splice(_,1);break t}}m=h.createElement(c),dn(m,c,i),h.head.appendChild(m);break;default:throw Error(s(468,c))}m[Pt]=t,zt(m),c=m}t.stateNode=c}else sb(h,t.type,t.stateNode);else t.stateNode=rb(h,c,t.memoizedProps);else m!==c?(m===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):m.count--,c===null?sb(h,t.type,t.stateNode):rb(h,c,t.memoizedProps)):c===null&&t.stateNode!==null&&$f(t,t.memoizedProps,i.memoizedProps)}break;case 27:Cn(r,t),Rn(t),c&512&&(Ft||i===null||Jr(i,i.return)),i!==null&&c&4&&$f(t,t.memoizedProps,i.memoizedProps);break;case 5:if(Cn(r,t),Rn(t),c&512&&(Ft||i===null||Jr(i,i.return)),t.flags&32){h=t.stateNode;try{Sn(h,"")}catch(xe){ct(t,t.return,xe)}}c&4&&t.stateNode!=null&&(h=t.memoizedProps,$f(t,h,i!==null?i.memoizedProps:h)),c&1024&&(Xf=!0);break;case 6:if(Cn(r,t),Rn(t),c&4){if(t.stateNode===null)throw Error(s(162));c=t.memoizedProps,i=t.stateNode;try{i.nodeValue=c}catch(xe){ct(t,t.return,xe)}}break;case 3:if(rd=null,h=Er,Er=td(r.containerInfo),Cn(r,t),Er=h,Rn(t),c&4&&i!==null&&i.memoizedState.isDehydrated)try{Al(r.containerInfo)}catch(xe){ct(t,t.return,xe)}Xf&&(Xf=!1,sx(t));break;case 4:c=Er,Er=td(t.stateNode.containerInfo),Cn(r,t),Rn(t),Er=c;break;case 12:Cn(r,t),Rn(t);break;case 31:Cn(r,t),Rn(t),c&4&&(c=t.updateQueue,c!==null&&(t.updateQueue=null,qu(t,c)));break;case 13:Cn(r,t),Rn(t),t.child.flags&8192&&t.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(Hu=yt()),c&4&&(c=t.updateQueue,c!==null&&(t.updateQueue=null,qu(t,c)));break;case 22:h=t.memoizedState!==null;var C=i!==null&&i.memoizedState!==null,q=Ca,Z=Ft;if(Ca=q||h,Ft=Z||C,Cn(r,t),Ft=Z,Ca=q,Rn(t),c&8192)e:for(r=t.stateNode,r._visibility=h?r._visibility&-2:r._visibility|1,h&&(i===null||C||Ca||Ft||vi(t)),i=null,r=t;;){if(r.tag===5||r.tag===26){if(i===null){C=i=r;try{if(m=C.stateNode,h)b=m.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{_=C.stateNode;var te=C.memoizedProps.style,H=te!=null&&te.hasOwnProperty("display")?te.display:null;_.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(xe){ct(C,C.return,xe)}}}else if(r.tag===6){if(i===null){C=r;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(xe){ct(C,C.return,xe)}}}else if(r.tag===18){if(i===null){C=r;try{var $=C.stateNode;h?Kx($,!0):Kx(C.stateNode,!1)}catch(xe){ct(C,C.return,xe)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;i===r&&(i=null),r=r.return}i===r&&(i=null),r.sibling.return=r.return,r=r.sibling}c&4&&(c=t.updateQueue,c!==null&&(i=c.retryQueue,i!==null&&(c.retryQueue=null,qu(t,i))));break;case 19:Cn(r,t),Rn(t),c&4&&(c=t.updateQueue,c!==null&&(t.updateQueue=null,qu(t,c)));break;case 30:break;case 21:break;default:Cn(r,t),Rn(t)}}function Rn(t){var r=t.flags;if(r&2){try{for(var i,c=t.return;c!==null;){if(Xy(c)){i=c;break}c=c.return}if(i==null)throw Error(s(160));switch(i.tag){case 27:var h=i.stateNode,m=Kf(t);Uu(t,m,h);break;case 5:var b=i.stateNode;i.flags&32&&(Sn(b,""),i.flags&=-33);var _=Kf(t);Uu(t,_,b);break;case 3:case 4:var C=i.stateNode.containerInfo,q=Kf(t);Yf(t,q,C);break;default:throw Error(s(161))}}catch(Z){ct(t,t.return,Z)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function sx(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;sx(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function Ia(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Jy(t,r.alternate,r),r=r.sibling}function vi(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:fs(4,r,r.return),vi(r);break;case 1:Jr(r,r.return);var i=r.stateNode;typeof i.componentWillUnmount=="function"&&Ky(r,r.return,i),vi(r);break;case 27:Yo(r.stateNode);case 26:case 5:Jr(r,r.return),vi(r);break;case 22:r.memoizedState===null&&vi(r);break;case 30:vi(r);break;default:vi(r)}t=t.sibling}}function Da(t,r,i){for(i=i&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var c=r.alternate,h=t,m=r,b=m.flags;switch(m.tag){case 0:case 11:case 15:Da(h,m,i),zo(4,m);break;case 1:if(Da(h,m,i),c=m,h=c.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(q){ct(c,c.return,q)}if(c=m,h=c.updateQueue,h!==null){var _=c.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)Vp(C[h],_)}catch(q){ct(c,c.return,q)}}i&&b&64&&$y(m),Uo(m,m.return);break;case 27:Wy(m);case 26:case 5:Da(h,m,i),i&&c===null&&b&4&&Yy(m),Uo(m,m.return);break;case 12:Da(h,m,i);break;case 31:Da(h,m,i),i&&b&4&&nx(h,m);break;case 13:Da(h,m,i),i&&b&4&&rx(h,m);break;case 22:m.memoizedState===null&&Da(h,m,i),Uo(m,m.return);break;case 30:break;default:Da(h,m,i)}r=r.sibling}}function Wf(t,r){var i=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==i&&(t!=null&&t.refCount++,i!=null&&ko(i))}function Zf(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&ko(t))}function Tr(t,r,i,c){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)ix(t,r,i,c),r=r.sibling}function ix(t,r,i,c){var h=r.flags;switch(r.tag){case 0:case 11:case 15:Tr(t,r,i,c),h&2048&&zo(9,r);break;case 1:Tr(t,r,i,c);break;case 3:Tr(t,r,i,c),h&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&ko(t)));break;case 12:if(h&2048){Tr(t,r,i,c),t=r.stateNode;try{var m=r.memoizedProps,b=m.id,_=m.onPostCommit;typeof _=="function"&&_(b,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){ct(r,r.return,C)}}else Tr(t,r,i,c);break;case 31:Tr(t,r,i,c);break;case 13:Tr(t,r,i,c);break;case 23:break;case 22:m=r.stateNode,b=r.alternate,r.memoizedState!==null?m._visibility&2?Tr(t,r,i,c):qo(t,r):m._visibility&2?Tr(t,r,i,c):(m._visibility|=2,xl(t,r,i,c,(r.subtreeFlags&10256)!==0||!1)),h&2048&&Wf(b,r);break;case 24:Tr(t,r,i,c),h&2048&&Zf(r.alternate,r);break;default:Tr(t,r,i,c)}}function xl(t,r,i,c,h){for(h=h&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var m=t,b=r,_=i,C=c,q=b.flags;switch(b.tag){case 0:case 11:case 15:xl(m,b,_,C,h),zo(8,b);break;case 23:break;case 22:var Z=b.stateNode;b.memoizedState!==null?Z._visibility&2?xl(m,b,_,C,h):qo(m,b):(Z._visibility|=2,xl(m,b,_,C,h)),h&&q&2048&&Wf(b.alternate,b);break;case 24:xl(m,b,_,C,h),h&&q&2048&&Zf(b.alternate,b);break;default:xl(m,b,_,C,h)}r=r.sibling}}function qo(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var i=t,c=r,h=c.flags;switch(c.tag){case 22:qo(i,c),h&2048&&Wf(c.alternate,c);break;case 24:qo(i,c),h&2048&&Zf(c.alternate,c);break;default:qo(i,c)}r=r.sibling}}var Bo=8192;function bl(t,r,i){if(t.subtreeFlags&Bo)for(t=t.child;t!==null;)lx(t,r,i),t=t.sibling}function lx(t,r,i){switch(t.tag){case 26:bl(t,r,i),t.flags&Bo&&t.memoizedState!==null&&rE(i,Er,t.memoizedState,t.memoizedProps);break;case 5:bl(t,r,i);break;case 3:case 4:var c=Er;Er=td(t.stateNode.containerInfo),bl(t,r,i),Er=c;break;case 22:t.memoizedState===null&&(c=t.alternate,c!==null&&c.memoizedState!==null?(c=Bo,Bo=16777216,bl(t,r,i),Bo=c):bl(t,r,i));break;default:bl(t,r,i)}}function ox(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function Ho(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var i=0;i<r.length;i++){var c=r[i];nn=c,ux(c,t)}ox(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)cx(t),t=t.sibling}function cx(t){switch(t.tag){case 0:case 11:case 15:Ho(t),t.flags&2048&&fs(9,t,t.return);break;case 3:Ho(t);break;case 12:Ho(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&2&&(t.return===null||t.return.tag!==13)?(r._visibility&=-3,Bu(t)):Ho(t);break;default:Ho(t)}}function Bu(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var i=0;i<r.length;i++){var c=r[i];nn=c,ux(c,t)}ox(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:fs(8,r,r.return),Bu(r);break;case 22:i=r.stateNode,i._visibility&2&&(i._visibility&=-3,Bu(r));break;default:Bu(r)}t=t.sibling}}function ux(t,r){for(;nn!==null;){var i=nn;switch(i.tag){case 0:case 11:case 15:fs(8,i,r);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var c=i.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:ko(i.memoizedState.cache)}if(c=i.child,c!==null)c.return=i,nn=c;else e:for(i=t;nn!==null;){c=nn;var h=c.sibling,m=c.return;if(ex(c),c===i){nn=null;break e}if(h!==null){h.return=m,nn=h;break e}nn=m}}}var xN={getCacheForType:function(t){var r=cn(qt),i=r.data.get(t);return i===void 0&&(i=t(),r.data.set(t,i)),i},cacheSignal:function(){return cn(qt).controller.signal}},bN=typeof WeakMap=="function"?WeakMap:Map,st=0,pt=null,He=null,Ge=0,ot=0,Hn=null,ms=!1,vl=!1,Jf=!1,Oa=0,Ct=0,gs=0,wi=0,e0=0,Fn=0,wl=0,Fo=null,In=null,t0=!1,Hu=0,dx=0,Fu=1/0,Gu=null,ps=null,Xt=0,ys=null,_l=null,Ma=0,n0=0,r0=null,hx=null,Go=0,a0=null;function Gn(){return(st&2)!==0&&Ge!==0?Ge&-Ge:K.T!==null?u0():Qc()}function fx(){if(Fn===0)if((Ge&536870912)===0||Xe){var t=Ks;Ks<<=1,(Ks&3932160)===0&&(Ks=262144),Fn=t}else Fn=536870912;return t=qn.current,t!==null&&(t.flags|=32),Fn}function Dn(t,r,i){(t===pt&&(ot===2||ot===9)||t.cancelPendingCommit!==null)&&(Nl(t,0),xs(t,Ge,Fn,!1)),Ys(t,i),((st&2)===0||t!==pt)&&(t===pt&&((st&2)===0&&(wi|=i),Ct===4&&xs(t,Ge,Fn,!1)),ea(t))}function mx(t,r,i){if((st&6)!==0)throw Error(s(327));var c=!i&&(r&127)===0&&(r&t.expiredLanes)===0||gr(t,r),h=c?_N(t,r):i0(t,r,!0),m=c;do{if(h===0){vl&&!c&&xs(t,r,0,!1);break}else{if(i=t.current.alternate,m&&!vN(i)){h=i0(t,r,!1),m=!1;continue}if(h===2){if(m=r,t.errorRecoveryDisabledLanes&m)var b=0;else b=t.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){r=b;e:{var _=t;h=Fo;var C=_.current.memoizedState.isDehydrated;if(C&&(Nl(_,b).flags|=256),b=i0(_,b,!1),b!==2){if(Jf&&!C){_.errorRecoveryDisabledLanes|=m,wi|=m,h=4;break e}m=In,In=h,m!==null&&(In===null?In=m:In.push.apply(In,m))}h=b}if(m=!1,h!==2)continue}}if(h===1){Nl(t,0),xs(t,r,0,!0);break}e:{switch(c=t,m=h,m){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:xs(c,r,Fn,!ms);break e;case 2:In=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(h=Hu+300-yt(),10<h)){if(xs(c,r,Fn,!ms),Vr(c,0,!0)!==0)break e;Ma=r,c.timeoutHandle=Gx(gx.bind(null,c,i,In,Gu,t0,r,Fn,wi,wl,ms,m,"Throttled",-0,0),h);break e}gx(c,i,In,Gu,t0,r,Fn,wi,wl,ms,m,null,-0,0)}}break}while(!0);ea(t)}function gx(t,r,i,c,h,m,b,_,C,q,Z,te,H,$){if(t.timeoutHandle=-1,te=r.subtreeFlags,te&8192||(te&16785408)===16785408){te={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:xr},lx(r,m,te);var xe=(m&62914560)===m?Hu-yt():(m&4194048)===m?dx-yt():0;if(xe=aE(te,xe),xe!==null){Ma=m,t.cancelPendingCommit=xe(Nx.bind(null,t,r,m,i,c,h,b,_,C,Z,te,null,H,$)),xs(t,m,b,!q);return}}Nx(t,r,m,i,c,h,b,_,C)}function vN(t){for(var r=t;;){var i=r.tag;if((i===0||i===11||i===15)&&r.flags&16384&&(i=r.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var c=0;c<i.length;c++){var h=i[c],m=h.getSnapshot;h=h.value;try{if(!zn(m(),h))return!1}catch{return!1}}if(i=r.child,r.subtreeFlags&16384&&i!==null)i.return=r,r=i;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function xs(t,r,i,c){r&=~e0,r&=~wi,t.suspendedLanes|=r,t.pingedLanes&=~r,c&&(t.warmLanes|=r),c=t.expirationTimes;for(var h=r;0<h;){var m=31-Be(h),b=1<<m;c[m]=-1,h&=~b}i!==0&&Xs(t,i,r)}function Qu(){return(st&6)===0?(Qo(0),!1):!0}function s0(){if(He!==null){if(ot===0)var t=He.return;else t=He,Ea=hi=null,wf(t),fl=null,So=0,t=He;for(;t!==null;)Qy(t.alternate,t),t=t.return;He=null}}function Nl(t,r){var i=t.timeoutHandle;i!==-1&&(t.timeoutHandle=-1,UN(i)),i=t.cancelPendingCommit,i!==null&&(t.cancelPendingCommit=null,i()),Ma=0,s0(),pt=t,He=i=_a(t.current,null),Ge=r,ot=0,Hn=null,ms=!1,vl=gr(t,r),Jf=!1,wl=Fn=e0=wi=gs=Ct=0,In=Fo=null,t0=!1,(r&8)!==0&&(r|=r&32);var c=t.entangledLanes;if(c!==0)for(t=t.entanglements,c&=r;0<c;){var h=31-Be(c),m=1<<h;r|=t[h],c&=~m}return Oa=r,fu(),i}function px(t,r){Pe=null,K.H=Vo,r===hl||r===wu?(r=Ip(),ot=3):r===cf?(r=Ip(),ot=4):ot=r===Lf?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Hn=r,He===null&&(Ct=1,Mu(t,rr(r,t.current)))}function yx(){var t=qn.current;return t===null?!0:(Ge&4194048)===Ge?lr===null:(Ge&62914560)===Ge||(Ge&536870912)!==0?t===lr:!1}function xx(){var t=K.H;return K.H=Vo,t===null?Vo:t}function bx(){var t=K.A;return K.A=xN,t}function $u(){Ct=4,ms||(Ge&4194048)!==Ge&&qn.current!==null||(vl=!0),(gs&134217727)===0&&(wi&134217727)===0||pt===null||xs(pt,Ge,Fn,!1)}function i0(t,r,i){var c=st;st|=2;var h=xx(),m=bx();(pt!==t||Ge!==r)&&(Gu=null,Nl(t,r)),r=!1;var b=Ct;e:do try{if(ot!==0&&He!==null){var _=He,C=Hn;switch(ot){case 8:s0(),b=6;break e;case 3:case 2:case 9:case 6:qn.current===null&&(r=!0);var q=ot;if(ot=0,Hn=null,El(t,_,C,q),i&&vl){b=0;break e}break;default:q=ot,ot=0,Hn=null,El(t,_,C,q)}}wN(),b=Ct;break}catch(Z){px(t,Z)}while(!0);return r&&t.shellSuspendCounter++,Ea=hi=null,st=c,K.H=h,K.A=m,He===null&&(pt=null,Ge=0,fu()),b}function wN(){for(;He!==null;)vx(He)}function _N(t,r){var i=st;st|=2;var c=xx(),h=bx();pt!==t||Ge!==r?(Gu=null,Fu=yt()+500,Nl(t,r)):vl=gr(t,r);e:do try{if(ot!==0&&He!==null){r=He;var m=Hn;t:switch(ot){case 1:ot=0,Hn=null,El(t,r,m,1);break;case 2:case 9:if(Cp(m)){ot=0,Hn=null,wx(r);break}r=function(){ot!==2&&ot!==9||pt!==t||(ot=7),ea(t)},m.then(r,r);break e;case 3:ot=7;break e;case 4:ot=5;break e;case 7:Cp(m)?(ot=0,Hn=null,wx(r)):(ot=0,Hn=null,El(t,r,m,7));break;case 5:var b=null;switch(He.tag){case 26:b=He.memoizedState;case 5:case 27:var _=He;if(b?ib(b):_.stateNode.complete){ot=0,Hn=null;var C=_.sibling;if(C!==null)He=C;else{var q=_.return;q!==null?(He=q,Ku(q)):He=null}break t}}ot=0,Hn=null,El(t,r,m,5);break;case 6:ot=0,Hn=null,El(t,r,m,6);break;case 8:s0(),Ct=6;break e;default:throw Error(s(462))}}NN();break}catch(Z){px(t,Z)}while(!0);return Ea=hi=null,K.H=c,K.A=h,st=i,He!==null?0:(pt=null,Ge=0,fu(),Ct)}function NN(){for(;He!==null&&!Je();)vx(He)}function vx(t){var r=Fy(t.alternate,t,Oa);t.memoizedProps=t.pendingProps,r===null?Ku(t):He=r}function wx(t){var r=t,i=r.alternate;switch(r.tag){case 15:case 0:r=Py(i,r,r.pendingProps,r.type,void 0,Ge);break;case 11:r=Py(i,r,r.pendingProps,r.type.render,r.ref,Ge);break;case 5:wf(r);default:Qy(i,r),r=He=bp(r,Oa),r=Fy(i,r,Oa)}t.memoizedProps=t.pendingProps,r===null?Ku(t):He=r}function El(t,r,i,c){Ea=hi=null,wf(r),fl=null,So=0;var h=r.return;try{if(dN(t,h,r,i,Ge)){Ct=1,Mu(t,rr(i,t.current)),He=null;return}}catch(m){if(h!==null)throw He=h,m;Ct=1,Mu(t,rr(i,t.current)),He=null;return}r.flags&32768?(Xe||c===1?t=!0:vl||(Ge&536870912)!==0?t=!1:(ms=t=!0,(c===2||c===9||c===3||c===6)&&(c=qn.current,c!==null&&c.tag===13&&(c.flags|=16384))),_x(r,t)):Ku(r)}function Ku(t){var r=t;do{if((r.flags&32768)!==0){_x(r,ms);return}t=r.return;var i=mN(r.alternate,r,Oa);if(i!==null){He=i;return}if(r=r.sibling,r!==null){He=r;return}He=r=t}while(r!==null);Ct===0&&(Ct=5)}function _x(t,r){do{var i=gN(t.alternate,t);if(i!==null){i.flags&=32767,He=i;return}if(i=t.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!r&&(t=t.sibling,t!==null)){He=t;return}He=t=i}while(t!==null);Ct=6,He=null}function Nx(t,r,i,c,h,m,b,_,C){t.cancelPendingCommit=null;do Yu();while(Xt!==0);if((st&6)!==0)throw Error(s(327));if(r!==null){if(r===t.current)throw Error(s(177));if(m=r.lanes|r.childLanes,m|=$h,Ph(t,i,m,b,_,C),t===pt&&(He=pt=null,Ge=0),_l=r,ys=t,Ma=i,n0=m,r0=h,hx=c,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,jN(wn,function(){return Sx(),null})):(t.callbackNode=null,t.callbackPriority=0),c=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||c){c=K.T,K.T=null,h=ce.p,ce.p=2,b=st,st|=4;try{pN(t,r,i)}finally{st=b,ce.p=h,K.T=c}}Xt=1,Ex(),Tx(),kx()}}function Ex(){if(Xt===1){Xt=0;var t=ys,r=_l,i=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||i){i=K.T,K.T=null;var c=ce.p;ce.p=2;var h=st;st|=4;try{ax(r,t);var m=x0,b=up(t.containerInfo),_=m.focusedElem,C=m.selectionRange;if(b!==_&&_&&_.ownerDocument&&cp(_.ownerDocument.documentElement,_)){if(C!==null&&Bh(_)){var q=C.start,Z=C.end;if(Z===void 0&&(Z=q),"selectionStart"in _)_.selectionStart=q,_.selectionEnd=Math.min(Z,_.value.length);else{var te=_.ownerDocument||document,H=te&&te.defaultView||window;if(H.getSelection){var $=H.getSelection(),xe=_.textContent.length,Se=Math.min(C.start,xe),gt=C.end===void 0?Se:Math.min(C.end,xe);!$.extend&&Se>gt&&(b=gt,gt=Se,Se=b);var L=op(_,Se),O=op(_,gt);if(L&&O&&($.rangeCount!==1||$.anchorNode!==L.node||$.anchorOffset!==L.offset||$.focusNode!==O.node||$.focusOffset!==O.offset)){var U=te.createRange();U.setStart(L.node,L.offset),$.removeAllRanges(),Se>gt?($.addRange(U),$.extend(O.node,O.offset)):(U.setEnd(O.node,O.offset),$.addRange(U))}}}}for(te=[],$=_;$=$.parentNode;)$.nodeType===1&&te.push({element:$,left:$.scrollLeft,top:$.scrollTop});for(typeof _.focus=="function"&&_.focus(),_=0;_<te.length;_++){var J=te[_];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}ld=!!y0,x0=y0=null}finally{st=h,ce.p=c,K.T=i}}t.current=r,Xt=2}}function Tx(){if(Xt===2){Xt=0;var t=ys,r=_l,i=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||i){i=K.T,K.T=null;var c=ce.p;ce.p=2;var h=st;st|=4;try{Jy(t,r.alternate,r)}finally{st=h,ce.p=c,K.T=i}}Xt=3}}function kx(){if(Xt===4||Xt===3){Xt=0,sn();var t=ys,r=_l,i=Ma,c=hx;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Xt=5:(Xt=0,_l=ys=null,jx(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(ps=null),xa(i),r=r.stateNode,_e&&typeof _e.onCommitFiberRoot=="function")try{_e.onCommitFiberRoot(Ie,r,void 0,(r.current.flags&128)===128)}catch{}if(c!==null){r=K.T,h=ce.p,ce.p=2,K.T=null;try{for(var m=t.onRecoverableError,b=0;b<c.length;b++){var _=c[b];m(_.value,{componentStack:_.stack})}}finally{K.T=r,ce.p=h}}(Ma&3)!==0&&Yu(),ea(t),h=t.pendingLanes,(i&261930)!==0&&(h&42)!==0?t===a0?Go++:(Go=0,a0=t):Go=0,Qo(0)}}function jx(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,ko(r)))}function Yu(){return Ex(),Tx(),kx(),Sx()}function Sx(){if(Xt!==5)return!1;var t=ys,r=n0;n0=0;var i=xa(Ma),c=K.T,h=ce.p;try{ce.p=32>i?32:i,K.T=null,i=r0,r0=null;var m=ys,b=Ma;if(Xt=0,_l=ys=null,Ma=0,(st&6)!==0)throw Error(s(331));var _=st;if(st|=4,cx(m.current),ix(m,m.current,b,i),st=_,Qo(0,!1),_e&&typeof _e.onPostCommitFiberRoot=="function")try{_e.onPostCommitFiberRoot(Ie,m)}catch{}return!0}finally{ce.p=h,K.T=c,jx(t,r)}}function Ax(t,r,i){r=rr(i,r),r=Vf(t.stateNode,r,2),t=us(t,r,2),t!==null&&(Ys(t,2),ea(t))}function ct(t,r,i){if(t.tag===3)Ax(t,t,i);else for(;r!==null;){if(r.tag===3){Ax(r,t,i);break}else if(r.tag===1){var c=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(ps===null||!ps.has(c))){t=rr(i,t),i=Cy(2),c=us(r,i,2),c!==null&&(Ry(i,c,r,t),Ys(c,2),ea(c));break}}r=r.return}}function l0(t,r,i){var c=t.pingCache;if(c===null){c=t.pingCache=new bN;var h=new Set;c.set(r,h)}else h=c.get(r),h===void 0&&(h=new Set,c.set(r,h));h.has(i)||(Jf=!0,h.add(i),t=EN.bind(null,t,r,i),r.then(t,t))}function EN(t,r,i){var c=t.pingCache;c!==null&&c.delete(r),t.pingedLanes|=t.suspendedLanes&i,t.warmLanes&=~i,pt===t&&(Ge&i)===i&&(Ct===4||Ct===3&&(Ge&62914560)===Ge&&300>yt()-Hu?(st&2)===0&&Nl(t,0):e0|=i,wl===Ge&&(wl=0)),ea(t)}function Cx(t,r){r===0&&(r=Gc()),t=ci(t,r),t!==null&&(Ys(t,r),ea(t))}function TN(t){var r=t.memoizedState,i=0;r!==null&&(i=r.retryLane),Cx(t,i)}function kN(t,r){var i=0;switch(t.tag){case 31:case 13:var c=t.stateNode,h=t.memoizedState;h!==null&&(i=h.retryLane);break;case 19:c=t.stateNode;break;case 22:c=t.stateNode._retryCache;break;default:throw Error(s(314))}c!==null&&c.delete(r),Cx(t,i)}function jN(t,r){return se(t,r)}var Xu=null,Tl=null,o0=!1,Wu=!1,c0=!1,bs=0;function ea(t){t!==Tl&&t.next===null&&(Tl===null?Xu=Tl=t:Tl=Tl.next=t),Wu=!0,o0||(o0=!0,AN())}function Qo(t,r){if(!c0&&Wu){c0=!0;do for(var i=!1,c=Xu;c!==null;){if(t!==0){var h=c.pendingLanes;if(h===0)var m=0;else{var b=c.suspendedLanes,_=c.pingedLanes;m=(1<<31-Be(42|t)+1)-1,m&=h&~(b&~_),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(i=!0,Ox(c,m))}else m=Ge,m=Vr(c,c===pt?m:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(m&3)===0||gr(c,m)||(i=!0,Ox(c,m));c=c.next}while(i);c0=!1}}function SN(){Rx()}function Rx(){Wu=o0=!1;var t=0;bs!==0&&zN()&&(t=bs);for(var r=yt(),i=null,c=Xu;c!==null;){var h=c.next,m=Ix(c,r);m===0?(c.next=null,i===null?Xu=h:i.next=h,h===null&&(Tl=i)):(i=c,(t!==0||(m&3)!==0)&&(Wu=!0)),c=h}Xt!==0&&Xt!==5||Qo(t),bs!==0&&(bs=0)}function Ix(t,r){for(var i=t.suspendedLanes,c=t.pingedLanes,h=t.expirationTimes,m=t.pendingLanes&-62914561;0<m;){var b=31-Be(m),_=1<<b,C=h[b];C===-1?((_&i)===0||(_&c)!==0)&&(h[b]=Lh(_,r)):C<=r&&(t.expiredLanes|=_),m&=~_}if(r=pt,i=Ge,i=Vr(t,t===r?i:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),c=t.callbackNode,i===0||t===r&&(ot===2||ot===9)||t.cancelPendingCommit!==null)return c!==null&&c!==null&&nt(c),t.callbackNode=null,t.callbackPriority=0;if((i&3)===0||gr(t,i)){if(r=i&-i,r===t.callbackPriority)return r;switch(c!==null&&nt(c),xa(i)){case 2:case 8:i=Wn;break;case 32:i=wn;break;case 268435456:i=we;break;default:i=wn}return c=Dx.bind(null,t),i=se(i,c),t.callbackPriority=r,t.callbackNode=i,r}return c!==null&&c!==null&&nt(c),t.callbackPriority=2,t.callbackNode=null,2}function Dx(t,r){if(Xt!==0&&Xt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var i=t.callbackNode;if(Yu()&&t.callbackNode!==i)return null;var c=Ge;return c=Vr(t,t===pt?c:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),c===0?null:(mx(t,c,r),Ix(t,yt()),t.callbackNode!=null&&t.callbackNode===i?Dx.bind(null,t):null)}function Ox(t,r){if(Yu())return null;mx(t,r,!0)}function AN(){qN(function(){(st&6)!==0?se(vn,SN):Rx()})}function u0(){if(bs===0){var t=ul;t===0&&(t=Or,Or<<=1,(Or&261888)===0&&(Or=256)),bs=t}return bs}function Mx(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Yi(""+t)}function Vx(t,r){var i=r.ownerDocument.createElement("input");return i.name=r.name,i.value=r.value,t.id&&i.setAttribute("form",t.id),r.parentNode.insertBefore(i,r),t=new FormData(t),i.parentNode.removeChild(i),t}function CN(t,r,i,c,h){if(r==="submit"&&i&&i.stateNode===h){var m=Mx((h[en]||null).action),b=c.submitter;b&&(r=(r=b[en]||null)?Mx(r.formAction):b.getAttribute("formAction"),r!==null&&(m=r,b=null));var _=new $r("action","action",null,c,h);t.push({event:_,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(bs!==0){var C=b?Vx(h,b):new FormData(h);Cf(i,{pending:!0,data:C,method:h.method,action:m},null,C)}}else typeof m=="function"&&(_.preventDefault(),C=b?Vx(h,b):new FormData(h),Cf(i,{pending:!0,data:C,method:h.method,action:m},m,C))},currentTarget:h}]})}}for(var d0=0;d0<Qh.length;d0++){var h0=Qh[d0],RN=h0.toLowerCase(),IN=h0[0].toUpperCase()+h0.slice(1);Nr(RN,"on"+IN)}Nr(fp,"onAnimationEnd"),Nr(mp,"onAnimationIteration"),Nr(gp,"onAnimationStart"),Nr("dblclick","onDoubleClick"),Nr("focusin","onFocus"),Nr("focusout","onBlur"),Nr(K_,"onTransitionRun"),Nr(Y_,"onTransitionStart"),Nr(X_,"onTransitionCancel"),Nr(pp,"onTransitionEnd"),Hr("onMouseEnter",["mouseout","mouseover"]),Hr("onMouseLeave",["mouseout","mouseover"]),Hr("onPointerEnter",["pointerout","pointerover"]),Hr("onPointerLeave",["pointerout","pointerover"]),Br("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Br("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Br("onBeforeInput",["compositionend","keypress","textInput","paste"]),Br("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Br("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Br("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $o="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),DN=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat($o));function Lx(t,r){r=(r&4)!==0;for(var i=0;i<t.length;i++){var c=t[i],h=c.event;c=c.listeners;e:{var m=void 0;if(r)for(var b=c.length-1;0<=b;b--){var _=c[b],C=_.instance,q=_.currentTarget;if(_=_.listener,C!==m&&h.isPropagationStopped())break e;m=_,h.currentTarget=q;try{m(h)}catch(Z){hu(Z)}h.currentTarget=null,m=C}else for(b=0;b<c.length;b++){if(_=c[b],C=_.instance,q=_.currentTarget,_=_.listener,C!==m&&h.isPropagationStopped())break e;m=_,h.currentTarget=q;try{m(h)}catch(Z){hu(Z)}h.currentTarget=null,m=C}}}}function Fe(t,r){var i=r[Fi];i===void 0&&(i=r[Fi]=new Set);var c=t+"__bubble";i.has(c)||(Px(r,t,2,!1),i.add(c))}function f0(t,r,i){var c=0;r&&(c|=4),Px(i,t,c,r)}var Zu="_reactListening"+Math.random().toString(36).slice(2);function m0(t){if(!t[Zu]){t[Zu]=!0,ao.forEach(function(i){i!=="selectionchange"&&(DN.has(i)||f0(i,!1,t),f0(i,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[Zu]||(r[Zu]=!0,f0("selectionchange",!1,r))}}function Px(t,r,i,c){switch(fb(r)){case 2:var h=lE;break;case 8:h=oE;break;default:h=A0}i=h.bind(null,r,i,t),h=void 0,!ti||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),c?h!==void 0?t.addEventListener(r,i,{capture:!0,passive:h}):t.addEventListener(r,i,!0):h!==void 0?t.addEventListener(r,i,{passive:h}):t.addEventListener(r,i,!1)}function g0(t,r,i,c,h){var m=c;if((r&1)===0&&(r&2)===0&&c!==null)e:for(;;){if(c===null)return;var b=c.tag;if(b===3||b===4){var _=c.stateNode.containerInfo;if(_===h)break;if(b===4)for(b=c.return;b!==null;){var C=b.tag;if((C===3||C===4)&&b.stateNode.containerInfo===h)return;b=b.return}for(;_!==null;){if(b=Ur(_),b===null)return;if(C=b.tag,C===5||C===6||C===26||C===27){c=m=b;continue e}_=_.parentNode}}c=c.return}es(function(){var q=m,Z=Jn(i),te=[];e:{var H=yp.get(t);if(H!==void 0){var $=$r,xe=t;switch(t){case"keypress":if(ri(i)===0)break e;case"keydown":case"keyup":$=cu;break;case"focusin":xe="focus",$=si;break;case"focusout":xe="blur",$=si;break;case"beforeblur":case"afterblur":$=si;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$=xo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$=eu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$=x;break;case fp:case mp:case gp:$=nu;break;case pp:$=T;break;case"scroll":case"scrollend":$=yo;break;case"wheel":$=G;break;case"copy":case"cut":case"paste":$=ru;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$=wa;break;case"toggle":case"beforetoggle":$=Le}var Se=(r&4)!==0,gt=!Se&&(t==="scroll"||t==="scrollend"),L=Se?H!==null?H+"Capture":null:H;Se=[];for(var O=q,U;O!==null;){var J=O;if(U=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||U===null||L===null||(J=br(O,L),J!=null&&Se.push(Ko(O,J,U))),gt)break;O=O.return}0<Se.length&&(H=new $(H,xe,null,i,Z),te.push({event:H,listeners:Se}))}}if((r&7)===0){e:{if(H=t==="mouseover"||t==="pointerover",$=t==="mouseout"||t==="pointerout",H&&i!==mo&&(xe=i.relatedTarget||i.fromElement)&&(Ur(xe)||xe[Pr]))break e;if(($||H)&&(H=Z.window===Z?Z:(H=Z.ownerDocument)?H.defaultView||H.parentWindow:window,$?(xe=i.relatedTarget||i.toElement,$=q,xe=xe?Ur(xe):null,xe!==null&&(gt=u(xe),Se=xe.tag,xe!==gt||Se!==5&&Se!==27&&Se!==6)&&(xe=null)):($=null,xe=q),$!==xe)){if(Se=xo,J="onMouseLeave",L="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(Se=wa,J="onPointerLeave",L="onPointerEnter",O="pointer"),gt=$==null?H:Ln($),U=xe==null?H:Ln(xe),H=new Se(J,O+"leave",$,i,Z),H.target=gt,H.relatedTarget=U,J=null,Ur(Z)===q&&(Se=new Se(L,O+"enter",xe,i,Z),Se.target=U,Se.relatedTarget=gt,J=Se),gt=J,$&&xe)t:{for(Se=ON,L=$,O=xe,U=0,J=L;J;J=Se(J))U++;J=0;for(var Te=O;Te;Te=Se(Te))J++;for(;0<U-J;)L=Se(L),U--;for(;0<J-U;)O=Se(O),J--;for(;U--;){if(L===O||O!==null&&L===O.alternate){Se=L;break t}L=Se(L),O=Se(O)}Se=null}else Se=null;$!==null&&zx(te,H,$,Se,!1),xe!==null&&gt!==null&&zx(te,gt,xe,Se,!0)}}e:{if(H=q?Ln(q):window,$=H.nodeName&&H.nodeName.toLowerCase(),$==="select"||$==="input"&&H.type==="file")var et=np;else if(ep(H))if(rp)et=G_;else{et=H_;var be=B_}else $=H.nodeName,!$||$.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?q&&Ki(q.elementType)&&(et=np):et=F_;if(et&&(et=et(t,q))){tp(te,et,i,Z);break e}be&&be(t,H,q),t==="focusout"&&q&&H.type==="number"&&q.memoizedProps.value!=null&&uo(H,"number",H.value)}switch(be=q?Ln(q):window,t){case"focusin":(ep(be)||be.contentEditable==="true")&&(nl=be,Hh=q,No=null);break;case"focusout":No=Hh=nl=null;break;case"mousedown":Fh=!0;break;case"contextmenu":case"mouseup":case"dragend":Fh=!1,dp(te,i,Z);break;case"selectionchange":if($_)break;case"keydown":case"keyup":dp(te,i,Z)}var ze;if(at)e:{switch(t){case"compositionstart":var Qe="onCompositionStart";break e;case"compositionend":Qe="onCompositionEnd";break e;case"compositionupdate":Qe="onCompositionUpdate";break e}Qe=void 0}else tl?ii(t,i)&&(Qe="onCompositionEnd"):t==="keydown"&&i.keyCode===229&&(Qe="onCompositionStart");Qe&&(Xr&&i.locale!=="ko"&&(tl||Qe!=="onCompositionStart"?Qe==="onCompositionEnd"&&tl&&(ze=po()):(Qr=Z,go="value"in Qr?Qr.value:Qr.textContent,tl=!0)),be=Ju(q,Qe),0<be.length&&(Qe=new Yr(Qe,t,null,i,Z),te.push({event:Qe,listeners:be}),ze?Qe.data=ze:(ze=el(i),ze!==null&&(Qe.data=ze)))),(ze=tr?P_(t,i):z_(t,i))&&(Qe=Ju(q,"onBeforeInput"),0<Qe.length&&(be=new Yr("onBeforeInput","beforeinput",null,i,Z),te.push({event:be,listeners:Qe}),be.data=ze)),CN(te,t,q,i,Z)}Lx(te,r)})}function Ko(t,r,i){return{instance:t,listener:r,currentTarget:i}}function Ju(t,r){for(var i=r+"Capture",c=[];t!==null;){var h=t,m=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||m===null||(h=br(t,i),h!=null&&c.unshift(Ko(t,h,m)),h=br(t,r),h!=null&&c.push(Ko(t,h,m))),t.tag===3)return c;t=t.return}return[]}function ON(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function zx(t,r,i,c,h){for(var m=r._reactName,b=[];i!==null&&i!==c;){var _=i,C=_.alternate,q=_.stateNode;if(_=_.tag,C!==null&&C===c)break;_!==5&&_!==26&&_!==27||q===null||(C=q,h?(q=br(i,m),q!=null&&b.unshift(Ko(i,q,C))):h||(q=br(i,m),q!=null&&b.push(Ko(i,q,C)))),i=i.return}b.length!==0&&t.push({event:r,listeners:b})}var MN=/\r\n?/g,VN=/\u0000|\uFFFD/g;function Ux(t){return(typeof t=="string"?t:""+t).replace(MN,`
`).replace(VN,"")}function qx(t,r){return r=Ux(r),Ux(t)===r}function mt(t,r,i,c,h,m){switch(i){case"children":typeof c=="string"?r==="body"||r==="textarea"&&c===""||Sn(t,c):(typeof c=="number"||typeof c=="bigint")&&r!=="body"&&Sn(t,""+c);break;case"className":Pn(t,"class",c);break;case"tabIndex":Pn(t,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Pn(t,i,c);break;case"style":fo(t,c,m);break;case"data":if(r!=="object"){Pn(t,"data",c);break}case"src":case"href":if(c===""&&(r!=="a"||i!=="href")){t.removeAttribute(i);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){t.removeAttribute(i);break}c=Yi(""+c),t.setAttribute(i,c);break;case"action":case"formAction":if(typeof c=="function"){t.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(i==="formAction"?(r!=="input"&&mt(t,r,"name",h.name,h,null),mt(t,r,"formEncType",h.formEncType,h,null),mt(t,r,"formMethod",h.formMethod,h,null),mt(t,r,"formTarget",h.formTarget,h,null)):(mt(t,r,"encType",h.encType,h,null),mt(t,r,"method",h.method,h,null),mt(t,r,"target",h.target,h,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){t.removeAttribute(i);break}c=Yi(""+c),t.setAttribute(i,c);break;case"onClick":c!=null&&(t.onclick=xr);break;case"onScroll":c!=null&&Fe("scroll",t);break;case"onScrollEnd":c!=null&&Fe("scrollend",t);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(i=c.__html,i!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=i}}break;case"multiple":t.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":t.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){t.removeAttribute("xlink:href");break}i=Yi(""+c),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?t.setAttribute(i,""+c):t.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?t.setAttribute(i,""):t.removeAttribute(i);break;case"capture":case"download":c===!0?t.setAttribute(i,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?t.setAttribute(i,c):t.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?t.setAttribute(i,c):t.removeAttribute(i);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?t.removeAttribute(i):t.setAttribute(i,c);break;case"popover":Fe("beforetoggle",t),Fe("toggle",t),Qi(t,"popover",c);break;case"xlinkActuate":Ut(t,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Ut(t,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Ut(t,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Ut(t,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Ut(t,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Ut(t,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Ut(t,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Ut(t,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Ut(t,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Qi(t,"is",c);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=Jc.get(i)||i,Qi(t,i,c))}}function p0(t,r,i,c,h,m){switch(i){case"style":fo(t,c,m);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(i=c.__html,i!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=i}}break;case"children":typeof c=="string"?Sn(t,c):(typeof c=="number"||typeof c=="bigint")&&Sn(t,""+c);break;case"onScroll":c!=null&&Fe("scroll",t);break;case"onScrollEnd":c!=null&&Fe("scrollend",t);break;case"onClick":c!=null&&(t.onclick=xr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!so.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(h=i.endsWith("Capture"),r=i.slice(2,h?i.length-7:void 0),m=t[en]||null,m=m!=null?m[i]:null,typeof m=="function"&&t.removeEventListener(r,m,h),typeof c=="function")){typeof m!="function"&&m!==null&&(i in t?t[i]=null:t.hasAttribute(i)&&t.removeAttribute(i)),t.addEventListener(r,c,h);break e}i in t?t[i]=c:c===!0?t.setAttribute(i,""):Qi(t,i,c)}}}function dn(t,r,i){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Fe("error",t),Fe("load",t);var c=!1,h=!1,m;for(m in i)if(i.hasOwnProperty(m)){var b=i[m];if(b!=null)switch(m){case"src":c=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:mt(t,r,m,b,i,null)}}h&&mt(t,r,"srcSet",i.srcSet,i,null),c&&mt(t,r,"src",i.src,i,null);return;case"input":Fe("invalid",t);var _=m=b=h=null,C=null,q=null;for(c in i)if(i.hasOwnProperty(c)){var Z=i[c];if(Z!=null)switch(c){case"name":h=Z;break;case"type":b=Z;break;case"checked":C=Z;break;case"defaultChecked":q=Z;break;case"value":m=Z;break;case"defaultValue":_=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(s(137,r));break;default:mt(t,r,c,Z,i,null)}}Xc(t,m,_,C,q,b,h,!1);return;case"select":Fe("invalid",t),c=b=m=null;for(h in i)if(i.hasOwnProperty(h)&&(_=i[h],_!=null))switch(h){case"value":m=_;break;case"defaultValue":b=_;break;case"multiple":c=_;default:mt(t,r,h,_,i,null)}r=m,i=b,t.multiple=!!c,r!=null?Xa(t,!!c,r,!1):i!=null&&Xa(t,!!c,i,!0);return;case"textarea":Fe("invalid",t),m=h=c=null;for(b in i)if(i.hasOwnProperty(b)&&(_=i[b],_!=null))switch(b){case"value":c=_;break;case"defaultValue":h=_;break;case"children":m=_;break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(s(91));break;default:mt(t,r,b,_,i,null)}Wa(t,c,h,m);return;case"option":for(C in i)if(i.hasOwnProperty(C)&&(c=i[C],c!=null))switch(C){case"selected":t.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:mt(t,r,C,c,i,null)}return;case"dialog":Fe("beforetoggle",t),Fe("toggle",t),Fe("cancel",t),Fe("close",t);break;case"iframe":case"object":Fe("load",t);break;case"video":case"audio":for(c=0;c<$o.length;c++)Fe($o[c],t);break;case"image":Fe("error",t),Fe("load",t);break;case"details":Fe("toggle",t);break;case"embed":case"source":case"link":Fe("error",t),Fe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in i)if(i.hasOwnProperty(q)&&(c=i[q],c!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:mt(t,r,q,c,i,null)}return;default:if(Ki(r)){for(Z in i)i.hasOwnProperty(Z)&&(c=i[Z],c!==void 0&&p0(t,r,Z,c,i,void 0));return}}for(_ in i)i.hasOwnProperty(_)&&(c=i[_],c!=null&&mt(t,r,_,c,i,null))}function LN(t,r,i,c){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,m=null,b=null,_=null,C=null,q=null,Z=null;for($ in i){var te=i[$];if(i.hasOwnProperty($)&&te!=null)switch($){case"checked":break;case"value":break;case"defaultValue":C=te;default:c.hasOwnProperty($)||mt(t,r,$,null,c,te)}}for(var H in c){var $=c[H];if(te=i[H],c.hasOwnProperty(H)&&($!=null||te!=null))switch(H){case"type":m=$;break;case"name":h=$;break;case"checked":q=$;break;case"defaultChecked":Z=$;break;case"value":b=$;break;case"defaultValue":_=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,r));break;default:$!==te&&mt(t,r,H,$,c,te)}}$i(t,b,_,C,q,Z,m,h);return;case"select":$=b=_=H=null;for(m in i)if(C=i[m],i.hasOwnProperty(m)&&C!=null)switch(m){case"value":break;case"multiple":$=C;default:c.hasOwnProperty(m)||mt(t,r,m,null,c,C)}for(h in c)if(m=c[h],C=i[h],c.hasOwnProperty(h)&&(m!=null||C!=null))switch(h){case"value":H=m;break;case"defaultValue":_=m;break;case"multiple":b=m;default:m!==C&&mt(t,r,h,m,c,C)}r=_,i=b,c=$,H!=null?Xa(t,!!i,H,!1):!!c!=!!i&&(r!=null?Xa(t,!!i,r,!0):Xa(t,!!i,i?[]:"",!1));return;case"textarea":$=H=null;for(_ in i)if(h=i[_],i.hasOwnProperty(_)&&h!=null&&!c.hasOwnProperty(_))switch(_){case"value":break;case"children":break;default:mt(t,r,_,null,c,h)}for(b in c)if(h=c[b],m=i[b],c.hasOwnProperty(b)&&(h!=null||m!=null))switch(b){case"value":H=h;break;case"defaultValue":$=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==m&&mt(t,r,b,h,c,m)}Wc(t,H,$);return;case"option":for(var xe in i)if(H=i[xe],i.hasOwnProperty(xe)&&H!=null&&!c.hasOwnProperty(xe))switch(xe){case"selected":t.selected=!1;break;default:mt(t,r,xe,null,c,H)}for(C in c)if(H=c[C],$=i[C],c.hasOwnProperty(C)&&H!==$&&(H!=null||$!=null))switch(C){case"selected":t.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:mt(t,r,C,H,c,$)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Se in i)H=i[Se],i.hasOwnProperty(Se)&&H!=null&&!c.hasOwnProperty(Se)&&mt(t,r,Se,null,c,H);for(q in c)if(H=c[q],$=i[q],c.hasOwnProperty(q)&&H!==$&&(H!=null||$!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,r));break;default:mt(t,r,q,H,c,$)}return;default:if(Ki(r)){for(var gt in i)H=i[gt],i.hasOwnProperty(gt)&&H!==void 0&&!c.hasOwnProperty(gt)&&p0(t,r,gt,void 0,c,H);for(Z in c)H=c[Z],$=i[Z],!c.hasOwnProperty(Z)||H===$||H===void 0&&$===void 0||p0(t,r,Z,H,c,$);return}}for(var L in i)H=i[L],i.hasOwnProperty(L)&&H!=null&&!c.hasOwnProperty(L)&&mt(t,r,L,null,c,H);for(te in c)H=c[te],$=i[te],!c.hasOwnProperty(te)||H===$||H==null&&$==null||mt(t,r,te,H,c,$)}function Bx(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function PN(){if(typeof performance.getEntriesByType=="function"){for(var t=0,r=0,i=performance.getEntriesByType("resource"),c=0;c<i.length;c++){var h=i[c],m=h.transferSize,b=h.initiatorType,_=h.duration;if(m&&_&&Bx(b)){for(b=0,_=h.responseEnd,c+=1;c<i.length;c++){var C=i[c],q=C.startTime;if(q>_)break;var Z=C.transferSize,te=C.initiatorType;Z&&Bx(te)&&(C=C.responseEnd,b+=Z*(C<_?1:(_-q)/(C-q)))}if(--c,r+=8*(m+b)/(h.duration/1e3),t++,10<t)break}}if(0<t)return r/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var y0=null,x0=null;function ed(t){return t.nodeType===9?t:t.ownerDocument}function Hx(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Fx(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function b0(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var v0=null;function zN(){var t=window.event;return t&&t.type==="popstate"?t===v0?!1:(v0=t,!0):(v0=null,!1)}var Gx=typeof setTimeout=="function"?setTimeout:void 0,UN=typeof clearTimeout=="function"?clearTimeout:void 0,Qx=typeof Promise=="function"?Promise:void 0,qN=typeof queueMicrotask=="function"?queueMicrotask:typeof Qx<"u"?function(t){return Qx.resolve(null).then(t).catch(BN)}:Gx;function BN(t){setTimeout(function(){throw t})}function vs(t){return t==="head"}function $x(t,r){var i=r,c=0;do{var h=i.nextSibling;if(t.removeChild(i),h&&h.nodeType===8)if(i=h.data,i==="/$"||i==="/&"){if(c===0){t.removeChild(h),Al(r);return}c--}else if(i==="$"||i==="$?"||i==="$~"||i==="$!"||i==="&")c++;else if(i==="html")Yo(t.ownerDocument.documentElement);else if(i==="head"){i=t.ownerDocument.head,Yo(i);for(var m=i.firstChild;m;){var b=m.nextSibling,_=m.nodeName;m[zr]||_==="SCRIPT"||_==="STYLE"||_==="LINK"&&m.rel.toLowerCase()==="stylesheet"||i.removeChild(m),m=b}}else i==="body"&&Yo(t.ownerDocument.body);i=h}while(i);Al(r)}function Kx(t,r){var i=t;t=0;do{var c=i.nextSibling;if(i.nodeType===1?r?(i._stashedDisplay=i.style.display,i.style.display="none"):(i.style.display=i._stashedDisplay||"",i.getAttribute("style")===""&&i.removeAttribute("style")):i.nodeType===3&&(r?(i._stashedText=i.nodeValue,i.nodeValue=""):i.nodeValue=i._stashedText||""),c&&c.nodeType===8)if(i=c.data,i==="/$"){if(t===0)break;t--}else i!=="$"&&i!=="$?"&&i!=="$~"&&i!=="$!"||t++;i=c}while(i)}function w0(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var i=r;switch(r=r.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":w0(i),Gi(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}t.removeChild(i)}}function HN(t,r,i,c){for(;t.nodeType===1;){var h=i;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!c&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(c){if(!t[zr])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(m=t.getAttribute("rel"),m==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(m!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(m=t.getAttribute("src"),(m!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&m&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var m=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===m)return t}else return t;if(t=or(t.nextSibling),t===null)break}return null}function FN(t,r,i){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=or(t.nextSibling),t===null))return null;return t}function Yx(t,r){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=or(t.nextSibling),t===null))return null;return t}function _0(t){return t.data==="$?"||t.data==="$~"}function N0(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function GN(t,r){var i=t.ownerDocument;if(t.data==="$~")t._reactRetry=r;else if(t.data!=="$?"||i.readyState!=="loading")r();else{var c=function(){r(),i.removeEventListener("DOMContentLoaded",c)};i.addEventListener("DOMContentLoaded",c),t._reactRetry=c}}function or(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return t}var E0=null;function Xx(t){t=t.nextSibling;for(var r=0;t;){if(t.nodeType===8){var i=t.data;if(i==="/$"||i==="/&"){if(r===0)return or(t.nextSibling);r--}else i!=="$"&&i!=="$!"&&i!=="$?"&&i!=="$~"&&i!=="&"||r++}t=t.nextSibling}return null}function Wx(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var i=t.data;if(i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"){if(r===0)return t;r--}else i!=="/$"&&i!=="/&"||r++}t=t.previousSibling}return null}function Zx(t,r,i){switch(r=ed(i),t){case"html":if(t=r.documentElement,!t)throw Error(s(452));return t;case"head":if(t=r.head,!t)throw Error(s(453));return t;case"body":if(t=r.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Yo(t){for(var r=t.attributes;r.length;)t.removeAttributeNode(r[0]);Gi(t)}var cr=new Map,Jx=new Set;function td(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Va=ce.d;ce.d={f:QN,r:$N,D:KN,C:YN,L:XN,m:WN,X:JN,S:ZN,M:eE};function QN(){var t=Va.f(),r=Qu();return t||r}function $N(t){var r=Zn(t);r!==null&&r.tag===5&&r.type==="form"?py(r):Va.r(t)}var kl=typeof document>"u"?null:document;function eb(t,r,i){var c=kl;if(c&&typeof r=="string"&&r){var h=jn(r);h='link[rel="'+t+'"][href="'+h+'"]',typeof i=="string"&&(h+='[crossorigin="'+i+'"]'),Jx.has(h)||(Jx.add(h),t={rel:t,crossOrigin:i,href:r},c.querySelector(h)===null&&(r=c.createElement("link"),dn(r,"link",t),zt(r),c.head.appendChild(r)))}}function KN(t){Va.D(t),eb("dns-prefetch",t,null)}function YN(t,r){Va.C(t,r),eb("preconnect",t,r)}function XN(t,r,i){Va.L(t,r,i);var c=kl;if(c&&t&&r){var h='link[rel="preload"][as="'+jn(r)+'"]';r==="image"&&i&&i.imageSrcSet?(h+='[imagesrcset="'+jn(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(h+='[imagesizes="'+jn(i.imageSizes)+'"]')):h+='[href="'+jn(t)+'"]';var m=h;switch(r){case"style":m=jl(t);break;case"script":m=Sl(t)}cr.has(m)||(t=N({rel:"preload",href:r==="image"&&i&&i.imageSrcSet?void 0:t,as:r},i),cr.set(m,t),c.querySelector(h)!==null||r==="style"&&c.querySelector(Xo(m))||r==="script"&&c.querySelector(Wo(m))||(r=c.createElement("link"),dn(r,"link",t),zt(r),c.head.appendChild(r)))}}function WN(t,r){Va.m(t,r);var i=kl;if(i&&t){var c=r&&typeof r.as=="string"?r.as:"script",h='link[rel="modulepreload"][as="'+jn(c)+'"][href="'+jn(t)+'"]',m=h;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=Sl(t)}if(!cr.has(m)&&(t=N({rel:"modulepreload",href:t},r),cr.set(m,t),i.querySelector(h)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(Wo(m)))return}c=i.createElement("link"),dn(c,"link",t),zt(c),i.head.appendChild(c)}}}function ZN(t,r,i){Va.S(t,r,i);var c=kl;if(c&&t){var h=qr(c).hoistableStyles,m=jl(t);r=r||"default";var b=h.get(m);if(!b){var _={loading:0,preload:null};if(b=c.querySelector(Xo(m)))_.loading=5;else{t=N({rel:"stylesheet",href:t,"data-precedence":r},i),(i=cr.get(m))&&T0(t,i);var C=b=c.createElement("link");zt(C),dn(C,"link",t),C._p=new Promise(function(q,Z){C.onload=q,C.onerror=Z}),C.addEventListener("load",function(){_.loading|=1}),C.addEventListener("error",function(){_.loading|=2}),_.loading|=4,nd(b,r,c)}b={type:"stylesheet",instance:b,count:1,state:_},h.set(m,b)}}}function JN(t,r){Va.X(t,r);var i=kl;if(i&&t){var c=qr(i).hoistableScripts,h=Sl(t),m=c.get(h);m||(m=i.querySelector(Wo(h)),m||(t=N({src:t,async:!0},r),(r=cr.get(h))&&k0(t,r),m=i.createElement("script"),zt(m),dn(m,"link",t),i.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},c.set(h,m))}}function eE(t,r){Va.M(t,r);var i=kl;if(i&&t){var c=qr(i).hoistableScripts,h=Sl(t),m=c.get(h);m||(m=i.querySelector(Wo(h)),m||(t=N({src:t,async:!0,type:"module"},r),(r=cr.get(h))&&k0(t,r),m=i.createElement("script"),zt(m),dn(m,"link",t),i.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},c.set(h,m))}}function tb(t,r,i,c){var h=(h=Ee.current)?td(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(r=jl(i.href),i=qr(h).hoistableStyles,c=i.get(r),c||(c={type:"style",instance:null,count:0,state:null},i.set(r,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){t=jl(i.href);var m=qr(h).hoistableStyles,b=m.get(t);if(b||(h=h.ownerDocument||h,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(t,b),(m=h.querySelector(Xo(t)))&&!m._p&&(b.instance=m,b.state.loading=5),cr.has(t)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},cr.set(t,i),m||tE(h,t,i,b.state))),r&&c===null)throw Error(s(528,""));return b}if(r&&c!==null)throw Error(s(529,""));return null;case"script":return r=i.async,i=i.src,typeof i=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Sl(i),i=qr(h).hoistableScripts,c=i.get(r),c||(c={type:"script",instance:null,count:0,state:null},i.set(r,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function jl(t){return'href="'+jn(t)+'"'}function Xo(t){return'link[rel="stylesheet"]['+t+"]"}function nb(t){return N({},t,{"data-precedence":t.precedence,precedence:null})}function tE(t,r,i,c){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?c.loading=1:(r=t.createElement("link"),c.preload=r,r.addEventListener("load",function(){return c.loading|=1}),r.addEventListener("error",function(){return c.loading|=2}),dn(r,"link",i),zt(r),t.head.appendChild(r))}function Sl(t){return'[src="'+jn(t)+'"]'}function Wo(t){return"script[async]"+t}function rb(t,r,i){if(r.count++,r.instance===null)switch(r.type){case"style":var c=t.querySelector('style[data-href~="'+jn(i.href)+'"]');if(c)return r.instance=c,zt(c),c;var h=N({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return c=(t.ownerDocument||t).createElement("style"),zt(c),dn(c,"style",h),nd(c,i.precedence,t),r.instance=c;case"stylesheet":h=jl(i.href);var m=t.querySelector(Xo(h));if(m)return r.state.loading|=4,r.instance=m,zt(m),m;c=nb(i),(h=cr.get(h))&&T0(c,h),m=(t.ownerDocument||t).createElement("link"),zt(m);var b=m;return b._p=new Promise(function(_,C){b.onload=_,b.onerror=C}),dn(m,"link",c),r.state.loading|=4,nd(m,i.precedence,t),r.instance=m;case"script":return m=Sl(i.src),(h=t.querySelector(Wo(m)))?(r.instance=h,zt(h),h):(c=i,(h=cr.get(m))&&(c=N({},i),k0(c,h)),t=t.ownerDocument||t,h=t.createElement("script"),zt(h),dn(h,"link",c),t.head.appendChild(h),r.instance=h);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(c=r.instance,r.state.loading|=4,nd(c,i.precedence,t));return r.instance}function nd(t,r,i){for(var c=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=c.length?c[c.length-1]:null,m=h,b=0;b<c.length;b++){var _=c[b];if(_.dataset.precedence===r)m=_;else if(m!==h)break}m?m.parentNode.insertBefore(t,m.nextSibling):(r=i.nodeType===9?i.head:i,r.insertBefore(t,r.firstChild))}function T0(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function k0(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var rd=null;function ab(t,r,i){if(rd===null){var c=new Map,h=rd=new Map;h.set(i,c)}else h=rd,c=h.get(i),c||(c=new Map,h.set(i,c));if(c.has(t))return c;for(c.set(t,null),i=i.getElementsByTagName(t),h=0;h<i.length;h++){var m=i[h];if(!(m[zr]||m[Pt]||t==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var b=m.getAttribute(r)||"";b=t+b;var _=c.get(b);_?_.push(m):c.set(b,[m])}}return c}function sb(t,r,i){t=t.ownerDocument||t,t.head.insertBefore(i,r==="title"?t.querySelector("head > title"):null)}function nE(t,r,i){if(i===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return t=r.disabled,typeof r.precedence=="string"&&t==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function ib(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function rE(t,r,i,c){if(i.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=jl(c.href),m=r.querySelector(Xo(h));if(m){r=m._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(t.count++,t=ad.bind(t),r.then(t,t)),i.state.loading|=4,i.instance=m,zt(m);return}m=r.ownerDocument||r,c=nb(c),(h=cr.get(h))&&T0(c,h),m=m.createElement("link"),zt(m);var b=m;b._p=new Promise(function(_,C){b.onload=_,b.onerror=C}),dn(m,"link",c),i.instance=m}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(i,r),(r=i.state.preload)&&(i.state.loading&3)===0&&(t.count++,i=ad.bind(t),r.addEventListener("load",i),r.addEventListener("error",i))}}var j0=0;function aE(t,r){return t.stylesheets&&t.count===0&&id(t,t.stylesheets),0<t.count||0<t.imgCount?function(i){var c=setTimeout(function(){if(t.stylesheets&&id(t,t.stylesheets),t.unsuspend){var m=t.unsuspend;t.unsuspend=null,m()}},6e4+r);0<t.imgBytes&&j0===0&&(j0=62500*PN());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&id(t,t.stylesheets),t.unsuspend)){var m=t.unsuspend;t.unsuspend=null,m()}},(t.imgBytes>j0?50:800)+r);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(c),clearTimeout(h)}}:null}function ad(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)id(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var sd=null;function id(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,sd=new Map,r.forEach(sE,t),sd=null,ad.call(t))}function sE(t,r){if(!(r.state.loading&4)){var i=sd.get(t);if(i)var c=i.get(null);else{i=new Map,sd.set(t,i);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<h.length;m++){var b=h[m];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(i.set(b.dataset.precedence,b),c=b)}c&&i.set(null,c)}h=r.instance,b=h.getAttribute("data-precedence"),m=i.get(b)||c,m===c&&i.set(null,h),i.set(b,h),this.count++,c=ad.bind(this),h.addEventListener("load",c),h.addEventListener("error",c),m?m.parentNode.insertBefore(h,m.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),r.state.loading|=4}}var Zo={$$typeof:le,Provider:null,Consumer:null,_currentValue:ye,_currentValue2:ye,_threadCount:0};function iE(t,r,i,c,h,m,b,_,C){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Lr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Lr(0),this.hiddenUpdates=Lr(null),this.identifierPrefix=c,this.onUncaughtError=h,this.onCaughtError=m,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function lb(t,r,i,c,h,m,b,_,C,q,Z,te){return t=new iE(t,r,i,b,C,q,Z,te,_),r=1,m===!0&&(r|=24),m=Un(3,null,null,r),t.current=m,m.stateNode=t,r=sf(),r.refCount++,t.pooledCache=r,r.refCount++,m.memoizedState={element:c,isDehydrated:i,cache:r},uf(m),t}function ob(t){return t?(t=sl,t):sl}function cb(t,r,i,c,h,m){h=ob(h),c.context===null?c.context=h:c.pendingContext=h,c=cs(r),c.payload={element:i},m=m===void 0?null:m,m!==null&&(c.callback=m),i=us(t,c,r),i!==null&&(Dn(i,t,r),Co(i,t,r))}function ub(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var i=t.retryLane;t.retryLane=i!==0&&i<r?i:r}}function S0(t,r){ub(t,r),(t=t.alternate)&&ub(t,r)}function db(t){if(t.tag===13||t.tag===31){var r=ci(t,67108864);r!==null&&Dn(r,t,67108864),S0(t,67108864)}}function hb(t){if(t.tag===13||t.tag===31){var r=Gn();r=Ws(r);var i=ci(t,r);i!==null&&Dn(i,t,r),S0(t,r)}}var ld=!0;function lE(t,r,i,c){var h=K.T;K.T=null;var m=ce.p;try{ce.p=2,A0(t,r,i,c)}finally{ce.p=m,K.T=h}}function oE(t,r,i,c){var h=K.T;K.T=null;var m=ce.p;try{ce.p=8,A0(t,r,i,c)}finally{ce.p=m,K.T=h}}function A0(t,r,i,c){if(ld){var h=C0(c);if(h===null)g0(t,r,c,od,i),mb(t,c);else if(uE(h,t,r,i,c))c.stopPropagation();else if(mb(t,c),r&4&&-1<cE.indexOf(t)){for(;h!==null;){var m=Zn(h);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var b=Mr(m.pendingLanes);if(b!==0){var _=m;for(_.pendingLanes|=2,_.entangledLanes|=2;b;){var C=1<<31-Be(b);_.entanglements[1]|=C,b&=~C}ea(m),(st&6)===0&&(Fu=yt()+500,Qo(0))}}break;case 31:case 13:_=ci(m,2),_!==null&&Dn(_,m,2),Qu(),S0(m,2)}if(m=C0(c),m===null&&g0(t,r,c,od,i),m===h)break;h=m}h!==null&&c.stopPropagation()}else g0(t,r,c,null,i)}}function C0(t){return t=Jn(t),R0(t)}var od=null;function R0(t){if(od=null,t=Ur(t),t!==null){var r=u(t);if(r===null)t=null;else{var i=r.tag;if(i===13){if(t=f(r),t!==null)return t;t=null}else if(i===31){if(t=g(r),t!==null)return t;t=null}else if(i===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return od=t,null}function fb(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Jt()){case vn:return 2;case Wn:return 8;case wn:case ie:return 32;case we:return 268435456;default:return 32}default:return 32}}var I0=!1,ws=null,_s=null,Ns=null,Jo=new Map,ec=new Map,Es=[],cE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function mb(t,r){switch(t){case"focusin":case"focusout":ws=null;break;case"dragenter":case"dragleave":_s=null;break;case"mouseover":case"mouseout":Ns=null;break;case"pointerover":case"pointerout":Jo.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":ec.delete(r.pointerId)}}function tc(t,r,i,c,h,m){return t===null||t.nativeEvent!==m?(t={blockedOn:r,domEventName:i,eventSystemFlags:c,nativeEvent:m,targetContainers:[h]},r!==null&&(r=Zn(r),r!==null&&db(r)),t):(t.eventSystemFlags|=c,r=t.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),t)}function uE(t,r,i,c,h){switch(r){case"focusin":return ws=tc(ws,t,r,i,c,h),!0;case"dragenter":return _s=tc(_s,t,r,i,c,h),!0;case"mouseover":return Ns=tc(Ns,t,r,i,c,h),!0;case"pointerover":var m=h.pointerId;return Jo.set(m,tc(Jo.get(m)||null,t,r,i,c,h)),!0;case"gotpointercapture":return m=h.pointerId,ec.set(m,tc(ec.get(m)||null,t,r,i,c,h)),!0}return!1}function gb(t){var r=Ur(t.target);if(r!==null){var i=u(r);if(i!==null){if(r=i.tag,r===13){if(r=f(i),r!==null){t.blockedOn=r,pr(t.priority,function(){hb(i)});return}}else if(r===31){if(r=g(i),r!==null){t.blockedOn=r,pr(t.priority,function(){hb(i)});return}}else if(r===3&&i.stateNode.current.memoizedState.isDehydrated){t.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}t.blockedOn=null}function cd(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var i=C0(t.nativeEvent);if(i===null){i=t.nativeEvent;var c=new i.constructor(i.type,i);mo=c,i.target.dispatchEvent(c),mo=null}else return r=Zn(i),r!==null&&db(r),t.blockedOn=i,!1;r.shift()}return!0}function pb(t,r,i){cd(t)&&i.delete(r)}function dE(){I0=!1,ws!==null&&cd(ws)&&(ws=null),_s!==null&&cd(_s)&&(_s=null),Ns!==null&&cd(Ns)&&(Ns=null),Jo.forEach(pb),ec.forEach(pb)}function ud(t,r){t.blockedOn===r&&(t.blockedOn=null,I0||(I0=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,dE)))}var dd=null;function yb(t){dd!==t&&(dd=t,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){dd===t&&(dd=null);for(var r=0;r<t.length;r+=3){var i=t[r],c=t[r+1],h=t[r+2];if(typeof c!="function"){if(R0(c||i)===null)continue;break}var m=Zn(i);m!==null&&(t.splice(r,3),r-=3,Cf(m,{pending:!0,data:h,method:i.method,action:c},c,h))}}))}function Al(t){function r(C){return ud(C,t)}ws!==null&&ud(ws,t),_s!==null&&ud(_s,t),Ns!==null&&ud(Ns,t),Jo.forEach(r),ec.forEach(r);for(var i=0;i<Es.length;i++){var c=Es[i];c.blockedOn===t&&(c.blockedOn=null)}for(;0<Es.length&&(i=Es[0],i.blockedOn===null);)gb(i),i.blockedOn===null&&Es.shift();if(i=(t.ownerDocument||t).$$reactFormReplay,i!=null)for(c=0;c<i.length;c+=3){var h=i[c],m=i[c+1],b=h[en]||null;if(typeof m=="function")b||yb(i);else if(b){var _=null;if(m&&m.hasAttribute("formAction")){if(h=m,b=m[en]||null)_=b.formAction;else if(R0(h)!==null)continue}else _=b.action;typeof _=="function"?i[c+1]=_:(i.splice(c,3),c-=3),yb(i)}}}function xb(){function t(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(b){return h=b})},focusReset:"manual",scroll:"manual"})}function r(){h!==null&&(h(),h=null),c||setTimeout(i,20)}function i(){if(!c&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(i,100),function(){c=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),h!==null&&(h(),h=null)}}}function D0(t){this._internalRoot=t}hd.prototype.render=D0.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(s(409));var i=r.current,c=Gn();cb(i,c,t,r,null,null)},hd.prototype.unmount=D0.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;cb(t.current,2,null,t,null,null),Qu(),r[Pr]=null}};function hd(t){this._internalRoot=t}hd.prototype.unstable_scheduleHydration=function(t){if(t){var r=Qc();t={blockedOn:null,target:t,priority:r};for(var i=0;i<Es.length&&r!==0&&r<Es[i].priority;i++);Es.splice(i,0,t),i===0&&gb(t)}};var bb=e.version;if(bb!=="19.2.0")throw Error(s(527,bb,"19.2.0"));ce.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=y(r),t=t!==null?w(t):null,t=t===null?null:t.stateNode,t};var hE={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fd.isDisabled&&fd.supportsFiber)try{Ie=fd.inject(hE),_e=fd}catch{}}return rc.createRoot=function(t,r){if(!o(t))throw Error(s(299));var i=!1,c="",h=ky,m=jy,b=Sy;return r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(h=r.onUncaughtError),r.onCaughtError!==void 0&&(m=r.onCaughtError),r.onRecoverableError!==void 0&&(b=r.onRecoverableError)),r=lb(t,1,!1,null,null,i,c,null,h,m,b,xb),t[Pr]=r.current,m0(t),new D0(r)},rc.hydrateRoot=function(t,r,i){if(!o(t))throw Error(s(299));var c=!1,h="",m=ky,b=jy,_=Sy,C=null;return i!=null&&(i.unstable_strictMode===!0&&(c=!0),i.identifierPrefix!==void 0&&(h=i.identifierPrefix),i.onUncaughtError!==void 0&&(m=i.onUncaughtError),i.onCaughtError!==void 0&&(b=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError),i.formState!==void 0&&(C=i.formState)),r=lb(t,1,!0,r,i??null,c,h,C,m,b,_,xb),r.context=ob(null),i=r.current,c=Gn(),c=Ws(c),h=cs(c),h.callback=null,us(i,h,c),i=c,r.current.lanes=i,Ys(r,i),ea(r),t[Pr]=r.current,m0(t),new hd(r)},rc.version="19.2.0",rc}var Ab;function _E(){if(Ab)return V0.exports;Ab=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(e){console.error(e)}}return a(),V0.exports=wE(),V0.exports}var NE=_E();const EE=Tv(NE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TE=a=>a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),kE=a=>a.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),Cb=a=>{const e=kE(a);return e.charAt(0).toUpperCase()+e.slice(1)},jv=(...a)=>a.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),jE=a=>{for(const e in a)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var SE={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AE=Q.forwardRef(({color:a="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:o="",children:u,iconNode:f,...g},p)=>Q.createElement("svg",{ref:p,...SE,width:e,height:e,stroke:a,strokeWidth:s?Number(n)*24/Number(e):n,className:jv("lucide",o),...!u&&!jE(g)&&{"aria-hidden":"true"},...g},[...f.map(([y,w])=>Q.createElement(y,w)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const he=(a,e)=>{const n=Q.forwardRef(({className:s,...o},u)=>Q.createElement(AE,{ref:u,iconNode:e,className:jv(`lucide-${TE(Cb(a))}`,`lucide-${a}`,s),...o}));return n.displayName=Cb(a),n};/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CE=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],RE=he("activity",CE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IE=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Cd=he("arrow-left",IE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DE=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],an=he("arrow-right",DE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OE=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Si=he("award",OE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ME=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Kn=he("book-open",ME);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VE=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],LE=he("book",VE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PE=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],Sv=he("briefcase",PE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zE=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],om=he("calendar",zE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UE=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Av=he("chart-column",UE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qE=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Rd=he("chevron-down",qE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BE=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],na=he("chevron-left",BE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HE=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],U0=he("chevron-right",HE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FE=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Id=he("circle-alert",FE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GE=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Qm=he("circle-check-big",GE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QE=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],ra=he("circle-check",QE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $E=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],xc=he("circle-plus",$E);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KE=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Ai=he("circle-question-mark",KE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YE=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],XE=he("circle-user",YE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WE=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],ZE=he("circle-x",WE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JE=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Cv=he("clock",JE);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e4=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],Rv=he("cloud-upload",e4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t4=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],Ci=he("crown",t4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n4=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],cm=he("download",n4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r4=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],um=he("eye",r4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a4=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],dm=he("facebook",a4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s4=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]],i4=he("file-check",s4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l4=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["circle",{cx:"11.5",cy:"14.5",r:"2.5",key:"1bq0ko"}],["path",{d:"M13.3 16.3 15 18",key:"2quom7"}]],o4=he("file-search",l4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c4=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Ul=he("file-text",c4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u4=[["path",{d:"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528",key:"1jaruq"}]],$m=he("flag",u4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d4=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],Dd=he("flame",d4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h4=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],ac=he("folder-open",h4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f4=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],Rb=he("gift",f4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],g4=he("globe",m4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p4=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],Pi=he("graduation-cap",p4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y4=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],Od=he("house",y4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],b4=he("info",x4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v4=[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]],Iv=he("languages",v4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w4=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],Vs=he("layers",w4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _4=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],Ib=he("layout-dashboard",_4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N4=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],E4=he("link",N4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T4=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],Db=he("list",T4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k4=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Wt=he("loader-circle",k4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j4=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],hm=he("log-in",j4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S4=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Ni=he("lock",S4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A4=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Md=he("log-out",A4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C4=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],fm=he("mail",C4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R4=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],mm=he("map-pin",R4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I4=[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]],gm=he("medal",I4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D4=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],O4=he("menu",D4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M4=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],Vd=he("message-circle",M4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V4=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],bc=he("monitor",V4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L4=[["path",{d:"M18 8L22 12L18 16",key:"1r0oui"}],["path",{d:"M2 12H22",key:"1m8cig"}]],Dv=he("move-right",L4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P4=[["path",{d:"M12 16h.01",key:"1drbdi"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M15.312 2a2 2 0 0 1 1.414.586l4.688 4.688A2 2 0 0 1 22 8.688v6.624a2 2 0 0 1-.586 1.414l-4.688 4.688a2 2 0 0 1-1.414.586H8.688a2 2 0 0 1-1.414-.586l-4.688-4.688A2 2 0 0 1 2 15.312V8.688a2 2 0 0 1 .586-1.414l4.688-4.688A2 2 0 0 1 8.688 2z",key:"1fd625"}]],z4=he("octagon-alert",P4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U4=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],Ob=he("palette",U4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q4=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],B4=he("pen-line",q4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H4=[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]],Km=he("pen-tool",H4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F4=[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]],G4=he("percent",F4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q4=[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]],$4=he("quote",Q4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K4=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Ov=he("refresh-cw",K4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y4=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],Mv=he("rotate-ccw",Y4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X4=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Ri=he("save",X4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W4=[["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M18 5v16",key:"1ethyx"}],["path",{d:"m4 6 7.106-3.79a2 2 0 0 1 1.788 0L20 6",key:"zywc2d"}],["path",{d:"m6 11-3.52 2.147a1 1 0 0 0-.48.854V19a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-5a1 1 0 0 0-.48-.853L18 11",key:"1d4ql0"}],["path",{d:"M6 5v16",key:"1sn0nx"}],["circle",{cx:"12",cy:"9",r:"2",key:"1092wv"}]],Ld=he("school",W4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z4=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Ls=he("search",Z4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J4=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],eT=he("share-2",J4);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tT=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],nT=he("shield-alert",tT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rT=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],aT=he("shield-check",rT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sT=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Vv=he("sparkles",sT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iT=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],pm=he("square-pen",iT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lT=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],ih=he("star",lT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oT=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],Lv=he("tag",oT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],uT=he("target",cT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dT=[["path",{d:"M21 5H3",key:"1fi0y6"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M17 19H3",key:"z6ezky"}]],hT=he("text-align-start",dT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fT=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],mT=he("timer",fT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gT=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],ym=he("trash-2",gT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pT=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],yT=he("trending-up",pT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xT=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],bT=he("triangle-alert",xT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vT=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],vc=he("trophy",vT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wT=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],_T=he("type",wT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NT=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],hr=he("user",NT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ET=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Pv=he("users",ET);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TT=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],aa=he("x",TT);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kT=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],lh=he("zap",kT),jT=()=>{};var Mb={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zv=function(a){const e=[];let n=0;for(let s=0;s<a.length;s++){let o=a.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<a.length&&(a.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(a.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},ST=function(a){const e=[];let n=0,s=0;for(;n<a.length;){const o=a[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=a[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=a[n++],f=a[n++],g=a[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|g&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=a[n++],f=a[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},Uv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,e){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<a.length;o+=3){const u=a[o],f=o+1<a.length,g=f?a[o+1]:0,p=o+2<a.length,y=p?a[o+2]:0,w=u>>2,N=(u&3)<<4|g>>4;let S=(g&15)<<2|y>>6,M=y&63;p||(M=64,f||(S=64)),s.push(n[w],n[N],n[S],n[M])}return s.join("")},encodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(a):this.encodeByteArray(zv(a),e)},decodeString(a,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(a):ST(this.decodeStringToByteArray(a,e))},decodeStringToByteArray(a,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<a.length;){const u=n[a.charAt(o++)],g=o<a.length?n[a.charAt(o)]:0;++o;const y=o<a.length?n[a.charAt(o)]:64;++o;const N=o<a.length?n[a.charAt(o)]:64;if(++o,u==null||g==null||y==null||N==null)throw new AT;const S=u<<2|g>>4;if(s.push(S),y!==64){const M=g<<4&240|y>>2;if(s.push(M),N!==64){const F=y<<6&192|N;s.push(F)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class AT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const CT=function(a){const e=zv(a);return Uv.encodeByteArray(e,!0)},Pd=function(a){return CT(a).replace(/\./g,"")},qv=function(a){try{return Uv.decodeString(a,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IT=()=>RT().__FIREBASE_DEFAULTS__,DT=()=>{if(typeof process>"u"||typeof Mb>"u")return;const a=Mb.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},OT=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=a&&qv(a[1]);return e&&JSON.parse(e)},oh=()=>{try{return jT()||IT()||DT()||OT()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},Bv=a=>{var e,n;return(n=(e=oh())==null?void 0:e.emulatorHosts)==null?void 0:n[a]},MT=a=>{const e=Bv(a);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},Hv=()=>{var a;return(a=oh())==null?void 0:a.config},Fv=a=>{var e;return(e=oh())==null?void 0:e[`_${a}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kl(a){try{return(a.startsWith("http://")||a.startsWith("https://")?new URL(a).hostname:a).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Gv(a){return(await fetch(a,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LT(a,e){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=a.iat||0,u=a.sub||a.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...a};return[Pd(JSON.stringify(n)),Pd(JSON.stringify(f)),""].join(".")}const dc={};function PT(){const a={prod:[],emulator:[]};for(const e of Object.keys(dc))dc[e]?a.emulator.push(e):a.prod.push(e);return a}function zT(a){let e=document.getElementById(a),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",a),n=!0),{created:n,element:e}}let Vb=!1;function Qv(a,e){if(typeof window>"u"||typeof document>"u"||!Kl(window.location.host)||dc[a]===e||dc[a]||Vb)return;dc[a]=e;function n(S){return`__firebase__banner__${S}`}const s="__firebase__banner",u=PT().prod.length>0;function f(){const S=document.getElementById(s);S&&S.remove()}function g(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function p(S,M){S.setAttribute("width","24"),S.setAttribute("id",M),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function y(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{Vb=!0,f()},S}function w(S,M){S.setAttribute("id",M),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function N(){const S=zT(s),M=n("text"),F=document.getElementById(M)||document.createElement("span"),re=n("learnmore"),Y=document.getElementById(re)||document.createElement("a"),oe=n("preprendIcon"),ue=document.getElementById(oe)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const le=S.element;g(le),w(Y,re);const je=y();p(ue,oe),le.append(ue,F,Y,je),document.body.appendChild(le)}u?(F.innerText="Preview backend disconnected.",ue.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ue.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,F.innerText="Preview backend running in this workspace."),F.setAttribute("id",M)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",N):N()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function UT(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(bn())}function qT(){var e;const a=(e=oh())==null?void 0:e.forceEnvironment;if(a==="node")return!0;if(a==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function BT(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function $v(){const a=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof a=="object"&&a.id!==void 0}function HT(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function FT(){const a=bn();return a.indexOf("MSIE ")>=0||a.indexOf("Trident/")>=0}function GT(){return!qT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Kv(){try{return typeof indexedDB=="object"}catch{return!1}}function Yv(){return new Promise((a,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),a(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)==null?void 0:u.message)||"")}}catch(n){e(n)}})}function QT(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $T="FirebaseError";class Ir extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=$T,Object.setPrototypeOf(this,Ir.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,zi.prototype.create)}}class zi{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?KT(u,s):"Error",g=`${this.serviceName}: ${f} (${o}).`;return new Ir(o,g,s)}}function KT(a,e){return a.replace(YT,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const YT=/\{\$([^}]+)}/g;function XT(a){for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e))return!1;return!0}function Ps(a,e){if(a===e)return!0;const n=Object.keys(a),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=a[o],f=e[o];if(Lb(u)&&Lb(f)){if(!Ps(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function Lb(a){return a!==null&&typeof a=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dc(a){const e=[];for(const[n,s]of Object.entries(a))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function sc(a){const e={};return a.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function ic(a){const e=a.indexOf("?");if(!e)return"";const n=a.indexOf("#",e);return a.substring(e,n>0?n:void 0)}function WT(a,e){const n=new ZT(a,e);return n.subscribe.bind(n)}class ZT{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");JT(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=q0),o.error===void 0&&(o.error=q0),o.complete===void 0&&(o.complete=q0);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function JT(a,e){if(typeof a!="object"||a===null)return!1;for(const n of e)if(n in a&&typeof a[n]=="function")return!0;return!1}function q0(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ek=1e3,tk=2,nk=14400*1e3,rk=.5;function Pb(a,e=ek,n=tk){const s=e*Math.pow(n,a),o=Math.round(rk*s*(Math.random()-.5)*2);return Math.min(nk,s+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function It(a){return a&&a._delegate?a._delegate:a}class Ar{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _i="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ak{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new VT;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(ik(e))try{this.getOrInitializeService({instanceIdentifier:_i})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=_i){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=_i){return this.instances.has(e)}getOptions(e=_i){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(u);s===g&&f.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:sk(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=_i){return this.component?this.component.multipleInstances?e:_i:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function sk(a){return a===_i?void 0:a}function ik(a){return a.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lk{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new ak(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $e;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})($e||($e={}));const ok={debug:$e.DEBUG,verbose:$e.VERBOSE,info:$e.INFO,warn:$e.WARN,error:$e.ERROR,silent:$e.SILENT},ck=$e.INFO,uk={[$e.DEBUG]:"log",[$e.VERBOSE]:"log",[$e.INFO]:"info",[$e.WARN]:"warn",[$e.ERROR]:"error"},dk=(a,e,...n)=>{if(e<a.logLevel)return;const s=new Date().toISOString(),o=uk[e];if(o)console[o](`[${s}]  ${a.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ch{constructor(e){this.name=e,this._logLevel=ck,this._logHandler=dk,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in $e))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?ok[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,$e.DEBUG,...e),this._logHandler(this,$e.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,$e.VERBOSE,...e),this._logHandler(this,$e.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,$e.INFO,...e),this._logHandler(this,$e.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,$e.WARN,...e),this._logHandler(this,$e.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,$e.ERROR,...e),this._logHandler(this,$e.ERROR,...e)}}const hk=(a,e)=>e.some(n=>a instanceof n);let zb,Ub;function fk(){return zb||(zb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function mk(){return Ub||(Ub=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Xv=new WeakMap,xm=new WeakMap,Wv=new WeakMap,B0=new WeakMap,Ym=new WeakMap;function gk(a){const e=new Promise((n,s)=>{const o=()=>{a.removeEventListener("success",u),a.removeEventListener("error",f)},u=()=>{n(Is(a.result)),o()},f=()=>{s(a.error),o()};a.addEventListener("success",u),a.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&Xv.set(n,a)}).catch(()=>{}),Ym.set(e,a),e}function pk(a){if(xm.has(a))return;const e=new Promise((n,s)=>{const o=()=>{a.removeEventListener("complete",u),a.removeEventListener("error",f),a.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(a.error||new DOMException("AbortError","AbortError")),o()};a.addEventListener("complete",u),a.addEventListener("error",f),a.addEventListener("abort",f)});xm.set(a,e)}let bm={get(a,e,n){if(a instanceof IDBTransaction){if(e==="done")return xm.get(a);if(e==="objectStoreNames")return a.objectStoreNames||Wv.get(a);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Is(a[e])},set(a,e,n){return a[e]=n,!0},has(a,e){return a instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in a}};function yk(a){bm=a(bm)}function xk(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=a.call(H0(this),e,...n);return Wv.set(s,e.sort?e.sort():[e]),Is(s)}:mk().includes(a)?function(...e){return a.apply(H0(this),e),Is(Xv.get(this))}:function(...e){return Is(a.apply(H0(this),e))}}function bk(a){return typeof a=="function"?xk(a):(a instanceof IDBTransaction&&pk(a),hk(a,fk())?new Proxy(a,bm):a)}function Is(a){if(a instanceof IDBRequest)return gk(a);if(B0.has(a))return B0.get(a);const e=bk(a);return e!==a&&(B0.set(a,e),Ym.set(e,a)),e}const H0=a=>Ym.get(a);function Zv(a,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(a,e),g=Is(f);return s&&f.addEventListener("upgradeneeded",p=>{s(Is(f.result),p.oldVersion,p.newVersion,Is(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),g.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),g}const vk=["get","getKey","getAll","getAllKeys","count"],wk=["put","add","delete","clear"],F0=new Map;function qb(a,e){if(!(a instanceof IDBDatabase&&!(e in a)&&typeof e=="string"))return;if(F0.get(e))return F0.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=wk.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||vk.includes(n)))return;const u=async function(f,...g){const p=this.transaction(f,o?"readwrite":"readonly");let y=p.store;return s&&(y=y.index(g.shift())),(await Promise.all([y[n](...g),o&&p.done]))[0]};return F0.set(e,u),u}yk(a=>({...a,get:(e,n,s)=>qb(e,n)||a.get(e,n,s),has:(e,n)=>!!qb(e,n)||a.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _k{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Nk(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function Nk(a){const e=a.getComponent();return(e==null?void 0:e.type)==="VERSION"}const vm="@firebase/app",Bb="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qa=new ch("@firebase/app"),Ek="@firebase/app-compat",Tk="@firebase/analytics-compat",kk="@firebase/analytics",jk="@firebase/app-check-compat",Sk="@firebase/app-check",Ak="@firebase/auth",Ck="@firebase/auth-compat",Rk="@firebase/database",Ik="@firebase/data-connect",Dk="@firebase/database-compat",Ok="@firebase/functions",Mk="@firebase/functions-compat",Vk="@firebase/installations",Lk="@firebase/installations-compat",Pk="@firebase/messaging",zk="@firebase/messaging-compat",Uk="@firebase/performance",qk="@firebase/performance-compat",Bk="@firebase/remote-config",Hk="@firebase/remote-config-compat",Fk="@firebase/storage",Gk="@firebase/storage-compat",Qk="@firebase/firestore",$k="@firebase/ai",Kk="@firebase/firestore-compat",Yk="firebase",Xk="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wm="[DEFAULT]",Wk={[vm]:"fire-core",[Ek]:"fire-core-compat",[kk]:"fire-analytics",[Tk]:"fire-analytics-compat",[Sk]:"fire-app-check",[jk]:"fire-app-check-compat",[Ak]:"fire-auth",[Ck]:"fire-auth-compat",[Rk]:"fire-rtdb",[Ik]:"fire-data-connect",[Dk]:"fire-rtdb-compat",[Ok]:"fire-fn",[Mk]:"fire-fn-compat",[Vk]:"fire-iid",[Lk]:"fire-iid-compat",[Pk]:"fire-fcm",[zk]:"fire-fcm-compat",[Uk]:"fire-perf",[qk]:"fire-perf-compat",[Bk]:"fire-rc",[Hk]:"fire-rc-compat",[Fk]:"fire-gcs",[Gk]:"fire-gcs-compat",[Qk]:"fire-fst",[Kk]:"fire-fst-compat",[$k]:"fire-vertex","fire-js":"fire-js",[Yk]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zd=new Map,Zk=new Map,_m=new Map;function Hb(a,e){try{a.container.addComponent(e)}catch(n){qa.debug(`Component ${e.name} failed to register with FirebaseApp ${a.name}`,n)}}function da(a){const e=a.name;if(_m.has(e))return qa.debug(`There were multiple attempts to register component ${e}.`),!1;_m.set(e,a);for(const n of zd.values())Hb(n,a);for(const n of Zk.values())Hb(n,a);return!0}function Ui(a,e){const n=a.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),a.container.getProvider(e)}function ur(a){return a==null?!1:a.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jk={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ds=new zi("app","Firebase",Jk);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e5{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ar("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ds.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yl=Xk;function Jv(a,e={}){let n=a;typeof e!="object"&&(e={name:e});const s={name:wm,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw Ds.create("bad-app-name",{appName:String(o)});if(n||(n=Hv()),!n)throw Ds.create("no-options");const u=zd.get(o);if(u){if(Ps(n,u.options)&&Ps(s,u.config))return u;throw Ds.create("duplicate-app",{appName:o})}const f=new lk(o);for(const p of _m.values())f.addComponent(p);const g=new e5(n,s,f);return zd.set(o,g),g}function Xm(a=wm){const e=zd.get(a);if(!e&&a===wm&&Hv())return Jv();if(!e)throw Ds.create("no-app",{appName:a});return e}function fr(a,e,n){let s=Wk[a]??a;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const f=[`Unable to register library "${s}" with version "${e}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),qa.warn(f.join(" "));return}da(new Ar(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t5="firebase-heartbeat-database",n5=1,wc="firebase-heartbeat-store";let G0=null;function ew(){return G0||(G0=Zv(t5,n5,{upgrade:(a,e)=>{switch(e){case 0:try{a.createObjectStore(wc)}catch(n){console.warn(n)}}}}).catch(a=>{throw Ds.create("idb-open",{originalErrorMessage:a.message})})),G0}async function r5(a){try{const n=(await ew()).transaction(wc),s=await n.objectStore(wc).get(tw(a));return await n.done,s}catch(e){if(e instanceof Ir)qa.warn(e.message);else{const n=Ds.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});qa.warn(n.message)}}}async function Fb(a,e){try{const s=(await ew()).transaction(wc,"readwrite");await s.objectStore(wc).put(e,tw(a)),await s.done}catch(n){if(n instanceof Ir)qa.warn(n.message);else{const s=Ds.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});qa.warn(s.message)}}}function tw(a){return`${a.name}!${a.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a5=1024,s5=30;class i5{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new o5(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=Gb();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>s5){const f=c5(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){qa.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Gb(),{heartbeatsToSend:s,unsentEntries:o}=l5(this._heartbeatsCache.heartbeats),u=Pd(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return qa.warn(n),""}}}function Gb(){return new Date().toISOString().substring(0,10)}function l5(a,e=a5){const n=[];let s=a.slice();for(const o of a){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),Qb(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Qb(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class o5{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Kv()?Yv().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await r5(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Fb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Fb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Qb(a){return Pd(JSON.stringify({version:2,heartbeats:a})).length}function c5(a){if(a.length===0)return-1;let e=0,n=a[0].date;for(let s=1;s<a.length;s++)a[s].date<n&&(n=a[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u5(a){da(new Ar("platform-logger",e=>new _k(e),"PRIVATE")),da(new Ar("heartbeat",e=>new i5(e),"PRIVATE")),fr(vm,Bb,a),fr(vm,Bb,"esm2020"),fr("fire-js","")}u5("");var d5="firebase",h5="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fr(d5,h5,"app");function nw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const f5=nw,rw=new zi("auth","Firebase",nw());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ud=new ch("@firebase/auth");function m5(a,...e){Ud.logLevel<=$e.WARN&&Ud.warn(`Auth (${Yl}): ${a}`,...e)}function vd(a,...e){Ud.logLevel<=$e.ERROR&&Ud.error(`Auth (${Yl}): ${a}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cr(a,...e){throw Wm(a,...e)}function sa(a,...e){return Wm(a,...e)}function aw(a,e,n){const s={...f5(),[e]:n};return new zi("auth","Firebase",s).create(e,{appName:a.name})}function za(a){return aw(a,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Wm(a,...e){if(typeof a!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=a.name),a._errorFactory.create(n,...s)}return rw.create(a,...e)}function Ae(a,e,...n){if(!a)throw Wm(e,...n)}function La(a){const e="INTERNAL ASSERTION FAILED: "+a;throw vd(e),new Error(e)}function Ba(a,e){a||La(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nm(){var a;return typeof self<"u"&&((a=self.location)==null?void 0:a.href)||""}function g5(){return $b()==="http:"||$b()==="https:"}function $b(){var a;return typeof self<"u"&&((a=self.location)==null?void 0:a.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p5(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(g5()||$v()||"connection"in navigator)?navigator.onLine:!0}function y5(){if(typeof navigator>"u")return null;const a=navigator;return a.languages&&a.languages[0]||a.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ba(n>e,"Short delay should be less than long delay!"),this.isMobile=UT()||HT()}get(){return p5()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zm(a,e){Ba(a.emulator,"Emulator should always be set here");const{url:n}=a.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;La("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;La("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;La("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x5={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b5=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],v5=new Oc(3e4,6e4);function Qa(a,e){return a.tenantId&&!e.tenantId?{...e,tenantId:a.tenantId}:e}async function $a(a,e,n,s,o={}){return iw(a,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const g=Dc({key:a.config.apiKey,...f}).slice(1),p=await a._getAdditionalHeaders();p["Content-Type"]="application/json",a.languageCode&&(p["X-Firebase-Locale"]=a.languageCode);const y={method:e,headers:p,...u};return BT()||(y.referrerPolicy="no-referrer"),a.emulatorConfig&&Kl(a.emulatorConfig.host)&&(y.credentials="include"),sw.fetch()(await lw(a,a.config.apiHost,n,g),y)})}async function iw(a,e,n){a._canInitEmulator=!1;const s={...x5,...e};try{const o=new _5(a),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw md(a,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const g=u.ok?f.errorMessage:f.error.message,[p,y]=g.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw md(a,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw md(a,"email-already-in-use",f);if(p==="USER_DISABLED")throw md(a,"user-disabled",f);const w=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw aw(a,w,y);Cr(a,w)}}catch(o){if(o instanceof Ir)throw o;Cr(a,"network-request-failed",{message:String(o)})}}async function Mc(a,e,n,s,o={}){const u=await $a(a,e,n,s,o);return"mfaPendingCredential"in u&&Cr(a,"multi-factor-auth-required",{_serverResponse:u}),u}async function lw(a,e,n,s){const o=`${e}${n}?${s}`,u=a,f=u.config.emulator?Zm(a.config,o):`${a.config.apiScheme}://${o}`;return b5.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function w5(a){switch(a){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class _5{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(sa(this.auth,"network-request-failed")),v5.get())})}}function md(a,e,n){const s={appName:a.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=sa(a,e,s);return o.customData._tokenResponse=n,o}function Kb(a){return a!==void 0&&a.enterprise!==void 0}class N5{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return w5(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function E5(a,e){return $a(a,"GET","/v2/recaptchaConfig",Qa(a,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T5(a,e){return $a(a,"POST","/v1/accounts:delete",e)}async function qd(a,e){return $a(a,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hc(a){if(a)try{const e=new Date(Number(a));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function k5(a,e=!1){const n=It(a),s=await n.getIdToken(e),o=Jm(s);Ae(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:hc(Q0(o.auth_time)),issuedAtTime:hc(Q0(o.iat)),expirationTime:hc(Q0(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Q0(a){return Number(a)*1e3}function Jm(a){const[e,n,s]=a.split(".");if(e===void 0||n===void 0||s===void 0)return vd("JWT malformed, contained fewer than 3 sections"),null;try{const o=qv(n);return o?JSON.parse(o):(vd("Failed to decode base64 JWT payload"),null)}catch(o){return vd("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function Yb(a){const e=Jm(a);return Ae(e,"internal-error"),Ae(typeof e.exp<"u","internal-error"),Ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _c(a,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Ir&&j5(s)&&a.auth.currentUser===a&&await a.auth.signOut(),s}}function j5({code:a}){return a==="auth/user-disabled"||a==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S5{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Em{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=hc(this.lastLoginAt),this.creationTime=hc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bd(a){var N;const e=a.auth,n=await a.getIdToken(),s=await _c(a,qd(e,{idToken:n}));Ae(s==null?void 0:s.users.length,e,"internal-error");const o=s.users[0];a._notifyReloadListener(o);const u=(N=o.providerUserInfo)!=null&&N.length?ow(o.providerUserInfo):[],f=C5(a.providerData,u),g=a.isAnonymous,p=!(a.email&&o.passwordHash)&&!(f!=null&&f.length),y=g?p:!1,w={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new Em(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(a,w)}async function A5(a){const e=It(a);await Bd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function C5(a,e){return[...a.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function ow(a){return a.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R5(a,e){const n=await iw(a,{},async()=>{const s=Dc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=a.config,f=await lw(a,o,"/v1/token",`key=${u}`),g=await a._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:g,body:s};return a.emulatorConfig&&Kl(a.emulatorConfig.host)&&(p.credentials="include"),sw.fetch()(f,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function I5(a,e){return $a(a,"POST","/v2/accounts:revokeToken",Qa(a,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ae(e.idToken,"internal-error"),Ae(typeof e.idToken<"u","internal-error"),Ae(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Yb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ae(e.length!==0,"internal-error");const n=Yb(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ae(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await R5(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new Ml;return s&&(Ae(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(Ae(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(Ae(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ml,this.toJSON())}_performRefresh(){return La("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ks(a,e){Ae(typeof a=="string"||typeof a>"u","internal-error",{appName:e})}class kr{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new S5(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Em(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await _c(this,this.stsTokenManager.getToken(this.auth,e));return Ae(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return k5(this,e)}reload(){return A5(this)}_assign(e){this!==e&&(Ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new kr({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Bd(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ur(this.auth.app))return Promise.reject(za(this.auth));const e=await this.getIdToken();return await _c(this,T5(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,g=n.tenantId??void 0,p=n._redirectEventId??void 0,y=n.createdAt??void 0,w=n.lastLoginAt??void 0,{uid:N,emailVerified:S,isAnonymous:M,providerData:F,stsTokenManager:re}=n;Ae(N&&re,e,"internal-error");const Y=Ml.fromJSON(this.name,re);Ae(typeof N=="string",e,"internal-error"),ks(s,e.name),ks(o,e.name),Ae(typeof S=="boolean",e,"internal-error"),Ae(typeof M=="boolean",e,"internal-error"),ks(u,e.name),ks(f,e.name),ks(g,e.name),ks(p,e.name),ks(y,e.name),ks(w,e.name);const oe=new kr({uid:N,auth:e,email:o,emailVerified:S,displayName:s,isAnonymous:M,photoURL:f,phoneNumber:u,tenantId:g,stsTokenManager:Y,createdAt:y,lastLoginAt:w});return F&&Array.isArray(F)&&(oe.providerData=F.map(ue=>({...ue}))),p&&(oe._redirectEventId=p),oe}static async _fromIdTokenResponse(e,n,s=!1){const o=new Ml;o.updateFromServerResponse(n);const u=new kr({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Bd(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];Ae(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?ow(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),g=new Ml;g.updateFromIdToken(s);const p=new kr({uid:o.localId,auth:e,stsTokenManager:g,isAnonymous:f}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Em(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,y),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xb=new Map;function Pa(a){Ba(a instanceof Function,"Expected a class definition");let e=Xb.get(a);return e?(Ba(e instanceof a,"Instance stored in cache mismatched with class"),e):(e=new a,Xb.set(a,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}cw.type="NONE";const Wb=cw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wd(a,e,n){return`firebase:${a}:${e}:${n}`}class Vl{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=wd(this.userKey,o.apiKey,u),this.fullPersistenceKey=wd("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await qd(this.auth,{idToken:e}).catch(()=>{});return n?kr._fromGetAccountInfoResponse(this.auth,n,e):null}return kr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Vl(Pa(Wb),e,s);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||Pa(Wb);const f=wd(s,e.config.apiKey,e.name);let g=null;for(const y of n)try{const w=await y._get(f);if(w){let N;if(typeof w=="string"){const S=await qd(e,{idToken:w}).catch(()=>{});if(!S)break;N=await kr._fromGetAccountInfoResponse(e,S,w)}else N=kr._fromJSON(e,w);y!==u&&(g=N),u=y;break}}catch{}const p=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new Vl(u,e,s):(u=p[0],g&&await u._set(f,g.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(f)}catch{}})),new Vl(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zb(a){const e=a.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(fw(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(uw(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(gw(e))return"Blackberry";if(pw(e))return"Webos";if(dw(e))return"Safari";if((e.includes("chrome/")||hw(e))&&!e.includes("edge/"))return"Chrome";if(mw(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=a.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function uw(a=bn()){return/firefox\//i.test(a)}function dw(a=bn()){const e=a.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function hw(a=bn()){return/crios\//i.test(a)}function fw(a=bn()){return/iemobile/i.test(a)}function mw(a=bn()){return/android/i.test(a)}function gw(a=bn()){return/blackberry/i.test(a)}function pw(a=bn()){return/webos/i.test(a)}function eg(a=bn()){return/iphone|ipad|ipod/i.test(a)||/macintosh/i.test(a)&&/mobile/i.test(a)}function D5(a=bn()){var e;return eg(a)&&!!((e=window.navigator)!=null&&e.standalone)}function O5(){return FT()&&document.documentMode===10}function yw(a=bn()){return eg(a)||mw(a)||pw(a)||gw(a)||/windows phone/i.test(a)||fw(a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xw(a,e=[]){let n;switch(a){case"Browser":n=Zb(bn());break;case"Worker":n=`${Zb(bn())}-${a}`;break;default:n=a}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Yl}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M5{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,g)=>{try{const p=e(u);f(p)}catch(p){g(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V5(a,e={}){return $a(a,"GET","/v2/passwordPolicy",Qa(a,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L5=6;class P5{constructor(e){var s;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??L5,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((s=e.allowedNonAlphanumericCharacters)==null?void 0:s.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z5{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Jb(this),this.idTokenSubscription=new Jb(this),this.beforeStateQueue=new M5(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=rw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Pa(n)),this._initializationPromise=this.queue(async()=>{var s,o,u;if(!this._deleted&&(this.persistenceManager=await Vl.create(this,e),(s=this._resolvePersistenceManagerAvailable)==null||s.call(this),!this._deleted)){if((o=this._popupRedirectResolver)!=null&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)==null?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await qd(this,{idToken:e}),s=await kr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var u;if(ur(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(g=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(g,g))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(u=this.redirectUser)==null?void 0:u._redirectEventId,g=s==null?void 0:s._redirectEventId,p=await this.tryRedirectSignIn(e);(!f||f===g)&&(p!=null&&p.user)&&(s=p.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(f){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ae(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Bd(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=y5()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ur(this.app))return Promise.reject(za(this));const n=e?It(e):null;return n&&Ae(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ur(this.app)?Promise.reject(za(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ur(this.app)?Promise.reject(za(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Pa(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await V5(this),n=new P5(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new zi("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await I5(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Pa(e)||this._popupRedirectResolver;Ae(n,this,"argument-error"),this.redirectPersistenceManager=await Vl.create(this,[Pa(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)==null?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ae(g,this,"internal-error"),g.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{f=!0,p()}}else{const p=e.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=xw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var o;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((o=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:o.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){var n;if(ur(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&m5(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Gs(a){return It(a)}class Jb{constructor(e){this.auth=e,this.observer=null,this.addObserver=WT(n=>this.observer=n)}get next(){return Ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function U5(a){uh=a}function bw(a){return uh.loadJS(a)}function q5(){return uh.recaptchaEnterpriseScript}function B5(){return uh.gapiScript}function H5(a){return`__${a}${Math.floor(Math.random()*1e6)}`}class F5{constructor(){this.enterprise=new G5}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class G5{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const Q5="recaptcha-enterprise",vw="NO_RECAPTCHA";class $5{constructor(e){this.type=Q5,this.auth=Gs(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,g)=>{E5(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)g(new Error("recaptcha Enterprise site key undefined"));else{const y=new N5(p);return u.tenantId==null?u._agentRecaptchaConfig=y:u._tenantRecaptchaConfigs[u.tenantId]=y,f(y.siteKey)}}).catch(p=>{g(p)})})}function o(u,f,g){const p=window.grecaptcha;Kb(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(y=>{f(y)}).catch(()=>{f(vw)})}):g(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new F5().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(g=>{if(!n&&Kb(window.grecaptcha))o(g,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=q5();p.length!==0&&(p+=g),bw(p).then(()=>{o(g,u,f)}).catch(y=>{f(y)})}}).catch(g=>{f(g)})})}}async function e1(a,e,n,s=!1,o=!1){const u=new $5(a);let f;if(o)f=vw;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const g={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in g){const p=g.phoneEnrollmentInfo.phoneNumber,y=g.phoneEnrollmentInfo.recaptchaToken;Object.assign(g,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:y,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in g){const p=g.phoneSignInInfo.recaptchaToken;Object.assign(g,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return g}return s?Object.assign(g,{captchaResp:f}):Object.assign(g,{captchaResponse:f}),Object.assign(g,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(g,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),g}async function Hd(a,e,n,s,o){var u;if((u=a._getRecaptchaConfig())!=null&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await e1(a,e,n,n==="getOobCode");return s(a,f)}else return s(a,e).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const g=await e1(a,e,n,n==="getOobCode");return s(a,g)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K5(a,e){const n=Ui(a,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Ps(u,e??{}))return o;Cr(o,"already-initialized")}return n.initialize({options:e})}function Y5(a,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(Pa);e!=null&&e.errorMap&&a._updateErrorMap(e.errorMap),a._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function X5(a,e,n){const s=Gs(a);Ae(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=ww(e),{host:f,port:g}=W5(e),p=g===null?"":`:${g}`,y={url:`${u}//${f}${p}/`},w=Object.freeze({host:f,port:g,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Ae(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ae(Ps(y,s.config.emulator)&&Ps(w,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=w,s.settings.appVerificationDisabledForTesting=!0,Kl(f)?(Gv(`${u}//${f}${p}`),Qv("Auth",!0)):Z5()}function ww(a){const e=a.indexOf(":");return e<0?"":a.substr(0,e+1)}function W5(a){const e=ww(a),n=/(\/\/)?([^?#/]+)/.exec(a.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:t1(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:t1(f)}}}function t1(a){if(!a)return null;const e=Number(a);return isNaN(e)?null:e}function Z5(){function a(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",a):a())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return La("not implemented")}_getIdTokenResponse(e){return La("not implemented")}_linkToIdToken(e,n){return La("not implemented")}_getReauthenticationResolver(e){return La("not implemented")}}async function J5(a,e){return $a(a,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ej(a,e){return Mc(a,"POST","/v1/accounts:signInWithPassword",Qa(a,e))}async function tj(a,e){return $a(a,"POST","/v1/accounts:sendOobCode",Qa(a,e))}async function nj(a,e){return tj(a,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rj(a,e){return Mc(a,"POST","/v1/accounts:signInWithEmailLink",Qa(a,e))}async function aj(a,e){return Mc(a,"POST","/v1/accounts:signInWithEmailLink",Qa(a,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc extends tg{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new Nc(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new Nc(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Hd(e,n,"signInWithPassword",ej);case"emailLink":return rj(e,{email:this._email,oobCode:this._password});default:Cr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Hd(e,s,"signUpPassword",J5);case"emailLink":return aj(e,{idToken:n,email:this._email,oobCode:this._password});default:Cr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ll(a,e){return Mc(a,"POST","/v1/accounts:signInWithIdp",Qa(a,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sj="http://localhost";class Ii extends tg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ii(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Cr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const f=new Ii(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return Ll(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Ll(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ll(e,n)}buildRequest(){const e={requestUri:sj,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Dc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ij(a){switch(a){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function lj(a){const e=sc(ic(a)).link,n=e?sc(ic(e)).deep_link_id:null,s=sc(ic(a)).deep_link_id;return(s?sc(ic(s)).link:null)||s||n||e||a}class ng{constructor(e){const n=sc(ic(e)),s=n.apiKey??null,o=n.oobCode??null,u=ij(n.mode??null);Ae(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=lj(e);try{return new ng(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl{constructor(){this.providerId=Xl.PROVIDER_ID}static credential(e,n){return Nc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=ng.parseLink(n);return Ae(s,"argument-error"),Nc._fromEmailAndCode(e,s.code,s.tenantId)}}Xl.PROVIDER_ID="password";Xl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Xl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _w{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc extends _w{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js extends Vc{constructor(){super("facebook.com")}static credential(e){return Ii._fromParams({providerId:js.PROVIDER_ID,signInMethod:js.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return js.credentialFromTaggedObject(e)}static credentialFromError(e){return js.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return js.credential(e.oauthAccessToken)}catch{return null}}}js.FACEBOOK_SIGN_IN_METHOD="facebook.com";js.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss extends Vc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ii._fromParams({providerId:Ss.PROVIDER_ID,signInMethod:Ss.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ss.credentialFromTaggedObject(e)}static credentialFromError(e){return Ss.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Ss.credential(n,s)}catch{return null}}}Ss.GOOGLE_SIGN_IN_METHOD="google.com";Ss.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As extends Vc{constructor(){super("github.com")}static credential(e){return Ii._fromParams({providerId:As.PROVIDER_ID,signInMethod:As.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return As.credentialFromTaggedObject(e)}static credentialFromError(e){return As.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return As.credential(e.oauthAccessToken)}catch{return null}}}As.GITHUB_SIGN_IN_METHOD="github.com";As.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs extends Vc{constructor(){super("twitter.com")}static credential(e,n){return Ii._fromParams({providerId:Cs.PROVIDER_ID,signInMethod:Cs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Cs.credentialFromTaggedObject(e)}static credentialFromError(e){return Cs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Cs.credential(n,s)}catch{return null}}}Cs.TWITTER_SIGN_IN_METHOD="twitter.com";Cs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oj(a,e){return Mc(a,"POST","/v1/accounts:signUp",Qa(a,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await kr._fromIdTokenResponse(e,s,o),f=n1(s);return new Di({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=n1(s);return new Di({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function n1(a){return a.providerId?a.providerId:"phoneNumber"in a?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd extends Ir{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Fd.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new Fd(e,n,s,o)}}function Nw(a,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(a):n._getIdTokenResponse(a)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Fd._fromErrorAndOperation(a,u,e,s):u})}async function cj(a,e,n=!1){const s=await _c(a,e._linkToIdToken(a.auth,await a.getIdToken()),n);return Di._forOperation(a,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uj(a,e,n=!1){const{auth:s}=a;if(ur(s.app))return Promise.reject(za(s));const o="reauthenticate";try{const u=await _c(a,Nw(s,o,e,a),n);Ae(u.idToken,s,"internal-error");const f=Jm(u.idToken);Ae(f,s,"internal-error");const{sub:g}=f;return Ae(a.uid===g,s,"user-mismatch"),Di._forOperation(a,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&Cr(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ew(a,e,n=!1){if(ur(a.app))return Promise.reject(za(a));const s="signIn",o=await Nw(a,s,e),u=await Di._fromIdTokenResponse(a,s,o);return n||await a._updateCurrentUser(u.user),u}async function dj(a,e){return Ew(Gs(a),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tw(a){const e=Gs(a);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function hj(a,e,n){const s=Gs(a);await Hd(s,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",nj)}async function fj(a,e,n){if(ur(a.app))return Promise.reject(za(a));const s=Gs(a),f=await Hd(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",oj).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&Tw(a),p}),g=await Di._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(g.user),g}function mj(a,e,n){return ur(a.app)?Promise.reject(za(a)):dj(It(a),Xl.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&Tw(a),s})}function gj(a,e,n,s){return It(a).onIdTokenChanged(e,n,s)}function pj(a,e,n){return It(a).beforeAuthStateChanged(e,n)}function yj(a,e,n,s){return It(a).onAuthStateChanged(e,n,s)}function xj(a){return It(a).signOut()}const Gd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kw{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Gd,"1"),this.storage.removeItem(Gd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bj=1e3,vj=10;class jw extends kw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=yw(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,g,p)=>{this.notifyListeners(f,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);O5()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,vj):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},bj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}jw.type="LOCAL";const wj=jw;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sw extends kw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Sw.type="SESSION";const Aw=Sw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _j(a){return Promise.all(a.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new dh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const g=Array.from(f).map(async y=>y(n.origin,u)),p=await _j(g);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}dh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rg(a="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return a+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nj{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((g,p)=>{const y=rg("",20);o.port1.start();const w=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(N){const S=N;if(S.data.eventId===y)switch(S.data.status){case"ack":clearTimeout(w),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),g(S.data.response);break;default:clearTimeout(w),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ia(){return window}function Ej(a){ia().location.href=a}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cw(){return typeof ia().WorkerGlobalScope<"u"&&typeof ia().importScripts=="function"}async function Tj(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function kj(){var a;return((a=navigator==null?void 0:navigator.serviceWorker)==null?void 0:a.controller)||null}function jj(){return Cw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rw="firebaseLocalStorageDb",Sj=1,Qd="firebaseLocalStorage",Iw="fbase_key";class Lc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function hh(a,e){return a.transaction([Qd],e?"readwrite":"readonly").objectStore(Qd)}function Aj(){const a=indexedDB.deleteDatabase(Rw);return new Lc(a).toPromise()}function Tm(){const a=indexedDB.open(Rw,Sj);return new Promise((e,n)=>{a.addEventListener("error",()=>{n(a.error)}),a.addEventListener("upgradeneeded",()=>{const s=a.result;try{s.createObjectStore(Qd,{keyPath:Iw})}catch(o){n(o)}}),a.addEventListener("success",async()=>{const s=a.result;s.objectStoreNames.contains(Qd)?e(s):(s.close(),await Aj(),e(await Tm()))})})}async function r1(a,e,n){const s=hh(a,!0).put({[Iw]:e,value:n});return new Lc(s).toPromise()}async function Cj(a,e){const n=hh(a,!1).get(e),s=await new Lc(n).toPromise();return s===void 0?null:s.value}function a1(a,e){const n=hh(a,!0).delete(e);return new Lc(n).toPromise()}const Rj=800,Ij=3;class Dw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Tm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>Ij)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Cw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=dh._getInstance(jj()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,s;if(this.activeServiceWorker=await Tj(),!this.activeServiceWorker)return;this.sender=new Nj(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(s=e[0])!=null&&s.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||kj()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Tm();return await r1(e,Gd,"1"),await a1(e,Gd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>r1(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>Cj(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>a1(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=hh(o,!1).getAll();return new Lc(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Rj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Dw.type="LOCAL";const Dj=Dw;new Oc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oj(a,e){return e?Pa(e):(Ae(a._popupRedirectResolver,a,"argument-error"),a._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag extends tg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ll(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ll(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ll(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Mj(a){return Ew(a.auth,new ag(a),a.bypassAuthState)}function Vj(a){const{auth:e,user:n}=a;return Ae(n,e,"internal-error"),uj(n,new ag(a),a.bypassAuthState)}async function Lj(a){const{auth:e,user:n}=a;return Ae(n,e,"internal-error"),cj(n,new ag(a),a.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ow{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:g}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(p))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Mj;case"linkViaPopup":case"linkViaRedirect":return Lj;case"reauthViaPopup":case"reauthViaRedirect":return Vj;default:Cr(this.auth,"internal-error")}}resolve(e){Ba(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ba(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pj=new Oc(2e3,1e4);class Ol extends Ow{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Ol.currentPopupAction&&Ol.currentPopupAction.cancel(),Ol.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ae(e,this.auth,"internal-error"),e}async onExecution(){Ba(this.filter.length===1,"Popup operations only handle one event");const e=rg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(sa(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(sa(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ol.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if((s=(n=this.authWindow)==null?void 0:n.window)!=null&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(sa(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Pj.get())};e()}}Ol.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zj="pendingRedirect",_d=new Map;class Uj extends Ow{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=_d.get(this.auth._key());if(!e){try{const s=await qj(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}_d.set(this.auth._key(),e)}return this.bypassAuthState||_d.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function qj(a,e){const n=Fj(e),s=Hj(a);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function Bj(a,e){_d.set(a._key(),e)}function Hj(a){return Pa(a._redirectPersistence)}function Fj(a){return wd(zj,a.config.apiKey,a.name)}async function Gj(a,e,n=!1){if(ur(a.app))return Promise.reject(za(a));const s=Gs(a),o=Oj(s,e),f=await new Uj(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qj=600*1e3;class $j{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Kj(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!Mw(e)){const o=((s=e.error.code)==null?void 0:s.split("auth/")[1])||"internal-error";n.onError(sa(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Qj&&this.cachedEventUids.clear(),this.cachedEventUids.has(s1(e))}saveEventToCache(e){this.cachedEventUids.add(s1(e)),this.lastProcessedEventTime=Date.now()}}function s1(a){return[a.type,a.eventId,a.sessionId,a.tenantId].filter(e=>e).join("-")}function Mw({type:a,error:e}){return a==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Kj(a){switch(a.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Mw(a);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yj(a,e={}){return $a(a,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xj=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Wj=/^https?/;async function Zj(a){if(a.config.emulator)return;const{authorizedDomains:e}=await Yj(a);for(const n of e)try{if(Jj(n))return}catch{}Cr(a,"unauthorized-domain")}function Jj(a){const e=Nm(),{protocol:n,hostname:s}=new URL(e);if(a.startsWith("chrome-extension://")){const f=new URL(a);return f.hostname===""&&s===""?n==="chrome-extension:"&&a.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!Wj.test(n))return!1;if(Xj.test(a))return s===a;const o=a.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eS=new Oc(3e4,6e4);function i1(){const a=ia().___jsl;if(a!=null&&a.H){for(const e of Object.keys(a.H))if(a.H[e].r=a.H[e].r||[],a.H[e].L=a.H[e].L||[],a.H[e].r=[...a.H[e].L],a.CP)for(let n=0;n<a.CP.length;n++)a.CP[n]=null}}function tS(a){return new Promise((e,n)=>{var o,u,f;function s(){i1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{i1(),n(sa(a,"network-request-failed"))},timeout:eS.get()})}if((u=(o=ia().gapi)==null?void 0:o.iframes)!=null&&u.Iframe)e(gapi.iframes.getContext());else if((f=ia().gapi)!=null&&f.load)s();else{const g=H5("iframefcb");return ia()[g]=()=>{gapi.load?s():n(sa(a,"network-request-failed"))},bw(`${B5()}?onload=${g}`).catch(p=>n(p))}}).catch(e=>{throw Nd=null,e})}let Nd=null;function nS(a){return Nd=Nd||tS(a),Nd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rS=new Oc(5e3,15e3),aS="__/auth/iframe",sS="emulator/auth/iframe",iS={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},lS=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function oS(a){const e=a.config;Ae(e.authDomain,a,"auth-domain-config-required");const n=e.emulator?Zm(e,sS):`https://${a.config.authDomain}/${aS}`,s={apiKey:e.apiKey,appName:a.name,v:Yl},o=lS.get(a.config.apiHost);o&&(s.eid=o);const u=a._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${Dc(s).slice(1)}`}async function cS(a){const e=await nS(a),n=ia().gapi;return Ae(n,a,"internal-error"),e.open({where:document.body,url:oS(a),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:iS,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=sa(a,"network-request-failed"),g=ia().setTimeout(()=>{u(f)},rS.get());function p(){ia().clearTimeout(g),o(s)}s.ping(p).then(p,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uS={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},dS=500,hS=600,fS="_blank",mS="http://localhost";class l1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function gS(a,e,n,s=dS,o=hS){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let g="";const p={...uS,width:s.toString(),height:o.toString(),top:u,left:f},y=bn().toLowerCase();n&&(g=hw(y)?fS:n),uw(y)&&(e=e||mS,p.scrollbars="yes");const w=Object.entries(p).reduce((S,[M,F])=>`${S}${M}=${F},`,"");if(D5(y)&&g!=="_self")return pS(e||"",g),new l1(null);const N=window.open(e||"",g,w);Ae(N,a,"popup-blocked");try{N.focus()}catch{}return new l1(N)}function pS(a,e){const n=document.createElement("a");n.href=a,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yS="__/auth/handler",xS="emulator/auth/handler",bS=encodeURIComponent("fac");async function o1(a,e,n,s,o,u){Ae(a.config.authDomain,a,"auth-domain-config-required"),Ae(a.config.apiKey,a,"invalid-api-key");const f={apiKey:a.config.apiKey,appName:a.name,authType:n,redirectUrl:s,v:Yl,eventId:o};if(e instanceof _w){e.setDefaultLanguage(a.languageCode),f.providerId=e.providerId||"",XT(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[w,N]of Object.entries({}))f[w]=N}if(e instanceof Vc){const w=e.getScopes().filter(N=>N!=="");w.length>0&&(f.scopes=w.join(","))}a.tenantId&&(f.tid=a.tenantId);const g=f;for(const w of Object.keys(g))g[w]===void 0&&delete g[w];const p=await a._getAppCheckToken(),y=p?`#${bS}=${encodeURIComponent(p)}`:"";return`${vS(a)}?${Dc(g).slice(1)}${y}`}function vS({config:a}){return a.emulator?Zm(a,xS):`https://${a.authDomain}/${yS}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $0="webStorageSupport";class wS{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Aw,this._completeRedirectFn=Gj,this._overrideRedirectResult=Bj}async _openPopup(e,n,s,o){var f;Ba((f=this.eventManagers[e._key()])==null?void 0:f.manager,"_initialize() not called before _openPopup()");const u=await o1(e,n,s,Nm(),o);return gS(e,u,rg())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await o1(e,n,s,Nm(),o);return Ej(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(Ba(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await cS(e),s=new $j(e);return n.register("authEvent",o=>(Ae(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send($0,{type:$0},o=>{var f;const u=(f=o==null?void 0:o[0])==null?void 0:f[$0];u!==void 0&&n(!!u),Cr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Zj(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return yw()||dw()||eg()}}const _S=wS;var c1="@firebase/auth",u1="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ES(a){switch(a){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function TS(a){da(new Ar("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:g}=s.options;Ae(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:g,clientPlatform:a,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:xw(a)},y=new z5(s,o,u,p);return Y5(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),da(new Ar("auth-internal",e=>{const n=Gs(e.getProvider("auth").getImmediate());return(s=>new NS(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),fr(c1,u1,ES(a)),fr(c1,u1,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kS=300,jS=Fv("authIdTokenMaxAge")||kS;let d1=null;const SS=a=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>jS)return;const o=n==null?void 0:n.token;d1!==o&&(d1=o,await fetch(a,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function AS(a=Xm()){const e=Ui(a,"auth");if(e.isInitialized())return e.getImmediate();const n=K5(a,{popupRedirectResolver:_S,persistence:[Dj,wj,Aw]}),s=Fv("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=SS(u.toString());pj(n,f,()=>f(n.currentUser)),gj(n,g=>f(g))}}const o=Bv("auth");return o&&X5(n,`http://${o}`),n}function CS(){var a;return((a=document.getElementsByTagName("head"))==null?void 0:a[0])??document}U5({loadJS(a){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",a),s.onload=e,s.onerror=o=>{const u=sa("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",CS().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});TS("Browser");var h1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Os,Vw;(function(){var a;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,E){function j(){}j.prototype=E.prototype,k.F=E.prototype,k.prototype=new j,k.prototype.constructor=k,k.D=function(D,I,V){for(var A=Array(arguments.length-2),Ue=2;Ue<arguments.length;Ue++)A[Ue-2]=arguments[Ue];return E.prototype[I].apply(D,A)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(k,E,j){j||(j=0);const D=Array(16);if(typeof E=="string")for(var I=0;I<16;++I)D[I]=E.charCodeAt(j++)|E.charCodeAt(j++)<<8|E.charCodeAt(j++)<<16|E.charCodeAt(j++)<<24;else for(I=0;I<16;++I)D[I]=E[j++]|E[j++]<<8|E[j++]<<16|E[j++]<<24;E=k.g[0],j=k.g[1],I=k.g[2];let V=k.g[3],A;A=E+(V^j&(I^V))+D[0]+3614090360&4294967295,E=j+(A<<7&4294967295|A>>>25),A=V+(I^E&(j^I))+D[1]+3905402710&4294967295,V=E+(A<<12&4294967295|A>>>20),A=I+(j^V&(E^j))+D[2]+606105819&4294967295,I=V+(A<<17&4294967295|A>>>15),A=j+(E^I&(V^E))+D[3]+3250441966&4294967295,j=I+(A<<22&4294967295|A>>>10),A=E+(V^j&(I^V))+D[4]+4118548399&4294967295,E=j+(A<<7&4294967295|A>>>25),A=V+(I^E&(j^I))+D[5]+1200080426&4294967295,V=E+(A<<12&4294967295|A>>>20),A=I+(j^V&(E^j))+D[6]+2821735955&4294967295,I=V+(A<<17&4294967295|A>>>15),A=j+(E^I&(V^E))+D[7]+4249261313&4294967295,j=I+(A<<22&4294967295|A>>>10),A=E+(V^j&(I^V))+D[8]+1770035416&4294967295,E=j+(A<<7&4294967295|A>>>25),A=V+(I^E&(j^I))+D[9]+2336552879&4294967295,V=E+(A<<12&4294967295|A>>>20),A=I+(j^V&(E^j))+D[10]+4294925233&4294967295,I=V+(A<<17&4294967295|A>>>15),A=j+(E^I&(V^E))+D[11]+2304563134&4294967295,j=I+(A<<22&4294967295|A>>>10),A=E+(V^j&(I^V))+D[12]+1804603682&4294967295,E=j+(A<<7&4294967295|A>>>25),A=V+(I^E&(j^I))+D[13]+4254626195&4294967295,V=E+(A<<12&4294967295|A>>>20),A=I+(j^V&(E^j))+D[14]+2792965006&4294967295,I=V+(A<<17&4294967295|A>>>15),A=j+(E^I&(V^E))+D[15]+1236535329&4294967295,j=I+(A<<22&4294967295|A>>>10),A=E+(I^V&(j^I))+D[1]+4129170786&4294967295,E=j+(A<<5&4294967295|A>>>27),A=V+(j^I&(E^j))+D[6]+3225465664&4294967295,V=E+(A<<9&4294967295|A>>>23),A=I+(E^j&(V^E))+D[11]+643717713&4294967295,I=V+(A<<14&4294967295|A>>>18),A=j+(V^E&(I^V))+D[0]+3921069994&4294967295,j=I+(A<<20&4294967295|A>>>12),A=E+(I^V&(j^I))+D[5]+3593408605&4294967295,E=j+(A<<5&4294967295|A>>>27),A=V+(j^I&(E^j))+D[10]+38016083&4294967295,V=E+(A<<9&4294967295|A>>>23),A=I+(E^j&(V^E))+D[15]+3634488961&4294967295,I=V+(A<<14&4294967295|A>>>18),A=j+(V^E&(I^V))+D[4]+3889429448&4294967295,j=I+(A<<20&4294967295|A>>>12),A=E+(I^V&(j^I))+D[9]+568446438&4294967295,E=j+(A<<5&4294967295|A>>>27),A=V+(j^I&(E^j))+D[14]+3275163606&4294967295,V=E+(A<<9&4294967295|A>>>23),A=I+(E^j&(V^E))+D[3]+4107603335&4294967295,I=V+(A<<14&4294967295|A>>>18),A=j+(V^E&(I^V))+D[8]+1163531501&4294967295,j=I+(A<<20&4294967295|A>>>12),A=E+(I^V&(j^I))+D[13]+2850285829&4294967295,E=j+(A<<5&4294967295|A>>>27),A=V+(j^I&(E^j))+D[2]+4243563512&4294967295,V=E+(A<<9&4294967295|A>>>23),A=I+(E^j&(V^E))+D[7]+1735328473&4294967295,I=V+(A<<14&4294967295|A>>>18),A=j+(V^E&(I^V))+D[12]+2368359562&4294967295,j=I+(A<<20&4294967295|A>>>12),A=E+(j^I^V)+D[5]+4294588738&4294967295,E=j+(A<<4&4294967295|A>>>28),A=V+(E^j^I)+D[8]+2272392833&4294967295,V=E+(A<<11&4294967295|A>>>21),A=I+(V^E^j)+D[11]+1839030562&4294967295,I=V+(A<<16&4294967295|A>>>16),A=j+(I^V^E)+D[14]+4259657740&4294967295,j=I+(A<<23&4294967295|A>>>9),A=E+(j^I^V)+D[1]+2763975236&4294967295,E=j+(A<<4&4294967295|A>>>28),A=V+(E^j^I)+D[4]+1272893353&4294967295,V=E+(A<<11&4294967295|A>>>21),A=I+(V^E^j)+D[7]+4139469664&4294967295,I=V+(A<<16&4294967295|A>>>16),A=j+(I^V^E)+D[10]+3200236656&4294967295,j=I+(A<<23&4294967295|A>>>9),A=E+(j^I^V)+D[13]+681279174&4294967295,E=j+(A<<4&4294967295|A>>>28),A=V+(E^j^I)+D[0]+3936430074&4294967295,V=E+(A<<11&4294967295|A>>>21),A=I+(V^E^j)+D[3]+3572445317&4294967295,I=V+(A<<16&4294967295|A>>>16),A=j+(I^V^E)+D[6]+76029189&4294967295,j=I+(A<<23&4294967295|A>>>9),A=E+(j^I^V)+D[9]+3654602809&4294967295,E=j+(A<<4&4294967295|A>>>28),A=V+(E^j^I)+D[12]+3873151461&4294967295,V=E+(A<<11&4294967295|A>>>21),A=I+(V^E^j)+D[15]+530742520&4294967295,I=V+(A<<16&4294967295|A>>>16),A=j+(I^V^E)+D[2]+3299628645&4294967295,j=I+(A<<23&4294967295|A>>>9),A=E+(I^(j|~V))+D[0]+4096336452&4294967295,E=j+(A<<6&4294967295|A>>>26),A=V+(j^(E|~I))+D[7]+1126891415&4294967295,V=E+(A<<10&4294967295|A>>>22),A=I+(E^(V|~j))+D[14]+2878612391&4294967295,I=V+(A<<15&4294967295|A>>>17),A=j+(V^(I|~E))+D[5]+4237533241&4294967295,j=I+(A<<21&4294967295|A>>>11),A=E+(I^(j|~V))+D[12]+1700485571&4294967295,E=j+(A<<6&4294967295|A>>>26),A=V+(j^(E|~I))+D[3]+2399980690&4294967295,V=E+(A<<10&4294967295|A>>>22),A=I+(E^(V|~j))+D[10]+4293915773&4294967295,I=V+(A<<15&4294967295|A>>>17),A=j+(V^(I|~E))+D[1]+2240044497&4294967295,j=I+(A<<21&4294967295|A>>>11),A=E+(I^(j|~V))+D[8]+1873313359&4294967295,E=j+(A<<6&4294967295|A>>>26),A=V+(j^(E|~I))+D[15]+4264355552&4294967295,V=E+(A<<10&4294967295|A>>>22),A=I+(E^(V|~j))+D[6]+2734768916&4294967295,I=V+(A<<15&4294967295|A>>>17),A=j+(V^(I|~E))+D[13]+1309151649&4294967295,j=I+(A<<21&4294967295|A>>>11),A=E+(I^(j|~V))+D[4]+4149444226&4294967295,E=j+(A<<6&4294967295|A>>>26),A=V+(j^(E|~I))+D[11]+3174756917&4294967295,V=E+(A<<10&4294967295|A>>>22),A=I+(E^(V|~j))+D[2]+718787259&4294967295,I=V+(A<<15&4294967295|A>>>17),A=j+(V^(I|~E))+D[9]+3951481745&4294967295,k.g[0]=k.g[0]+E&4294967295,k.g[1]=k.g[1]+(I+(A<<21&4294967295|A>>>11))&4294967295,k.g[2]=k.g[2]+I&4294967295,k.g[3]=k.g[3]+V&4294967295}s.prototype.v=function(k,E){E===void 0&&(E=k.length);const j=E-this.blockSize,D=this.C;let I=this.h,V=0;for(;V<E;){if(I==0)for(;V<=j;)o(this,k,V),V+=this.blockSize;if(typeof k=="string"){for(;V<E;)if(D[I++]=k.charCodeAt(V++),I==this.blockSize){o(this,D),I=0;break}}else for(;V<E;)if(D[I++]=k[V++],I==this.blockSize){o(this,D),I=0;break}}this.h=I,this.o+=E},s.prototype.A=function(){var k=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);k[0]=128;for(var E=1;E<k.length-8;++E)k[E]=0;E=this.o*8;for(var j=k.length-8;j<k.length;++j)k[j]=E&255,E/=256;for(this.v(k),k=Array(16),E=0,j=0;j<4;++j)for(let D=0;D<32;D+=8)k[E++]=this.g[j]>>>D&255;return k};function u(k,E){var j=g;return Object.prototype.hasOwnProperty.call(j,k)?j[k]:j[k]=E(k)}function f(k,E){this.h=E;const j=[];let D=!0;for(let I=k.length-1;I>=0;I--){const V=k[I]|0;D&&V==E||(j[I]=V,D=!1)}this.g=j}var g={};function p(k){return-128<=k&&k<128?u(k,function(E){return new f([E|0],E<0?-1:0)}):new f([k|0],k<0?-1:0)}function y(k){if(isNaN(k)||!isFinite(k))return N;if(k<0)return Y(y(-k));const E=[];let j=1;for(let D=0;k>=j;D++)E[D]=k/j|0,j*=4294967296;return new f(E,0)}function w(k,E){if(k.length==0)throw Error("number format error: empty string");if(E=E||10,E<2||36<E)throw Error("radix out of range: "+E);if(k.charAt(0)=="-")return Y(w(k.substring(1),E));if(k.indexOf("-")>=0)throw Error('number format error: interior "-" character');const j=y(Math.pow(E,8));let D=N;for(let V=0;V<k.length;V+=8){var I=Math.min(8,k.length-V);const A=parseInt(k.substring(V,V+I),E);I<8?(I=y(Math.pow(E,I)),D=D.j(I).add(y(A))):(D=D.j(j),D=D.add(y(A)))}return D}var N=p(0),S=p(1),M=p(16777216);a=f.prototype,a.m=function(){if(re(this))return-Y(this).m();let k=0,E=1;for(let j=0;j<this.g.length;j++){const D=this.i(j);k+=(D>=0?D:4294967296+D)*E,E*=4294967296}return k},a.toString=function(k){if(k=k||10,k<2||36<k)throw Error("radix out of range: "+k);if(F(this))return"0";if(re(this))return"-"+Y(this).toString(k);const E=y(Math.pow(k,6));var j=this;let D="";for(;;){const I=je(j,E).g;j=oe(j,I.j(E));let V=((j.g.length>0?j.g[0]:j.h)>>>0).toString(k);if(j=I,F(j))return V+D;for(;V.length<6;)V="0"+V;D=V+D}},a.i=function(k){return k<0?0:k<this.g.length?this.g[k]:this.h};function F(k){if(k.h!=0)return!1;for(let E=0;E<k.g.length;E++)if(k.g[E]!=0)return!1;return!0}function re(k){return k.h==-1}a.l=function(k){return k=oe(this,k),re(k)?-1:F(k)?0:1};function Y(k){const E=k.g.length,j=[];for(let D=0;D<E;D++)j[D]=~k.g[D];return new f(j,~k.h).add(S)}a.abs=function(){return re(this)?Y(this):this},a.add=function(k){const E=Math.max(this.g.length,k.g.length),j=[];let D=0;for(let I=0;I<=E;I++){let V=D+(this.i(I)&65535)+(k.i(I)&65535),A=(V>>>16)+(this.i(I)>>>16)+(k.i(I)>>>16);D=A>>>16,V&=65535,A&=65535,j[I]=A<<16|V}return new f(j,j[j.length-1]&-2147483648?-1:0)};function oe(k,E){return k.add(Y(E))}a.j=function(k){if(F(this)||F(k))return N;if(re(this))return re(k)?Y(this).j(Y(k)):Y(Y(this).j(k));if(re(k))return Y(this.j(Y(k)));if(this.l(M)<0&&k.l(M)<0)return y(this.m()*k.m());const E=this.g.length+k.g.length,j=[];for(var D=0;D<2*E;D++)j[D]=0;for(D=0;D<this.g.length;D++)for(let I=0;I<k.g.length;I++){const V=this.i(D)>>>16,A=this.i(D)&65535,Ue=k.i(I)>>>16,Ze=k.i(I)&65535;j[2*D+2*I]+=A*Ze,ue(j,2*D+2*I),j[2*D+2*I+1]+=V*Ze,ue(j,2*D+2*I+1),j[2*D+2*I+1]+=A*Ue,ue(j,2*D+2*I+1),j[2*D+2*I+2]+=V*Ue,ue(j,2*D+2*I+2)}for(k=0;k<E;k++)j[k]=j[2*k+1]<<16|j[2*k];for(k=E;k<2*E;k++)j[k]=0;return new f(j,0)};function ue(k,E){for(;(k[E]&65535)!=k[E];)k[E+1]+=k[E]>>>16,k[E]&=65535,E++}function le(k,E){this.g=k,this.h=E}function je(k,E){if(F(E))throw Error("division by zero");if(F(k))return new le(N,N);if(re(k))return E=je(Y(k),E),new le(Y(E.g),Y(E.h));if(re(E))return E=je(k,Y(E)),new le(Y(E.g),E.h);if(k.g.length>30){if(re(k)||re(E))throw Error("slowDivide_ only works with positive integers.");for(var j=S,D=E;D.l(k)<=0;)j=ae(j),D=ae(D);var I=B(j,1),V=B(D,1);for(D=B(D,2),j=B(j,2);!F(D);){var A=V.add(D);A.l(k)<=0&&(I=I.add(j),V=A),D=B(D,1),j=B(j,1)}return E=oe(k,I.j(E)),new le(I,E)}for(I=N;k.l(E)>=0;){for(j=Math.max(1,Math.floor(k.m()/E.m())),D=Math.ceil(Math.log(j)/Math.LN2),D=D<=48?1:Math.pow(2,D-48),V=y(j),A=V.j(E);re(A)||A.l(k)>0;)j-=D,V=y(j),A=V.j(E);F(V)&&(V=S),I=I.add(V),k=oe(k,A)}return new le(I,k)}a.B=function(k){return je(this,k).h},a.and=function(k){const E=Math.max(this.g.length,k.g.length),j=[];for(let D=0;D<E;D++)j[D]=this.i(D)&k.i(D);return new f(j,this.h&k.h)},a.or=function(k){const E=Math.max(this.g.length,k.g.length),j=[];for(let D=0;D<E;D++)j[D]=this.i(D)|k.i(D);return new f(j,this.h|k.h)},a.xor=function(k){const E=Math.max(this.g.length,k.g.length),j=[];for(let D=0;D<E;D++)j[D]=this.i(D)^k.i(D);return new f(j,this.h^k.h)};function ae(k){const E=k.g.length+1,j=[];for(let D=0;D<E;D++)j[D]=k.i(D)<<1|k.i(D-1)>>>31;return new f(j,k.h)}function B(k,E){const j=E>>5;E%=32;const D=k.g.length-j,I=[];for(let V=0;V<D;V++)I[V]=E>0?k.i(V+j)>>>E|k.i(V+j+1)<<32-E:k.i(V+j);return new f(I,k.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,Vw=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=w,Os=f}).apply(typeof h1<"u"?h1:typeof self<"u"?self:typeof window<"u"?window:{});var gd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Lw,lc,Pw,Ed,km,zw,Uw,qw;(function(){var a,e=Object.defineProperty;function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof gd=="object"&&gd];for(var x=0;x<d.length;++x){var v=d[x];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function o(d,x){if(x)e:{var v=s;d=d.split(".");for(var T=0;T<d.length-1;T++){var z=d[T];if(!(z in v))break e;v=v[z]}d=d[d.length-1],T=v[d],x=x(T),x!=T&&x!=null&&e(v,d,{configurable:!0,writable:!0,value:x})}}o("Symbol.dispose",function(d){return d||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(d){return d||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(d){return d||function(x){var v=[],T;for(T in x)Object.prototype.hasOwnProperty.call(x,T)&&v.push([T,x[T]]);return v}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},f=this||self;function g(d){var x=typeof d;return x=="object"&&d!=null||x=="function"}function p(d,x,v){return d.call.apply(d.bind,arguments)}function y(d,x,v){return y=p,y.apply(null,arguments)}function w(d,x){var v=Array.prototype.slice.call(arguments,1);return function(){var T=v.slice();return T.push.apply(T,arguments),d.apply(this,T)}}function N(d,x){function v(){}v.prototype=x.prototype,d.Z=x.prototype,d.prototype=new v,d.prototype.constructor=d,d.Ob=function(T,z,G){for(var de=Array(arguments.length-2),Le=2;Le<arguments.length;Le++)de[Le-2]=arguments[Le];return x.prototype[z].apply(T,de)}}var S=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?d=>d&&AsyncContext.Snapshot.wrap(d):d=>d;function M(d){const x=d.length;if(x>0){const v=Array(x);for(let T=0;T<x;T++)v[T]=d[T];return v}return[]}function F(d,x){for(let T=1;T<arguments.length;T++){const z=arguments[T];var v=typeof z;if(v=v!="object"?v:z?Array.isArray(z)?"array":v:"null",v=="array"||v=="object"&&typeof z.length=="number"){v=d.length||0;const G=z.length||0;d.length=v+G;for(let de=0;de<G;de++)d[v+de]=z[de]}else d.push(z)}}class re{constructor(x,v){this.i=x,this.j=v,this.h=0,this.g=null}get(){let x;return this.h>0?(this.h--,x=this.g,this.g=x.next,x.next=null):x=this.i(),x}}function Y(d){f.setTimeout(()=>{throw d},0)}function oe(){var d=k;let x=null;return d.g&&(x=d.g,d.g=d.g.next,d.g||(d.h=null),x.next=null),x}class ue{constructor(){this.h=this.g=null}add(x,v){const T=le.get();T.set(x,v),this.h?this.h.next=T:this.g=T,this.h=T}}var le=new re(()=>new je,d=>d.reset());class je{constructor(){this.next=this.g=this.h=null}set(x,v){this.h=x,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let ae,B=!1,k=new ue,E=()=>{const d=Promise.resolve(void 0);ae=()=>{d.then(j)}};function j(){for(var d;d=oe();){try{d.h.call(d.g)}catch(v){Y(v)}var x=le;x.j(d),x.h<100&&(x.h++,d.next=x.g,x.g=d)}B=!1}function D(){this.u=this.u,this.C=this.C}D.prototype.u=!1,D.prototype.dispose=function(){this.u||(this.u=!0,this.N())},D.prototype[Symbol.dispose]=function(){this.dispose()},D.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function I(d,x){this.type=d,this.g=this.target=x,this.defaultPrevented=!1}I.prototype.h=function(){this.defaultPrevented=!0};var V=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var d=!1,x=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const v=()=>{};f.addEventListener("test",v,x),f.removeEventListener("test",v,x)}catch{}return d})();function A(d){return/^[\s\xa0]*$/.test(d)}function Ue(d,x){I.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d&&this.init(d,x)}N(Ue,I),Ue.prototype.init=function(d,x){const v=this.type=d.type,T=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;this.target=d.target||d.srcElement,this.g=x,x=d.relatedTarget,x||(v=="mouseover"?x=d.fromElement:v=="mouseout"&&(x=d.toElement)),this.relatedTarget=x,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=d.pointerType,this.state=d.state,this.i=d,d.defaultPrevented&&Ue.Z.h.call(this)},Ue.prototype.h=function(){Ue.Z.h.call(this);const d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var Ze="closure_listenable_"+(Math.random()*1e6|0),K=0;function ce(d,x,v,T,z){this.listener=d,this.proxy=null,this.src=x,this.type=v,this.capture=!!T,this.ha=z,this.key=++K,this.da=this.fa=!1}function ye(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function Re(d,x,v){for(const T in d)x.call(v,d[T],T,d)}function qe(d,x){for(const v in d)x.call(void 0,d[v],v,d)}function R(d){const x={};for(const v in d)x[v]=d[v];return x}const X="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(d,x){let v,T;for(let z=1;z<arguments.length;z++){T=arguments[z];for(v in T)d[v]=T[v];for(let G=0;G<X.length;G++)v=X[G],Object.prototype.hasOwnProperty.call(T,v)&&(d[v]=T[v])}}function W(d){this.src=d,this.g={},this.h=0}W.prototype.add=function(d,x,v,T,z){const G=d.toString();d=this.g[G],d||(d=this.g[G]=[],this.h++);const de=Ee(d,x,T,z);return de>-1?(x=d[de],v||(x.fa=!1)):(x=new ce(x,this.src,G,!!T,z),x.fa=v,d.push(x)),x};function me(d,x){const v=x.type;if(v in d.g){var T=d.g[v],z=Array.prototype.indexOf.call(T,x,void 0),G;(G=z>=0)&&Array.prototype.splice.call(T,z,1),G&&(ye(x),d.g[v].length==0&&(delete d.g[v],d.h--))}}function Ee(d,x,v,T){for(let z=0;z<d.length;++z){const G=d[z];if(!G.da&&G.listener==x&&G.capture==!!v&&G.ha==T)return z}return-1}var Ve="closure_lm_"+(Math.random()*1e6|0),bt={};function ve(d,x,v,T,z){if(Array.isArray(x)){for(let G=0;G<x.length;G++)ve(d,x[G],v,T,z);return null}return v=kn(v),d&&d[Ze]?d.J(x,v,g(T)?!!T.capture:!1,z):Et(d,x,v,!1,T,z)}function Et(d,x,v,T,z,G){if(!x)throw Error("Invalid event type");const de=g(z)?!!z.capture:!!z;let Le=Xn(d);if(Le||(d[Ve]=Le=new W(d)),v=Le.add(x,v,T,de,G),v.proxy)return v;if(T=Kt(),v.proxy=T,T.src=d,T.listener=v,d.addEventListener)V||(z=de),z===void 0&&(z=!1),d.addEventListener(x.toString(),T,z);else if(d.attachEvent)d.attachEvent(Yt(x.toString()),T);else if(d.addListener&&d.removeListener)d.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Kt(){function d(v){return x.call(d.src,d.listener,v)}const x=pa;return d}function Yn(d,x,v,T,z){if(Array.isArray(x))for(var G=0;G<x.length;G++)Yn(d,x[G],v,T,z);else T=g(T)?!!T.capture:!!T,v=kn(v),d&&d[Ze]?(d=d.i,G=String(x).toString(),G in d.g&&(x=d.g[G],v=Ee(x,v,T,z),v>-1&&(ye(x[v]),Array.prototype.splice.call(x,v,1),x.length==0&&(delete d.g[G],d.h--)))):d&&(d=Xn(d))&&(x=d.g[x.toString()],d=-1,x&&(d=Ee(x,v,T,z)),(v=d>-1?x[d]:null)&&Dr(v))}function Dr(d){if(typeof d!="number"&&d&&!d.da){var x=d.src;if(x&&x[Ze])me(x.i,d);else{var v=d.type,T=d.proxy;x.removeEventListener?x.removeEventListener(v,T,d.capture):x.detachEvent?x.detachEvent(Yt(v),T):x.addListener&&x.removeListener&&x.removeListener(T),(v=Xn(x))?(me(v,d),v.h==0&&(v.src=null,x[Ve]=null)):ye(d)}}}function Yt(d){return d in bt?bt[d]:bt[d]="on"+d}function pa(d,x){if(d.da)d=!0;else{x=new Ue(x,this);const v=d.listener,T=d.ha||d.src;d.fa&&Dr(d),d=v.call(T,x)}return d}function Xn(d){return d=d[Ve],d instanceof W?d:null}var ya="__closure_events_fn_"+(Math.random()*1e9>>>0);function kn(d){return typeof d=="function"?d:(d[ya]||(d[ya]=function(x){return d.handleEvent(x)}),d[ya])}function vt(){D.call(this),this.i=new W(this),this.M=this,this.G=null}N(vt,D),vt.prototype[Ze]=!0,vt.prototype.removeEventListener=function(d,x,v,T){Yn(this,d,x,v,T)};function se(d,x){var v,T=d.G;if(T)for(v=[];T;T=T.G)v.push(T);if(d=d.M,T=x.type||x,typeof x=="string")x=new I(x,d);else if(x instanceof I)x.target=x.target||d;else{var z=x;x=new I(T,d),P(x,z)}z=!0;let G,de;if(v)for(de=v.length-1;de>=0;de--)G=x.g=v[de],z=nt(G,T,!0,x)&&z;if(G=x.g=d,z=nt(G,T,!0,x)&&z,z=nt(G,T,!1,x)&&z,v)for(de=0;de<v.length;de++)G=x.g=v[de],z=nt(G,T,!1,x)&&z}vt.prototype.N=function(){if(vt.Z.N.call(this),this.i){var d=this.i;for(const x in d.g){const v=d.g[x];for(let T=0;T<v.length;T++)ye(v[T]);delete d.g[x],d.h--}}this.G=null},vt.prototype.J=function(d,x,v,T){return this.i.add(String(d),x,!1,v,T)},vt.prototype.K=function(d,x,v,T){return this.i.add(String(d),x,!0,v,T)};function nt(d,x,v,T){if(x=d.i.g[String(x)],!x)return!0;x=x.concat();let z=!0;for(let G=0;G<x.length;++G){const de=x[G];if(de&&!de.da&&de.capture==v){const Le=de.listener,Dt=de.ha||de.src;de.fa&&me(d.i,de),z=Le.call(Dt,T)!==!1&&z}}return z&&!T.defaultPrevented}function Je(d,x){if(typeof d!="function")if(d&&typeof d.handleEvent=="function")d=y(d.handleEvent,d);else throw Error("Invalid listener argument");return Number(x)>2147483647?-1:f.setTimeout(d,x||0)}function sn(d){d.g=Je(()=>{d.g=null,d.i&&(d.i=!1,sn(d))},d.l);const x=d.h;d.h=null,d.m.apply(null,x)}class yt extends D{constructor(x,v){super(),this.m=x,this.l=v,this.h=null,this.i=!1,this.g=null}j(x){this.h=arguments,this.g?this.i=!0:sn(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Jt(d){D.call(this),this.h=d,this.g={}}N(Jt,D);var vn=[];function Wn(d){Re(d.g,function(x,v){this.g.hasOwnProperty(v)&&Dr(x)},d),d.g={}}Jt.prototype.N=function(){Jt.Z.N.call(this),Wn(this)},Jt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var wn=f.JSON.stringify,ie=f.JSON.parse,we=class{stringify(d){return f.JSON.stringify(d,void 0)}parse(d){return f.JSON.parse(d,void 0)}};function Ne(){}function fe(){}var Ie={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function _e(){I.call(this,"d")}N(_e,I);function rt(){I.call(this,"c")}N(rt,I);var Be={},ut=null;function dt(){return ut=ut||new vt}Be.Ia="serverreachability";function Hi(d){I.call(this,Be.Ia,d)}N(Hi,I);function Or(d){const x=dt();se(x,new Hi(x))}Be.STAT_EVENT="statevent";function Ks(d,x){I.call(this,Be.STAT_EVENT,d),this.stat=x}N(Ks,I);function Lt(d){const x=dt();se(x,new Ks(x,d))}Be.Ja="timingevent";function Mr(d,x){I.call(this,Be.Ja,d),this.size=x}N(Mr,I);function Vr(d,x){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){d()},x)}function gr(){this.g=!0}gr.prototype.ua=function(){this.g=!1};function Lh(d,x,v,T,z,G){d.info(function(){if(d.g)if(G){var de="",Le=G.split("&");for(let at=0;at<Le.length;at++){var Dt=Le[at].split("=");if(Dt.length>1){const Tt=Dt[0];Dt=Dt[1];const tr=Tt.split("_");de=tr.length>=2&&tr[1]=="type"?de+(Tt+"="+Dt+"&"):de+(Tt+"=redacted&")}}}else de=null;else de=G;return"XMLHTTP REQ ("+T+") [attempt "+z+"]: "+x+`
`+v+`
`+de})}function Gc(d,x,v,T,z,G,de){d.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+z+"]: "+x+`
`+v+`
`+G+" "+de})}function Lr(d,x,v,T){d.info(function(){return"XMLHTTP TEXT ("+x+"): "+Ph(d,v)+(T?" "+T:"")})}function Ys(d,x){d.info(function(){return"TIMEOUT: "+x})}gr.prototype.info=function(){};function Ph(d,x){if(!d.g)return x;if(!x)return null;try{const G=JSON.parse(x);if(G){for(d=0;d<G.length;d++)if(Array.isArray(G[d])){var v=G[d];if(!(v.length<2)){var T=v[1];if(Array.isArray(T)&&!(T.length<1)){var z=T[0];if(z!="noop"&&z!="stop"&&z!="close")for(let de=1;de<T.length;de++)T[de]=""}}}}return wn(G)}catch{return x}}var Xs={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},no={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ro;function Ws(){}N(Ws,Ne),Ws.prototype.g=function(){return new XMLHttpRequest},ro=new Ws;function xa(d){return encodeURIComponent(String(d))}function Qc(d){var x=1;d=d.split(":");const v=[];for(;x>0&&d.length;)v.push(d.shift()),x--;return d.length&&v.push(d.join(":")),v}function pr(d,x,v,T){this.j=d,this.i=x,this.l=v,this.S=T||1,this.V=new Jt(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new yr}function yr(){this.i=null,this.g="",this.h=!1}var Pt={},en={};function Pr(d,x,v){d.M=1,d.A=Zs(Ut(x)),d.u=v,d.R=!0,Fi(d,null)}function Fi(d,x){d.F=Date.now(),zr(d),d.B=Ut(d.A);var v=d.B,T=d.S;Array.isArray(T)||(T=[String(T)]),Ki(v.i,"t",T),d.C=0,v=d.j.L,d.h=new yr,d.g=lu(d.j,v?x:null,!d.u),d.P>0&&(d.O=new yt(y(d.Y,d,d.g),d.P)),x=d.V,v=d.g,T=d.ba;var z="readystatechange";Array.isArray(z)||(z&&(vn[0]=z.toString()),z=vn);for(let G=0;G<z.length;G++){const de=ve(v,z[G],T||x.handleEvent,!1,x.h||x);if(!de)break;x.g[de.key]=de}x=d.J?R(d.J):{},d.u?(d.v||(d.v="POST"),x["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.B,d.v,d.u,x)):(d.v="GET",d.g.ea(d.B,d.v,null,x)),Or(),Lh(d.i,d.v,d.B,d.l,d.S,d.u)}pr.prototype.ba=function(d){d=d.target;const x=this.O;x&&vr(d)==3?x.j():this.Y(d)},pr.prototype.Y=function(d){try{if(d==this.g)e:{const Le=vr(this.g),Dt=this.g.ya(),at=this.g.ca();if(!(Le<3)&&(Le!=3||this.g&&(this.h.h||this.g.la()||ln(this.g)))){this.K||Le!=4||Dt==7||(Dt==8||at<=0?Or(3):Or(2)),Ur(this);var x=this.g.ca();this.X=x;var v=zh(this);if(this.o=x==200,Gc(this.i,this.v,this.B,this.l,this.S,Le,x),this.o){if(this.U&&!this.L){t:{if(this.g){var T,z=this.g;if((T=z.g?z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!A(T)){var G=T;break t}}G=null}if(d=G)Lr(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,qr(this,d);else{this.o=!1,this.m=3,Lt(12),Ln(this),Zn(this);break e}}if(this.R){d=!0;let Tt;for(;!this.K&&this.C<v.length;)if(Tt=Kc(this,v),Tt==en){Le==4&&(this.m=4,Lt(14),d=!1),Lr(this.i,this.l,null,"[Incomplete Response]");break}else if(Tt==Pt){this.m=4,Lt(15),Lr(this.i,this.l,v,"[Invalid Chunk]"),d=!1;break}else Lr(this.i,this.l,Tt,null),qr(this,Tt);if($c(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Le!=4||v.length!=0||this.h.h||(this.m=1,Lt(16),d=!1),this.o=this.o&&d,!d)Lr(this.i,this.l,v,"[Invalid Chunked Response]"),Ln(this),Zn(this);else if(v.length>0&&!this.W){this.W=!0;var de=this.j;de.g==this&&de.aa&&!de.P&&(de.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),bo(de),de.P=!0,Lt(11))}}else Lr(this.i,this.l,v,null),qr(this,v);Le==4&&Ln(this),this.o&&!this.K&&(Le==4?ru(this.j,this):(this.o=!1,zr(this)))}else va(this.g),x==400&&v.indexOf("Unknown SID")>0?(this.m=3,Lt(12)):(this.m=0,Lt(13)),Ln(this),Zn(this)}}}catch{}finally{}};function zh(d){if(!$c(d))return d.g.la();const x=ln(d.g);if(x==="")return"";let v="";const T=x.length,z=vr(d.g)==4;if(!d.h.i){if(typeof TextDecoder>"u")return Ln(d),Zn(d),"";d.h.i=new f.TextDecoder}for(let G=0;G<T;G++)d.h.h=!0,v+=d.h.i.decode(x[G],{stream:!(z&&G==T-1)});return x.length=0,d.h.g+=v,d.C=0,d.h.g}function $c(d){return d.g?d.v=="GET"&&d.M!=2&&d.j.Aa:!1}function Kc(d,x){var v=d.C,T=x.indexOf(`
`,v);return T==-1?en:(v=Number(x.substring(v,T)),isNaN(v)?Pt:(T+=1,T+v>x.length?en:(x=x.slice(T,T+v),d.C=T+v,x)))}pr.prototype.cancel=function(){this.K=!0,Ln(this)};function zr(d){d.T=Date.now()+d.H,Gi(d,d.H)}function Gi(d,x){if(d.D!=null)throw Error("WatchDog timer not null");d.D=Vr(y(d.aa,d),x)}function Ur(d){d.D&&(f.clearTimeout(d.D),d.D=null)}pr.prototype.aa=function(){this.D=null;const d=Date.now();d-this.T>=0?(Ys(this.i,this.B),this.M!=2&&(Or(),Lt(17)),Ln(this),this.m=2,Zn(this)):Gi(this,this.T-d)};function Zn(d){d.j.I==0||d.K||ru(d.j,d)}function Ln(d){Ur(d);var x=d.O;x&&typeof x.dispose=="function"&&x.dispose(),d.O=null,Wn(d.V),d.g&&(x=d.g,d.g=null,x.abort(),x.dispose())}function qr(d,x){try{var v=d.j;if(v.I!=0&&(v.g==d||Hr(v.h,d))){if(!d.L&&Hr(v.h,d)&&v.I==3){try{var T=v.Ba.g.parse(x)}catch{T=null}if(Array.isArray(T)&&T.length==3){var z=T;if(z[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<d.F)Ji(v),ns(v);else break e;si(v),Lt(18)}}else v.xa=z[1],0<v.xa-v.K&&z[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=Vr(y(v.Va,v),6e3));Br(v.h)<=1&&v.ta&&(v.ta=void 0)}else Yr(v,11)}else if((d.L||v.g==d)&&Ji(v),!A(x))for(z=v.Ba.g.parse(x),x=0;x<z.length;x++){let at=z[x];const Tt=at[0];if(!(Tt<=v.K))if(v.K=Tt,at=at[1],v.I==2)if(at[0]=="c"){v.M=at[1],v.ba=at[2];const tr=at[3];tr!=null&&(v.ka=tr,v.j.info("VER="+v.ka));const Xr=at[4];Xr!=null&&(v.za=Xr,v.j.info("SVER="+v.za));const wr=at[5];wr!=null&&typeof wr=="number"&&wr>0&&(T=1.5*wr,v.O=T,v.j.info("backChannelRequestTimeoutMs_="+T)),T=v;const _r=d.g;if(_r){const ii=_r.g?_r.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ii){var G=T.h;G.g||ii.indexOf("spdy")==-1&&ii.indexOf("quic")==-1&&ii.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(io(G,G.h),G.h=null))}if(T.G){const el=_r.g?_r.g.getResponseHeader("X-HTTP-Session-Id"):null;el&&(T.wa=el,lt(T.J,T.G,el))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-d.F,v.j.info("Handshake RTT: "+v.T+"ms")),T=v;var de=d;if(T.na=iu(T,T.L?T.ba:null,T.W),de.L){lo(T.h,de);var Le=de,Dt=T.O;Dt&&(Le.H=Dt),Le.D&&(Ur(Le),zr(Le)),T.g=de}else tu(T);v.i.length>0&&Kr(v)}else at[0]!="stop"&&at[0]!="close"||Yr(v,7);else v.I==3&&(at[0]=="stop"||at[0]=="close"?at[0]=="stop"?Yr(v,7):yo(v):at[0]!="noop"&&v.l&&v.l.qa(at),v.A=0)}}Or(4)}catch{}}var zt=class{constructor(d,x){this.g=d,this.map=x}};function ao(d){this.l=d||10,f.PerformanceNavigationTiming?(d=f.performance.getEntriesByType("navigation"),d=d.length>0&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function so(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Br(d){return d.h?1:d.g?d.g.size:0}function Hr(d,x){return d.h?d.h==x:d.g?d.g.has(x):!1}function io(d,x){d.g?d.g.add(x):d.h=x}function lo(d,x){d.h&&d.h==x?d.h=null:d.g&&d.g.has(x)&&d.g.delete(x)}ao.prototype.cancel=function(){if(this.i=oo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function oo(d){if(d.h!=null)return d.i.concat(d.h.G);if(d.g!=null&&d.g.size!==0){let x=d.i;for(const v of d.g.values())x=x.concat(v.G);return x}return M(d.i)}var Yc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Qi(d,x){if(d){d=d.split("&");for(let v=0;v<d.length;v++){const T=d[v].indexOf("=");let z,G=null;T>=0?(z=d[v].substring(0,T),G=d[v].substring(T+1)):z=d[v],x(z,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function Pn(d){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let x;d instanceof Pn?(this.l=d.l,tn(this,d.j),this.o=d.o,this.g=d.g,Ya(this,d.u),this.h=d.h,co(this,Jc(d.i)),this.m=d.m):d&&(x=String(d).match(Yc))?(this.l=!1,tn(this,x[1]||"",!0),this.o=Fr(x[2]||""),this.g=Fr(x[3]||"",!0),Ya(this,x[4]),this.h=Fr(x[5]||"",!0),co(this,x[6]||"",!0),this.m=Fr(x[7]||"")):(this.l=!1,this.i=new Wa(null,this.l))}Pn.prototype.toString=function(){const d=[];var x=this.j;x&&d.push(Js(x,$i,!0),":");var v=this.g;return(v||x=="file")&&(d.push("//"),(x=this.o)&&d.push(Js(x,$i,!0),"@"),d.push(xa(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&d.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&d.push("/"),d.push(Js(v,v.charAt(0)=="/"?uo:Xc,!0))),(v=this.i.toString())&&d.push("?",v),(v=this.m)&&d.push("#",Js(v,Wc)),d.join("")},Pn.prototype.resolve=function(d){const x=Ut(this);let v=!!d.j;v?tn(x,d.j):v=!!d.o,v?x.o=d.o:v=!!d.g,v?x.g=d.g:v=d.u!=null;var T=d.h;if(v)Ya(x,d.u);else if(v=!!d.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var z=x.h.lastIndexOf("/");z!=-1&&(T=x.h.slice(0,z+1)+T)}if(z=T,z==".."||z==".")T="";else if(z.indexOf("./")!=-1||z.indexOf("/.")!=-1){T=z.lastIndexOf("/",0)==0,z=z.split("/");const G=[];for(let de=0;de<z.length;){const Le=z[de++];Le=="."?T&&de==z.length&&G.push(""):Le==".."?((G.length>1||G.length==1&&G[0]!="")&&G.pop(),T&&de==z.length&&G.push("")):(G.push(Le),T=!0)}T=G.join("/")}else T=z}return v?x.h=T:v=d.i.toString()!=="",v?co(x,Jc(d.i)):v=!!d.m,v&&(x.m=d.m),x};function Ut(d){return new Pn(d)}function tn(d,x,v){d.j=v?Fr(x,!0):x,d.j&&(d.j=d.j.replace(/:$/,""))}function Ya(d,x){if(x){if(x=Number(x),isNaN(x)||x<0)throw Error("Bad port number "+x);d.u=x}else d.u=null}function co(d,x,v){x instanceof Wa?(d.i=x,Yi(d.i,d.l)):(v||(x=Js(x,Xa)),d.i=new Wa(x,d.l))}function lt(d,x,v){d.i.set(x,v)}function Zs(d){return lt(d,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),d}function Fr(d,x){return d?x?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Js(d,x,v){return typeof d=="string"?(d=encodeURI(d).replace(x,jn),v&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function jn(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var $i=/[#\/\?@]/g,Xc=/[#\?:]/g,uo=/[#\?]/g,Xa=/[#\?@]/g,Wc=/#/g;function Wa(d,x){this.h=this.g=null,this.i=d||null,this.j=!!x}function Sn(d){d.g||(d.g=new Map,d.h=0,d.i&&Qi(d.i,function(x,v){d.add(decodeURIComponent(x.replace(/\+/g," ")),v)}))}a=Wa.prototype,a.add=function(d,x){Sn(this),this.i=null,d=Za(this,d);let v=this.g.get(d);return v||this.g.set(d,v=[]),v.push(x),this.h+=1,this};function Zc(d,x){Sn(d),x=Za(d,x),d.g.has(x)&&(d.i=null,d.h-=d.g.get(x).length,d.g.delete(x))}function ho(d,x){return Sn(d),x=Za(d,x),d.g.has(x)}a.forEach=function(d,x){Sn(this),this.g.forEach(function(v,T){v.forEach(function(z){d.call(x,z,T,this)},this)},this)};function fo(d,x){Sn(d);let v=[];if(typeof x=="string")ho(d,x)&&(v=v.concat(d.g.get(Za(d,x))));else for(d=Array.from(d.g.values()),x=0;x<d.length;x++)v=v.concat(d[x]);return v}a.set=function(d,x){return Sn(this),this.i=null,d=Za(this,d),ho(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[x]),this.h+=1,this},a.get=function(d,x){return d?(d=fo(this,d),d.length>0?String(d[0]):x):x};function Ki(d,x,v){Zc(d,x),v.length>0&&(d.i=null,d.g.set(Za(d,x),M(v)),d.h+=v.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],x=Array.from(this.g.keys());for(let T=0;T<x.length;T++){var v=x[T];const z=xa(v);v=fo(this,v);for(let G=0;G<v.length;G++){let de=z;v[G]!==""&&(de+="="+xa(v[G])),d.push(de)}}return this.i=d.join("&")};function Jc(d){const x=new Wa;return x.i=d.i,d.g&&(x.g=new Map(d.g),x.h=d.h),x}function Za(d,x){return x=String(x),d.j&&(x=x.toLowerCase()),x}function Yi(d,x){x&&!d.j&&(Sn(d),d.i=null,d.g.forEach(function(v,T){const z=T.toLowerCase();T!=z&&(Zc(this,T),Ki(this,z,v))},d)),d.j=x}function xr(d,x){const v=new gr;if(f.Image){const T=new Image;T.onload=w(Jn,v,"TestLoadImage: loaded",!0,x,T),T.onerror=w(Jn,v,"TestLoadImage: error",!1,x,T),T.onabort=w(Jn,v,"TestLoadImage: abort",!1,x,T),T.ontimeout=w(Jn,v,"TestLoadImage: timeout",!1,x,T),f.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=d}else x(!1)}function mo(d,x){const v=new gr,T=new AbortController,z=setTimeout(()=>{T.abort(),Jn(v,"TestPingServer: timeout",!1,x)},1e4);fetch(d,{signal:T.signal}).then(G=>{clearTimeout(z),G.ok?Jn(v,"TestPingServer: ok",!0,x):Jn(v,"TestPingServer: server error",!1,x)}).catch(()=>{clearTimeout(z),Jn(v,"TestPingServer: error",!1,x)})}function Jn(d,x,v,T,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),T(v)}catch{}}function Ja(){this.g=new we}function Gr(d){this.i=d.Sb||null,this.h=d.ab||!1}N(Gr,Ne),Gr.prototype.g=function(){return new ei(this.i,this.h)};function ei(d,x){vt.call(this),this.H=d,this.o=x,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}N(ei,vt),a=ei.prototype,a.open=function(d,x){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=d,this.D=x,this.readyState=1,br(this)},a.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const x={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};d&&(x.body=d),(this.H||f).fetch(new Request(this.D,x)).then(this.Pa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,es(this)),this.readyState=0},a.Pa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,br(this)),this.g&&(this.readyState=3,br(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Xi(this)}else d.text().then(this.Oa.bind(this),this.ga.bind(this))};function Xi(d){d.j.read().then(d.Ma.bind(d)).catch(d.ga.bind(d))}a.Ma=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var x=d.value?d.value:new Uint8Array(0);(x=this.B.decode(x,{stream:!d.done}))&&(this.response=this.responseText+=x)}d.done?es(this):br(this),this.readyState==3&&Xi(this)}},a.Oa=function(d){this.g&&(this.response=this.responseText=d,es(this))},a.Na=function(d){this.g&&(this.response=d,es(this))},a.ga=function(){this.g&&es(this)};function es(d){d.readyState=4,d.l=null,d.j=null,d.B=null,br(d)}a.setRequestHeader=function(d,x){this.A.append(d,x)},a.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],x=this.h.entries();for(var v=x.next();!v.done;)v=v.value,d.push(v[0]+": "+v[1]),v=x.next();return d.join(`\r
`)};function br(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(ei.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function er(d){let x="";return Re(d,function(v,T){x+=T,x+=":",x+=v,x+=`\r
`}),x}function ti(d,x,v){e:{for(T in v){var T=!1;break e}T=!0}T||(v=er(v),typeof d=="string"?v!=null&&xa(v):lt(d,x,v))}function ht(d){vt.call(this),this.headers=new Map,this.L=d||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}N(ht,vt);var Qr=/^https?$/i,go=["POST","PUT"];a=ht.prototype,a.Fa=function(d){this.H=d},a.ea=function(d,x,v,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);x=x?x.toUpperCase():"GET",this.D=d,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ro.g(),this.g.onreadystatechange=S(y(this.Ca,this));try{this.B=!0,this.g.open(x,String(d),!0),this.B=!1}catch(G){ni(this,G);return}if(d=v||"",v=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var z in T)v.set(z,T[z]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const G of T.keys())v.set(G,T.get(G));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(v.keys()).find(G=>G.toLowerCase()=="content-type"),z=f.FormData&&d instanceof f.FormData,!(Array.prototype.indexOf.call(go,x,void 0)>=0)||T||z||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,de]of v)this.g.setRequestHeader(G,de);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(d),this.v=!1}catch(G){ni(this,G)}};function ni(d,x){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=x,d.o=5,po(d),ba(d)}function po(d){d.A||(d.A=!0,se(d,"complete"),se(d,"error"))}a.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=d||7,se(this,"complete"),se(this,"abort"),ba(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ba(this,!0)),ht.Z.N.call(this)},a.Ca=function(){this.u||(this.B||this.v||this.j?ri(this):this.Xa())},a.Xa=function(){ri(this)};function ri(d){if(d.h&&typeof u<"u"){if(d.v&&vr(d)==4)setTimeout(d.Ca.bind(d),0);else if(se(d,"readystatechange"),vr(d)==4){d.h=!1;try{const G=d.ca();e:switch(G){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var x=!0;break e;default:x=!1}var v;if(!(v=x)){var T;if(T=G===0){let de=String(d.D).match(Yc)[1]||null;!de&&f.self&&f.self.location&&(de=f.self.location.protocol.slice(0,-1)),T=!Qr.test(de?de.toLowerCase():"")}v=T}if(v)se(d,"complete"),se(d,"success");else{d.o=6;try{var z=vr(d)>2?d.g.statusText:""}catch{z=""}d.l=z+" ["+d.ca()+"]",po(d)}}finally{ba(d)}}}}function ba(d,x){if(d.g){d.m&&(clearTimeout(d.m),d.m=null);const v=d.g;d.g=null,x||se(d,"ready");try{v.onreadystatechange=null}catch{}}}a.isActive=function(){return!!this.g};function vr(d){return d.g?d.g.readyState:0}a.ca=function(){try{return vr(this)>2?this.g.status:-1}catch{return-1}},a.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.La=function(d){if(this.g){var x=this.g.responseText;return d&&x.indexOf(d)==0&&(x=x.substring(d.length)),ie(x)}};function ln(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.F){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function va(d){const x={};d=(d.g&&vr(d)>=2&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<d.length;T++){if(A(d[T]))continue;var v=Qc(d[T]);const z=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const G=x[z]||[];x[z]=G,G.push(v)}qe(x,function(T){return T.join(", ")})}a.ya=function(){return this.o},a.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function $r(d,x,v){return v&&v.internalChannelParams&&v.internalChannelParams[d]||x}function ts(d){this.za=0,this.i=[],this.j=new gr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=$r("failFast",!1,d),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=$r("baseRetryDelayMs",5e3,d),this.Za=$r("retryDelaySeedMs",1e4,d),this.Ta=$r("forwardChannelMaxRetries",2,d),this.va=$r("forwardChannelRequestTimeoutMs",2e4,d),this.ma=d&&d.xmlHttpFactory||void 0,this.Ua=d&&d.Rb||void 0,this.Aa=d&&d.useFetchStreams||!1,this.O=void 0,this.L=d&&d.supportsCrossDomainXhr||!1,this.M="",this.h=new ao(d&&d.concurrentRequestLimit),this.Ba=new Ja,this.S=d&&d.fastHandshake||!1,this.R=d&&d.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=d&&d.Pb||!1,d&&d.ua&&this.j.ua(),d&&d.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&d&&d.detectBufferingProxy||!1,this.ia=void 0,d&&d.longPollingTimeout&&d.longPollingTimeout>0&&(this.ia=d.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}a=ts.prototype,a.ka=8,a.I=1,a.connect=function(d,x,v,T){Lt(0),this.W=d,this.H=x||{},v&&T!==void 0&&(this.H.OSID=v,this.H.OAID=T),this.F=this.X,this.J=iu(this,null,this.W),Kr(this)};function yo(d){if(Wi(d),d.I==3){var x=d.V++,v=Ut(d.J);if(lt(v,"SID",d.M),lt(v,"RID",x),lt(v,"TYPE","terminate"),ai(d,v),x=new pr(d,d.j,x),x.M=2,x.A=Zs(Ut(v)),v=!1,f.navigator&&f.navigator.sendBeacon)try{v=f.navigator.sendBeacon(x.A.toString(),"")}catch{}!v&&f.Image&&(new Image().src=x.A,v=!0),v||(x.g=lu(x.j,null),x.g.ea(x.A)),x.F=Date.now(),zr(x)}su(d)}function ns(d){d.g&&(bo(d),d.g.cancel(),d.g=null)}function Wi(d){ns(d),d.v&&(f.clearTimeout(d.v),d.v=null),Ji(d),d.h.cancel(),d.m&&(typeof d.m=="number"&&f.clearTimeout(d.m),d.m=null)}function Kr(d){if(!so(d.h)&&!d.m){d.m=!0;var x=d.Ea;ae||E(),B||(ae(),B=!0),k.add(x,d),d.D=0}}function Zi(d,x){return Br(d.h)>=d.h.j-(d.m?1:0)?!1:d.m?(d.i=x.G.concat(d.i),!0):d.I==1||d.I==2||d.D>=(d.Sa?0:d.Ta)?!1:(d.m=Vr(y(d.Ea,d,x),au(d,d.D)),d.D++,!0)}a.Ea=function(d){if(this.m)if(this.m=null,this.I==1){if(!d){this.V=Math.floor(Math.random()*1e5),d=this.V++;const z=new pr(this,this.j,d);let G=this.o;if(this.U&&(G?(G=R(G),P(G,this.U)):G=this.U),this.u!==null||this.R||(z.J=G,G=null),this.S)e:{for(var x=0,v=0;v<this.i.length;v++){t:{var T=this.i[v];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(x+=T,x>4096){x=v;break e}if(x===4096||v===this.i.length-1){x=v+1;break e}}x=1e3}else x=1e3;x=eu(this,z,x),v=Ut(this.J),lt(v,"RID",d),lt(v,"CVER",22),this.G&&lt(v,"X-HTTP-Session-Id",this.G),ai(this,v),G&&(this.R?x="headers="+xa(er(G))+"&"+x:this.u&&ti(v,this.u,G)),io(this.h,z),this.Ra&&lt(v,"TYPE","init"),this.S?(lt(v,"$req",x),lt(v,"SID","null"),z.U=!0,Pr(z,v,null)):Pr(z,v,x),this.I=2}}else this.I==3&&(d?xo(this,d):this.i.length==0||so(this.h)||xo(this))};function xo(d,x){var v;x?v=x.l:v=d.V++;const T=Ut(d.J);lt(T,"SID",d.M),lt(T,"RID",v),lt(T,"AID",d.K),ai(d,T),d.u&&d.o&&ti(T,d.u,d.o),v=new pr(d,d.j,v,d.D+1),d.u===null&&(v.J=d.o),x&&(d.i=x.G.concat(d.i)),x=eu(d,v,1e3),v.H=Math.round(d.va*.5)+Math.round(d.va*.5*Math.random()),io(d.h,v),Pr(v,T,x)}function ai(d,x){d.H&&Re(d.H,function(v,T){lt(x,T,v)}),d.l&&Re({},function(v,T){lt(x,T,v)})}function eu(d,x,v){v=Math.min(d.i.length,v);const T=d.l?y(d.l.Ka,d.l,d):null;e:{var z=d.i;let Le=-1;for(;;){const Dt=["count="+v];Le==-1?v>0?(Le=z[0].g,Dt.push("ofs="+Le)):Le=0:Dt.push("ofs="+Le);let at=!0;for(let Tt=0;Tt<v;Tt++){var G=z[Tt].g;const tr=z[Tt].map;if(G-=Le,G<0)Le=Math.max(0,z[Tt].g-100),at=!1;else try{G="req"+G+"_"||"";try{var de=tr instanceof Map?tr:Object.entries(tr);for(const[Xr,wr]of de){let _r=wr;g(wr)&&(_r=wn(wr)),Dt.push(G+Xr+"="+encodeURIComponent(_r))}}catch(Xr){throw Dt.push(G+"type="+encodeURIComponent("_badmap")),Xr}}catch{T&&T(tr)}}if(at){de=Dt.join("&");break e}}de=void 0}return d=d.i.splice(0,v),x.G=d,de}function tu(d){if(!d.g&&!d.v){d.Y=1;var x=d.Da;ae||E(),B||(ae(),B=!0),k.add(x,d),d.A=0}}function si(d){return d.g||d.v||d.A>=3?!1:(d.Y++,d.v=Vr(y(d.Da,d),au(d,d.A)),d.A++,!0)}a.Da=function(){if(this.v=null,nu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var d=4*this.T;this.j.info("BP detection timer enabled: "+d),this.B=Vr(y(this.Wa,this),d)}},a.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Lt(10),ns(this),nu(this))};function bo(d){d.B!=null&&(f.clearTimeout(d.B),d.B=null)}function nu(d){d.g=new pr(d,d.j,"rpc",d.Y),d.u===null&&(d.g.J=d.o),d.g.P=0;var x=Ut(d.na);lt(x,"RID","rpc"),lt(x,"SID",d.M),lt(x,"AID",d.K),lt(x,"CI",d.F?"0":"1"),!d.F&&d.ia&&lt(x,"TO",d.ia),lt(x,"TYPE","xmlhttp"),ai(d,x),d.u&&d.o&&ti(x,d.u,d.o),d.O&&(d.g.H=d.O);var v=d.g;d=d.ba,v.M=1,v.A=Zs(Ut(x)),v.u=null,v.R=!0,Fi(v,d)}a.Va=function(){this.C!=null&&(this.C=null,ns(this),si(this),Lt(19))};function Ji(d){d.C!=null&&(f.clearTimeout(d.C),d.C=null)}function ru(d,x){var v=null;if(d.g==x){Ji(d),bo(d),d.g=null;var T=2}else if(Hr(d.h,x))v=x.G,lo(d.h,x),T=1;else return;if(d.I!=0){if(x.o)if(T==1){v=x.u?x.u.length:0,x=Date.now()-x.F;var z=d.D;T=dt(),se(T,new Mr(T,v)),Kr(d)}else tu(d);else if(z=x.m,z==3||z==0&&x.X>0||!(T==1&&Zi(d,x)||T==2&&si(d)))switch(v&&v.length>0&&(x=d.h,x.i=x.i.concat(v)),z){case 1:Yr(d,5);break;case 4:Yr(d,10);break;case 3:Yr(d,6);break;default:Yr(d,2)}}}function au(d,x){let v=d.Qa+Math.floor(Math.random()*d.Za);return d.isActive()||(v*=2),v*x}function Yr(d,x){if(d.j.info("Error code "+x),x==2){var v=y(d.bb,d),T=d.Ua;const z=!T;T=new Pn(T||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||tn(T,"https"),Zs(T),z?xr(T.toString(),v):mo(T.toString(),v)}else Lt(2);d.I=0,d.l&&d.l.pa(x),su(d),Wi(d)}a.bb=function(d){d?(this.j.info("Successfully pinged google.com"),Lt(2)):(this.j.info("Failed to ping google.com"),Lt(1))};function su(d){if(d.I=0,d.ja=[],d.l){const x=oo(d.h);(x.length!=0||d.i.length!=0)&&(F(d.ja,x),F(d.ja,d.i),d.h.i.length=0,M(d.i),d.i.length=0),d.l.oa()}}function iu(d,x,v){var T=v instanceof Pn?Ut(v):new Pn(v);if(T.g!="")x&&(T.g=x+"."+T.g),Ya(T,T.u);else{var z=f.location;T=z.protocol,x=x?x+"."+z.hostname:z.hostname,z=+z.port;const G=new Pn(null);T&&tn(G,T),x&&(G.g=x),z&&Ya(G,z),v&&(G.h=v),T=G}return v=d.G,x=d.wa,v&&x&&lt(T,v,x),lt(T,"VER",d.ka),ai(d,T),T}function lu(d,x,v){if(x&&!d.L)throw Error("Can't create secondary domain capable XhrIo object.");return x=d.Aa&&!d.ma?new ht(new Gr({ab:v})):new ht(d.ma),x.Fa(d.L),x}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function ou(){}a=ou.prototype,a.ra=function(){},a.qa=function(){},a.pa=function(){},a.oa=function(){},a.isActive=function(){return!0},a.Ka=function(){};function rs(){}rs.prototype.g=function(d,x){return new _n(d,x)};function _n(d,x){vt.call(this),this.g=new ts(x),this.l=d,this.h=x&&x.messageUrlParams||null,d=x&&x.messageHeaders||null,x&&x.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=x&&x.initMessageHeaders||null,x&&x.messageContentType&&(d?d["X-WebChannel-Content-Type"]=x.messageContentType:d={"X-WebChannel-Content-Type":x.messageContentType}),x&&x.sa&&(d?d["X-WebChannel-Client-Profile"]=x.sa:d={"X-WebChannel-Client-Profile":x.sa}),this.g.U=d,(d=x&&x.Qb)&&!A(d)&&(this.g.u=d),this.A=x&&x.supportsCrossDomainXhr||!1,this.v=x&&x.sendRawJson||!1,(x=x&&x.httpSessionIdParam)&&!A(x)&&(this.g.G=x,d=this.h,d!==null&&x in d&&(d=this.h,x in d&&delete d[x])),this.j=new wa(this)}N(_n,vt),_n.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},_n.prototype.close=function(){yo(this.g)},_n.prototype.o=function(d){var x=this.g;if(typeof d=="string"){var v={};v.__data__=d,d=v}else this.v&&(v={},v.__data__=wn(d),d=v);x.i.push(new zt(x.Ya++,d)),x.I==3&&Kr(x)},_n.prototype.N=function(){this.g.l=null,delete this.j,yo(this.g),delete this.g,_n.Z.N.call(this)};function cu(d){_e.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var x=d.__sm__;if(x){e:{for(const v in x){d=v;break e}d=void 0}(this.i=d)&&(d=this.i,x=x!==null&&d in x?x[d]:void 0),this.data=x}else this.data=d}N(cu,_e);function uu(){rt.call(this),this.status=1}N(uu,rt);function wa(d){this.g=d}N(wa,ou),wa.prototype.ra=function(){se(this.g,"a")},wa.prototype.qa=function(d){se(this.g,new cu(d))},wa.prototype.pa=function(d){se(this.g,new uu)},wa.prototype.oa=function(){se(this.g,"b")},rs.prototype.createWebChannel=rs.prototype.g,_n.prototype.send=_n.prototype.o,_n.prototype.open=_n.prototype.m,_n.prototype.close=_n.prototype.close,qw=function(){return new rs},Uw=function(){return dt()},zw=Be,km={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Xs.NO_ERROR=0,Xs.TIMEOUT=8,Xs.HTTP_ERROR=6,Ed=Xs,no.COMPLETE="complete",Pw=no,fe.EventType=Ie,Ie.OPEN="a",Ie.CLOSE="b",Ie.ERROR="c",Ie.MESSAGE="d",vt.prototype.listen=vt.prototype.J,lc=fe,ht.prototype.listenOnce=ht.prototype.K,ht.prototype.getLastError=ht.prototype.Ha,ht.prototype.getLastErrorCode=ht.prototype.ya,ht.prototype.getStatus=ht.prototype.ca,ht.prototype.getResponseJson=ht.prototype.La,ht.prototype.getResponseText=ht.prototype.la,ht.prototype.send=ht.prototype.ea,ht.prototype.setWithCredentials=ht.prototype.Fa,Lw=ht}).apply(typeof gd<"u"?gd:typeof self<"u"?self:typeof window<"u"?window:{});const f1="@firebase/firestore",m1="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}yn.UNAUTHENTICATED=new yn(null),yn.GOOGLE_CREDENTIALS=new yn("google-credentials-uid"),yn.FIRST_PARTY=new yn("first-party-uid"),yn.MOCK_USER=new yn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wl="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oi=new ch("@firebase/firestore");function Cl(){return Oi.logLevel}function pe(a,...e){if(Oi.logLevel<=$e.DEBUG){const n=e.map(sg);Oi.debug(`Firestore (${Wl}): ${a}`,...n)}}function Ha(a,...e){if(Oi.logLevel<=$e.ERROR){const n=e.map(sg);Oi.error(`Firestore (${Wl}): ${a}`,...n)}}function ql(a,...e){if(Oi.logLevel<=$e.WARN){const n=e.map(sg);Oi.warn(`Firestore (${Wl}): ${a}`,...n)}}function sg(a){if(typeof a=="string")return a;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(a)}catch{return a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ce(a,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,Bw(a,s,n)}function Bw(a,e,n){let s=`FIRESTORE (${Wl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${a.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Ha(s),new Error(s)}function it(a,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,a||Bw(e,o,s)}function Me(a,e){return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ge extends Ir{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hw{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class RS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(yn.UNAUTHENTICATED)))}shutdown(){}}class IS{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class DS{constructor(e){this.t=e,this.currentUser=yn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){it(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new Ua;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Ua,e.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const p=u;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},g=p=>{pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((p=>g(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?g(p):(pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Ua)}}),0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(it(typeof s.accessToken=="string",31837,{l:s}),new Hw(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return it(e===null||typeof e=="string",2055,{h:e}),new yn(e)}}class OS{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=yn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class MS{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new OS(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(yn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class g1{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class VS{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ur(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){it(this.o===void 0,3512);const s=u=>{u.error!=null&&pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,pe("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new g1(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(it(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new g1(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LS(a){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(a);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<a;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=LS(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Ke(a,e){return a<e?-1:a>e?1:0}function jm(a,e){const n=Math.min(a.length,e.length);for(let s=0;s<n;s++){const o=a.charAt(s),u=e.charAt(s);if(o!==u)return K0(o)===K0(u)?Ke(o,u):K0(o)?1:-1}return Ke(a.length,e.length)}const PS=55296,zS=57343;function K0(a){const e=a.charCodeAt(0);return e>=PS&&e<=zS}function Bl(a,e,n){return a.length===e.length&&a.every(((s,o)=>n(s,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p1="__name__";class ta{constructor(e,n,s){n===void 0?n=0:n>e.length&&Ce(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Ce(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return ta.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ta?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=ta.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Ke(e.length,n.length)}static compareSegments(e,n){const s=ta.isNumericId(e),o=ta.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?ta.extractNumericId(e).compare(ta.extractNumericId(n)):jm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Os.fromString(e.substring(4,e.length-2))}}class xt extends ta{construct(e,n,s){return new xt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ge(ee.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new xt(n)}static emptyPath(){return new xt([])}}const US=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class fn extends ta{construct(e,n,s){return new fn(e,n,s)}static isValidIdentifier(e){return US.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),fn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===p1}static keyField(){return new fn([p1])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ge(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const g=e[o];if(g==="\\"){if(o+1===e.length)throw new ge(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ge(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else g==="`"?(f=!f,o++):g!=="."||f?(s+=g,o++):(u(),o++)}if(u(),f)throw new ge(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new fn(n)}static emptyPath(){return new fn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{constructor(e){this.path=e}static fromPath(e){return new ke(xt.fromString(e))}static fromName(e){return new ke(xt.fromString(e).popFirst(5))}static empty(){return new ke(xt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&xt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return xt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ke(new xt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fw(a,e,n){if(!n)throw new ge(ee.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${e}.`)}function qS(a,e,n,s){if(e===!0&&s===!0)throw new ge(ee.INVALID_ARGUMENT,`${a} and ${n} cannot be used together.`)}function y1(a){if(!ke.isDocumentKey(a))throw new ge(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function x1(a){if(ke.isDocumentKey(a))throw new ge(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function Gw(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}function fh(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(a);return e?`a custom ${e} object`:"an object"}}return typeof a=="function"?"a function":Ce(12329,{type:typeof a})}function Vn(a,e){if("_delegate"in a&&(a=a._delegate),!(a instanceof e)){if(e.name===a.constructor.name)throw new ge(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=fh(a);throw new ge(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return a}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $t(a,e){const n={typeString:a};return e&&(n.value=e),n}function Pc(a,e){if(!Gw(a))throw new ge(ee.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in a)){n=`JSON missing required field: '${s}'`;break}const f=a[s];if(o&&typeof f!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new ge(ee.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b1=-62135596800,v1=1e6;class Nt{static now(){return Nt.fromMillis(Date.now())}static fromDate(e){return Nt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*v1);return new Nt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ge(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ge(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<b1)throw new ge(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ge(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/v1}_compareTo(e){return this.seconds===e.seconds?Ke(this.nanoseconds,e.nanoseconds):Ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Nt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Pc(e,Nt._jsonSchema))return new Nt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-b1;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Nt._jsonSchemaVersion="firestore/timestamp/1.0",Nt._jsonSchema={type:$t("string",Nt._jsonSchemaVersion),seconds:$t("number"),nanoseconds:$t("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{static fromTimestamp(e){return new De(e)}static min(){return new De(new Nt(0,0))}static max(){return new De(new Nt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ec=-1;function BS(a,e){const n=a.toTimestamp().seconds,s=a.toTimestamp().nanoseconds+1,o=De.fromTimestamp(s===1e9?new Nt(n+1,0):new Nt(n,s));return new zs(o,ke.empty(),e)}function HS(a){return new zs(a.readTime,a.key,Ec)}class zs{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new zs(De.min(),ke.empty(),Ec)}static max(){return new zs(De.max(),ke.empty(),Ec)}}function FS(a,e){let n=a.readTime.compareTo(e.readTime);return n!==0?n:(n=ke.comparator(a.documentKey,e.documentKey),n!==0?n:Ke(a.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class QS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zl(a){if(a.code!==ee.FAILED_PRECONDITION||a.message!==GS)throw a;pe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ce(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ne(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ne?n:ne.resolve(n)}catch(n){return ne.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ne.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ne.reject(n)}static resolve(e){return new ne(((n,s)=>{n(e)}))}static reject(e){return new ne(((n,s)=>{s(e)}))}static waitFor(e){return new ne(((n,s)=>{let o=0,u=0,f=!1;e.forEach((g=>{++o,g.next((()=>{++u,f&&u===o&&n()}),(p=>s(p)))})),f=!0,u===o&&n()}))}static or(e){let n=ne.resolve(!1);for(const s of e)n=n.next((o=>o?ne.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(e,n){return new ne(((s,o)=>{const u=e.length,f=new Array(u);let g=0;for(let p=0;p<u;p++){const y=p;n(e[y]).next((w=>{f[y]=w,++g,g===u&&s(f)}),(w=>o(w)))}}))}static doWhile(e,n){return new ne(((s,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):s()};u()}))}}function $S(a){const e=a.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Jl(a){return a.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}mh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lg=-1;function gh(a){return a==null}function $d(a){return a===0&&1/a==-1/0}function KS(a){return typeof a=="number"&&Number.isInteger(a)&&!$d(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qw="";function YS(a){let e="";for(let n=0;n<a.length;n++)e.length>0&&(e=w1(e)),e=XS(a.get(n),e);return w1(e)}function XS(a,e){let n=e;const s=a.length;for(let o=0;o<s;o++){const u=a.charAt(o);switch(u){case"\0":n+="";break;case Qw:n+="";break;default:n+=u}}return n}function w1(a){return a+Qw+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _1(a){let e=0;for(const n in a)Object.prototype.hasOwnProperty.call(a,n)&&e++;return e}function Qs(a,e){for(const n in a)Object.prototype.hasOwnProperty.call(a,n)&&e(n,a[n])}function $w(a){for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e,n){this.comparator=e,this.root=n||hn.EMPTY}insert(e,n){return new St(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,hn.BLACK,null,null))}remove(e){return new St(this.comparator,this.root.remove(e,this.comparator).copy(null,null,hn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new pd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new pd(this.root,e,this.comparator,!1)}getReverseIterator(){return new pd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new pd(this.root,e,this.comparator,!0)}}class pd{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class hn{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??hn.RED,this.left=o??hn.EMPTY,this.right=u??hn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new hn(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return hn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return hn.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,hn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,hn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ce(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ce(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ce(27949);return e+(this.isRed()?0:1)}}hn.EMPTY=null,hn.RED=!0,hn.BLACK=!1;hn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ce(57766)}get value(){throw Ce(16141)}get color(){throw Ce(16727)}get left(){throw Ce(29726)}get right(){throw Ce(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new hn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e){this.comparator=e,this.data=new St(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new N1(this.data.getIterator())}getIteratorFrom(e){return new N1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Zt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Zt(this.comparator);return n.data=e,n}}class N1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(e){this.fields=e,e.sort(fn.comparator)}static empty(){return new Qn([])}unionWith(e){let n=new Zt(fn.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Qn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Bl(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new Kw("Invalid base64 string: "+u):u}})(e);return new mn(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(e);return new mn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}mn.EMPTY_BYTE_STRING=new mn("");const WS=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Us(a){if(it(!!a,39018),typeof a=="string"){let e=0;const n=WS.exec(a);if(it(!!n,46558,{timestamp:a}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(a);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Vt(a.seconds),nanos:Vt(a.nanos)}}function Vt(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function qs(a){return typeof a=="string"?mn.fromBase64String(a):mn.fromUint8Array(a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yw="server_timestamp",Xw="__type__",Ww="__previous_value__",Zw="__local_write_time__";function og(a){var n,s;return((s=(((n=a==null?void 0:a.mapValue)==null?void 0:n.fields)||{})[Xw])==null?void 0:s.stringValue)===Yw}function ph(a){const e=a.mapValue.fields[Ww];return og(e)?ph(e):e}function Tc(a){const e=Us(a.mapValue.fields[Zw].timestampValue);return new Nt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZS{constructor(e,n,s,o,u,f,g,p,y,w){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=g,this.longPollingOptions=p,this.useFetchStreams=y,this.isUsingEmulator=w}}const Kd="(default)";class kc{constructor(e,n){this.projectId=e,this.database=n||Kd}static empty(){return new kc("","")}get isDefaultDatabase(){return this.database===Kd}isEqual(e){return e instanceof kc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jw="__type__",JS="__max__",yd={mapValue:{}},e2="__vector__",Yd="value";function Bs(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?og(a)?4:tA(a)?9007199254740991:eA(a)?10:11:Ce(28295,{value:a})}function ha(a,e){if(a===e)return!0;const n=Bs(a);if(n!==Bs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===e.booleanValue;case 4:return Tc(a).isEqual(Tc(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=Us(o.timestampValue),g=Us(u.timestampValue);return f.seconds===g.seconds&&f.nanos===g.nanos})(a,e);case 5:return a.stringValue===e.stringValue;case 6:return(function(o,u){return qs(o.bytesValue).isEqual(qs(u.bytesValue))})(a,e);case 7:return a.referenceValue===e.referenceValue;case 8:return(function(o,u){return Vt(o.geoPointValue.latitude)===Vt(u.geoPointValue.latitude)&&Vt(o.geoPointValue.longitude)===Vt(u.geoPointValue.longitude)})(a,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return Vt(o.integerValue)===Vt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=Vt(o.doubleValue),g=Vt(u.doubleValue);return f===g?$d(f)===$d(g):isNaN(f)&&isNaN(g)}return!1})(a,e);case 9:return Bl(a.arrayValue.values||[],e.arrayValue.values||[],ha);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},g=u.mapValue.fields||{};if(_1(f)!==_1(g))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(g[p]===void 0||!ha(f[p],g[p])))return!1;return!0})(a,e);default:return Ce(52216,{left:a})}}function jc(a,e){return(a.values||[]).find((n=>ha(n,e)))!==void 0}function Hl(a,e){if(a===e)return 0;const n=Bs(a),s=Bs(e);if(n!==s)return Ke(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ke(a.booleanValue,e.booleanValue);case 2:return(function(u,f){const g=Vt(u.integerValue||u.doubleValue),p=Vt(f.integerValue||f.doubleValue);return g<p?-1:g>p?1:g===p?0:isNaN(g)?isNaN(p)?0:-1:1})(a,e);case 3:return E1(a.timestampValue,e.timestampValue);case 4:return E1(Tc(a),Tc(e));case 5:return jm(a.stringValue,e.stringValue);case 6:return(function(u,f){const g=qs(u),p=qs(f);return g.compareTo(p)})(a.bytesValue,e.bytesValue);case 7:return(function(u,f){const g=u.split("/"),p=f.split("/");for(let y=0;y<g.length&&y<p.length;y++){const w=Ke(g[y],p[y]);if(w!==0)return w}return Ke(g.length,p.length)})(a.referenceValue,e.referenceValue);case 8:return(function(u,f){const g=Ke(Vt(u.latitude),Vt(f.latitude));return g!==0?g:Ke(Vt(u.longitude),Vt(f.longitude))})(a.geoPointValue,e.geoPointValue);case 9:return T1(a.arrayValue,e.arrayValue);case 10:return(function(u,f){var S,M,F,re;const g=u.fields||{},p=f.fields||{},y=(S=g[Yd])==null?void 0:S.arrayValue,w=(M=p[Yd])==null?void 0:M.arrayValue,N=Ke(((F=y==null?void 0:y.values)==null?void 0:F.length)||0,((re=w==null?void 0:w.values)==null?void 0:re.length)||0);return N!==0?N:T1(y,w)})(a.mapValue,e.mapValue);case 11:return(function(u,f){if(u===yd.mapValue&&f===yd.mapValue)return 0;if(u===yd.mapValue)return 1;if(f===yd.mapValue)return-1;const g=u.fields||{},p=Object.keys(g),y=f.fields||{},w=Object.keys(y);p.sort(),w.sort();for(let N=0;N<p.length&&N<w.length;++N){const S=jm(p[N],w[N]);if(S!==0)return S;const M=Hl(g[p[N]],y[w[N]]);if(M!==0)return M}return Ke(p.length,w.length)})(a.mapValue,e.mapValue);default:throw Ce(23264,{he:n})}}function E1(a,e){if(typeof a=="string"&&typeof e=="string"&&a.length===e.length)return Ke(a,e);const n=Us(a),s=Us(e),o=Ke(n.seconds,s.seconds);return o!==0?o:Ke(n.nanos,s.nanos)}function T1(a,e){const n=a.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=Hl(n[o],s[o]);if(u)return u}return Ke(n.length,s.length)}function Fl(a){return Sm(a)}function Sm(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?(function(n){const s=Us(n);return`time(${s.seconds},${s.nanos})`})(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?(function(n){return qs(n).toBase64()})(a.bytesValue):"referenceValue"in a?(function(n){return ke.fromName(n).toString()})(a.referenceValue):"geoPointValue"in a?(function(n){return`geo(${n.latitude},${n.longitude})`})(a.geoPointValue):"arrayValue"in a?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Sm(u);return s+"]"})(a.arrayValue):"mapValue"in a?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Sm(n.fields[f])}`;return o+"}"})(a.mapValue):Ce(61005,{value:a})}function Td(a){switch(Bs(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ph(a);return e?16+Td(e):16;case 5:return 2*a.stringValue.length;case 6:return qs(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+Td(u)),0)})(a.arrayValue);case 10:case 11:return(function(s){let o=0;return Qs(s.fields,((u,f)=>{o+=u.length+Td(f)})),o})(a.mapValue);default:throw Ce(13486,{value:a})}}function k1(a,e){return{referenceValue:`projects/${a.projectId}/databases/${a.database}/documents/${e.path.canonicalString()}`}}function Am(a){return!!a&&"integerValue"in a}function cg(a){return!!a&&"arrayValue"in a}function j1(a){return!!a&&"nullValue"in a}function S1(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function kd(a){return!!a&&"mapValue"in a}function eA(a){var n,s;return((s=(((n=a==null?void 0:a.mapValue)==null?void 0:n.fields)||{})[Jw])==null?void 0:s.stringValue)===e2}function fc(a){if(a.geoPointValue)return{geoPointValue:{...a.geoPointValue}};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:{...a.timestampValue}};if(a.mapValue){const e={mapValue:{fields:{}}};return Qs(a.mapValue.fields,((n,s)=>e.mapValue.fields[n]=fc(s))),e}if(a.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(a.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=fc(a.arrayValue.values[n]);return e}return{...a}}function tA(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===JS}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this.value=e}static empty(){return new Mn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!kd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=fc(n)}setAll(e){let n=fn.emptyPath(),s={},o=[];e.forEach(((f,g)=>{if(!n.isImmediateParentOf(g)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=g.popLast()}f?s[g.lastSegment()]=fc(f):o.push(g.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());kd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ha(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];kd(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){Qs(n,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new Mn(fc(this.value))}}function t2(a){const e=[];return Qs(a.fields,((n,s)=>{const o=new fn([n]);if(kd(s)){const u=t2(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)})),new Qn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e,n,s,o,u,f,g){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=g}static newInvalidDocument(e){return new xn(e,0,De.min(),De.min(),De.min(),Mn.empty(),0)}static newFoundDocument(e,n,s,o){return new xn(e,1,n,De.min(),s,o,0)}static newNoDocument(e,n){return new xn(e,2,n,De.min(),De.min(),Mn.empty(),0)}static newUnknownDocument(e,n){return new xn(e,3,n,De.min(),De.min(),Mn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(De.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Mn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=De.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof xn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new xn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xd{constructor(e,n){this.position=e,this.inclusive=n}}function A1(a,e,n){let s=0;for(let o=0;o<a.position.length;o++){const u=e[o],f=a.position[o];if(u.field.isKeyField()?s=ke.comparator(ke.fromName(f.referenceValue),n.key):s=Hl(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function C1(a,e){if(a===null)return e===null;if(e===null||a.inclusive!==e.inclusive||a.position.length!==e.position.length)return!1;for(let n=0;n<a.position.length;n++)if(!ha(a.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc{constructor(e,n="asc"){this.field=e,this.dir=n}}function nA(a,e){return a.dir===e.dir&&a.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n2{}class Qt extends n2{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new aA(e,n,s):n==="array-contains"?new lA(e,s):n==="in"?new oA(e,s):n==="not-in"?new cA(e,s):n==="array-contains-any"?new uA(e,s):new Qt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new sA(e,s):new iA(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Hl(n,this.value)):n!==null&&Bs(this.value)===Bs(n)&&this.matchesComparison(Hl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ce(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Rr extends n2{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Rr(e,n)}matches(e){return r2(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function r2(a){return a.op==="and"}function a2(a){return rA(a)&&r2(a)}function rA(a){for(const e of a.filters)if(e instanceof Rr)return!1;return!0}function Cm(a){if(a instanceof Qt)return a.field.canonicalString()+a.op.toString()+Fl(a.value);if(a2(a))return a.filters.map((e=>Cm(e))).join(",");{const e=a.filters.map((n=>Cm(n))).join(",");return`${a.op}(${e})`}}function s2(a,e){return a instanceof Qt?(function(s,o){return o instanceof Qt&&s.op===o.op&&s.field.isEqual(o.field)&&ha(s.value,o.value)})(a,e):a instanceof Rr?(function(s,o){return o instanceof Rr&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,f,g)=>u&&s2(f,o.filters[g])),!0):!1})(a,e):void Ce(19439)}function i2(a){return a instanceof Qt?(function(n){return`${n.field.canonicalString()} ${n.op} ${Fl(n.value)}`})(a):a instanceof Rr?(function(n){return n.op.toString()+" {"+n.getFilters().map(i2).join(" ,")+"}"})(a):"Filter"}class aA extends Qt{constructor(e,n,s){super(e,n,s),this.key=ke.fromName(s.referenceValue)}matches(e){const n=ke.comparator(e.key,this.key);return this.matchesComparison(n)}}class sA extends Qt{constructor(e,n){super(e,"in",n),this.keys=l2("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class iA extends Qt{constructor(e,n){super(e,"not-in",n),this.keys=l2("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function l2(a,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((s=>ke.fromName(s.referenceValue)))}class lA extends Qt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return cg(n)&&jc(n.arrayValue,this.value)}}class oA extends Qt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&jc(this.value.arrayValue,n)}}class cA extends Qt{constructor(e,n){super(e,"not-in",n)}matches(e){if(jc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!jc(this.value.arrayValue,n)}}class uA extends Qt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!cg(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>jc(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA{constructor(e,n=null,s=[],o=[],u=null,f=null,g=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=g,this.Te=null}}function R1(a,e=null,n=[],s=[],o=null,u=null,f=null){return new dA(a,e,n,s,o,u,f)}function ug(a){const e=Me(a);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>Cm(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),gh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>Fl(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>Fl(s))).join(",")),e.Te=n}return e.Te}function dg(a,e){if(a.limit!==e.limit||a.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<a.orderBy.length;n++)if(!nA(a.orderBy[n],e.orderBy[n]))return!1;if(a.filters.length!==e.filters.length)return!1;for(let n=0;n<a.filters.length;n++)if(!s2(a.filters[n],e.filters[n]))return!1;return a.collectionGroup===e.collectionGroup&&!!a.path.isEqual(e.path)&&!!C1(a.startAt,e.startAt)&&C1(a.endAt,e.endAt)}function Rm(a){return ke.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(e,n=null,s=[],o=[],u=null,f="F",g=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=g,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function hA(a,e,n,s,o,u,f,g){return new eo(a,e,n,s,o,u,f,g)}function yh(a){return new eo(a)}function I1(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function o2(a){return a.collectionGroup!==null}function mc(a){const e=Me(a);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let g=new Zt(fn.comparator);return f.filters.forEach((p=>{p.getFlattenedFilters().forEach((y=>{y.isInequality()&&(g=g.add(y.field))}))})),g})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new Sc(u,s))})),n.has(fn.keyField().canonicalString())||e.Ie.push(new Sc(fn.keyField(),s))}return e.Ie}function la(a){const e=Me(a);return e.Ee||(e.Ee=fA(e,mc(a))),e.Ee}function fA(a,e){if(a.limitType==="F")return R1(a.path,a.collectionGroup,e,a.filters,a.limit,a.startAt,a.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new Sc(o.field,u)}));const n=a.endAt?new Xd(a.endAt.position,a.endAt.inclusive):null,s=a.startAt?new Xd(a.startAt.position,a.startAt.inclusive):null;return R1(a.path,a.collectionGroup,e,a.filters,a.limit,n,s)}}function Im(a,e){const n=a.filters.concat([e]);return new eo(a.path,a.collectionGroup,a.explicitOrderBy.slice(),n,a.limit,a.limitType,a.startAt,a.endAt)}function Wd(a,e,n){return new eo(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),e,n,a.startAt,a.endAt)}function xh(a,e){return dg(la(a),la(e))&&a.limitType===e.limitType}function c2(a){return`${ug(la(a))}|lt:${a.limitType}`}function Rl(a){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>i2(o))).join(", ")}]`),gh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>Fl(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>Fl(o))).join(",")),`Target(${s})`})(la(a))}; limitType=${a.limitType})`}function bh(a,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ke.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(a,e)&&(function(s,o){for(const u of mc(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(a,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(a,e)&&(function(s,o){return!(s.startAt&&!(function(f,g,p){const y=A1(f,g,p);return f.inclusive?y<=0:y<0})(s.startAt,mc(s),o)||s.endAt&&!(function(f,g,p){const y=A1(f,g,p);return f.inclusive?y>=0:y>0})(s.endAt,mc(s),o))})(a,e)}function mA(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function u2(a){return(e,n)=>{let s=!1;for(const o of mc(a)){const u=gA(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function gA(a,e,n){const s=a.field.isKeyField()?ke.comparator(e.key,n.key):(function(u,f,g){const p=f.data.field(u),y=g.data.field(u);return p!==null&&y!==null?Hl(p,y):Ce(42886)})(a.field,e,n);switch(a.dir){case"asc":return s;case"desc":return-1*s;default:return Ce(19790,{direction:a.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Qs(this.inner,((n,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return $w(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pA=new St(ke.comparator);function Fa(){return pA}const d2=new St(ke.comparator);function oc(...a){let e=d2;for(const n of a)e=e.insert(n.key,n);return e}function h2(a){let e=d2;return a.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function Ei(){return gc()}function f2(){return gc()}function gc(){return new qi((a=>a.toString()),((a,e)=>a.isEqual(e)))}const yA=new St(ke.comparator),xA=new Zt(ke.comparator);function Ye(...a){let e=xA;for(const n of a)e=e.add(n);return e}const bA=new Zt(Ke);function vA(){return bA}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hg(a,e){if(a.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$d(e)?"-0":e}}function m2(a){return{integerValue:""+a}}function g2(a,e){return KS(e)?m2(e):hg(a,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(){this._=void 0}}function wA(a,e,n){return a instanceof Ac?(function(o,u){const f={fields:{[Xw]:{stringValue:Yw},[Zw]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&og(u)&&(u=ph(u)),u&&(f.fields[Ww]=u),{mapValue:f}})(n,e):a instanceof Cc?y2(a,e):a instanceof Rc?x2(a,e):(function(o,u){const f=p2(o,u),g=D1(f)+D1(o.Ae);return Am(f)&&Am(o.Ae)?m2(g):hg(o.serializer,g)})(a,e)}function _A(a,e,n){return a instanceof Cc?y2(a,e):a instanceof Rc?x2(a,e):n}function p2(a,e){return a instanceof Ic?(function(s){return Am(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class Ac extends vh{}class Cc extends vh{constructor(e){super(),this.elements=e}}function y2(a,e){const n=b2(e);for(const s of a.elements)n.some((o=>ha(o,s)))||n.push(s);return{arrayValue:{values:n}}}class Rc extends vh{constructor(e){super(),this.elements=e}}function x2(a,e){let n=b2(e);for(const s of a.elements)n=n.filter((o=>!ha(o,s)));return{arrayValue:{values:n}}}class Ic extends vh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function D1(a){return Vt(a.integerValue||a.doubleValue)}function b2(a){return cg(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v2{constructor(e,n){this.field=e,this.transform=n}}function NA(a,e){return a.field.isEqual(e.field)&&(function(s,o){return s instanceof Cc&&o instanceof Cc||s instanceof Rc&&o instanceof Rc?Bl(s.elements,o.elements,ha):s instanceof Ic&&o instanceof Ic?ha(s.Ae,o.Ae):s instanceof Ac&&o instanceof Ac})(a.transform,e.transform)}class EA{constructor(e,n){this.version=e,this.transformResults=n}}class mr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new mr}static exists(e){return new mr(void 0,e)}static updateTime(e){return new mr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function jd(a,e){return a.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(a.updateTime):a.exists===void 0||a.exists===e.isFoundDocument()}class wh{}function w2(a,e){if(!a.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return a.isNoDocument()?new fg(a.key,mr.none()):new zc(a.key,a.data,mr.none());{const n=a.data,s=Mn.empty();let o=new Zt(fn.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new $s(a.key,s,new Qn(o.toArray()),mr.none())}}function TA(a,e,n){a instanceof zc?(function(o,u,f){const g=o.value.clone(),p=M1(o.fieldTransforms,u,f.transformResults);g.setAll(p),u.convertToFoundDocument(f.version,g).setHasCommittedMutations()})(a,e,n):a instanceof $s?(function(o,u,f){if(!jd(o.precondition,u))return void u.convertToUnknownDocument(f.version);const g=M1(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(_2(o)),p.setAll(g),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()})(a,e,n):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,n)}function pc(a,e,n,s){return a instanceof zc?(function(u,f,g,p){if(!jd(u.precondition,f))return g;const y=u.value.clone(),w=V1(u.fieldTransforms,p,f);return y.setAll(w),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null})(a,e,n,s):a instanceof $s?(function(u,f,g,p){if(!jd(u.precondition,f))return g;const y=V1(u.fieldTransforms,p,f),w=f.data;return w.setAll(_2(u)),w.setAll(y),f.convertToFoundDocument(f.version,w).setHasLocalMutations(),g===null?null:g.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((N=>N.field)))})(a,e,n,s):(function(u,f,g){return jd(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):g})(a,e,n)}function kA(a,e){let n=null;for(const s of a.fieldTransforms){const o=e.data.field(s.field),u=p2(s.transform,o||null);u!=null&&(n===null&&(n=Mn.empty()),n.set(s.field,u))}return n||null}function O1(a,e){return a.type===e.type&&!!a.key.isEqual(e.key)&&!!a.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Bl(s,o,((u,f)=>NA(u,f)))})(a.fieldTransforms,e.fieldTransforms)&&(a.type===0?a.value.isEqual(e.value):a.type!==1||a.data.isEqual(e.data)&&a.fieldMask.isEqual(e.fieldMask))}class zc extends wh{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class $s extends wh{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function _2(a){const e=new Map;return a.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=a.data.field(n);e.set(n,s)}})),e}function M1(a,e,n){const s=new Map;it(a.length===n.length,32656,{Re:n.length,Ve:a.length});for(let o=0;o<n.length;o++){const u=a[o],f=u.transform,g=e.data.field(u.field);s.set(u.field,_A(f,g,n[o]))}return s}function V1(a,e,n){const s=new Map;for(const o of a){const u=o.transform,f=n.data.field(o.field);s.set(o.field,wA(u,f,e))}return s}class fg extends wh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class jA extends wh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SA{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&TA(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=pc(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=pc(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=f2();return this.mutations.forEach((o=>{const u=e.get(o.key),f=u.overlayedDocument;let g=this.applyToLocalView(f,u.mutatedFields);g=n.has(o.key)?null:g;const p=w2(f,g);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(De.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ye())}isEqual(e){return this.batchId===e.batchId&&Bl(this.mutations,e.mutations,((n,s)=>O1(n,s)))&&Bl(this.baseMutations,e.baseMutations,((n,s)=>O1(n,s)))}}class mg{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){it(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return yA})();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new mg(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AA{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CA{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gt,We;function RA(a){switch(a){case ee.OK:return Ce(64938);case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0;default:return Ce(15467,{code:a})}}function N2(a){if(a===void 0)return Ha("GRPC error has no .code"),ee.UNKNOWN;switch(a){case Gt.OK:return ee.OK;case Gt.CANCELLED:return ee.CANCELLED;case Gt.UNKNOWN:return ee.UNKNOWN;case Gt.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case Gt.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case Gt.INTERNAL:return ee.INTERNAL;case Gt.UNAVAILABLE:return ee.UNAVAILABLE;case Gt.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case Gt.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case Gt.NOT_FOUND:return ee.NOT_FOUND;case Gt.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case Gt.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case Gt.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case Gt.ABORTED:return ee.ABORTED;case Gt.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case Gt.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case Gt.DATA_LOSS:return ee.DATA_LOSS;default:return Ce(39323,{code:a})}}(We=Gt||(Gt={}))[We.OK=0]="OK",We[We.CANCELLED=1]="CANCELLED",We[We.UNKNOWN=2]="UNKNOWN",We[We.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",We[We.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",We[We.NOT_FOUND=5]="NOT_FOUND",We[We.ALREADY_EXISTS=6]="ALREADY_EXISTS",We[We.PERMISSION_DENIED=7]="PERMISSION_DENIED",We[We.UNAUTHENTICATED=16]="UNAUTHENTICATED",We[We.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",We[We.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",We[We.ABORTED=10]="ABORTED",We[We.OUT_OF_RANGE=11]="OUT_OF_RANGE",We[We.UNIMPLEMENTED=12]="UNIMPLEMENTED",We[We.INTERNAL=13]="INTERNAL",We[We.UNAVAILABLE=14]="UNAVAILABLE",We[We.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IA(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DA=new Os([4294967295,4294967295],0);function L1(a){const e=IA().encode(a),n=new Vw;return n.update(e),new Uint8Array(n.digest())}function P1(a){const e=new DataView(a.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Os([n,s],0),new Os([o,u],0)]}class gg{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new cc(`Invalid padding: ${n}`);if(s<0)throw new cc(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new cc(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new cc(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Os.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(Os.fromNumber(s)));return o.compare(DA)===1&&(o=new Os([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=L1(e),[s,o]=P1(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);if(!this.we(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new gg(u,o,n);return s.forEach((g=>f.insert(g))),f}insert(e){if(this.ge===0)return;const n=L1(e),[s,o]=P1(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);this.Se(f)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class cc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,Uc.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new _h(De.min(),o,new St(Ke),Fa(),Ye())}}class Uc{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Uc(s,n,Ye(),Ye(),Ye())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{constructor(e,n,s,o){this.be=e,this.removedTargetIds=n,this.key=s,this.De=o}}class E2{constructor(e,n){this.targetId=e,this.Ce=n}}class T2{constructor(e,n,s=mn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class z1{constructor(){this.ve=0,this.Fe=U1(),this.Me=mn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ye(),n=Ye(),s=Ye();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Ce(38017,{changeType:u})}})),new Uc(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=U1()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,it(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class OA{constructor(e){this.Ge=e,this.ze=new Map,this.je=Fa(),this.Je=xd(),this.He=xd(),this.Ye=new St(Ke)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Ce(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(Rm(u))if(s===0){const f=new ke(u.path);this.et(n,f,xn.newNoDocument(f,De.min()))}else it(s===1,20013,{expectedCount:s});else{const f=this._t(n);if(f!==s){const g=this.ut(e),p=g?this.ct(g,e,f):1;if(p!==0){this.it(n);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,y)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,g;try{f=qs(s).toUint8Array()}catch(p){if(p instanceof Kw)return ql("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{g=new gg(f,o,u)}catch(p){return ql(p instanceof cc?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return g.ge===0?null:g}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const f=this.Ge.ht(),g=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(g)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,f)=>{const g=this.ot(f);if(g){if(u.current&&Rm(g.target)){const p=new ke(g.target.path);this.It(p).has(f)||this.Et(f,p)||this.et(f,p,xn.newNoDocument(p,e))}u.Be&&(n.set(f,u.ke()),u.qe())}}));let s=Ye();this.He.forEach(((u,f)=>{let g=!0;f.forEachWhile((p=>{const y=this.ot(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(s=s.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(e)));const o=new _h(e,n,this.Ye,this.je,s);return this.je=Fa(),this.Je=xd(),this.He=xd(),this.Ye=new St(Ke),o}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new z1,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Zt(Ke),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Zt(Ke),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||pe("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new z1),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function xd(){return new St(ke.comparator)}function U1(){return new St(ke.comparator)}const MA={asc:"ASCENDING",desc:"DESCENDING"},VA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},LA={and:"AND",or:"OR"};class PA{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Dm(a,e){return a.useProto3Json||gh(e)?e:{value:e}}function Zd(a,e){return a.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function k2(a,e){return a.useProto3Json?e.toBase64():e.toUint8Array()}function zA(a,e){return Zd(a,e.toTimestamp())}function oa(a){return it(!!a,49232),De.fromTimestamp((function(n){const s=Us(n);return new Nt(s.seconds,s.nanos)})(a))}function pg(a,e){return Om(a,e).canonicalString()}function Om(a,e){const n=(function(o){return new xt(["projects",o.projectId,"databases",o.database])})(a).child("documents");return e===void 0?n:n.child(e)}function j2(a){const e=xt.fromString(a);return it(I2(e),10190,{key:e.toString()}),e}function Mm(a,e){return pg(a.databaseId,e.path)}function Y0(a,e){const n=j2(e);if(n.get(1)!==a.databaseId.projectId)throw new ge(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+a.databaseId.projectId);if(n.get(3)!==a.databaseId.database)throw new ge(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+a.databaseId.database);return new ke(A2(n))}function S2(a,e){return pg(a.databaseId,e)}function UA(a){const e=j2(a);return e.length===4?xt.emptyPath():A2(e)}function Vm(a){return new xt(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function A2(a){return it(a.length>4&&a.get(4)==="documents",29091,{key:a.toString()}),a.popFirst(5)}function q1(a,e,n){return{name:Mm(a,e),fields:n.value.mapValue.fields}}function qA(a,e){let n;if("targetChange"in e){e.targetChange;const s=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Ce(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(y,w){return y.useProto3Json?(it(w===void 0||typeof w=="string",58123),mn.fromBase64String(w||"")):(it(w===void 0||w instanceof Buffer||w instanceof Uint8Array,16193),mn.fromUint8Array(w||new Uint8Array))})(a,e.targetChange.resumeToken),f=e.targetChange.cause,g=f&&(function(y){const w=y.code===void 0?ee.UNKNOWN:N2(y.code);return new ge(w,y.message||"")})(f);n=new T2(s,o,u,g||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Y0(a,s.document.name),u=oa(s.document.updateTime),f=s.document.createTime?oa(s.document.createTime):De.min(),g=new Mn({mapValue:{fields:s.document.fields}}),p=xn.newFoundDocument(o,u,f,g),y=s.targetIds||[],w=s.removedTargetIds||[];n=new Sd(y,w,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Y0(a,s.document),u=s.readTime?oa(s.readTime):De.min(),f=xn.newNoDocument(o,u),g=s.removedTargetIds||[];n=new Sd([],g,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Y0(a,s.document),u=s.removedTargetIds||[];n=new Sd([],u,o,null)}else{if(!("filter"in e))return Ce(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new CA(o,u),g=s.targetId;n=new E2(g,f)}}return n}function BA(a,e){let n;if(e instanceof zc)n={update:q1(a,e.key,e.value)};else if(e instanceof fg)n={delete:Mm(a,e.key)};else if(e instanceof $s)n={update:q1(a,e.key,e.data),updateMask:WA(e.fieldMask)};else{if(!(e instanceof jA))return Ce(16599,{Vt:e.type});n={verify:Mm(a,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,f){const g=f.transform;if(g instanceof Ac)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Cc)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Rc)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Ic)return{fieldPath:f.field.canonicalString(),increment:g.Ae};throw Ce(20930,{transform:f.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:zA(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ce(27497)})(a,e.precondition)),n}function HA(a,e){return a&&a.length>0?(it(e!==void 0,14353),a.map((n=>(function(o,u){let f=o.updateTime?oa(o.updateTime):oa(u);return f.isEqual(De.min())&&(f=oa(u)),new EA(f,o.transformResults||[])})(n,e)))):[]}function FA(a,e){return{documents:[S2(a,e.path)]}}function GA(a,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=S2(a,o);const u=(function(y){if(y.length!==0)return R2(Rr.create(y,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const f=(function(y){if(y.length!==0)return y.map((w=>(function(S){return{field:Il(S.field),direction:KA(S.dir)}})(w)))})(e.orderBy);f&&(n.structuredQuery.orderBy=f);const g=Dm(a,e.limit);return g!==null&&(n.structuredQuery.limit=g),e.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:n,parent:o}}function QA(a){let e=UA(a.parent);const n=a.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){it(s===1,65062);const w=n.from[0];w.allDescendants?o=w.collectionId:e=e.child(w.collectionId)}let u=[];n.where&&(u=(function(N){const S=C2(N);return S instanceof Rr&&a2(S)?S.getFilters():[S]})(n.where));let f=[];n.orderBy&&(f=(function(N){return N.map((S=>(function(F){return new Sc(Dl(F.field),(function(Y){switch(Y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(F.direction))})(S)))})(n.orderBy));let g=null;n.limit&&(g=(function(N){let S;return S=typeof N=="object"?N.value:N,gh(S)?null:S})(n.limit));let p=null;n.startAt&&(p=(function(N){const S=!!N.before,M=N.values||[];return new Xd(M,S)})(n.startAt));let y=null;return n.endAt&&(y=(function(N){const S=!N.before,M=N.values||[];return new Xd(M,S)})(n.endAt)),hA(e,o,f,u,g,"F",p,y)}function $A(a,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ce(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function C2(a){return a.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Dl(n.unaryFilter.field);return Qt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Dl(n.unaryFilter.field);return Qt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Dl(n.unaryFilter.field);return Qt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Dl(n.unaryFilter.field);return Qt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ce(61313);default:return Ce(60726)}})(a):a.fieldFilter!==void 0?(function(n){return Qt.create(Dl(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ce(58110);default:return Ce(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(a):a.compositeFilter!==void 0?(function(n){return Rr.create(n.compositeFilter.filters.map((s=>C2(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ce(1026)}})(n.compositeFilter.op))})(a):Ce(30097,{filter:a})}function KA(a){return MA[a]}function YA(a){return VA[a]}function XA(a){return LA[a]}function Il(a){return{fieldPath:a.canonicalString()}}function Dl(a){return fn.fromServerFormat(a.fieldPath)}function R2(a){return a instanceof Qt?(function(n){if(n.op==="=="){if(S1(n.value))return{unaryFilter:{field:Il(n.field),op:"IS_NAN"}};if(j1(n.value))return{unaryFilter:{field:Il(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(S1(n.value))return{unaryFilter:{field:Il(n.field),op:"IS_NOT_NAN"}};if(j1(n.value))return{unaryFilter:{field:Il(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Il(n.field),op:YA(n.op),value:n.value}}})(a):a instanceof Rr?(function(n){const s=n.getFilters().map((o=>R2(o)));return s.length===1?s[0]:{compositeFilter:{op:XA(n.op),filters:s}}})(a):Ce(54877,{filter:a})}function WA(a){const e=[];return a.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function I2(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(e,n,s,o,u=De.min(),f=De.min(),g=mn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=g,this.expectedCount=p}withSequenceNumber(e){return new Rs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Rs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Rs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Rs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZA{constructor(e){this.yt=e}}function JA(a){const e=QA({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?Wd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e6{constructor(){this.Cn=new t6}addToCollectionParentIndex(e,n){return this.Cn.add(n),ne.resolve()}getCollectionParents(e,n){return ne.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ne.resolve()}deleteFieldIndex(e,n){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,n){return ne.resolve()}getDocumentsMatchingTarget(e,n){return ne.resolve(null)}getIndexType(e,n){return ne.resolve(0)}getFieldIndexes(e,n){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,n){return ne.resolve(zs.min())}getMinOffsetFromCollectionGroup(e,n){return ne.resolve(zs.min())}updateCollectionGroup(e,n,s){return ne.resolve()}updateIndexEntries(e,n){return ne.resolve()}}class t6{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Zt(xt.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Zt(xt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},D2=41943040;class On{static withCacheSize(e){return new On(e,On.DEFAULT_COLLECTION_PERCENTILE,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */On.DEFAULT_COLLECTION_PERCENTILE=10,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,On.DEFAULT=new On(D2,On.DEFAULT_COLLECTION_PERCENTILE,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),On.DISABLED=new On(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Gl(0)}static cr(){return new Gl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H1="LruGarbageCollector",n6=1048576;function F1([a,e],[n,s]){const o=Ke(a,n);return o===0?Ke(e,s):o}class r6{constructor(e){this.Ir=e,this.buffer=new Zt(F1),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();F1(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class a6{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){pe(H1,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Jl(n)?pe(H1,"Ignoring IndexedDB error during garbage collection: ",n):await Zl(n)}await this.Vr(3e5)}))}}class s6{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return ne.resolve(mh.ce);const s=new r6(n);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(pe("LruGarbageCollector","Garbage collection skipped; disabled"),ne.resolve(B1)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),B1):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,o,u,f,g,p,y;const w=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((N=>(N>this.params.maximumSequenceNumbersToCollect?(pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${N}`),o=this.params.maximumSequenceNumbersToCollect):o=N,f=Date.now(),this.nthSequenceNumber(e,o)))).next((N=>(s=N,g=Date.now(),this.removeTargets(e,s,n)))).next((N=>(u=N,p=Date.now(),this.removeOrphanedDocuments(e,s)))).next((N=>(y=Date.now(),Cl()<=$e.DEBUG&&pe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-w}ms
	Determined least recently used ${o} in `+(g-f)+`ms
	Removed ${u} targets in `+(p-g)+`ms
	Removed ${N} documents in `+(y-p)+`ms
Total Duration: ${y-w}ms`),ne.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:N}))))}}function i6(a,e){return new s6(a,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l6{constructor(){this.changes=new qi((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,xn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ne.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o6{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c6{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&pc(s.mutation,o,Qn.empty(),Nt.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Ye()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Ye()){const o=Ei();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((u=>{let f=oc();return u.forEach(((g,p)=>{f=f.insert(g,p.overlayedDocument)})),f}))))}getOverlayedDocuments(e,n){const s=Ei();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Ye())))}populateOverlays(e,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((f,g)=>{n.set(f,g)}))}))}computeViews(e,n,s,o){let u=Fa();const f=gc(),g=(function(){return gc()})();return n.forEach(((p,y)=>{const w=s.get(y.key);o.has(y.key)&&(w===void 0||w.mutation instanceof $s)?u=u.insert(y.key,y):w!==void 0?(f.set(y.key,w.mutation.getFieldMask()),pc(w.mutation,y,w.mutation.getFieldMask(),Nt.now())):f.set(y.key,Qn.empty())})),this.recalculateAndSaveOverlays(e,u).next((p=>(p.forEach(((y,w)=>f.set(y,w))),n.forEach(((y,w)=>g.set(y,new o6(w,f.get(y)??null)))),g)))}recalculateAndSaveOverlays(e,n){const s=gc();let o=new St(((f,g)=>f-g)),u=Ye();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((f=>{for(const g of f)g.keys().forEach((p=>{const y=n.get(p);if(y===null)return;let w=s.get(p)||Qn.empty();w=g.applyToLocalView(y,w),s.set(p,w);const N=(o.get(g.batchId)||Ye()).add(p);o=o.insert(g.batchId,N)}))})).next((()=>{const f=[],g=o.getReverseIterator();for(;g.hasNext();){const p=g.getNext(),y=p.key,w=p.value,N=f2();w.forEach((S=>{if(!u.has(S)){const M=w2(n.get(S),s.get(S));M!==null&&N.set(S,M),u=u.add(S)}})),f.push(this.documentOverlayCache.saveOverlays(e,y,N))}return ne.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return(function(f){return ke.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):o2(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):ne.resolve(Ei());let g=Ec,p=u;return f.next((y=>ne.forEach(y,((w,N)=>(g<N.largestBatchId&&(g=N.largestBatchId),u.get(w)?ne.resolve():this.remoteDocumentCache.getEntry(e,w).next((S=>{p=p.insert(w,S)}))))).next((()=>this.populateOverlays(e,y,u))).next((()=>this.computeViews(e,p,y,Ye()))).next((w=>({batchId:g,changes:h2(w)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ke(n)).next((s=>{let o=oc();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=oc();return this.indexManager.getCollectionParents(e,u).next((g=>ne.forEach(g,(p=>{const y=(function(N,S){return new eo(S,null,N.explicitOrderBy.slice(),N.filters.slice(),N.limit,N.limitType,N.startAt,N.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next((w=>{w.forEach(((N,S)=>{f=f.insert(N,S)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o)))).next((f=>{u.forEach(((p,y)=>{const w=y.getKey();f.get(w)===null&&(f=f.insert(w,xn.newInvalidDocument(w)))}));let g=oc();return f.forEach(((p,y)=>{const w=u.get(p);w!==void 0&&pc(w.mutation,y,Qn.empty(),Nt.now()),bh(n,y)&&(g=g.insert(p,y))})),g}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u6{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ne.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:oa(o.createTime)}})(n)),ne.resolve()}getNamedQuery(e,n){return ne.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:JA(o.bundledQuery),readTime:oa(o.readTime)}})(n)),ne.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d6{constructor(){this.overlays=new St(ke.comparator),this.qr=new Map}getOverlay(e,n){return ne.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Ei();return ne.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,u)=>{this.St(e,n,u)})),ne.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),ne.resolve()}getOverlaysForCollection(e,n,s){const o=Ei(),u=n.length+1,f=new ke(n.child("")),g=this.overlays.getIteratorFrom(f);for(;g.hasNext();){const p=g.getNext().value,y=p.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return ne.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new St(((y,w)=>y-w));const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>s){let w=u.get(y.largestBatchId);w===null&&(w=Ei(),u=u.insert(y.largestBatchId,w)),w.set(y.getKey(),y)}}const g=Ei(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((y,w)=>g.set(y,w))),!(g.size()>=o)););return ne.resolve(g)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new AA(n,s));let u=this.qr.get(n);u===void 0&&(u=Ye(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h6{constructor(){this.sessionToken=mn.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ne.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{constructor(){this.Qr=new Zt(rn.$r),this.Ur=new Zt(rn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new rn(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new rn(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new ke(new xt([])),s=new rn(n,e),o=new rn(n,e+1),u=[];return this.Ur.forEachInRange([s,o],(f=>{this.Gr(f),u.push(f.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ke(new xt([])),s=new rn(n,e),o=new rn(n,e+1);let u=Ye();return this.Ur.forEachInRange([s,o],(f=>{u=u.add(f.key)})),u}containsKey(e){const n=new rn(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class rn{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ke.comparator(e.key,n.key)||Ke(e.Yr,n.Yr)}static Kr(e,n){return Ke(e.Yr,n.Yr)||ke.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f6{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Zt(rn.$r)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new SA(u,n,s,o);this.mutationQueue.push(f);for(const g of o)this.Zr=this.Zr.add(new rn(g.key,u)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return ne.resolve(f)}lookupMutationBatch(e,n){return ne.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return ne.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?lg:this.tr-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new rn(n,0),o=new rn(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(f=>{const g=this.Xr(f.Yr);u.push(g)})),ne.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Zt(Ke);return n.forEach((o=>{const u=new rn(o,0),f=new rn(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],(g=>{s=s.add(g.Yr)}))})),ne.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;ke.isDocumentKey(u)||(u=u.child(""));const f=new rn(new ke(u),0);let g=new Zt(Ke);return this.Zr.forEachWhile((p=>{const y=p.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(g=g.add(p.Yr)),!0)}),f),ne.resolve(this.ti(g))}ti(e){const n=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){it(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return ne.forEach(n.mutations,(o=>{const u=new rn(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new rn(n,0),o=this.Zr.firstAfterOrEqual(s);return ne.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m6{constructor(e){this.ri=e,this.docs=(function(){return new St(ke.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ne.resolve(s?s.document.mutableCopy():xn.newInvalidDocument(n))}getEntries(e,n){let s=Fa();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():xn.newInvalidDocument(o))})),ne.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=Fa();const f=n.path,g=new ke(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(g);for(;p.hasNext();){const{key:y,value:{document:w}}=p.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||FS(HS(w),s)<=0||(o.has(w.key)||bh(n,w))&&(u=u.insert(w.key,w.mutableCopy()))}return ne.resolve(u)}getAllFromCollectionGroup(e,n,s,o){Ce(9500)}ii(e,n){return ne.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new g6(this)}getSize(e){return ne.resolve(this.size)}}class g6 extends l6{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),ne.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p6{constructor(e){this.persistence=e,this.si=new qi((n=>ug(n)),dg),this.lastRemoteSnapshotVersion=De.min(),this.highestTargetId=0,this.oi=0,this._i=new yg,this.targetCount=0,this.ai=Gl.ur()}forEachTarget(e,n){return this.si.forEach(((s,o)=>n(o))),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),ne.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Gl(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ne.resolve()}updateTargetData(e,n){return this.Pr(n),ne.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.si.forEach(((f,g)=>{g.sequenceNumber<=n&&s.get(g.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(e,g.targetId)),o++)})),ne.waitFor(u).next((()=>o))}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return ne.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),ne.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((f=>{u.push(o.markPotentiallyOrphaned(e,f))})),ne.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ne.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return ne.resolve(s)}containsKey(e,n){return ne.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O2{constructor(e,n){this.ui={},this.overlays={},this.ci=new mh(0),this.li=!1,this.li=!0,this.hi=new h6,this.referenceDelegate=e(this),this.Pi=new p6(this),this.indexManager=new e6,this.remoteDocumentCache=(function(o){return new m6(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new ZA(n),this.Ii=new u6(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new d6,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new f6(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){pe("MemoryPersistence","Starting transaction:",e);const o=new y6(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,n){return ne.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class y6 extends QS{constructor(e){super(),this.currentSequenceNumber=e}}class xg{constructor(e){this.persistence=e,this.Ri=new yg,this.Vi=null}static mi(e){return new xg(e)}get fi(){if(this.Vi)return this.Vi;throw Ce(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),ne.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),ne.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ne.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.fi,(s=>{const o=ke.fromPath(s);return this.gi(e,o).next((u=>{u||n.removeEntry(o,De.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ne.or([()=>ne.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Jd{constructor(e,n){this.persistence=e,this.pi=new qi((s=>YS(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=i6(this,n)}static mi(e,n){return new Jd(e,n)}Ei(){}di(e){return ne.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return ne.forEach(this.pi,((s,o)=>this.br(e,s,o).next((u=>u?ne.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(f=>this.br(e,f,n).next((g=>{g||(s++,u.removeEntry(f,De.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ne.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ne.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ne.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ne.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Td(e.data.value)),n}br(e,n,s){return ne.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return ne.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bg{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=o}static As(e,n){let s=Ye(),o=Ye();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new bg(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x6{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b6{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return GT()?8:$S(bn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ys(e,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ws(e,n,o,s).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new x6;return this.Ss(e,n,f).next((g=>{if(u.result=g,this.Vs)return this.bs(e,n,f,g.size)}))})).next((()=>u.result))}bs(e,n,s,o){return s.documentReadCount<this.fs?(Cl()<=$e.DEBUG&&pe("QueryEngine","SDK will not create cache indexes for query:",Rl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ne.resolve()):(Cl()<=$e.DEBUG&&pe("QueryEngine","Query:",Rl(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(Cl()<=$e.DEBUG&&pe("QueryEngine","The SDK decides to create cache indexes for query:",Rl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,la(n))):ne.resolve())}ys(e,n){if(I1(n))return ne.resolve(null);let s=la(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Wd(n,null,"F"),s=la(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const f=Ye(...u);return this.ps.getDocuments(e,f).next((g=>this.indexManager.getMinOffset(e,s).next((p=>{const y=this.Ds(n,g);return this.Cs(n,y,f,p.readTime)?this.ys(e,Wd(n,null,"F")):this.vs(e,y,n,p)}))))})))))}ws(e,n,s,o){return I1(n)||o.isEqual(De.min())?ne.resolve(null):this.ps.getDocuments(e,s).next((u=>{const f=this.Ds(n,u);return this.Cs(n,f,s,o)?ne.resolve(null):(Cl()<=$e.DEBUG&&pe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Rl(n)),this.vs(e,f,n,BS(o,Ec)).next((g=>g)))}))}Ds(e,n){let s=new Zt(u2(e));return n.forEach(((o,u)=>{bh(e,u)&&(s=s.add(u))})),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,s){return Cl()<=$e.DEBUG&&pe("QueryEngine","Using full collection scan to execute query:",Rl(n)),this.ps.getDocumentsMatchingQuery(e,n,zs.min(),s)}vs(e,n,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vg="LocalStore",v6=3e8;class w6{constructor(e,n,s,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new St(Ke),this.xs=new qi((u=>ug(u)),dg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new c6(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function _6(a,e,n,s){return new w6(a,e,n,s)}async function M2(a,e){const n=Me(a);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const f=[],g=[];let p=Ye();for(const y of o){f.push(y.batchId);for(const w of y.mutations)p=p.add(w.key)}for(const y of u){g.push(y.batchId);for(const w of y.mutations)p=p.add(w.key)}return n.localDocuments.getDocuments(s,p).next((y=>({Ls:y,removedBatchIds:f,addedBatchIds:g})))}))}))}function N6(a,e){const n=Me(a);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,p,y,w){const N=y.batch,S=N.keys();let M=ne.resolve();return S.forEach((F=>{M=M.next((()=>w.getEntry(p,F))).next((re=>{const Y=y.docVersions.get(F);it(Y!==null,48541),re.version.compareTo(Y)<0&&(N.applyToRemoteDocument(re,y),re.isValidDocument()&&(re.setReadTime(y.commitVersion),w.addEntry(re)))}))})),M.next((()=>g.mutationQueue.removeMutationBatch(p,N)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(g){let p=Ye();for(let y=0;y<g.mutationResults.length;++y)g.mutationResults[y].transformResults.length>0&&(p=p.add(g.batch.mutations[y].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function V2(a){const e=Me(a);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function E6(a,e){const n=Me(a),s=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const g=[];e.targetChanges.forEach(((w,N)=>{const S=o.get(N);if(!S)return;g.push(n.Pi.removeMatchingKeys(u,w.removedDocuments,N).next((()=>n.Pi.addMatchingKeys(u,w.addedDocuments,N))));let M=S.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(N)!==null?M=M.withResumeToken(mn.EMPTY_BYTE_STRING,De.min()).withLastLimboFreeSnapshotVersion(De.min()):w.resumeToken.approximateByteSize()>0&&(M=M.withResumeToken(w.resumeToken,s)),o=o.insert(N,M),(function(re,Y,oe){return re.resumeToken.approximateByteSize()===0||Y.snapshotVersion.toMicroseconds()-re.snapshotVersion.toMicroseconds()>=v6?!0:oe.addedDocuments.size+oe.modifiedDocuments.size+oe.removedDocuments.size>0})(S,M,w)&&g.push(n.Pi.updateTargetData(u,M))}));let p=Fa(),y=Ye();if(e.documentUpdates.forEach((w=>{e.resolvedLimboDocuments.has(w)&&g.push(n.persistence.referenceDelegate.updateLimboDocument(u,w))})),g.push(T6(u,f,e.documentUpdates).next((w=>{p=w.ks,y=w.qs}))),!s.isEqual(De.min())){const w=n.Pi.getLastRemoteSnapshotVersion(u).next((N=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));g.push(w)}return ne.waitFor(g).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,y))).next((()=>p))})).then((u=>(n.Ms=o,u)))}function T6(a,e,n){let s=Ye(),o=Ye();return n.forEach((u=>s=s.add(u))),e.getEntries(a,s).next((u=>{let f=Fa();return n.forEach(((g,p)=>{const y=u.get(g);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(g)),p.isNoDocument()&&p.version.isEqual(De.min())?(e.removeEntry(g,p.readTime),f=f.insert(g,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),f=f.insert(g,p)):pe(vg,"Ignoring outdated watch update for ",g,". Current version:",y.version," Watch version:",p.version)})),{ks:f,qs:o}}))}function k6(a,e){const n=Me(a);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=lg),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function j6(a,e){const n=Me(a);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,e).next((u=>u?(o=u,ne.resolve(o)):n.Pi.allocateTargetId(s).next((f=>(o=new Rs(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function Lm(a,e,n){const s=Me(a),o=s.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(f=>s.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!Jl(f))throw f;pe(vg,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function G1(a,e,n){const s=Me(a);let o=De.min(),u=Ye();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(p,y,w){const N=Me(p),S=N.xs.get(w);return S!==void 0?ne.resolve(N.Ms.get(S)):N.Pi.getTargetData(y,w)})(s,f,la(e)).next((g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(f,g.targetId).next((p=>{u=p}))})).next((()=>s.Fs.getDocumentsMatchingQuery(f,e,n?o:De.min(),n?u:Ye()))).next((g=>(S6(s,mA(e),g),{documents:g,Qs:u})))))}function S6(a,e,n){let s=a.Os.get(e)||De.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),a.Os.set(e,s)}class Q1{constructor(){this.activeTargetIds=vA()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class A6{constructor(){this.Mo=new Q1,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Q1,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C6{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $1="ConnectivityMonitor";class K1{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){pe($1,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){pe($1,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bd=null;function Pm(){return bd===null?bd=(function(){return 268435456+Math.round(2147483648*Math.random())})():bd++,"0x"+bd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X0="RestConnection",R6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class I6{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===Kd?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,n,s,o,u){const f=Pm(),g=this.zo(e,n.toUriEncodedString());pe(X0,`Sending RPC '${e}' ${f}:`,g,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:y}=new URL(g),w=Kl(y);return this.Jo(e,g,p,s,w).then((N=>(pe(X0,`Received RPC '${e}' ${f}: `,N),N)),(N=>{throw ql(X0,`RPC '${e}' ${f} failed with error: `,N,"url: ",g,"request:",s),N}))}Ho(e,n,s,o,u,f){return this.Go(e,n,s,o,u)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Wl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}zo(e,n){const s=R6[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D6{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pn="WebChannelConnection";class O6 extends I6{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,u){const f=Pm();return new Promise(((g,p)=>{const y=new Lw;y.setWithCredentials(!0),y.listenOnce(Pw.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Ed.NO_ERROR:const N=y.getResponseJson();pe(pn,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(N)),g(N);break;case Ed.TIMEOUT:pe(pn,`RPC '${e}' ${f} timed out`),p(new ge(ee.DEADLINE_EXCEEDED,"Request time out"));break;case Ed.HTTP_ERROR:const S=y.getStatus();if(pe(pn,`RPC '${e}' ${f} failed with status:`,S,"response text:",y.getResponseText()),S>0){let M=y.getResponseJson();Array.isArray(M)&&(M=M[0]);const F=M==null?void 0:M.error;if(F&&F.status&&F.message){const re=(function(oe){const ue=oe.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(ue)>=0?ue:ee.UNKNOWN})(F.status);p(new ge(re,F.message))}else p(new ge(ee.UNKNOWN,"Server responded with status "+y.getStatus()))}else p(new ge(ee.UNAVAILABLE,"Connection failed."));break;default:Ce(9055,{l_:e,streamId:f,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{pe(pn,`RPC '${e}' ${f} completed.`)}}));const w=JSON.stringify(o);pe(pn,`RPC '${e}' ${f} sending request:`,o),y.send(n,"POST",w,s,15)}))}T_(e,n,s){const o=Pm(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=qw(),g=Uw(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const w=u.join("");pe(pn,`Creating RPC '${e}' stream ${o}: ${w}`,p);const N=f.createWebChannel(w,p);this.I_(N);let S=!1,M=!1;const F=new D6({Yo:Y=>{M?pe(pn,`Not sending because RPC '${e}' stream ${o} is closed:`,Y):(S||(pe(pn,`Opening RPC '${e}' stream ${o} transport.`),N.open(),S=!0),pe(pn,`RPC '${e}' stream ${o} sending:`,Y),N.send(Y))},Zo:()=>N.close()}),re=(Y,oe,ue)=>{Y.listen(oe,(le=>{try{ue(le)}catch(je){setTimeout((()=>{throw je}),0)}}))};return re(N,lc.EventType.OPEN,(()=>{M||(pe(pn,`RPC '${e}' stream ${o} transport opened.`),F.o_())})),re(N,lc.EventType.CLOSE,(()=>{M||(M=!0,pe(pn,`RPC '${e}' stream ${o} transport closed`),F.a_(),this.E_(N))})),re(N,lc.EventType.ERROR,(Y=>{M||(M=!0,ql(pn,`RPC '${e}' stream ${o} transport errored. Name:`,Y.name,"Message:",Y.message),F.a_(new ge(ee.UNAVAILABLE,"The operation could not be completed")))})),re(N,lc.EventType.MESSAGE,(Y=>{var oe;if(!M){const ue=Y.data[0];it(!!ue,16349);const le=ue,je=(le==null?void 0:le.error)||((oe=le[0])==null?void 0:oe.error);if(je){pe(pn,`RPC '${e}' stream ${o} received error:`,je);const ae=je.status;let B=(function(j){const D=Gt[j];if(D!==void 0)return N2(D)})(ae),k=je.message;B===void 0&&(B=ee.INTERNAL,k="Unknown error status: "+ae+" with message "+je.message),M=!0,F.a_(new ge(B,k)),N.close()}else pe(pn,`RPC '${e}' stream ${o} received:`,ue),F.u_(ue)}})),re(g,zw.STAT_EVENT,(Y=>{Y.stat===km.PROXY?pe(pn,`RPC '${e}' stream ${o} detected buffering proxy`):Y.stat===km.NOPROXY&&pe(pn,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{F.__()}),0),F}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function W0(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nh(a){return new PA(a,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L2{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&pe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y1="PersistentStream";class P2{constructor(e,n,s,o,u,f,g,p){this.Mi=e,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=g,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new L2(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ee.RESOURCE_EXHAUSTED?(Ha(n.toString()),Ha("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new ge(ee.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return pe(Y1,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(pe(Y1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class M6 extends P2{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=qA(this.serializer,e),s=(function(u){if(!("targetChange"in u))return De.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?De.min():f.readTime?oa(f.readTime):De.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=Vm(this.serializer),n.addTarget=(function(u,f){let g;const p=f.target;if(g=Rm(p)?{documents:FA(u,p)}:{query:GA(u,p).ft},g.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){g.resumeToken=k2(u,f.resumeToken);const y=Dm(u,f.expectedCount);y!==null&&(g.expectedCount=y)}else if(f.snapshotVersion.compareTo(De.min())>0){g.readTime=Zd(u,f.snapshotVersion.toTimestamp());const y=Dm(u,f.expectedCount);y!==null&&(g.expectedCount=y)}return g})(this.serializer,e);const s=$A(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=Vm(this.serializer),n.removeTarget=e,this.q_(n)}}class V6 extends P2{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return it(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,it(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){it(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=HA(e.writeResults,e.commitTime),s=oa(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=Vm(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>BA(this.serializer,s)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L6{}class P6 extends L6{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ge(ee.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Go(e,Om(n,s),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ge(ee.UNKNOWN,u.toString())}))}Ho(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,g])=>this.connection.Ho(e,Om(n,s),o,f,g,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ge(ee.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class z6{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ha(n),this.aa=!1):pe("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mi="RemoteStore";class U6{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((f=>{s.enqueueAndForget((async()=>{Bi(this)&&(pe(Mi,"Restarting streams for network reachability change."),await(async function(p){const y=Me(p);y.Ea.add(4),await qc(y),y.Ra.set("Unknown"),y.Ea.delete(4),await Eh(y)})(this))}))})),this.Ra=new z6(s,o)}}async function Eh(a){if(Bi(a))for(const e of a.da)await e(!0)}async function qc(a){for(const e of a.da)await e(!1)}function z2(a,e){const n=Me(a);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Eg(n)?Ng(n):to(n).O_()&&_g(n,e))}function wg(a,e){const n=Me(a),s=to(n);n.Ia.delete(e),s.O_()&&U2(n,e),n.Ia.size===0&&(s.O_()?s.L_():Bi(n)&&n.Ra.set("Unknown"))}function _g(a,e){if(a.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(De.min())>0){const n=a.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}to(a).Y_(e)}function U2(a,e){a.Va.Ue(e),to(a).Z_(e)}function Ng(a){a.Va=new OA({getRemoteKeysForTarget:e=>a.remoteSyncer.getRemoteKeysForTarget(e),At:e=>a.Ia.get(e)||null,ht:()=>a.datastore.serializer.databaseId}),to(a).start(),a.Ra.ua()}function Eg(a){return Bi(a)&&!to(a).x_()&&a.Ia.size>0}function Bi(a){return Me(a).Ea.size===0}function q2(a){a.Va=void 0}async function q6(a){a.Ra.set("Online")}async function B6(a){a.Ia.forEach(((e,n)=>{_g(a,e)}))}async function H6(a,e){q2(a),Eg(a)?(a.Ra.ha(e),Ng(a)):a.Ra.set("Unknown")}async function F6(a,e,n){if(a.Ra.set("Online"),e instanceof T2&&e.state===2&&e.cause)try{await(async function(o,u){const f=u.cause;for(const g of u.targetIds)o.Ia.has(g)&&(await o.remoteSyncer.rejectListen(g,f),o.Ia.delete(g),o.Va.removeTarget(g))})(a,e)}catch(s){pe(Mi,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await eh(a,s)}else if(e instanceof Sd?a.Va.Ze(e):e instanceof E2?a.Va.st(e):a.Va.tt(e),!n.isEqual(De.min()))try{const s=await V2(a.localStore);n.compareTo(s)>=0&&await(function(u,f){const g=u.Va.Tt(f);return g.targetChanges.forEach(((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const w=u.Ia.get(y);w&&u.Ia.set(y,w.withResumeToken(p.resumeToken,f))}})),g.targetMismatches.forEach(((p,y)=>{const w=u.Ia.get(p);if(!w)return;u.Ia.set(p,w.withResumeToken(mn.EMPTY_BYTE_STRING,w.snapshotVersion)),U2(u,p);const N=new Rs(w.target,p,y,w.sequenceNumber);_g(u,N)})),u.remoteSyncer.applyRemoteEvent(g)})(a,n)}catch(s){pe(Mi,"Failed to raise snapshot:",s),await eh(a,s)}}async function eh(a,e,n){if(!Jl(e))throw e;a.Ea.add(1),await qc(a),a.Ra.set("Offline"),n||(n=()=>V2(a.localStore)),a.asyncQueue.enqueueRetryable((async()=>{pe(Mi,"Retrying IndexedDB access"),await n(),a.Ea.delete(1),await Eh(a)}))}function B2(a,e){return e().catch((n=>eh(a,n,e)))}async function Th(a){const e=Me(a),n=Hs(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:lg;for(;G6(e);)try{const o=await k6(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,Q6(e,o)}catch(o){await eh(e,o)}H2(e)&&F2(e)}function G6(a){return Bi(a)&&a.Ta.length<10}function Q6(a,e){a.Ta.push(e);const n=Hs(a);n.O_()&&n.X_&&n.ea(e.mutations)}function H2(a){return Bi(a)&&!Hs(a).x_()&&a.Ta.length>0}function F2(a){Hs(a).start()}async function $6(a){Hs(a).ra()}async function K6(a){const e=Hs(a);for(const n of a.Ta)e.ea(n.mutations)}async function Y6(a,e,n){const s=a.Ta.shift(),o=mg.from(s,e,n);await B2(a,(()=>a.remoteSyncer.applySuccessfulWrite(o))),await Th(a)}async function X6(a,e){e&&Hs(a).X_&&await(async function(s,o){if((function(f){return RA(f)&&f!==ee.ABORTED})(o.code)){const u=s.Ta.shift();Hs(s).B_(),await B2(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Th(s)}})(a,e),H2(a)&&F2(a)}async function X1(a,e){const n=Me(a);n.asyncQueue.verifyOperationInProgress(),pe(Mi,"RemoteStore received new credentials");const s=Bi(n);n.Ea.add(3),await qc(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Eh(n)}async function W6(a,e){const n=Me(a);e?(n.Ea.delete(2),await Eh(n)):e||(n.Ea.add(2),await qc(n),n.Ra.set("Unknown"))}function to(a){return a.ma||(a.ma=(function(n,s,o){const u=Me(n);return u.sa(),new M6(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(a.datastore,a.asyncQueue,{Xo:q6.bind(null,a),t_:B6.bind(null,a),r_:H6.bind(null,a),H_:F6.bind(null,a)}),a.da.push((async e=>{e?(a.ma.B_(),Eg(a)?Ng(a):a.Ra.set("Unknown")):(await a.ma.stop(),q2(a))}))),a.ma}function Hs(a){return a.fa||(a.fa=(function(n,s,o){const u=Me(n);return u.sa(),new V6(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(a.datastore,a.asyncQueue,{Xo:()=>Promise.resolve(),t_:$6.bind(null,a),r_:X6.bind(null,a),ta:K6.bind(null,a),na:Y6.bind(null,a)}),a.da.push((async e=>{e?(a.fa.B_(),await Th(a)):(await a.fa.stop(),a.Ta.length>0&&(pe(Mi,`Stopping write stream with ${a.Ta.length} pending writes`),a.Ta=[]))}))),a.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Ua,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,g=new Tg(e,n,f,o,u);return g.start(s),g}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ge(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function kg(a,e){if(Ha("AsyncQueue",`${e}: ${a}`),Jl(a))return new ge(ee.UNAVAILABLE,`${e}: ${a}`);throw a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl{static emptySet(e){return new Pl(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ke.comparator(n.key,s.key):(n,s)=>ke.comparator(n.key,s.key),this.keyedMap=oc(),this.sortedSet=new St(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Pl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Pl;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{constructor(){this.ga=new St(ke.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ce(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class Ql{constructor(e,n,s,o,u,f,g,p,y){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=g,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach((g=>{f.push({type:0,doc:g})})),new Ql(e,n,Pl.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&xh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z6{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class J6{constructor(){this.queries=Z1(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Me(n),u=o.queries;o.queries=Z1(),u.forEach(((f,g)=>{for(const p of g.Sa)p.onError(s)}))})(this,new ge(ee.ABORTED,"Firestore shutting down"))}}function Z1(){return new qi((a=>c2(a)),xh)}async function jg(a,e){const n=Me(a);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.ba()&&e.Da()&&(s=2):(u=new Z6,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const g=kg(f,`Initialization of query '${Rl(e.query)}' failed`);return void e.onError(g)}n.queries.set(o,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&Ag(n)}async function Sg(a,e){const n=Me(a),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.Sa.indexOf(e);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function e3(a,e){const n=Me(a);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const g of f.Sa)g.Fa(o)&&(s=!0);f.wa=o}}s&&Ag(n)}function t3(a,e,n){const s=Me(a),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(e)}function Ag(a){a.Ca.forEach((e=>{e.next()}))}var zm,J1;(J1=zm||(zm={})).Ma="default",J1.Cache="cache";class Cg{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Ql(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Ql.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==zm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G2{constructor(e){this.key=e}}class Q2{constructor(e){this.key=e}}class n3{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ye(),this.mutatedKeys=Ye(),this.eu=u2(e),this.tu=new Pl(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new W1,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,g=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((w,N)=>{const S=o.get(w),M=bh(this.query,N)?N:null,F=!!S&&this.mutatedKeys.has(S.key),re=!!M&&(M.hasLocalMutations||this.mutatedKeys.has(M.key)&&M.hasCommittedMutations);let Y=!1;S&&M?S.data.isEqual(M.data)?F!==re&&(s.track({type:3,doc:M}),Y=!0):this.su(S,M)||(s.track({type:2,doc:M}),Y=!0,(p&&this.eu(M,p)>0||y&&this.eu(M,y)<0)&&(g=!0)):!S&&M?(s.track({type:0,doc:M}),Y=!0):S&&!M&&(s.track({type:1,doc:S}),Y=!0,(p||y)&&(g=!0)),Y&&(M?(f=f.add(M),u=re?u.add(w):u.delete(w)):(f=f.delete(w),u=u.delete(w)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const w=this.query.limitType==="F"?f.last():f.first();f=f.delete(w.key),u=u.delete(w.key),s.track({type:1,doc:w})}return{tu:f,iu:s,Cs:g,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((w,N)=>(function(M,F){const re=Y=>{switch(Y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ce(20277,{Rt:Y})}};return re(M)-re(F)})(w.type,N.type)||this.eu(w.doc,N.doc))),this.ou(s),o=o??!1;const g=n&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,y=p!==this.Za;return this.Za=p,f.length!==0||y?{snapshot:new Ql(this.query,e.tu,u,f,e.mutatedKeys,p===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new W1,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ye(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new Q2(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new G2(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=Ye();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Ql.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Rg="SyncEngine";class r3{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class a3{constructor(e){this.key=e,this.hu=!1}}class s3{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new qi((g=>c2(g)),xh),this.Iu=new Map,this.Eu=new Set,this.du=new St(ke.comparator),this.Au=new Map,this.Ru=new yg,this.Vu={},this.mu=new Map,this.fu=Gl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function i3(a,e,n=!0){const s=Z2(a);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await $2(s,e,n,!0),o}async function l3(a,e){const n=Z2(a);await $2(n,e,!0,!1)}async function $2(a,e,n,s){const o=await j6(a.localStore,la(e)),u=o.targetId,f=a.sharedClientState.addLocalQueryTarget(u,n);let g;return s&&(g=await o3(a,e,u,f==="current",o.resumeToken)),a.isPrimaryClient&&n&&z2(a.remoteStore,o),g}async function o3(a,e,n,s,o){a.pu=(N,S,M)=>(async function(re,Y,oe,ue){let le=Y.view.ru(oe);le.Cs&&(le=await G1(re.localStore,Y.query,!1).then((({documents:k})=>Y.view.ru(k,le))));const je=ue&&ue.targetChanges.get(Y.targetId),ae=ue&&ue.targetMismatches.get(Y.targetId)!=null,B=Y.view.applyChanges(le,re.isPrimaryClient,je,ae);return tv(re,Y.targetId,B.au),B.snapshot})(a,N,S,M);const u=await G1(a.localStore,e,!0),f=new n3(e,u.Qs),g=f.ru(u.documents),p=Uc.createSynthesizedTargetChangeForCurrentChange(n,s&&a.onlineState!=="Offline",o),y=f.applyChanges(g,a.isPrimaryClient,p);tv(a,n,y.au);const w=new r3(e,n,f);return a.Tu.set(e,w),a.Iu.has(n)?a.Iu.get(n).push(e):a.Iu.set(n,[e]),y.snapshot}async function c3(a,e,n){const s=Me(a),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((f=>!xh(f,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Lm(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&wg(s.remoteStore,o.targetId),Um(s,o.targetId)})).catch(Zl)):(Um(s,o.targetId),await Lm(s.localStore,o.targetId,!0))}async function u3(a,e){const n=Me(a),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),wg(n.remoteStore,s.targetId))}async function d3(a,e,n){const s=x3(a);try{const o=await(function(f,g){const p=Me(f),y=Nt.now(),w=g.reduce(((M,F)=>M.add(F.key)),Ye());let N,S;return p.persistence.runTransaction("Locally write mutations","readwrite",(M=>{let F=Fa(),re=Ye();return p.Ns.getEntries(M,w).next((Y=>{F=Y,F.forEach(((oe,ue)=>{ue.isValidDocument()||(re=re.add(oe))}))})).next((()=>p.localDocuments.getOverlayedDocuments(M,F))).next((Y=>{N=Y;const oe=[];for(const ue of g){const le=kA(ue,N.get(ue.key).overlayedDocument);le!=null&&oe.push(new $s(ue.key,le,t2(le.value.mapValue),mr.exists(!0)))}return p.mutationQueue.addMutationBatch(M,y,oe,g)})).next((Y=>{S=Y;const oe=Y.applyToLocalDocumentSet(N,re);return p.documentOverlayCache.saveOverlays(M,Y.batchId,oe)}))})).then((()=>({batchId:S.batchId,changes:h2(N)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(f,g,p){let y=f.Vu[f.currentUser.toKey()];y||(y=new St(Ke)),y=y.insert(g,p),f.Vu[f.currentUser.toKey()]=y})(s,o.batchId,n),await Bc(s,o.changes),await Th(s.remoteStore)}catch(o){const u=kg(o,"Failed to persist write");n.reject(u)}}async function K2(a,e){const n=Me(a);try{const s=await E6(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const f=n.Au.get(u);f&&(it(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?it(f.hu,14607):o.removedDocuments.size>0&&(it(f.hu,42227),f.hu=!1))})),await Bc(n,s,e)}catch(s){await Zl(s)}}function ev(a,e,n){const s=Me(a);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,f)=>{const g=f.view.va(e);g.snapshot&&o.push(g.snapshot)})),(function(f,g){const p=Me(f);p.onlineState=g;let y=!1;p.queries.forEach(((w,N)=>{for(const S of N.Sa)S.va(g)&&(y=!0)})),y&&Ag(p)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function h3(a,e,n){const s=Me(a);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let f=new St(ke.comparator);f=f.insert(u,xn.newNoDocument(u,De.min()));const g=Ye().add(u),p=new _h(De.min(),new Map,new St(Ke),f,g);await K2(s,p),s.du=s.du.remove(u),s.Au.delete(e),Ig(s)}else await Lm(s.localStore,e,!1).then((()=>Um(s,e,n))).catch(Zl)}async function f3(a,e){const n=Me(a),s=e.batch.batchId;try{const o=await N6(n.localStore,e);X2(n,s,null),Y2(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Bc(n,o)}catch(o){await Zl(o)}}async function m3(a,e,n){const s=Me(a);try{const o=await(function(f,g){const p=Me(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let w;return p.mutationQueue.lookupMutationBatch(y,g).next((N=>(it(N!==null,37113),w=N.keys(),p.mutationQueue.removeMutationBatch(y,N)))).next((()=>p.mutationQueue.performConsistencyCheck(y))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(y,w,g))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,w))).next((()=>p.localDocuments.getDocuments(y,w)))}))})(s.localStore,e);X2(s,e,n),Y2(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Bc(s,o)}catch(o){await Zl(o)}}function Y2(a,e){(a.mu.get(e)||[]).forEach((n=>{n.resolve()})),a.mu.delete(e)}function X2(a,e,n){const s=Me(a);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function Um(a,e,n=null){a.sharedClientState.removeLocalQueryTarget(e);for(const s of a.Iu.get(e))a.Tu.delete(s),n&&a.Pu.yu(s,n);a.Iu.delete(e),a.isPrimaryClient&&a.Ru.jr(e).forEach((s=>{a.Ru.containsKey(s)||W2(a,s)}))}function W2(a,e){a.Eu.delete(e.path.canonicalString());const n=a.du.get(e);n!==null&&(wg(a.remoteStore,n),a.du=a.du.remove(e),a.Au.delete(n),Ig(a))}function tv(a,e,n){for(const s of n)s instanceof G2?(a.Ru.addReference(s.key,e),g3(a,s)):s instanceof Q2?(pe(Rg,"Document no longer in limbo: "+s.key),a.Ru.removeReference(s.key,e),a.Ru.containsKey(s.key)||W2(a,s.key)):Ce(19791,{wu:s})}function g3(a,e){const n=e.key,s=n.path.canonicalString();a.du.get(n)||a.Eu.has(s)||(pe(Rg,"New document in limbo: "+n),a.Eu.add(s),Ig(a))}function Ig(a){for(;a.Eu.size>0&&a.du.size<a.maxConcurrentLimboResolutions;){const e=a.Eu.values().next().value;a.Eu.delete(e);const n=new ke(xt.fromString(e)),s=a.fu.next();a.Au.set(s,new a3(n)),a.du=a.du.insert(n,s),z2(a.remoteStore,new Rs(la(yh(n.path)),s,"TargetPurposeLimboResolution",mh.ce))}}async function Bc(a,e,n){const s=Me(a),o=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach(((g,p)=>{f.push(s.pu(p,e,n).then((y=>{var w;if((y||n)&&s.isPrimaryClient){const N=y?!y.fromCache:(w=n==null?void 0:n.targetChanges.get(p.targetId))==null?void 0:w.current;s.sharedClientState.updateQueryState(p.targetId,N?"current":"not-current")}if(y){o.push(y);const N=bg.As(p.targetId,y);u.push(N)}})))})),await Promise.all(f),s.Pu.H_(o),await(async function(p,y){const w=Me(p);try{await w.persistence.runTransaction("notifyLocalViewChanges","readwrite",(N=>ne.forEach(y,(S=>ne.forEach(S.Es,(M=>w.persistence.referenceDelegate.addReference(N,S.targetId,M))).next((()=>ne.forEach(S.ds,(M=>w.persistence.referenceDelegate.removeReference(N,S.targetId,M)))))))))}catch(N){if(!Jl(N))throw N;pe(vg,"Failed to update sequence numbers: "+N)}for(const N of y){const S=N.targetId;if(!N.fromCache){const M=w.Ms.get(S),F=M.snapshotVersion,re=M.withLastLimboFreeSnapshotVersion(F);w.Ms=w.Ms.insert(S,re)}}})(s.localStore,u))}async function p3(a,e){const n=Me(a);if(!n.currentUser.isEqual(e)){pe(Rg,"User change. New user:",e.toKey());const s=await M2(n.localStore,e);n.currentUser=e,(function(u,f){u.mu.forEach((g=>{g.forEach((p=>{p.reject(new ge(ee.CANCELLED,f))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Bc(n,s.Ls)}}function y3(a,e){const n=Me(a),s=n.Au.get(e);if(s&&s.hu)return Ye().add(s.key);{let o=Ye();const u=n.Iu.get(e);if(!u)return o;for(const f of u){const g=n.Tu.get(f);o=o.unionWith(g.view.nu)}return o}}function Z2(a){const e=Me(a);return e.remoteStore.remoteSyncer.applyRemoteEvent=K2.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=y3.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=h3.bind(null,e),e.Pu.H_=e3.bind(null,e.eventManager),e.Pu.yu=t3.bind(null,e.eventManager),e}function x3(a){const e=Me(a);return e.remoteStore.remoteSyncer.applySuccessfulWrite=f3.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=m3.bind(null,e),e}class th{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Nh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return _6(this.persistence,new b6,e.initialUser,this.serializer)}Cu(e){return new O2(xg.mi,this.serializer)}Du(e){return new A6}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}th.provider={build:()=>new th};class b3 extends th{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){it(this.persistence.referenceDelegate instanceof Jd,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new a6(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?On.withCacheSize(this.cacheSizeBytes):On.DEFAULT;return new O2((s=>Jd.mi(s,n)),this.serializer)}}class qm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>ev(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=p3.bind(null,this.syncEngine),await W6(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new J6})()}createDatastore(e){const n=Nh(e.databaseInfo.databaseId),s=(function(u){return new O6(u)})(e.databaseInfo);return(function(u,f,g,p){return new P6(u,f,g,p)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,u,f,g){return new U6(s,o,u,f,g)})(this.localStore,this.datastore,e.asyncQueue,(n=>ev(this.syncEngine,n,0)),(function(){return K1.v()?new K1:new C6})())}createSyncEngine(e,n){return(function(o,u,f,g,p,y,w){const N=new s3(o,u,f,g,p,y);return w&&(N.gu=!0),N})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(o){const u=Me(o);pe(Mi,"RemoteStore shutting down."),u.Ea.add(5),await qc(u),u.Aa.shutdown(),u.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}qm.provider={build:()=>new qm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dg{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ha("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fs="FirestoreClient";class v3{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=yn.UNAUTHENTICATED,this.clientId=ig.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async f=>{pe(Fs,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(pe(Fs,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ua;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=kg(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Z0(a,e){a.asyncQueue.verifyOperationInProgress(),pe(Fs,"Initializing OfflineComponentProvider");const n=a.configuration;await e.initialize(n);let s=n.initialUser;a.setCredentialChangeListener((async o=>{s.isEqual(o)||(await M2(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>a.terminate())),a._offlineComponents=e}async function nv(a,e){a.asyncQueue.verifyOperationInProgress();const n=await w3(a);pe(Fs,"Initializing OnlineComponentProvider"),await e.initialize(n,a.configuration),a.setCredentialChangeListener((s=>X1(e.remoteStore,s))),a.setAppCheckTokenChangeListener(((s,o)=>X1(e.remoteStore,o))),a._onlineComponents=e}async function w3(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){pe(Fs,"Using user provided OfflineComponentProvider");try{await Z0(a,a._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===ee.FAILED_PRECONDITION||o.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;ql("Error using user provided cache. Falling back to memory cache: "+n),await Z0(a,new th)}}else pe(Fs,"Using default OfflineComponentProvider"),await Z0(a,new b3(void 0));return a._offlineComponents}async function J2(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(pe(Fs,"Using user provided OnlineComponentProvider"),await nv(a,a._uninitializedComponentsProvider._online)):(pe(Fs,"Using default OnlineComponentProvider"),await nv(a,new qm))),a._onlineComponents}function _3(a){return J2(a).then((e=>e.syncEngine))}async function nh(a){const e=await J2(a),n=e.eventManager;return n.onListen=i3.bind(null,e.syncEngine),n.onUnlisten=c3.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=l3.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=u3.bind(null,e.syncEngine),n}function N3(a,e,n={}){const s=new Ua;return a.asyncQueue.enqueueAndForget((async()=>(function(u,f,g,p,y){const w=new Dg({next:S=>{w.Nu(),f.enqueueAndForget((()=>Sg(u,N)));const M=S.docs.has(g);!M&&S.fromCache?y.reject(new ge(ee.UNAVAILABLE,"Failed to get document because the client is offline.")):M&&S.fromCache&&p&&p.source==="server"?y.reject(new ge(ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(S)},error:S=>y.reject(S)}),N=new Cg(yh(g.path),w,{includeMetadataChanges:!0,qa:!0});return jg(u,N)})(await nh(a),a.asyncQueue,e,n,s))),s.promise}function E3(a,e,n={}){const s=new Ua;return a.asyncQueue.enqueueAndForget((async()=>(function(u,f,g,p,y){const w=new Dg({next:S=>{w.Nu(),f.enqueueAndForget((()=>Sg(u,N))),S.fromCache&&p.source==="server"?y.reject(new ge(ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(S)},error:S=>y.reject(S)}),N=new Cg(g,w,{includeMetadataChanges:!0,qa:!0});return jg(u,N)})(await nh(a),a.asyncQueue,e,n,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e_(a){const e={};return a.timeoutSeconds!==void 0&&(e.timeoutSeconds=a.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rv=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t_="firestore.googleapis.com",av=!0;class sv{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ge(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=t_,this.ssl=av}else this.host=e.host,this.ssl=e.ssl??av;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=D2;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<n6)throw new ge(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}qS("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=e_(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ge(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ge(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ge(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class kh{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new sv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ge(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ge(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new sv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new RS;switch(s.type){case"firstParty":return new MS(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ge(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=rv.get(n);s&&(pe("ComponentProvider","Removing Datastore"),rv.delete(n),s.terminate())})(this),Promise.resolve()}}function T3(a,e,n,s={}){var y;a=Vn(a,kh);const o=Kl(e),u=a._getSettings(),f={...u,emulatorOptions:a._getEmulatorOptions()},g=`${e}:${n}`;o&&(Gv(`https://${g}`),Qv("Firestore",!0)),u.host!==t_&&u.host!==g&&ql("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:g,ssl:o,emulatorOptions:s};if(!Ps(p,f)&&(a._setSettings(p),s.mockUserToken)){let w,N;if(typeof s.mockUserToken=="string")w=s.mockUserToken,N=yn.MOCK_USER;else{w=LT(s.mockUserToken,(y=a._app)==null?void 0:y.options.projectId);const S=s.mockUserToken.sub||s.mockUserToken.user_id;if(!S)throw new ge(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");N=new yn(S)}a._authCredentials=new IS(new Hw(w,N))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Ka(this.firestore,e,this._query)}}class Rt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ms(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Rt(this.firestore,e,this._key)}toJSON(){return{type:Rt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(Pc(n,Rt._jsonSchema))return new Rt(e,s||null,new ke(xt.fromString(n.referencePath)))}}Rt._jsonSchemaVersion="firestore/documentReference/1.0",Rt._jsonSchema={type:$t("string",Rt._jsonSchemaVersion),referencePath:$t("string")};class Ms extends Ka{constructor(e,n,s){super(e,n,yh(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Rt(this.firestore,null,new ke(e))}withConverter(e){return new Ms(this.firestore,e,this._path)}}function En(a,e,...n){if(a=It(a),Fw("collection","path",e),a instanceof kh){const s=xt.fromString(e,...n);return x1(s),new Ms(a,null,s)}{if(!(a instanceof Rt||a instanceof Ms))throw new ge(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(xt.fromString(e,...n));return x1(s),new Ms(a.firestore,null,s)}}function fa(a,e,...n){if(a=It(a),arguments.length===1&&(e=ig.newId()),Fw("doc","path",e),a instanceof kh){const s=xt.fromString(e,...n);return y1(s),new Rt(a,null,new ke(s))}{if(!(a instanceof Rt||a instanceof Ms))throw new ge(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(xt.fromString(e,...n));return y1(s),new Rt(a.firestore,a instanceof Ms?a.converter:null,new ke(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iv="AsyncQueue";class lv{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new L2(this,"async_queue_retry"),this._c=()=>{const s=W0();s&&pe(iv,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=W0();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=W0();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Ua;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Jl(e))throw e;pe(iv,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,Ha("INTERNAL UNHANDLED ERROR: ",ov(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=Tg.createAndSchedule(this,e,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Ce(47125,{Pc:ov(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function ov(a){let e=a.message||"";return a.stack&&(e=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cv(a){return(function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1})(a,["next","error","complete"])}class Ga extends kh{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new lv,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new lv(e),this._firestoreClient=void 0,await e}}}function k3(a,e){const n=typeof a=="object"?a:Xm(),s=typeof a=="string"?a:Kd,o=Ui(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=MT("firestore");u&&T3(o,...u)}return o}function jh(a){if(a._terminated)throw new ge(ee.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||j3(a),a._firestoreClient}function j3(a){var s,o,u;const e=a._freezeSettings(),n=(function(g,p,y,w){return new ZS(g,p,y,w.host,w.ssl,w.experimentalForceLongPolling,w.experimentalAutoDetectLongPolling,e_(w.experimentalLongPollingOptions),w.useFetchStreams,w.isUsingEmulator)})(a._databaseId,((s=a._app)==null?void 0:s.options.appId)||"",a._persistenceKey,e);a._componentsProvider||(o=e.localCache)!=null&&o._offlineComponentProvider&&((u=e.localCache)!=null&&u._onlineComponentProvider)&&(a._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),a._firestoreClient=new v3(a._authCredentials,a._appCheckCredentials,a._queue,n,a._componentsProvider&&(function(g){const p=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(p),_online:p}})(a._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr{constructor(e){this._byteString=e}static fromBase64String(e){try{return new dr(mn.fromBase64String(e))}catch(n){throw new ge(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new dr(mn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:dr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Pc(e,dr._jsonSchema))return dr.fromBase64String(e.bytes)}}dr._jsonSchemaVersion="firestore/bytes/1.0",dr._jsonSchema={type:$t("string",dr._jsonSchemaVersion),bytes:$t("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ge(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new fn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ge(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ge(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ke(this._lat,e._lat)||Ke(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ca._jsonSchemaVersion}}static fromJSON(e){if(Pc(e,ca._jsonSchema))return new ca(e.latitude,e.longitude)}}ca._jsonSchemaVersion="firestore/geoPoint/1.0",ca._jsonSchema={type:$t("string",ca._jsonSchemaVersion),latitude:$t("number"),longitude:$t("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ua._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Pc(e,ua._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new ua(e.vectorValues);throw new ge(ee.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ua._jsonSchemaVersion="firestore/vectorValue/1.0",ua._jsonSchema={type:$t("string",ua._jsonSchemaVersion),vectorValues:$t("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S3=/^__.*__$/;class A3{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new $s(e,this.data,this.fieldMask,n,this.fieldTransforms):new zc(e,this.data,n,this.fieldTransforms)}}class n_{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new $s(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function r_(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ce(40011,{Ac:a})}}class Og{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Og({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var o;const n=(o=this.path)==null?void 0:o.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){var o;const n=(o=this.path)==null?void 0:o.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return rh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(r_(this.Ac)&&S3.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class C3{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Nh(e)}Cc(e,n,s,o=!1){return new Og({Ac:e,methodName:n,Dc:s,path:fn.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ah(a){const e=a._freezeSettings(),n=Nh(a._databaseId);return new C3(a._databaseId,!!e.ignoreUndefinedProperties,n)}function a_(a,e,n,s,o,u={}){const f=a.Cc(u.merge||u.mergeFields?2:0,e,n,o);Lg("Data must be an object, but it was:",f,s);const g=s_(s,f);let p,y;if(u.merge)p=new Qn(f.fieldMask),y=f.fieldTransforms;else if(u.mergeFields){const w=[];for(const N of u.mergeFields){const S=Bm(e,N,n);if(!f.contains(S))throw new ge(ee.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);l_(w,S)||w.push(S)}p=new Qn(w),y=f.fieldTransforms.filter((N=>p.covers(N.field)))}else p=null,y=f.fieldTransforms;return new A3(new Mn(g),p,y)}class Ch extends Hc{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ch}}class Mg extends Hc{_toFieldTransform(e){return new v2(e.path,new Ac)}isEqual(e){return e instanceof Mg}}class Vg extends Hc{constructor(e,n){super(e),this.Fc=n}_toFieldTransform(e){const n=new Ic(e.serializer,g2(e.serializer,this.Fc));return new v2(e.path,n)}isEqual(e){return e instanceof Vg&&this.Fc===e.Fc}}function R3(a,e,n,s){const o=a.Cc(1,e,n);Lg("Data must be an object, but it was:",o,s);const u=[],f=Mn.empty();Qs(s,((p,y)=>{const w=Pg(e,p,n);y=It(y);const N=o.yc(w);if(y instanceof Ch)u.push(w);else{const S=Fc(y,N);S!=null&&(u.push(w),f.set(w,S))}}));const g=new Qn(u);return new n_(f,g,o.fieldTransforms)}function I3(a,e,n,s,o,u){const f=a.Cc(1,e,n),g=[Bm(e,s,n)],p=[o];if(u.length%2!=0)throw new ge(ee.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<u.length;S+=2)g.push(Bm(e,u[S])),p.push(u[S+1]);const y=[],w=Mn.empty();for(let S=g.length-1;S>=0;--S)if(!l_(y,g[S])){const M=g[S];let F=p[S];F=It(F);const re=f.yc(M);if(F instanceof Ch)y.push(M);else{const Y=Fc(F,re);Y!=null&&(y.push(M),w.set(M,Y))}}const N=new Qn(y);return new n_(w,N,f.fieldTransforms)}function D3(a,e,n,s=!1){return Fc(n,a.Cc(s?4:3,e))}function Fc(a,e){if(i_(a=It(a)))return Lg("Unsupported field value:",e,a),s_(a,e);if(a instanceof Hc)return(function(s,o){if(!r_(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(a,e),null;if(a===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),a instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let f=0;for(const g of s){let p=Fc(g,o.wc(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}})(a,e)}return(function(s,o){if((s=It(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return g2(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Nt.fromDate(s);return{timestampValue:Zd(o.serializer,u)}}if(s instanceof Nt){const u=new Nt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Zd(o.serializer,u)}}if(s instanceof ca)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof dr)return{bytesValue:k2(o.serializer,s._byteString)};if(s instanceof Rt){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:pg(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof ua)return(function(f,g){return{mapValue:{fields:{[Jw]:{stringValue:e2},[Yd]:{arrayValue:{values:f.toArray().map((y=>{if(typeof y!="number")throw g.Sc("VectorValues must only contain numeric values.");return hg(g.serializer,y)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${fh(s)}`)})(a,e)}function s_(a,e){const n={};return $w(a)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Qs(a,((s,o)=>{const u=Fc(o,e.mc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function i_(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof Nt||a instanceof ca||a instanceof dr||a instanceof Rt||a instanceof Hc||a instanceof ua)}function Lg(a,e,n){if(!i_(n)||!Gw(n)){const s=fh(n);throw s==="an object"?e.Sc(a+" a custom object"):e.Sc(a+" "+s)}}function Bm(a,e,n){if((e=It(e))instanceof Sh)return e._internalPath;if(typeof e=="string")return Pg(a,e);throw rh("Field path arguments must be of type string or ",a,!1,void 0,n)}const O3=new RegExp("[~\\*/\\[\\]]");function Pg(a,e,n){if(e.search(O3)>=0)throw rh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,n);try{return new Sh(...e.split("."))._internalPath}catch{throw rh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,n)}}function rh(a,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let g=`Function ${e}() called with invalid data`;n&&(g+=" (via `toFirestore()`)"),g+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new ge(ee.INVALID_ARGUMENT,g+a+p)}function l_(a,e){return a.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o_{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Rt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new M3(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Rh("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class M3 extends o_{data(){return super.data()}}function Rh(a,e){return typeof e=="string"?Pg(a,e):e instanceof Sh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c_(a){if(a.limitType==="L"&&a.explicitOrderBy.length===0)throw new ge(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class zg{}class Ug extends zg{}function jr(a,e,...n){let s=[];e instanceof zg&&s.push(e),s=s.concat(n),(function(u){const f=u.filter((p=>p instanceof qg)).length,g=u.filter((p=>p instanceof Ih)).length;if(f>1||f>0&&g>0)throw new ge(ee.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)a=o._apply(a);return a}class Ih extends Ug{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Ih(e,n,s)}_apply(e){const n=this._parse(e);return d_(e._query,n),new Ka(e.firestore,e.converter,Im(e._query,n))}_parse(e){const n=Ah(e.firestore);return(function(u,f,g,p,y,w,N){let S;if(y.isKeyField()){if(w==="array-contains"||w==="array-contains-any")throw new ge(ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if(w==="in"||w==="not-in"){dv(N,w);const F=[];for(const re of N)F.push(uv(p,u,re));S={arrayValue:{values:F}}}else S=uv(p,u,N)}else w!=="in"&&w!=="not-in"&&w!=="array-contains-any"||dv(N,w),S=D3(g,f,N,w==="in"||w==="not-in");return Qt.create(y,w,S)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Sr(a,e,n){const s=e,o=Rh("where",a);return Ih._create(o,s,n)}class qg extends zg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new qg(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:Rr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let f=o;const g=u.getFlattenedFilters();for(const p of g)d_(f,p),f=Im(f,p)})(e._query,n),new Ka(e.firestore,e.converter,Im(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Bg extends Ug{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Bg(e,n)}_apply(e){const n=(function(o,u,f){if(o.startAt!==null)throw new ge(ee.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ge(ee.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Sc(u,f)})(e._query,this._field,this._direction);return new Ka(e.firestore,e.converter,(function(o,u){const f=o.explicitOrderBy.concat([u]);return new eo(o.path,o.collectionGroup,f,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,n))}}function u_(a,e="asc"){const n=e,s=Rh("orderBy",a);return Bg._create(s,n)}class Hg extends Ug{constructor(e,n,s){super(),this.type=e,this._limit=n,this._limitType=s}static _create(e,n,s){return new Hg(e,n,s)}_apply(e){return new Ka(e.firestore,e.converter,Wd(e._query,this._limit,this._limitType))}}function V3(a){return Hg._create("limit",a,"F")}function uv(a,e,n){if(typeof(n=It(n))=="string"){if(n==="")throw new ge(ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!o2(e)&&n.indexOf("/")!==-1)throw new ge(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(xt.fromString(n));if(!ke.isDocumentKey(s))throw new ge(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return k1(a,new ke(s))}if(n instanceof Rt)return k1(a,n._key);throw new ge(ee.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${fh(n)}.`)}function dv(a,e){if(!Array.isArray(a)||a.length===0)throw new ge(ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function d_(a,e){const n=(function(o,u){for(const f of o)for(const g of f.getFlattenedFilters())if(u.indexOf(g.op)>=0)return g.op;return null})(a.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ge(ee.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ge(ee.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class L3{convertValue(e,n="none"){switch(Bs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Vt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(qs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ce(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Qs(e,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(e){var s,o,u;const n=(u=(o=(s=e.fields)==null?void 0:s[Yd].arrayValue)==null?void 0:o.values)==null?void 0:u.map((f=>Vt(f.doubleValue)));return new ua(n)}convertGeoPoint(e){return new ca(Vt(e.latitude),Vt(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=ph(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Tc(e));default:return null}}convertTimestamp(e){const n=Us(e);return new Nt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=xt.fromString(e);it(I2(s),9688,{name:e});const o=new kc(s.get(1),s.get(3)),u=new ke(s.popFirst(5));return o.isEqual(n)||Ha(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h_(a,e,n){let s;return s=a?n&&(n.merge||n.mergeFields)?a.toFirestore(e,n):a.toFirestore(e):e,s}class uc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ki extends o_{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ad(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Rh("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ge(ee.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ki._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ki._jsonSchemaVersion="firestore/documentSnapshot/1.0",ki._jsonSchema={type:$t("string",ki._jsonSchemaVersion),bundleSource:$t("string","DocumentSnapshot"),bundleName:$t("string"),bundle:$t("string")};class Ad extends ki{data(e={}){return super.data(e)}}class ji{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new uc(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new Ad(this._firestore,this._userDataWriter,s.key,s,new uc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ge(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((g=>{const p=new Ad(o._firestore,o._userDataWriter,g.doc.key,g.doc,new uc(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((g=>u||g.type!==3)).map((g=>{const p=new Ad(o._firestore,o._userDataWriter,g.doc.key,g.doc,new uc(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,w=-1;return g.type!==0&&(y=f.indexOf(g.doc.key),f=f.delete(g.doc.key)),g.type!==1&&(f=f.add(g.doc),w=f.indexOf(g.doc.key)),{type:P3(g.type),doc:p,oldIndex:y,newIndex:w}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ge(ee.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ji._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=ig.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function P3(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ce(61501,{type:a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f_(a){a=Vn(a,Rt);const e=Vn(a.firestore,Ga);return N3(jh(e),a._key).then((n=>m_(e,a,n)))}ji._jsonSchemaVersion="firestore/querySnapshot/1.0",ji._jsonSchema={type:$t("string",ji._jsonSchemaVersion),bundleSource:$t("string","QuerySnapshot"),bundleName:$t("string"),bundle:$t("string")};class Fg extends L3{constructor(e){super(),this.firestore=e}convertBytes(e){return new dr(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Rt(this.firestore,null,n)}}function ma(a){a=Vn(a,Ka);const e=Vn(a.firestore,Ga),n=jh(e),s=new Fg(e);return c_(a._query),E3(n,a._query).then((o=>new ji(e,s,a,o)))}function Gg(a,e,n){a=Vn(a,Rt);const s=Vn(a.firestore,Ga),o=h_(a.converter,e,n);return Oh(s,[a_(Ah(s),"setDoc",a._key,o,a.converter!==null,n).toMutation(a._key,mr.none())])}function Qg(a,e,n,...s){a=Vn(a,Rt);const o=Vn(a.firestore,Ga),u=Ah(o);let f;return f=typeof(e=It(e))=="string"||e instanceof Sh?I3(u,"updateDoc",a._key,e,n,s):R3(u,"updateDoc",a._key,e),Oh(o,[f.toMutation(a._key,mr.exists(!0))])}function z3(a){return Oh(Vn(a.firestore,Ga),[new fg(a._key,mr.none())])}function Dh(a,e){const n=Vn(a.firestore,Ga),s=fa(a),o=h_(a.converter,e);return Oh(n,[a_(Ah(a.firestore),"addDoc",s._key,o,a.converter!==null,{}).toMutation(s._key,mr.exists(!1))]).then((()=>s))}function U3(a,...e){var p,y,w;a=It(a);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||cv(e[s])||(n=e[s++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(cv(e[s])){const N=e[s];e[s]=(p=N.next)==null?void 0:p.bind(N),e[s+1]=(y=N.error)==null?void 0:y.bind(N),e[s+2]=(w=N.complete)==null?void 0:w.bind(N)}let u,f,g;if(a instanceof Rt)f=Vn(a.firestore,Ga),g=yh(a._key.path),u={next:N=>{e[s]&&e[s](m_(f,a,N))},error:e[s+1],complete:e[s+2]};else{const N=Vn(a,Ka);f=Vn(N.firestore,Ga),g=N._query;const S=new Fg(f);u={next:M=>{e[s]&&e[s](new ji(f,S,N,M))},error:e[s+1],complete:e[s+2]},c_(a._query)}return(function(S,M,F,re){const Y=new Dg(re),oe=new Cg(M,Y,F);return S.asyncQueue.enqueueAndForget((async()=>jg(await nh(S),oe))),()=>{Y.Nu(),S.asyncQueue.enqueueAndForget((async()=>Sg(await nh(S),oe)))}})(jh(f),g,o,u)}function Oh(a,e){return(function(s,o){const u=new Ua;return s.asyncQueue.enqueueAndForget((async()=>d3(await _3(s),o,u))),u.promise})(jh(a),e)}function m_(a,e,n){const s=n.docs.get(e._key),o=new Fg(a);return new ki(a,o,e._key,s,new uc(n.hasPendingWrites,n.fromCache),e.converter)}function $l(){return new Mg("serverTimestamp")}function Hm(a){return new Vg("increment",a)}(function(e,n=!0){(function(o){Wl=o})(Yl),da(new Ar("firestore",((s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),g=new Ga(new DS(s.getProvider("auth-internal")),new VS(f,s.getProvider("app-check-internal")),(function(y,w){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ge(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new kc(y.options.projectId,w)})(f,o),f);return u={useFetchStreams:n,...u},g._setSettings(u),g}),"PUBLIC").setMultipleInstances(!0)),fr(f1,m1,e),fr(f1,m1,"esm2020")})();const g_="@firebase/installations",$g="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p_=1e4,y_=`w:${$g}`,x_="FIS_v2",q3="https://firebaseinstallations.googleapis.com/v1",B3=3600*1e3,H3="installations",F3="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G3={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Vi=new zi(H3,F3,G3);function b_(a){return a instanceof Ir&&a.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v_({projectId:a}){return`${q3}/projects/${a}/installations`}function w_(a){return{token:a.token,requestStatus:2,expiresIn:$3(a.expiresIn),creationTime:Date.now()}}async function __(a,e){const s=(await e.json()).error;return Vi.create("request-failed",{requestName:a,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function N_({apiKey:a}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":a})}function Q3(a,{refreshToken:e}){const n=N_(a);return n.append("Authorization",K3(e)),n}async function E_(a){const e=await a();return e.status>=500&&e.status<600?a():e}function $3(a){return Number(a.replace("s","000"))}function K3(a){return`${x_} ${a}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y3({appConfig:a,heartbeatServiceProvider:e},{fid:n}){const s=v_(a),o=N_(a),u=e.getImmediate({optional:!0});if(u){const y=await u.getHeartbeatsHeader();y&&o.append("x-firebase-client",y)}const f={fid:n,authVersion:x_,appId:a.appId,sdkVersion:y_},g={method:"POST",headers:o,body:JSON.stringify(f)},p=await E_(()=>fetch(s,g));if(p.ok){const y=await p.json();return{fid:y.fid||n,registrationStatus:2,refreshToken:y.refreshToken,authToken:w_(y.authToken)}}else throw await __("Create Installation",p)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T_(a){return new Promise(e=>{setTimeout(e,a)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X3(a){return btoa(String.fromCharCode(...a)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W3=/^[cdef][\w-]{21}$/,Fm="";function Z3(){try{const a=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(a),a[0]=112+a[0]%16;const n=J3(a);return W3.test(n)?n:Fm}catch{return Fm}}function J3(a){return X3(a).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mh(a){return`${a.appName}!${a.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k_=new Map;function j_(a,e){const n=Mh(a);S_(n,e),eC(n,e)}function S_(a,e){const n=k_.get(a);if(n)for(const s of n)s(e)}function eC(a,e){const n=tC();n&&n.postMessage({key:a,fid:e}),nC()}let Ti=null;function tC(){return!Ti&&"BroadcastChannel"in self&&(Ti=new BroadcastChannel("[Firebase] FID Change"),Ti.onmessage=a=>{S_(a.data.key,a.data.fid)}),Ti}function nC(){k_.size===0&&Ti&&(Ti.close(),Ti=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rC="firebase-installations-database",aC=1,Li="firebase-installations-store";let J0=null;function Kg(){return J0||(J0=Zv(rC,aC,{upgrade:(a,e)=>{switch(e){case 0:a.createObjectStore(Li)}}})),J0}async function ah(a,e){const n=Mh(a),o=(await Kg()).transaction(Li,"readwrite"),u=o.objectStore(Li),f=await u.get(n);return await u.put(e,n),await o.done,(!f||f.fid!==e.fid)&&j_(a,e.fid),e}async function A_(a){const e=Mh(a),s=(await Kg()).transaction(Li,"readwrite");await s.objectStore(Li).delete(e),await s.done}async function Vh(a,e){const n=Mh(a),o=(await Kg()).transaction(Li,"readwrite"),u=o.objectStore(Li),f=await u.get(n),g=e(f);return g===void 0?await u.delete(n):await u.put(g,n),await o.done,g&&(!f||f.fid!==g.fid)&&j_(a,g.fid),g}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yg(a){let e;const n=await Vh(a.appConfig,s=>{const o=sC(s),u=iC(a,o);return e=u.registrationPromise,u.installationEntry});return n.fid===Fm?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function sC(a){const e=a||{fid:Z3(),registrationStatus:0};return C_(e)}function iC(a,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(Vi.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=lC(a,n);return{installationEntry:n,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:oC(a)}:{installationEntry:e}}async function lC(a,e){try{const n=await Y3(a,e);return ah(a.appConfig,n)}catch(n){throw b_(n)&&n.customData.serverCode===409?await A_(a.appConfig):await ah(a.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function oC(a){let e=await hv(a.appConfig);for(;e.registrationStatus===1;)await T_(100),e=await hv(a.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:s}=await Yg(a);return s||n}return e}function hv(a){return Vh(a,e=>{if(!e)throw Vi.create("installation-not-found");return C_(e)})}function C_(a){return cC(a)?{fid:a.fid,registrationStatus:0}:a}function cC(a){return a.registrationStatus===1&&a.registrationTime+p_<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uC({appConfig:a,heartbeatServiceProvider:e},n){const s=dC(a,n),o=Q3(a,n),u=e.getImmediate({optional:!0});if(u){const y=await u.getHeartbeatsHeader();y&&o.append("x-firebase-client",y)}const f={installation:{sdkVersion:y_,appId:a.appId}},g={method:"POST",headers:o,body:JSON.stringify(f)},p=await E_(()=>fetch(s,g));if(p.ok){const y=await p.json();return w_(y)}else throw await __("Generate Auth Token",p)}function dC(a,{fid:e}){return`${v_(a)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xg(a,e=!1){let n;const s=await Vh(a.appConfig,u=>{if(!R_(u))throw Vi.create("not-registered");const f=u.authToken;if(!e&&mC(f))return u;if(f.requestStatus===1)return n=hC(a,e),u;{if(!navigator.onLine)throw Vi.create("app-offline");const g=pC(u);return n=fC(a,g),g}});return n?await n:s.authToken}async function hC(a,e){let n=await fv(a.appConfig);for(;n.authToken.requestStatus===1;)await T_(100),n=await fv(a.appConfig);const s=n.authToken;return s.requestStatus===0?Xg(a,e):s}function fv(a){return Vh(a,e=>{if(!R_(e))throw Vi.create("not-registered");const n=e.authToken;return yC(n)?{...e,authToken:{requestStatus:0}}:e})}async function fC(a,e){try{const n=await uC(a,e),s={...e,authToken:n};return await ah(a.appConfig,s),n}catch(n){if(b_(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await A_(a.appConfig);else{const s={...e,authToken:{requestStatus:0}};await ah(a.appConfig,s)}throw n}}function R_(a){return a!==void 0&&a.registrationStatus===2}function mC(a){return a.requestStatus===2&&!gC(a)}function gC(a){const e=Date.now();return e<a.creationTime||a.creationTime+a.expiresIn<e+B3}function pC(a){const e={requestStatus:1,requestTime:Date.now()};return{...a,authToken:e}}function yC(a){return a.requestStatus===1&&a.requestTime+p_<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xC(a){const e=a,{installationEntry:n,registrationPromise:s}=await Yg(e);return s?s.catch(console.error):Xg(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bC(a,e=!1){const n=a;return await vC(n),(await Xg(n,e)).token}async function vC(a){const{registrationPromise:e}=await Yg(a);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wC(a){if(!a||!a.options)throw em("App Configuration");if(!a.name)throw em("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!a.options[n])throw em(n);return{appName:a.name,projectId:a.options.projectId,apiKey:a.options.apiKey,appId:a.options.appId}}function em(a){return Vi.create("missing-app-config-values",{valueName:a})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I_="installations",_C="installations-internal",NC=a=>{const e=a.getProvider("app").getImmediate(),n=wC(e),s=Ui(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},EC=a=>{const e=a.getProvider("app").getImmediate(),n=Ui(e,I_).getImmediate();return{getId:()=>xC(n),getToken:o=>bC(n,o)}};function TC(){da(new Ar(I_,NC,"PUBLIC")),da(new Ar(_C,EC,"PRIVATE"))}TC();fr(g_,$g);fr(g_,$g,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sh="analytics",kC="firebase_id",jC="origin",SC=60*1e3,AC="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Wg="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tn=new ch("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CC={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},$n=new zi("analytics","Analytics",CC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RC(a){if(!a.startsWith(Wg)){const e=$n.create("invalid-gtag-resource",{gtagURL:a});return Tn.warn(e.message),""}return a}function D_(a){return Promise.all(a.map(e=>e.catch(n=>n)))}function IC(a,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(a,e)),n}function DC(a,e){const n=IC("firebase-js-sdk-policy",{createScriptURL:RC}),s=document.createElement("script"),o=`${Wg}?l=${a}&id=${e}`;s.src=n?n==null?void 0:n.createScriptURL(o):o,s.async=!0,document.head.appendChild(s)}function OC(a){let e=[];return Array.isArray(window[a])?e=window[a]:window[a]=e,e}async function MC(a,e,n,s,o,u){const f=s[o];try{if(f)await e[f];else{const p=(await D_(n)).find(y=>y.measurementId===o);p&&await e[p.appId]}}catch(g){Tn.error(g)}a("config",o,u)}async function VC(a,e,n,s,o){try{let u=[];if(o&&o.send_to){let f=o.send_to;Array.isArray(f)||(f=[f]);const g=await D_(n);for(const p of f){const y=g.find(N=>N.measurementId===p),w=y&&e[y.appId];if(w)u.push(w);else{u=[];break}}}u.length===0&&(u=Object.values(e)),await Promise.all(u),a("event",s,o||{})}catch(u){Tn.error(u)}}function LC(a,e,n,s){async function o(u,...f){try{if(u==="event"){const[g,p]=f;await VC(a,e,n,g,p)}else if(u==="config"){const[g,p]=f;await MC(a,e,n,s,g,p)}else if(u==="consent"){const[g,p]=f;a("consent",g,p)}else if(u==="get"){const[g,p,y]=f;a("get",g,p,y)}else if(u==="set"){const[g]=f;a("set",g)}else a(u,...f)}catch(g){Tn.error(g)}}return o}function PC(a,e,n,s,o){let u=function(...f){window[s].push(arguments)};return window[o]&&typeof window[o]=="function"&&(u=window[o]),window[o]=LC(u,a,e,n),{gtagCore:u,wrappedGtag:window[o]}}function zC(a){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Wg)&&n.src.includes(a))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UC=30,qC=1e3;class BC{constructor(e={},n=qC){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const O_=new BC;function HC(a){return new Headers({Accept:"application/json","x-goog-api-key":a})}async function FC(a){var f;const{appId:e,apiKey:n}=a,s={method:"GET",headers:HC(n)},o=AC.replace("{app-id}",e),u=await fetch(o,s);if(u.status!==200&&u.status!==304){let g="";try{const p=await u.json();(f=p.error)!=null&&f.message&&(g=p.error.message)}catch{}throw $n.create("config-fetch-failed",{httpStatus:u.status,responseMessage:g})}return u.json()}async function GC(a,e=O_,n){const{appId:s,apiKey:o,measurementId:u}=a.options;if(!s)throw $n.create("no-app-id");if(!o){if(u)return{measurementId:u,appId:s};throw $n.create("no-api-key")}const f=e.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},g=new KC;return setTimeout(async()=>{g.abort()},SC),M_({appId:s,apiKey:o,measurementId:u},f,g,e)}async function M_(a,{throttleEndTimeMillis:e,backoffCount:n},s,o=O_){var g;const{appId:u,measurementId:f}=a;try{await QC(s,e)}catch(p){if(f)return Tn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${p==null?void 0:p.message}]`),{appId:u,measurementId:f};throw p}try{const p=await FC(a);return o.deleteThrottleMetadata(u),p}catch(p){const y=p;if(!$C(y)){if(o.deleteThrottleMetadata(u),f)return Tn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${y==null?void 0:y.message}]`),{appId:u,measurementId:f};throw p}const w=Number((g=y==null?void 0:y.customData)==null?void 0:g.httpStatus)===503?Pb(n,o.intervalMillis,UC):Pb(n,o.intervalMillis),N={throttleEndTimeMillis:Date.now()+w,backoffCount:n+1};return o.setThrottleMetadata(u,N),Tn.debug(`Calling attemptFetch again in ${w} millis`),M_(a,N,s,o)}}function QC(a,e){return new Promise((n,s)=>{const o=Math.max(e-Date.now(),0),u=setTimeout(n,o);a.addEventListener(()=>{clearTimeout(u),s($n.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function $C(a){if(!(a instanceof Ir)||!a.customData)return!1;const e=Number(a.customData.httpStatus);return e===429||e===500||e===503||e===504}class KC{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function YC(a,e,n,s,o){if(o&&o.global){a("event",n,s);return}else{const u=await e,f={...s,send_to:u};a("event",n,f)}}async function XC(a,e,n,s){if(s&&s.global){const o={};for(const u of Object.keys(n))o[`user_properties.${u}`]=n[u];return a("set",o),Promise.resolve()}else{const o=await e;a("config",o,{update:!0,user_properties:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WC(){if(Kv())try{await Yv()}catch(a){return Tn.warn($n.create("indexeddb-unavailable",{errorInfo:a==null?void 0:a.toString()}).message),!1}else return Tn.warn($n.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function ZC(a,e,n,s,o,u,f){const g=GC(a);g.then(S=>{n[S.measurementId]=S.appId,a.options.measurementId&&S.measurementId!==a.options.measurementId&&Tn.warn(`The measurement ID in the local Firebase config (${a.options.measurementId}) does not match the measurement ID fetched from the server (${S.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(S=>Tn.error(S)),e.push(g);const p=WC().then(S=>{if(S)return s.getId()}),[y,w]=await Promise.all([g,p]);zC(u)||DC(u,y.measurementId),o("js",new Date);const N=(f==null?void 0:f.config)??{};return N[jC]="firebase",N.update=!0,w!=null&&(N[kC]=w),o("config",y.measurementId,N),y.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC{constructor(e){this.app=e}_delete(){return delete zl[this.app.options.appId],Promise.resolve()}}let zl={},mv=[];const gv={};let tm="dataLayer",eR="gtag",pv,Zg,yv=!1;function tR(){const a=[];if($v()&&a.push("This is a browser extension environment."),QT()||a.push("Cookies are not available."),a.length>0){const e=a.map((s,o)=>`(${o+1}) ${s}`).join(" "),n=$n.create("invalid-analytics-context",{errorInfo:e});Tn.warn(n.message)}}function nR(a,e,n){tR();const s=a.options.appId;if(!s)throw $n.create("no-app-id");if(!a.options.apiKey)if(a.options.measurementId)Tn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${a.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw $n.create("no-api-key");if(zl[s]!=null)throw $n.create("already-exists",{id:s});if(!yv){OC(tm);const{wrappedGtag:u,gtagCore:f}=PC(zl,mv,gv,tm,eR);Zg=u,pv=f,yv=!0}return zl[s]=ZC(a,mv,gv,e,pv,tm,n),new JC(a)}function rR(a=Xm()){a=It(a);const e=Ui(a,sh);return e.isInitialized()?e.getImmediate():aR(a)}function aR(a,e={}){const n=Ui(a,sh);if(n.isInitialized()){const o=n.getImmediate();if(Ps(e,n.getOptions()))return o;throw $n.create("already-initialized")}return n.initialize({options:e})}function sR(a,e,n){a=It(a),XC(Zg,zl[a.app.options.appId],e,n).catch(s=>Tn.error(s))}function iR(a,e,n,s){a=It(a),YC(Zg,zl[a.app.options.appId],e,n,s).catch(o=>Tn.error(o))}const xv="@firebase/analytics",bv="0.10.19";function lR(){da(new Ar(sh,(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return nR(s,o,n)},"PUBLIC")),da(new Ar("analytics-internal",a,"PRIVATE")),fr(xv,bv),fr(xv,bv,"esm2020");function a(e){try{const n=e.getProvider(sh).getImmediate();return{logEvent:(s,o,u)=>iR(n,s,o,u),setUserProperties:(s,o)=>sR(n,s,o)}}catch(n){throw $n.create("interop-component-reg-failed",{reason:n})}}}lR();const oR={apiKey:"AIzaSyBFr--na-wJGHMdev7vUhPufAJHlyP3GNQ",authDomain:"school-9d3db.firebaseapp.com",projectId:"school-9d3db",storageBucket:"school-9d3db.firebasestorage.app",messagingSenderId:"429673694272",appId:"1:429673694272:web:43390c4fdfa5bce4744ba5",measurementId:"G-8YSDYV9VBN"},Jg=Jv(oR),yc=AS(Jg),jt=k3(Jg);rR(Jg);const V_=Q.createContext(void 0),cR=({children:a})=>{const[e,n]=Q.useState(null),[s,o]=Q.useState(!0),u=(p,y)=>{const w=`teacher-${y.split("@")[0]}`;let N="https://img.freepik.com/free-vector/teacher-standing-near-blackboard_23-2147517173.jpg";p.includes("")?N="https://lh3.googleusercontent.com/d/1tbzVNKO3FGH46Pa6MZ58OWD4BXVKdK5P":p.includes("")&&(N="https://lh3.googleusercontent.com/d/1xPDpcaUPz3IH-pqv-Jgplroi6U27BVVj"),n({uid:w,email:y,displayName:p,role:"teacher",avatar:N,gender:"male"}),localStorage.setItem("isTeacher","true"),localStorage.setItem("teacherName",p),localStorage.setItem("teacherEmail",y)},f=async()=>{try{(e==null?void 0:e.role)==="teacher"?(localStorage.removeItem("isTeacher"),localStorage.removeItem("teacherName"),localStorage.removeItem("teacherEmail"),n(null)):await xj(yc)}catch(p){console.error("Logout error",p)}},g=async p=>{if(e)try{let y={...p};if(p.firstName!==void 0||p.lastName!==void 0){const w=p.firstName!==void 0?p.firstName:e.firstName||"",N=p.lastName!==void 0?p.lastName:e.lastName||"";y.displayName=`${w} ${N}`.trim()}if(n(w=>w?{...w,...y}:null),e.role!=="teacher"){const w=fa(jt,"users",e.uid);await Gg(w,y,{merge:!0})}}catch(y){throw console.error("Error updating profile:",y),y}};return Q.useEffect(()=>{const p=localStorage.getItem("isTeacher")==="true";if(p){const w=localStorage.getItem("teacherName")||"",N=localStorage.getItem("teacherEmail")||"teacher@etqan.edu";u(w,N),o(!1);return}const y=yj(yc,async w=>{if(w)try{const N=fa(jt,"users",w.uid),S=await f_(N);if(S.exists()){const M=S.data();(w.email==="q@gmail.com"||w.email==="yazan22@gmail.com")&&(M.totalXP=25e3,M.quizzesCompleted=500),n({uid:w.uid,email:w.email||"",displayName:M.displayName||`${M.firstName||""} ${M.lastName||""}`.trim()||"Student",firstName:M.firstName,lastName:M.lastName,age:M.age,role:M.role,grade:M.grade,phone:M.phone,address:M.address,school:M.school,gender:M.gender,avatar:M.avatar,profileBackground:M.profileBackground,genderChanged:M.genderChanged})}else n({uid:w.uid,email:w.email||"",displayName:"User",role:"student"})}catch(N){console.error("Error fetching user profile:",N)}else p||n(null);o(!1)});return()=>y()},[]),l.jsx(V_.Provider,{value:{user:e,loading:s,logout:f,setTeacherSession:u,updateUserProfile:g},children:!s&&a})},ga=()=>{const a=Q.useContext(V_);if(a===void 0)throw new Error("useAuth must be used within an AuthProvider");return a},uR=({onLoginClick:a,onNavigate:e,onLogoutClick:n})=>{const[s,o]=Q.useState(!1),[u,f]=Q.useState(!1),{user:g}=ga();Q.useEffect(()=>{const y=()=>{window.scrollY>10?f(!0):f(!1)};return window.addEventListener("scroll",y),()=>window.removeEventListener("scroll",y)},[]);const p=y=>{e(y),o(!1),window.scrollTo({top:0,behavior:"smooth"})};return l.jsxs("nav",{className:`w-full z-50 sticky top-0 transition-all duration-500 ${u?"bg-gray-950 shadow-lg":"bg-transparent shadow-none"}`,children:[l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"flex justify-between items-center h-16 md:h-20",children:[l.jsxs("div",{className:"flex items-center gap-3 cursor-pointer group",onClick:()=>p("HOME"),children:[l.jsx("div",{className:"p-1 bg-white/5 rounded-full group-hover:bg-white/10 transition-colors",children:l.jsx("img",{src:"https://lh3.googleusercontent.com/d/13x8Gorb7y4H2qcQ1LVJtHY9-RoUhxg2z",alt:"  ",className:"w-10 h-10 md:w-12 md:h-12 rounded-full object-cover border-2 border-white/10 shadow-sm"})}),l.jsx("span",{className:"text-xl md:text-2xl font-black text-white tracking-tight drop-shadow-sm",children:""})]}),l.jsx("div",{className:"hidden md:flex items-center justify-center flex-1 px-4 lg:px-8",children:l.jsxs("div",{className:`flex items-center gap-1 px-2 py-1.5 rounded-full border transition-all duration-500 ${u?"bg-gray-900/50 border-white/5 backdrop-blur-sm":"bg-white/5 border-white/5 backdrop-blur-sm"}`,children:[l.jsxs("button",{onClick:()=>p("HOME"),className:"px-4 py-1.5 text-gray-200 font-bold rounded-full hover:bg-white/10 hover:text-white transition-all flex items-center gap-2 text-sm",children:[l.jsx(Od,{className:"w-4 h-4"}),""]}),l.jsxs("button",{onClick:()=>p("QUIZZES"),className:"px-4 py-1.5 text-gray-200 font-bold rounded-full hover:bg-white/10 hover:text-white transition-all flex items-center gap-2 text-sm",children:[l.jsx(Kn,{className:"w-4 h-4"}),""]}),l.jsxs("button",{onClick:()=>p("LESSONS_EXPLANATIONS"),className:"px-4 py-1.5 text-gray-200 font-bold rounded-full hover:bg-white/10 hover:text-white transition-all flex items-center gap-2 text-sm",children:[l.jsx(bc,{className:"w-4 h-4"}),""]}),l.jsxs("button",{onClick:()=>p("CONTACT_TEACHER"),className:"px-4 py-1.5 text-gray-200 font-bold rounded-full hover:bg-white/10 hover:text-white transition-all flex items-center gap-2 text-sm",children:[l.jsx(Vd,{className:"w-4 h-4"}),""]})]})}),l.jsx("div",{className:"hidden md:flex items-center gap-3",children:g?l.jsxs(l.Fragment,{children:[l.jsxs("button",{onClick:()=>p("PROFILE"),className:"flex items-center gap-2 text-white hover:bg-white/10 px-3 py-1.5 rounded-full transition-all font-bold border border-transparent hover:border-white/10",title:" ",children:[l.jsx("div",{className:"w-8 h-8 rounded-full overflow-hidden bg-white/10 flex items-center justify-center border border-white/20",children:g.avatar?l.jsx("img",{src:g.avatar,alt:"Avatar",className:"w-full h-full object-cover"}):l.jsx(hr,{className:"w-4 h-4"})}),l.jsx("span",{className:"text-sm font-bold max-w-[100px] truncate",children:g.displayName.split(" ")[0]})]}),g.role==="teacher"&&l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:()=>p("QUESTION_BANK"),className:"bg-white/10 text-white w-10 h-10 rounded-full flex items-center justify-center hover:bg-white/20 transition-all border border-white/10",title:" ",children:l.jsx(Vs,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>p("TEACHER_DASHBOARD"),className:"bg-blue-600 text-white w-10 h-10 rounded-full flex items-center justify-center hover:bg-blue-700 transition-all shadow-lg border border-blue-400/50",title:" ",children:l.jsx(xc,{className:"w-5 h-5"})})]}),l.jsx("button",{onClick:n,className:"bg-red-500/10 text-red-300 w-10 h-10 rounded-full flex items-center justify-center hover:bg-red-600 hover:text-white transition-all border border-red-500/20",title:"",children:l.jsx(Md,{className:"w-4 h-4"})})]}):l.jsxs("button",{onClick:a,className:"bg-gradient-to-r from-emerald-600 to-teal-700 text-white px-5 py-2 rounded-full font-bold hover:shadow-[0_0_15px_rgba(16,185,129,0.4)] transition-all shadow-md flex items-center gap-2 transform hover:scale-105 border border-emerald-500/30 text-sm",children:[l.jsx(hm,{className:"w-4 h-4"})," "]})}),l.jsx("div",{className:"md:hidden flex items-center gap-2",children:l.jsx("button",{onClick:()=>o(!s),className:"text-white hover:text-emerald-200 p-2 transition-colors",children:s?l.jsx(aa,{className:"w-7 h-7"}):l.jsx(O4,{className:"w-7 h-7"})})})]})}),s&&l.jsx("div",{className:"md:hidden bg-gray-950/95 backdrop-blur-xl border-t border-white/10 shadow-xl absolute w-full z-50 animate-fade-in h-screen overflow-y-auto pb-20",children:l.jsxs("div",{className:"px-4 pt-2 pb-6 space-y-2",children:[g&&l.jsxs("div",{className:"flex items-center gap-3 mb-6 p-4 bg-white/5 rounded-2xl border border-white/10 mt-4",children:[l.jsx("div",{className:"w-12 h-12 bg-white/10 rounded-full flex items-center justify-center text-white font-bold text-lg overflow-hidden border border-white/20",children:g.avatar?l.jsx("img",{src:g.avatar,alt:"Avatar",className:"w-full h-full object-cover"}):g.displayName.charAt(0)}),l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{className:"font-bold text-white text-lg",children:g.displayName}),l.jsx("span",{className:"text-sm text-gray-400",children:g.email})]})]}),l.jsxs("button",{onClick:()=>p("HOME"),className:"block w-full text-right px-4 py-3 font-bold text-gray-200 hover:bg-white/10 rounded-xl transition-colors flex items-center gap-3",children:[l.jsx(Od,{className:"w-5 h-5 text-emerald-400"})," "]}),l.jsxs("button",{onClick:()=>p("QUIZZES"),className:"block w-full text-right px-4 py-3 font-bold text-gray-200 hover:bg-white/10 rounded-xl transition-colors flex items-center gap-3",children:[l.jsx(Kn,{className:"w-5 h-5 text-emerald-400"}),"  "]}),l.jsxs("button",{onClick:()=>p("LESSONS_EXPLANATIONS"),className:"block w-full text-right px-4 py-3 font-bold text-gray-200 hover:bg-white/10 rounded-xl transition-colors flex items-center gap-3",children:[l.jsx(bc,{className:"w-5 h-5 text-emerald-400"}),"  "]}),l.jsxs("button",{onClick:()=>p("CONTACT_TEACHER"),className:"block w-full text-right px-4 py-3 font-bold text-gray-200 hover:bg-white/10 rounded-xl transition-colors flex items-center gap-3",children:[l.jsx(Vd,{className:"w-5 h-5 text-emerald-400"}),"   "]}),l.jsxs("button",{onClick:()=>p("ABOUT_PLATFORM"),className:"block w-full text-right px-4 py-3 font-bold text-gray-200 hover:bg-white/10 rounded-xl transition-colors flex items-center gap-3",children:[l.jsx(b4,{className:"w-5 h-5 text-emerald-400"}),"  "]}),l.jsxs("button",{onClick:()=>p("SERVICES"),className:"block w-full text-right px-4 py-3 font-bold text-gray-200 hover:bg-white/10 rounded-xl transition-colors flex items-center gap-3",children:[l.jsx(Sv,{className:"w-5 h-5 text-emerald-400"})," "]}),g&&l.jsxs("button",{onClick:()=>p("PROFILE"),className:"block w-full text-right px-4 py-3 font-bold text-gray-200 hover:bg-white/10 rounded-xl transition-colors flex items-center gap-3",children:[l.jsx(XE,{className:"w-5 h-5 text-emerald-400"}),"  "]}),l.jsx("div",{className:"border-t border-white/10 my-2 pt-2"}),g?l.jsxs("div",{className:"space-y-3 mt-2",children:[g.role==="teacher"&&l.jsxs(l.Fragment,{children:[l.jsxs("button",{onClick:()=>p("TEACHER_DASHBOARD"),className:"w-full bg-blue-600 text-white py-3 rounded-xl font-bold shadow-md flex items-center justify-center gap-2",children:[l.jsx(xc,{className:"w-5 h-5"}),"  "]}),l.jsxs("button",{onClick:()=>p("QUESTION_BANK"),className:"w-full bg-gray-700 text-white py-3 rounded-xl font-bold flex items-center justify-center gap-2",children:[l.jsx(Vs,{className:"w-5 h-5"})," "]})]}),l.jsxs("button",{onClick:()=>{o(!1),n()},className:"w-full bg-red-900/20 text-red-400 border border-red-900/30 py-3 rounded-xl font-bold flex items-center justify-center gap-2 hover:bg-red-900/40",children:[l.jsx(Md,{className:"w-5 h-5"})," "]})]}):l.jsxs("button",{onClick:()=>{o(!1),a()},className:"w-full mt-2 bg-gradient-to-r from-emerald-600 to-teal-700 text-white py-3 rounded-xl font-black text-lg shadow-lg flex items-center justify-center gap-2",children:[l.jsx(hm,{className:"w-6 h-6"})," "]})]})})]})},dR=({onStartQuiz:a,onLoginClick:e,onNavigate:n})=>{const{user:s}=ga(),[o,u]=Q.useState(!1),f=()=>{u(!0),setTimeout(()=>u(!1),3e3)},g=()=>{s?n("QUIZZES"):f()},p=()=>{s?n("LESSONS"):f()},y=()=>{n("LESSONS_EXPLANATIONS")},w=()=>{n("CONTACT_TEACHER")};return l.jsxs("section",{className:"relative w-full min-h-[calc(100vh-80px)] flex items-center justify-center bg-transparent overflow-hidden animate-fade-in transition-colors duration-300",children:[o&&l.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center pointer-events-none px-4",children:l.jsxs("div",{className:"bg-red-900/90 border border-red-800 shadow-xl rounded-xl p-4 flex items-center gap-3 relative w-full max-w-md animate-fade-in-up pointer-events-auto backdrop-blur-md",children:[l.jsx("div",{className:"bg-red-800 p-2 rounded-full shrink-0",children:l.jsx(Id,{className:"w-6 h-6 text-red-200"})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h4",{className:"font-bold text-white text-sm",children:"  "}),l.jsx("p",{className:"text-gray-300 text-xs mt-1",children:"        ."})]}),l.jsx("button",{onClick:()=>u(!1),className:"absolute top-2 left-2 text-gray-300 hover:text-white",children:l.jsx(aa,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>{u(!1),e()},className:"mr-auto bg-red-600 text-white text-xs font-bold px-3 py-1.5 rounded-lg hover:bg-red-700 transition-colors shrink-0",children:""})]})}),l.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12 lg:py-0 w-full relative z-10 flex flex-col items-center text-center",children:[l.jsx("div",{className:"flex justify-center mb-6",children:l.jsxs("div",{className:"inline-flex items-center gap-2 bg-emerald-900/40 border border-emerald-800 px-4 py-2 rounded-full shadow-lg backdrop-blur-md",children:[l.jsx(ih,{className:"w-5 h-5 text-yellow-500 fill-yellow-500"}),l.jsx("span",{className:"text-emerald-300 font-bold text-sm",children:"   "})]})}),l.jsxs("h1",{className:"text-4xl md:text-6xl lg:text-7xl font-black text-white leading-[1.2] lg:leading-[1.15] mb-6 drop-shadow-lg",children:["  ",l.jsx("br",{}),l.jsxs("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-emerald-400 to-teal-300 inline-block relative pb-2",children:[" ",l.jsx("svg",{className:"absolute w-full h-3 -bottom-1 right-0 text-emerald-900/50 -z-10",viewBox:"0 0 100 10",preserveAspectRatio:"none",children:l.jsx("path",{d:"M0 5 Q 50 10 100 5",stroke:"currentColor",strokeWidth:"8",fill:"none"})})]}),l.jsx("br",{}),"  "]}),l.jsxs("p",{className:"text-lg md:text-xl text-gray-300 leading-relaxed max-w-2xl mx-auto mb-10",children:["         ",l.jsx("span",{className:"text-emerald-400 font-black text-2xl px-1 relative inline-block",children:"   "}),"."]}),l.jsxs("div",{className:"flex flex-col w-full max-w-md gap-3 justify-center",children:[l.jsxs("button",{onClick:g,className:"w-full bg-gradient-to-r from-emerald-500 to-green-600 hover:from-emerald-600 hover:to-green-700 text-white text-base font-bold py-3 px-5 rounded-xl shadow-lg hover:shadow-emerald-900/50 transition-all flex items-center justify-between group transform hover:-translate-y-1 border border-emerald-400/20",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"bg-white/20 p-1.5 rounded-lg",children:l.jsx(Kn,{className:"w-5 h-5 text-white"})}),l.jsx("span",{children:" "})]}),l.jsx(na,{className:"w-5 h-5 opacity-70 group-hover:opacity-100 group-hover:-translate-x-1 transition-all"})]}),l.jsxs("button",{onClick:y,className:"w-full bg-gradient-to-r from-emerald-500 to-green-600 hover:from-emerald-600 hover:to-green-700 text-white text-base font-bold py-3 px-5 rounded-xl shadow-lg hover:shadow-emerald-900/50 transition-all flex items-center justify-between group transform hover:-translate-y-1 border border-emerald-400/20",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"bg-white/20 p-1.5 rounded-lg",children:l.jsx(bc,{className:"w-5 h-5 text-white"})}),l.jsx("span",{children:" "})]}),l.jsx(na,{className:"w-5 h-5 opacity-70 group-hover:opacity-100 group-hover:-translate-x-1 transition-all"})]}),l.jsxs("button",{onClick:p,className:"w-full bg-gradient-to-r from-emerald-500 to-green-600 hover:from-emerald-600 hover:to-green-700 text-white text-base font-bold py-3 px-5 rounded-xl shadow-lg hover:shadow-emerald-900/50 transition-all flex items-center justify-between group transform hover:-translate-y-1 border border-emerald-400/20",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"bg-white/20 p-1.5 rounded-lg",children:l.jsx(Ul,{className:"w-5 h-5 text-white"})}),l.jsx("span",{children:" "})]}),l.jsx(na,{className:"w-5 h-5 opacity-70 group-hover:opacity-100 group-hover:-translate-x-1 transition-all"})]}),l.jsxs("button",{onClick:w,className:"w-full bg-gradient-to-r from-emerald-500 to-green-600 hover:from-emerald-600 hover:to-green-700 text-white text-base font-bold py-3 px-5 rounded-xl shadow-lg hover:shadow-emerald-900/50 transition-all flex items-center justify-between group transform hover:-translate-y-1 border border-emerald-400/20",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"bg-white/20 p-1.5 rounded-lg",children:l.jsx(Vd,{className:"w-5 h-5 text-white"})}),l.jsx("span",{children:"  "})]}),l.jsx(na,{className:"w-5 h-5 opacity-70 group-hover:opacity-100 group-hover:-translate-x-1 transition-all"})]}),l.jsx("div",{className:"w-full mt-2",children:s?l.jsxs("button",{onClick:()=>n("PROFILE"),className:"w-full bg-gray-800/80 backdrop-blur-sm border-2 border-emerald-900 text-emerald-400 hover:bg-emerald-900/20 text-base font-bold py-3 px-5 rounded-xl transition-all flex items-center justify-center gap-3 shadow-sm hover:shadow-md",children:[l.jsx(hr,{className:"w-5 h-5"})," "]}):l.jsxs("button",{onClick:e,className:"w-full bg-gradient-to-r from-orange-500 to-red-600 hover:from-orange-600 hover:to-red-700 text-white text-base font-bold py-3 px-5 rounded-xl shadow-lg hover:shadow-orange-500/40 transition-all flex items-center justify-between group transform hover:-translate-y-1 border border-orange-400/20",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"bg-white/20 p-1.5 rounded-lg",children:l.jsx(hm,{className:"w-5 h-5 text-white"})}),l.jsx("span",{children:"  "})]}),l.jsx(na,{className:"w-5 h-5 opacity-70 group-hover:opacity-100 group-hover:-translate-x-1 transition-all"})]})})]})]})]})},nm=({className:a})=>l.jsx("svg",{viewBox:"0 0 24 24",className:a,fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.008-.57-.008-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"})}),rm=({className:a})=>l.jsx("svg",{viewBox:"0 0 24 24",className:a,fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.694 0zM4.98 14.41c6.009-2.607 10.015-4.335 12.019-5.168 2.656-.867 3.084-.386 2.84 1.712-.366 3.157-1.408 8.873-1.93 10.364-.22.628-.648.676-1.308.244-1.68-1.044-3.896-2.532-4.812-3.132-.956-.628-1.144-1.24-.208-2.212 2.168-2.248 4.068-4.064 3.724-4.376-.428-.388-2.648.82-7.008 3.776-.784.532-1.496.524-2.192.316-1.04-.312-2.052-.648-2.828-.904-1.056-.348-1.06-1.056.172-1.576z"})}),hR=({className:a})=>l.jsx("svg",{viewBox:"0 0 24 24",className:a,fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M12 2C6.48 2 2 6.03 2 11c0 2.87 1.56 5.47 4 7.1V22l3.57-1.96c.78.22 1.6.34 2.43.34 5.52 0 10-4.03 10-9s-4.48-9-10-9zm1.06 12.07l-2.6-2.78-5.07 2.78 5.58-5.93 2.62 2.78 5.05-2.78-5.58 5.93z"})}),vv=[{id:1,name:" ",text:"       .",platform:"whatsapp",time:"10:30 "},{id:2,name:" ",text:"       .",platform:"messenger",time:"11:15 "},{id:3,name:" ",text:"        .",platform:"telegram",time:"09:45 "},{id:4,name:" ",text:"      .",platform:"whatsapp",time:"02:20 "},{id:5,name:"  ",text:"        .",platform:"messenger",time:"04:10 "},{id:6,name:" ",text:"       .",platform:"telegram",time:"08:00 "},{id:7,name:" ",text:"        .",platform:"whatsapp",time:"01:30 "},{id:8,name:" ",text:"       .",platform:"messenger",time:"06:45 "},{id:9,name:" ",text:"       .",platform:"telegram",time:"03:15 "},{id:10,name:" ",text:"       .",platform:"whatsapp",time:"12:00 "},{id:11,name:" ",text:"        .",platform:"messenger",time:"07:30 "},{id:12,name:" ",text:"      .",platform:"telegram",time:"10:10 "},{id:13,name:" ",text:"         .",platform:"whatsapp",time:"05:50 "},{id:14,name:" ",text:"        .",platform:"messenger",time:"09:20 "},{id:15,name:" ",text:"        .",platform:"telegram",time:"08:45 "}],fR=({onNavigate:a})=>{const[e,n]=Q.useState([0,1,2]),[s,o]=Q.useState(!0);Q.useEffect(()=>{const g=setInterval(()=>{o(!1),setTimeout(()=>{const p=[];for(;p.length<3;){const y=Math.floor(Math.random()*vv.length);p.includes(y)||p.push(y)}n(p),o(!0)},500)},5e3);return()=>clearInterval(g)},[]);const u=g=>{switch(g){case"whatsapp":return l.jsx(nm,{className:"w-5 h-5 text-white"});case"messenger":return l.jsx(hR,{className:"w-5 h-5 text-white"});case"telegram":return l.jsx(rm,{className:"w-5 h-5 text-white"});default:return null}},f=g=>{switch(g){case"whatsapp":return"bg-green-500";case"messenger":return"bg-blue-600";case"telegram":return"bg-sky-500";default:return"bg-gray-500"}};return l.jsx("section",{className:"py-20 relative overflow-hidden",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10",children:[l.jsxs("div",{className:"text-center mb-16",children:[l.jsx("h2",{className:"text-4xl font-black text-white mb-4 drop-shadow-md",children:" "}),l.jsx("div",{className:"w-24 h-1.5 bg-emerald-500 mx-auto rounded-full shadow-[0_0_10px_rgba(16,185,129,0.5)]"}),l.jsx("p",{className:"mt-6 text-xl text-gray-300 max-w-3xl mx-auto leading-relaxed",children:"                       ."})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-12",children:[l.jsxs("div",{className:"bg-white/5 backdrop-blur-xl p-8 rounded-[2.5rem] border border-white/10 hover:border-emerald-500/50 transition-all group flex flex-col h-full shadow-2xl",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-8 mb-6",children:[l.jsx("div",{className:"w-64 h-64 rounded-3xl shadow-2xl overflow-hidden shrink-0 border-4 border-white/10 group-hover:border-emerald-500/30 group-hover:scale-105 transition-all",children:l.jsx("img",{src:"https://lh3.googleusercontent.com/d/1tbzVNKO3FGH46Pa6MZ58OWD4BXVKdK5P",alt:".   ",className:"w-full h-full object-cover"})}),l.jsxs("div",{className:"text-center sm:text-right flex-1",children:[l.jsx("h3",{className:"text-3xl font-black text-white mb-3",children:".   "}),l.jsx("p",{className:"text-emerald-400 font-bold text-xl mb-4 drop-shadow-sm",children:"  "}),l.jsxs("div",{className:"flex items-center justify-center sm:justify-start gap-2 text-gray-300 font-medium bg-black/30 px-4 py-2 rounded-full inline-flex shadow-inner border border-white/5",children:[l.jsx(mm,{className:"w-5 h-5 text-emerald-500"}),"   - "]})]})]}),l.jsxs("div",{className:"mt-auto pt-6 border-t border-white/10",children:[l.jsx("p",{className:"text-sm font-bold text-gray-400 mb-4 text-center sm:text-right",children:" "}),l.jsxs("div",{className:"flex gap-4 justify-center sm:justify-start",children:[l.jsx("a",{href:"#",className:"w-14 h-14 rounded-full bg-[#1877F2] text-white flex items-center justify-center shadow-lg hover:scale-110 transition-transform border border-white/10",children:l.jsx(dm,{className:"w-7 h-7"})}),l.jsx("a",{href:"https://wa.me/972568401548",target:"_blank",rel:"noopener noreferrer",className:"w-14 h-14 rounded-full bg-[#25D366] text-white flex items-center justify-center shadow-lg hover:scale-110 transition-transform border border-white/10",children:l.jsx(nm,{className:"w-7 h-7"})}),l.jsx("a",{href:"https://t.me/yazan1342",target:"_blank",rel:"noopener noreferrer",className:"w-14 h-14 rounded-full bg-[#0088cc] text-white flex items-center justify-center shadow-lg hover:scale-110 transition-transform border border-white/10",children:l.jsx(rm,{className:"w-7 h-7"})})]})]})]}),l.jsxs("div",{className:"bg-white/5 backdrop-blur-xl p-8 rounded-[2.5rem] border border-white/10 hover:border-blue-500/50 transition-all group flex flex-col h-full shadow-2xl",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-8 mb-6",children:[l.jsx("div",{className:"w-64 h-64 rounded-3xl shadow-2xl overflow-hidden shrink-0 border-4 border-white/10 group-hover:border-blue-500/30 group-hover:scale-105 transition-all",children:l.jsx("img",{src:"https://lh3.googleusercontent.com/d/1xPDpcaUPz3IH-pqv-Jgplroi6U27BVVj",alt:".   ",className:"w-full h-full object-cover"})}),l.jsxs("div",{className:"text-center sm:text-right flex-1",children:[l.jsx("h3",{className:"text-3xl font-black text-white mb-3",children:".   "}),l.jsx("p",{className:"text-blue-400 font-bold text-xl mb-4 drop-shadow-sm",children:"  "}),l.jsxs("div",{className:"flex items-center justify-center sm:justify-start gap-2 text-gray-300 font-medium bg-black/30 px-4 py-2 rounded-full inline-flex shadow-inner border border-white/5",children:[l.jsx(mm,{className:"w-5 h-5 text-blue-500"}),"   - "]})]})]}),l.jsxs("div",{className:"mt-auto pt-6 border-t border-white/10",children:[l.jsx("p",{className:"text-sm font-bold text-gray-400 mb-4 text-center sm:text-right",children:" "}),l.jsxs("div",{className:"flex gap-4 justify-center sm:justify-start",children:[l.jsx("a",{href:"#",className:"w-14 h-14 rounded-full bg-[#1877F2] text-white flex items-center justify-center shadow-lg hover:scale-110 transition-transform border border-white/10",children:l.jsx(dm,{className:"w-7 h-7"})}),l.jsx("a",{href:"#",className:"w-14 h-14 rounded-full bg-[#25D366] text-white flex items-center justify-center shadow-lg hover:scale-110 transition-transform border border-white/10",children:l.jsx(nm,{className:"w-7 h-7"})}),l.jsx("a",{href:"#",className:"w-14 h-14 rounded-full bg-[#0088cc] text-white flex items-center justify-center shadow-lg hover:scale-110 transition-transform border border-white/10",children:l.jsx(rm,{className:"w-7 h-7"})})]})]})]})]}),l.jsx("div",{className:"text-center mb-12",children:l.jsxs("button",{onClick:()=>a("TEACHER_CV"),className:"inline-flex items-center gap-3 bg-gradient-to-r from-emerald-600 to-teal-600 text-white text-xl font-bold px-10 py-5 rounded-full shadow-lg hover:shadow-[0_0_20px_rgba(16,185,129,0.4)] transition-all transform hover:-translate-y-1 border border-emerald-500/50",children:[l.jsx(Si,{className:"w-6 h-6"}),"  ",l.jsx(Cd,{className:"w-6 h-6"})]})}),l.jsxs("div",{className:"mb-0 pt-10 border-t border-white/10",children:[l.jsxs("div",{className:"text-center mb-10",children:[l.jsx("h2",{className:"text-3xl font-black text-white mb-4",children:"  "}),l.jsx("p",{className:"text-gray-400",children:"       "})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:e.map((g,p)=>{const y=vv[g];return l.jsx("div",{className:`transform transition-all duration-500 ${s?"opacity-100 translate-y-0":"opacity-0 translate-y-4"}`,children:l.jsxs("div",{className:"bg-white/5 backdrop-blur-md rounded-3xl p-6 shadow-lg border border-white/5 relative h-full flex flex-col hover:border-white/20 hover:bg-white/10 transition-all",children:[l.jsx("div",{className:"absolute -bottom-2 right-8 w-4 h-4 bg-white/5 border-b border-r border-white/5 transform rotate-45"}),l.jsxs("div",{className:"flex justify-between items-start mb-4",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-12 h-12 rounded-full bg-emerald-900/50 flex items-center justify-center text-emerald-300 font-bold text-lg border border-emerald-500/20",children:y.name.charAt(0)}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-bold text-white",children:y.name}),l.jsx("span",{className:"text-xs text-gray-500 font-medium",children:y.time})]})]}),l.jsx("div",{className:`w-8 h-8 rounded-full ${f(y.platform)} flex items-center justify-center shadow-md ring-2 ring-black/20`,children:u(y.platform)})]}),l.jsxs("p",{className:"text-gray-300 text-base leading-relaxed font-medium",children:['"',y.text,'"']})]})},`${y.id}-${p}`)})})]})]})})},mR=({isOpen:a,onClose:e})=>{const[n,s]=Q.useState("ROLE_SELECTION"),[o,u]=Q.useState(!1),[f,g]=Q.useState(null),[p,y]=Q.useState(null),{setTeacherSession:w}=ga(),[N,S]=Q.useState(""),[M,F]=Q.useState(""),[re,Y]=Q.useState(""),[oe,ue]=Q.useState(""),[le,je]=Q.useState(""),[ae,B]=Q.useState(""),[k,E]=Q.useState(""),[j,D]=Q.useState(""),[I,V]=Q.useState(""),[A,Ue]=Q.useState("male"),[Ze,K]=Q.useState("");if(!a)return null;const ce=()=>{s("ROLE_SELECTION"),g(null),y(null),S(""),F(""),Y(""),ue(""),je(""),B(""),E(""),D(""),V(""),Ue("male"),K(""),u(!1)},ye=()=>{ce(),e()},Re=ve=>{ve.preventDefault(),g(null),u(!0),setTimeout(()=>{N==="2001"?(w(".   ","yazan@etqan.edu"),y("   !"),setTimeout(()=>ye(),1500)):N==="2003"?(w(".   ","majd@etqan.edu"),y("    !"),setTimeout(()=>ye(),1500)):(g("   "),u(!1))},800)},qe=async ve=>{ve.preventDefault(),g(null),u(!0);try{await mj(yc,M.trim(),re),y("   !"),setTimeout(()=>ye(),1500)}catch(Et){console.error(Et),g("      "),u(!1)}},R=async ve=>{ve.preventDefault(),g(null),u(!0);try{const Kt=(await fj(yc,j.trim(),I)).user;await Gg(fa(jt,"users",Kt.uid),{firstName:oe,lastName:le,age:ae,grade:k,gender:A,avatar:"",profileBackground:"https://lh3.googleusercontent.com/d/16IHotAb2_MEMsfpUxEIx8CBx94kLVYCs",email:j.trim(),role:"student",totalXP:0,quizzesCompleted:0,createdAt:new Date}),y("   !"),setTimeout(()=>ye(),1500)}catch(Et){console.error(Et),Et.code==="auth/email-already-in-use"?g("   "):Et.code==="auth/weak-password"?g("   "):g("    .    ."),u(!1)}},X=async ve=>{ve.preventDefault(),g(null),u(!0);try{await hj(yc,Ze.trim()),y("   !")}catch(Et){console.error(Et),Et.code==="auth/user-not-found"?g("    "):Et.code==="auth/invalid-email"?g("    "):Et.code==="auth/too-many-requests"?g("           ."):g("          .")}finally{u(!1)}},P=()=>{switch(n){case"TEACHER_LOGIN":return"    ...";case"STUDENT_LOGIN":return"  ...";case"STUDENT_SIGNUP":return"   ...";case"FORGOT_PASSWORD":return"   ...";default:return" ..."}},W=()=>l.jsxs("div",{className:"flex flex-col gap-4",children:[l.jsx("h3",{className:"text-xl font-bold text-center mb-6 text-gray-800 dark:text-white",children:"   "}),l.jsxs("button",{onClick:()=>s("STUDENT_LOGIN"),className:"group flex items-center p-4 border-2 border-gray-100 dark:border-gray-700 rounded-2xl hover:border-emerald-500 hover:bg-emerald-50 dark:hover:bg-emerald-900/20 transition-all",children:[l.jsx("div",{className:"bg-emerald-100 dark:bg-emerald-900 p-3 rounded-full ml-4 group-hover:bg-emerald-200 dark:group-hover:bg-emerald-800 transition-colors",children:l.jsx(hr,{className:"w-8 h-8 text-emerald-600 dark:text-emerald-400"})}),l.jsxs("div",{className:"text-right flex-1",children:[l.jsx("div",{className:"font-bold text-lg text-gray-900 dark:text-white",children:" "}),l.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"    "})]}),l.jsx(U0,{className:"w-5 h-5 text-gray-300 group-hover:text-emerald-500"})]}),l.jsxs("button",{onClick:()=>s("TEACHER_LOGIN"),className:"group flex items-center p-4 border-2 border-gray-100 dark:border-gray-700 rounded-2xl hover:border-blue-500 hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-all",children:[l.jsx("div",{className:"bg-blue-100 dark:bg-blue-900 p-3 rounded-full ml-4 group-hover:bg-blue-200 dark:group-hover:bg-blue-800 transition-colors",children:l.jsx(Pi,{className:"w-8 h-8 text-blue-600 dark:text-blue-400"})}),l.jsxs("div",{className:"text-right flex-1",children:[l.jsx("div",{className:"font-bold text-lg text-gray-900 dark:text-white",children:" "}),l.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"   "})]}),l.jsx(U0,{className:"w-5 h-5 text-gray-300 group-hover:text-blue-500"})]})]}),me=()=>l.jsxs("form",{onSubmit:Re,className:"flex flex-col gap-4",children:[l.jsxs("div",{className:"text-center mb-6",children:[l.jsx("div",{className:"bg-blue-100 dark:bg-blue-900 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx(Ni,{className:"w-8 h-8 text-blue-600 dark:text-blue-400"})}),l.jsx("h3",{className:"text-xl font-bold text-gray-800 dark:text-white",children:" "}),l.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm mt-1",children:"     "})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:" "}),l.jsx("input",{type:"password",value:N,onChange:ve=>S(ve.target.value),className:"w-full px-4 py-3 rounded-xl border border-gray-200 dark:border-gray-700 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 dark:focus:ring-blue-900 outline-none transition-all text-center text-lg tracking-widest bg-white dark:bg-gray-800 text-black dark:text-white placeholder-gray-500",placeholder:"",required:!0})]}),l.jsx("button",{type:"submit",className:"mt-4 w-full bg-blue-600 text-white py-3 rounded-xl font-bold hover:bg-blue-700 transition-colors shadow-lg shadow-blue-200 dark:shadow-none",children:""})]}),Ee=()=>l.jsxs("form",{onSubmit:qe,className:"flex flex-col gap-4",children:[l.jsxs("div",{className:"text-center mb-6",children:[l.jsx("h3",{className:"text-xl font-bold text-gray-800 dark:text-white",children:"  "}),l.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm mt-1",children:" !   "})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:" "}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:"email",value:M,onChange:ve=>F(ve.target.value),className:"w-full px-4 py-3 pr-10 rounded-xl border border-gray-200 dark:border-gray-700 focus:border-emerald-500 focus:ring-2 focus:ring-emerald-200 dark:focus:ring-emerald-900 outline-none transition-all bg-white dark:bg-gray-800 text-black dark:text-white placeholder-gray-500",placeholder:"student@example.com",required:!0}),l.jsx(fm,{className:"w-5 h-5 text-gray-400 absolute top-3.5 right-3"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:" "}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:"password",value:re,onChange:ve=>Y(ve.target.value),className:"w-full px-4 py-3 pr-10 rounded-xl border border-gray-200 dark:border-gray-700 focus:border-emerald-500 focus:ring-2 focus:ring-emerald-200 dark:focus:ring-emerald-900 outline-none transition-all bg-white dark:bg-gray-800 text-black dark:text-white placeholder-gray-500",placeholder:"",required:!0}),l.jsx(Ni,{className:"w-5 h-5 text-gray-400 absolute top-3.5 right-3"})]}),l.jsx("div",{className:"text-left",children:l.jsx("button",{type:"button",onClick:()=>s("FORGOT_PASSWORD"),className:"text-xs text-emerald-600 dark:text-emerald-400 font-bold hover:underline",children:"  "})})]}),l.jsx("button",{type:"submit",disabled:o,className:"mt-4 w-full bg-emerald-600 text-white py-3 rounded-xl font-bold hover:bg-emerald-700 transition-colors shadow-lg shadow-emerald-200 dark:shadow-none flex items-center justify-center gap-2",children:" "}),l.jsx("div",{className:"mt-4 text-center",children:l.jsxs("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:["   "," ",l.jsx("button",{type:"button",onClick:()=>s("STUDENT_SIGNUP"),className:"text-emerald-600 dark:text-emerald-400 font-bold hover:underline",children:"  "})]})})]}),Ve=()=>l.jsxs("form",{onSubmit:R,className:"flex flex-col gap-3",children:[l.jsxs("div",{className:"text-center mb-4",children:[l.jsx("h3",{className:"text-xl font-bold text-gray-800 dark:text-white",children:"   "}),l.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm mt-1",children:"   "})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-xs font-bold text-gray-500 dark:text-gray-400",children:" "}),l.jsx("input",{type:"text",value:oe,onChange:ve=>ue(ve.target.value),className:"w-full px-3 py-2 rounded-lg border border-gray-200 dark:border-gray-700 focus:border-emerald-500 outline-none bg-white dark:bg-gray-800 text-black dark:text-white placeholder-gray-500 text-sm",required:!0})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-xs font-bold text-gray-500 dark:text-gray-400",children:" "}),l.jsx("input",{type:"text",value:le,onChange:ve=>je(ve.target.value),className:"w-full px-3 py-2 rounded-lg border border-gray-200 dark:border-gray-700 focus:border-emerald-500 outline-none bg-white dark:bg-gray-800 text-black dark:text-white placeholder-gray-500 text-sm",required:!0})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-xs font-bold text-gray-500 dark:text-gray-400",children:""}),l.jsx("input",{type:"number",value:ae,onChange:ve=>B(ve.target.value),className:"w-full px-3 py-2 rounded-lg border border-gray-200 dark:border-gray-700 focus:border-emerald-500 outline-none bg-white dark:bg-gray-800 text-black dark:text-white placeholder-gray-500 text-sm",required:!0})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-xs font-bold text-gray-500 dark:text-gray-400",children:""}),l.jsxs("div",{className:"flex gap-2 h-[42px]",children:[l.jsx("button",{type:"button",onClick:()=>Ue("male"),className:`flex-1 rounded-lg text-sm font-bold transition-all border ${A==="male"?"bg-blue-100 dark:bg-blue-900 border-blue-500 text-blue-700 dark:text-blue-300":"bg-gray-50 dark:bg-gray-800 border-gray-200 dark:border-gray-700 text-gray-500 dark:text-gray-400"}`,children:""}),l.jsx("button",{type:"button",onClick:()=>Ue("female"),className:`flex-1 rounded-lg text-sm font-bold transition-all border ${A==="female"?"bg-pink-100 dark:bg-pink-900 border-pink-500 text-pink-700 dark:text-pink-300":"bg-gray-50 dark:bg-gray-800 border-gray-200 dark:border-gray-700 text-gray-500 dark:text-gray-400"}`,children:""})]})]})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-xs font-bold text-gray-500 dark:text-gray-400 block mb-1",children:" :"}),l.jsx("div",{className:"grid grid-cols-4 gap-2",children:[5,6,7,8,9,10,11,12].map(ve=>l.jsx("button",{type:"button",onClick:()=>E(ve.toString()),className:`py-2 px-1 rounded-xl text-sm font-bold transition-all border ${k===ve.toString()?"bg-emerald-600 text-white border-emerald-600 shadow-md scale-105":"bg-gray-50 dark:bg-gray-800 text-gray-600 dark:text-gray-300 border-gray-100 dark:border-gray-700 hover:bg-emerald-50 dark:hover:bg-emerald-900/20 hover:border-emerald-200"}`,children:ve},ve))})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-xs font-bold text-gray-500 dark:text-gray-400",children:" "}),l.jsx("input",{type:"email",value:j,onChange:ve=>D(ve.target.value),className:"w-full px-3 py-2 rounded-lg border border-gray-200 dark:border-gray-700 focus:border-emerald-500 outline-none bg-white dark:bg-gray-800 text-black dark:text-white placeholder-gray-500 text-sm",required:!0})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsx("label",{className:"text-xs font-bold text-gray-500 dark:text-gray-400",children:" "}),l.jsx("input",{type:"password",value:I,onChange:ve=>V(ve.target.value),className:"w-full px-3 py-2 rounded-lg border border-gray-200 dark:border-gray-700 focus:border-emerald-500 outline-none bg-white dark:bg-gray-800 text-black dark:text-white placeholder-gray-500 text-sm",required:!0,minLength:6})]}),l.jsx("button",{type:"submit",disabled:o,className:"mt-2 w-full bg-emerald-600 text-white py-3 rounded-xl font-bold hover:bg-emerald-700 transition-colors shadow-lg shadow-emerald-200 dark:shadow-none flex items-center justify-center gap-2",children:" "}),l.jsx("div",{className:"text-center mt-2",children:l.jsx("button",{type:"button",onClick:()=>s("STUDENT_LOGIN"),className:"text-sm text-gray-500 dark:text-gray-400 hover:text-emerald-600 transition-colors",children:"    "})})]}),bt=()=>l.jsxs("form",{onSubmit:X,className:"flex flex-col gap-4",children:[l.jsxs("div",{className:"text-center mb-6",children:[l.jsx("h3",{className:"text-xl font-bold text-gray-800 dark:text-white",children:"  "}),l.jsxs("p",{className:"text-gray-500 dark:text-gray-400 text-sm mt-1",children:["     ",l.jsx("strong",{children:""}),"  "]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:" "}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:"email",value:Ze,onChange:ve=>K(ve.target.value),className:"w-full px-4 py-3 pr-10 rounded-xl border border-gray-200 dark:border-gray-700 focus:border-emerald-500 focus:ring-2 focus:ring-emerald-200 dark:focus:ring-emerald-900 outline-none transition-all bg-white dark:bg-gray-800 text-black dark:text-white placeholder-gray-500",placeholder:"student@example.com",required:!0}),l.jsx(fm,{className:"w-5 h-5 text-gray-400 absolute top-3.5 right-3"})]})]}),l.jsx("button",{type:"submit",disabled:o,className:"mt-4 w-full bg-emerald-600 text-white py-3 rounded-xl font-bold hover:bg-emerald-700 transition-colors shadow-lg shadow-emerald-200 dark:shadow-none flex items-center justify-center gap-2",children:"  "}),l.jsx("div",{className:"text-center mt-4",children:l.jsxs("button",{type:"button",onClick:()=>s("STUDENT_LOGIN"),className:"text-sm text-gray-500 dark:text-gray-400 hover:text-emerald-600 transition-colors flex items-center justify-center gap-1 mx-auto",children:[l.jsx(Cd,{className:"w-4 h-4"}),"  "]})})]});return l.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center px-4",children:[l.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm transition-opacity duration-300",onClick:ye}),l.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-3xl w-full max-w-md relative shadow-2xl overflow-hidden animate-fade-in-up p-6 min-h-[400px] flex flex-col border border-gray-100 dark:border-gray-800",children:[o&&!p&&l.jsxs("div",{className:"absolute inset-0 bg-white/90 dark:bg-gray-900/90 backdrop-blur-sm z-50 flex flex-col items-center justify-center animate-fade-in rounded-3xl",children:[l.jsxs("div",{className:"relative mb-6",children:[l.jsx("div",{className:"absolute inset-0 bg-emerald-200 dark:bg-emerald-900 rounded-full animate-ping opacity-30 duration-1000"}),l.jsx("div",{className:"relative w-20 h-20 bg-emerald-50 dark:bg-emerald-900/50 rounded-full flex items-center justify-center border border-emerald-100 dark:border-emerald-800 shadow-inner",children:l.jsx(Wt,{className:"w-10 h-10 text-emerald-600 dark:text-emerald-400 animate-spin"})})]}),l.jsx("h4",{className:"text-lg font-black text-gray-800 dark:text-white mb-2 tracking-tight animate-pulse",children:P()}),l.jsx("p",{className:"text-gray-400 text-xs font-medium",children:"   "})]}),l.jsx("button",{onClick:ye,disabled:o,className:"absolute top-4 left-4 p-2 text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-full transition-colors z-10 disabled:opacity-50",children:l.jsx(aa,{className:"w-5 h-5"})}),n!=="ROLE_SELECTION"&&!p&&n!=="FORGOT_PASSWORD"&&l.jsxs("button",{onClick:()=>s("ROLE_SELECTION"),disabled:o,className:"absolute top-4 right-4 p-2 text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-full transition-colors z-10 flex items-center gap-1 disabled:opacity-50",children:[l.jsx(U0,{className:"w-5 h-5"}),l.jsx("span",{className:"text-xs font-bold",children:""})]}),l.jsx("div",{className:"mt-6 flex-1 flex flex-col justify-center",children:p?l.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-center gap-4 animate-fade-in",children:[l.jsx("div",{className:"w-20 h-20 bg-green-100 dark:bg-green-900 rounded-full flex items-center justify-center mb-2 animate-[bounce_1s_infinite]",children:l.jsx(Qm,{className:"w-10 h-10 text-green-600 dark:text-green-400"})}),l.jsx("h3",{className:"text-2xl font-bold text-gray-800 dark:text-white leading-relaxed px-4 whitespace-pre-line",children:p}),n==="FORGOT_PASSWORD"&&l.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-900 rounded-xl p-4 mx-4 text-sm text-yellow-800 dark:text-yellow-200 text-right shadow-sm mt-4",children:[l.jsxs("p",{className:"font-bold flex items-center gap-2 mb-2 text-yellow-900 dark:text-yellow-100",children:[l.jsx(Id,{className:"w-5 h-5"}),"  :"]}),l.jsxs("p",{className:"leading-relaxed",children:["         ",l.jsx("strong",{children:"    (Spam)"}),"  (Junk)."]})]}),l.jsx("button",{onClick:()=>{n==="FORGOT_PASSWORD"?(s("STUDENT_LOGIN"),y(null)):ye()},className:"mt-8 bg-emerald-600 text-white px-10 py-3 rounded-xl font-bold hover:bg-emerald-700 transition-colors shadow-lg shadow-emerald-200 dark:shadow-none transform hover:scale-105 duration-200",children:n==="FORGOT_PASSWORD"?"  ":""})]}):l.jsxs(l.Fragment,{children:[n==="ROLE_SELECTION"&&W(),n==="TEACHER_LOGIN"&&me(),n==="STUDENT_LOGIN"&&Ee(),n==="STUDENT_SIGNUP"&&Ve(),n==="FORGOT_PASSWORD"&&bt(),f&&l.jsxs("div",{className:"mt-4 p-3 bg-red-50 dark:bg-red-900/20 border border-red-100 dark:border-red-900 rounded-lg flex items-start gap-2 text-red-600 dark:text-red-400 text-sm animate-fade-in",children:[l.jsx(Id,{className:"w-5 h-5 shrink-0 mt-0.5"}),l.jsx("span",{className:"font-medium",children:f})]})]})})]})]})},gR=()=>{const{user:a}=ga(),[e,n]=Q.useState(!1),[s,o]=Q.useState(null),[u,f]=Q.useState("MCQ"),[g,p]=Q.useState({title:"",subject:"English",grade:"",category:"Language",description:""}),[y,w]=Q.useState([]),[N,S]=Q.useState(null),[M,F]=Q.useState({question:"",options:["","","",""],correctAnswer:0,explanation:"",passageContent:"",generalInstruction:"",passageFontSize:"md"}),[re,Y]=Q.useState(""),[oe,ue]=Q.useState(!1),[le,je]=Q.useState([]),[ae,B]=Q.useState(!1),[k,E]=Q.useState(""),j=(P,W)=>{F(me=>({...me,[P]:W}))},D=(P,W)=>{const me=[...M.options];me[P]=W,F(Ee=>({...Ee,options:me}))},I=()=>{if(!M.question.trim()){alert("   ");return}if((u==="MCQ"||u==="READING")&&M.options.some(me=>!me.trim())){alert("   ");return}if(u==="READING"&&!M.passageContent.trim()){alert("   ");return}if(u==="REORDER"&&!re.trim()){alert("    ");return}let P=[];if(u==="TF")P=["",""];else if(u==="REORDER"){if(P=re.split(" ").filter(me=>me.trim().length>0),P.length<2){alert("       ");return}}else P=M.options;const W={id:N||Date.now(),question:M.question,options:P,correctAnswer:M.correctAnswer,explanation:M.explanation||"",type:u};u==="READING"&&(W.passageContent=M.passageContent,W.generalInstruction=M.generalInstruction,W.passageFontSize=M.passageFontSize),N?(w(y.map(me=>me.id===N?W:me)),S(null)):w([...y,W]),V()},V=()=>{F({question:"",options:["","","",""],correctAnswer:0,explanation:"",passageContent:"",generalInstruction:"",passageFontSize:"md"}),Y(""),S(null),f("MCQ")},A=P=>{const W=y.find(me=>me.id===P);W&&(S(P),f(W.type||"MCQ"),W.type==="REORDER"?(Y(W.options.join(" ")),F({question:W.question,options:["","","",""],correctAnswer:W.correctAnswer,explanation:W.explanation||"",passageContent:W.passageContent||"",generalInstruction:W.generalInstruction||"",passageFontSize:W.passageFontSize||"md"})):(F({question:W.question,options:W.type==="TF"?["","","",""]:W.options.length>=4?W.options:[...W.options,...Array(4-W.options.length).fill("")],correctAnswer:W.correctAnswer,explanation:W.explanation||"",passageContent:W.passageContent||"",generalInstruction:W.generalInstruction||"",passageFontSize:W.passageFontSize||"md"}),Y("")),window.scrollTo({top:0,behavior:"smooth"}))},Ue=()=>{V()},Ze=P=>{window.confirm("      ")&&(w(y.filter(W=>W.id!==P)),N===P&&V())},K=async()=>{if(!g.title||!g.grade){alert("     ");return}if(y.length===0){alert("     ");return}n(!0);try{const P={title:g.title,subject:g.subject,grade:g.grade,category:g.category,questions:y,createdBy:(a==null?void 0:a.uid)||"teacher",teacherName:(a==null?void 0:a.displayName)||"",description:g.description||""};if(s){const W=fa(jt,"quizzes",s);await Qg(W,{...P,updatedAt:$l()}),alert("    !")}else await Dh(En(jt,"quizzes"),{...P,createdAt:$l()}),alert("    !");p({title:"",subject:"English",grade:"",category:"Language",description:""}),w([]),o(null),V()}catch(P){console.error("Error saving quiz:",P),alert("   ")}finally{n(!1)}},ce=()=>{window.confirm("        .")&&(p({title:"",subject:"English",grade:"",category:"Language",description:""}),w([]),o(null),V())},ye=async()=>{B(!0);try{const P=jr(En(jt,"quizzes"),u_("createdAt","desc")),W=await ma(P);je(W.docs.map(me=>({id:me.id,...me.data()})))}catch(P){console.error(P)}B(!1)},Re=()=>{ye(),ue(!0)},qe=P=>{y.length>0&&!window.confirm("         .")||(o(P.id||null),p({title:P.title,subject:P.subject,grade:P.grade,category:P.category||"Language",description:P.description||""}),w(P.questions),ue(!1),V(),window.scrollTo({top:0,behavior:"smooth"}))},R=le.filter(P=>P.title.toLowerCase().includes(k.toLowerCase())||P.grade.includes(k)),X=[{value:"sm",label:""},{value:"md",label:""},{value:"lg",label:""},{value:"xl",label:" "}];return l.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 pb-20 animate-fade-in transition-colors duration-300",children:[l.jsx("div",{className:"bg-white dark:bg-gray-800 pt-10 pb-28 px-4 border-b border-gray-200 dark:border-gray-700 shadow-sm relative overflow-hidden",children:l.jsx("div",{className:"max-w-6xl mx-auto relative z-10",children:l.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-6",children:[l.jsxs("div",{className:"flex items-center gap-6",children:[l.jsx("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/30 rounded-3xl shadow-inner border border-blue-100 dark:border-blue-800",children:l.jsx(Ib,{className:"w-10 h-10 text-blue-600 dark:text-blue-400"})}),l.jsxs("div",{className:"text-center md:text-right",children:[l.jsx("h1",{className:"text-3xl md:text-5xl font-black tracking-tight text-gray-900 dark:text-white mb-2",children:" "}),l.jsxs("p",{className:"text-blue-600 dark:text-blue-400 font-bold text-lg",children:["  ",a==null?void 0:a.displayName]})]})]}),l.jsxs("button",{onClick:Re,className:"bg-emerald-600 text-white px-6 py-3 rounded-xl font-bold flex items-center gap-2 hover:bg-emerald-700 transition-colors shadow-lg",children:[l.jsx(cm,{className:"w-5 h-5"}),"   "]})]})})}),l.jsx("div",{className:"max-w-6xl mx-auto px-4 -mt-16 relative z-20",children:l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[l.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[l.jsxs("div",{className:`bg-white dark:bg-gray-800 rounded-[2rem] shadow-xl shadow-gray-200/50 dark:shadow-none border p-6 md:p-8 transition-all ${s?"border-blue-500 ring-2 ring-blue-100 dark:ring-blue-900":"border-white dark:border-gray-700"}`,children:[l.jsxs("div",{className:"flex justify-between items-start mb-8 border-b border-gray-100 dark:border-gray-700 pb-4",children:[l.jsxs("h3",{className:"text-xl font-black text-gray-900 dark:text-white flex items-center gap-3",children:[l.jsx("div",{className:"bg-blue-100 dark:bg-blue-900/30 p-2 rounded-lg",children:l.jsx(Kn,{className:"w-5 h-5 text-blue-700 dark:text-blue-400"})}),s?"  ":"  "]}),s&&l.jsxs("div",{className:"flex gap-2",children:[l.jsx("span",{className:"bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300 px-3 py-1 rounded-full text-xs font-bold animate-pulse",children:" "}),l.jsx("button",{onClick:ce,className:"text-red-500 hover:bg-red-50 px-2 rounded",children:l.jsx(aa,{className:"w-4 h-4"})})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"col-span-2",children:[l.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-2",children:" "}),l.jsx("input",{type:"text",value:g.title,onChange:P=>p({...g,title:P.target.value}),placeholder:":    - ",className:"w-full px-5 py-4 rounded-2xl bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 focus:border-blue-500 focus:ring-4 focus:ring-blue-50 dark:focus:ring-blue-900/30 transition-all outline-none font-bold text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-500"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-2",children:" "}),l.jsxs("div",{className:"relative",children:[l.jsx(Km,{className:"w-5 h-5 text-gray-400 absolute top-4 right-4 pointer-events-none"}),l.jsxs("select",{value:g.subject,onChange:P=>p({...g,subject:P.target.value}),className:"w-full px-5 py-4 pr-12 rounded-2xl bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 focus:border-blue-500 focus:ring-4 focus:ring-blue-50 dark:focus:ring-blue-900/30 outline-none transition-all font-bold text-gray-900 dark:text-white appearance-none cursor-pointer",children:[l.jsx("option",{value:"English",children:"English"}),l.jsx("option",{value:"Science",children:""}),l.jsx("option",{value:"Math",children:""})]})]})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-2",children:"    "}),l.jsxs("div",{className:"relative",children:[l.jsx(Pi,{className:"w-5 h-5 text-gray-400 absolute top-4 right-4 pointer-events-none"}),l.jsxs("select",{value:g.grade,onChange:P=>p({...g,grade:P.target.value}),className:"w-full px-5 py-4 pr-12 rounded-2xl bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 focus:border-blue-500 focus:ring-4 focus:ring-blue-50 dark:focus:ring-blue-900/30 outline-none transition-all font-bold text-gray-900 dark:text-white appearance-none cursor-pointer",children:[l.jsx("option",{value:"",className:"text-gray-400",children:" "}),l.jsx("optgroup",{label:" ",children:[5,6,7,8,9,10,11,12].map(P=>l.jsxs("option",{value:P.toString(),children:[" ",P]},P))}),l.jsx("optgroup",{label:" ",children:l.jsx("option",{value:"English Major - QOU",children:"   -   "})})]}),l.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400",children:l.jsx(Rd,{className:"w-5 h-5"})})]})]}),l.jsxs("div",{className:"col-span-2 md:col-span-2",children:[l.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-2",children:"  /  (Category)"}),l.jsxs("div",{className:"relative",children:[l.jsx(Lv,{className:"w-5 h-5 text-gray-400 absolute top-4 right-4 pointer-events-none"}),l.jsxs("select",{value:g.category,onChange:P=>p({...g,category:P.target.value}),className:"w-full px-5 py-4 pr-12 rounded-2xl bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 focus:border-blue-500 focus:ring-4 focus:ring-blue-50 dark:focus:ring-blue-900/30 outline-none transition-all font-bold text-gray-900 dark:text-white appearance-none cursor-pointer",children:[l.jsx("option",{value:"Language",children:"Language ()"}),l.jsx("option",{value:"Reading",children:"Reading ()"}),l.jsx("option",{value:"Writing",children:"Writing ()"}),l.jsx("option",{value:"Vocabulary",children:"Vocabulary ()"}),l.jsx("option",{value:"General",children:"  (General Quiz)"})]}),l.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400",children:l.jsx(Rd,{className:"w-5 h-5"})})]})]})]}),l.jsxs("div",{className:"mt-6",children:[l.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-2",children:"  ()"}),l.jsx("textarea",{value:g.description,onChange:P=>p({...g,description:P.target.value}),className:"w-full px-5 py-4 rounded-2xl bg-gray-50 dark:bg-gray-700 border border-gray-200 dark:border-gray-600 focus:border-blue-500 focus:ring-4 focus:ring-blue-50 dark:focus:ring-blue-900/30 outline-none transition-all font-medium text-gray-900 dark:text-white h-24 resize-none placeholder-gray-400 dark:placeholder-gray-500",placeholder:"    ..."})]})]}),l.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-[2rem] shadow-xl shadow-gray-200/50 dark:shadow-none border border-white dark:border-gray-700 p-6 md:p-8",children:[l.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-8 border-b border-gray-100 dark:border-gray-700 pb-4",children:[l.jsxs("h3",{className:"text-xl font-black text-gray-900 dark:text-white flex items-center gap-3",children:[l.jsx("div",{className:"bg-blue-100 dark:bg-blue-900/30 p-2 rounded-lg",children:l.jsx(xc,{className:"w-5 h-5 text-blue-700 dark:text-blue-400"})}),N?" ":" "]}),l.jsxs("div",{className:"flex flex-wrap gap-2 bg-gray-100 dark:bg-gray-700 p-1.5 rounded-xl self-start",children:[l.jsx("button",{onClick:()=>f("MCQ"),className:`px-4 py-2 rounded-lg text-sm font-bold transition-all ${u==="MCQ"?"bg-white dark:bg-gray-600 text-blue-600 dark:text-blue-400 shadow-sm":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-white"}`,children:"  "}),l.jsx("button",{onClick:()=>f("TF"),className:`px-4 py-2 rounded-lg text-sm font-bold transition-all ${u==="TF"?"bg-white dark:bg-gray-600 text-blue-600 dark:text-blue-400 shadow-sm":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-white"}`,children:"  "}),l.jsxs("button",{onClick:()=>f("READING"),className:`px-4 py-2 rounded-lg text-sm font-bold transition-all flex items-center gap-2 ${u==="READING"?"bg-white dark:bg-gray-600 text-blue-600 dark:text-blue-400 shadow-sm":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-white"}`,children:[l.jsx(Ul,{className:"w-4 h-4"})," "]}),l.jsxs("button",{onClick:()=>f("REORDER"),className:`px-4 py-2 rounded-lg text-sm font-bold transition-all flex items-center gap-2 ${u==="REORDER"?"bg-white dark:bg-gray-600 text-blue-600 dark:text-blue-400 shadow-sm":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-white"}`,children:[l.jsx(Dv,{className:"w-4 h-4"})," "]})]})]}),l.jsxs("div",{className:"space-y-6",children:[u==="READING"&&l.jsxs("div",{className:"space-y-4 bg-blue-50 dark:bg-blue-900/20 p-5 rounded-2xl border border-blue-100 dark:border-blue-800 mb-6",children:[l.jsxs("h4",{className:"font-bold text-blue-800 dark:text-blue-300 flex items-center gap-2 mb-2",children:[l.jsx(hT,{className:"w-5 h-5"})," "]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold text-blue-700 dark:text-blue-300 mb-1",children:"  (General Instruction)"}),l.jsx("input",{type:"text",value:M.generalInstruction,onChange:P=>j("generalInstruction",P.target.value),placeholder:": Read the following text then answer the question",className:"w-full px-4 py-3 rounded-xl border border-blue-200 dark:border-blue-700 focus:border-blue-500 outline-none bg-white dark:bg-gray-800 text-sm font-medium"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold text-blue-700 dark:text-blue-300 mb-1",children:"  (Passage)"}),l.jsx("textarea",{value:M.passageContent,onChange:P=>j("passageContent",P.target.value),placeholder:"   ... ( Enter   )",className:"w-full px-4 py-3 rounded-xl border border-blue-200 dark:border-blue-700 focus:border-blue-500 outline-none bg-white dark:bg-gray-800 text-sm font-medium h-40 resize-y whitespace-pre-wrap",style:{direction:"ltr",textAlign:"left"}}),l.jsx("p",{className:"text-[10px] text-blue-500 mt-1",children:"* :        ."})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-xs font-bold text-blue-700 dark:text-blue-300 mb-2 flex items-center gap-2",children:[l.jsx(_T,{className:"w-4 h-4"}),"   (  )"]}),l.jsx("div",{className:"flex gap-3",children:X.map(P=>l.jsx("button",{onClick:()=>j("passageFontSize",P.value),className:`px-4 py-2 rounded-lg text-xs font-bold transition-all border ${M.passageFontSize===P.value?"bg-blue-600 text-white border-blue-600":"bg-white dark:bg-gray-800 text-gray-600 dark:text-gray-300 border-gray-200 dark:border-gray-600 hover:border-blue-400"}`,children:P.label},P.value))})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-2",children:u==="READING"?"  ":u==="REORDER"?"/ ":" "}),l.jsxs("div",{className:"relative",children:[l.jsx(Ai,{className:"w-5 h-5 text-gray-400 absolute top-4 right-4"}),l.jsx("input",{type:"text",value:M.question,onChange:P=>j("question",P.target.value),placeholder:u==="REORDER"?": Rearrange the following sentence":"   ...",className:"w-full px-5 py-4 pr-12 rounded-2xl border-2 border-gray-100 dark:border-gray-600 focus:border-blue-500 focus:ring-4 focus:ring-blue-50 dark:focus:ring-blue-900/30 outline-none font-bold text-lg text-gray-900 dark:text-white bg-gray-50/50 dark:bg-gray-700/50 placeholder-gray-400 transition-all"})]})]}),u==="MCQ"||u==="READING"?l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:M.options.map((P,W)=>l.jsxs("div",{className:`relative group transition-all duration-300 ${M.correctAnswer===W?"scale-[1.02]":""}`,children:[l.jsxs("label",{className:"flex items-center justify-between mb-2 px-1",children:[l.jsxs("span",{className:`text-xs font-bold ${M.correctAnswer===W?"text-blue-600 dark:text-blue-400":"text-gray-500 dark:text-gray-400"}`,children:[" ",W+1]}),l.jsx("button",{onClick:()=>j("correctAnswer",W),className:`text-[10px] px-2 py-1 rounded-md transition-colors font-bold ${M.correctAnswer===W?"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300":"bg-gray-100 dark:bg-gray-700 text-gray-400 dark:text-gray-500 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:M.correctAnswer===W?" ":" "})]}),l.jsx("input",{type:"text",value:P,onChange:me=>D(W,me.target.value),placeholder:`  ${W+1}`,className:`w-full px-4 py-3 rounded-xl border-2 outline-none transition-all font-medium ${W===M.correctAnswer?"border-blue-500 bg-blue-50/30 dark:bg-blue-900/20 text-gray-900 dark:text-white shadow-sm ring-2 ring-blue-100 dark:ring-blue-900/30":"border-gray-200 dark:border-gray-600 bg-white dark:bg-gray-700 focus:border-blue-400 text-gray-700 dark:text-gray-200"}`})]},W))}):u==="REORDER"?l.jsxs("div",{className:"space-y-4",children:[l.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-1",children:"  (   )"}),l.jsx("input",{type:"text",dir:"ltr",value:re,onChange:P=>Y(P.target.value),placeholder:"e.g. The sun rises in the east",className:"w-full px-5 py-4 rounded-2xl border-2 border-emerald-100 dark:border-emerald-800 focus:border-emerald-500 outline-none text-lg font-medium text-gray-900 dark:text-white bg-emerald-50/20 dark:bg-emerald-900/10 text-left"}),re&&l.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:re.split(" ").filter(P=>P.trim()).map((P,W)=>l.jsx("span",{className:"bg-gray-200 dark:bg-gray-700 px-3 py-1 rounded-lg text-sm font-bold text-gray-700 dark:text-gray-300",children:P},W))}),l.jsx("p",{className:"text-xs text-gray-500",children:"      ."})]}):l.jsxs("div",{className:"flex gap-4",children:[l.jsxs("button",{onClick:()=>j("correctAnswer",0),className:`flex-1 py-4 rounded-2xl border-2 transition-all font-black text-lg flex items-center justify-center gap-2 ${M.correctAnswer===0?"border-blue-500 bg-blue-50 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400 shadow-md":"border-gray-200 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-400 hover:border-gray-300"}`,children:[M.correctAnswer===0&&l.jsx(ra,{className:"w-6 h-6"})," (True)"]}),l.jsxs("button",{onClick:()=>j("correctAnswer",1),className:`flex-1 py-4 rounded-2xl border-2 transition-all font-black text-lg flex items-center justify-center gap-2 ${M.correctAnswer===1?"border-red-500 bg-red-50 dark:bg-red-900/30 text-red-700 dark:text-red-400 shadow-md":"border-gray-200 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-400 hover:border-gray-300"}`,children:[M.correctAnswer===1&&l.jsx(ra,{className:"w-6 h-6"})," (False)"]})]}),l.jsxs("div",{className:"bg-yellow-50/50 dark:bg-yellow-900/10 p-4 rounded-2xl border border-yellow-100 dark:border-yellow-900/30",children:[l.jsxs("label",{className:"block text-sm font-bold text-yellow-800 dark:text-yellow-500 mb-2 flex items-center gap-2",children:[l.jsx("div",{className:"w-2 h-2 bg-yellow-400 rounded-full"}),"  ()"]}),l.jsx("textarea",{value:M.explanation,onChange:P=>j("explanation",P.target.value),placeholder:"        ...",className:"w-full px-4 py-3 rounded-xl border border-yellow-200 dark:border-yellow-800/50 focus:border-yellow-400 focus:ring-2 focus:ring-yellow-100 dark:focus:ring-yellow-900/30 outline-none text-gray-800 dark:text-gray-200 bg-white dark:bg-gray-800 h-20 resize-none placeholder-gray-400 text-sm"})]}),l.jsxs("div",{className:"flex gap-3",children:[N&&l.jsxs("button",{onClick:Ue,className:"flex-1 bg-gray-200 dark:bg-gray-700 text-gray-600 dark:text-gray-300 py-4 rounded-2xl font-bold hover:bg-gray-300 dark:hover:bg-gray-600 transition-all flex items-center justify-center gap-2",children:[l.jsx(Mv,{className:"w-5 h-5"})," "]}),l.jsx("button",{onClick:I,className:`flex-1 bg-gray-900 dark:bg-black text-white py-4 rounded-2xl font-bold hover:bg-black dark:hover:bg-gray-900 transition-all shadow-lg shadow-gray-200 dark:shadow-none flex items-center justify-center gap-2 transform hover:-translate-y-1 ${N?"bg-blue-600 dark:bg-blue-600 hover:bg-blue-700 dark:hover:bg-blue-700":""}`,children:N?l.jsxs(l.Fragment,{children:[l.jsx(Ri,{className:"w-5 h-5"})," "]}):l.jsxs(l.Fragment,{children:[l.jsx(xc,{className:"w-5 h-5"}),"  "]})})]})]})]})]}),l.jsx("div",{className:"lg:col-span-1",children:l.jsxs("div",{className:"sticky top-24 space-y-6",children:[l.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-[2rem] shadow-xl shadow-gray-200/50 dark:shadow-none border border-white dark:border-gray-700 p-6",children:[l.jsxs("h3",{className:"text-lg font-black text-gray-900 dark:text-white mb-6 flex items-center gap-2",children:[l.jsx(Ri,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})," "]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"p-5 bg-gray-50 dark:bg-gray-700 rounded-2xl border border-gray-100 dark:border-gray-600 flex flex-col gap-3",children:[l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"text-gray-500 dark:text-gray-400 font-medium",children:" "}),l.jsx("span",{className:"font-black text-gray-900 dark:text-white bg-white dark:bg-gray-600 px-3 py-0.5 rounded-md shadow-sm",children:y.length})]}),l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"text-gray-500 dark:text-gray-400 font-medium",children:" "}),l.jsx("span",{className:"text-blue-600 dark:text-blue-400 font-bold bg-blue-50 dark:bg-blue-900/30 px-2 py-0.5 rounded-md",children:g.category})]}),l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"text-gray-500 dark:text-gray-400 font-medium",children:" "}),s?l.jsx("span",{className:"text-emerald-600 dark:text-emerald-400 font-bold bg-emerald-50 dark:bg-emerald-900/30 px-2 py-0.5 rounded-md",children:""}):l.jsx("span",{className:"text-blue-600 dark:text-blue-400 font-bold bg-blue-50 dark:bg-blue-900/30 px-2 py-0.5 rounded-md",children:""})]})]}),l.jsxs("button",{onClick:K,disabled:e||y.length===0,className:`w-full py-4 rounded-2xl font-black text-white shadow-lg transition-all flex items-center justify-center gap-2 transform ${e||y.length===0?"bg-gray-300 dark:bg-gray-600 cursor-not-allowed shadow-none":"bg-blue-600 hover:bg-blue-700 shadow-blue-200 dark:shadow-none hover:-translate-y-1"}`,children:[e?l.jsx(Wt,{className:"w-5 h-5 animate-spin"}):s?l.jsx(Ov,{className:"w-5 h-5"}):l.jsx(ra,{className:"w-5 h-5"}),e?" ...":s?" ":"  "]})]})]}),y.length>0&&l.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-[2rem] shadow-xl shadow-gray-200/50 dark:shadow-none border border-white dark:border-gray-700 p-6 animate-fade-in-up",children:[l.jsxs("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[l.jsx("span",{className:"bg-blue-100 dark:bg-blue-900/30 p-1.5 rounded-lg",children:l.jsx(Ib,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"})}),"  (",y.length,")"]}),l.jsx("div",{className:"space-y-3 max-h-[calc(100vh-400px)] overflow-y-auto pr-2 custom-scrollbar",children:y.map((P,W)=>l.jsxs("div",{className:`p-3 rounded-xl border transition-all group relative ${N===P.id?"bg-blue-50 dark:bg-blue-900/20 border-blue-500 ring-1 ring-blue-500":"bg-gray-50 dark:bg-gray-700/50 border-gray-100 dark:border-gray-600 hover:border-blue-300"}`,children:[l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("span",{className:"bg-white dark:bg-gray-600 text-gray-700 dark:text-gray-300 font-bold w-6 h-6 flex items-center justify-center rounded-lg text-xs shrink-0 shadow-sm",children:W+1}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"font-bold text-gray-800 dark:text-gray-200 text-sm line-clamp-2 mb-1.5",children:P.question}),l.jsx("div",{className:"flex items-center gap-2",children:l.jsx("span",{className:"text-[10px] bg-white dark:bg-gray-600 text-gray-500 dark:text-gray-300 px-2 py-0.5 rounded border border-gray-200 dark:border-gray-500",children:P.type==="REORDER"?"":P.options.length===2?"/":P.passageContent?"":""})})]})]}),l.jsxs("div",{className:"flex items-center gap-2 mt-3 pt-3 border-t border-gray-200 dark:border-gray-600/50 justify-end",children:[l.jsxs("button",{onClick:()=>A(P.id),className:"flex items-center gap-1 text-xs font-bold text-blue-600 dark:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/30 px-2 py-1.5 rounded-lg transition-colors",children:[l.jsx(pm,{className:"w-3.5 h-3.5"}),""]}),l.jsx("div",{className:"w-px h-3 bg-gray-300 dark:bg-gray-600"}),l.jsxs("button",{onClick:()=>Ze(P.id),className:"flex items-center gap-1 text-xs font-bold text-red-500 hover:bg-red-50 dark:hover:bg-red-900/30 px-2 py-1.5 rounded-lg transition-colors",children:[l.jsx(ym,{className:"w-3.5 h-3.5"}),""]})]})]},P.id))})]})]})})]})}),oe&&l.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center px-4 bg-black/60 backdrop-blur-sm",children:l.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-3xl w-full max-w-3xl max-h-[85vh] flex flex-col shadow-2xl animate-fade-in-up overflow-hidden",children:[l.jsxs("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 p-6 flex justify-between items-center shrink-0",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"bg-emerald-100 dark:bg-emerald-900/30 p-2 rounded-xl",children:l.jsx(cm,{className:"w-6 h-6 text-emerald-600 dark:text-emerald-400"})}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-black text-gray-900 dark:text-white",children:" "}),l.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"    "})]})]}),l.jsx("button",{onClick:()=>ue(!1),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition-colors text-gray-500 dark:text-gray-400",children:l.jsx(aa,{className:"w-6 h-6"})})]}),l.jsx("div",{className:"p-4 bg-gray-50 dark:bg-gray-800 border-b border-gray-100 dark:border-gray-700",children:l.jsxs("div",{className:"relative",children:[l.jsx(Ls,{className:"w-5 h-5 text-gray-400 absolute top-3.5 right-4 pointer-events-none"}),l.jsx("input",{type:"text",placeholder:"   ...",value:k,onChange:P=>E(P.target.value),className:"w-full px-12 py-3 rounded-xl border border-gray-200 dark:border-gray-700 focus:border-emerald-500 outline-none bg-white dark:bg-gray-700 font-bold text-gray-700 dark:text-white transition-all"})]})}),l.jsx("div",{className:"flex-1 overflow-y-auto p-4 bg-gray-50 dark:bg-gray-900 custom-scrollbar",children:ae?l.jsx("div",{className:"flex justify-center py-10",children:l.jsx(Wt,{className:"w-8 h-8 animate-spin text-emerald-600"})}):R.length===0?l.jsx("div",{className:"text-center py-10 text-gray-400",children:"   "}):l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:R.map(P=>l.jsxs("div",{onClick:()=>qe(P),className:"bg-white dark:bg-gray-800 p-4 rounded-2xl border border-gray-200 dark:border-gray-700 cursor-pointer hover:border-emerald-500 dark:hover:border-emerald-500 hover:shadow-lg transition-all group",children:[l.jsxs("div",{className:"flex justify-between items-start mb-2",children:[l.jsx("span",{className:"bg-blue-50 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 text-[10px] font-bold px-2 py-0.5 rounded-md",children:P.subject}),l.jsx("span",{className:"text-xs text-gray-400",children:P.grade})]}),l.jsx("h4",{className:"font-bold text-gray-900 dark:text-white mb-2 line-clamp-1 group-hover:text-emerald-600 dark:group-hover:text-emerald-400 transition-colors",children:P.title}),l.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500 dark:text-gray-400",children:[l.jsx(Ai,{className:"w-3 h-3"}),P.questions.length," "]})]},P.id))})})]})})]})},am=[{minLevel:1,title:" ",color:"bg-gray-100 text-gray-600 border-gray-200",icon:$m},{minLevel:5,title:" ",color:"bg-emerald-100 text-emerald-700 border-emerald-200",icon:Kn},{minLevel:10,title:" ",color:"bg-blue-100 text-blue-700 border-blue-200",icon:Ls},{minLevel:15,title:" ",color:"bg-indigo-100 text-indigo-700 border-indigo-200",icon:Si},{minLevel:20,title:" ",color:"bg-purple-100 text-purple-700 border-purple-200",icon:lh},{minLevel:30,title:" ",color:"bg-amber-100 text-amber-700 border-amber-200",icon:Ci}],pR=[{id:"first_step",title:" ",desc:"   ",icon:$m,color:"text-emerald-500",bg:"bg-emerald-500/10",condition:a=>a.quizzesCompleted>=1},{id:"perfect_score",title:" ",desc:"  100%  ",icon:ih,color:"text-yellow-500",bg:"bg-yellow-500/10",condition:a=>a.hasPerfectScore},{id:"dedicated",title:" ",desc:" 5 ",icon:Kn,color:"text-blue-500",bg:"bg-blue-500/10",condition:a=>a.quizzesCompleted>=5},{id:"expert",title:" ",desc:" 10 ",icon:vc,color:"text-purple-500",bg:"bg-purple-500/10",condition:a=>a.quizzesCompleted>=10},{id:"high_level",title:" ",desc:"  5",icon:lh,color:"text-orange-500",bg:"bg-orange-500/10",condition:a=>a.level>=5},{id:"master",title:" ",desc:"  10",icon:Ci,color:"text-red-500",bg:"bg-red-500/10",condition:a=>a.level>=10}],yR=[{url:"https://lh3.googleusercontent.com/d/1ufUwP7M3wdxWBW60s2xdpZC6W7jfpXv4",minLevel:1},{url:"https://lh3.googleusercontent.com/d/1AqS4xhkK53MwCO-LFRdmtYBQsYSH6vz1",minLevel:1},{url:"https://lh3.googleusercontent.com/d/198SBde0OI07puyVx53mi9MpZ7F-iKltI",minLevel:1},{url:"https://lh3.googleusercontent.com/d/1E--pczIn4ZCSWpWYhKZutLX8lfhtmCrp",minLevel:5},{url:"https://lh3.googleusercontent.com/d/1ep_ggXFs0rCkGJ212WkY5DuRbLNkyLyr",minLevel:10},{url:"https://lh3.googleusercontent.com/d/1siamCZMGjbXH6L9bop_dN1UPSSwfyIwc",minLevel:15},{url:"https://lh3.googleusercontent.com/d/1seg3JDYcNsDBtTY4gU9N5empajSAT_-E",minLevel:1},{url:"https://lh3.googleusercontent.com/d/1QnacjkYXRr-N4yhmt44LubRxbRnzNgqH",minLevel:1},{url:"https://lh3.googleusercontent.com/d/1h5uzg3mZaeaozqEkzwItA14xqDq7kbMb",minLevel:10},{url:"https://lh3.googleusercontent.com/d/1qKn7YfQr7VaDPXB8EjUvlCW-qt3v5E0u",minLevel:15}],sm=[{id:"nature_1",url:"https://lh3.googleusercontent.com/d/16IHotAb2_MEMsfpUxEIx8CBx94kLVYCs",name:" ",minLevel:1},{id:"nature_2",url:"https://lh3.googleusercontent.com/d/1tBjHedpcXQiEjXro--zG3iWDokgrDbgZ",name:" ",minLevel:5},{id:"nature_3",url:"https://lh3.googleusercontent.com/d/1Chp7z63_XfLlt4ZC0MRmKwNsSTlCWwOa",name:" ",minLevel:10},{id:"nature_4",url:"https://lh3.googleusercontent.com/d/12RHK_FCMJt8D24AB3UV7nHxbD50EF4MX",name:" ",minLevel:15},{id:"nature_5",url:"https://lh3.googleusercontent.com/d/1We4c8009ObQB9ZDrpQ8ssUuos4V_4b9w",name:" ",minLevel:20}],xR=({data:a})=>{if(!a||a.length===0)return l.jsx("div",{className:"h-40 flex items-center justify-center text-gray-400 dark:text-gray-500 bg-gray-50 dark:bg-gray-800 rounded-xl border border-dashed border-gray-200 dark:border-gray-700",children:"     "});const e=100,n=300,s=100,o=a.map((f,g)=>{const p=g/(a.length-1||1)*n,y=e-f/s*e;return`${p},${y}`}).join(" "),u=`${o} ${n},${e} 0,${e}`;return l.jsxs("div",{className:"w-full h-48 bg-white dark:bg-gray-800 rounded-xl p-4 border border-gray-100 dark:border-gray-700 relative overflow-hidden",children:[l.jsxs("svg",{viewBox:`0 0 ${n} ${e}`,className:"w-full h-full overflow-visible",preserveAspectRatio:"none",children:[l.jsx("line",{x1:"0",y1:"0",x2:n,y2:"0",stroke:"currentColor",className:"text-gray-100 dark:text-gray-700",strokeWidth:"1"}),l.jsx("line",{x1:"0",y1:e/2,x2:n,y2:e/2,stroke:"currentColor",className:"text-gray-100 dark:text-gray-700",strokeWidth:"1"}),l.jsx("line",{x1:"0",y1:e,x2:n,y2:e,stroke:"currentColor",className:"text-gray-100 dark:text-gray-700",strokeWidth:"1"}),l.jsx("defs",{children:l.jsxs("linearGradient",{id:"chartGradient",x1:"0",x2:"0",y1:"0",y2:"1",children:[l.jsx("stop",{offset:"0%",stopColor:"rgba(16, 185, 129, 0.2)"}),l.jsx("stop",{offset:"100%",stopColor:"rgba(16, 185, 129, 0)"})]})}),l.jsx("path",{d:`M0,${e} ${u}`,fill:"url(#chartGradient)"}),l.jsx("polyline",{points:o,fill:"none",stroke:"#10b981",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"}),a.map((f,g)=>{const p=g/(a.length-1||1)*n,y=e-f/s*e;return l.jsx("circle",{cx:p,cy:y,r:"3.5",fill:"white",stroke:"#10b981",strokeWidth:"2",className:"dark:fill-gray-800"},g)})]}),l.jsx("div",{className:"absolute top-2 right-2 text-[10px] font-bold text-gray-400 dark:text-gray-500 bg-gray-50 dark:bg-gray-700 px-2 py-1 rounded-full",children:" "})]})},wv=a=>{if(!a)return" ";const e=a.toDate?a.toDate():new Date(a.seconds*1e3),n=e.getDate().toString().padStart(2,"0"),s=(e.getMonth()+1).toString().padStart(2,"0"),o=e.getFullYear();let u=e.getHours();const f=e.getMinutes().toString().padStart(2,"0"),g=u>=12?"":"";return u=u%12,u=u||12,`${n}/${s}/${o} ${u}:${f} ${g}`},bR=({onNavigate:a})=>{const{user:e,updateUserProfile:n}=ga(),[s,o]=Q.useState(!1),[u,f]=Q.useState(null),[g,p]=Q.useState(!1),[y,w]=Q.useState(!1),[N,S]=Q.useState((e==null?void 0:e.avatar)||""),[M,F]=Q.useState((e==null?void 0:e.profileBackground)||sm[0].url),[re,Y]=Q.useState([]),[oe,ue]=Q.useState(!0),[le,je]=Q.useState(0),[ae,B]=Q.useState(1),[k,E]=Q.useState(am[0]),[j,D]=Q.useState({quizzesCompleted:0,hasPerfectScore:!1,level:1}),[I,V]=Q.useState([]),[A,Ue]=Q.useState(""),[Ze,K]=Q.useState(!1),[ce,ye]=Q.useState(null),[Re,qe]=Q.useState(50),[R,X]=Q.useState({firstName:(e==null?void 0:e.firstName)||"",lastName:(e==null?void 0:e.lastName)||"",age:(e==null?void 0:e.age)||"",grade:(e==null?void 0:e.grade)||"",phone:(e==null?void 0:e.phone)||"",address:(e==null?void 0:e.address)||"",school:(e==null?void 0:e.school)||"",gender:(e==null?void 0:e.gender)||"male"});Q.useEffect(()=>{e&&(X(se=>({...se,firstName:e.firstName||se.firstName,lastName:e.lastName||se.lastName,gender:e.gender||se.gender,grade:e.grade||se.grade})),e.avatar&&S(e.avatar),e.profileBackground&&F(e.profileBackground))},[e]),Q.useEffect(()=>{(async()=>{if(e){if(e.role==="teacher"){ue(!0);try{const nt=jr(En(jt,"users"),Sr("role","==","student"),V3(100)),sn=(await ma(nt)).docs.map(yt=>({id:yt.id,...yt.data()}));sn.sort((yt,Jt)=>{var wn,ie;const vn=((wn=yt.lastQuizDate)==null?void 0:wn.seconds)||0;return(((ie=Jt.lastQuizDate)==null?void 0:ie.seconds)||0)-vn}),V(sn)}catch(nt){console.error("Error fetching teacher stats:",nt)}finally{ue(!1)}return}try{const nt=jr(En(jt,"quiz_results"),Sr("userId","==",e.uid)),Je=await ma(nt),sn=[];let yt=0,Jt=!1;Je.forEach(ie=>{const we=ie.data();sn.push({id:ie.id,...we});let Ne=10+we.percentage*2;we.passed&&(Ne+=50),we.percentage===100&&(Ne+=100,Jt=!0),yt+=Math.round(Ne)}),sn.sort((ie,we)=>{var Ie,_e;const Ne=((Ie=ie.createdAt)==null?void 0:Ie.seconds)||0,fe=((_e=we.createdAt)==null?void 0:_e.seconds)||0;return Ne-fe}),Y(sn);let vn=yt;try{const ie=fa(jt,"users",e.uid),we=await f_(ie);we.exists()&&we.data().totalXP!==void 0?vn=we.data().totalXP:e.totalXP!==void 0&&(vn=e.totalXP)}catch(ie){console.error("Error fetching latest user data:",ie),e.totalXP!==void 0&&(vn=e.totalXP)}je(vn);const Wn=Math.floor(vn/500)+1;B(Wn);const wn=[...am].reverse().find(ie=>Wn>=ie.minLevel)||am[0];E(wn),D({quizzesCompleted:sn.length,hasPerfectScore:Jt,level:Wn})}catch(nt){console.error("Error fetching progress:",nt)}finally{ue(!1)}}})()},[e]);const P=async se=>{se.preventDefault(),o(!0),f(null);try{await n({...R}),f("   !"),setTimeout(()=>f(null),3e3)}catch(nt){console.error(nt),alert("   ")}finally{o(!1)}},W=async()=>{o(!0);try{await n({avatar:N}),p(!1)}catch(se){console.error(se)}finally{o(!1)}},me=async()=>{o(!0);try{await n({profileBackground:M}),w(!1)}catch(se){console.error(se)}finally{o(!1)}},Ee=async()=>{if(ce){o(!0);try{const se=fa(jt,"users",ce.id);await Qg(se,{totalXP:Hm(Re)}),V(nt=>nt.map(Je=>Je.id===ce.id?{...Je,totalXP:(Je.totalXP||0)+Re}:Je)),K(!1),alert(`  ${Re} XP  ${ce.displayName} `)}catch(se){console.error(se),alert("    ")}finally{o(!1)}}},Ve=I.filter(se=>(se.displayName||"").toLowerCase().includes(A.toLowerCase())||(se.email||"").toLowerCase().includes(A.toLowerCase())),bt=A?Ve:Ve.slice(0,5),ve=se=>se?se.startsWith("http")?{backgroundImage:`url(${se})`,backgroundSize:"cover",backgroundPosition:"center"}:{}:{backgroundImage:`url(${sm[0].url})`,backgroundSize:"cover",backgroundPosition:"center"},Et=se=>!se||se.startsWith("http")?"bg-no-repeat bg-center":se,Kt=re.slice(-10).map(se=>se.percentage),Yn=Kt.length>0?Math.max(...Kt):0,Dr=Kt.length>0?Math.min(...Kt):0,Yt=Kt.length>0?Math.round(Kt.reduce((se,nt)=>se+nt,0)/Kt.length):0,pa=re.length,Xn=(ae-1)*500,ya=Math.min(100,Math.max(0,(le-Xn)/500*100)),kn="w-full px-4 py-3 rounded-xl bg-gray-950 border border-gray-800 focus:border-blue-500 focus:ring-2 focus:ring-blue-900 outline-none font-bold text-white transition-all placeholder-gray-600 shadow-inner text-sm",vt="w-full px-4 py-3 rounded-xl bg-gray-950 border border-gray-800 focus:border-blue-500 focus:ring-2 focus:ring-blue-900 outline-none font-bold text-white appearance-none cursor-pointer transition-all shadow-inner text-sm";return(e==null?void 0:e.role)==="teacher"?l.jsxs("div",{className:"w-full min-h-screen bg-slate-950 text-gray-100 font-sans animate-fade-in relative overflow-x-hidden",children:[l.jsx("div",{className:"fixed top-[-10%] right-[-5%] w-[500px] h-[500px] bg-emerald-600/10 rounded-full blur-[120px] pointer-events-none"}),l.jsx("div",{className:"fixed bottom-[-10%] left-[-5%] w-[500px] h-[500px] bg-blue-600/10 rounded-full blur-[120px] pointer-events-none"}),l.jsxs("div",{className:"relative z-10 max-w-[1400px] mx-auto p-6 lg:p-10 space-y-10",children:[l.jsxs("div",{className:"bg-white/5 backdrop-blur-xl border border-white/10 rounded-[2.5rem] p-8 flex flex-col md:flex-row items-center gap-8 shadow-2xl",children:[l.jsxs("div",{className:"relative shrink-0",children:[l.jsx("div",{className:"w-32 h-32 rounded-full p-1 bg-gradient-to-br from-emerald-500 to-blue-600 shadow-lg",children:l.jsx("img",{src:e.avatar||"https://lh3.googleusercontent.com/d/1tbzVNKO3FGH46Pa6MZ58OWD4BXVKdK5P",alt:"Avatar",className:"w-full h-full rounded-full object-cover border-4 border-slate-900"})}),l.jsx("div",{className:"absolute bottom-1 right-1 bg-emerald-500 w-6 h-6 rounded-full border-4 border-slate-900",title:"Online"})]}),l.jsxs("div",{className:"flex-1 text-center md:text-right",children:[l.jsx("h2",{className:"text-3xl md:text-4xl font-black text-white mb-2",children:e.displayName}),l.jsxs("p",{className:"text-gray-400 text-lg font-medium flex items-center justify-center md:justify-start gap-2",children:[l.jsx(fm,{className:"w-5 h-5 text-emerald-500"}),e.email]}),l.jsxs("div",{className:"flex items-center justify-center md:justify-start gap-3 mt-6",children:[l.jsx("span",{className:"px-4 py-1.5 rounded-full bg-emerald-500/10 border border-emerald-500/20 text-emerald-400 text-sm font-bold",children:" "}),l.jsx("span",{className:"px-4 py-1.5 rounded-full bg-blue-500/10 border border-blue-500/20 text-blue-400 text-sm font-bold",children:" : "})]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[l.jsxs("button",{onClick:()=>a&&a("TEACHER_DASHBOARD"),className:"group bg-white/5 hover:bg-white/10 border border-white/10 p-6 rounded-3xl text-right transition-all hover:-translate-y-1 shadow-lg relative overflow-hidden",children:[l.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-blue-500/10 rounded-full blur-2xl -mr-10 -mt-10 transition-opacity group-hover:opacity-70"}),l.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-2xl flex items-center justify-center text-white shadow-lg mb-4 relative z-10",children:l.jsx(xc,{className:"w-7 h-7"})}),l.jsx("h3",{className:"text-xl font-bold text-white mb-1 relative z-10",children:" "}),l.jsx("p",{className:"text-sm text-gray-400 relative z-10",children:"   "})]}),l.jsxs("button",{onClick:()=>a&&a("QUESTION_BANK"),className:"group bg-white/5 hover:bg-white/10 border border-white/10 p-6 rounded-3xl text-right transition-all hover:-translate-y-1 shadow-lg relative overflow-hidden",children:[l.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-emerald-500/10 rounded-full blur-2xl -mr-10 -mt-10 transition-opacity group-hover:opacity-70"}),l.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-emerald-500 to-teal-600 rounded-2xl flex items-center justify-center text-white shadow-lg mb-4 relative z-10",children:l.jsx(Vs,{className:"w-7 h-7"})}),l.jsx("h3",{className:"text-xl font-bold text-white mb-1 relative z-10",children:" "}),l.jsx("p",{className:"text-sm text-gray-400 relative z-10",children:"  "})]}),l.jsxs("button",{onClick:()=>a&&a("TEACHER_EXPLANATIONS"),className:"group bg-white/5 hover:bg-white/10 border border-white/10 p-6 rounded-3xl text-right transition-all hover:-translate-y-1 shadow-lg relative overflow-hidden",children:[l.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-purple-500/10 rounded-full blur-2xl -mr-10 -mt-10 transition-opacity group-hover:opacity-70"}),l.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-purple-500 to-fuchsia-600 rounded-2xl flex items-center justify-center text-white shadow-lg mb-4 relative z-10",children:l.jsx(bc,{className:"w-7 h-7"})}),l.jsx("h3",{className:"text-xl font-bold text-white mb-1 relative z-10",children:" "}),l.jsx("p",{className:"text-sm text-gray-400 relative z-10",children:"  "})]}),l.jsxs("button",{onClick:()=>a&&a("TEACHER_UPLOAD_FILES"),className:"group bg-white/5 hover:bg-white/10 border border-white/10 p-6 rounded-3xl text-right transition-all hover:-translate-y-1 shadow-lg relative overflow-hidden",children:[l.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-cyan-500/10 rounded-full blur-2xl -mr-10 -mt-10 transition-opacity group-hover:opacity-70"}),l.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-cyan-500 to-sky-600 rounded-2xl flex items-center justify-center text-white shadow-lg mb-4 relative z-10",children:l.jsx(Rv,{className:"w-7 h-7"})}),l.jsx("h3",{className:"text-xl font-bold text-white mb-1 relative z-10",children:" "}),l.jsx("p",{className:"text-sm text-gray-400 relative z-10",children:"  "})]})]}),l.jsxs("div",{className:"bg-white/5 backdrop-blur-xl border border-white/10 rounded-[2.5rem] overflow-hidden shadow-2xl",children:[l.jsxs("div",{className:"p-8 border-b border-white/5 flex flex-col md:flex-row md:items-center justify-between gap-6",children:[l.jsxs("div",{children:[l.jsxs("h3",{className:"text-2xl font-black text-white mb-2 flex items-center gap-3",children:[l.jsx(Pv,{className:"w-6 h-6 text-emerald-400"})," "]}),l.jsx("p",{className:"text-gray-400 text-sm",children:"     "})]}),l.jsxs("div",{className:"relative w-full md:w-96",children:[l.jsx("div",{className:"absolute inset-y-0 right-0 pr-4 flex items-center pointer-events-none",children:l.jsx(Ls,{className:"h-5 w-5 text-gray-500"})}),l.jsx("input",{type:"text",className:"w-full bg-slate-900/50 border border-white/10 text-white text-sm rounded-xl focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 block pr-12 pl-4 py-3 placeholder-gray-500 transition-all outline-none font-medium",placeholder:"     ...",value:A,onChange:se=>Ue(se.target.value)})]})]}),l.jsx("div",{className:"p-6",children:oe?l.jsx("div",{className:"flex justify-center py-20",children:l.jsx(Wt,{className:"w-10 h-10 animate-spin text-emerald-500"})}):l.jsxs("div",{className:"overflow-x-auto custom-scrollbar pb-4",children:[l.jsxs("table",{className:"w-full text-sm text-right",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"text-gray-400 border-b border-white/5",children:[l.jsx("th",{className:"px-6 py-4 font-bold text-sm",children:" "}),l.jsx("th",{className:"px-6 py-4 font-bold text-sm text-center",children:""}),l.jsx("th",{className:"px-6 py-4 font-bold text-sm text-center",children:" "}),l.jsx("th",{className:"px-6 py-4 font-bold text-sm text-center",children:" "}),l.jsx("th",{className:"px-6 py-4 font-bold text-sm text-center",children:" XP"}),l.jsx("th",{className:"px-6 py-4 font-bold text-sm text-center",children:""})]})}),l.jsx("tbody",{className:"divide-y divide-white/5",children:bt.map(se=>l.jsxs("tr",{className:"hover:bg-white/5 transition-colors group",children:[l.jsx("td",{className:"px-6 py-4",children:l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-800 border border-white/10 overflow-hidden flex items-center justify-center shrink-0",children:se.avatar?l.jsx("img",{src:se.avatar,className:"w-full h-full object-cover",alt:"av"}):l.jsx(hr,{className:"w-5 h-5 text-gray-500"})}),l.jsxs("div",{children:[l.jsx("div",{className:"font-bold text-white text-base group-hover:text-emerald-400 transition-colors",children:se.displayName}),l.jsx("div",{className:"text-xs text-gray-500",children:se.email})]})]})}),l.jsx("td",{className:"px-6 py-4 text-center",children:l.jsx("span",{className:"inline-block bg-slate-800 text-gray-300 text-xs font-bold px-3 py-1 rounded-lg border border-white/5",children:se.grade||"-"})}),l.jsx("td",{className:"px-6 py-4 text-center text-gray-400 font-medium",children:wv(se.createdAt).split(" ")[0]}),l.jsx("td",{className:"px-6 py-4 text-center",children:se.lastQuizDate?l.jsx("span",{className:"text-emerald-400 text-xs font-bold bg-emerald-500/10 px-3 py-1 rounded-full border border-emerald-500/20",children:wv(se.lastQuizDate)}):l.jsx("span",{className:"text-gray-600",children:"-"})}),l.jsx("td",{className:"px-6 py-4 text-center",children:l.jsxs("div",{className:"flex items-center justify-center gap-1.5",children:[l.jsx("span",{className:"font-black text-amber-400 text-lg",children:se.totalXP||0}),l.jsx(Dd,{className:"w-4 h-4 text-amber-500 fill-amber-500"})]})}),l.jsx("td",{className:"px-6 py-4 text-center",children:l.jsxs("button",{onClick:()=>{ye(se),K(!0)},className:"inline-flex items-center gap-2 bg-slate-800 hover:bg-emerald-600 text-white px-4 py-2 rounded-xl text-xs font-bold transition-all hover:shadow-lg border border-white/10 hover:border-emerald-500",children:[l.jsx(Rb,{className:"w-3.5 h-3.5"})," "]})})]},se.id))})]}),!A&&Ve.length>5&&l.jsx("div",{className:"text-center p-6 text-sm text-gray-500 border-t border-white/5",children:"   5 .    ."})]})})]})]}),Ze&&ce&&l.jsx("div",{className:"fixed inset-0 z-[200] flex items-center justify-center px-4 bg-black/80 backdrop-blur-sm animate-fade-in",children:l.jsxs("div",{className:"bg-slate-900 border border-white/10 rounded-[2rem] w-full max-w-sm shadow-2xl relative overflow-hidden",children:[l.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-32 h-32 bg-amber-500/20 rounded-full blur-3xl -mt-16"}),l.jsxs("div",{className:"p-8 text-center relative z-10",children:[l.jsx("button",{onClick:()=>K(!1),className:"absolute top-4 right-4 p-2 hover:bg-white/10 rounded-full transition-colors text-gray-400 hover:text-white",children:l.jsx(aa,{className:"w-5 h-5"})}),l.jsx("div",{className:"w-20 h-20 mx-auto mb-6 bg-gradient-to-br from-amber-400 to-orange-600 rounded-full flex items-center justify-center shadow-lg shadow-amber-900/50",children:l.jsx(Rb,{className:"w-10 h-10 text-white"})}),l.jsx("h3",{className:"text-2xl font-black text-white mb-2",children:" "}),l.jsxs("p",{className:"text-gray-400 text-sm mb-8 font-medium",children:["     ",l.jsx("br",{}),l.jsx("span",{className:"text-white font-bold",children:ce.displayName})]}),l.jsxs("div",{className:"flex items-center justify-center gap-6 mb-8 bg-slate-800/50 p-4 rounded-2xl border border-white/5",children:[l.jsx("button",{onClick:()=>qe(Math.max(10,Re-10)),className:"w-10 h-10 bg-white/10 hover:bg-white/20 text-white rounded-xl flex items-center justify-center font-bold transition-colors",children:"-"}),l.jsx("div",{className:"text-4xl font-black text-amber-400 min-w-[80px]",children:Re}),l.jsx("button",{onClick:()=>qe(Re+10),className:"w-10 h-10 bg-white/10 hover:bg-white/20 text-white rounded-xl flex items-center justify-center font-bold transition-colors",children:"+"})]}),l.jsxs("button",{onClick:Ee,disabled:s,className:"w-full bg-gradient-to-r from-emerald-500 to-teal-600 hover:from-emerald-600 hover:to-teal-700 text-white font-bold py-4 rounded-xl shadow-lg shadow-emerald-900/20 transition-all flex items-center justify-center gap-2 transform hover:-translate-y-1",children:[s?l.jsx(Wt,{className:"w-5 h-5 animate-spin"}):l.jsx(ra,{className:"w-5 h-5"})," "]})]})]})})]}):l.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8 md:py-12 animate-fade-in-up",children:[g&&l.jsx("div",{className:"fixed inset-0 z-[200] flex items-start justify-center p-4 pt-10 md:pt-16 bg-black/80 backdrop-blur-sm animate-fade-in",children:l.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-3xl w-full max-w-sm max-h-[85vh] flex flex-col shadow-2xl border border-gray-200 dark:border-gray-700 overflow-hidden relative",children:[l.jsxs("div",{className:"p-4 border-b border-gray-100 dark:border-gray-800 flex justify-between items-center shrink-0",children:[l.jsxs("h3",{className:"text-lg font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[l.jsx(hr,{className:"w-5 h-5 text-purple-500"}),"  "]}),l.jsx("button",{onClick:()=>p(!1),className:"p-1.5 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-full transition-colors",children:l.jsx(aa,{className:"w-5 h-5 text-gray-500"})})]}),l.jsx("div",{className:"flex-1 overflow-y-auto p-4 custom-scrollbar",children:l.jsx("div",{className:"grid grid-cols-3 gap-3",children:yR.map((se,nt)=>{const Je=ae<se.minLevel;return l.jsxs("button",{onClick:()=>!Je&&S(se.url),disabled:Je,className:`relative aspect-square rounded-xl overflow-hidden border-2 transition-all bg-gray-50 dark:bg-gray-800 ${N===se.url?"border-emerald-500 shadow-md ring-2 ring-emerald-100 dark:ring-emerald-900/30":"border-transparent hover:border-gray-300 dark:hover:border-gray-600"} ${Je?"opacity-60 grayscale":"hover:scale-105 active:scale-95"}`,children:[l.jsx("img",{src:se.url,alt:`Avatar ${nt}`,className:"w-full h-full object-cover"}),Je&&l.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-black/50 text-white backdrop-blur-[1px]",children:[l.jsx(Ni,{className:"w-4 h-4 mb-0.5"}),l.jsxs("span",{className:"text-[10px] font-bold",children:[" ",se.minLevel]})]}),!Je&&N===se.url&&l.jsx("div",{className:"absolute top-1 right-1 bg-emerald-500 text-white rounded-full p-0.5 shadow-sm",children:l.jsx(ra,{className:"w-3 h-3"})})]},nt)})})}),l.jsx("div",{className:"p-4 border-t border-gray-100 dark:border-gray-800 shrink-0",children:l.jsxs("button",{onClick:W,disabled:s,className:"w-full bg-emerald-600 text-white py-3 rounded-xl font-bold hover:bg-emerald-700 transition-all shadow-lg shadow-emerald-200 dark:shadow-none flex items-center justify-center gap-2",children:[s?l.jsx(Wt,{className:"w-5 h-5 animate-spin"}):l.jsx(Ri,{className:"w-5 h-5"}),"  "]})})]})}),y&&l.jsx("div",{className:"fixed inset-0 z-[200] flex items-start justify-center p-4 pt-10 md:pt-16 bg-black/80 backdrop-blur-sm animate-fade-in",children:l.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-3xl w-full max-w-2xl max-h-[85vh] flex flex-col shadow-2xl border border-gray-200 dark:border-gray-700 overflow-hidden relative",children:[l.jsxs("div",{className:"p-5 border-b border-gray-100 dark:border-gray-800 flex justify-between items-center shrink-0",children:[l.jsxs("h3",{className:"text-xl font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[l.jsx(Ob,{className:"w-6 h-6 text-emerald-500"}),"  "]}),l.jsx("button",{onClick:()=>w(!1),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-full transition-colors",children:l.jsx(aa,{className:"w-6 h-6 text-gray-500"})})]}),l.jsx("div",{className:"flex-1 overflow-y-auto p-5 custom-scrollbar",children:l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:sm.map((se,nt)=>{const Je=ae<se.minLevel,sn=M===se.url;return l.jsxs("button",{onClick:()=>!Je&&F(se.url),disabled:Je,className:`relative h-28 rounded-2xl overflow-hidden border-4 transition-all duration-300 group ${sn?"border-emerald-500 scale-[1.02] shadow-md":"border-transparent"} ${Je?"opacity-60 cursor-not-allowed grayscale":"hover:scale-[1.02] cursor-pointer"}`,children:[l.jsx("div",{className:"absolute inset-0 bg-cover bg-center",style:{backgroundImage:`url(${se.url})`}}),l.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:Je?l.jsxs("div",{className:"bg-black/60 px-3 py-1.5 rounded-lg backdrop-blur-sm flex items-center gap-1.5",children:[l.jsx(Ni,{className:"w-4 h-4 text-white"}),l.jsxs("span",{className:"text-xs text-white font-bold",children:[" ",se.minLevel]})]}):sn&&l.jsx(ra,{className:"w-8 h-8 text-white drop-shadow-md"})}),l.jsx("div",{className:"absolute bottom-0 w-full bg-gradient-to-t from-black/80 to-transparent p-2 text-center",children:l.jsx("span",{className:"text-xs font-bold text-white drop-shadow-md",children:se.name})})]},nt)})})}),l.jsxs("div",{className:"p-5 border-t border-gray-100 dark:border-gray-800 shrink-0 flex justify-end gap-3",children:[l.jsx("button",{onClick:()=>w(!1),className:"px-6 py-2.5 rounded-xl font-bold text-gray-500 hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",children:""}),l.jsx("button",{onClick:me,disabled:s,className:"bg-emerald-600 text-white px-8 py-2.5 rounded-xl font-bold hover:bg-emerald-700 transition-all shadow-lg shadow-emerald-200 dark:shadow-none flex items-center gap-2",children:s?l.jsx(Wt,{className:"w-5 h-5 animate-spin"}):" "})]})]})}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[l.jsx("div",{className:"lg:col-span-7 lg:order-1 space-y-8",children:l.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-[3rem] shadow-xl overflow-hidden border border-gray-100 dark:border-gray-700 relative group",children:[l.jsxs("div",{className:`relative w-full h-48 md:h-64 transition-all duration-500 ${Et(e==null?void 0:e.profileBackground)}`,style:ve(e==null?void 0:e.profileBackground),children:[l.jsxs("button",{onClick:()=>w(!0),className:"absolute top-4 left-4 bg-black/30 hover:bg-black/50 text-white backdrop-blur-md px-4 py-2 rounded-full text-xs md:text-sm font-bold flex items-center gap-2 transition-all border border-white/20 z-20",children:[l.jsx(Ob,{className:"w-4 h-4"}),"  "]}),l.jsxs("div",{className:`absolute top-4 right-4 px-4 py-1.5 rounded-full text-xs font-black flex items-center gap-2 backdrop-blur-md shadow-lg border-2 z-10 ${k.color}`,children:[l.jsx(k.icon,{className:"w-4 h-4"})," ",k.title]}),l.jsx("div",{className:"absolute -bottom-12 md:-bottom-16 right-8 md:right-12 z-20",children:l.jsxs("div",{className:"relative group cursor-pointer",onClick:()=>p(!0),children:[l.jsx("div",{className:"w-28 h-28 md:w-36 md:h-36 rounded-full border-[6px] border-white dark:border-gray-800 shadow-2xl overflow-hidden bg-white dark:bg-gray-700 relative z-10 transition-transform transform group-hover:scale-105 flex items-center justify-center",children:e!=null&&e.avatar?l.jsx("img",{src:e.avatar,alt:"Avatar",className:"w-full h-full object-cover"}):l.jsx(hr,{className:"w-16 h-16 text-gray-300 dark:text-gray-500"})}),l.jsx("div",{className:"absolute bottom-1 right-1 bg-emerald-500 text-white p-2 rounded-full border-4 border-white dark:border-gray-800 shadow-sm z-20 hover:bg-emerald-600 transition-colors",children:l.jsx(B4,{className:"w-4 h-4"})})]})})]}),l.jsxs("div",{className:"pt-16 md:pt-20 px-8 pb-8",children:[l.jsxs("div",{className:"flex flex-col items-start",children:[l.jsx("h2",{className:"text-3xl font-black text-gray-900 dark:text-white mb-1",children:e==null?void 0:e.displayName}),l.jsxs("div",{className:"flex items-center gap-2 text-gray-500 dark:text-gray-400 text-sm font-medium mb-6",children:[l.jsx("span",{children:e==null?void 0:e.email}),l.jsx("span",{className:"text-gray-300",children:""}),l.jsxs("span",{className:"text-emerald-600 dark:text-emerald-400 font-bold flex items-center gap-1",children:[l.jsx(vc,{className:"w-3 h-3"}),"  ",ae]})]})]}),l.jsxs("form",{onSubmit:P,className:"space-y-6 border-t border-gray-100 dark:border-gray-700 pt-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[l.jsx("div",{className:"md:col-span-2",children:l.jsxs("h3",{className:"text-lg font-bold text-gray-800 dark:text-white flex items-center gap-2 mb-4",children:[l.jsx(hr,{className:"w-5 h-5 text-blue-500"}),"  "]})}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs font-bold text-gray-500 mb-1 block",children:" "}),l.jsx("input",{type:"text",value:R.firstName,onChange:se=>X({...R,firstName:se.target.value}),className:kn})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs font-bold text-gray-500 mb-1 block",children:" "}),l.jsx("input",{type:"text",value:R.lastName,onChange:se=>X({...R,lastName:se.target.value}),className:kn})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs font-bold text-gray-500 mb-1 block",children:""}),l.jsxs("div",{className:"relative",children:[l.jsxs("select",{value:R.gender,onChange:se=>X({...R,gender:se.target.value}),className:vt,disabled:e==null?void 0:e.genderChanged,children:[l.jsx("option",{value:"male",children:""}),l.jsx("option",{value:"female",children:""})]}),l.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400",children:l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})})]}),(e==null?void 0:e.genderChanged)&&l.jsxs("p",{className:"text-[10px] text-red-400 mt-1 mr-1 flex items-center gap-1",children:[l.jsx(Ni,{className:"w-3 h-3"}),"        "]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs font-bold text-gray-500 mb-1 block",children:" "}),l.jsx("input",{type:"text",value:R.phone,onChange:se=>X({...R,phone:se.target.value}),className:kn})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:"text-xs font-bold text-gray-500 mb-1 block",children:""}),l.jsx("input",{type:"text",value:R.address,onChange:se=>X({...R,address:se.target.value}),className:kn})]}),l.jsx("div",{className:"md:col-span-2 mt-2",children:l.jsxs("h3",{className:"text-lg font-bold text-gray-800 dark:text-white flex items-center gap-2 mb-4",children:[l.jsx(Pi,{className:"w-5 h-5 text-emerald-500"}),"  "]})}),l.jsxs("div",{children:[l.jsx("label",{className:"text-xs font-bold text-gray-500 mb-1 block",children:""}),l.jsx("input",{type:"text",value:R.school,onChange:se=>X({...R,school:se.target.value}),className:kn})]}),l.jsxs("div",{className:"relative",children:[l.jsx("label",{className:"text-xs font-bold text-gray-500 mb-1 block",children:" "}),l.jsxs("div",{className:"relative",children:[l.jsxs("select",{value:R.grade,onChange:se=>X({...R,grade:se.target.value}),className:vt,children:[l.jsx("option",{value:"",children:" "}),[5,6,7,8,9,10,11,12].map(se=>l.jsxs("option",{value:se,children:[" ",se]},se)),l.jsx("option",{value:"English Major - QOU",children:"  "})]}),l.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400",children:l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})})]})]})]}),l.jsxs("div",{className:"flex items-center justify-end pt-4 gap-4",children:[u&&l.jsxs("span",{className:"text-green-600 font-bold text-sm animate-fade-in flex items-center gap-1",children:[l.jsx(ra,{className:"w-4 h-4"})," ",u]}),l.jsxs("button",{type:"submit",disabled:s,className:"bg-emerald-600 text-white px-8 py-3 rounded-xl font-bold hover:bg-emerald-700 transition-colors shadow-lg shadow-emerald-900/20 flex items-center gap-2",children:[s?l.jsx(Wt,{className:"w-5 h-5 animate-spin"}):l.jsx(Ri,{className:"w-5 h-5"}),"  "]})]})]})]})]})}),l.jsxs("div",{className:"lg:col-span-5 lg:order-2 space-y-6 mt-8 lg:mt-0",children:[l.jsxs("div",{className:"bg-gradient-to-br from-indigo-700 via-purple-700 to-fuchsia-700 rounded-[2.5rem] shadow-2xl p-6 text-white relative overflow-hidden border-4 border-white dark:border-gray-800 ring-4 ring-indigo-50 dark:ring-gray-900",children:[l.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-white opacity-10 rounded-full -translate-y-1/2 translate-x-1/2 blur-3xl"}),l.jsx("div",{className:"absolute bottom-0 left-0 w-48 h-48 bg-indigo-500 opacity-20 rounded-full translate-y-1/2 -translate-x-1/2 blur-3xl"}),l.jsx("div",{className:"flex items-center justify-between mb-6 relative z-10",children:l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-0 bg-yellow-400 blur-md opacity-50 rounded-full"}),l.jsx("div",{className:"p-3 bg-gradient-to-br from-yellow-300 to-orange-500 rounded-2xl shadow-lg relative border border-white/30",children:l.jsx(k.icon,{className:"w-8 h-8 text-white"})})]}),l.jsxs("div",{children:[l.jsxs("h3",{className:"text-3xl font-black tracking-tight",children:[" ",ae]}),l.jsxs("p",{className:"text-indigo-100 text-sm font-medium flex items-center gap-1.5 mt-0.5 bg-black/20 px-3 py-1 rounded-full w-fit",children:[l.jsx(Dd,{className:"w-3.5 h-3.5 text-orange-400 fill-orange-400"})," ",le,"   (XP)"]})]})]})}),l.jsxs("div",{className:"relative mb-8",children:[l.jsxs("div",{className:"flex justify-between text-xs font-bold text-indigo-200 mb-1 px-1",children:[l.jsx("span",{children:k.title}),l.jsxs("span",{children:["  ",ae+1]})]}),l.jsx("div",{className:"w-full bg-black/30 h-3.5 rounded-full relative overflow-hidden backdrop-blur-sm border border-white/10",children:l.jsx("div",{className:"bg-gradient-to-r from-yellow-400 via-orange-400 to-pink-500 h-full rounded-full transition-all duration-1000 ease-out relative shadow-[0_0_10px_rgba(251,191,36,0.5)]",style:{width:`${ya}%`},children:l.jsx("div",{className:"absolute inset-0 bg-white/30 w-full h-full animate-[pulse_2s_cubic-bezier(0.4,0,0.6,1)_infinite]"})})})]}),l.jsxs("div",{className:"bg-black/20 rounded-2xl p-5 backdrop-blur-md border border-white/10",children:[l.jsxs("h4",{className:"text-sm font-bold text-indigo-100 mb-2 flex items-center gap-2",children:[l.jsx(Ci,{className:"w-4 h-4 text-yellow-300"}),"  "]}),l.jsx("div",{className:"text-xl font-black text-white tracking-wide mb-1",children:k.title}),l.jsx("div",{className:"text-xs text-indigo-200",children:"     !"})]})]}),l.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-sm border border-gray-100 dark:border-gray-700 p-6",children:[l.jsxs("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4 flex items-center gap-2 border-b border-gray-100 dark:border-gray-700 pb-3",children:[l.jsx("div",{className:"p-2 bg-yellow-50 dark:bg-yellow-900/30 rounded-lg",children:l.jsx(gm,{className:"w-5 h-5 text-yellow-600 dark:text-yellow-400"})}),"  "]}),l.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:pR.map((se,nt)=>{const Je=se.condition(j);return l.jsxs("div",{className:`relative p-3 rounded-xl border flex flex-col items-center text-center transition-all ${Je?"bg-white dark:bg-gray-700/50 border-gray-100 dark:border-gray-600 shadow-sm hover:shadow-md":"bg-gray-50 dark:bg-gray-800/50 border-gray-100 dark:border-gray-700 opacity-60 grayscale"}`,children:[l.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center mb-2 ${Je?se.bg:"bg-gray-200 dark:bg-gray-700"}`,children:l.jsx(se.icon,{className:`w-6 h-6 ${Je?se.color:"text-gray-400"}`})}),l.jsx("h4",{className:"font-bold text-xs text-gray-800 dark:text-gray-200 mb-1",children:se.title}),l.jsx("p",{className:"text-[10px] text-gray-500 dark:text-gray-400 leading-tight",children:se.desc}),!Je&&l.jsx("div",{className:"absolute inset-0 bg-gray-100/50 dark:bg-gray-900/50 backdrop-blur-[1px] rounded-xl flex items-center justify-center",children:l.jsx(Ni,{className:"w-4 h-4 text-gray-400"})})]},nt)})})]}),l.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-sm border border-gray-100 dark:border-gray-700 p-6 hover:shadow-md transition-shadow",children:[l.jsxs("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[l.jsx("div",{className:"p-2 bg-emerald-50 dark:bg-emerald-900/30 rounded-lg",children:l.jsx(yT,{className:"w-5 h-5 text-emerald-600 dark:text-emerald-400"})}),"   "]}),oe?l.jsx("div",{className:"h-48 flex items-center justify-center",children:l.jsx(Wt,{className:"w-6 h-6 animate-spin text-emerald-500"})}):l.jsxs("div",{className:"space-y-4",children:[l.jsx(xR,{data:Kt}),l.jsxs("div",{className:"flex justify-between items-center bg-gray-50 dark:bg-gray-700/50 p-4 rounded-xl border border-gray-100 dark:border-gray-700",children:[l.jsx("span",{className:"text-gray-600 dark:text-gray-300 text-sm font-bold",children:" "}),l.jsxs("span",{className:`font-black text-xl ${Yt>=90?"text-emerald-600 dark:text-emerald-400":"text-blue-600 dark:text-blue-400"}`,children:[Yt,"%"]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 p-3 rounded-xl border border-gray-100 dark:border-gray-700 flex items-center gap-3",children:[l.jsx("div",{className:"p-2 rounded-lg bg-emerald-100 dark:bg-emerald-900/30 text-emerald-600 dark:text-emerald-400",children:l.jsx(vc,{className:"w-5 h-5"})}),l.jsxs("div",{children:[l.jsx("div",{className:"text-[10px] font-bold text-gray-500 dark:text-gray-400 uppercase",children:" "}),l.jsxs("div",{className:"font-black text-lg text-emerald-600 dark:text-emerald-400",children:[Yn,"%"]})]})]}),l.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 p-3 rounded-xl border border-gray-100 dark:border-gray-700 flex items-center gap-3",children:[l.jsx("div",{className:"p-2 rounded-lg bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400",children:l.jsx(Av,{className:"w-5 h-5"})}),l.jsxs("div",{children:[l.jsx("div",{className:"text-[10px] font-bold text-gray-500 dark:text-gray-400 uppercase",children:" "}),l.jsxs("div",{className:"font-black text-lg text-red-600 dark:text-red-400",children:[Dr,"%"]})]})]}),l.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 p-3 rounded-xl border border-gray-100 dark:border-gray-700 flex items-center gap-3",children:[l.jsx("div",{className:"p-2 rounded-lg bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400",children:l.jsx(i4,{className:"w-5 h-5"})}),l.jsxs("div",{children:[l.jsx("div",{className:"text-[10px] font-bold text-gray-500 dark:text-gray-400 uppercase",children:" "}),l.jsx("div",{className:"font-black text-lg text-blue-600 dark:text-blue-400",children:pa})]})]}),l.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 p-3 rounded-xl border border-gray-100 dark:border-gray-700 flex items-center gap-3",children:[l.jsx("div",{className:"p-2 rounded-lg bg-purple-100 dark:bg-purple-900/30 text-purple-600 dark:text-purple-400",children:l.jsx(G4,{className:"w-5 h-5"})}),l.jsxs("div",{children:[l.jsx("div",{className:"text-[10px] font-bold text-gray-500 dark:text-gray-400 uppercase",children:""}),l.jsxs("div",{className:"font-black text-lg text-purple-600 dark:text-purple-400",children:[Yt,"%"]})]})]})]})]})]})]})]})]})},vR=[{id:"All",label:" (All)"},{id:"Language",label:"Language ()"},{id:"Reading",label:"Reading ()"},{id:"Writing",label:"Writing ()"},{id:"Vocabulary",label:"Vocabulary ()"},{id:"General",label:"  (General Quiz)"}],im=({options:a,value:e,onChange:n,placeholder:s,disabled:o})=>{const[u,f]=Q.useState(!1),g=Q.useRef(null);Q.useEffect(()=>{const y=w=>{g.current&&!g.current.contains(w.target)&&f(!1)};return document.addEventListener("mousedown",y),()=>document.removeEventListener("mousedown",y)},[]);const p=a.find(y=>y.value===e&&!y.isHeader);return l.jsxs("div",{className:`relative ${u?"z-50":"z-0"}`,ref:g,children:[l.jsxs("button",{type:"button",onClick:()=>!o&&f(!u),className:`w-full px-5 py-4 rounded-2xl font-bold text-right border-2 flex justify-between items-center outline-none transition-all
            ${o?"bg-gray-100 dark:bg-gray-800 border-gray-100 dark:border-gray-700 text-gray-400 cursor-not-allowed":u?"bg-white dark:bg-gray-800 border-emerald-500 ring-4 ring-emerald-50 dark:ring-emerald-900/20 text-gray-900 dark:text-white shadow-lg":"bg-gray-50 dark:bg-gray-700 border-transparent hover:border-emerald-200 dark:hover:border-emerald-700 text-gray-900 dark:text-white shadow-sm"}
         `,children:[l.jsx("span",{className:`truncate ${p?"":"text-gray-400 dark:text-gray-500"}`,children:p?p.label:s}),l.jsx(Rd,{className:`w-5 h-5 text-gray-400 transition-transform duration-300 ${u?"rotate-180 text-emerald-500":""}`})]}),u&&l.jsxs("div",{className:"absolute top-full left-0 right-0 mt-2 bg-white dark:bg-gray-800 border border-gray-100 dark:border-gray-700 rounded-2xl shadow-xl max-h-72 overflow-y-auto custom-scrollbar animate-fade-in p-2 z-50",children:[a.map((y,w)=>{if(y.isHeader)return l.jsx("div",{className:"px-4 py-2 text-xs font-black text-gray-400 dark:text-gray-500 uppercase tracking-wider mt-2 first:mt-0 bg-gray-50/50 dark:bg-gray-700/50 rounded-lg mb-1",children:y.label},w);const N=y.value===e;return l.jsxs("div",{onClick:()=>{n(y.value),f(!1)},className:`px-4 py-3 rounded-xl font-bold text-sm cursor-pointer transition-colors flex justify-between items-center mb-1 group
                      ${N?"bg-emerald-50 dark:bg-emerald-900/30 text-emerald-600 dark:text-emerald-400":"text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"}
                   `,children:[y.label,N&&l.jsx(Qm,{className:"w-4 h-4"})]},w)}),a.length===0&&l.jsx("div",{className:"p-4 text-center text-gray-400 text-sm",children:"   "})]})]})},wR=({onBack:a})=>{const{user:e}=ga(),[n,s]=Q.useState("SELECTION"),[o,u]=Q.useState(""),[f,g]=Q.useState(""),[p,y]=Q.useState("All"),[w,N]=Q.useState([]),[S,M]=Q.useState(!1),[F,re]=Q.useState(null),[Y,oe]=Q.useState(0),[ue,le]=Q.useState({}),[je,ae]=Q.useState(1800),[B,k]=Q.useState(!1),[E,j]=Q.useState(0),[D,I]=Q.useState({}),[V,A]=Q.useState(!1),[Ue,Ze]=Q.useState(null),[K,ce]=Q.useState(!1),[ye,Re]=Q.useState(!1),[qe,R]=Q.useState(!1),[X,P]=Q.useState(0),[W,me]=Q.useState(!1),[Ee,Ve]=Q.useState(null);Q.useEffect(()=>{window.scrollTo(0,0)},[n]),Q.useEffect(()=>{f?bt():N([])},[f]),Q.useEffect(()=>{let ie;return n==="ACTIVE"&&je>0&&(ie=setInterval(()=>{ae(we=>we<=1?(Xn(),0):we-1)},1e3)),()=>clearInterval(ie)},[n,je]),Q.useEffect(()=>{if(n!=="ACTIVE")return;const ie=()=>{P(Ie=>{const _e=Ie+1;return _e===1?Re(!0):_e>=2&&(Re(!1),R(!0)),_e})},we=()=>{document.hidden&&ie()},Ne=Ie=>{(Ie.key==="PrintScreen"||Ie.ctrlKey&&Ie.key==="p"||Ie.metaKey&&Ie.shiftKey)&&(Ie.preventDefault(),ie())},fe=Ie=>Ie.preventDefault();return document.addEventListener("visibilitychange",we),document.addEventListener("keydown",Ne),document.addEventListener("contextmenu",fe),document.addEventListener("copy",fe),document.addEventListener("paste",fe),document.addEventListener("cut",fe),document.addEventListener("selectstart",fe),()=>{document.removeEventListener("visibilitychange",we),document.removeEventListener("keydown",Ne),document.removeEventListener("contextmenu",fe),document.removeEventListener("copy",fe),document.removeEventListener("paste",fe),document.removeEventListener("cut",fe),document.removeEventListener("selectstart",fe)}},[n]);const bt=async()=>{M(!0);try{const ie=jr(En(jt,"quizzes"),Sr("grade","==",f)),we=await ma(ie),Ne=[];we.forEach(fe=>{Ne.push({id:fe.id,...fe.data()})}),N(Ne)}catch(ie){console.error("Error fetching quizzes:",ie)}finally{M(!1)}},ve=Array.from(new Set(w.map(ie=>ie.subject))),Et=w.filter(ie=>{const we=o?ie.subject===o:!0,Ne=p&&p!=="All"?ie.category===p:!0;return we&&Ne}),Kt=ie=>{Ze(ie),A(!0)},Yn=ie=>{if(!ie.questions||ie.questions.length===0){alert("      ");return}const Ne=[...ie.questions].sort(()=>Math.random()-.5).map(_e=>{if(_e.type==="MCQ"||_e.type==="TF"){const rt=_e.options.map((dt,Hi)=>({opt:dt,originalIndex:Hi}));rt.sort(()=>Math.random()-.5);const Be=rt.map(dt=>dt.opt),ut=rt.findIndex(dt=>dt.originalIndex===_e.correctAnswer);return{..._e,options:Be,correctAnswer:ut}}return _e}),fe={...ie,questions:Ne},Ie={};Ne.forEach((_e,rt)=>{if(_e.type==="REORDER"){const Be=_e.options.map((ut,dt)=>dt);for(let ut=Be.length-1;ut>0;ut--){const dt=Math.floor(Math.random()*(ut+1));[Be[ut],Be[dt]]=[Be[dt],Be[ut]]}Ie[rt]=Be}}),I(Ie),re(fe),oe(0),le({}),ae(1800),j(0),P(0),R(!1),A(!1),Ze(null),s("ACTIVE")},Dr=()=>{Ue&&Yn(Ue)},Yt=ie=>{le(we=>({...we,[Y]:ie}))},pa=()=>{F&&(Y<F.questions.length-1?oe(ie=>ie+1):Xn())},Xn=async()=>{if(!F||!e){s("RESULT");return}k(!0);const ie=kn(),we=Math.round(ie/F.questions.length*100);let Ne=0;try{const fe=jr(En(jt,"quiz_results"),Sr("userId","==",e.uid),Sr("quizId","==",F.id));(await ma(fe)).empty?Ne=ie*30:Ne=ie*1}catch(fe){console.error("Error checking previous attempts:",fe),Ne=ie*1}j(Ne);try{await Dh(En(jt,"quiz_results"),{userId:e.uid,userName:e.displayName,quizId:F.id||"unknown",quizTitle:F.title,subject:F.subject,score:ie,totalQuestions:F.questions.length,percentage:we,passed:we>=50,earnedXP:Ne,createdAt:$l()});const fe=fa(jt,"users",e.uid);await Gg(fe,{totalXP:Hm(Ne),quizzesCompleted:Hm(1),lastQuizDate:$l(),role:"student",email:e.email,displayName:e.displayName},{merge:!0})}catch(fe){console.error("Error saving quiz result:",fe)}finally{k(!1),s("RESULT")}},ya=ie=>{const we=Math.floor(ie/60),Ne=ie%60;return`${we}:${Ne<10?"0":""}${Ne}`},kn=()=>{if(!F)return 0;let ie=0;return F.questions.forEach((we,Ne)=>{if(we.type==="REORDER"){const fe=ue[Ne];if(fe&&fe.length===we.options.length){let Ie=!0;for(let _e=0;_e<we.options.length;_e++)if(fe[_e]!==_e){Ie=!1;break}Ie&&ie++}}else ue[Ne]===we.correctAnswer&&ie++}),ie},vt=()=>{ce(!0)},se=()=>{ce(!1),s("SELECTION")},nt=()=>{R(!1),s("SELECTION")},Je=ie=>{Ve(ie),me(!0)},sn=()=>{if(me(!1),Ee==="REVIEW")s("REVIEW");else if(Ee==="RETAKE"){const ie=w.find(we=>we.id===(F==null?void 0:F.id));ie?Yn(ie):s("SELECTION")}else Ee==="LIST"?s("SELECTION"):Ee==="HOME"&&a();Ve(null)},yt=(ie,we)=>{const Ne=ue[Y]||[];Yt(we?[...Ne,ie]:Ne.filter(fe=>fe!==ie))},Jt=({title:ie,message:we,onConfirm:Ne,onCancel:fe,icon:Ie=Ai,confirmText:_e="",cancelText:rt="",confirmColor:Be="emerald"})=>l.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center px-4",children:[l.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-md transition-opacity",onClick:fe}),l.jsxs("div",{className:"bg-gray-900 rounded-[2.5rem] p-8 max-w-sm w-full relative z-10 animate-fade-in-up text-center border border-white/10 shadow-2xl shadow-black/50",children:[l.jsx("div",{className:`w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-6 shadow-lg border-4 border-gray-800 ${Be==="red"?"bg-red-500/20":"bg-emerald-500/20"}`,children:l.jsx(Ie,{className:`w-10 h-10 ${Be==="red"?"text-red-500":"text-emerald-500"}`})}),l.jsx("h3",{className:"text-2xl font-black text-white mb-3",children:ie}),l.jsx("p",{className:"text-gray-400 mb-8 text-base font-medium leading-relaxed",children:we}),l.jsxs("div",{className:"flex gap-4",children:[l.jsx("button",{onClick:Ne,className:`flex-1 py-3.5 rounded-xl font-bold text-white transition-all transform hover:scale-105 active:scale-95 shadow-lg ${Be==="red"?"bg-gradient-to-r from-red-600 to-pink-600 shadow-red-900/30":"bg-gradient-to-r from-emerald-500 to-teal-600 shadow-emerald-900/30"}`,children:_e}),l.jsx("button",{onClick:fe,className:"flex-1 bg-gray-800 text-gray-300 py-3.5 rounded-xl font-bold hover:bg-gray-700 transition-colors border border-gray-700",children:rt})]})]})]}),vn=()=>{const ie=[{label:" ",value:"school_header",isHeader:!0},...[5,6,7,8,9,10,11,12].map(fe=>({label:` ${fe}`,value:fe.toString()})),{label:" ",value:"uni_header",isHeader:!0},{label:"   -   ",value:"English Major - QOU"}],we=[{label:"  ",value:""},...ve.map(fe=>({label:String(fe),value:String(fe)}))],Ne=vR.map(fe=>({label:fe.label,value:fe.id}));return l.jsxs("div",{className:"max-w-5xl mx-auto px-4 py-8 animate-fade-in",children:[l.jsx("style",{children:`
        .custom-scrollbar::-webkit-scrollbar {
          width: 6px;
        }
        .custom-scrollbar::-webkit-scrollbar-track {
          background: transparent;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb {
          background-color: rgba(156, 163, 175, 0.5);
          border-radius: 20px;
        }
      `}),l.jsxs("div",{className:"mb-8 text-center",children:[l.jsx("h2",{className:"text-2xl md:text-3xl font-black text-gray-900 dark:text-white mb-2",children:" "}),l.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm md:text-base",children:"       "})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6 mb-6",children:[l.jsxs("div",{className:"lg:col-span-7 bg-white dark:bg-gray-800 p-5 rounded-3xl shadow-sm border border-gray-100 dark:border-gray-700 relative z-30",children:[l.jsxs("label",{className:"block text-base font-bold text-gray-800 dark:text-gray-200 mb-4 flex items-center gap-2",children:[l.jsx("div",{className:"p-2 bg-emerald-50 dark:bg-emerald-900/30 rounded-lg",children:l.jsx(Pi,{className:"w-5 h-5 text-emerald-600 dark:text-emerald-400"})}),"     "]}),l.jsx(im,{options:ie,value:f,onChange:fe=>{g(fe),u(""),y("All")},placeholder:"--    --"})]}),l.jsxs("div",{className:"lg:col-span-5 bg-white dark:bg-gray-800 p-5 rounded-3xl shadow-sm border border-gray-100 dark:border-gray-700 relative z-20",children:[l.jsxs("label",{className:"block text-base font-bold text-gray-800 dark:text-gray-200 mb-4 flex items-center gap-2",children:[l.jsx("div",{className:"p-2 bg-emerald-50 dark:bg-emerald-900/30 rounded-lg",children:l.jsx(Kn,{className:"w-5 h-5 text-emerald-600 dark:text-emerald-400"})})," "]}),l.jsx(im,{options:we,value:o,onChange:u,placeholder:f?" ":"   ",disabled:!f})]})]}),f&&l.jsx("div",{className:"mb-10 animate-fade-in relative z-10",children:l.jsxs("div",{className:"bg-white dark:bg-gray-800 p-5 rounded-3xl shadow-sm border border-gray-100 dark:border-gray-700",children:[l.jsxs("label",{className:"block text-base font-bold text-gray-800 dark:text-gray-200 mb-4 flex items-center gap-2",children:[l.jsx("div",{className:"p-2 bg-emerald-50 dark:bg-emerald-900/30 rounded-lg",children:l.jsx(Lv,{className:"w-5 h-5 text-emerald-600 dark:text-emerald-400"})}),"  ()"]}),l.jsx(im,{options:Ne,value:p,onChange:y,placeholder:"  "})]})}),f&&l.jsxs("div",{className:"space-y-6 animate-fade-in-up relative z-0",children:[l.jsxs("h3",{className:"text-lg font-bold text-gray-900 dark:text-gray-100 border-r-4 border-emerald-500 pr-3 flex items-center gap-2",children:[l.jsx(Db,{className:"w-5 h-5"})," "]}),S?l.jsx("div",{className:"flex justify-center py-12",children:l.jsx(Wt,{className:"w-8 h-8 animate-spin text-emerald-600 dark:text-emerald-400"})}):w.length===0?l.jsxs("div",{className:"bg-white dark:bg-gray-800 p-8 rounded-2xl shadow-sm text-center border border-dashed border-gray-300 dark:border-gray-600",children:[l.jsx("div",{className:"w-16 h-16 bg-gray-100 dark:bg-gray-700 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx(Ls,{className:"w-8 h-8 text-gray-400 dark:text-gray-500"})}),l.jsx("p",{className:"text-gray-500 dark:text-gray-400 font-medium",children:"      "})]}):Et.length===0?l.jsxs("div",{className:"bg-white dark:bg-gray-800 p-8 rounded-2xl shadow-sm text-center border border-dashed border-gray-300 dark:border-gray-600",children:[l.jsx("div",{className:"w-16 h-16 bg-gray-100 dark:bg-gray-700 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx(Ls,{className:"w-8 h-8 text-gray-400 dark:text-gray-500"})}),l.jsx("p",{className:"text-gray-500 dark:text-gray-400 font-medium",children:"     "})]}):l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Et.map(fe=>l.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-200 dark:border-gray-700 p-5 hover:shadow-md hover:border-emerald-300 dark:hover:border-emerald-600 transition-all group",children:[l.jsxs("div",{className:"flex justify-between items-start mb-3",children:[l.jsxs("div",{className:"flex flex-col gap-1",children:[l.jsx("span",{className:"bg-emerald-100 dark:bg-emerald-900/50 text-emerald-700 dark:text-emerald-300 text-[10px] font-bold px-2 py-1 rounded-md w-fit",children:fe.subject}),fe.category&&l.jsx("span",{className:"bg-blue-50 dark:bg-blue-900/50 text-blue-700 dark:text-blue-300 text-[10px] font-bold px-2 py-1 rounded-md w-fit border border-blue-100 dark:border-blue-800",children:fe.category==="General"?"General Quiz":fe.category})]}),l.jsxs("span",{className:"text-gray-400 dark:text-gray-500 text-xs",children:[fe.questions.length," "]})]}),l.jsx("h4",{className:"text-base font-bold text-gray-900 dark:text-white mb-2 line-clamp-2",children:fe.title}),l.jsxs("div",{className:"flex items-center gap-1 text-gray-500 dark:text-gray-400 text-xs mb-5",children:[l.jsx(Ld,{className:"w-3 h-3"}),l.jsx("span",{children:fe.grade==="English Major - QOU"?"  ":` ${fe.grade}`})]}),l.jsxs("button",{onClick:()=>Kt(fe),className:"w-full bg-emerald-50 dark:bg-emerald-900/30 text-emerald-700 dark:text-emerald-400 border border-emerald-200 dark:border-emerald-800 py-2.5 rounded-xl font-bold text-sm group-hover:bg-emerald-600 group-hover:text-white transition-all flex items-center justify-center gap-2",children:[" ",l.jsx(Cd,{className:"w-4 h-4"})]})]},fe.id))})]}),V&&l.jsx(Jt,{title:"  ",message:`   ${Ue==null?void 0:Ue.title} `,onConfirm:Dr,onCancel:()=>A(!1),confirmText:" ",cancelText:"",icon:Ai})]})},Wn=()=>{if(!F||!F.questions||!F.questions[Y])return l.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-white dark:bg-gray-900 gap-4",children:[l.jsx("div",{className:"text-red-500 font-bold text-lg",children:"    "}),l.jsx("button",{onClick:()=>s("SELECTION"),className:"text-blue-600 dark:text-blue-400 underline",children:" "})]});const ie=F.questions[Y],we=ie.type==="REORDER";let Ne=!1;if(we){const ut=ue[Y];Ne=ut!==void 0&&ut.length===ie.options.length}else Ne=ue[Y]!==void 0;const fe=Y===F.questions.length-1,Ie=F.subject.toLowerCase().includes("english")||F.subject.includes("")||F.subject.includes(""),_e=Ie?"ltr":"rtl",rt=Ie?"text-left":"text-right",Be={sm:"text-sm leading-relaxed",md:"text-base leading-relaxed",lg:"text-xl leading-loose",xl:"text-2xl leading-loose"}[ie.passageFontSize||"md"];return l.jsxs("div",{className:"fixed inset-0 z-[9999] bg-gray-50 dark:bg-gray-900 overflow-y-auto select-none",onContextMenu:ut=>ut.preventDefault(),style:{WebkitUserSelect:"none",MozUserSelect:"none",msUserSelect:"none",userSelect:"none",WebkitTouchCallout:"none"},children:[qe&&l.jsx(Jt,{title:"   ",message:"      .   .",onConfirm:nt,onCancel:()=>{},confirmText:"",cancelText:"",icon:nT,confirmColor:"red"}),ye&&!qe&&l.jsx(Jt,{title:" !",message:"     .   .",onConfirm:()=>Re(!1),onCancel:()=>{},confirmText:"",cancelText:"",icon:bT,confirmColor:"red"}),K&&l.jsx(Jt,{title:" ",message:"       .",onConfirm:se,onCancel:()=>ce(!1),confirmText:" ",cancelText:"",icon:Md,confirmColor:"red"}),l.jsxs("div",{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-md border-b border-gray-200 dark:border-gray-700 sticky top-0 z-50 shadow-sm",children:[l.jsxs("div",{className:"max-w-4xl mx-auto px-3 h-16 flex justify-between items-center",children:[l.jsxs("button",{onClick:vt,className:"flex items-center gap-2 text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 px-3 py-1.5 rounded-lg transition-colors font-bold text-sm",children:[l.jsx(Md,{className:"w-4 h-4"}),l.jsx("span",{className:"hidden sm:inline",children:""})]}),l.jsx("div",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 flex flex-col items-center",children:l.jsxs("div",{className:`flex items-center gap-2 px-4 py-1.5 rounded-full font-mono font-bold text-base shadow-inner border border-gray-200 dark:border-gray-600 ${je<300?"bg-red-100 dark:bg-red-900/50 text-red-600 dark:text-red-200 animate-pulse":"bg-gray-100 dark:bg-gray-700 text-emerald-700 dark:text-emerald-400"}`,children:[l.jsx(Cv,{className:"w-4 h-4"}),ya(je)]})}),l.jsxs("div",{className:"text-xs font-bold text-gray-500 dark:text-gray-400",children:[Y+1," / ",F.questions.length]})]}),l.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 h-1",children:l.jsx("div",{className:"bg-emerald-500 h-full transition-all duration-500 ease-out",style:{width:`${(Y+1)/F.questions.length*100}%`}})})]}),l.jsxs("div",{className:"max-w-3xl mx-auto px-4 py-8",children:[l.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden animate-fade-in-up",dir:_e,children:[l.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700/50 border-b border-gray-100 dark:border-gray-700 p-4 flex items-center justify-between",children:[l.jsx("h2",{className:"font-bold text-gray-800 dark:text-gray-200 text-sm md:text-base",children:F.title}),l.jsx("div",{className:"bg-white dark:bg-gray-600 p-1.5 rounded-lg shadow-sm",children:we?l.jsx(Dv,{className:"w-4 h-4 text-emerald-500"}):l.jsx(Ni,{className:"w-4 h-4 text-gray-400 dark:text-gray-300"})})]}),l.jsxs("div",{className:"p-6 md:p-8",children:[ie.passageContent&&l.jsxs("div",{className:"mb-8",children:[ie.generalInstruction&&l.jsx("div",{className:`text-gray-500 dark:text-gray-400 font-bold mb-3 text-sm bg-gray-100 dark:bg-gray-700/50 px-4 py-2.5 rounded-xl border-l-4 border-emerald-500 ${rt}`,children:ie.generalInstruction}),l.jsx("div",{className:`bg-blue-50 dark:bg-blue-900/20 p-5 rounded-2xl border border-blue-100 dark:border-blue-800 ${rt}`,children:l.jsx("div",{className:`text-gray-800 dark:text-gray-200 whitespace-pre-wrap font-medium ${Be}`,children:ie.passageContent})})]}),l.jsx("h3",{className:`text-lg md:text-2xl font-black text-gray-900 dark:text-white leading-relaxed mb-8 ${rt}`,children:ie.question}),we?l.jsxs("div",{className:"space-y-6",dir:"ltr",children:[l.jsxs("div",{className:"min-h-[120px] p-4 bg-gray-50 dark:bg-gray-900/50 rounded-2xl border-2 border-dashed border-gray-300 dark:border-gray-600 flex flex-wrap gap-2 items-start content-start transition-all",children:[(ue[Y]||[]).map((ut,dt)=>l.jsx("button",{onClick:()=>yt(ut,!1),className:"bg-emerald-600 text-white px-4 py-2 rounded-xl font-bold shadow-md hover:bg-red-500 transition-colors animate-fade-in",children:ie.options[ut]},`ans-${dt}`)),(!ue[Y]||ue[Y].length===0)&&l.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400 text-sm font-medium italic",children:"      "})]}),l.jsx("div",{className:"flex flex-wrap gap-3 justify-center bg-white dark:bg-gray-800 p-4 rounded-2xl border border-gray-100 dark:border-gray-700",children:(D[Y]||[]).filter(ut=>!(ue[Y]||[]).includes(ut)).map((ut,dt)=>l.jsx("button",{onClick:()=>yt(ut,!0),className:"bg-white dark:bg-gray-700 border-2 border-gray-200 dark:border-gray-600 text-gray-700 dark:text-gray-200 px-4 py-2 rounded-xl font-bold shadow-sm hover:border-emerald-500 hover:text-emerald-600 dark:hover:text-emerald-400 transition-all transform hover:scale-105 active:scale-95",children:ie.options[ut]},`bank-${dt}`))}),l.jsx("div",{className:"flex justify-end",children:l.jsxs("button",{onClick:()=>Yt([]),className:"text-xs font-bold text-gray-400 hover:text-red-500 flex items-center gap-1",children:[l.jsx(Mv,{className:"w-3 h-3"})," "]})})]}):l.jsx("div",{className:"space-y-3",children:ie.options.map((ut,dt)=>l.jsxs("button",{onClick:()=>Yt(dt),className:`w-full ${rt} p-4 rounded-xl border-2 transition-all flex items-center justify-between group hover:scale-[1.01] active:scale-[0.99] duration-200 ${ue[Y]===dt?"border-emerald-500 bg-emerald-50 dark:bg-emerald-900/30 shadow-md ring-2 ring-emerald-100 dark:ring-emerald-900":"border-gray-100 dark:border-gray-700 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 hover:border-gray-300 dark:hover:border-gray-600 shadow-sm"}`,children:[l.jsx("span",{className:`text-base font-bold ${ue[Y]===dt?"text-emerald-900 dark:text-emerald-300":"text-gray-700 dark:text-gray-300"}`,children:ut}),l.jsx("div",{className:`w-6 h-6 rounded-full border-2 flex items-center justify-center shrink-0 ml-2 transition-colors ${ue[Y]===dt?"border-emerald-600 bg-emerald-600":"border-gray-300 dark:border-gray-600 group-hover:border-emerald-400"}`,children:ue[Y]===dt&&l.jsx("div",{className:"w-2.5 h-2.5 bg-white rounded-full"})})]},dt))})]})]}),l.jsx("div",{className:"mt-8 flex justify-end",children:l.jsx("button",{onClick:pa,disabled:!Ne||B,className:`w-full sm:w-auto px-10 py-4 rounded-2xl font-bold text-lg flex items-center justify-center gap-2 shadow-xl transition-all ${!Ne||B?"bg-gray-200 dark:bg-gray-700 text-gray-400 dark:text-gray-500 cursor-not-allowed shadow-none":"bg-emerald-600 text-white hover:bg-emerald-700 hover:shadow-emerald-500/20 active:scale-95"}`,children:B?l.jsxs(l.Fragment,{children:["  ",l.jsx(Wt,{className:"w-5 h-5 animate-spin"})]}):l.jsxs(l.Fragment,{children:[fe?" ":" ",_e==="rtl"?l.jsx(Cd,{className:"w-5 h-5"}):l.jsx(an,{className:"w-5 h-5"})]})})})]})]})},wn=()=>{if(!F)return null;const ie=kn(),we=F.questions.length,Ne=Math.round(ie/we*100);let fe="text-red-500",Ie="from-red-500 to-pink-600",_e=ZE;Ne>=90?(fe="text-emerald-500",Ie="from-emerald-400 to-teal-600",_e=Ci):Ne>=75?(fe="text-blue-500",Ie="from-blue-400 to-indigo-600",_e=Si):Ne>=50&&(fe="text-yellow-500",Ie="from-yellow-400 to-orange-500",_e=Qm);const rt=_e;return l.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center p-4 animate-fade-in",children:l.jsxs("div",{className:"w-full max-w-md bg-white dark:bg-gray-800 rounded-[2.5rem] shadow-2xl overflow-hidden relative border border-gray-100 dark:border-gray-700",children:[l.jsxs("div",{className:`relative pt-12 pb-16 px-6 text-center bg-gradient-to-br ${Ie}`,children:[l.jsx("div",{className:"absolute top-0 left-0 w-full h-full opacity-10 bg-[url('https://www.transparenttextures.com/patterns/cubes.png')]"}),l.jsxs("div",{className:"relative z-10",children:[l.jsx("div",{className:"w-24 h-24 mx-auto bg-white/20 backdrop-blur-md rounded-full flex items-center justify-center mb-4 shadow-lg ring-4 ring-white/10",children:l.jsx(rt,{className:"w-12 h-12 text-white"})}),l.jsx("h2",{className:"text-3xl font-black text-white mb-1",children:Ne>=90?"!":Ne>=50?"!":" "}),l.jsx("p",{className:"text-white/90 font-medium text-sm mb-6",children:F.title}),l.jsxs("div",{className:"inline-flex items-center gap-2 bg-white/20 backdrop-blur-md px-6 py-2 rounded-full border border-white/20 shadow-lg",children:[l.jsx(Dd,{className:"w-5 h-5 text-yellow-300 fill-yellow-300 animate-pulse"}),l.jsxs("span",{className:"font-black text-white text-lg",children:["+",E," XP"]})]})]}),l.jsx("div",{className:"absolute -bottom-1 left-0 w-full overflow-hidden leading-[0]",children:l.jsx("svg",{className:"relative block w-[calc(100%+1.3px)] h-[50px]","data-name":"Layer 1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1200 120",preserveAspectRatio:"none",children:l.jsx("path",{d:"M321.39,56.44c58-10.79,114.16-30.13,172-41.86,82.39-16.72,168.19-17.73,250.45-.39C823.78,31,906.67,72,985.66,92.83c70.05,18.48,146.53,26.09,214.34,3V0H0V27.35A600.21,600.21,0,0,0,321.39,56.44Z",className:"fill-white dark:fill-gray-800"})})})]}),l.jsxs("div",{className:"px-6 pb-8 -mt-6 relative z-10",children:[l.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg border border-gray-100 dark:border-gray-700 p-6 text-center mb-6 transform -translate-y-4",children:[l.jsx("div",{className:"text-sm text-gray-400 font-bold uppercase tracking-wider mb-2",children:" "}),l.jsx("div",{className:"flex justify-center items-baseline gap-1",children:l.jsxs("span",{className:`text-6xl font-black ${fe}`,children:[Ne,"%"]})}),l.jsxs("div",{className:"text-gray-400 font-medium mt-1 text-sm",children:[ie,"     ",we]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-8",children:[l.jsxs("div",{className:"bg-emerald-50 dark:bg-emerald-900/20 p-4 rounded-2xl border border-emerald-100 dark:border-emerald-800 text-center",children:[l.jsx("div",{className:"text-emerald-600 dark:text-emerald-400 font-black text-2xl mb-1",children:ie}),l.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 font-bold",children:" "})]}),l.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 p-4 rounded-2xl border border-red-100 dark:border-red-800 text-center",children:[l.jsx("div",{className:"text-red-500 dark:text-red-400 font-black text-2xl mb-1",children:we-ie}),l.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 font-bold",children:" "})]})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("button",{onClick:()=>Je("REVIEW"),className:"w-full py-4 bg-gray-900 dark:bg-white text-white dark:text-gray-900 font-bold rounded-2xl shadow-lg hover:shadow-xl transition-all flex items-center justify-center gap-3 active:scale-95",children:[l.jsx(um,{className:"w-5 h-5"}),"  "]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("button",{onClick:()=>Je("RETAKE"),className:"py-3 bg-emerald-600 text-white font-bold rounded-2xl hover:bg-emerald-700 transition-colors flex items-center justify-center gap-2 text-sm",children:[l.jsx(Ov,{className:"w-4 h-4"}),"  "]}),l.jsxs("button",{onClick:()=>Je("LIST"),className:"py-3 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-white font-bold rounded-2xl hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors flex items-center justify-center gap-2 text-sm",children:[l.jsx(Db,{className:"w-4 h-4"})," "]})]}),l.jsxs("button",{onClick:()=>Je("HOME"),className:"w-full py-3 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 font-bold text-sm transition-colors flex items-center justify-center gap-2",children:[l.jsx(Od,{className:"w-4 h-4"}),"  "]})]})]})]})})};return l.jsxs("div",{className:"min-h-screen bg-white dark:bg-gray-900 pb-20",children:[n==="SELECTION"&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 py-4 px-4 sticky top-0 z-30",children:l.jsxs("div",{className:"max-w-7xl mx-auto flex items-center gap-4",children:[l.jsx("button",{onClick:a,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition-colors",children:l.jsx(an,{className:"w-6 h-6 text-gray-600 dark:text-gray-300"})}),l.jsx("span",{className:"font-bold text-gray-900 dark:text-white",children:" "})]})}),vn()]}),n==="ACTIVE"&&Wn(),n==="RESULT"&&wn(),n==="REVIEW"&&l.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8 animate-fade-in",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsxs("h2",{className:"text-xl font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[l.jsx(um,{className:"w-5 h-5 text-emerald-600 dark:text-emerald-400"})," "]}),l.jsxs("button",{onClick:()=>s("RESULT"),className:"text-gray-500 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white font-medium flex items-center gap-1 text-sm",children:[l.jsx(an,{className:"w-4 h-4"})," "]})]}),l.jsx("div",{className:"space-y-6",children:F==null?void 0:F.questions.map((ie,we)=>{const Ne=ie.type==="REORDER";let fe=!1,Ie=null;if(Ne){const _e=ue[we];_e?(Ie=_e.map(rt=>ie.options[rt]).join(" "),fe=_e.length===ie.options.length&&_e.every((rt,Be)=>rt===Be)):(Ie="  ",fe=!1)}else{const _e=ue[we];fe=_e===ie.correctAnswer,Ie=_e!==void 0?ie.options[_e]:"  "}return l.jsxs("div",{className:`bg-white dark:bg-gray-800 rounded-2xl shadow-sm border p-5 ${fe?"border-gray-100 dark:border-gray-700":"border-red-100 dark:border-red-900/50"}`,children:[l.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[l.jsx("span",{className:`w-6 h-6 rounded-full flex items-center justify-center text-xs font-bold shrink-0 mt-0.5 ${fe?"bg-emerald-100 dark:bg-emerald-900 text-emerald-700 dark:text-emerald-300":"bg-red-100 dark:bg-red-900 text-red-700 dark:text-red-300"}`,children:we+1}),l.jsx("h3",{className:"text-base font-bold text-gray-900 dark:text-white leading-relaxed",children:ie.question})]}),l.jsxs("div",{className:`p-3 rounded-xl border text-sm ${fe?"bg-emerald-50 dark:bg-emerald-900/20 border-emerald-500":"bg-red-50 dark:bg-red-900/20 border-red-500"}`,children:[l.jsx("span",{className:"block text-xs font-bold opacity-70 mb-1",children:":"}),l.jsx("span",{className:"font-bold",children:Ie})]}),!fe&&l.jsxs("div",{className:"mt-2 p-3 rounded-xl border bg-gray-50 dark:bg-gray-800 border-gray-200 dark:border-gray-700 text-sm",children:[l.jsx("span",{className:"block text-xs font-bold opacity-70 mb-1",children:" :"}),l.jsx("span",{className:"font-bold text-emerald-600 dark:text-emerald-400",children:Ne?ie.options.join(" "):ie.options[ie.correctAnswer]})]})]},ie.id)})})]}),W&&l.jsx(Jt,{title:"  ",message:Ee==="REVIEW"?"   ":Ee==="RETAKE"?"     ":Ee==="LIST"?"    ":"    ",onConfirm:sn,onCancel:()=>me(!1),confirmText:"",cancelText:"",icon:z4})]})},_R=({className:a})=>l.jsx("svg",{viewBox:"0 0 24 24",className:a,fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.008-.57-.008-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"})}),NR=({className:a})=>l.jsx("svg",{viewBox:"0 0 24 24",className:a,fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.694 0zM4.98 14.41c6.009-2.607 10.015-4.335 12.019-5.168 2.656-.867 3.084-.386 2.84 1.712-.366 3.157-1.408 8.873-1.93 10.364-.22.628-.648.676-1.308.244-1.68-1.044-3.896-2.532-4.812-3.132-.956-.628-1.144-1.24-.208-2.212 2.168-2.248 4.068-4.064 3.724-4.376-.428-.388-2.648.82-7.008 3.776-.784.532-1.496.524-2.192.316-1.04-.312-2.052-.648-2.828-.904-1.056-.348-1.06-1.056.172-1.576z"})}),ER=({onBack:a})=>{const e=[{name:".   ",image:"https://lh3.googleusercontent.com/d/1tbzVNKO3FGH46Pa6MZ58OWD4BXVKdK5P",title:"  ",school:"  ",location:" ",color:"emerald",bio:"         .              .",skills:["  ","  "," ","  "],social:{facebook:"#",whatsapp:"https://wa.me/972568401548",telegram:"https://t.me/yazan1342"}},{name:".   ",image:"https://lh3.googleusercontent.com/d/1xPDpcaUPz3IH-pqv-Jgplroi6U27BVVj",title:"  ",school:"  ",location:" ",color:"blue",bio:"       .                .",skills:[" "," "," ","  "],social:{facebook:"#",whatsapp:"#",telegram:"#"}}];return l.jsxs("div",{className:"min-h-screen bg-white dark:bg-gray-900 animate-fade-in transition-colors duration-300",children:[l.jsx("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 py-6 px-4 sticky top-0 z-30 shadow-sm",children:l.jsx("div",{className:"max-w-6xl mx-auto flex items-center gap-4",children:l.jsxs("button",{onClick:a,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition-colors flex items-center gap-2 text-gray-600 dark:text-gray-300 font-bold",children:[l.jsx(an,{className:"w-6 h-6"})," "]})})}),l.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-12",children:[l.jsxs("div",{className:"text-center mb-16",children:[l.jsx("h1",{className:"text-4xl font-black text-gray-900 dark:text-white mb-4",children:"  "}),l.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-400",children:"       "})]}),l.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:e.map((n,s)=>l.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-xl overflow-hidden border border-gray-100 dark:border-gray-700 flex flex-col h-full hover:shadow-2xl transition-shadow duration-300",children:[l.jsx("div",{className:`bg-${n.color}-600 h-32 relative`,children:l.jsx("div",{className:"absolute -bottom-12 right-8",children:l.jsx("div",{className:"w-24 h-24 bg-white dark:bg-gray-700 p-1 rounded-2xl shadow-lg transform rotate-3",children:l.jsx("div",{className:`w-full h-full bg-${n.color}-50 dark:bg-${n.color}-900/30 rounded-xl flex items-center justify-center overflow-hidden`,children:l.jsx("img",{src:n.image,alt:n.name,className:"w-full h-full object-cover"})})})})}),l.jsxs("div",{className:"pt-16 pb-8 px-8 flex-1 flex flex-col",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-1",children:n.name}),l.jsx("p",{className:`text-${n.color}-600 dark:text-${n.color}-400 font-bold text-lg mb-4`,children:n.title}),l.jsxs("div",{className:"flex flex-col gap-2 text-gray-500 dark:text-gray-400 text-sm mb-6",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Sv,{className:"w-4 h-4"}),n.school]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(mm,{className:"w-4 h-4"}),n.location]})]}),l.jsxs("div",{className:"mb-6",children:[l.jsxs("h3",{className:"font-bold text-gray-900 dark:text-white mb-2 flex items-center gap-2",children:[l.jsx(ih,{className:"w-5 h-5 text-yellow-500 fill-yellow-500"})," "]}),l.jsx("p",{className:"text-gray-600 dark:text-gray-300 leading-relaxed",children:n.bio})]})]}),l.jsxs("div",{className:"mt-auto",children:[l.jsxs("div",{className:"mb-6",children:[l.jsxs("h3",{className:"font-bold text-gray-900 dark:text-white mb-3 flex items-center gap-2",children:[l.jsx(Si,{className:`w-5 h-5 text-${n.color}-600 dark:text-${n.color}-400`})," "]}),l.jsx("div",{className:"flex flex-wrap gap-2",children:n.skills.map((o,u)=>l.jsx("span",{className:`bg-${n.color}-50 dark:bg-${n.color}-900/20 text-${n.color}-700 dark:text-${n.color}-300 px-3 py-1 rounded-lg text-sm font-medium`,children:o},u))})]}),l.jsxs("div",{className:"pt-6 border-t border-gray-100 dark:border-gray-700",children:[l.jsx("h3",{className:"font-bold text-gray-900 dark:text-white mb-4 text-sm",children:" "}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("a",{href:n.social.facebook,target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 rounded-full bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400 flex items-center justify-center hover:bg-blue-600 hover:text-white transition-all",children:l.jsx(dm,{className:"w-5 h-5"})}),l.jsx("a",{href:n.social.whatsapp,target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 rounded-full bg-green-50 dark:bg-green-900/20 text-green-600 dark:text-green-400 flex items-center justify-center hover:bg-green-600 hover:text-white transition-all",children:l.jsx(_R,{className:"w-5 h-5"})}),l.jsx("a",{href:n.social.telegram,target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 rounded-full bg-sky-50 dark:bg-sky-900/20 text-sky-600 dark:text-sky-400 flex items-center justify-center hover:bg-sky-600 hover:text-white transition-all",children:l.jsx(NR,{className:"w-5 h-5"})})]})]})]})]})]},s))})]})]})},TR=({onBack:a})=>l.jsxs("div",{className:"min-h-screen bg-white dark:bg-gray-900 animate-fade-in transition-colors duration-300",children:[l.jsx("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 py-6 px-4 sticky top-0 z-30 shadow-sm",children:l.jsx("div",{className:"max-w-7xl mx-auto flex items-center gap-4",children:l.jsxs("button",{onClick:a,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition-colors flex items-center gap-2 text-gray-600 dark:text-gray-300 font-bold",children:[l.jsx(an,{className:"w-6 h-6"})," "]})})}),l.jsx("div",{className:"relative bg-emerald-600 dark:bg-emerald-800 py-20 overflow-hidden",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 relative z-10 text-center",children:[l.jsx("span",{className:"bg-emerald-500/50 dark:bg-emerald-700/50 text-white px-4 py-1 rounded-full text-sm font-medium mb-6 inline-block backdrop-blur-sm",children:"    "}),l.jsxs("h1",{className:"text-4xl md:text-6xl font-black text-white mb-6 leading-tight",children:["   ",l.jsx("br",{}),"   "]}),l.jsx("p",{className:"text-emerald-100 text-xl max-w-2xl mx-auto leading-relaxed",children:"                    ."})]})}),l.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-16",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-20",children:[l.jsxs("div",{className:"bg-white dark:bg-gray-800 p-8 rounded-3xl shadow-sm border border-gray-100 dark:border-gray-700 hover:shadow-lg transition-all",children:[l.jsx("div",{className:"w-16 h-16 bg-blue-100 dark:bg-blue-900/30 rounded-2xl flex items-center justify-center mb-6",children:l.jsx(um,{className:"w-8 h-8 text-blue-600 dark:text-blue-400"})}),l.jsx("h2",{className:"text-2xl font-black text-gray-900 dark:text-white mb-4",children:""}),l.jsx("p",{className:"text-gray-600 dark:text-gray-300 leading-relaxed text-lg",children:"                   ."})]}),l.jsxs("div",{className:"bg-white dark:bg-gray-800 p-8 rounded-3xl shadow-sm border border-gray-100 dark:border-gray-700 hover:shadow-lg transition-all",children:[l.jsx("div",{className:"w-16 h-16 bg-emerald-100 dark:bg-emerald-900/30 rounded-2xl flex items-center justify-center mb-6",children:l.jsx(uT,{className:"w-8 h-8 text-emerald-600 dark:text-emerald-400"})}),l.jsx("h2",{className:"text-2xl font-black text-gray-900 dark:text-white mb-4",children:""}),l.jsx("p",{className:"text-gray-600 dark:text-gray-300 leading-relaxed text-lg",children:"                  ."})]})]}),l.jsxs("div",{className:"mb-20",children:[l.jsxs("div",{className:"text-center mb-12",children:[l.jsx("h2",{className:"text-3xl font-black text-gray-900 dark:text-white mb-4",children:"   "}),l.jsx("div",{className:"w-24 h-1.5 bg-emerald-500 mx-auto rounded-full"})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[{icon:aT,title:" ",desc:"       ."},{icon:g4,title:" ",desc:"           ."},{icon:Av,title:" ",desc:"         ."},{icon:Pv,title:" ",desc:"          ."}].map((e,n)=>l.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-2xl border border-gray-100 dark:border-gray-700 text-center hover:border-emerald-300 dark:hover:border-emerald-600 transition-all group",children:[l.jsx("div",{className:"w-14 h-14 bg-gray-50 dark:bg-gray-700 rounded-full flex items-center justify-center mx-auto mb-4 group-hover:bg-emerald-100 dark:group-hover:bg-emerald-900/30 transition-colors",children:l.jsx(e.icon,{className:"w-7 h-7 text-gray-600 dark:text-gray-300 group-hover:text-emerald-600 dark:group-hover:text-emerald-400"})}),l.jsx("h3",{className:"font-bold text-gray-900 dark:text-white text-lg mb-2",children:e.title}),l.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm leading-relaxed",children:e.desc})]},n))})]})]})]}),kR=({onBack:a})=>l.jsxs("div",{className:"min-h-screen bg-white dark:bg-gray-900 animate-fade-in flex flex-col transition-colors duration-300",children:[l.jsx("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 py-6 px-4 sticky top-0 z-30 shadow-sm",children:l.jsx("div",{className:"max-w-7xl mx-auto flex items-center gap-4",children:l.jsxs("button",{onClick:a,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition-colors flex items-center gap-2 text-gray-600 dark:text-gray-300 font-bold",children:[l.jsx(an,{className:"w-6 h-6"})," "]})})}),l.jsx("div",{className:"flex-1 flex flex-col items-center justify-center p-4 text-center",children:l.jsxs("div",{className:"bg-white dark:bg-gray-800 p-12 rounded-3xl shadow-xl shadow-gray-100/50 dark:shadow-none border border-gray-100 dark:border-gray-700 max-w-md w-full flex flex-col items-center transform hover:scale-105 transition-transform duration-300",children:[l.jsx("div",{className:"w-24 h-24 bg-emerald-50 dark:bg-emerald-900/20 rounded-full flex items-center justify-center mb-6 animate-bounce",children:l.jsx(Cv,{className:"w-12 h-12 text-emerald-600 dark:text-emerald-400"})}),l.jsx("h1",{className:"text-4xl font-black text-gray-900 dark:text-white mb-3",children:""}),l.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-lg font-medium",children:"        "})]})})]}),jR=({onBack:a})=>{const[e,n]=Q.useState(""),[s,o]=Q.useState(""),[u,f]=Q.useState("SELECTION"),[g,p]=Q.useState(["handouts"]),[y,w]=Q.useState([]),[N,S]=Q.useState(!1);Q.useEffect(()=>{u==="CONTENT"&&s&&e&&M()},[u,s,e]);const M=async()=>{S(!0);try{const ae=jr(En(jt,"study_materials"),Sr("grade","==",s),Sr("subject","==",e)),B=await ma(ae),k=[];B.forEach(E=>{k.push({id:E.id,...E.data()})}),k.sort((E,j)=>{var V,A;const D=((V=E.createdAt)==null?void 0:V.seconds)||0;return(((A=j.createdAt)==null?void 0:A.seconds)||0)-D}),w(k)}catch(ae){console.error("Error fetching materials:",ae)}finally{S(!1)}},F=()=>{e&&s&&f("CONTENT")},re=ae=>{p(B=>B.includes(ae)?B.filter(k=>k!==ae):[...B,ae])},Y=()=>{const ae=y.filter(E=>E.category==="handouts"),B=y.filter(E=>E.category==="worksheets"),k=y.filter(E=>E.category==="exams");return[{id:"handouts",title:" ",files:ae},{id:"worksheets",title:" ",files:B},{id:"exams",title:" ",files:k}]},oe=ae=>ae?(ae.toDate?ae.toDate():new Date(ae.seconds*1e3)).toLocaleDateString("ar-EG"):"",ue=Y(),le=()=>l.jsxs("div",{className:"w-full animate-fade-in pb-20 bg-gray-50 dark:bg-gray-900 min-h-screen",children:[l.jsxs("div",{className:"relative pt-32 pb-56 px-4 overflow-hidden rounded-b-[3.5rem] shadow-2xl shadow-gray-200 dark:shadow-none mb-20",children:[l.jsxs("div",{className:"absolute inset-0 z-0",children:[l.jsx("img",{src:"https://lh3.googleusercontent.com/d/1gSDH-0a3cWa8m8APr5qXGkKxINXZcSid",alt:"Background",className:"w-full h-full object-cover object-center scale-105"}),l.jsx("div",{className:"absolute inset-0 bg-emerald-900/70 mix-blend-multiply"}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-black/40"})]}),l.jsxs("div",{className:"max-w-4xl mx-auto text-center relative z-10",children:[l.jsx("div",{className:"inline-flex items-center justify-center p-5 bg-white/10 backdrop-blur-md rounded-3xl mb-6 border border-white/20 shadow-inner ring-1 ring-white/30 animate-fade-in-up",children:l.jsx(ac,{className:"w-10 h-10 text-white drop-shadow-md"})}),l.jsx("h2",{className:"text-5xl md:text-7xl font-black text-white mb-6 tracking-tight drop-shadow-2xl animate-fade-in-up delay-100",children:"  "}),l.jsx("p",{className:"text-white/95 text-xl md:text-2xl max-w-3xl mx-auto font-medium leading-relaxed drop-shadow-lg mb-8 animate-fade-in-up delay-200",children:"         PDF.      ."})]})]}),l.jsx("div",{className:"max-w-4xl mx-auto px-6 -mt-40 relative z-20 animate-fade-in-up delay-300",children:l.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-[2.5rem] shadow-2xl shadow-gray-200/50 dark:shadow-none border border-gray-100 dark:border-gray-700 p-8 md:p-12 backdrop-blur-xl",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-10",children:[l.jsxs("div",{className:"group",children:[l.jsxs("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-3 flex items-center gap-2 group-hover:text-emerald-600 dark:group-hover:text-emerald-400 transition-colors",children:[l.jsx("div",{className:"p-2 bg-emerald-50 dark:bg-emerald-900/20 rounded-lg group-hover:bg-emerald-100 dark:group-hover:bg-emerald-900/40 transition-colors",children:l.jsx(Kn,{className:"w-5 h-5 text-emerald-600 dark:text-emerald-400"})})," "]}),l.jsxs("div",{className:"relative",children:[l.jsxs("select",{value:e,onChange:ae=>n(ae.target.value),className:"w-full px-5 py-4 rounded-2xl bg-gray-50 dark:bg-gray-700 border-2 border-transparent hover:border-emerald-200 dark:hover:border-emerald-700 focus:border-emerald-500 focus:bg-white dark:focus:bg-gray-800 focus:ring-4 focus:ring-emerald-100 dark:focus:ring-emerald-900/30 outline-none transition-all text-lg font-bold text-gray-800 dark:text-gray-200 appearance-none cursor-pointer",children:[l.jsx("option",{value:"",className:"text-gray-400 dark:text-gray-500",children:" "}),l.jsx("option",{value:"English",children:"  (English)"}),l.jsx("option",{value:"Math",children:""}),l.jsx("option",{value:"Science",children:""})]}),l.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400",children:l.jsx(na,{className:"w-5 h-5 -rotate-90"})})]})]}),l.jsxs("div",{className:"group",children:[l.jsxs("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-3 flex items-center gap-2 group-hover:text-teal-600 dark:group-hover:text-teal-400 transition-colors",children:[l.jsx("div",{className:"p-2 bg-teal-50 dark:bg-teal-900/20 rounded-lg group-hover:bg-teal-100 dark:group-hover:bg-teal-900/40 transition-colors",children:l.jsx(Pi,{className:"w-5 h-5 text-teal-600 dark:text-teal-400"})})," "]}),l.jsxs("div",{className:"relative",children:[l.jsxs("select",{value:s,onChange:ae=>o(ae.target.value),className:"w-full px-5 py-4 rounded-2xl bg-gray-50 dark:bg-gray-700 border-2 border-transparent hover:border-teal-200 dark:hover:border-teal-700 focus:border-emerald-500 focus:bg-white dark:focus:bg-gray-800 focus:ring-4 focus:ring-emerald-100 dark:focus:ring-emerald-900/30 outline-none transition-all text-lg font-bold text-gray-800 dark:text-gray-200 appearance-none cursor-pointer",children:[l.jsx("option",{value:"",className:"text-gray-400 dark:text-gray-500",children:" "}),l.jsx("optgroup",{label:" ",children:[5,6,7,8,9,10,11,12].map(ae=>l.jsxs("option",{value:ae.toString(),children:[" ",ae]},ae))}),l.jsx("optgroup",{label:" ",children:l.jsx("option",{value:"English Major - QOU",children:"   -   "})})]}),l.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400",children:l.jsx(na,{className:"w-5 h-5 -rotate-90"})})]})]})]}),l.jsxs("button",{onClick:F,disabled:!e||!s,className:`w-full py-5 rounded-2xl font-bold text-xl flex items-center justify-center gap-3 transition-all shadow-lg ${!e||!s?"bg-gray-100 dark:bg-gray-700 text-gray-400 dark:text-gray-500 cursor-not-allowed shadow-none":"bg-gradient-to-r from-emerald-600 to-teal-600 text-white hover:from-emerald-700 hover:to-teal-700 hover:shadow-emerald-300 dark:hover:shadow-emerald-900/50 hover:-translate-y-1"}`,children:[l.jsx(Ls,{className:"w-6 h-6"})," "]})]})})]}),je=()=>l.jsxs("div",{className:"max-w-2xl mx-auto px-4 py-8 animate-fade-in-up min-h-screen",children:[l.jsxs("div",{className:"text-center mb-8 bg-white dark:bg-gray-800 p-6 rounded-3xl shadow-sm border border-gray-100 dark:border-gray-700 relative overflow-hidden",children:[l.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-emerald-500 to-teal-500"}),l.jsx("div",{className:"w-16 h-16 bg-emerald-50 dark:bg-emerald-900/20 rounded-2xl flex items-center justify-center mx-auto mb-4",children:l.jsx(Ul,{className:"w-8 h-8 text-emerald-600 dark:text-emerald-400"})}),l.jsxs("h2",{className:"text-2xl font-black text-gray-900 dark:text-white mb-2",children:[" ",e]}),l.jsxs("p",{className:"text-gray-500 dark:text-gray-400 font-medium text-sm md:text-base",children:["        ",l.jsx("span",{className:"font-bold text-emerald-600 dark:text-emerald-400",children:s==="English Major - QOU"?"  ":s})]})]}),l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsxs("button",{onClick:()=>f("SELECTION"),className:"flex items-center gap-2 bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-200 px-5 py-3 rounded-xl font-bold shadow-sm border border-gray-200 dark:border-gray-700 hover:border-emerald-300 dark:hover:border-emerald-600 hover:text-emerald-600 dark:hover:text-emerald-400 transition-all hover:-translate-y-0.5",children:[l.jsx(an,{className:"w-5 h-5"})," "]}),l.jsxs("div",{className:"hidden sm:flex items-center gap-2 text-xs font-bold text-gray-400 bg-gray-50 dark:bg-gray-800 px-3 py-1.5 rounded-lg border border-gray-200 dark:border-gray-700",children:[l.jsx(ac,{className:"w-3.5 h-3.5"}),ue.reduce((ae,B)=>ae+B.files.length,0)," "]})]}),N?l.jsxs("div",{className:"flex flex-col items-center justify-center py-20 gap-4",children:[l.jsx(Wt,{className:"w-10 h-10 animate-spin text-emerald-600 dark:text-emerald-400"}),l.jsx("p",{className:"text-gray-500 dark:text-gray-400 font-bold",children:"  ..."})]}):l.jsx("div",{className:"space-y-4",children:ue.map(ae=>{const B=g.includes(ae.id);return l.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl border border-gray-200 dark:border-gray-700 overflow-hidden shadow-sm hover:shadow-md transition-shadow",children:[l.jsxs("button",{onClick:()=>re(ae.id),className:`w-full flex items-center justify-between p-5 transition-colors ${B?"bg-gray-50/50 dark:bg-gray-700/30":"hover:bg-gray-50 dark:hover:bg-gray-700/30"}`,children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:`p-2.5 rounded-xl ${B?"bg-emerald-100 dark:bg-emerald-900/30 text-emerald-600 dark:text-emerald-400":"bg-gray-100 dark:bg-gray-700 text-gray-500 dark:text-gray-400"}`,children:l.jsx(ac,{className:"w-6 h-6"})}),l.jsxs("div",{className:"text-right",children:[l.jsx("span",{className:"font-bold text-base text-gray-900 dark:text-white block",children:ae.title}),l.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400 font-medium",children:[ae.files.length," "]})]})]}),l.jsx("div",{className:`transition-transform duration-300 ${B?"rotate-180":""}`,children:l.jsx(Rd,{className:"w-5 h-5 text-gray-400"})})]}),B&&l.jsx("div",{className:"bg-white dark:bg-gray-800 border-t border-gray-100 dark:border-gray-700",children:ae.files.length===0?l.jsxs("div",{className:"p-8 text-center flex flex-col items-center justify-center text-gray-400",children:[l.jsx(ac,{className:"w-10 h-10 mb-2 opacity-20"}),l.jsx("p",{className:"text-sm font-medium",children:"       "})]}):l.jsx("div",{className:"divide-y divide-gray-50 dark:divide-gray-700/50",children:ae.files.map((k,E)=>l.jsxs("div",{onClick:()=>k.url&&window.open(k.url,"_blank"),className:"flex items-center justify-between p-4 hover:bg-emerald-50 dark:hover:bg-emerald-900/10 transition-colors group cursor-pointer",children:[l.jsxs("div",{className:"flex items-center gap-4 min-w-0 flex-1",children:[l.jsx("div",{className:"w-10 h-10 rounded-lg bg-red-50 dark:bg-red-900/20 flex items-center justify-center shrink-0 text-red-500",children:l.jsx(Ul,{className:"w-5 h-5"})}),l.jsxs("div",{className:"flex flex-col min-w-0 flex-1",children:[l.jsx("span",{className:"text-sm font-bold text-gray-800 dark:text-gray-200 group-hover:text-emerald-700 dark:group-hover:text-emerald-300 transition-colors whitespace-normal break-words",children:k.title}),l.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-400 mt-0.5",children:[l.jsx("span",{className:"bg-gray-100 dark:bg-gray-700 px-1.5 py-0.5 rounded",children:k.size}),l.jsx("span",{children:""}),l.jsx("span",{children:oe(k.createdAt)})]})]})]}),l.jsx("button",{className:"p-2.5 rounded-full bg-gray-100 dark:bg-gray-700 text-gray-400 group-hover:bg-emerald-100 dark:group-hover:bg-emerald-900/30 group-hover:text-emerald-600 dark:group-hover:text-emerald-400 transition-all shrink-0 ml-3",children:l.jsx(cm,{className:"w-5 h-5"})})]},E))})})]},ae.id)})}),l.jsxs("div",{className:"mt-8 flex items-center gap-3 justify-center text-xs text-gray-400 bg-gray-50 dark:bg-gray-800 p-4 rounded-2xl border border-dashed border-gray-200 dark:border-gray-700",children:[l.jsx(Id,{className:"w-4 h-4 text-emerald-500 shrink-0"}),l.jsx("span",{children:"      PDF  "})]})]});return l.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 pb-20 transition-colors duration-300",children:[l.jsx("div",{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-md border-b border-emerald-100 dark:border-gray-700 py-4 px-4 sticky top-0 z-30 shadow-sm",children:l.jsx("div",{className:"max-w-7xl mx-auto flex items-center gap-4",children:l.jsxs("button",{onClick:a,className:"p-2 hover:bg-emerald-50 dark:hover:bg-gray-700 rounded-full transition-colors group flex items-center gap-2",children:[l.jsx(an,{className:"w-6 h-6 text-gray-500 dark:text-gray-400 group-hover:text-emerald-600 dark:group-hover:text-emerald-400 transition-colors"}),l.jsx("span",{className:"font-bold text-gray-700 dark:text-gray-300 group-hover:text-emerald-600 dark:group-hover:text-emerald-400 transition-colors hidden sm:inline",children:""})]})})}),u==="SELECTION"?le():je()]})},_v=({className:a})=>l.jsx("svg",{viewBox:"0 0 24 24",className:a,fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.008-.57-.008-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"})}),Nv=({className:a})=>l.jsx("svg",{viewBox:"0 0 24 24",className:a,fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:l.jsx("path",{d:"M11.944 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.694 0zM4.98 14.41c6.009-2.607 10.015-4.335 12.019-5.168 2.656-.867 3.084-.386 2.84 1.712-.366 3.157-1.408 8.873-1.93 10.364-.22.628-.648.676-1.308.244-1.68-1.044-3.896-2.532-4.812-3.132-.956-.628-1.144-1.24-.208-2.212 2.168-2.248 4.068-4.064 3.724-4.376-.428-.388-2.648.82-7.008 3.776-.784.532-1.496.524-2.192.316-1.04-.312-2.052-.648-2.828-.904-1.056-.348-1.06-1.056.172-1.576z"})}),SR=({onBack:a})=>{const e=n=>{let s="";switch(n){case"message":s="       .";break;case"question":s="       ...";break;case"review":s="      .";break;case"inquiry":s="    .";break;default:s="  ."}const o=`https://wa.me/972568401548?text=${encodeURIComponent(s)}`;window.open(o,"_blank")};return l.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 animate-fade-in pb-20 transition-colors duration-300",children:[l.jsxs("div",{className:"relative pt-32 pb-48 px-4 overflow-hidden rounded-b-[3.5rem] shadow-2xl shadow-gray-200 dark:shadow-none mb-16 bg-gray-900",children:[l.jsx("div",{className:"absolute top-6 left-6 z-30 md:top-10 md:left-10",children:l.jsxs("button",{onClick:a,className:"flex items-center gap-2 bg-white/10 backdrop-blur-md text-white px-5 py-2.5 rounded-full font-bold hover:bg-white/20 transition-all border border-white/20 shadow-lg group",children:[l.jsx(an,{className:"w-5 h-5 group-hover:-translate-x-1 transition-transform"}),l.jsx("span",{className:"hidden sm:inline",children:" "})]})}),l.jsxs("div",{className:"absolute inset-0 z-0 bg-gray-900",children:[l.jsxs("video",{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:"w-full h-full object-cover opacity-80",poster:"https://images.unsplash.com/photo-1524178232363-1fb2b075b655?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80",children:[l.jsx("source",{src:"https://drive.google.com/uc?export=download&id=1gfQre4TEqHyomoSblHjn-abxK_cduc8t",type:"video/mp4"}),l.jsx("source",{src:"https://assets.mixkit.co/videos/preview/mixkit-online-learning-man-student-on-laptop-4612-large.mp4",type:"video/mp4"})]}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-gray-900/70 via-emerald-900/40 to-gray-900/90"})]}),l.jsxs("div",{className:"relative z-10 text-center max-w-4xl mx-auto text-white",children:[l.jsx("h1",{className:"text-4xl md:text-6xl font-black mb-6 leading-tight animate-fade-in-up delay-100 drop-shadow-2xl text-emerald-400",children:"  "}),l.jsx("p",{className:"text-xl md:text-2xl text-emerald-200 font-bold max-w-2xl mx-auto leading-relaxed animate-fade-in-up delay-200 drop-shadow-lg",children:"  .             ."})]})]}),l.jsxs("div",{className:"max-w-5xl mx-auto px-4 -mt-32 relative z-20",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-12",children:[l.jsxs("button",{onClick:()=>e("message"),className:"group bg-white dark:bg-gray-800 p-6 rounded-[2rem] shadow-xl border border-white/50 dark:border-gray-700 hover:border-emerald-500 dark:hover:border-emerald-500 transition-all duration-300 hover:-translate-y-2 relative overflow-hidden",children:[l.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-emerald-400 to-teal-500 transform scale-x-0 group-hover:scale-x-100 transition-transform duration-500 origin-left"}),l.jsxs("div",{className:"flex items-center gap-5",children:[l.jsx("div",{className:"w-16 h-16 bg-emerald-50 dark:bg-emerald-900/20 rounded-2xl flex items-center justify-center text-emerald-600 dark:text-emerald-400 group-hover:scale-110 transition-transform duration-300",children:l.jsx(Vd,{className:"w-8 h-8"})}),l.jsxs("div",{className:"text-right",children:[l.jsx("h3",{className:"text-xl font-black text-gray-900 dark:text-white mb-1 group-hover:text-emerald-600 dark:group-hover:text-emerald-400 transition-colors",children:" "}),l.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm font-medium",children:"   "})]})]})]}),l.jsxs("button",{onClick:()=>e("question"),className:"group bg-white dark:bg-gray-800 p-6 rounded-[2rem] shadow-xl border border-white/50 dark:border-gray-700 hover:border-blue-500 dark:hover:border-blue-500 transition-all duration-300 hover:-translate-y-2 relative overflow-hidden",children:[l.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-blue-400 to-indigo-500 transform scale-x-0 group-hover:scale-x-100 transition-transform duration-500 origin-left"}),l.jsxs("div",{className:"flex items-center gap-5",children:[l.jsx("div",{className:"w-16 h-16 bg-blue-50 dark:bg-blue-900/20 rounded-2xl flex items-center justify-center text-blue-600 dark:text-blue-400 group-hover:scale-110 transition-transform duration-300",children:l.jsx(Ai,{className:"w-8 h-8"})}),l.jsxs("div",{className:"text-right",children:[l.jsx("h3",{className:"text-xl font-black text-gray-900 dark:text-white mb-1 group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors",children:" "}),l.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm font-medium",children:"    "})]})]})]}),l.jsxs("button",{onClick:()=>e("review"),className:"group bg-white dark:bg-gray-800 p-6 rounded-[2rem] shadow-xl border border-white/50 dark:border-gray-700 hover:border-purple-500 dark:hover:border-purple-500 transition-all duration-300 hover:-translate-y-2 relative overflow-hidden",children:[l.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-purple-400 to-pink-500 transform scale-x-0 group-hover:scale-x-100 transition-transform duration-500 origin-left"}),l.jsxs("div",{className:"flex items-center gap-5",children:[l.jsx("div",{className:"w-16 h-16 bg-purple-50 dark:bg-purple-900/20 rounded-2xl flex items-center justify-center text-purple-600 dark:text-purple-400 group-hover:scale-110 transition-transform duration-300",children:l.jsx(o4,{className:"w-8 h-8"})}),l.jsxs("div",{className:"text-right",children:[l.jsx("h3",{className:"text-xl font-black text-gray-900 dark:text-white mb-1 group-hover:text-purple-600 dark:group-hover:text-purple-400 transition-colors",children:" "}),l.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm font-medium",children:"    "})]})]})]}),l.jsxs("button",{onClick:()=>e("inquiry"),className:"group bg-white dark:bg-gray-800 p-6 rounded-[2rem] shadow-xl border border-white/50 dark:border-gray-700 hover:border-orange-500 dark:hover:border-orange-500 transition-all duration-300 hover:-translate-y-2 relative overflow-hidden",children:[l.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-orange-400 to-amber-500 transform scale-x-0 group-hover:scale-x-100 transition-transform duration-500 origin-left"}),l.jsxs("div",{className:"flex items-center gap-5",children:[l.jsx("div",{className:"w-16 h-16 bg-orange-50 dark:bg-orange-900/20 rounded-2xl flex items-center justify-center text-orange-600 dark:text-orange-400 group-hover:scale-110 transition-transform duration-300",children:l.jsx(Ld,{className:"w-8 h-8"})}),l.jsxs("div",{className:"text-right",children:[l.jsx("h3",{className:"text-xl font-black text-gray-900 dark:text-white mb-1 group-hover:text-orange-600 dark:group-hover:text-orange-400 transition-colors",children:" "}),l.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm font-medium",children:"    "})]})]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-xl rounded-[2.5rem] p-8 shadow-2xl border border-gray-100 dark:border-gray-700 flex flex-col items-center text-center relative overflow-hidden group hover:shadow-xl transition-shadow",children:[l.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-emerald-100 dark:bg-emerald-900/20 rounded-full blur-3xl opacity-50 -mr-10 -mt-10 pointer-events-none"}),l.jsxs("div",{className:"relative shrink-0 mb-6",children:[l.jsx("div",{className:"w-56 h-56 md:w-72 md:h-72 rounded-full p-2 bg-gradient-to-br from-emerald-400 to-teal-600 shadow-lg",children:l.jsx("img",{src:"https://lh3.googleusercontent.com/d/1tbzVNKO3FGH46Pa6MZ58OWD4BXVKdK5P",alt:".   ",className:"w-full h-full rounded-full object-cover border-4 border-white dark:border-gray-800 bg-white dark:bg-gray-700"})}),l.jsx("div",{className:"absolute -bottom-1 -right-1 bg-white dark:bg-gray-800 p-2 rounded-full shadow-md",children:l.jsx("div",{className:"bg-green-500 w-5 h-5 rounded-full border-2 border-white dark:border-gray-800 animate-pulse"})})]}),l.jsxs("div",{className:"z-10",children:[l.jsx("span",{className:"text-emerald-600 dark:text-emerald-400 font-bold tracking-wider uppercase text-sm mb-2 block",children:" "}),l.jsx("h2",{className:"text-3xl font-black text-gray-900 dark:text-white mb-2",children:".   "}),l.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-8 font-medium text-base",children:"     ."}),l.jsxs("div",{className:"flex flex-wrap justify-center gap-3",children:[l.jsxs("a",{href:"https://wa.me/972568401548",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 bg-[#25D366] hover:bg-[#20BD5C] text-white px-6 py-3 rounded-xl font-bold text-sm transition-all shadow-md hover:-translate-y-1",children:[l.jsx(_v,{className:"w-5 h-5"}),""]}),l.jsxs("a",{href:"https://t.me/yazan1342",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 bg-[#0088cc] hover:bg-[#0077b5] text-white px-6 py-3 rounded-xl font-bold text-sm transition-all shadow-md hover:-translate-y-1",children:[l.jsx(Nv,{className:"w-5 h-5"}),""]})]})]})]}),l.jsxs("div",{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-xl rounded-[2.5rem] p-8 shadow-2xl border border-gray-100 dark:border-gray-700 flex flex-col items-center text-center relative overflow-hidden group hover:shadow-xl transition-shadow",children:[l.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-blue-100 dark:bg-blue-900/20 rounded-full blur-3xl opacity-50 -mr-10 -mt-10 pointer-events-none"}),l.jsxs("div",{className:"relative shrink-0 mb-6",children:[l.jsx("div",{className:"w-56 h-56 md:w-72 md:h-72 rounded-full p-2 bg-gradient-to-br from-blue-400 to-indigo-600 shadow-lg",children:l.jsx("img",{src:"https://lh3.googleusercontent.com/d/1xPDpcaUPz3IH-pqv-Jgplroi6U27BVVj",alt:".   ",className:"w-full h-full rounded-full object-cover border-4 border-white dark:border-gray-800 bg-white dark:bg-gray-700"})}),l.jsx("div",{className:"absolute -bottom-1 -right-1 bg-white dark:bg-gray-800 p-2 rounded-full shadow-md",children:l.jsx("div",{className:"bg-green-500 w-5 h-5 rounded-full border-2 border-white dark:border-gray-800 animate-pulse"})})]}),l.jsxs("div",{className:"z-10",children:[l.jsx("span",{className:"text-blue-600 dark:text-blue-400 font-bold tracking-wider uppercase text-sm mb-2 block",children:" "}),l.jsx("h2",{className:"text-3xl font-black text-gray-900 dark:text-white mb-2",children:".   "}),l.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-8 font-medium text-base",children:"      ."}),l.jsxs("div",{className:"flex flex-wrap justify-center gap-3",children:[l.jsxs("button",{className:"flex items-center gap-2 bg-[#25D366] hover:bg-[#20BD5C] text-white px-6 py-3 rounded-xl font-bold text-sm transition-all shadow-md hover:-translate-y-1 opacity-80 cursor-not-allowed",disabled:!0,children:[l.jsx(_v,{className:"w-5 h-5"}),""]}),l.jsxs("button",{className:"flex items-center gap-2 bg-[#0088cc] hover:bg-[#0077b5] text-white px-6 py-3 rounded-xl font-bold text-sm transition-all shadow-md hover:-translate-y-1 opacity-80 cursor-not-allowed",disabled:!0,children:[l.jsx(Nv,{className:"w-5 h-5"}),""]})]})]})]})]})]})]})},Ev=[{minLevel:1,title:" ",icon:$m},{minLevel:5,title:" ",icon:Kn},{minLevel:10,title:"",icon:Ls},{minLevel:15,title:" ",icon:Si},{minLevel:20,title:"",icon:lh},{minLevel:30,title:"",icon:Ci}],AR=({onLoginClick:a})=>{const[e,n]=Q.useState([]),[s,o]=Q.useState(!0),{user:u}=ga(),[f,g]=Q.useState(0),[p,y]=Q.useState(null),[w,N]=Q.useState(null),[S,M]=Q.useState(!1);Q.useEffect(()=>{const ae=jr(En(jt,"users"),Sr("role","==","student")),B=U3(ae,E=>{const j=[];E.forEach(D=>{const I=D.data();j.push({uid:D.id,...I})}),j.sort((D,I)=>(Number(I.totalXP)||0)-(Number(D.totalXP)||0)),n(j.slice(0,10)),o(!1)},E=>{console.error("Error fetching leaderboard:",E),o(!1)});return(async()=>{try{const E=jr(En(jt,"quizzes")),j=await ma(E);g(j.size)}catch(E){console.error("Error fetching quizzes count:",E)}})(),()=>B()},[]);const F=async ae=>{y(ae),M(!0),N(null);try{const B=jr(En(jt,"quiz_results"),Sr("userId","==",ae.uid)),k=await ma(B);let E=0,j=0;k.forEach(I=>{const V=I.data();V.percentage!==void 0&&(E+=V.percentage,j++)});const D=j>0?Math.round(E/j):0;N({average:D,totalQuizzes:j})}catch(B){console.error("Error fetching student stats",B)}finally{M(!1)}},re=ae=>{switch(ae){case 0:return"bg-gradient-to-br from-yellow-400 via-amber-500 to-yellow-600 border-yellow-300 text-white shadow-[0_0_20px_rgba(245,158,11,0.6)] ring-2 ring-yellow-400/50 scale-105 z-20";case 1:return"bg-gradient-to-br from-slate-300 via-slate-400 to-slate-500 border-slate-300 text-white shadow-lg shadow-slate-500/40 ring-1 ring-slate-400/50 z-10";case 2:return"bg-gradient-to-br from-orange-400 via-orange-500 to-orange-700 border-orange-400 text-white shadow-lg shadow-orange-700/40 ring-1 ring-orange-400/50 z-10";case 3:return"bg-gradient-to-r from-rose-600 to-red-700 border-rose-500 text-white shadow-md";case 4:return"bg-gradient-to-r from-purple-600 to-indigo-700 border-purple-500 text-white shadow-md";case 5:return"bg-gradient-to-r from-indigo-600 to-blue-700 border-indigo-500 text-white shadow-md";case 6:return"bg-gradient-to-r from-blue-600 to-cyan-700 border-blue-500 text-white shadow-md";case 7:return"bg-gradient-to-r from-teal-600 to-emerald-700 border-teal-500 text-white shadow-md";case 8:return"bg-gradient-to-r from-emerald-600 to-green-700 border-emerald-500 text-white shadow-md";case 9:return"bg-gradient-to-r from-slate-600 to-gray-700 border-gray-500 text-gray-200 shadow-sm";default:return"bg-gray-800 border-gray-700 text-gray-400 shadow-sm"}},Y=ae=>{switch(ae){case 0:return l.jsx(Ci,{className:"w-4 h-4 text-white fill-white animate-pulse"});case 1:return l.jsx(gm,{className:"w-4 h-4 text-white fill-slate-200"});case 2:return l.jsx(gm,{className:"w-4 h-4 text-white fill-orange-200"});default:return l.jsxs("span",{className:"font-black text-sm font-serif",children:["#",ae+1]})}},oe=ae=>{const B=Math.floor(ae/500)+1,k=[...Ev].reverse().find(E=>B>=E.minLevel)||Ev[0];return{level:B,rank:k}},ue=e.reduce((ae,B)=>ae+(B.totalXP||0),0),le=e.reduce((ae,B)=>ae+(B.quizzesCompleted||0),0),je=le*8;return l.jsxs("section",{className:"py-12 md:py-16 relative overflow-hidden",children:[p&&l.jsxs("div",{className:"fixed inset-0 z-[200] flex items-center justify-center px-4",children:[l.jsx("div",{className:"absolute inset-0 bg-black/80 backdrop-blur-sm",onClick:()=>y(null)}),l.jsxs("div",{className:"bg-gray-900 rounded-[2.5rem] w-full max-w-md relative shadow-2xl animate-fade-in-up overflow-hidden border border-white/10",children:[l.jsx("button",{onClick:()=>y(null),className:"absolute top-4 right-4 p-2 bg-white/10 hover:bg-white/20 rounded-full text-white z-20 transition-colors backdrop-blur-sm",children:l.jsx(aa,{className:"w-5 h-5"})}),l.jsx("div",{className:"h-32 bg-gradient-to-r from-indigo-900 to-purple-900 relative",children:l.jsx("div",{className:"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/cubes.png')] opacity-20"})}),l.jsxs("div",{className:"px-8 pb-8 -mt-16 relative z-10 text-center",children:[l.jsx("div",{className:"w-32 h-32 mx-auto rounded-full p-1.5 bg-gray-900 shadow-2xl mb-4 ring-4 ring-gray-800",children:l.jsx("div",{className:"w-full h-full rounded-full overflow-hidden border-4 border-indigo-500/30",children:p.avatar?l.jsx("img",{src:p.avatar,alt:p.displayName,className:"w-full h-full object-cover"}):l.jsx("div",{className:"w-full h-full bg-gray-800 flex items-center justify-center",children:l.jsx(hr,{className:"w-12 h-12 text-gray-500"})})})}),l.jsx("h3",{className:"text-2xl font-black text-white mb-1",children:p.displayName}),l.jsxs("p",{className:"text-gray-400 font-medium text-sm flex items-center justify-center gap-1 mb-6",children:[l.jsx(Ld,{className:"w-4 h-4"}),p.school||" "]}),l.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-8",children:[l.jsxs("div",{className:"bg-indigo-900/20 p-4 rounded-2xl border border-indigo-500/20",children:[l.jsxs("div",{className:"flex items-center justify-center gap-2 mb-1",children:[kv.createElement(oe(p.totalXP||0).rank.icon,{className:"w-5 h-5 text-indigo-400"}),l.jsx("span",{className:"text-xs font-bold text-indigo-400 uppercase",children:""})]}),l.jsx("div",{className:"font-black text-white text-sm",children:oe(p.totalXP||0).rank.title}),l.jsxs("div",{className:"text-[10px] text-gray-400 mt-1",children:[" ",oe(p.totalXP||0).level]})]}),l.jsx("div",{className:"bg-emerald-900/20 p-4 rounded-2xl border border-emerald-500/20",children:S?l.jsx("div",{className:"flex justify-center py-2",children:l.jsx(Wt,{className:"w-5 h-5 animate-spin text-emerald-500"})}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex items-center justify-center gap-2 mb-1",children:[l.jsx(ih,{className:"w-5 h-5 text-emerald-400 fill-emerald-400"}),l.jsx("span",{className:"text-xs font-bold text-emerald-400 uppercase",children:" "})]}),l.jsxs("div",{className:"font-black text-white text-xl",children:[(w==null?void 0:w.average)||0,"%"]}),l.jsxs("div",{className:"text-[10px] text-gray-400 mt-1",children:[(w==null?void 0:w.totalQuizzes)||0," "]})]})})]}),l.jsxs("div",{className:"bg-yellow-900/10 border-2 border-yellow-700/30 border-dashed rounded-xl p-5 relative",children:[l.jsxs("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2 bg-yellow-900 text-yellow-200 px-3 py-1 rounded-full text-[10px] font-bold shadow-sm flex items-center gap-1 border border-yellow-700/50",children:[l.jsx(Si,{className:"w-3 h-3"})," "]}),l.jsxs("p",{className:"text-sm text-gray-300 leading-relaxed font-medium mt-2 mb-6",children:["     / ",l.jsx("span",{className:"font-bold text-white underline decoration-yellow-600",children:p.displayName}),"      /   ."]}),l.jsxs("div",{className:"flex justify-around items-center pt-4 border-t border-yellow-800/30",children:[l.jsxs("div",{className:"text-center relative group",children:[l.jsx("div",{className:"text-[10px] text-gray-500 mb-1 font-medium",children:" "}),l.jsx("div",{className:"font-serif font-bold text-white text-sm italic mb-1",children:".   "}),l.jsx("div",{className:"font-['Great_Vibes'] text-xl text-emerald-500/80 absolute -bottom-3 left-1/2 -translate-x-1/2 -rotate-6 whitespace-nowrap pointer-events-none",children:"Yazan. A.K"})]}),l.jsxs("div",{className:"text-center relative group",children:[l.jsx("div",{className:"text-[10px] text-gray-500 mb-1 font-medium",children:" "}),l.jsx("div",{className:"font-serif font-bold text-white text-sm italic mb-1",children:".   "}),l.jsx("div",{className:"font-['Great_Vibes'] text-xl text-blue-500/80 absolute -bottom-3 left-1/2 -translate-x-1/2 -rotate-6 whitespace-nowrap pointer-events-none",children:"Majd Al-Hajj"})]})]})]})]})]})]}),l.jsxs("div",{className:"max-w-6xl mx-auto px-4 mb-24 relative z-10",children:[l.jsxs("div",{className:"text-center mb-12",children:[l.jsx("div",{className:"inline-flex items-center justify-center p-4 bg-white/5 backdrop-blur-md rounded-3xl shadow-lg border border-white/10 mb-5 transform -rotate-3 hover:rotate-0 transition-transform duration-300",children:l.jsx(vc,{className:"w-8 h-8 text-indigo-400"})}),l.jsx("h2",{className:"text-4xl font-black text-white mb-3 tracking-tight drop-shadow-lg",children:" "}),l.jsx("p",{className:"text-gray-400 text-base font-medium max-w-md mx-auto",children:"        "})]}),l.jsxs("div",{className:"bg-white/5 backdrop-blur-2xl rounded-[2.5rem] border border-white/10 shadow-2xl p-6 md:p-8 relative overflow-hidden",children:[l.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-2/3 h-1 bg-gradient-to-r from-transparent via-indigo-500 to-transparent opacity-50 blur-sm"}),s?l.jsxs("div",{className:"flex flex-col items-center justify-center py-20",children:[l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-0 bg-indigo-900 rounded-full blur-xl opacity-50 animate-pulse"}),l.jsx(Wt,{className:"w-12 h-12 animate-spin text-indigo-400 relative z-10"})]}),l.jsx("p",{className:"text-gray-400 font-bold mt-6 text-sm animate-pulse",children:"  ..."})]}):e.length===0?l.jsxs("div",{className:"text-center py-20",children:[l.jsx("div",{className:"w-24 h-24 bg-gray-800 rounded-full flex items-center justify-center mx-auto mb-6 border-4 border-gray-700 shadow-xl",children:l.jsx(Si,{className:"w-10 h-10 text-gray-500"})}),l.jsx("h3",{className:"text-2xl font-black text-gray-300 mb-3",children:"  "}),l.jsx("p",{className:"text-gray-500 font-medium mb-8 text-sm",children:"       !"}),!u&&l.jsxs("button",{onClick:a,className:"inline-flex items-center gap-2 bg-indigo-600 text-white px-8 py-3.5 rounded-2xl font-bold text-sm hover:bg-indigo-700 transition-all hover:shadow-[0_0_20px_rgba(99,102,241,0.4)] transform hover:-translate-y-1",children:[l.jsx(Vv,{className:"w-4 h-4"}),"  "]})]}):l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"grid grid-cols-12 px-6 py-3 text-xs font-bold text-gray-500 uppercase tracking-wider border-b border-white/5 mb-2",children:[l.jsx("div",{className:"col-span-2 md:col-span-1 text-center",children:"#"}),l.jsx("div",{className:"col-span-7 md:col-span-8 text-right pr-4",children:""}),l.jsx("div",{className:"col-span-3 md:col-span-3 text-center",children:""})]}),e.map((ae,B)=>l.jsxs("div",{onClick:()=>F(ae),className:`grid grid-cols-12 items-center p-4 rounded-2xl transition-all duration-300 cursor-pointer group border ${(u==null?void 0:u.uid)===ae.uid?"bg-indigo-900/30 border-indigo-500/50 shadow-[0_0_15px_rgba(99,102,241,0.2)] z-10 relative transform scale-[1.01]":"bg-white/5 border-white/5 hover:bg-white/10 hover:border-white/20"}`,children:[l.jsx("div",{className:"col-span-2 md:col-span-1 flex justify-center",children:l.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center shadow-lg transition-transform group-hover:scale-110 ${re(B)}`,children:Y(B)})}),l.jsxs("div",{className:"col-span-7 md:col-span-8 flex items-center gap-4 pr-2",children:[l.jsxs("div",{className:"relative hidden sm:block",children:[l.jsx("div",{className:`w-12 h-12 rounded-full overflow-hidden border-2 shadow-sm flex items-center justify-center transition-colors ${B===0?"border-yellow-400":B===1?"border-slate-300":B===2?"border-orange-400":"border-gray-600 group-hover:border-indigo-500"}`,children:ae.avatar?l.jsx("img",{src:ae.avatar,alt:ae.displayName,className:"w-full h-full object-cover"}):l.jsx(hr,{className:"w-6 h-6 text-gray-500"})}),B===0&&l.jsx("div",{className:"absolute -top-3 -right-2 text-yellow-500 drop-shadow-lg animate-bounce",children:l.jsx(Ci,{className:"w-6 h-6 fill-yellow-500"})})]}),l.jsxs("div",{className:"min-w-0",children:[l.jsx("div",{className:`font-bold text-base truncate group-hover:text-indigo-300 transition-colors ${(u==null?void 0:u.uid)===ae.uid?"text-indigo-300":B===0?"text-yellow-200":"text-white"}`,children:ae.displayName}),l.jsxs("div",{className:"flex items-center gap-1 text-[10px] text-gray-500 mt-0.5",children:[l.jsx(Ld,{className:"w-3 h-3 shrink-0"}),l.jsx("span",{className:"truncate max-w-[150px]",children:ae.school||" "})]})]})]}),l.jsx("div",{className:"col-span-3 md:col-span-3 flex justify-center",children:l.jsxs("div",{className:`flex items-center gap-1.5 px-3 py-1.5 rounded-xl border shrink-0 transition-all ${B===0?"bg-yellow-500/20 border-yellow-500/30":B===1?"bg-slate-500/20 border-slate-500/30":B===2?"bg-orange-500/20 border-orange-500/30":"bg-black/20 border-white/5 group-hover:bg-indigo-900/20"}`,children:[l.jsx("span",{className:`font-black text-sm ${B===0?"text-yellow-200":"text-white"}`,children:ae.totalXP||0}),l.jsx(Dd,{className:`w-3.5 h-3.5 ${B===0?"text-yellow-400 fill-yellow-400":B<3?"text-orange-500 fill-orange-500":"text-gray-600"}`})]})})]},ae.uid))]})]})]}),l.jsx("div",{className:"max-w-6xl mx-auto px-4 mb-24 relative z-10",children:l.jsxs("div",{className:"relative overflow-hidden rounded-[3rem] bg-white/5 backdrop-blur-xl shadow-2xl border border-white/10 group",children:[l.jsx("div",{className:"absolute top-0 right-0 -mr-20 -mt-20 w-96 h-96 bg-indigo-900 rounded-full blur-[100px] opacity-10 group-hover:opacity-20 transition-opacity duration-700"}),l.jsx("div",{className:"absolute bottom-0 left-0 -ml-20 -mb-20 w-96 h-96 bg-emerald-900 rounded-full blur-[100px] opacity-10 group-hover:opacity-20 transition-opacity duration-700"}),l.jsx("div",{className:"relative z-10 p-8 md:p-14",children:l.jsxs("div",{className:"flex flex-col lg:flex-row items-center justify-between gap-12",children:[l.jsxs("div",{className:"text-center lg:text-right max-w-lg",children:[l.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-1.5 rounded-full bg-white/5 border border-white/10 text-emerald-400 text-sm font-bold mb-6 backdrop-blur-md shadow-lg animate-pulse",children:[l.jsx(RE,{className:"w-4 h-4"}),l.jsx("span",{children:" "})]}),l.jsxs("h2",{className:"text-4xl md:text-5xl font-black text-white mb-6 leading-tight",children:[" ",l.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-emerald-400 to-cyan-400",children:""}),"  !"]}),l.jsx("p",{className:"text-gray-400 text-lg leading-relaxed font-medium",children:"              .      ."})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-5 w-full lg:w-auto",children:[l.jsxs("div",{className:"bg-white/5 backdrop-blur-md border border-white/10 p-6 rounded-3xl text-center hover:bg-white/10 transition-all transform hover:-translate-y-1 shadow-lg group/stat",children:[l.jsx("div",{className:"inline-flex p-3 bg-indigo-500/20 rounded-2xl mb-3 text-indigo-400 group-hover/stat:text-indigo-300 transition-colors",children:l.jsx(lh,{className:"w-7 h-7"})}),l.jsx("div",{className:"text-3xl font-black text-white mb-1 tracking-tight",children:ue.toLocaleString()}),l.jsx("div",{className:"text-[10px] md:text-xs font-bold text-indigo-300/70 uppercase tracking-wider",children:" XP "})]}),l.jsxs("div",{className:"bg-white/5 backdrop-blur-md border border-white/10 p-6 rounded-3xl text-center hover:bg-white/10 transition-all transform hover:-translate-y-1 shadow-lg group/stat",children:[l.jsx("div",{className:"inline-flex p-3 bg-emerald-500/20 rounded-2xl mb-3 text-emerald-400 group-hover/stat:text-emerald-300 transition-colors",children:l.jsx(Vs,{className:"w-7 h-7"})}),l.jsx("div",{className:"text-3xl font-black text-white mb-1 tracking-tight",children:f.toLocaleString()}),l.jsx("div",{className:"text-[10px] md:text-xs font-bold text-emerald-300/70 uppercase tracking-wider",children:" "})]}),l.jsxs("div",{className:"bg-white/5 backdrop-blur-md border border-white/10 p-6 rounded-3xl text-center hover:bg-white/10 transition-all transform hover:-translate-y-1 shadow-lg group/stat",children:[l.jsx("div",{className:"inline-flex p-3 bg-amber-500/20 rounded-2xl mb-3 text-amber-400 group-hover/stat:text-amber-300 transition-colors",children:l.jsx(vc,{className:"w-7 h-7"})}),l.jsx("div",{className:"text-3xl font-black text-white mb-1 tracking-tight",children:le.toLocaleString()}),l.jsx("div",{className:"text-[10px] md:text-xs font-bold text-amber-300/70 uppercase tracking-wider",children:" "})]}),l.jsxs("div",{className:"bg-white/5 backdrop-blur-md border border-white/10 p-6 rounded-3xl text-center hover:bg-white/10 transition-all transform hover:-translate-y-1 shadow-lg group/stat",children:[l.jsx("div",{className:"inline-flex p-3 bg-rose-500/20 rounded-2xl mb-3 text-rose-400 group-hover/stat:text-rose-300 transition-colors",children:l.jsx(mT,{className:"w-7 h-7"})}),l.jsx("div",{className:"text-3xl font-black text-white mb-1 tracking-tight",children:je.toLocaleString()}),l.jsx("div",{className:"text-[10px] md:text-xs font-bold text-rose-300/70 uppercase tracking-wider",children:" "})]})]})]})})]})})]})},CR=({onBack:a})=>{const[e,n]=Q.useState([]),[s,o]=Q.useState(!0),[u,f]=Q.useState(""),[g,p]=Q.useState(null),[y,w]=Q.useState(!1);Q.useEffect(()=>{N()},[]);const N=async()=>{o(!0);try{const B=jr(En(jt,"quizzes"),u_("createdAt","desc")),E=(await ma(B)).docs.map(j=>({id:j.id,...j.data()}));n(E)}catch(B){console.error("Error fetching quizzes:",B)}finally{o(!1)}},S=B=>{p({category:"Language",...B})},M=async(B,k)=>{if(B.stopPropagation(),!k){alert(":   ");return}if(window.confirm("  "))try{await z3(fa(jt,"quizzes",k)),n(E=>E.filter(j=>j.id!==k))}catch(E){console.error("Error deleting quiz:",E),alert("   : "+E.message)}},F=(B,k)=>{g&&p({...g,[B]:k})},re=(B,k,E)=>{if(!g)return;const j=[...g.questions];j[B]={...j[B],[k]:E},p({...g,questions:j})},Y=(B,k,E)=>{if(!g)return;const j=[...g.questions],D=[...j[B].options];D[k]=E,j[B]={...j[B],options:D},p({...g,questions:j})},oe=B=>{if(g&&window.confirm("      ")){const k=g.questions.filter((E,j)=>j!==B);p({...g,questions:k})}},ue=async()=>{if(!(!g||!g.id)){if(g.questions.length===0){alert("     !");return}w(!0);try{const B=fa(jt,"quizzes",g.id);await Qg(B,{title:g.title,subject:g.subject,grade:g.grade,category:g.category,questions:g.questions}),n(k=>k.map(E=>E.id===g.id?g:E)),p(null),alert("   ")}catch(B){console.error("Error updating quiz:",B),alert("   ")}finally{w(!1)}}},le=e.filter(B=>B.title.toLowerCase().includes(u.toLowerCase())||B.teacherName&&B.teacherName.toLowerCase().includes(u.toLowerCase())),je=B=>B?(B.toDate?B.toDate():new Date(B.seconds*1e3)).toLocaleDateString("ar-EG"):"",ae="w-full p-3 rounded-xl border-2 border-gray-300 dark:border-gray-600 focus:border-blue-500 dark:focus:border-blue-400 outline-none font-bold text-black dark:text-white bg-white dark:bg-gray-700 shadow-sm transition-colors placeholder-gray-500 dark:placeholder-gray-400";return l.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 pb-20 animate-fade-in relative transition-colors duration-300",children:[l.jsx("style",{children:`
        .custom-scrollbar {
          scrollbar-width: thin;
          scrollbar-color: #cbd5e1 transparent;
        }
        .dark .custom-scrollbar {
          scrollbar-color: #475569 transparent;
        }
        .custom-scrollbar::-webkit-scrollbar {
          width: 6px;
          height: 6px;
        }
        .custom-scrollbar::-webkit-scrollbar-track {
          background: transparent;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb {
          background: #cbd5e1;
          border-radius: 10px;
        }
        .dark .custom-scrollbar::-webkit-scrollbar-thumb {
           background: #475569;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb:hover {
          background: #94a3b8;
        }
      `}),l.jsx("div",{className:"bg-white dark:bg-gray-800 pt-8 pb-20 px-4 border-b border-gray-200 dark:border-gray-700 shadow-sm relative overflow-hidden",children:l.jsxs("div",{className:"max-w-7xl mx-auto relative z-10",children:[l.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[l.jsx("button",{onClick:a,className:"bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 p-2 rounded-full transition-colors",children:l.jsx(an,{className:"w-5 h-5 text-gray-600 dark:text-gray-300"})}),l.jsx("span",{className:"font-bold text-gray-500 dark:text-gray-400",children:" "})]}),l.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-end justify-between gap-6",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-4xl font-black text-gray-900 dark:text-white mb-2 tracking-tight",children:"  "}),l.jsx("p",{className:"text-gray-500 dark:text-gray-400 font-medium",children:"      "})]}),l.jsxs("div",{className:"w-full md:w-auto bg-white dark:bg-gray-700 p-2 rounded-2xl shadow-lg shadow-gray-100 dark:shadow-none border border-gray-100 dark:border-gray-600 flex items-center gap-2",children:[l.jsx(Ls,{className:"w-5 h-5 text-gray-400 dark:text-gray-300 mr-2"}),l.jsx("input",{type:"text",placeholder:"    ...",value:u,onChange:B=>f(B.target.value),className:"w-full md:w-64 outline-none text-sm font-bold text-gray-700 dark:text-gray-200 placeholder-gray-400 dark:placeholder-gray-500 bg-transparent"})]})]})]})}),l.jsx("div",{className:"max-w-7xl mx-auto px-4 -mt-12 relative z-20",children:s?l.jsx("div",{className:"flex justify-center items-center py-20",children:l.jsx(Wt,{className:"w-10 h-10 animate-spin text-blue-600 dark:text-blue-400"})}):le.length===0?l.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-sm border border-gray-200 dark:border-gray-700 p-12 text-center",children:[l.jsx("div",{className:"w-20 h-20 bg-gray-100 dark:bg-gray-700 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx(Vs,{className:"w-8 h-8 text-gray-400 dark:text-gray-500"})}),l.jsx("h3",{className:"text-xl font-bold text-gray-800 dark:text-white",children:"  "}),l.jsx("p",{className:"text-gray-500 dark:text-gray-400 mt-1",children:"       ."})]}):l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:le.map(B=>l.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-sm hover:shadow-xl transition-all duration-300 border border-gray-100 dark:border-gray-700 overflow-hidden group flex flex-col",children:[l.jsxs("div",{className:"p-6 flex-1",children:[l.jsxs("div",{className:"flex justify-between items-start mb-4",children:[l.jsx("span",{className:"bg-blue-50 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 px-3 py-1 rounded-lg text-xs font-bold",children:B.subject}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:()=>S(B),className:"bg-emerald-50 dark:bg-emerald-900/20 text-emerald-600 dark:text-emerald-400 p-1.5 rounded-lg hover:bg-emerald-100 dark:hover:bg-emerald-900/40 transition-colors",title:" ",children:l.jsx(pm,{className:"w-4 h-4"})}),l.jsx("button",{onClick:k=>M(k,B.id),className:"bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 p-1.5 rounded-lg hover:bg-red-100 dark:hover:bg-red-900/40 transition-colors",title:" ",children:l.jsx(ym,{className:"w-4 h-4"})})]})]}),l.jsx("h3",{className:"text-xl font-black text-gray-900 dark:text-white mb-2 line-clamp-2 group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors",children:B.title}),B.category&&l.jsx("span",{className:"inline-block mb-4 bg-amber-50 dark:bg-amber-900/20 text-amber-700 dark:text-amber-400 text-[10px] font-bold px-2 py-1 rounded-md border border-amber-100 dark:border-amber-800/50",children:B.category}),l.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500 dark:text-gray-400 mb-6",children:[l.jsxs("span",{className:"bg-gray-50 dark:bg-gray-700 px-2 py-0.5 rounded border border-gray-100 dark:border-gray-600 font-bold",children:[" ",B.grade]}),l.jsx("span",{className:"text-gray-300 dark:text-gray-600",children:"|"}),l.jsxs("span",{className:"bg-gray-100 dark:bg-gray-700/50 text-gray-600 dark:text-gray-400 px-2 py-0.5 rounded-lg text-xs font-bold flex items-center gap-1",children:[l.jsx(om,{className:"w-3 h-3"}),je(B.createdAt)]})]})]}),l.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900/50 p-4 border-t border-gray-100 dark:border-gray-700 flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-8 h-8 bg-white dark:bg-gray-700 rounded-full border border-gray-200 dark:border-gray-600 flex items-center justify-center shadow-sm text-gray-400 dark:text-gray-300",children:l.jsx(hr,{className:"w-4 h-4"})}),l.jsx("p",{className:"text-sm font-bold text-gray-700 dark:text-gray-300",children:B.teacherName||""})]}),l.jsxs("span",{className:"flex items-center gap-1 text-xs font-bold text-gray-500 dark:text-gray-400 bg-white dark:bg-gray-700 px-2 py-1 rounded-md border border-gray-100 dark:border-gray-600",children:[l.jsx(Ai,{className:"w-3 h-3"}),B.questions.length," "]})]})]},B.id))})}),g&&l.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center px-4 bg-black/60 backdrop-blur-sm",children:l.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-3xl w-full max-w-4xl max-h-[90vh] flex flex-col shadow-2xl animate-fade-in-up overflow-hidden",children:[l.jsxs("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 p-6 flex justify-between items-center shrink-0 sticky top-0 z-10",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"bg-emerald-100 dark:bg-emerald-900/30 p-2 rounded-xl",children:l.jsx(pm,{className:"w-6 h-6 text-emerald-600 dark:text-emerald-400"})}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-black text-gray-900 dark:text-white",children:" "}),l.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"     "})]})]}),l.jsx("button",{onClick:()=>p(null),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition-colors text-gray-500 dark:text-gray-400",children:l.jsx(aa,{className:"w-6 h-6"})})]}),l.jsxs("div",{className:"flex-1 overflow-y-auto p-6 bg-gray-50 dark:bg-gray-900 custom-scrollbar",children:[l.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-2xl shadow-sm border border-gray-200 dark:border-gray-700 mb-8",children:[l.jsxs("h3",{className:"font-bold text-gray-800 dark:text-white mb-4 flex items-center gap-2",children:[l.jsx(Vs,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})," "]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:"block text-xs font-bold text-gray-500 dark:text-gray-400 mb-1",children:" "}),l.jsx("input",{type:"text",value:g.title,onChange:B=>F("title",B.target.value),className:ae})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold text-gray-500 dark:text-gray-400 mb-1",children:""}),l.jsx("input",{type:"text",value:g.subject,onChange:B=>F("subject",B.target.value),className:ae})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold text-gray-500 dark:text-gray-400 mb-1",children:""}),l.jsx("select",{value:g.grade,onChange:B=>F("grade",B.target.value),className:ae,children:[5,6,7,8,9,10,11,12].map(B=>l.jsxs("option",{value:B,children:[" ",B]},B))})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:"block text-xs font-bold text-gray-500 dark:text-gray-400 mb-1",children:"  (Category)"}),l.jsxs("select",{value:g.category||"Language",onChange:B=>F("category",B.target.value),className:ae,children:[l.jsx("option",{value:"Language",children:"Language ()"}),l.jsx("option",{value:"Reading",children:"Reading ()"}),l.jsx("option",{value:"Writing",children:"Writing ()"}),l.jsx("option",{value:"Vocabulary",children:"Vocabulary ()"})]})]})]})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("h3",{className:"font-bold text-gray-800 dark:text-white flex items-center justify-between",children:[l.jsxs("span",{className:"flex items-center gap-2",children:[l.jsx(Ai,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})," (",g.questions.length,")"]}),l.jsx("span",{className:"text-xs bg-yellow-100 dark:bg-yellow-900/30 text-yellow-800 dark:text-yellow-300 px-2 py-1 rounded-lg",children:"*        "})]}),g.questions.map((B,k)=>l.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-2xl shadow-sm border border-gray-200 dark:border-gray-700 relative group",children:[l.jsx("button",{onClick:()=>oe(k),className:"absolute top-4 left-4 p-2 text-gray-400 hover:bg-red-50 dark:hover:bg-red-900/20 hover:text-red-600 dark:hover:text-red-400 rounded-lg transition-colors",title:" ",children:l.jsx(ym,{className:"w-5 h-5"})}),l.jsxs("div",{className:"mb-6",children:[l.jsxs("label",{className:"block text-xs font-bold text-gray-500 dark:text-gray-400 mb-1.5",children:["  ",k+1]}),l.jsx("input",{type:"text",dir:"ltr",value:B.question,onChange:E=>re(k,"question",E.target.value),className:"w-full p-3 rounded-xl border-2 border-gray-300 dark:border-gray-600 focus:border-emerald-500 dark:focus:border-emerald-500 outline-none font-bold text-black dark:text-white bg-white dark:bg-gray-700 shadow-sm text-lg transition-colors placeholder-gray-500 dark:placeholder-gray-400 text-left"})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:B.options.map((E,j)=>l.jsxs("div",{className:"relative",children:[l.jsxs("label",{className:"flex items-center justify-between text-xs font-bold text-gray-500 dark:text-gray-400 mb-1 px-1",children:[l.jsxs("span",{children:[" ",j+1]}),l.jsxs("button",{onClick:()=>re(k,"correctAnswer",j),className:`flex items-center gap-1 px-2 py-0.5 rounded cursor-pointer transition-colors ${B.correctAnswer===j?"bg-emerald-100 dark:bg-emerald-900/30 text-emerald-700 dark:text-emerald-400":"bg-gray-100 dark:bg-gray-700 text-gray-400 dark:text-gray-500 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:[B.correctAnswer===j?l.jsx(ra,{className:"w-3 h-3"}):l.jsx("div",{className:"w-3 h-3 border border-gray-400 rounded-full"}),B.correctAnswer===j?" ":" "]})]}),l.jsx("input",{type:"text",dir:"ltr",value:E,onChange:D=>Y(k,j,D.target.value),className:`w-full p-3 rounded-xl border-2 outline-none font-bold transition-colors shadow-sm text-left ${B.correctAnswer===j?"border-emerald-500 bg-emerald-50 dark:bg-emerald-900/20 text-emerald-900 dark:text-emerald-300":"border-gray-300 dark:border-gray-600 focus:border-blue-500 dark:focus:border-blue-400 text-black dark:text-white bg-white dark:bg-gray-700"}`})]},j))}),l.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 p-4 rounded-xl border border-yellow-200 dark:border-yellow-800",children:[l.jsx("label",{className:"block text-xs font-bold text-yellow-800 dark:text-yellow-200 mb-1",children:" "}),l.jsx("textarea",{value:B.explanation||"",onChange:E=>re(k,"explanation",E.target.value),className:"w-full p-3 rounded-lg border border-yellow-300 dark:border-yellow-700 focus:border-yellow-500 dark:focus:border-yellow-500 outline-none text-gray-800 dark:text-gray-200 bg-white dark:bg-gray-800 text-sm h-20 resize-none shadow-sm custom-scrollbar text-left",placeholder:"  ...",dir:"ltr"})]})]},k))]})]}),l.jsxs("div",{className:"p-6 bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700 flex justify-end gap-3 shrink-0 sticky bottom-0 z-10",children:[l.jsx("button",{onClick:()=>p(null),className:"px-6 py-3 rounded-xl font-bold text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:""}),l.jsxs("button",{onClick:ue,disabled:y,className:"px-8 py-3 rounded-xl font-bold text-white bg-emerald-600 hover:bg-emerald-700 transition-colors flex items-center gap-2 shadow-lg shadow-emerald-200 dark:shadow-none",children:[y?l.jsx(Wt,{className:"w-5 h-5 animate-spin"}):l.jsx(Ri,{className:"w-5 h-5"})," "]})]})]})})]})},RR=[{id:"grammar",title:" (Grammar)",icon:Vs,desc:"   ",color:"bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400"},{id:"reading",title:" (Reading)",icon:Kn,desc:"    ",color:"bg-emerald-50 dark:bg-emerald-900/20 text-emerald-600 dark:text-emerald-400"},{id:"vocabulary",title:" (Vocabulary)",icon:Iv,desc:"   ",color:"bg-purple-50 dark:bg-purple-900/20 text-purple-600 dark:text-purple-400"},{id:"writing",title:" (Writing)",icon:Km,desc:"   ",color:"bg-orange-50 dark:bg-orange-900/20 text-orange-600 dark:text-orange-400"}],IR=({onBack:a})=>{const[e,n]=Q.useState("INTRO"),[s,o]=Q.useState(""),[u,f]=Q.useState(null),[g,p]=Q.useState([]),[y,w]=Q.useState(!1),[N,S]=Q.useState(null),M=()=>n("GRADES"),F=E=>{o(E),n("CATEGORIES")},re=E=>{f(E),n("TOPICS")},Y=E=>{S(E),n("DETAILS")};Q.useEffect(()=>{e==="TOPICS"&&s&&u&&oe()},[e,s,u]);const oe=async()=>{w(!0);try{const E=jr(En(jt,"explanations"),Sr("grade","==",s),Sr("category","==",u==null?void 0:u.id)),j=await ma(E),D=[];j.forEach(I=>{D.push({id:I.id,...I.data()})}),D.sort((I,V)=>{var Ze,K;const A=((Ze=I.createdAt)==null?void 0:Ze.seconds)||0;return(((K=V.createdAt)==null?void 0:K.seconds)||0)-A}),p(D)}catch(E){console.error("Error fetching explanations:",E)}finally{w(!1)}},ue=E=>E?(E.toDate?E.toDate():new Date(E.seconds*1e3)).toLocaleDateString("ar-EG"):"",le=()=>l.jsxs("div",{className:"min-h-screen bg-gray-900 animate-fade-in flex flex-col relative overflow-hidden",children:[l.jsxs("div",{className:"absolute inset-0 z-0",children:[l.jsx("video",{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,preload:"auto",poster:"https://images.unsplash.com/photo-1497633762265-9d179a990aa6?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80",className:"w-full h-full object-cover",children:l.jsx("source",{src:"https://drive.google.com/uc?export=download&id=1wHw0wEWltdWfMqblwZLRgLKZ_ah3lCKm",type:"video/mp4"})}),l.jsx("div",{className:"absolute inset-0 bg-gray-900/70"}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-gray-900 via-transparent to-gray-900/80"})]}),l.jsxs("div",{className:"relative z-10 flex flex-col items-center justify-center flex-1 px-6 text-center pt-10",children:[l.jsx("span",{className:"inline-block px-6 py-2 rounded-full bg-white/10 backdrop-blur-md text-emerald-300 font-bold text-sm mb-6 border border-white/20 shadow-lg animate-fade-in-up",children:"  "}),l.jsxs("h1",{className:"text-5xl md:text-7xl font-black text-white mb-6 leading-tight drop-shadow-2xl animate-fade-in-up delay-100",children:[" ",l.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-emerald-400 to-teal-400",children:" "})]}),l.jsx("p",{className:"text-gray-200 text-lg md:text-2xl max-w-2xl mx-auto mb-12 leading-relaxed font-medium drop-shadow-md animate-fade-in-up delay-200",children:"         ."}),l.jsxs("button",{onClick:M,className:"w-full md:w-auto bg-white text-gray-900 text-xl font-black px-12 py-5 rounded-2xl hover:scale-105 hover:bg-emerald-50 transition-all shadow-[0_0_30px_rgba(255,255,255,0.3)] flex items-center justify-center gap-3 animate-fade-in-up delay-300",children:[" ",l.jsx(an,{className:"w-6 h-6"})]})]}),l.jsx("div",{className:"p-6 text-center relative z-10",children:l.jsxs("button",{onClick:a,className:"text-white/70 font-bold hover:text-white transition-colors flex items-center justify-center gap-2 mx-auto",children:[l.jsx(Od,{className:"w-4 h-4"})," "]})})]}),je=()=>l.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 animate-fade-in-up",children:[l.jsx("div",{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-md border-b border-gray-200 dark:border-gray-700 py-4 px-4 sticky top-0 z-30 shadow-sm",children:l.jsxs("div",{className:"max-w-4xl mx-auto flex items-center gap-4",children:[l.jsx("button",{onClick:()=>n("INTRO"),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition-colors",children:l.jsx(an,{className:"w-6 h-6 text-gray-600 dark:text-gray-300"})}),l.jsx("h2",{className:"text-xl font-black text-gray-900 dark:text-white",children:"  "})]})}),l.jsx("div",{className:"max-w-4xl mx-auto px-4 py-8",children:l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:[[5,6,7,8,9,10,11,12].map(E=>l.jsxs("button",{onClick:()=>F(E.toString()),className:"bg-white dark:bg-gray-800 p-6 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 hover:border-emerald-500 dark:hover:border-emerald-500 hover:shadow-emerald-100 dark:hover:shadow-none hover:-translate-y-1 transition-all group flex flex-col items-center gap-3",children:[l.jsx("div",{className:"w-14 h-14 rounded-full bg-gray-50 dark:bg-gray-700 flex items-center justify-center group-hover:bg-emerald-500 transition-colors",children:l.jsx("span",{className:"font-black text-2xl text-gray-700 dark:text-gray-300 group-hover:text-white",children:E})}),l.jsxs("span",{className:"font-bold text-gray-600 dark:text-gray-300 group-hover:text-emerald-600 dark:group-hover:text-emerald-400",children:[" ",E]})]},E)),l.jsxs("button",{onClick:()=>F("English Major - QOU"),className:"col-span-2 md:col-span-3 lg:col-span-4 bg-gradient-to-r from-emerald-600 to-teal-600 p-6 rounded-2xl shadow-lg text-white hover:shadow-xl hover:-translate-y-1 transition-all flex items-center justify-center gap-4",children:[l.jsx("div",{className:"bg-white/20 p-3 rounded-xl",children:l.jsx(Pi,{className:"w-8 h-8 text-white"})}),l.jsxs("div",{className:"text-right",children:[l.jsx("span",{className:"block font-black text-lg",children:"  "}),l.jsx("span",{className:"text-emerald-100 text-sm",children:"  "})]})]})]})})]}),ae=()=>l.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 animate-fade-in-up",children:[l.jsx("div",{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-md border-b border-gray-200 dark:border-gray-700 py-4 px-4 sticky top-0 z-30 shadow-sm",children:l.jsxs("div",{className:"max-w-4xl mx-auto flex items-center gap-4",children:[l.jsx("button",{onClick:()=>n("GRADES"),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition-colors",children:l.jsx(an,{className:"w-6 h-6 text-gray-600 dark:text-gray-300"})}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-xl font-black text-gray-900 dark:text-white",children:"   "}),l.jsx("span",{className:"text-xs font-bold text-emerald-600 dark:text-emerald-400 bg-emerald-50 dark:bg-emerald-900/30 px-2 py-0.5 rounded",children:s==="English Major - QOU"?"":` ${s}`})]})]})}),l.jsx("div",{className:"max-w-4xl mx-auto px-4 py-8",children:l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:RR.map(E=>l.jsx("button",{onClick:()=>re(E),className:"bg-white dark:bg-gray-800 rounded-3xl p-6 shadow-sm border border-gray-100 dark:border-gray-700 hover:shadow-xl hover:border-emerald-200 dark:hover:border-emerald-800 transition-all group text-right relative overflow-hidden",children:l.jsxs("div",{className:"flex items-start gap-5 relative z-10",children:[l.jsx("div",{className:`w-16 h-16 rounded-2xl flex items-center justify-center shrink-0 ${E.color} group-hover:scale-110 transition-transform`,children:l.jsx(E.icon,{className:"w-8 h-8"})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"text-xl font-black text-gray-900 dark:text-white mb-2",children:E.title}),l.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm font-medium",children:E.desc})]}),l.jsx("div",{className:"absolute top-1/2 -left-4 -translate-y-1/2 bg-gray-50 dark:bg-gray-700 p-2 rounded-full opacity-0 group-hover:opacity-100 group-hover:translate-x-2 transition-all",children:l.jsx(na,{className:"w-5 h-5 text-gray-400"})})]})},E.id))})})]}),B=()=>l.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 animate-fade-in-up",children:[l.jsx("div",{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-md border-b border-gray-200 dark:border-gray-700 py-4 px-4 sticky top-0 z-30 shadow-sm",children:l.jsxs("div",{className:"max-w-4xl mx-auto flex items-center gap-4",children:[l.jsx("button",{onClick:()=>n("CATEGORIES"),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition-colors",children:l.jsx(an,{className:"w-6 h-6 text-gray-600 dark:text-gray-300"})}),l.jsxs("div",{className:"flex flex-col",children:[l.jsx("h2",{className:"text-lg font-black text-gray-900 dark:text-white",children:u==null?void 0:u.title}),l.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500 dark:text-gray-400",children:[l.jsx("span",{className:"font-bold",children:" "}),l.jsx("span",{children:""}),l.jsx("span",{children:s==="English Major - QOU"?"":` ${s}`})]})]})]})}),l.jsx("div",{className:"max-w-3xl mx-auto px-4 py-8",children:y?l.jsx("div",{className:"flex justify-center py-12",children:l.jsx(Wt,{className:"w-8 h-8 animate-spin text-emerald-600 dark:text-emerald-400"})}):g.length===0?l.jsx("div",{className:"flex flex-col items-center justify-center text-center",children:l.jsxs("div",{className:"bg-white dark:bg-gray-800 p-8 rounded-3xl shadow-sm border border-gray-100 dark:border-gray-700 max-w-md w-full",children:[l.jsx("h3",{className:"text-2xl font-black text-gray-900 dark:text-white mb-3",children:"   "}),l.jsxs("p",{className:"text-gray-500 dark:text-gray-400 font-medium leading-relaxed mb-6",children:["      ",l.jsx("span",{className:"text-emerald-600 font-bold",children:u==null?void 0:u.title}),"    ."]}),l.jsxs("div",{className:"flex items-center justify-center gap-2 text-xs font-bold text-gray-400 bg-gray-50 dark:bg-gray-700 py-2 px-4 rounded-full",children:[l.jsx(LE,{className:"w-4 h-4"}),"     "]})]})}):l.jsx("div",{className:"grid grid-cols-1 gap-4",children:g.map(E=>l.jsxs("button",{onClick:()=>Y(E),className:"bg-white dark:bg-gray-800 p-5 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 hover:border-emerald-300 dark:hover:border-emerald-700 hover:shadow-md transition-all group text-right flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-start gap-4",children:[l.jsx("div",{className:"p-3 rounded-xl bg-gray-50 dark:bg-gray-700 group-hover:bg-emerald-50 dark:group-hover:bg-emerald-900/20 transition-colors",children:l.jsx(Ul,{className:"w-6 h-6 text-gray-400 dark:text-gray-500 group-hover:text-emerald-600 dark:group-hover:text-emerald-400"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-1 group-hover:text-emerald-700 dark:group-hover:text-emerald-400 transition-colors",children:E.title}),l.jsxs("div",{className:"flex items-center gap-3 text-xs text-gray-400 dark:text-gray-500 font-medium",children:[l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx(om,{className:"w-3 h-3"}),ue(E.createdAt)]}),l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx(hr,{className:"w-3 h-3"}),E.teacherName]})]})]})]}),l.jsx(na,{className:"w-5 h-5 text-gray-300 group-hover:text-emerald-500 group-hover:-translate-x-1 transition-all"})]},E.id))})})]}),k=()=>N?l.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 animate-fade-in-up",children:[l.jsx("div",{className:"bg-white/80 dark:bg-gray-800/80 backdrop-blur-md border-b border-gray-200 dark:border-gray-700 py-4 px-4 sticky top-0 z-30 shadow-sm",children:l.jsxs("div",{className:"max-w-4xl mx-auto flex items-center gap-4",children:[l.jsx("button",{onClick:()=>n("TOPICS"),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition-colors",children:l.jsx(an,{className:"w-6 h-6 text-gray-600 dark:text-gray-300"})}),l.jsx("div",{className:"flex-1 min-w-0",children:l.jsx("h2",{className:"text-lg font-black text-gray-900 dark:text-white truncate",children:N.title})})]})}),l.jsx("div",{className:"max-w-3xl mx-auto px-4 py-8",children:l.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden",children:[l.jsxs("div",{className:"p-6 md:p-8",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-6 text-sm text-gray-500 dark:text-gray-400 border-b border-gray-100 dark:border-gray-700 pb-4",children:[l.jsx("span",{className:"bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded font-bold",children:s==="English Major - QOU"?"":` ${s}`}),l.jsx(na,{className:"w-4 h-4"}),l.jsx("span",{className:"bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded font-bold",children:u==null?void 0:u.title})]}),l.jsx("h1",{className:"text-2xl md:text-3xl font-black text-gray-900 dark:text-white mb-6 leading-relaxed",children:N.title}),l.jsx("div",{className:"prose dark:prose-invert max-w-none text-gray-800 dark:text-gray-200 whitespace-pre-wrap leading-loose text-lg",children:N.content})]}),l.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900/50 p-4 border-t border-gray-100 dark:border-gray-700 flex justify-between items-center text-sm text-gray-500 dark:text-gray-400",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(hr,{className:"w-4 h-4"}),l.jsxs("span",{children:[": ",l.jsx("span",{className:"font-bold",children:N.teacherName})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(om,{className:"w-4 h-4"}),l.jsx("span",{children:ue(N.createdAt)})]})]})]})})]}):null;return l.jsxs(l.Fragment,{children:[e==="INTRO"&&le(),e==="GRADES"&&je(),e==="CATEGORIES"&&ae(),e==="TOPICS"&&B(),e==="DETAILS"&&k()]})},DR=[{id:"grammar",title:" (Grammar)",icon:Vs},{id:"reading",title:" (Reading)",icon:Kn},{id:"vocabulary",title:" (Vocabulary)",icon:Iv},{id:"writing",title:" (Writing)",icon:Km}],OR=({onBack:a,onNavigate:e})=>{const{user:n}=ga(),[s,o]=Q.useState(""),[u,f]=Q.useState(""),[g,p]=Q.useState(""),[y,w]=Q.useState(""),[N,S]=Q.useState(!1),[M,F]=Q.useState(!1),re=async()=>{if(!s||!u||!g||!y){alert("    ");return}S(!0);try{await Dh(En(jt,"explanations"),{grade:s,category:u,subject:"English",title:g,content:y,teacherName:(n==null?void 0:n.displayName)||"",teacherId:n==null?void 0:n.uid,createdAt:$l()}),F(!0),setTimeout(()=>{F(!1),p(""),w("")},2e3)}catch(oe){console.error("Error saving explanation:",oe),alert("   ")}finally{S(!1)}},Y=()=>{a?a():e("HOME")};return l.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 animate-fade-in transition-colors duration-300",children:[l.jsx("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 py-6 px-4 sticky top-0 z-30 shadow-sm",children:l.jsxs("div",{className:"max-w-4xl mx-auto flex items-center gap-4",children:[l.jsxs("button",{onClick:Y,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition-colors flex items-center gap-2 text-gray-600 dark:text-gray-300 font-bold",children:[l.jsx(an,{className:"w-6 h-6"}),""]}),l.jsxs("h1",{className:"text-xl font-black text-gray-900 dark:text-white flex items-center gap-2",children:[l.jsx(bc,{className:"w-6 h-6 text-purple-600 dark:text-purple-400"}),"  "]})]})}),l.jsx("div",{className:"max-w-4xl mx-auto px-4 py-8",children:l.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-sm border border-gray-200 dark:border-gray-700 p-6 md:p-8",children:M?l.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center animate-fade-in",children:[l.jsx("div",{className:"w-20 h-20 bg-green-100 dark:bg-green-900 rounded-full flex items-center justify-center mb-4",children:l.jsx(ra,{className:"w-10 h-10 text-green-600 dark:text-green-400"})}),l.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"  !"}),l.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-6",children:"      ."}),l.jsx("button",{onClick:()=>F(!1),className:"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 px-6 py-2 rounded-xl font-bold hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:"  "})]}):l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-3",children:"1.   "}),l.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[[5,6,7,8,9,10,11,12].map(oe=>l.jsxs("button",{onClick:()=>o(oe.toString()),className:`py-3 rounded-xl font-bold transition-all border-2 ${s===oe.toString()?"bg-purple-600 text-white border-purple-600 shadow-lg shadow-purple-200 dark:shadow-none":"bg-white dark:bg-gray-700 text-gray-600 dark:text-gray-300 border-gray-100 dark:border-gray-600 hover:border-purple-300"}`,children:[" ",oe]},oe)),l.jsx("button",{onClick:()=>o("English Major - QOU"),className:`col-span-2 sm:col-span-4 py-3 rounded-xl font-bold transition-all border-2 ${s==="English Major - QOU"?"bg-purple-600 text-white border-purple-600 shadow-lg shadow-purple-200 dark:shadow-none":"bg-white dark:bg-gray-700 text-gray-600 dark:text-gray-300 border-gray-100 dark:border-gray-600 hover:border-purple-300"}`,children:"  "})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-3",children:"2.   ()"}),l.jsx("div",{className:"grid grid-cols-2 gap-4",children:DR.map(oe=>l.jsxs("button",{onClick:()=>f(oe.id),className:`flex items-center gap-3 p-4 rounded-xl border-2 transition-all text-right ${u===oe.id?"bg-purple-50 dark:bg-purple-900/20 border-purple-500 text-purple-700 dark:text-purple-300":"bg-white dark:bg-gray-700 border-gray-100 dark:border-gray-600 text-gray-600 dark:text-gray-300 hover:border-purple-200"}`,children:[l.jsx("div",{className:`p-2 rounded-lg ${u===oe.id?"bg-purple-200 dark:bg-purple-800":"bg-gray-100 dark:bg-gray-600"}`,children:l.jsx(oe.icon,{className:"w-5 h-5"})}),l.jsx("span",{className:"font-bold",children:oe.title})]},oe.id))})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-2",children:"  / "}),l.jsx("input",{type:"text",value:g,onChange:oe=>p(oe.target.value),placeholder:":   Present Simple",className:"w-full px-4 py-3 rounded-xl border-2 border-gray-200 dark:border-gray-600 focus:border-purple-500 outline-none font-bold text-gray-900 dark:text-white bg-white dark:bg-gray-700 transition-all"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-2",children:" "}),l.jsx("textarea",{value:y,onChange:oe=>w(oe.target.value),placeholder:"  ...",className:"w-full h-64 px-4 py-3 rounded-xl border-2 border-gray-200 dark:border-gray-600 focus:border-purple-500 outline-none font-medium text-gray-900 dark:text-white bg-white dark:bg-gray-700 transition-all resize-none leading-relaxed"}),l.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"          ."})]})]}),l.jsx("div",{className:"pt-4 border-t border-gray-100 dark:border-gray-700 flex justify-end",children:l.jsxs("button",{onClick:re,disabled:N,className:"bg-purple-600 hover:bg-purple-700 text-white px-8 py-3 rounded-xl font-bold shadow-lg shadow-purple-200 dark:shadow-none transition-all flex items-center gap-2 transform hover:-translate-y-1",children:[N?l.jsx(Wt,{className:"w-5 h-5 animate-spin"}):l.jsx(Ri,{className:"w-5 h-5"}),"  "]})})]})})})]})},MR=[{id:"handouts",title:" ",icon:Ul,color:"text-blue-600",bg:"bg-blue-50 dark:bg-blue-900/20"},{id:"worksheets",title:" ",icon:ac,color:"text-emerald-600",bg:"bg-emerald-50 dark:bg-emerald-900/20"},{id:"exams",title:"  ",icon:Kn,color:"text-purple-600",bg:"bg-purple-50 dark:bg-purple-900/20"}],VR=[{id:"English",title:"  (English)"},{id:"Math",title:""},{id:"Science",title:""}],LR=({onBack:a,onNavigate:e})=>{const{user:n}=ga(),[s,o]=Q.useState(""),[u,f]=Q.useState(""),[g,p]=Q.useState(""),[y,w]=Q.useState(""),[N,S]=Q.useState(""),[M,F]=Q.useState(!1),[re,Y]=Q.useState(!1),oe=async()=>{if(!s||!u||!g||!y||!N){alert("    ");return}if(!N.startsWith("http")){alert("        http  https");return}F(!0);try{await Dh(En(jt,"study_materials"),{grade:s,subject:u,category:g,title:y,url:N,size:"Drive Link",teacherName:(n==null?void 0:n.displayName)||"",teacherId:n==null?void 0:n.uid,createdAt:$l()}),Y(!0),setTimeout(()=>{Y(!1),w(""),S("")},2e3)}catch(le){console.error("Error saving file:",le),alert("   ")}finally{F(!1)}},ue=()=>{a?a():e("PROFILE")};return l.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 animate-fade-in transition-colors duration-300",children:[l.jsx("div",{className:"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 py-6 px-4 sticky top-0 z-30 shadow-sm",children:l.jsxs("div",{className:"max-w-4xl mx-auto flex items-center gap-4",children:[l.jsxs("button",{onClick:ue,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition-colors flex items-center gap-2 text-gray-600 dark:text-gray-300 font-bold",children:[l.jsx(an,{className:"w-6 h-6"}),""]}),l.jsxs("h1",{className:"text-xl font-black text-gray-900 dark:text-white flex items-center gap-2",children:[l.jsx(Rv,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"}),"   (Drive)"]})]})}),l.jsx("div",{className:"max-w-4xl mx-auto px-4 py-8",children:l.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-3xl shadow-sm border border-gray-200 dark:border-gray-700 p-6 md:p-8",children:re?l.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center animate-fade-in",children:[l.jsx("div",{className:"w-20 h-20 bg-green-100 dark:bg-green-900 rounded-full flex items-center justify-center mb-4",children:l.jsx(ra,{className:"w-10 h-10 text-green-600 dark:text-green-400"})}),l.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"  !"}),l.jsx("p",{className:"text-gray-500 dark:text-gray-400 mb-6",children:"       ."}),l.jsx("button",{onClick:()=>Y(!1),className:"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 px-6 py-2 rounded-xl font-bold hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors",children:"  "})]}):l.jsxs("div",{className:"space-y-8",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-3 flex items-center gap-2",children:[l.jsx(Pi,{className:"w-4 h-4 text-blue-500"})," "]}),l.jsxs("select",{value:s,onChange:le=>o(le.target.value),className:"w-full px-4 py-3 rounded-xl border-2 border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800 focus:border-blue-500 outline-none font-bold text-gray-800 dark:text-white appearance-none cursor-pointer",children:[l.jsx("option",{value:"",children:" "}),[5,6,7,8,9,10,11,12].map(le=>l.jsxs("option",{value:le.toString(),children:[" ",le]},le)),l.jsx("option",{value:"English Major - QOU",children:"  "})]})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-3 flex items-center gap-2",children:[l.jsx(Kn,{className:"w-4 h-4 text-blue-500"}),""]}),l.jsxs("select",{value:u,onChange:le=>f(le.target.value),className:"w-full px-4 py-3 rounded-xl border-2 border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-800 focus:border-blue-500 outline-none font-bold text-gray-800 dark:text-white appearance-none cursor-pointer",children:[l.jsx("option",{value:"",children:" "}),VR.map(le=>l.jsx("option",{value:le.id,children:le.title},le.id))]})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-3",children:"  ()"}),l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:MR.map(le=>l.jsxs("button",{onClick:()=>p(le.id),className:`flex flex-col items-center justify-center gap-2 p-4 rounded-xl border-2 transition-all text-center h-full ${g===le.id?"bg-blue-50 dark:bg-blue-900/30 border-blue-500 text-blue-700 dark:text-blue-300 ring-1 ring-blue-500":"bg-white dark:bg-gray-700 border-gray-100 dark:border-gray-600 text-gray-600 dark:text-gray-300 hover:border-blue-200 dark:hover:border-blue-500"}`,children:[l.jsx("div",{className:`p-2 rounded-lg ${le.bg}`,children:l.jsx(le.icon,{className:`w-6 h-6 ${le.color}`})}),l.jsx("span",{className:"font-bold text-sm",children:le.title})]},le.id))})]}),l.jsxs("div",{className:"space-y-4 pt-4 border-t border-gray-100 dark:border-gray-700",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-2",children:" "}),l.jsx("input",{type:"text",value:y,onChange:le=>w(le.target.value),placeholder:":    -  ",className:"w-full px-4 py-3 rounded-xl border-2 border-gray-200 dark:border-gray-600 focus:border-blue-500 outline-none font-bold text-gray-900 dark:text-white bg-white dark:bg-gray-700 transition-all"})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-2 flex items-center gap-2",children:[l.jsx(E4,{className:"w-4 h-4 text-blue-500"}),"  (Google Drive Link)"]}),l.jsx("input",{type:"url",value:N,onChange:le=>S(le.target.value),placeholder:"https://drive.google.com/file/d/...",className:"w-full px-4 py-3 rounded-xl border-2 border-gray-200 dark:border-gray-600 focus:border-blue-500 outline-none font-medium text-blue-600 dark:text-blue-400 bg-blue-50/50 dark:bg-gray-700 transition-all text-left",dir:"ltr"}),l.jsx("p",{className:"text-xs text-gray-500 mt-2",children:'    " " (Anyone with the link)    .'})]})]}),l.jsx("div",{className:"pt-4 flex justify-end",children:l.jsxs("button",{onClick:oe,disabled:M,className:"w-full md:w-auto bg-blue-600 hover:bg-blue-700 text-white px-10 py-3 rounded-xl font-bold shadow-lg shadow-blue-200 dark:shadow-none transition-all flex items-center justify-center gap-2 transform hover:-translate-y-1",children:[M?l.jsx(Wt,{className:"w-5 h-5 animate-spin"}):l.jsx(Ri,{className:"w-5 h-5"}),"  "]})})]})})})]})},lm=[{text:"            .",author:" ",color:"from-emerald-400 to-teal-500",bg:"bg-emerald-500"},{text:"               .",author:"",color:"from-blue-400 to-indigo-500",bg:"bg-blue-500"},{text:"        .",author:" ",color:"from-yellow-400 to-amber-500",bg:"bg-amber-500"},{text:"     .",author:" ",color:"from-rose-400 to-pink-500",bg:"bg-rose-500"},{text:"          .",author:" ",color:"from-purple-400 to-violet-500",bg:"bg-purple-500"},{text:"     .",author:" ",color:"from-cyan-400 to-sky-500",bg:"bg-cyan-500"},{text:"     .",author:" ",color:"from-red-400 to-orange-500",bg:"bg-red-500"},{text:"     .",author:" ",color:"from-orange-400 to-yellow-500",bg:"bg-orange-500"},{text:"     .",author:" ",color:"from-teal-400 to-emerald-500",bg:"bg-teal-500"},{text:"    .",author:" ",color:"from-indigo-400 to-blue-500",bg:"bg-indigo-500"}],PR=()=>{const[a,e]=Q.useState(0),[n,s]=Q.useState(!0);Q.useEffect(()=>{const f=setInterval(()=>{s(!1),setTimeout(()=>{e(g=>(g+1)%lm.length),s(!0)},500)},1e4);return()=>clearInterval(f)},[]);const o=lm[a],u=()=>{navigator.clipboard.writeText(`"${o.text}" - ${o.author}`),alert("  !")};return l.jsxs("div",{className:"py-20 bg-gradient-to-b from-slate-900 to-gray-950 relative overflow-hidden border-t border-gray-800",children:[l.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[l.jsx("div",{className:"absolute top-10 left-1/4 w-1 h-1 bg-white rounded-full animate-[ping_3s_infinite]"}),l.jsx("div",{className:"absolute bottom-20 right-1/3 w-1.5 h-1.5 bg-yellow-400 rounded-full animate-[ping_5s_infinite]"}),l.jsx("div",{className:"absolute top-1/2 left-10 w-2 h-2 bg-blue-400 rounded-full animate-[bounce_4s_infinite] opacity-20"}),l.jsx("div",{className:`absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[500px] h-[500px] rounded-full bg-gradient-to-r ${o.color} blur-[150px] opacity-10 transition-colors duration-1000`})]}),l.jsx("div",{className:"max-w-4xl mx-auto px-6 relative z-10",children:l.jsxs("div",{className:"bg-white/5 backdrop-blur-xl border border-white/10 rounded-[3rem] p-8 md:p-12 text-center relative group hover:bg-white/10 transition-all duration-500 shadow-2xl",children:[l.jsx("div",{className:"absolute -top-6 left-1/2 -translate-x-1/2",children:l.jsx("div",{className:`w-12 h-12 rounded-2xl bg-gradient-to-br ${o.color} flex items-center justify-center shadow-lg transform rotate-3 group-hover:rotate-0 transition-transform`,children:l.jsx($4,{className:"w-6 h-6 text-white fill-white"})})}),l.jsxs("div",{className:`transition-all duration-500 ease-in-out transform ${n?"opacity-100 translate-y-0":"opacity-0 translate-y-4"}`,children:[l.jsxs("h2",{className:`text-2xl md:text-4xl font-black leading-relaxed tracking-wide bg-clip-text text-transparent bg-gradient-to-r ${o.color} mb-6 drop-shadow-sm`,children:['"',o.text,'"']}),l.jsxs("p",{className:"text-gray-400 font-bold text-lg flex items-center justify-center gap-2",children:[l.jsx("span",{className:`w-8 h-0.5 bg-gradient-to-r ${o.color} rounded-full`}),o.author,l.jsx("span",{className:`w-8 h-0.5 bg-gradient-to-r ${o.color} rounded-full`})]})]}),l.jsx("button",{onClick:u,className:"absolute top-6 right-6 p-2 text-gray-500 hover:text-white hover:bg-white/10 rounded-full transition-colors opacity-0 group-hover:opacity-100",title:" ",children:l.jsx(eT,{className:"w-5 h-5"})}),l.jsx("div",{className:"flex justify-center gap-2 mt-10",children:lm.map((f,g)=>l.jsx("button",{onClick:()=>{s(!1),setTimeout(()=>{e(g),s(!0)},300)},className:`h-1.5 rounded-full transition-all duration-700 ${g===a?`w-8 ${f.bg}`:"w-1.5 bg-gray-700 hover:bg-gray-500"}`},g))})]})})]})},zR=()=>l.jsx("section",{className:"relative w-full overflow-hidden bg-gray-950 border-t border-gray-900",children:l.jsxs("div",{className:"w-full h-[650px] md:h-[900px] relative group",children:[l.jsxs("div",{className:"absolute inset-0 z-0",children:[l.jsx("img",{src:"https://lh3.googleusercontent.com/d/11PvY6sdTvurXqkNuWjoEpYTcM8FUHOB0",alt:".    -  ",className:"w-full h-full object-cover object-top transition-transform duration-1000 group-hover:scale-105"}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-gray-950 via-gray-900/40 to-transparent"}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-950/90 via-transparent to-gray-950/90"})]}),l.jsx("div",{className:"absolute bottom-0 left-0 w-full p-8 md:p-24 flex flex-col items-center text-center z-20",children:l.jsxs("div",{className:"max-w-5xl mx-auto transform translate-y-0 transition-all duration-700",children:[l.jsxs("div",{className:"mb-8",children:[l.jsx("h2",{className:"text-5xl md:text-8xl font-black text-white mb-6 drop-shadow-2xl tracking-tight",children:".   "}),l.jsx("div",{className:"h-2 w-40 bg-emerald-500 rounded-full mx-auto mb-8 shadow-[0_0_20px_rgba(16,185,129,0.6)]"}),l.jsx("p",{className:"text-2xl md:text-4xl text-emerald-400 font-bold drop-shadow-lg tracking-wide",children:"   "})]}),l.jsx("div",{className:"relative",children:l.jsx("p",{className:"text-gray-200 text-xl md:text-3xl leading-loose font-medium relative z-10 px-4 max-w-4xl mx-auto drop-shadow-md",children:"          .              ."})})]})})]})}),UR=({onLoginClick:a})=>l.jsxs("section",{className:"py-32 relative overflow-hidden",children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-gray-950 to-emerald-950"}),l.jsx("div",{className:"absolute inset-0 opacity-10 bg-[url('https://www.transparenttextures.com/patterns/stardust.png')]"}),l.jsx("div",{className:"absolute top-0 left-0 w-full h-px bg-gradient-to-r from-transparent via-emerald-500/50 to-transparent"}),l.jsxs("div",{className:"max-w-5xl mx-auto px-6 relative z-10 text-center",children:[l.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-1.5 rounded-full bg-emerald-500/10 border border-emerald-500/20 text-emerald-400 text-sm font-bold mb-8 animate-pulse",children:[l.jsx(Vv,{className:"w-4 h-4"}),l.jsx("span",{children:"  "})]}),l.jsxs("h2",{className:"text-5xl md:text-7xl font-black text-white mb-8 leading-tight tracking-tight drop-shadow-2xl",children:["  ",l.jsx("br",{}),l.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-emerald-400 to-cyan-400",children:" "})]}),l.jsx("p",{className:"text-xl text-gray-300 max-w-2xl mx-auto mb-12 leading-relaxed font-medium",children:"      .         ."}),l.jsx("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4",children:l.jsxs("button",{onClick:a,className:"w-full sm:w-auto bg-white text-emerald-950 px-10 py-5 rounded-2xl font-black text-xl hover:bg-emerald-50 transition-all shadow-[0_0_40px_rgba(255,255,255,0.2)] hover:shadow-[0_0_60px_rgba(16,185,129,0.4)] transform hover:-translate-y-1 flex items-center justify-center gap-3",children:["  ",l.jsx(an,{className:"w-6 h-6"})]})})]})]});function qR(){const[a,e]=Q.useState("HOME"),[n,s]=Q.useState(!1),[o,u]=Q.useState(!1),{logout:f}=ga();Q.useEffect(()=>{"scrollRestoration"in history&&(history.scrollRestoration="manual"),window.scrollTo(0,0),window.history.replaceState({view:"HOME"},"","");const y=w=>{w.state&&w.state.view?e(w.state.view):e("HOME")};return window.addEventListener("popstate",y),()=>window.removeEventListener("popstate",y)},[]),Q.useEffect(()=>{window.scrollTo(0,0)},[a]);const g=y=>{y!==a&&(window.history.pushState({view:y},"",""),e(y))},p=async()=>{u(!0),setTimeout(async()=>{await f(),u(!1),g("HOME")},1e3)};return l.jsxs("div",{className:"min-h-screen flex flex-col relative transition-colors duration-500 bg-gray-950 text-gray-100 selection:bg-emerald-500/30",children:[l.jsxs("div",{className:"fixed inset-0 pointer-events-none z-0 overflow-hidden",children:[l.jsx("div",{className:"absolute top-[-10%] right-[-5%] w-[600px] h-[600px] bg-indigo-900/10 rounded-full blur-[120px] animate-pulse"}),l.jsx("div",{className:"absolute bottom-[-10%] left-[-10%] w-[600px] h-[600px] bg-emerald-900/10 rounded-full blur-[120px] animate-pulse delay-1000"}),l.jsx("div",{className:"absolute top-[40%] left-[30%] w-[300px] h-[300px] bg-purple-900/5 rounded-full blur-[100px] animate-pulse delay-2000"}),l.jsx("div",{className:"absolute inset-0 opacity-[0.02] bg-[url('https://www.transparenttextures.com/patterns/noise.png')]"})]}),o&&l.jsx("div",{className:"fixed inset-0 z-[200] bg-emerald-900/90 backdrop-blur-sm flex items-center justify-center animate-fade-in",children:l.jsx("div",{className:"text-white text-2xl font-bold animate-bounce",children:"  ..."})}),l.jsxs("div",{className:"relative z-10 flex flex-col min-h-screen",children:[l.jsx(uR,{onLoginClick:()=>s(!0),onNavigate:g,onLogoutClick:p}),l.jsxs("main",{className:"flex-grow",children:[a==="HOME"&&l.jsxs(l.Fragment,{children:[l.jsx(dR,{onStartQuiz:()=>g("QUIZZES"),onLoginClick:()=>s(!0),onNavigate:g}),l.jsx(fR,{onNavigate:g}),l.jsx(AR,{onLoginClick:()=>s(!0)}),l.jsx(PR,{}),l.jsx(zR,{}),l.jsx(UR,{onLoginClick:()=>s(!0)})]}),a==="ABOUT_PLATFORM"&&l.jsx(TR,{onBack:()=>g("HOME")}),a==="SERVICES"&&l.jsx(kR,{onBack:()=>g("HOME")}),a==="TEACHER_CV"&&l.jsx(ER,{onBack:()=>g("HOME")}),a==="PROFILE"&&l.jsx(bR,{onNavigate:g}),a==="TEACHER_DASHBOARD"&&l.jsx(gR,{}),a==="QUESTION_BANK"&&l.jsx(CR,{onBack:()=>g("HOME")}),a==="TEACHER_EXPLANATIONS"&&l.jsx(OR,{onNavigate:g,onBack:()=>g("PROFILE")}),a==="TEACHER_UPLOAD_FILES"&&l.jsx(LR,{onNavigate:g,onBack:()=>g("PROFILE")}),a==="QUIZZES"&&l.jsx(wR,{onBack:()=>g("HOME")}),a==="LESSONS"&&l.jsx(jR,{onBack:()=>g("HOME")}),a==="LESSONS_EXPLANATIONS"&&l.jsx(IR,{onBack:()=>g("HOME")}),a==="CONTACT_TEACHER"&&l.jsx(SR,{onBack:()=>g("HOME")})]}),l.jsx(mR,{isOpen:n,onClose:()=>s(!1)}),l.jsx("footer",{className:"bg-gray-950 border-t border-white/5 py-12 relative z-20",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 text-center",children:[l.jsxs("div",{className:"flex items-center justify-center gap-3 mb-6",children:[l.jsx("div",{className:"w-10 h-10 bg-white/5 rounded-full flex items-center justify-center border border-white/10",children:l.jsx("img",{src:"https://lh3.googleusercontent.com/d/13x8Gorb7y4H2qcQ1LVJtHY9-RoUhxg2z",alt:"Logo",className:"w-6 h-6 rounded-full"})}),l.jsx("span",{className:"text-xl font-black text-white",children:" "})]}),l.jsxs("p",{className:"text-gray-500 text-sm",children:[" ",new Date().getFullYear(),"   .     ."]})]})})]})]})}const L_=document.getElementById("root");if(!L_)throw new Error("Could not find root element to mount to");const BR=EE.createRoot(L_);BR.render(l.jsx(kv.StrictMode,{children:l.jsx(cR,{children:l.jsx(qR,{})})}));
